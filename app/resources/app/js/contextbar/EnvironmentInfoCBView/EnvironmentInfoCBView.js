"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[109,108],{"./mocks/components/InactiveMockIndicator.js":function(e,t,o){o.r(t);var s=o("../../node_modules/react/index.js"),n=o("./js/components/base/Tooltips.js");class r extends s.Component{constructor(e){super(e),this.state={tooltipVisible:!1},this.mouseEnter=this.mouseEnter.bind(this),this.mouseLeave=this.mouseLeave.bind(this)}mouseEnter(){this.setState({tooltipVisible:!0})}mouseLeave(){this.setState({tooltipVisible:!1})}render(){return s.createElement("div",{className:"inactive-mock-indicator",ref:"bullet",onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave},s.createElement(n.Tooltip,{target:this.refs.bullet,show:this.state.tooltipVisible,delay:0,placement:"bottom"},s.createElement(n.TooltipBody,null,"This mock server has been ",s.createElement("strong",null,"deactivated"),".")))}}t.default=r},"./mocks/components/InfoPaneMockListing.js":function(e,t,o){o.r(t),o.d(t,{default:function(){return M}});var s=o("../../node_modules/react/index.js"),n=o("./node_modules/lodash/lodash.js"),r=o.n(n),i=o("../../node_modules/mobx/lib/mobx.module.js"),a=o("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=o("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=o("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),m=o("./appsdk/components/link/Link.js"),d=o("./js/stores/CurrentUserStore.js"),p=o("./collaboration/workspace/model/ActiveWorkspacePermissionStore.ts"),u=o("./js/stores/StoreManager.js"),h=o("./js/stores/SyncStatusStore.js"),b=o("./js/components/base/LoadingIndicator.js"),f=o("./js/components/base/Buttons.js"),v=o("./mocks/services/MockService.js"),g=o("./mocks/services/MockNavigationService.js"),_=o("./mocks/constants/MockErrors.js"),k=o("./mocks/components/InactiveMockIndicator.js"),y=o("./collaboration/workspace/types/PermissionTypes.ts");function E(e){return s.createElement("div",{className:"info-pane__mock-servers__header-wrapper"},s.createElement("div",{className:"info-pane__mock-servers__header-wrapper__label"},"Mock servers"),"collection"===e.entity&&s.createElement(f.Button,{className:"info-pane__mock-servers__header-wrapper__create-new-mock",onClick:e.handleMockCreate,type:"tertiary",size:"small",disabled:!e.canAddMockToCollection||e.socketConnectionError,tooltip:(t=e.socketConnectionError,o=e.canAddMockToCollection,t?_.OFFLINE_ERROR:o?"Create mock server":_.PERMISSION_ERROR),tooltipPlacement:"left"},s.createElement(c.default,{name:"icon-action-add-stroke",color:"content-color-secondary",size:"small",className:"info-pane__mock-servers__header-wrapper__create-new-mock__icon"}),"New"));var t,o}class S extends s.Component{constructor(e){super(e),this.state={showAll:!1},this.toggleShowAll=this.toggleShowAll.bind(this)}toggleShowAll(){this.setState({showAll:!this.state.showAll})}render(){const e=r().get(this.props,"mocks",[]),t=e.length;return this.props.socketConnectionError?s.createElement("div",{className:"info-pane__mock-servers__error-state"},"Unable to load mock servers"):this.props.fetchingMocks?s.createElement("div",{className:"info-pane__mock-servers__loading"},s.createElement(b.default,null)):this.props.errorFetchingMocks?s.createElement(s.Fragment,null,s.createElement("div",{className:"info-pane__mock-servers__error-state"},"There was an unexpected error while loading mock servers. Please try again."),s.createElement(a.default,{onClick:this.props.handleFetchMocks,type:"secondary",size:"small",text:"Try again"})):0===t?s.createElement("div",{className:"info-pane__mock-servers__empty-state"},"collection"===this.props.entity?"There are no mock servers created for this collection.":"No mock server uses this environment."):s.createElement(s.Fragment,null,e.slice(0,this.state.showAll?t:5).map((e=>s.createElement("div",{key:e.id,className:"info-pane__mock-servers__mock-item"},s.createElement(m.default,{className:"info-pane__mock-servers__mock-item__link",to:{routeIdentifier:"mock.openWithWsSelect",routeParams:{mockId:e.id},queryParams:{}},options:{additionalContext:{origin:this.props.entity+"_info_pane"}},title:e.name},s.createElement(l.default,{type:"link-subtle",className:"info-pane__mock-servers__mock-item__link__name"},e.name)),!1===e.active&&s.createElement("div",{className:"info-pane__mock-servers__mock-item__active"},s.createElement(k.default,null))))),t>5&&(this.state.showAll?s.createElement("div",{onClick:this.toggleShowAll,className:"info-pane__mock-servers__show-all-mocks-label"},"Show less"):s.createElement("div",{onClick:this.toggleShowAll,className:"info-pane__mock-servers__show-all-mocks-label"},"Show ",t-5," more")))}}class M extends s.Component{constructor(e){super(e),this.state={mocks:[],fetchingMocks:!0,errorFetchingMocks:!1,socketConnectionError:!1},this.handleFetchMocks=this.handleFetchMocks.bind(this),this.handleMockCreate=this.handleMockCreate.bind(this),this.canAddMockToCollection=this.canAddMockToCollection.bind(this)}componentDidMount(){this.fetchMockListingDisposer=(0,i.reaction)((()=>(0,u.resolveStoreInstance)(h.default).isSocketConnected),(e=>{e?this.handleFetchMocks():this.setState({socketConnectionError:!0,fetchingMocks:!1})}),{fireImmediately:!0})}componentWillUnmount(){this.fetchMockListingDisposer=null}handleFetchMocks(){let e={};return"collection"===this.props.entity&&this.props.collectionUid?e=r().assign(e,{collection:this.props.collectionUid}):"environment"===this.props.entity&&this.props.environmentUid&&(e=r().assign(e,{environment:this.props.environmentUid})),this.setState({fetchingMocks:!0,errorFetchingMocks:!1,socketConnectionError:!1}),(0,v.getMocks)({...e,inactive:!0}).then((e=>{this.setState({mocks:e,fetchingMocks:!1,errorFetchingMocks:!1})})).catch((e=>{this.setState({mocks:[],fetchingMocks:!1,errorFetchingMocks:!0})}))}handleMockCreate(){g.default.transitionTo("build.mockCreate",{},{collection:this.props.collectionUid},{additionalContext:{origin:"collection_info_pane"}})}canAddMockToCollection(){const e=r().get(this.props,"info.collection"),t=(0,u.resolveStoreInstance)(p.default),o=t&&t.permissions;return!(0,u.resolveStoreInstance)(d.default).isLoggedIn||r().get(e,"permissions.addMock",!0)&&r().get(o,y.WORKSPACE_PERMISSIONS.ADD_MOCK_TO_WORKSPACE,!0)}render(){return s.createElement("div",{className:"info-pane__mock-servers"},s.createElement(E,{canAddMockToCollection:this.canAddMockToCollection(),entity:this.props.entity,handleMockCreate:this.handleMockCreate,socketConnectionError:this.state.socketConnectionError}),s.createElement(S,{fetchingMocks:this.state.fetchingMocks,errorFetchingMocks:this.state.errorFetchingMocks,socketConnectionError:this.state.socketConnectionError,mocks:this.state.mocks,entity:this.props.entity,handleFetchMocks:this.handleFetchMocks}))}}},"./mocks/services/MockRealtimeRequestService.js":function(e,t,o){o.r(t);var s=o("./node_modules/uuid/v4.js"),n=o.n(s),r=o("./js/modules/model-event.js"),i=o("./node_modules/rxjs/_esm5/internal/Observable.js"),a=o("./node_modules/rxjs/_esm5/internal/operators/share.js"),l=o("./node_modules/rxjs/_esm5/internal/operators/filter.js"),c=o("./node_modules/lodash/lodash.js");const m="NEXT",d="ERROR",p="COMPLETE";let u=new i.Observable((e=>{let t;if(!pm||!pm.eventBus)return void pm.logger.error("RemoteRealtimeRequestService~requestListener: Could not fetch. Missing event bus.");let o=o=>{t=o.name,t!==m&&t!==d&&t!==p||e.next(o)};return pm.windowEvents.addListener("realtime-requests",o),()=>{pm.windowEvents.removeListener("realtime-requests",o)}})).pipe((0,a.share)());t.default=function(e,t={},o,s={}){pm.eventBus.channel("realtime-requests");let a=n()();return new i.Observable((n=>{let i=!1;pm.windowEvents.emit("realtime-requests",(0,r.createEvent)("SUBSCRIBE","realtimeRequest",{id:a,subscriptionRequestObject:{subscriptionRequestUrl:e,subscriptionRequestOptions:t},unsubscriptionRequestObject:{unsubscriptionRequestUrl:o,unsubscriptionRequestOptions:s}}));let h=u.pipe((0,l.filter)((e=>c.get(e,"data.id")===a))).subscribe((e=>{e.name===m?n.next(c.get(e,"data.response")):e.name===d?n.error(new Error(c.get(e,"data.error"))):e.name===p&&(i=!0,h.unsubscribe(),n.complete())}),(e=>{n.error(e)}),(()=>{n.complete()}));return function(){i||(pm.windowEvents.emit("realtime-requests",(0,r.createEvent)("UNSUBSCRIBE","realtimeRequest",{id:a,unsubscriptionRequestObject:{unsubscriptionRequestUrl:o,unsubscriptionRequestOptions:s}})),h.unsubscribe())}}))}},"./mocks/services/MockService.js":function(e,t,o){o.r(t),o.d(t,{createMock:function(){return u},deleteMock:function(){return p},getAllRealtimeEvents:function(){return d},getMockConfigOptions:function(){return l},getMocks:function(){return c},updateMock:function(){return m}});var s=o("./node_modules/querystring-browser/querystring.js"),n=o.n(s),r=o("./js/modules/services/RemoteSyncRequestService.js"),i=o("./mocks/services/MockRealtimeRequestService.js"),a=o("./node_modules/lodash/lodash.js");function l(){return r.default.request("/ws/proxy",{method:"post",data:{method:"get",service:"mock",path:"/mocks/config"}}).then((({body:e})=>e))}function c(e={}){let t=`/mocks?${n().stringify(e)}`;return r.default.request("/ws/proxy",{method:"post",data:{service:"mock",method:"get",path:t}}).then((({body:e})=>Promise.resolve(e))).catch((({error:e})=>Promise.reject(e)))}function m(e={}){const t=`/mocks/${e.id}`,o=a.pick(e,["private","name","versionTag","environment"]);if(o.name&&(o.name=o.name.trim()),a.isUndefined(e.delay)||(o.config={delay:a.isNull(e.delay)?e.delay:{...e.delay,duration:Number(e.delay.duration)}}),!a.isUndefined(e.serverResponseId)){let t=o.config?o.config:{};o.config={...t,serverResponseId:e.serverResponseId}}if(!a.isUndefined(e.matchBody)){let t=o.config?o.config:{};o.config={...t,matchBody:e.matchBody}}if(!a.isUndefined(e.matchHeader)){let t=o.config?o.config:{};o.config={...t,matchHeader:e.matchHeader,headers:e.headers}}return r.default.request("/ws/proxy",{method:"post",data:{service:"mock",method:"put",body:o,path:t}}).then((({body:e})=>Promise.resolve(e))).catch((({error:e})=>Promise.reject(e)))}function d(e,t){if(!e&&!t)return void pm.logger.error("MockService~getAllRealtimeEvents: workspaceId or mockId not found");const o="/mocks/subscribe",s="/ws/proxy",n=a.isEmpty(e)?{mock:t}:{workspace:e},r="mock",l={method:"post",data:{body:n,path:o,service:r,method:"post"}},c={method:"post",data:{body:n,path:o,service:r,method:"delete"}};return(0,i.default)(s,l,s,c)}function p(e){if(!e)return void pm.logger.error("MockService~deleteMock: mockId not found");const t=`/mocks/${e}`;return r.default.request("/ws/proxy",{method:"post",data:{service:"mock",method:"delete",path:t}}).then((({body:e})=>Promise.resolve(e))).catch((({error:e})=>Promise.reject(e)))}function u(e,t,o=""){if(!e||!t)return void pm.logger.error("MockService~createMock: workspaceId or mockData not found");let s=`/mocks?workspace=${e}`;return t.name&&(t.name=t.name.trim()),"template"===o&&(s+="&source=template"),r.default.request("/ws/proxy",{method:"post",data:{service:"mock",method:"post",body:t,path:s}}).then((({body:e})=>Promise.resolve(e))).catch((({error:e})=>Promise.reject(e)))}},"./monitors/components/common/MonitorStatusIndicator.js":function(e,t,o){o.r(t);var s=o("../../node_modules/react/index.js"),n=o("./node_modules/classnames/index.js"),r=o.n(n),i=o("./js/components/base/Tooltips.js");class a extends s.Component{constructor(e){super(e),this.state={tooltipVisible:!1},this.mouseEnter=this.mouseEnter.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.getStatus=this.getStatus.bind(this)}mouseEnter(){this.setState({tooltipVisible:!0})}mouseLeave(){this.setState({tooltipVisible:!1})}getClasses(){return r()({"monitor-list-item-health-status":!0,[this.getStatus()]:!!this.getStatus(),[this.props.className]:this.props.className})}getStatus(){return this.props.isPaused?"paused":this.props.isHealthy?"healthy":!1===this.props.isHealthy?"unhealthy":!!this.props.status&&this.props.status}getUptimeStatus(){return this.props.isPaused?s.createElement(i.TooltipBody,null,"This ",this.props.entityType," is ",s.createElement("strong",null,"paused"),"."):!this.props.isPaused&&"up"==this.props.status||"down"==this.props.status?s.createElement(i.TooltipBody,null,"Service is ",s.createElement("strong",null,this.props.status),"."):!this.props.isPaused&&"unknown"==this.props.status&&s.createElement(i.TooltipBody,null,"Service status is ",s.createElement("strong",null,this.props.status),".")}render(){return this.getStatus()?s.createElement("div",{className:this.getClasses(),ref:"bullet",onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave},s.createElement(i.Tooltip,{target:this.refs.bullet,show:this.state.tooltipVisible,delay:"0",className:"monitor-list-item-health-tooltip",placement:this.props.placement||"top"},"uptime"===this.props.type?this.getUptimeStatus():s.createElement(i.TooltipBody,null,"This ",this.props.entityType," is ",s.createElement("strong",null,this.getStatus()),"."))):null}}t.default=a},"./monitors/components/context-bar/MonitorContextBarList.js":function(e,t,o){o.r(t),o.d(t,{MonitorContextBarList:function(){return M}});var s,n=o("../../node_modules/react/index.js"),r=o("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=o("./monitors/stores/domain/MasterMonitorStore.js"),a=o("./monitors/services/UrlService.js"),l=o("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=o("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=o("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),d=o("./appsdk/components/link/Link.js"),p=o("./js/components/base/LoadingIndicator.js"),u=o("./monitors/components/common/MonitorStatusIndicator.js"),h=o("./collaboration/workspace/model/ActiveWorkspacePermissionStore.ts"),b=o("./js/stores/CurrentUserStore.js"),f=o("./js/stores/StoreManager.js"),v=o("./js/stores/ActiveWorkspaceStore.js"),g=o("./js/components/base/Buttons.js"),_=o("./monitors/utils/messages/index.js"),k=o("./runtime-repl/_common/ModelConstant.js"),y=o("./node_modules/lodash/lodash.js");function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},E.apply(this,arguments)}function S(e){return n.createElement(d.default,{className:"monitor-context-bar-list__item",to:{routeIdentifier:"monitor.openWithWsSelect",routeParams:{monitorPath:a.default.getMonitorPath({monitorName:e.name,monitorId:e.id})}}},n.createElement(l.default,{type:"link-subtle",className:"monitor-context-bar-list__item-label"},e.name),n.createElement("div",{className:"monitor-context-bar-list__item-icon"},n.createElement(u.default,{entityType:"monitor",isHealthy:e._healthy,isPaused:!e.active})))}let M=(0,r.observer)(s=class extends n.Component{constructor(e){super(e),this.masterMonitorStore=new i.default,this.entityId=e.id,this.state={showAllMonitors:!1,loading:!1,error:!1},this.toggleShowAllMonitors=this.toggleShowAllMonitors.bind(this),this.createNewMonitor=this.createNewMonitor.bind(this),this.activeWorkspaceStore=(0,f.resolveStoreInstance)(v.default),this.currentUserStore=(0,f.resolveStoreInstance)(b.default),this.fetchEmptyState=this.fetchEmptyState.bind(this),this.getEntityIdWithoutUserId=this.getEntityIdWithoutUserId.bind(this),this.canCreateMonitor=this.canCreateMonitor.bind(this),this.loadMonitors=this.loadMonitors.bind(this),this.fetchErrorState=this.fetchErrorState.bind(this),this.getTooltipMessage=this.getTooltipMessage.bind(this)}toggleShowAllMonitors(){this.setState({showAllMonitors:!this.state.showAllMonitors})}createNewMonitor(){if(!this.currentUserStore.isLoggedIn)return pm.mediator.trigger("showSignInModal",{title:_.SIGN_IN_MESSAGE.title,subtitle:_.SIGN_IN_MESSAGE.subTitle,origin:`${this.props.entity}_context_bar_monitor_list`});a.default.openCreateMonitorUrl(this.entityId)}loadMonitors(){this.setState({loading:!0}),this.masterMonitorStore.loadJobTemplatesByEntity({entity:this.props.entity,entityId:this.props.id}).then((()=>this.setState({...this.state,loading:!1,error:!1}))).catch((()=>this.setState({error:!0}))).finally((()=>this.setState({loading:!1})))}componentDidMount(){this.loadMonitors()}fetchEmptyState(e){const t="environment",o="collection";return e===t?n.createElement("span",{className:"monitor-context-bar-list__empty-state"},`${_.EMPTY_STATE.noEnvironment} ${t}.`):n.createElement("span",{className:"monitor-context-bar-list__empty-state"},`${_.EMPTY_STATE.noCollection} ${o}.`)}fetchErrorState(){return n.createElement("div",{className:"monitor-context-bar-list__error-state"},n.createElement("span",{className:"monitor-context-bar-list__error-state-message"},_.MONITOR_ACTION_ERROR.load),n.createElement(c.default,{onClick:this.loadMonitors,type:"secondary",size:"small",text:_.TRY_AGAIN,className:"monitor-context-bar-list__error-state-retry-btn"}))}getEntityIdWithoutUserId(){let e=y.get(this,"props.id","").indexOf("-");if(-1!==e)return this.props.id.substr(e+1)}canCreateMonitor(){const e=(0,f.resolveStoreInstance)(h.default).permissions;if(this.props.entity!==k.COLLECTION)return!0;const t=this.props.info.collection;return!this.currentUserStore.isLoggedIn||e&&e.ADD_MONITOR_TO_WORKSPACE&&y.get(t,"permissions.addMonitor",!0)}getTooltipMessage(){return this.masterMonitorStore.isOffline?_.TOOLTIP_TEXT.isOffline:this.canCreateMonitor()?_.MONITOR_ACTION.create:_.PERMISSION_TEXT.WORKSPACE_VIEWER_DISABLED}render(){const e=this.masterMonitorStore.getJobTemplatesByEntity({entity:this.props.entity,entityId:this.props.id}),t=this.state.showAllMonitors?e:e.slice(0,5);return n.createElement("div",{className:"monitor-context-bar-list"},n.createElement("div",{className:"monitor-context-bar-list__label-wrapper"},n.createElement("span",{className:"monitor-context-bar-list__label-wrapper-label"},"Monitors"),this.props.showCreateMonitor?n.createElement(g.Button,{onClick:this.createNewMonitor,type:"tertiary",size:"small",disabled:!this.canCreateMonitor()||this.masterMonitorStore.isOffline,className:"monitor-context-bar-list__label-wrapper-create-new-monitor",tooltip:this.getTooltipMessage(),tooltipPlacement:"left"},n.createElement(m.default,{name:"icon-action-add-stroke",color:"content-color-secondary",size:"small",className:"monitor-context-bar-list__label-wrapper-create-new-monitor-icon"}),"New"):null),this.state.loading&&!t.length&&n.createElement("div",{className:"monitor-context-bar-list__loading"},n.createElement(p.default,null)),this.state.error&&!this.state.loading&&this.fetchErrorState(),!this.state.error&&!this.state.loading&&0===t.length&&this.fetchEmptyState(this.props.entity),n.createElement("div",{className:"monitor-context-bar-list__monitor-list"},t.map((e=>n.createElement(S,E({key:e.id},e,{openMonitor:this.openMonitor}))))),e.length>5?this.state.showAllMonitors?n.createElement("span",{onClick:this.toggleShowAllMonitors,className:"monitor-context-bar-list__show-all-monitors"},_.MONITOR_ACTION.showLess):n.createElement("span",{onClick:this.toggleShowAllMonitors,className:"monitor-context-bar-list__show-all-monitors"},"Show ",e.length-5," more"):null)}})||s},"./runtime-repl/_common/components/VariableSyncDisableImpactInfoBar.js":function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var s,n=o("../../node_modules/react/index.js"),r=o("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=o("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),a=o("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js");const l=o("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default.div`
  padding-top: var(--spacing-xl);
  padding-right: var(--spacing-xl);
`;let c=(0,r.observer)(s=class extends n.Component{constructor(e){super(e),this.state={showAlert:pm.settings.getSetting("showVariableDisableSyncImpactInfo")},this.handleSettingUpdate=this.handleSettingUpdate.bind(this)}componentDidMount(){pm.settings.on("setSetting:showVariableDisableSyncImpactInfo",this.handleSettingUpdate)}componentWillUnmount(){pm.settings.off("setSetting:showVariableDisableSyncImpactInfo",this.handleSettingUpdate)}handleSettingUpdate(){this.setState({showAlert:pm.settings.getSetting("showVariableDisableSyncImpactInfo")})}getDescription(){return this.props.disableAllVariablesSync?"Mocks, Monitors and Newman will not be able to use values from any variables as variable syncing is disabled by team admin.":"Mocks, Monitors and Newman will not be able to use values from secret variables as syncing for secret variables is disabled by team admin."}render(){return n.createElement(n.Fragment,null,this.state.showAlert&&n.createElement(l,null,n.createElement(i.default,{status:"neutral"},n.createElement(a.default,{type:"body-medium",color:"content-color-primary"},this.getDescription()))))}})||s},"./runtime-repl/environment/contextbar/EnvironmentInfoCBController.js":function(e,t,o){o.r(t),o.d(t,{default:function(){return p}});var s,n,r,i,a=o("../../node_modules/mobx/lib/mobx.module.js"),l=o("./runtime-repl/environment/_api/EnvironmentStoreV2.js");function c(e,t,o,s){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(s):void 0})}function m(e,t,o,s,n){var r={};return Object.keys(s).forEach((function(e){r[e]=s[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=o.slice().reverse().reduce((function(o,s){return s(e,t,o)||o}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}let d=(n=m((s=class{constructor(){c(this,"id",n,this),c(this,"createdAt",r,this),c(this,"owner",i,this)}update(e){e&&(e.id&&(this.id=e.id),e.createdAt&&(this.createdAt=e.createdAt),e.owner&&(this.owner=e.owner))}}).prototype,"id",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=m(s.prototype,"createdAt",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=m(s.prototype,"owner",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(s.prototype,"update",[a.action],Object.getOwnPropertyDescriptor(s.prototype,"update"),s.prototype),s);class p{constructor(){this.info=new d}async didCreate(e){const{uid:t}=e;this.info.update({id:t}),this.environment=await(0,l.subscribeOne)(t),this.environment&&this.info.update({id:t,createdAt:this.environment.createdAt,owner:this.environment.owner})}willDestroy(){this.environment&&this.environment.unsubscribe&&this.environment.unsubscribe()}}},"./runtime-repl/environment/contextbar/EnvironmentInfoCBView/EnvironmentInfoCBView.js":function(e,t,o){o.r(t),o.d(t,{default:function(){return h}});var s=o("../../node_modules/react/index.js"),n=o("./node_modules/prop-types/index.js"),r=o.n(n),i=o("./runtime-repl/_common/variable-sync-settings/Store/VariableSyncSettingsStore.js"),a=o("./runtime-repl/_common/components/VariableSyncDisableImpactInfoBar.js"),l=o("./runtime-repl/_common/components/molecule.js"),c=o("./appsdk/contextbar/ContextBarViewHeader.js"),m=o("./monitors/components/context-bar/MonitorContextBarList.js"),d=o("./runtime-repl/environment/contextbar/EnvironmentInfoCBController.js"),p=o("./mocks/components/InfoPaneMockListing.js"),u=o("./js/services/NavigationService.js");function h(e){const{controller:t}=e,{info:o={}}=t,{disableSecretVariablesSync:n,disableAllVariablesSync:r}=i.default.getSettingsSync(),{apiId:d}=u.default.getCurrentRouteParams();return s.createElement("div",{className:"environment-info-cb"},s.createElement(c.ContextBarViewHeader,{title:"Environment details",onClose:e.onClose}),s.createElement("div",{className:"environment-info-cb__container"},s.createElement(l.EntityMetaInfoView,{userFriendlyEntityName:"environment",info:o}),!d&&s.createElement(p.default,{entity:"environment",environmentUid:o.id}),!d&&s.createElement(m.MonitorContextBarList,{entity:"environment",id:o.id}),s.createElement(a.default,{disableSecretVariablesSync:n,disableAllVariablesSync:r})))}h.propTypes={controller:r().instanceOf(d.default).isRequired,onClose:r().func.isRequired}}}]);