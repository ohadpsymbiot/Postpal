(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[20],{"../../node_modules/@postman/aether/esmLib/src/components/Button/SplitButton.js":function(e,t,n){"use strict";n.r(t);var s=n("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../../node_modules/react/index.js"),o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/prop-types/index.js"),a=n.n(r),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/Icons.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}var p=o.default.div.withConfig({displayName:"SplitButton__StyledSplitButton",componentId:"sc-1uqtf3s-0"})(["width:max-content;box-sizing:border-box;cursor:pointer;user-select:none;display:inline-flex;align-items:center;border-radius:",";height:",";",";& .aether-split-button__primary-btn:disabled{border-top-right-radius:0;border-bottom-right-radius:0;}& .aether-split-button__secondary-btn:disabled{border-top-left-radius:0;border-bottom-left-radius:0;}&:hover{& .aether-split-button__splitter{border-left-color:transparent;}}&:active{& .aether-split-button__splitter{border-left-color:transparent;}}"],(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["size-m"]}),(function(e){return function(e,t){switch(e){case"primary":return"\n        background-color: ".concat(t["button-primary-background-color"],";\n\n        & .aether-split-button__splitter {\n          border-left-color: ").concat(t["splitbutton-primary-splitter-color"],";\n        }\n      ");case"secondary":return"\n        background-color: ".concat(t["button-secondary-background-color"],";\n\n        & .aether-split-button__splitter {\n          border-left-color: ").concat(t["splitbutton-secondary-splitter-color"],";\n        }\n      ");case"tertiary":return"\n        background-color: ".concat(t["button-tertiary-background-color"],";\n\n        & .aether-split-button__splitter {\n          border-left-color: ").concat(t["splitbutton-tertiary-splitter-color"],";\n        }\n      ");default:return null}}(e.type,e.theme)})),h=o.default.div.withConfig({displayName:"SplitButton__StyledButtonSplitter",componentId:"sc-1uqtf3s-1"})(["border-width:",";border-left-style:",";height:20px;"],(function(e){return"".concat(e.theme["border-width-default"])}),(function(e){return"".concat(e.theme["border-style-solid"])}));function v(e){var t=(0,i.useRef)(),n=e.text,o=e.onClick,r=e.children,a=e.type,c=e.icon,v=e.tooltip,b=e.minWidth,f=e.className,g=e.isLoading,E=e.isDisabled,y=e.secondaryButton,S=e.autoFocus,C=e["data-testid"],j=e["data-click"],_=i.Children.map(r,(function(e){return i.isValidElement(e)&&e.type===d.default?i.cloneElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({placement:"bottom-end"},!y&&{triggerRef:t})):e}));return i.createElement(p,{type:a,className:f,"data-aether-id":"aether-splitButton","data-testid":C,"data-click":j},i.createElement(u.default,{type:a,text:n,icon:c,isLoading:g,isDisabled:E,minWidth:b,onClick:o,tooltip:v,className:"aether-split-button__primary-btn",autoFocus:S}),!E&&!g&&i.createElement(h,{className:"aether-split-button__splitter"}),function(e,t,n){if(e&&e.type===u.default){var s=e.props.icon;return i.cloneElement(e,{type:t,icon:s||i.createElement(l.default,null),className:"aether-split-button__secondary-btn"})}return i.createElement(u.default,{type:t,icon:i.createElement(l.default,null),ref:n,className:"aether-split-button__secondary-btn"})}(y,a,t),_)}v.displayName="SplitButton",t.default=v,v.defaultProps={text:"",type:"secondary",icon:null,tooltip:"",minWidth:"",className:"",isLoading:!1,isDisabled:!1,secondaryButton:null,autoFocus:!1,"data-testid":"aether-split-button","data-click":""},v.propTypes={text:a().string,onClick:a().func.isRequired,children:a().node.isRequired,type:a().oneOf(["primary","secondary","tertiary"]),icon:a().oneOfType([a().node,a().oneOf(c.LIST_OF_ICONS)]),tooltip:a().oneOfType([a().string,a().object]),minWidth:a().string,className:a().string,isLoading:a().bool,isDisabled:a().bool,secondaryButton:a().node,autoFocus:a().bool,"data-testid":a().string,"data-click":a().string}},"../../node_modules/node-polyfill-webpack-plugin/node_modules/timers-browserify/main.js":function(e,t,n){var s=void 0!==n.g&&n.g||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,s,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,s,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(s,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("../../node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==n.g&&n.g.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==n.g&&n.g.clearImmediate||this&&this.clearImmediate},"../../node_modules/setimmediate/setImmediate.js":function(e,t,n){var s=n("../../node_modules/process/browser.js");!function(e,t){"use strict";if(!e.setImmediate){var n,i,o,r,a,l=1,c={},d=!1,u=e.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(e);m=m&&m.setTimeout?m:e,"[object process]"==={}.toString.call(e.process)?n=function(e){s.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){o.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(r="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&h(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(r+t,"*")}),m.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),s=0;s<t.length;s++)t[s]=arguments[s+1];var i={callback:e,args:t};return c[l]=i,n(l),l++},m.clearImmediate=p}function p(e){delete c[e]}function h(e){if(d)setTimeout(h,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),d=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/APISourceControlContextBarIcon.js":function(e,t,n){"use strict";n.r(t);var s=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),o=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),l=n.n(a),c=n("./api-dev/navigation/constants.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),u=n("./api-dev/stores/api-repository/PollingRemoteHeadDetailsStore.js"),m=n("./js/stores/StoreManager.js"),p=n("./js/services/NavigationService.js"),h=n("./api-dev/interfaces/APIInterface.js"),v=n("./node_modules/lodash/lodash.js");const b="contextBar",f=s.forwardRef((({handleShowTooltip:e,handleHideTooltip:t,apiRepositoryStore:n},i)=>{var o;const r=v.get(n,"sourceControlStore"),a=v.get(r,"shouldShowContextBarIconIndicator",!1),f=p.default.getCurrentURL(),g=null===p.default||void 0===p.default||null===(o=p.default.getCurrentRouteParams())||void 0===o?void 0:o.apiId;return(0,s.useEffect)((()=>{const e=(0,m.resolveStoreInstance)(u.default);return async function(){const t=g&&await(0,h.isAPIGitLinked)(g),n=g&&await(0,h.hasAPIMigrated)(g);g&&t&&n&&e.startPolling(g,b)}(),()=>{e.stopPolling(g,b)}}),[f]),s.createElement("div",{className:`tabs__${c.SOURCE_CONTROL_NAV} icon-container`,ref:i,onMouseEnter:e,onMouseLeave:t},s.createElement(d.default,{name:"icon-descriptive-branch-stroke",className:(E=a,l()({"api-source-control__context-bar-icon--unread":E}))}));var E}));f.propTypes={handleShowTooltip:o().func.isRequired,handleHideTooltip:o().func.isRequired,apiRepositoryStore:o().object.isRequired},t.default=(0,r.observer)(f)},"./api-dev/stores/api-repository/PollingRemoteHeadDetailsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var s,i,o,r,a,l=n("./js/stores/StoreManager.js"),c=n("./api-dev/stores/APIListStore.js"),d=n("../../node_modules/node-polyfill-webpack-plugin/node_modules/timers-browserify/main.js"),u=n("./onboarding/src/common/LaunchDarkly.js"),m=n("../../node_modules/mobx/lib/mobx.module.js"),p=n("./node_modules/lodash/lodash.js");function h(e,t,n,s){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(s):void 0})}function v(e,t,n,s,i){var o={};return Object.keys(s).forEach((function(e){o[e]=s[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,s){return s(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const b="store";let f=(i=v((s=class{constructor(){h(this,"activePollingAPI",i,this),h(this,"timerObject",o,this),h(this,"apiSourceMap",r,this),h(this,"startPollingForAPI",a,this)}setActivePollingAPI(e){this.activePollingAPI=e}setTimerObject(e){this.timerObject=e}setSource(e,t){const n=this.apiSourceMap[e]||[];p.includes(n,t)||(n.push(t),this.apiSourceMap[e]=n)}clearSource(e,t){const n=this.apiSourceMap[e]||[];-1!==n.indexOf(t)&&(this.apiSourceMap[e]=p.filter(n,(e=>e!==t)))}clearAPIAndSources(e){delete this.apiSourceMap[e]}clear(){this.setTimerObject(null),this.setActivePollingAPI(null)}stopPolling(e,t){if(e&&t)if(this.activePollingAPI===e){const n=this.apiSourceMap[e];t===b||p.isEmpty(n)||1===p.size(n)&&n[0]===t?((0,d.clearInterval)(this.timerObject),this.clear(),this.clearAPIAndSources(e),pm.logger.info(`APIPollingStore~stopPolling: Stopped Polling for ${e}`)):this.clearSource(e,t)}else this.clearSource(e,t)}startPolling(e,t){e&&t&&(this.setSource(e,t),e!==this.activePollingAPI&&this.startPollingForAPI(e,t))}}).prototype,"activePollingAPI",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=v(s.prototype,"timerObject",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),r=v(s.prototype,"apiSourceMap",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),v(s.prototype,"setActivePollingAPI",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"setActivePollingAPI"),s.prototype),v(s.prototype,"setTimerObject",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"setTimerObject"),s.prototype),v(s.prototype,"setSource",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"setSource"),s.prototype),v(s.prototype,"clearSource",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"clearSource"),s.prototype),v(s.prototype,"clearAPIAndSources",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"clearAPIAndSources"),s.prototype),v(s.prototype,"clear",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"clear"),s.prototype),v(s.prototype,"stopPolling",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"stopPolling"),s.prototype),a=v(s.prototype,"startPollingForAPI",[m.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.debounce((e=>{this.activePollingAPI&&this.stopPolling(this.activePollingAPI,b);const t=u.launchDarkly.getFlag("api-git-sync-status-pull-delay",0);if(0!==t){var n;this.setActivePollingAPI(e);const s=(0,l.resolveStoreInstance)(c.default).find(this.activePollingAPI),i=null===(n=p.head(s.childEntities.values))||void 0===n?void 0:n.id,o=s.childEntities.find(i);this.apiRepositoryStore=p.get(o,"apiRepositoryStore"),pm.logger.info(`APIPollingStore~startPolling: Started Polling for ${e}`),this.apiRepositoryStore.sourceControlStore.init();const r=(0,d.setInterval)((()=>{p.isFunction(this.apiRepositoryStore.sourceControlStore.getLatestRemoteHead)&&this.apiRepositoryStore.sourceControlStore.getLatestRemoteHead()}),t);this.setTimerObject(r)}}),2e3)}}),v(s.prototype,"startPolling",[m.action],Object.getOwnPropertyDescriptor(s.prototype,"startPolling"),s.prototype),s)},"./appsdk/contextbar/ContextBar.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ContextBarPane:function(){return S}});var s,i=n("../../node_modules/react/index.js"),o=n("./appsdk/contextbar/ContextBarService.js"),r=n("./appsdk/contextbar/ContextBarHeader.js"),a=n("./js/constants/Panes.js"),l=n("./js/components/base/Panes.js"),c=n("./node_modules/classnames/index.js"),d=n.n(c),u=n("./js/components/empty-states/AetherCrashHandler.js"),m=n("./js/components/base/XPaths/XPath.js"),p=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),h=n("./js/constants/AppSettingsDefaults.js"),v=n("../../node_modules/mobx/lib/mobx.module.js"),b=n("./appsdk/contextbar/ContextBarUtil.js"),f=n("./js/stores/StoreManager.js"),g=n("./js/stores/ActiveWorkspaceSessionStore.js"),E=n("./node_modules/lodash/lodash.js");const y="auto";let S=(0,p.observer)(s=class extends l.Pane{constructor(e){super(e),this.contextBarService=new o.ContextBarService,this.handleSelect=this.handleSelect.bind(this),this.handleContextChange=this.handleContextChange.bind(this),this.handleClose=this.handleClose.bind(this),this.state={...this.state,collapsedX:!0},this.isOpen=!1}getContextForUrlIdentifier(e){return this.props.allowedContexts.find((t=>this.contextBarService.getConfig(t).urlIdentifier===e))}getUrlIdentifierForContext(e){return this.contextBarService.getConfig(e).urlIdentifier}getDimensions(e){return super.getDimensions({...e,width:{collapsedByDefault:true,shouldResistResize:true,default:440,collapsed:48,uncollapsed:440,min:h.default.ui.CONTEXT_BAR_MIN_WIDTH,max:y}})}componentDidMount(){let e=this.getContextForUrlIdentifier(this.contextBarService.activeContextUrlIdentifier)||this.props.allowedContexts&&this.props.allowedContexts[0];this.lastActive=e;let t=E.get(this.props,"collapsedByDefault",!0),n=(0,f.resolveStoreInstance)(g.default).activeEditor;!t&&this.props.editorId===n&&(0,b.updateContextQueryParams)(this.getUrlIdentifierForContext(e)),this.activeContextAutoRun=(0,v.autorun)((()=>{const e=this.contextBarService.getContextBarQueryParam(this.props.editorId);let t=this.getContextForUrlIdentifier(e);t!==this.state.activeContext&&this.setContext(t,!!t)}))}componentWillUnmount(){this.props.allowedContexts.forEach((e=>{this.contextBarService.willDestroy(e)})),this.activeContextAutoRun&&this.activeContextAutoRun()}componentDidUpdate(){this.contextBarService.pruneControllers(this.props.allowedContexts),this.isOpen&&this.state.collapsedX?(this.isOpen=!this.state.collapsedX,(0,b.removeContextQueryParams)()):this.isOpen||this.state.collapsedX||(this.isOpen=!this.state.collapsedX,this.state.activeContext||(0,b.updateContextQueryParams)(this.getUrlIdentifierForContext(this.lastActive)))}handleSelect(e){this.setContext(e,!0)}handleContextChange(e){(0,b.updateContextQueryParams)(this.getUrlIdentifierForContext(e))}setContext(e,t=!1){let n=this.state.activeContext;return new Promise((s=>{this.setState({activeContext:e},(()=>Promise.all([this.contextBarService.getControllerFor(e,this.props.contextData),this.contextBarService.getViewFor(e)]).then((([t,i])=>{e===this.state.activeContext&&this.setState({activeController:t,ActiveView:i},(()=>(this.contextBarService.didDeactivate(n),this.contextBarService.didActivate(this.state.activeContext),s())))})).then((()=>{this.state.activeContext&&(this.lastActive=this.state.activeContext),t?this.unCollapse("x"):this.collapse("x")}))))}))}handleClose(){this.collapse("x"),this.props.onClose&&this.props.onClose()}render(){let e=this.state.ActiveView,t=this.props.allowedContexts||this.props.visibleContexts,n=this.contextBarService.getConfig(this.state.activeContext),s=this.state.activeController;const o=d()({pane:!0,resizableX:this.isResizable("x"),resizableY:this.isResizable("y"),collapsedX:this.state.collapsedX,collapsedY:this.state.collapsedY},"right-context-bar"),c={height:this.state.height,width:this.state.width,...this.props.style||{}};return i.createElement(m.default,{identifier:"contextBar"},i.createElement("div",{className:o,style:c},i.createElement(u.default,null,i.createElement(l.PaneHeader,{defaultLayout:a.PANE_LAYOUT_VERTICAL,verticalComponent:i.createElement(r.ContextBarHeader,{visibleContexts:t,onSelect:this.handleContextChange,contextBarService:this.contextBarService,activeContext:this.state.activeContext,width:this.state.width,contextData:this.props.contextData}),isCollapsedX:this.state.collapsedX,isCollapsedY:this.state.collapsedY,onCollapseToggle:this.handleCollapseToggle}),i.createElement(l.PaneContent,{isCollapsedX:this.state.collapsedX,isCollapsedY:this.state.collapsedY},this.state.width?i.createElement("div",{className:"right-context-bar-content-container"},e&&n&&i.createElement(u.default,{onClose:this.handleClose},i.createElement(e,{contextData:this.props.contextData,title:n.title,onClose:this.handleClose,controller:s,editorId:this.props.editorId}))):null))))}})||s;S.defaultProps={width:{collapsedByDefault:true,shouldResistResize:true,default:440,collapsed:48,uncollapsed:440,min:350,max:y}}},"./appsdk/contextbar/ContextBarHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ContextBarHeader:function(){return v}});var s,i=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=n("./js/components/base/Tooltips.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./js/components/base/XPaths/XPath.js"),u=n("./growth/foundation/public/amplitude/AmplitudeService.js"),m=n("./api-dev/navigation/constants.js"),p=n("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/APISourceControlContextBarIcon.js"),h=n("./node_modules/lodash/lodash.js");let v=(0,a.observer)(s=class extends i.Component{constructor(e){super(e),this.state={},this.tooltipTargets={},this.handleShowTooltip=this.handleShowTooltip.bind(this),this.handleHideTooltip=this.handleHideTooltip.bind(this)}componentWillUnmount(){clearTimeout(this.titleTooltip)}handleShowTooltip(e){this.titleTooltip=setTimeout((()=>{this.setState({[e]:!0})}),500)}handleHideTooltip(e){clearTimeout(this.titleTooltip),this.state[e]&&this.setState({[e]:!1})}render(){let e=this.props.visibleContexts;const t=e=>e.name===m.SOURCE_CONTROL_NAV?i.createElement(p.default,{ref:t=>{this.tooltipTargets[e.name]=t},apiRepositoryStore:h.get(this.props,"contextData.apiRepositoryStore")||h.get(this.props,"contextData.model.apiRepositoryStore"),handleShowTooltip:this.handleShowTooltip.bind(null,e.name),handleHideTooltip:this.handleHideTooltip.bind(null,e.name)}):i.createElement("div",{className:`tabs__${e.name} icon-container`,ref:t=>{this.tooltipTargets[e.name]=t},onMouseEnter:this.handleShowTooltip.bind(null,e.name),onMouseLeave:this.handleHideTooltip.bind(null,e.name)},i.createElement(o.default,{name:e.icon}));return i.createElement("div",{className:"right-context-bar-options"},i.createElement("ul",null,e.map((e=>{let n=this.props.contextBarService.getConfig(e);return n?i.createElement(d.default,{key:n.name,identifier:n.name},i.createElement("li",{key:n.name,onClick:()=>{this.props.onSelect(n.name),u.Ampli.contextBarListItemClicked({item_name:n.name,...(0,u.getAmpliCTAProperties)({ctaType:"other"})})},className:c()({active:n.name===this.props.activeContext&&this.props.width>300})},i.createElement(i.Fragment,{key:n.name},t(n),i.createElement(r.Tooltip,{show:n&&this.state[n.name],target:n&&this.tooltipTargets[n.name],placement:"left",immediate:!0},i.createElement(r.TooltipBody,null,n&&n.title))))):null}))))}})||s},"./appsdk/contextbar/ContextBarService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ContextBarService:function(){return m}});var s,i=n("./appsdk/contextbar/ContextBarRegistry.js"),o=n("./js/services/NavigationService.js"),r=n("../../node_modules/mobx/lib/mobx.module.js"),a=n("./js/utils/NavigationUtil.js"),l=n("./appsdk/contextbar/ContextBarUtil.js"),c=(n("./js/containers/scratchpad/ContextBarScratchPadSignInPromptContainer.js"),n("./appsdk/workbench/WorkbenchService.js")),d=n("./node_modules/lodash/lodash.js"),u=n("../../node_modules/console-browserify/index.js");let m=(p=(s=class{constructor(){this._contextBarRegistry=i.default,this._controllerCache=new Map}get activeContextUrlIdentifier(){let e=o.default.currentURL.get(),{queryString:t}=(0,a.getUrlParts)(e);const n=(0,a._getQueryStringParams)(t);return n&&n[l.CONTEXT_BAR_QUERY_STRING_KEY]?n[l.CONTEXT_BAR_QUERY_STRING_KEY]:null}getContextBarQueryParam(e){return c.default.getTabController(e).contextBarQueryParam}pruneControllers(e){let t=new Set(e);for(let e of this._controllerCache.keys())t.has(e)||(this.willDestroy(e),this._controllerCache.delete(e))}getConfig(e){return this._contextBarRegistry._store.get(e)}getControllerFor(e,t){if(this._controllerCache.has(e))return this._controllerCache.get(e);let n=this.getConfig(e);if(!n)return;let s=n.getController;return s&&d.isFunction(s)?s().then((n=>{let s=new(0,n.default);this._controllerCache.set(e,s);try{s.didCreate&&s.didCreate(t)}catch(t){u.warn("ContextBarService: There was an error in the didCreate lifecycle of "+e)}return s})):void 0}getViewFor(e){let t=this.getConfig(e);return t&&t.getView().then((e=>e.default))}didActivate(e){this._triggerLifecycleMethod("didActivate",e)}didDeactivate(e){this._triggerLifecycleMethod("didDeactivate",e)}willDestroy(e){this._triggerLifecycleMethod("willDestroy",e)}_triggerLifecycleMethod(e,t){let n=this._controllerCache.get(t);if(n)try{n[e]&&n[e]()}catch(n){u.warn(`ContextBarService: There was an error in the ${e} lifecycle of ${t}`)}}}).prototype,h="activeContextUrlIdentifier",v=[r.computed],b=Object.getOwnPropertyDescriptor(s.prototype,"activeContextUrlIdentifier"),f=s.prototype,g={},Object.keys(b).forEach((function(e){g[e]=b[e]})),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=v.slice().reverse().reduce((function(e,t){return t(p,h,e)||e}),g),f&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(f):void 0,g.initializer=void 0),void 0===g.initializer&&(Object.defineProperty(p,h,g),g=null),s);var p,h,v,b,f,g},"./js/components/base/WarningButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n("../../node_modules/react/index.js"),i=n("./js/components/base/Tooltips.js"),o=n("./node_modules/prop-types/index.js"),r=n.n(o),a=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js");class l extends s.Component{constructor(e){super(e),this.state={isTooltipVisible:!1},this.showTooltip=this.showTooltip.bind(this),this.handleTooltipClose=this.handleTooltipClose.bind(this)}showTooltip(){this.setState({isTooltipVisible:!0})}handleTooltipClose(){this.state.isTooltipVisible&&this.setState({isTooltipVisible:!1})}render(){return s.createElement(s.Fragment,null,s.createElement("div",{ref:"tooltipTarget",onClick:this.showTooltip,className:"warning-button",onMouseOver:this.props.showTooltipOnHover&&this.showTooltip,onMouseLeave:this.props.showTooltipOnHover&&this.handleTooltipClose},s.createElement(a.default,{name:"icon-state-warning-stroke",size:"small",className:"warning-icon"})),s.createElement(i.Tooltip,{show:this.state.isTooltipVisible,target:this.refs.tooltipTarget,placement:this.props.tooltipPlacement,onClose:this.handleTooltipClose,closeOnClickOutside:!0,immediate:!0},s.createElement(i.TooltipBody,null,this.props.tooltip)))}}l.propTypes={tooltip:r().node,showTooltipOnHover:r().bool},l.defaultProps={tooltip:"Here is warning",tooltipPlacement:"right",showTooltipOnHover:!1}},"./js/components/save-request-button/SaveRequestButton.js":function(e,t,n){"use strict";n.r(t);var s=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),o=n.n(i),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/SplitButton.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-save-stroke.js"),m=n("./js/controllers/ShortcutsList.js");const p=({handleSave:e,handleSaveAs:t,isSaveDisabled:n,isSaveAsEnabled:i,tooltipSaveAS:o,tooltipSave:p})=>{const h=s.useRef(null),[v,b]=s.useState(!1);return s.createElement(r.default,{type:"tertiary",text:"Save",onClick:e,icon:s.createElement(u.default,null),isDisabled:n,tooltip:p,secondaryButton:i?s.createElement(a.default,{ref:h,onClick:()=>{b(!v)}}):s.createElement(a.default,{isDisabled:!i,tooltip:o,ref:h})},s.createElement(l.default,{padding:"spacing-s",triggerRef:h,isOpen:v,onClickOutside:()=>{b(!1)}},s.createElement(c.default,{onClick:()=>{b(!1),t()},shortcutLabel:(0,m.getShortcutByName)("saveCurrentRequestAs")},s.createElement(d.default,{color:"content-color-secondary"},"Save As..."))))};t.default=p,p.propTypes={handleSave:o().func.isRequired,handleSaveAs:o().func.isRequired,isSaveDisabled:o().bool,isSaveAsEnabled:o().bool,tooltipSaveAS:o().oneOfType[(o().node,o().string)],tooltipSave:o().oneOfType[(o().node,o().string)]}},"./js/containers/scratchpad/ContextBarScratchPadSignInPromptContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var s=n("../../node_modules/react/index.js"),i=n("./appsdk/contextbar/ContextBarViewHeader.js"),o=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=n("./js/components/base/Text.js"),a=n("./js/components/base/Buttons.js"),l=n("./js/services/ScratchpadService.js");class c extends s.Component{handleWorkspaceSwitch(){l.default.switchToWorkspace()}render(){return s.createElement("div",null,s.createElement(i.ContextBarViewHeader,{title:this.props.title,onClose:this.props.onClose}),s.createElement("div",{className:"contextbar-signin-prompt-state"},s.createElement("div",{className:"contextbar-signin-prompt-state__icon-container"},s.createElement(o.default,{className:"contextbar-signin-prompt-state__icon",size:"large",color:"content-color-tertiary",name:this.props.icon})),s.createElement("div",{className:"contextbar-signin-prompt-state__title"},s.createElement("h4",null,"Switch to a workspace to use this feature")),s.createElement("div",{className:"contextbar-signin-prompt-state__body"},s.createElement(r.default,{type:"body-medium",value:"This is an online feature and is only available in workspaces."})),s.createElement(a.Button,{className:"contextbar-signin-prompt-state__switch-action",size:"large",onClick:this.handleWorkspaceSwitch,type:"primary"},"Switch to Workspaces")))}}},"./js/utils/WorkbenchResponsiveUtil.js":function(e,t,n){"use strict";n.r(t),n.d(t,{PANE_CONTENT_MIN_WIDTH:function(){return i},useBrowserTabsPaneContentWidth:function(){return o},useBrowserTabsWorkbenchOverflow:function(){return r}});var s=n("./appsdk/workbench/WorkbenchService.js");const i=700;function o(){return s.default.isUseBrowserTabsActive()?{minWidth:`${i}px`}:null}function r(){return s.default.isUseBrowserTabsActive()?{overflow:"auto"}:null}},"./runtime-repl/_common/PermissionService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{canViewCollectionRuns:function(){return d},getViewHistoryPermission:function(){return u}});var s=n("./js/modules/services/PermissionRemoteFetchService.js"),i=n("./js/stores/StoreManager.js"),o=n("./js/stores/SyncStatusStore.js"),r=n("./runtime-repl/_common/ActiveWorkspaceHelpers.js"),a=n("./node_modules/lodash/lodash.js");const l={history:s.fetchViewHistory,collectionrun:s.fetchViewCollectionRun};async function c(e){const t=l[e];if(!t)throw new TypeError("fetchCanViewPermission: Invalid type");await(0,i.resolveStoreInstance)(o.default).onSyncAvailable();const n=await(0,r.getActiveWorkspaceId)(),s=await t(n);return a.get(s,`${n}.allowed`,!1)}async function d(){return c("collectionrun")}async function u(){return c("history")}},"./runtime-repl/_common/components/EntityTabEmptyShell/EntityTabEmptyShell.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var s=n("../../node_modules/react/index.js");function i(){return s.createElement("div",{className:"entity-tab-empty-shell"},s.createElement("div",{className:"entity-tab-empty-shell__left_editor"},s.createElement("div",{className:"entity-tab-empty-shell__header-wrapper"},s.createElement("div",{className:"entity-tab-empty-shell__header-wrapper__content"},s.createElement("div",{className:"entity-tab-empty-shell__header-wrapper__content__name-strip block"}),s.createElement("div",{className:"entity-tab-empty-shell__header-wrapper__content__actions"},s.createElement("div",{className:"box block"}),s.createElement("div",{className:"box block"}),s.createElement("div",{className:"box block"})))),s.createElement("div",{className:"entity-tab-empty-shell__body-wrapper"},s.createElement("div",{className:"entity-tab-empty-shell__body-wrapper__content"},s.createElement("div",{className:"tab-strip"},s.createElement("div",{className:"tab xl block"}),s.createElement("div",{className:"tab s block"}),s.createElement("div",{className:"tab xs block"}),s.createElement("div",{className:"tab md block"})),s.createElement("div",{className:"entity-tab-empty-shell__body-wrapper__content__primary block"}),s.createElement("div",{className:"entity-tab-empty-shell__body-wrapper__content__secondary block"})))),s.createElement("div",{className:"entity-tab-empty-shell__right-context-bar"},s.createElement("div",{className:"context-bar-options"},s.createElement("div",{className:"box block"}),s.createElement("div",{className:"box block"}),s.createElement("div",{className:"box block"}),s.createElement("div",{className:"box block"}),s.createElement("div",{className:"box block"})),s.createElement("div",{className:"context-bar-body"},s.createElement("div",{className:"context-bar-header"}),s.createElement("div",{className:"context-bar-close-icon"}))))}},"./runtime-repl/collection/CollectionVariablesProvider.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s,i=n("../../node_modules/react/index.js"),o=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./node_modules/prop-types/index.js"),a=n.n(r),l=n("./runtime-repl/_common/GenericVariablesProvider.js"),c=n("./runtime-repl/_common/VariableGetters.js"),d=n("./runtime-repl/collection/CollectionVariablesProviderStore.js");let u=(0,o.observer)(s=class extends i.Component{UNSAFE_componentWillMount(){this.collectionVariablesStore=new d.CollectionVariablesProviderStore,this.props.collectionId?this.collectionVariablesStore.setCollectionInfo(this.props.collectionId,this.props.collection,this.props.isTransientCollection):this.props.collectionVariables&&this.collectionVariablesStore.setOverrides(this.props.collectionVariables)}componentWillUnmount(){this.collectionVariablesStore&&this.collectionVariablesStore.unsubscribe&&this.collectionVariablesStore.unsubscribe()}UNSAFE_componentWillReceiveProps(e){e.collectionId&&this.props.collectionId!==e.collectionId?this.collectionVariablesStore.setCollectionInfo(e.collectionId,e.collection,e.isTransientCollection):this.props.collectionVariables!==e.collectionVariables&&this.collectionVariablesStore.setOverrides(e.collectionVariables)}render(){return i.createElement(l.default,{variables:(0,c.getActiveVariables)(this.collectionVariablesStore)},this.props.children)}})||s;u.contextTypes={variablesCache:a().object}},"./runtime-repl/environment/workbench/EnvironmentPreview.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s,i,o,r=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./runtime-repl/_common/VariableSessionHelper.js"),d=n("./runtime-repl/_common/components/VariableAlertWrapper.js"),u=n("./js/components/base/XPaths/XPath.js"),m=n("./js/services/NavigationService.js"),p=n("./js/constants/AppUrlConstants.js"),h=n("./runtime-repl/_common/promiseUtils.js"),v=n("./runtime-repl/environment/_api/EnvironmentInterface.js"),b=n("./runtime-repl/environment/workbench/EnvironmentPreviewList.js"),f=n("./runtime-repl/environment/_api/EnvironmentStoreV2.js"),g=n("./node_modules/lodash/lodash.js");function E(e,t,n,s,i){var o={};return Object.keys(s).forEach((function(e){o[e]=s[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,s){return s(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}let y=(0,a.observer)(((o=class extends r.Component{constructor(e){super(e),this._activeEnvironmentPromise=void 0,this.handleMessageLinkClick=this.handleMessageLinkClick.bind(this),this.handleGlobalEdit=this.handleGlobalEdit.bind(this),this.handleEnvironmentEdit=this.handleEnvironmentEdit.bind(this),this.handleEnvironmentAdd=this.handleEnvironmentAdd.bind(this),this.handleFocusOut=this.handleFocusOut.bind(this),this.state={environmentItem:null},this.ref=r.createRef()}async componentDidMount(){this.ref.current.focus();const e=this.props.selectedEnvironmentStore&&this.props.selectedEnvironmentStore.uid;e&&(this._activeEnvironmentPromise=(0,h.makeCancellable)((0,f.subscribeOne)(e,{permissions:this.constructor.environmentPermissions})),this._activeEnvironmentPromise.then((e=>{this.setState({environmentItem:e})})))}componentWillUnmount(){this._activeEnvironmentPromise&&this._activeEnvironmentPromise.cancel(),this.state.environmentItem&&this.state.environmentItem.unsubscribe&&this.state.environmentItem.unsubscribe()}get isFetchingEnvironment(){return g.get(this.props.selectedEnvironmentStore,"isHydrating",!1)}get envTitle(){return g.get(this.props.selectedEnvironmentStore,"name","Environment")}handleMessageLinkClick(e){!e||e.href!==p.SESSION_VARIABLE_DOCS&&e.href!==p.VARIABLE_TYPE_DOCS||m.default.openURL(e.href,{target:"_blank"}),this.props.onClose&&this.props.onClose()}handleFocusOut(e){const t=e.relatedTarget&&e.relatedTarget.classList.contains("environment-preview-button");this.ref.current.contains(e.relatedTarget)||t||this.props.onBlur&&this.props.onBlur(e)}handleGlobalEdit(){this.handleMessageLinkClick(),(0,v.openGlobalsInTab)()}handleEnvironmentEdit(){var e,t,n;this.handleMessageLinkClick();const s=g.get(this.props.selectedEnvironmentStore,"uid"),i=null===(e=this.props.selectedEnvironmentStore)||void 0===e||null===(t=e.environmentStore)||void 0===t||null===(n=t.getParent)||void 0===n?void 0:n.call(t,s);(0,v.openEnvironmentInTab)(s,{},i)}handleEnvironmentAdd(){this.handleMessageLinkClick(),(0,v.createEnvironment)()}render(){const e=(0,c.sanitizeZippedValues)(this.props.selectedEnvironmentStore.enabledValues),t=(0,c.sanitizeZippedValues)(this.props.globalsStore.enabledValues),n=g.get(this.props.selectedEnvironmentStore,"id"),s=g.get(this.state.environmentItem,"permissions.edit",!0);return r.createElement("div",{className:"environment-preview",ref:this.ref,onBlur:this.handleFocusOut,tabIndex:"-1"},r.createElement("div",{className:"environment-preview-wrapper"},r.createElement(u.default,{identifier:"environment"},r.createElement(b.default,{title:this.envTitle,items:e,envId:n,isLoading:this.isFetchingEnvironment,environment:this.state.environmentItem,keyHeading:"VARIABLE",valueHeading:"INITIAL VALUE",sessionHeading:"CURRENT VALUE",onHover:this.props.onHover,onEdit:this.handleEnvironmentEdit,onAdd:this.handleEnvironmentAdd,onUpdate:this.props.onEnvironmentSessionUpdate,emptyMessage:"No active Environment",overriddenKeys:[],canEditEnvironment:s})),r.createElement("div",{className:"environment-preview-divider"}),r.createElement(u.default,{identifier:"globals"},r.createElement(b.default,{title:"Globals",items:t,keyHeading:"VARIABLE",valueHeading:"INITIAL VALUE",sessionHeading:"CURRENT VALUE",onHover:this.props.onHover,onEdit:this.handleGlobalEdit,onUpdate:this.props.onGlobalsSessionUpdate,emptyMessage:"No Globals available",overriddenKeys:g.map(e,"key"),envId:"globals"})),r.createElement(d.default,{onMessageLinkClick:this.handleMessageLinkClick})))}}).environmentPermissions=["edit"],E((i=o).prototype,"isFetchingEnvironment",[l.computed],Object.getOwnPropertyDescriptor(i.prototype,"isFetchingEnvironment"),i.prototype),E(i.prototype,"envTitle",[l.computed],Object.getOwnPropertyDescriptor(i.prototype,"envTitle"),i.prototype),s=i))||s},"./runtime-repl/environment/workbench/EnvironmentPreviewContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var s,i=n("../../node_modules/react/index.js"),o=n("./node_modules/classnames/index.js"),r=n.n(o),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),c=n("./js/components/base/Buttons.js"),d=n("./js/stores/StoreManager.js"),u=n("./runtime-repl/environment/datastores/ActiveEnvironmentStore.js"),m=n("./runtime-repl/globals/datastores/ActiveGlobalsStore.js"),p=n("./js/components/base/Dropdowns.js"),h=n("./js/modules/pipelines/user-action.js"),v=n("./runtime-repl/_common/VariableSessionHelper.js"),b=n("./js/modules/model-event.js"),f=n("./js/modules/services/AnalyticsService.js"),g=n("./js/components/base/XPaths/XPath.js"),E=n("./runtime-repl/environment/workbench/EnvironmentPreview.js"),y=n("./node_modules/lodash/lodash.js");let S=(0,a.observer)(s=class extends i.Component{constructor(e){super(e),this.state={isOpen:!1},this.handlePreviewClose=this.handlePreviewClose.bind(this),this.handlePreviewToggle=this.handlePreviewToggle.bind(this)}componentDidCatch(e){throw f.default.addEventV2AndPublish({category:"workspace-load",action:"environment-preview-container-fail",label:`${e.name}:${e.message}`}),e}getIconClasses(){return r()({"environment-preview-button":!0,"is-open":this.state.isOpen})}getEnabled(e){if(e.values){const t=y.filter(e.values,(e=>y.get(e,"enabled",!0)));return{...e,values:t}}return y.filter(e,(e=>y.get(e,"enabled",!0)))}getMenu(){const e=(0,d.resolveStoreInstance)(u.default),t=(0,d.resolveStoreInstance)(m.default);return i.createElement(p.DropdownMenu,{"align-right":!0},i.createElement(g.default,{identifier:"previewList",isVisible:this.state.isOpen},i.createElement(E.default,{selectedEnvironmentStore:e,globalsStore:t,onClose:this.handlePreviewClose,onHover:this.handleHover,onEnvironmentSessionUpdate:this.handleEnvironmentSessionUpdate,onGlobalsSessionUpdate:this.handleGlobalsSessionUpdate,onBlur:this.handlePreviewClose,hoveredKey:this.state.hoveredKey})))}handlePreviewClose(){this.state.isOpen&&this.setState({isOpen:!1});const e=y.get(this.refs,"dropdownRef.__wrappedInstance");e&&e.toggleDropdown&&e.closeDropdown()}handlePreviewToggle(e){this.setState({isOpen:e})}handleEnvironmentSessionUpdate(e){const t=(0,v.unzipVariables)(e).sessionVariables,n=(0,b.createEvent)("update","variablesession",{id:(0,d.resolveStoreInstance)(u.default).session.id,model:"environment",values:t});(0,h.default)(n).then((()=>{f.default.addEvent("session","user_edit","environment")})).catch((e=>{pm.logger.error("Error while updating session",e)}))}handleGlobalsSessionUpdate(e){const t=(0,v.unzipVariables)(e).sessionVariables,n=(0,b.createEvent)("update","variablesession",{id:(0,d.resolveStoreInstance)(m.default).session.id,model:"globals",values:t});(0,h.default)(n).then((()=>{f.default.addEvent("session","user_edit","globals")})).catch((e=>{pm.logger.error("Error while updating session",e)}))}render(){return i.createElement("div",{className:"environment-preview-container"},i.createElement(p.Dropdown,{className:"environment-preview-dropdown",ref:"dropdownRef",onToggle:this.handlePreviewToggle,disableCloseOnPageScroll:!0},i.createElement(p.DropdownButton,{dropdownStyle:"nocaret"},i.createElement(c.Button,{type:"icon",className:this.getIconClasses(),tooltip:"Environment quick look"},i.createElement(l.default,{name:"icon-action-viewEnvironment-stroke",className:"environment-preview-icon pm-icon pm-icon-normal",color:"content-color-secondary"}))),this.getMenu()))}})||s},"./runtime-repl/environment/workbench/EnvironmentPreviewList.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var s,i=n("../../node_modules/react/index.js"),o=n("./node_modules/prop-types/index.js"),r=n.n(o),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./node_modules/react-window/dist/index.esm.js"),c=n("./node_modules/@postman/react-click-outside/dist/index.js"),d=n.n(c),u=n("./js/components/base/Buttons.js"),m=n("./js/constants/AppUrlConstants.js"),p=n("./js/components/base/XPaths/XPath.js"),h=n("./js/external-navigation/ExternalNavigationService.js"),v=n("./js/components/base/keymaps/KeyMaps.js"),b=n("./collaboration/workspace/model/ActiveWorkspacePermissionStore.ts"),f=n("./js/stores/StoreManager.js"),g=n("./js/stores/OnlineStatusStore.js"),E=n("./collaboration/workspace/types/PermissionTypes.ts"),y=n("./runtime-repl/environment/workbench/EnvironmentPreviewListItem.js"),S=n("./runtime-repl/environment/workbench/EnvironmentMetaIcons.js"),C=n("./runtime-repl/_common/DisabledTooltipConstants.js"),j=n("./runtime-repl/environment/workbench/EnvironmentPreviewLoadingState.js"),_=n("./node_modules/lodash/lodash.js");let x=d()(s=(0,a.observer)(s=class extends i.Component{constructor(e){super(e),this.getItemSize=this.getItemSize.bind(this),this.observeSizeChange=this.observeSizeChange.bind(this),this.unobserveSizeChange=this.unobserveSizeChange.bind(this),this.setSession=this.setSession.bind(this),this.setEditCache=this.setEditCache.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.saveCachedValue=this.saveCachedValue.bind(this),this.heightSet={},this.session={},this.resizeObserver=new ResizeObserver((e=>{for(const t of e){if(!(t&&t.target&&t.target.dataset))return;const{index:e}=t.target.dataset;this.heightSet[e]=t.target.offsetHeight}this.listRef.resetAfterIndex(0)})),this.editCache=null}componentWillUnmount(){this.saveCachedValue()}getItemSize(e){return this.heightSet[e]||32}getListItem(e){if(!e)return null;const{index:t}=e,n=e.data&&e.data[t],s=this.editCache&&this.editCache.index===t;return i.createElement("div",{className:"environment-preview__virtualized-item",style:e.style},i.createElement(p.default,{identifier:t,key:`variable-${t}`},i.createElement(y.default,{item:n,onSubmit:this.handleVariableSubmit.bind(this,t),index:t,title:this.props.title,observeSizeChange:this.observeSizeChange,unobserveSizeChange:this.unobserveSizeChange,overriddenKeys:this.props.overriddenKeys,onUpdate:this.props.onUpdate,envId:this.props.envId,environment:this.props.environment,items:this.props.items,setSession:this.setSession,setEditCache:this.setEditCache,editCache:s&&this.editCache,canEditEnvironment:this.props.canEditEnvironment})))}getKeyMapHandlers(){return{quit:pm.shortcuts.handle("quit",this.setEditCache.bind(this,null)),select:pm.shortcuts.handle("select",this.saveCachedValue)}}setEditCache(e){this.editCache=e}setSession(e){this.session=e}getAddButton(e){const{userCanSave:t}=(0,f.resolveStoreInstance)(g.default),n=(0,f.resolveStoreInstance)(b.default),s=n&&n.permissions,o=t&&_.get(s,E.WORKSPACE_PERMISSIONS.ADD_ENVIRONMENT_TO_WORKSPACE,!0),r=t&&_.get(s,E.WORKSPACE_PERMISSIONS.UPDATE_GLOBALS,!0),a=e?!r:!o,l=t?C.DISABLED_TOOLTIP_NO_PERMISSION:C.DISABLED_TOOLTIP_IS_OFFLINE;return i.createElement(u.Button,{className:"environment-header__meta__actions--edit",type:"text",onClick:e?this.props.onEdit:this.props.onAdd,disabled:a,tooltip:a&&l,tooltipPlacement:"left"},"Add")}getEditButton(e){return i.createElement(u.Button,{className:"environment-header__meta__actions--edit",type:"text",onClick:this.props.onEdit,disabled:!1},e)}saveCachedValue(){if(!this.editCache)return;const e=this.editCache.index,t=function(e){if(e&&e.inlineInput)return e.inlineInput.value}(this.editCache.inlineInput);_.isNil(e)||_.isNil(t)||(this.handleVariableSubmit(e,t),this.setEditCache(null))}handleClickOutside(e){!("input input-box inline-input"===(e&&e.target&&e.target.className))&&this.editCache&&(this.saveCachedValue(),e&&e.stopPropagation())}handleVariableSubmit(e,t){const n=this.props.items[e],{sessionIndex:s}=n,i=_.clone(this.session.values),o=-1!==s&&i[s],r=o&&_.findIndex(i,(e=>e===o));-1===s?i.push({key:n.key,value:t,enabled:!0}):i[r].sessionValue=t,this.props.onUpdate(i)}handleGlobalDocs(){(0,h.openExternalLink)(m.GLOBAL_VARIABLE_DOCS,"_blank")}handleEnvironmentDocs(){(0,h.openExternalLink)(m.ENVIRONMENT_DOCS,"_blank")}observeSizeChange(e){this.resizeObserver&&this.resizeObserver.observe(e)}unobserveSizeChange(e){this.resizeObserver&&this.resizeObserver.unobserve(e)}render(){const{items:e,isLoading:t}=this.props,n=this.props.envId,s="Globals"===this.props.title;let{title:o}=this.props;n||(o="Environment");const r=e=>i.createElement(a.Observer,null,this.getListItem.bind(this,e));return i.createElement(v.default,{keyMap:pm.shortcuts.getShortcuts(),handlers:this.getKeyMapHandlers()},i.createElement("div",{className:"environment-selected"},i.createElement("div",null,i.createElement("div",{className:"environment-header__meta"},i.createElement("div",{className:"environment-header__meta__title__wrapper"},i.createElement("span",{className:"environment-header__meta__title"},o),n&&!s&&i.createElement(S.default,{environment:this.props.environment})),(()=>s?0===e.length?this.getAddButton(s):this.getEditButton("Edit"):n?this.getEditButton("Edit"):this.getAddButton(s))())),!s&&!t&&0===e.length&&i.createElement("div",{className:"environment-preview-list-item--no-environment"},i.createElement("div",{className:"environment-preview-list-item--no-environment-header"},n?"No Environment variables":this.props.emptyMessage),i.createElement("div",{className:"environment-preview-list-item--no-environment-text"},i.createElement("div",null,"An environment is a set of variables that allow you to switch the context of your requests."))),s&&n&&0===e.length&&i.createElement("div",{className:"environment-preview-list-item--empty-globals"},i.createElement("div",{className:"environment-preview-list-item--empty-globals-header"},"No global variables"),i.createElement("div",{className:"environment-preview-list-item--empty-globals-text"},i.createElement("div",null,"Global variables are a set of variables that are always available in a workspace. "))),n&&(t||0!==e.length)&&i.createElement("div",{onClickCapture:this.handleClickOutside,className:"environment-preview-list"},i.createElement("div",{className:"environment-preview-list-header"},i.createElement("span",{className:"environment-preview-list-header__key"},this.props.keyHeading),i.createElement("span",{className:"environment-preview-list-header__value"},this.props.valueHeading),i.createElement("span",{className:"environment-preview-list-header__session-value"},this.props.sessionHeading)),i.createElement("div",{className:"environment-preview-divider"}),t?i.createElement(j.default,null):i.createElement(l.VariableSizeList,{height:200,itemCount:e.length,itemSize:this.getItemSize,width:720,ref:e=>{this.listRef=e},overscanCount:5,itemData:e,className:"environment-preview-virtualized-list"},r))))}})||s)||s;x.defaultProps={items:[],envId:null,onAdd:_.noop},x.propTypes={title:r().string.isRequired,items:r().array,keyHeading:r().string.isRequired,valueHeading:r().string.isRequired,sessionHeading:r().string.isRequired,envId:r().string,onEdit:r().func.isRequired,onAdd:r().func,onUpdate:r().func.isRequired}},"./runtime-repl/environment/workbench/EnvironmentPreviewListItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var s=n("../../node_modules/react/index.js"),i=n("../../node_modules/react-dom/index.js"),o=n("./node_modules/classnames/index.js"),r=n.n(o),a=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-hide-stroke.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-view-stroke.js"),d=n("./js/components/base/InlineInput.js"),u=n("./js/components/base/Inputs.js"),m=n("./js/stores/StoreManager.js"),p=n("./runtime-repl/_common/variable-sync-settings/Store/VariableSyncSettingsStore.js"),h=n("./runtime-repl/environment/datastores/ActiveEnvironmentStore.js"),v=n("./runtime-repl/globals/datastores/ActiveGlobalsStore.js"),b=n("./js/stores/ActiveWorkspaceStore.js"),f=n("./runtime-repl/_common/VariableSessionHelper.js"),g=n("./runtime-repl/_common/VariableSessionService.js"),E=n("./runtime-repl/_common/VariablesConstants.js"),y=n("./js/components/base/WarningButton.js"),S=n("./runtime-repl/_common/constants/sensitiveDataConstants.js"),C=n("./node_modules/lodash/lodash.js");const j={length:E.VARIABLE_VALUE_MAX_LENGTH,separator:" "},_="[Deleted]";class x extends s.PureComponent{constructor(e){super(e),this.state={isHovered:!1,sessionValue:null,isEditing:!1,maskValue:this.props.item.type===S.SECRET||!1},this.getClasses=this.getClasses.bind(this),this.handleEditVariable=this.handleEditVariable.bind(this),this.handleVariableToggle=this.handleVariableToggle.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.toggleMask=this.toggleMask.bind(this)}componentDidMount(){this.selfNode=(0,i.findDOMNode)(this),this.props.observeSizeChange&&this.props.observeSizeChange(this.selfNode),this.props.editCache&&this.inlineInput&&this.setState(this.props.editCache.listItem,(()=>{this.inlineInput.setEditState(this.props.editCache.inlineInput)}))}componentWillUnmount(){this.props.unobserveSizeChange&&this.props.unobserveSizeChange(this.selfNode,this.props.index),this.state.isEditing&&this.inlineInput&&this.props.setEditCache({inlineInput:this.inlineInput.getEditState(),index:this.props.index,listItem:this.state})}getClasses(e){return r()({"environment-preview-list-item":!0,"globals-preview-list-item":"Globals"===this.props.title,"is-hovered":this.state.isHovered,"is-overridden":C.includes(this.props.overriddenKeys,e.key),"is-session-value-deleted":this.props.item.isSessionValueDeleted})}handleMouseEnter(){this.setState({isHovered:!0})}handleMouseLeave(){this.setState({isHovered:!1})}handleVariableToggle(e){const{inlineInput:t}=this;e&&t?(t.focus(),t.selectAll()):(this.setState({isEditing:!1}),this.props.setEditCache(null))}handleEditVariable(){const{index:e}=this.props,t=(0,m.resolveStoreInstance)(h.default).id,n=(0,m.resolveStoreInstance)(b.default).id,s=(0,m.resolveStoreInstance)(v.default).id;let i,o;"globals"===this.props.envId?(i="globals",o=s):(i="environment",o=t),this.setState({maskValue:!1},(()=>{const t=(0,f.getSessionId)(i,o,n);(0,g.getSessionFor)(t).then((t=>{if(!t)return;const n=(0,f.sanitizeZippedValues)((0,f.zipVariables)(this.props.items,t.values));this.setState({sessionValue:n[e].sessionValue,isEditing:!0},(()=>{const e=this.inlineInput;e&&e.startEditing(),this.props.setSession(t)}))})).catch((e=>{pm.logger.warn("Failed to get session in environment preview",e),pm.toasts.error("Something went wrong. Please check DevTools.")}))}))}toggleMask(){this.setState((e=>({maskValue:!e.maskValue})))}render(){const{isSessionValueDeleted:e,type:t}=this.props.item,{canEditEnvironment:n}=this.props,i=this.props.item.sessionValue,{disableAllVariablesSync:o,disableSecretVariablesSync:r}=p.default.getSettingsSync(),m=n&&(o||r&&t===S.SECRET)?"":this.props.item.value;let h;return h=this.state.isEditing?this.state.sessionValue:e?_:C.truncate(i,j),s.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:this.getClasses(this.props.item),"data-index":this.props.index},s.createElement("span",{className:"environment-preview-list-item__key"},this.props.item.key),s.createElement("span",{className:"environment-preview-list-item__value"},this.state.maskValue?s.createElement(u.Input,{value:m,inputStyle:"cell",readOnly:!0,type:"password"}):m),s.createElement("div",{className:"environment-preview-list-item__session-value"},this.state.maskValue?s.createElement(u.Input,{inputStyle:"cell",readOnly:!0,type:"password",value:h,truncated:!0}):s.createElement(d.default,{className:"collection-browser-details-header__name",placeholder:e?_:i,value:h,onSubmit:this.props.onSubmit,onToggleEdit:this.handleVariableToggle,ref:e=>{this.inlineInput=e},allowEmpty:!0}),e&&s.createElement(y.default,{tooltip:"This variable does not exist in the active session. However, its presence in the environment will not be affected.",tooltipPlacement:"bottom",showTooltipOnHover:!0}),!this.state.isEditing&&s.createElement("span",{className:"environment-preview-list-item__session-value__edit-icon-wrapper",onClick:this.handleEditVariable},s.createElement(a.default,{name:"icon-action-edit-stroke",color:"content-color-primary",size:"small",className:"environment-preview-list-item__session-value__edit-icon"}))),t===S.SECRET&&s.createElement("span",{className:"environment-preview-list-item__mask-icon",onClick:this.toggleMask},this.state.maskValue?s.createElement(l.default,null):s.createElement(c.default,null)))}}},"./runtime-repl/environment/workbench/EnvironmentPreviewLoadingState.js":function(e,t,n){"use strict";n.r(t);var s=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./node_modules/lodash/lodash.js");const r=i.default.div`
    height: calc(5 * 32px);
    border-right: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["border-color-default"]}`}
    border-left: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["border-color-default"]}`}
    overflow: hidden;
    animation: fade 1s ease-in-out infinite;
    padding-left: var(--spacing-l);
  `,a=i.default.div`
    display: flex;
    flex-direction: row;
    height: 32px;
    align-items: center;
  `,l=i.default.div`
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    flex: 0 0 15%;
    margin-right: 5%;
    height: 8px;
    background-color: var(--highlight-background-color-secondary);
    border-radius: var(--border-radius-s);
  `,c=i.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  flex: 0 0 15%;
  margin-right: 22%;
  height: 8px;
  background-color: var(--highlight-background-color-secondary);
  border-radius: var(--border-radius-s);
`,d=i.default.div`
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  flex: 0 0 15%;
  height: 8px;
  background-color: var(--highlight-background-color-secondary);
  border-radius: var(--border-radius-s);
  `;t.default=function(){return s.createElement(r,null,o.times(5,(e=>s.createElement(a,{key:e},s.createElement(l,null),s.createElement(c,null),s.createElement(d,null)))))}},"./runtime-repl/environment/workbench/EnvironmentSelector.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var s,i,o=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("../../node_modules/mobx/lib/mobx.module.js"),a=n("../../node_modules/react/index.js"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./js/components/base/InputSelectV2.js"),u=n("./js/components/base/SearchHighlighter.js"),m=n("./js/components/base/XPaths/XPath.js"),p=n("./js/stores/StoreManager.js"),h=n("./api-dev/stores/APIListStore.js"),v=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),b=n("./runtime-repl/_common/ModelConstant.js"),f=n("./runtime-repl/environment/workbench/EnvironmentMetaIcons.js"),g=n("./runtime-repl/environment/datastores/ActiveEnvironmentStore.js"),E=n("./node_modules/lodash/lodash.js");const y={id:null,name:"No Environment",type:b.ENVIRONMENT};let S=(0,o.observer)((i=class extends a.Component{constructor(e){super(e),this.handleEnvironmentSelect=this.handleEnvironmentSelect.bind(this),this.handleOpen=this.handleOpen.bind(this),this.state={isAPIStoreLoaded:!1}}componentDidMount(){pm.mediator.on("showEnvironmentSelectorDropdown",this.handleOpen),this.apiListStore=(0,p.resolveStoreInstance)(h.default),(0,r.when)((()=>this.apiListStore.isLoaded),(()=>this.setState({isAPIStoreLoaded:!0})))}componentWillUnmount(){pm.mediator.off("showEnvironmentSelectorDropdown",this.handleOpen)}getOption(e,t,n={}){const{name:s,id:i,type:o}=e,r=t&&!n.firstRender;return"parent"===o?a.createElement(m.default,{identifier:i},a.createElement("div",{className:"parent-wrapper"},a.createElement("div",{className:"parent-label",title:s},r?a.createElement(u.default,{source:s,query:t}):s))):a.createElement(m.default,{identifier:i},a.createElement("div",{className:"item-wrapper"},a.createElement("div",{className:"item-label",title:s},r?a.createElement(u.default,{source:s,query:t}):s),null!==i&&a.createElement(f.default,{environment:e,showForkLabel:!0})))}get isHydratingActiveEnvironment(){return(0,p.resolveStoreInstance)(g.default).isHydrating}getEnvironmentName(e){return e.isForked&&e.forkLabel?`${e.name} [${e.forkLabel}]`:e.name||""}getSelectWrapperClasses(){return c()({"environment-selector-wrapper":!0})}getEnvironmentsFromIds(e){return E.chain(e).map((e=>{var t;return null===(t=this.props.environmentStore)||void 0===t?void 0:t.get(e)})).compact().value()}handleOpen(){E.invoke(this.refs.inputSelect.__wrappedInstance,"handleOpen")}getEnvironmentSelectorList(e,t,n={}){const s=!n.firstRender&&t;return this.sortEnvironmentsByParent(e,{searchQuery:s})}handleEnvironmentSelect(e){e.type===b.ENVIRONMENT&&(pm.mediator.trigger("focusBuilder"),this.props.onSelect&&this.props.onSelect(e.id))}sortEnvironmentsByName(e){return E.chain(e).sortBy((e=>e.name.toLowerCase())).value()}addDefaultEnvironment(e=[]){return y.addDivider=e.length,e.unshift(y),e}addEnvironmentsToList(e,t,n,s){var i;const o=null==s?void 0:s.searchQuery,r=null==s?void 0:s.hideParent,a=!o||E.includes(null==e||null===(i=e.name)||void 0===i?void 0:i.toLowerCase(),o.toLowerCase()),l=this.sortEnvironmentsByName(t),c=o?E.filter(l,(e=>E.includes(e.name.toLowerCase(),o.toLowerCase()))):l,d=(null==c?void 0:c.length)>0;(a||d)&&!r&&n.push(e),!a||r?n.push(...c):n.push(...l)}addWorkspaceEnvironments(e,t=[],n){var s;if(null==e||!e.get("workspace"))return;const i=(0,p.resolveStoreInstance)(v.default).id,o=e.get("workspace"),r=null==n?void 0:n.searchQuery;if((null===(s=o.get(i))||void 0===s?void 0:s.length)>0){const e={type:"parent",notSelectable:!0,id:i,name:"Others"},s=this.getEnvironmentsFromIds(o.get(i)),a=!(null!=n&&n.addOthersTag);this.addEnvironmentsToList(e,s,t,{searchQuery:r,hideParent:a})}}addAPIEnvironments(e,t=[],n){var s;if(null==e||!e.get("api"))return;const i=e.get("api"),o=null==n?void 0:n.searchQuery;if(this.props.activeApiIdInWorkbench&&(null===(s=i.get(this.props.activeApiIdInWorkbench))||void 0===s?void 0:s.length)>0){var r;const n=null===(r=this.apiListStore.find(this.props.activeApiIdInWorkbench))||void 0===r?void 0:r.name,s={type:"parent",notSelectable:!0,id:this.props.activeApiIdInWorkbench,name:n},i=e.get("api").get(this.props.activeApiIdInWorkbench),a=this.getEnvironmentsFromIds(i);this.addEnvironmentsToList(s,a,t,{searchQuery:o})}}sortEnvironmentsByParent(e,t){if(!e)return[];const n=[];return this.props.activeApiIdInWorkbench?(this.state.isAPIStoreLoaded&&this.addAPIEnvironments(e,n,t),this.addWorkspaceEnvironments(e,n,{addOthersTag:n.length>0,searchQuery:null==t?void 0:t.searchQuery}),(null==t||!t.searchQuery)&&this.addDefaultEnvironment(n),n):(this.addWorkspaceEnvironments(e,n,t),(null==t||!t.searchQuery)&&this.addDefaultEnvironment(n),n)}render(){const{environmentStore:e,selectedEnvironment:t,selectorWidth:n}=this.props,s=this.props.selectedEnvironment&&null!==this.props.selectedEnvironment.id,i=c()({"user-selected-environment-input-loading":this.isHydratingActiveEnvironment,"user-selected-environment-input":!this.isHydratingActiveEnvironment&&s}),o=c()({"environment-selector-menu":!0,"use-browser-tabs-header":this.props.useBrowserTabs});return a.createElement("div",{className:"environment-selector-container"},a.createElement("div",{className:this.getSelectWrapperClasses()},a.createElement(d.InputSelectV2,{style:{width:n},selectedItem:t,getInputValue:e=>this.getEnvironmentName(e),optionRenderer:this.getOption,getFilteredList:this.getEnvironmentSelectorList.bind(this,null==e?void 0:e.parentToEntityMap),ref:"inputSelect",isLoading:this.isHydratingActiveEnvironment,onSelect:this.handleEnvironmentSelect,menuClassName:o,inputClassName:i,resetSearchFilterOnBlur:!0})))}},C=i.prototype,j="isHydratingActiveEnvironment",_=[r.computed],x=Object.getOwnPropertyDescriptor(i.prototype,"isHydratingActiveEnvironment"),w=i.prototype,I={},Object.keys(x).forEach((function(e){I[e]=x[e]})),I.enumerable=!!I.enumerable,I.configurable=!!I.configurable,("value"in I||I.initializer)&&(I.writable=!0),I=_.slice().reverse().reduce((function(e,t){return t(C,j,e)||e}),I),w&&void 0!==I.initializer&&(I.value=I.initializer?I.initializer.call(w):void 0,I.initializer=void 0),void 0===I.initializer&&(Object.defineProperty(C,j,I),I=null),s=i))||s;var C,j,_,x,w,I},"./runtime-repl/environment/workbench/EnvironmentSelectorContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var s,i=n("../../node_modules/react/index.js"),o=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("../../node_modules/mobx/lib/mobx.module.js"),a=n("./js/stores/StoreManager.js"),l=n("./js/modules/pipelines/user-action.js"),c=n("./js/modules/model-event.js"),d=n("./runtime-repl/_common/uid-helper.ts"),u=n("./js/modules/services/AnalyticsService.js"),m=n("./js/stores/ActiveWorkspaceSessionStore.js"),p=n("./js/stores/EditorStore.js"),h=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),v=n("./runtime-repl/_common/ModelConstant.js"),b=n("./runtime-repl/environment/datastores/ActiveEnvironmentStore.js"),f=n("./runtime-repl/environment/workbench/EnvironmentSelector.js"),g=n("./runtime-repl/environment/_api/EnvironmentStoreV2.js"),E=n("./node_modules/lodash/lodash.js");const y={id:null,name:"No Environment"};let S=(0,o.observer)(s=class extends i.Component{constructor(e){super(e),this.state={environmentStore:{}},this.handleEnvironmentSelect=this.handleEnvironmentSelect.bind(this)}componentDidMount(){this.reactionDisposer=(0,r.reaction)((()=>(0,a.resolveStoreInstance)(h.default).id),(async e=>{if(!e)return;const t=await(0,g.subscribeMeta)(e,{parent:["workspace","api"],enableLazyLoading:!0}).catch((e=>{pm.logger.error("EnvironmentSelectorContainer~componentDidMount: Error subscribing to environment store",e)}));E.invoke(this.state.store,"unsubscribe"),t&&this.setState({environmentStore:t})}),{fireImmediately:!0})}componentDidCatch(e){throw u.default.addEventV2AndPublish({category:"workspace-load",action:"environment-selector-container-fail",label:`${e.name}:${e.message}`}),e}componentWillUnmount(){var e,t,n;null===(e=this.reactionDisposer)||void 0===e||e.call(this),null===(t=this.store)||void 0===t||null===(n=t.unsubscribe)||void 0===n||n.call(t)}handleEnvironmentSelect(e){const t=(0,a.resolveStoreInstance)(m.default).id;(0,l.default)((0,c.createEvent)("setActiveEnvironment","workspacesession",{workspaceSession:{id:t},activeEnvironment:(0,d.decomposeUID)(e).modelId}))}getActiveApiIdInWorkbench(e){if(!e)return;const t=e.type,n=e.model;let s,i;switch(t){case v.REQUEST:case v.RESPONSE:case v.FOLDER:case v.COLLECTION:s=e.parentApiId;break;case v.ENVIRONMENT:{var o,r,a;const{environmentUid:t}=e;i=null===(o=(r=this.state.environmentStore).getParent)||void 0===o?void 0:o.call(r,t),s="api"===(null===(a=i)||void 0===a?void 0:a.type)&&i.id;break}default:pm.logger.info("EnvironmentSelectorContainer~getActiveApiInWorkbench: Active Tab is not a child of an API")}return"apiVersion"===(null==n?void 0:n.type)&&(s=null==n?void 0:n.parentEntityId),s}render(){var e,t;const n=E.find((null===(e=this.state.environmentStore)||void 0===e?void 0:e.list)||[],(e=>e.id===(0,a.resolveStoreInstance)(b.default).uid))||y,s=(0,a.resolveStoreInstance)(m.default).activeEditor,o=(0,a.resolveStoreInstance)(p.default).find(s),r=null==o||null===(t=o.v2Model)||void 0===t?void 0:t.tabController,l=this.getActiveApiIdInWorkbench(r),{forkLabel:c}=n;return i.createElement(f.default,{environmentStore:this.state.environmentStore,ref:"selector",selectedEnvironment:n,activeApiIdInWorkbench:l,selectorWidth:this.props.selectorWidth,onSelect:this.handleEnvironmentSelect,useBrowserTabs:!!this.props.useBrowserTabs})}})||s},"./runtime-repl/extensible-collection/hooks/useMemoObject.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var s=n("../../node_modules/react/index.js");function i(e){return s.useMemo((()=>Object.assign({},e)),[...Object.values(e)])}},"./runtime-repl/extensible-collection/hooks/useMountedState.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var s=n("../../node_modules/react/index.js");function i(){const e=s.useRef(!0);return s.useEffect((()=>()=>{e.current=!1}),[]),s.useCallback((()=>e.current),[])}},"./runtime-repl/extensible-collection/workbench/ECItem/CreateItemView.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var s=n("./node_modules/lodash/lodash.js"),i=n.n(s),o=n("../../node_modules/react/index.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/mobx/lib/mobx.module.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("./js/stores/SyncStatusStore.js"),d=n("./js/components/base/Panes.js"),u=n("./js/constants/Panes.js"),m=n("./js/constants/AppSettingsDefaults.js"),p=n("./appsdk/contextbar/ContextBar.js"),h=n("./runtime-repl/_common/components/EntityTabEmptyShell/EntityTabEmptyShell.js"),v=n("./runtime-repl/_common/components/EntityTabLoadingError/EntityTabLoadingError.js"),b=n("./runtime-repl/collection/CollectionVariablesProvider.js"),f=n("./collaboration/constants/comments.js"),g=n("./js/stores/ConfigurationStore.js"),E=n("./js/stores/StoreManager.js"),y=n("./js/services/EditorService.js"),S=n("./runtime-repl/extensible-collection/constants/ErrorReason.ts"),C=n("./runtime-repl/extensible-collection/hooks/useAgent.ts"),j=n("./runtime-repl/extensible-collection/hooks/useTab.ts"),_=n("./runtime-repl/extensible-collection/hooks/useTabLayout.ts"),x=n("./runtime-repl/extensible-collection/hooks/useMemoObject.ts"),w=n("./runtime-repl/extensible-collection/workbench/ECItem/ItemViewHeader.tsx"),I=n("./runtime-repl/extensible-collection/workbench/ECItem/SavedItemController.ts"),k=n("./runtime-repl/extensible-collection/workbench/ECItem/HistoryItemController.ts"),P=n("./runtime-repl/extensible-collection/api/ExtensibleCollectionItemAPI.ts"),T=n("./appsdk/workbench/WorkbenchService.js"),O=n("./js/utils/WorkbenchResponsiveUtil.js");function A(e,t){const n=(0,l.observer)((({controller:n,editorId:s})=>{var l;const A=(0,a.toJS)(n.itemState.get("item")),{error:N,isLoading:L,isActive:B}=n.tabState,{isConsistentlyOffline:R}=(0,E.resolveStoreInstance)(c.default),D=n instanceof I.default&&null!=(null==A?void 0:A.id),V=D?null===(l=P.default.cacheAPI.get(A.id))||void 0===l?void 0:l.collection:null,[M,H]=o.useState({}),z=(0,o.useMemo)((()=>{return(e=n.update.bind(n)).path=(t,n)=>{e((e=>{void 0===n?i().unset(e,t):i().set(e,t,n)}))},e;var e}),[n]),U=Object.freeze((0,x.default)({type:pm.runtime.agent.stat.type,version:pm.runtime.version,isReady:pm.runtime.agent.isReady})),W=Object.freeze((0,x.default)({isActive:B,isOffline:n.isOffline,isReadOnly:n.isReadOnly})),F=(0,E.resolveStoreInstance)(g.default).get("editor.requestEditorLayoutName");if(R&&(N||L))return o.createElement(v.default,{userFriendlyEntityName:e.config.title,type:"offline",hasToCapitalize:!1});if(N===S.default.DeletedEntity)return o.createElement(v.default,{userFriendlyEntityName:e.config.title,type:"deleted",hasToCapitalize:!1});if(N===S.default.NoHistoryPermission)return o.createElement(v.default,{userFriendlyEntityName:e.config.title,icon:e.config.icon,title:"You don't have view permission",message:`Only team members can view this ${e.config.title} from history of this workspace.`,hasToCapitalize:!1});if(N)return o.createElement(v.default,{userFriendlyEntityName:e.config.title,hasToCapitalize:!1});if(L)return o.createElement(h.default,null);function $(){var i;return o.createElement(r.default,{direction:"column",height:"100%",minWidth:T.default.isUseBrowserTabsActive()?`${O.PANE_CONTENT_MIN_WIDTH}px`:null},o.createElement(w.default,{state:A,isSaved:D,historyId:n instanceof k.default&&n.historyId||null,feedbackURL:e.config.feedbackURL,docsURL:e.config.docsURL,saveDisabledReason:n.saveDisabledReason,saveAsDisabledReason:n.saveAsDisabledReason,renameOnMount:null===(i=n.context)||void 0===i?void 0:i.rename}),o.createElement(t,{state:A,update:z,agent:U,tab:W,historyEvents:n instanceof k.default?n.historyEvents:[],setContextData:e=>H(Object.assign(Object.assign({},M),e)),collectionId:V,promoteTab:()=>y.default.promoteEditor({id:s}),controller:n}))}return o.createElement(C.AgentContext.Provider,{value:U,key:A.id},o.createElement(b.default,{collectionId:V},o.createElement(j.TabContext.Provider,{value:W},o.createElement(_.LayoutContext.Provider,{value:F},D?function(){var t,n;return o.createElement(d.PaneGroup,{defaultLayout:u.PANE_LAYOUT_HORIZONTAL},o.createElement(d.Pane,{width:{min:m.default.ui.WORKBENCH_MIN_WIDTH},style:(0,O.useBrowserTabsWorkbenchOverflow)()},o.createElement(d.PaneContent,null,$())),o.createElement(p.ContextBarPane,{contextData:Object.assign({state:A,model:f.MODEL_TYPE.EXTENSIBLE_COLLECTION_ITEM,modelId:A.id,parentModel:f.MODEL_TYPE.EXTENSIBLE_COLLECTION,parentModelId:V,parentCollectionUid:V,anchor:`${A.type===f.MODEL_TYPE.FOLDER?f.MODEL_TYPE.FOLDER:f.MODEL_TYPE.REQUEST}/${A.id}`},M),allowedContexts:((null===(n=null===(t=e.getManifest())||void 0===t?void 0:t.build)||void 0===n?void 0:n.contextBar)||[]).map((e=>e.name)),editorId:s,collapsedByDefault:!0,width:m.default.ui.CONTEXT_BAR_WIDTH_CONFIG}))}():$()))))}));return class extends o.Component{render(){return o.createElement(n,{controller:this.props.controller,editorId:this.props.id})}}}},"./runtime-repl/extensible-collection/workbench/ECItem/HeadLink.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var s=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),o=n("./appsdk/components/link/Link.js");function r({href:e="#",label:t="Write your feedback"}){return s.createElement(o.default,{to:e,target:"_blank"},s.createElement(i.default,{type:"link-subtle",isExternal:!0},t))}},"./runtime-repl/extensible-collection/workbench/ECItem/HistoryItemController.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var s=n("./runtime-repl/_common/PermissionService.js"),i=n("./runtime-repl/extensible-collection/workbench/ECItem/BaseItemController.ts"),o=n("./runtime-repl/extensible-collection/constants/ErrorReason.ts"),r=function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((s=s.apply(e,t||[])).next())}))};class a extends i.default{constructor(){super(...arguments),this.historyId=void 0,this.historyEvents=[]}didCreate(e){var t;super.didCreate(e);const n=null===(t=e.routeParams)||void 0===t?void 0:t.echid;this.historyId=n,(0,s.getViewHistoryPermission)().then((e=>r(this,void 0,void 0,(function*(){if(this.isDestroyed)return;if(!e)return void this.setTabState({isLoading:!1,error:o.default.NoHistoryPermission});const t=yield this.sdk.history.fetchHistory(n);if(this.isDestroyed)return;const s=t[0],i=t.slice(1,-1);this.historyEvents=i,this.initializeState(s.item),this.setTabState({isLoading:!1})})))).catch((e=>{pm.logger.error("HistoryItemController~didCreate: Error in loading item.",e),this.setTabState({isLoading:!1,error:o.default.UnknownError})}))}get isHistory(){return!0}}},"./runtime-repl/extensible-collection/workbench/ECItem/ItemViewHeader.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var s=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-save-stroke.js"),c=n("./js/components/base/Dropdowns.js"),d=n("./js/controllers/ShortcutsList.js"),u=n("./runtime-repl/_common/components/EntityTabHeader/index.js"),m=n("./js/services/EditorService.js"),p=n("./js/stores/StoreManager.js"),h=n("./js/stores/ActiveWorkspaceSessionStore.js"),v=n("./runtime-repl/environment/workbench/EnvironmentSelectorContainer.js"),b=n("./runtime-repl/environment/workbench/EnvironmentPreviewContainer.js"),f=n("./runtime-repl/extensible-collection/types/ExtensibleCollectionTypes.ts"),g=n("./runtime-repl/extensible-collection/types/ExtensibleCollectionItemTypes.ts"),E=n("./runtime-repl/extensible-collection/api/ExtensibleCollectionAPI.ts"),y=n("./runtime-repl/extensible-collection/api/ExtensibleCollectionItemAPI.ts"),S=n("./runtime-repl/extensible-collection/workbench/ECItem/HeadLink.tsx"),C=n("./runtime-repl/extensible-collection/hooks/useMountedState.ts"),j=n("./runtime-repl/extensible-collection/hooks/useTab.ts"),_=n("./runtime-repl/extensible-collection/configurations/Folder.ts"),x=n("./js/components/save-request-button/SaveRequestButton.js"),w=n("./appsdk/workbench/WorkbenchService.js");const I=(0,i.default)(c.Dropdown)`
  & .btn-group > .btn {
    min-width: var(--size-s);
    height: var(--size-m);
    padding: var(--spacing-s) var(--spacing-xs);
    margin-left: var(--border-width-default);
  }
`,k=(0,i.default)(u.default)`
  &.entity-tab-header {
    border-bottom: 0;
  }
`;function P({state:e,isSaved:t,historyId:n,feedbackURL:i,docsURL:u,saveDisabledReason:P,saveAsDisabledReason:T,renameOnMount:O}){var A;const N=(null===(A=pm.ECItemRegistry.getConfig(e.type))||void 0===A?void 0:A.title)||"item",L=P||`Save ${N}`,B=T||`Save ${N} to a collection`,R=e.type===_.default.type,{isOffline:D,isReadOnly:V}=(0,j.default)(),[M,H]=s.useState(!1),z=(0,C.default)(),U=s.useRef(null);s.useEffect((()=>{var e;O&&(null===(e=U.current)||void 0===e||e.handleEditName())}),[]);const W=s.useMemo((()=>{var n;const s=[];if(t){s.push({type:e.type,id:e.id,name:e.title});let t=null===(n=y.default.cacheAPI.get(e.id))||void 0===n?void 0:n.parent;for(;t;){const{parent:e}=y.default.getParent(t);s.unshift({type:e.type,id:e.id,name:e.title||""}),t=e.parent}}return s}),[e]),F=s.useCallback((()=>{m.default.requestSave({id:(0,p.resolveStoreInstance)(h.default).activeEditor})}),[]),$=s.useCallback((()=>{m.default.saveAs({id:(0,p.resolveStoreInstance)(h.default).activeEditor})}),[]),q=s.useCallback((({id:e,type:t})=>{var n;t===f.COLLECTION?E.default.openInTab(e):null===(n=pm.ECItemRegistry.getSDK(t))||void 0===n||n.openInTab(e)}),[]),X=s.useCallback((({id:e,type:t})=>t===f.COLLECTION?{routeIdentifier:"build.collection",routeParams:{cid:e},queryParams:null}:pm.ECItemRegistry.getSDK(t)?{routeIdentifier:pm.ECItemRegistry.getSDK(t).openSavedIdentifier,routeParams:{ecid:e},queryParams:{}}:null),[]),G=s.useCallback((t=>{if(M)return;H(!0);pm.ECItemRegistry.getSDK(e.type).menuActionHandler(e.id,g.ItemAction.RENAME,{name:t}).then((()=>{z()&&H(!1)}))}),[M,e.type,e.id]),K=(s.useCallback((()=>{pm.ECItemRegistry.getSDK(e.type).menuActionHandler(e.id,g.ItemAction.DELETE)}),[e.type,e.id]),t?s.createElement(o.default,{text:"Save",type:"secondary",icon:s.createElement(l.default,null),onClick:F,isDisabled:Boolean(P),tooltip:L}):s.createElement(o.default,{text:"Save",type:"secondary",icon:s.createElement(l.default,null),onClick:$,isDisabled:Boolean(T),tooltip:B})),Q=w.default.isUseBrowserTabsActive()?s.createElement(x.default,{handleSave:F,handleSaveAs:$,isSaveAsEnabled:!T,isSaveDisabled:Boolean(P),tooltipSave:L,tooltipSaveAS:B}):s.createElement(I,{onSelect:$},s.createElement(c.DropdownButton,{dropdownStyle:"split",type:"secondary"},K),s.createElement(c.DropdownMenu,{"align-right":!0},s.createElement(c.MenuItem,{refKey:"save-as",disabled:Boolean(T),disabledText:T},s.createElement(r.default,{grow:1},"Save As..."),s.createElement(a.default,{color:"content-color-tertiary"},(0,d.getShortcutByName)("saveCurrentRequestAs")))));return s.createElement(k,{name:e.title,ref:U,path:W.length?W:null,entityType:n?`ech:${e.type}`:`ec:${e.type}`,entityUID:n||e.id,isEntityEditable:t&&!D&&!V&&!M,onBreadCrumbItemClick:q,onSubmit:G,renderActions:()=>s.createElement(r.default,{alignItems:"center",gap:"spacing-s"},u&&s.createElement(S.default,{href:u,label:"Docs"}),i&&s.createElement(S.default,{href:i,label:"Feedback"}),R?null:Q,w.default.isUseBrowserTabsActive()&&e.type!==_.default.type&&s.createElement("div",{className:"environment-container"},s.createElement(v.default,{selectorWidth:130,useBrowserTabs:!0}),s.createElement("div",{className:"environment-splitter"}),s.createElement(b.default,{useBrowserTabs:!0}))),breadCrumbRouteConfig:X})}}}]);