"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[99],{"./api-dev/components/release/context-bar/ReleaseInfoContextBarView/ReleaseInfoContextBarView.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return h}});var a,n=s("../../node_modules/react/index.js"),o=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=s("./appsdk/contextbar/ContextBarViewHeader.js"),r=s("./js/utils/ClipboardHelper.js"),l=s("./js/components/base/Buttons.js"),c=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),d=s("./node_modules/moment/moment.js"),m=s.n(d),_=s("./js/utils/util.js"),p=s("./js/components/base/Avatar.js"),u=s("./js/stores/StoreManager.js"),v=s("./js/stores/CurrentUserStore.js"),f=s("./node_modules/lodash/lodash.js");let h=(0,o.observer)(a=class extends n.Component{constructor(e){super(e),this.state={isCopyingReleaseId:!1},this.handleCopyReleaseIdToClipboard=this.handleCopyReleaseIdToClipboard.bind(this),this.renderReleaseEditor=this.renderReleaseEditor.bind(this)}componentWillUnmount(){clearTimeout(this.copiedTimeout)}handleCopyReleaseIdToClipboard(){const e=f.get(this.props,"contextData.model.activeRelease.id","");this.state.isCopyingReleaseId||(r.default.copy(e),this.setState({isCopyingReleaseId:!0},(()=>{this.copiedTimeout=setTimeout((()=>this.setState({isCopyingReleaseId:!1})),3e3)})))}renderReleaseEditor(e){const t=(0,u.resolveStoreInstance)(v.default);return e?n.createElement("div",{className:"release-info-editors__editor",key:e},n.createElement(p.default,{ref:"avatar",size:"medium",userId:e}),n.createElement("div",{className:"release-info-editors__editor--name"},_.default.getUserNameForId(e,t))):"Deactivated User"}renderReleaseIdCopyStatusIcon(){return this.state.isCopyingReleaseId?n.createElement(c.default,{name:"icon-state-success-stroke",className:"pm-icon pm-icon-normal success-tick-icon"}):n.createElement(c.default,{name:"icon-action-copy-stroke",className:"pm-icon pm-icon-normal"})}render(){const e=f.get(this.props,"contextData.model.activeRelease",{}),t=m()(f.get(e,"createdAt")).format("DD MMM YYYY, h:mm A"),s=f.get(e,"createdBy"),a=f.get(e,"id");return n.createElement("div",{className:"release-info-context-view-wrapper"},n.createElement(i.ContextBarViewHeader,{title:"Version details",onClose:this.props.onClose}),n.createElement("div",{className:"release-info-context-view"},n.createElement("div",{className:"release-info-context-view__entity"},n.createElement("div",{className:"release-info-context-view__entity__label"},"Version ID"),n.createElement("div",{className:"release-info-context-view__entity__content"},n.createElement("div",{className:"release-info-context-view__entity__content__id--entity",title:a},a),n.createElement(l.Button,{tooltip:"Copy",type:"icon",onClick:this.handleCopyReleaseIdToClipboard},this.renderReleaseIdCopyStatusIcon()))),n.createElement("div",{className:"release-info-context-view__entity"},n.createElement("div",{className:"release-info-context-view__entity__label"},"Created by"),n.createElement("div",{className:"release-info-context-view__entity__content"},this.renderReleaseEditor(s))),n.createElement("div",{className:"release-info-context-view__entity"},n.createElement("div",{className:"release-info-context-view__entity__label"},"Created on"),n.createElement("div",{className:"release-info-context-view__entity__content"},n.createElement("div",{className:"release-info-context-view__entity__content__id",title:t},t)))))}})||a}}]);