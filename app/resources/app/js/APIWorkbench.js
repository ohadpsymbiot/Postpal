/*! For license information please see APIWorkbench.js.LICENSE.txt */
(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[11,3],{"../../node_modules/@postman/aether/esmLib/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{Avatar:function(){return v.default},Badge:function(){return I.default},Banner:function(){return l.default},BlankState:function(){return p.default},Breadcrumb:function(){return $.Breadcrumb},BreadcrumbItem:function(){return $.BreadcrumbItem},Button:function(){return s.default},ButtonGroup:function(){return c.default},Card:function(){return i.default},Checkbox:function(){return S.default},CheckboxGroup:function(){return C.default},ChipInput:function(){return _.default},CounterButton:function(){return r.default},FileUploader:function(){return f.default},FilterSelect:function(){return te.default},Flex:function(){return g.default},Form:function(){return b.default},Heading:function(){return u.default},Illustration:function(){return wt.default},IllustrationAPI101:function(){return St.default},IllustrationAddPayment:function(){return Me.default},IllustrationArtificialIntelligence:function(){return _t.default},IllustrationAuthentication:function(){return vt.default},IllustrationAutoFlex:function(){return ze.default},IllustrationAutoFlexPay:function(){return lt.default},IllustrationBootcampLesson:function(){return Ye.default},IllustrationBootcampWelcome:function(){return Ke.default},IllustrationCallFailed:function(){return ve.default},IllustrationCategories:function(){return It.default},IllustrationCheckInternetConnection:function(){return se.default},IllustrationChooseWorkspace:function(){return Ze.default},IllustrationChristmas:function(){return tt.default},IllustrationCollaborate:function(){return ct.default},IllustrationCommentOnDiff:function(){return Fe.default},IllustrationConnectToServer:function(){return qe.default},IllustrationCreateFlow:function(){return Je.default},IllustrationCriticalDanger:function(){return ke.default},IllustrationDataTransfer:function(){return st.default},IllustrationDocumentCreationProgress:function(){return rt.default},IllustrationEasyManagement:function(){return dt.default},IllustrationEmptyStateGraphQLHitSend:function(){return it.default},IllustrationEmptyTrash:function(){return De.default},IllustrationEnterprise:function(){return ae.default},IllustrationFindReasons:function(){return Tt.default},IllustrationForkOnline:function(){return re.default},IllustrationFreeForever:function(){return ut.default},IllustrationGoodbye:function(){return jt.default},IllustrationGraphQLSchemaLoaded:function(){return at.default},IllustrationHitSend:function(){return le.default},IllustrationHoverboard:function(){return Ct.default},IllustrationInlineComment:function(){return Ve.default},IllustrationInternalServerError:function(){return oe.default},IllustrationInvite:function(){return pt.default},IllustrationJoinTeam:function(){return ce.default},IllustrationMergeConditions:function(){return de.default},IllustrationMonitorAndMocks:function(){return mt.default},IllustrationMonitorRun:function(){return Be.default},IllustrationNoAPI:function(){return ye.default},IllustrationNoAPIKeys:function(){return ue.default},IllustrationNoAccess:function(){return At.default},IllustrationNoActivity:function(){return me.default},IllustrationNoCallYet:function(){return Ie.default},IllustrationNoCollection:function(){return he.default},IllustrationNoCookies:function(){return Ue.default},IllustrationNoCustomDomain:function(){return $e.default},IllustrationNoEnvironment:function(){return ge.default},IllustrationNoExportRequest:function(){return be.default},IllustrationNoFork:function(){return Pe.default},IllustrationNoHistory:function(){return fe.default},IllustrationNoIntegrations:function(){return pe.default},IllustrationNoMockServer:function(){return Ee.default},IllustrationNoMonitor:function(){return _e.default},IllustrationNoPermission:function(){return Te.default},IllustrationNoPullRequest:function(){return Ce.default},IllustrationNoReport:function(){return Se.default},IllustrationNoRequestInCollection:function(){return He.default},IllustrationNoSavedMessage:function(){return Qe.default},IllustrationPageNotFound:function(){return ie.default},IllustrationPayLater:function(){return ht.default},IllustrationPopularWorkspaces:function(){return gt.default},IllustrationQuickLinks:function(){return nt.default},IllustrationRunAborted:function(){return je.default},IllustrationSearch:function(){return we.default},IllustrationSecurity:function(){return ft.default},IllustrationSharedRequests:function(){return bt.default},IllustrationSignIn:function(){return Oe.default},IllustrationStartUp:function(){return Et.default},IllustrationSuccess:function(){return et.default},IllustrationSwitchToWorkspace:function(){return Ne.default},IllustrationTestFail:function(){return Ge.default},IllustrationTestPass:function(){return We.default},IllustrationUnableToLoad:function(){return Le.default},IllustrationUnableToPullRequest:function(){return Ae.default},IllustrationUnableToVisualize:function(){return xe.default},IllustrationUnauthorizedError:function(){return Re.default},IllustrationWinners:function(){return yt.default},IllustrationWondering:function(){return Xe.default},IllustrationWriteTests:function(){return ot.default},Label:function(){return m.default},List:function(){return P.List},ListItem:function(){return P.ListItem},Menu:function(){return Y.default},MenuButton:function(){return q.default},MenuDivider:function(){return X.default},MenuItem:function(){return J.default},MenuItemGroup:function(){return Z.default},MenuList:function(){return K.default},Modal:function(){return N.Modal},ModalContent:function(){return N.ModalContent},ModalFooter:function(){return N.ModalFooter},ModalHeader:function(){return N.ModalHeader},MultiSelect:function(){return ee.default},Pagination:function(){return w.default},Popover:function(){return O.default},Radio:function(){return T.default},RadioGroup:function(){return A.default},ResponsiveContainer:function(){return h.default},SingleSelect:function(){return Q.default},Spinner:function(){return V.default},SplitButton:function(){return a.default},Step:function(){return x.default},StepHeader:function(){return L.default},StepPanel:function(){return F.default},StepPanels:function(){return k.default},Stepper:function(){return M.default},Tab:function(){return z.default},TabList:function(){return U.default},TabPanel:function(){return G.default},TabPanels:function(){return H.default},Table:function(){return W.default},Tabs:function(){return B.default},Tag:function(){return ne.default},Text:function(){return o.default},TextArea:function(){return y.default},TextInput:function(){return E.default},ToastProvider:function(){return D.ToastProvider},ToggleSwitch:function(){return j.default},Tooltip:function(){return d.default},__listOfIllustrations__:function(){return Ot},toast:function(){return D.toast},useToasts:function(){return D.default},withToast:function(){return R.default}});var o=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Card/Card.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/SplitButton.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/CounterButton.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/ResponsiveContainer/ResponsiveContainer.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/FileUploader/FileUploader.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/TextArea/TextArea.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Avatar/Avatar.js"),I=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),E=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),_=n("../../node_modules/@postman/aether/esmLib/src/components/ChipInput/ChipInput.js"),S=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),C=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBoxGroup/CheckboxGroup.js"),T=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),j=n("../../node_modules/@postman/aether/esmLib/src/components/ToggleSwitch/ToggleSwitch.js"),A=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),w=n("../../node_modules/@postman/aether/esmLib/src/components/Pagination/Pagination.js"),O=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),N=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),D=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),R=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),P=n("../../node_modules/@postman/aether/esmLib/src/components/List/List.js"),M=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Stepper.js"),L=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepHeader.js"),x=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Step.js"),k=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanels.js"),F=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanel.js"),V=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),B=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tabs.js"),U=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabList.js"),z=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tab.js"),H=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanels.js"),G=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanel.js"),W=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),$=n("../../node_modules/@postman/aether/esmLib/src/components/Breadcrumb/Breadcrumb.js"),q=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),Y=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),K=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),J=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),Z=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItemGroup.js"),X=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuDivider.js"),Q=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),ee=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),te=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),ne=n("../../node_modules/@postman/aether/esmLib/src/components/Tag/Tag.js"),oe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/InternalServerError.js"),se=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CheckInternetConnection.js"),ie=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),ae=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Enterprise.js"),re=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/ForkOnline.js"),le=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/HitSend.js"),ce=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/JoinTeam.js"),de=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/MergeConditions.js"),ue=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoAPIKeys.js"),pe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoIntegrations.js"),me=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoActivity.js"),he=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCollection.js"),ge=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoEnvironment.js"),fe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoHistory.js"),be=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoExportRequest.js"),ye=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoAPI.js"),ve=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CallFailed.js"),Ie=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCallYet.js"),Ee=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMockServer.js"),_e=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMonitor.js"),Se=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),Ce=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoPullRequest.js"),Te=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoPermission.js"),je=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/RunAborted.js"),Ae=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToPullRequest.js"),we=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Search.js"),Oe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/SignIn.js"),Ne=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/SwitchToWorkspace.js"),De=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/EmptyTrash.js"),Re=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnauthorizedError.js"),Pe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoFork.js"),Me=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/AddPayment.js"),Le=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),xe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToVisualize.js"),ke=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CriticalDanger.js"),Fe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CommentOnDiff.js"),Ve=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/InlineComment.js"),Be=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/MonitorRun.js"),Ue=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js"),ze=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/AutoFlex.js"),He=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js"),Ge=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/TestFail.js"),We=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/TestPass.js"),$e=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCustomDomain.js"),qe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/ConnectToServer.js"),Ye=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/BootcampLesson.js"),Ke=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/BootcampWelcome.js"),Je=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CreateFlow.js"),Ze=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/ChooseWorkspace.js"),Xe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Wondering.js"),Qe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoSavedMessage.js"),et=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Success.js"),tt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Christmas.js"),nt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/QuickLinks.js"),ot=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/WriteTests.js"),st=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/DataTransfer.js"),it=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/EmptyStateGraphQLHitSend.js"),at=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/GraphQLSchemaLoaded.js"),rt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/DocumentCreationProgress.js"),lt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/AutoFlexPay.js"),ct=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Collaborate.js"),dt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/EasyManagement.js"),ut=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/FreeForever.js"),pt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Invite.js"),mt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/MonitorAndMocks.js"),ht=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/PayLater.js"),gt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/PopularWorkspaces.js"),ft=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Security.js"),bt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/SharedRequests.js"),yt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Winners.js"),vt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Authentication.js"),It=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Categories.js"),Et=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/StartUp.js"),_t=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/ArtificialIntelligence.js"),St=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/API101.js"),Ct=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/Hoverboard.js"),Tt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/FindReasons.js"),jt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/Goodbye.js"),At=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/NoAccess.js"),wt=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js"),Ot=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/listOfIllustrations.js")},"../../node_modules/@postman/aether/esmLib/src/components/Button/SplitButton.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("../../node_modules/prop-types/index.js"),r=n.n(a),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/Icons.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var m=i.default.div.withConfig({displayName:"SplitButton__StyledSplitButton",componentId:"sc-1uqtf3s-0"})(["width:max-content;box-sizing:border-box;cursor:pointer;user-select:none;display:inline-flex;align-items:center;border-radius:",";height:",";",";& .aether-split-button__primary-btn:disabled{border-top-right-radius:0;border-bottom-right-radius:0;}& .aether-split-button__secondary-btn:disabled{border-top-left-radius:0;border-bottom-left-radius:0;}&:hover{& .aether-split-button__splitter{border-left-color:transparent;}}&:active{& .aether-split-button__splitter{border-left-color:transparent;}}"],(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["size-m"]}),(function(e){return function(e,t){switch(e){case"primary":return"\n        background-color: ".concat(t["button-primary-background-color"],";\n\n        & .aether-split-button__splitter {\n          border-left-color: ").concat(t["splitbutton-primary-splitter-color"],";\n        }\n      ");case"secondary":return"\n        background-color: ".concat(t["button-secondary-background-color"],";\n\n        & .aether-split-button__splitter {\n          border-left-color: ").concat(t["splitbutton-secondary-splitter-color"],";\n        }\n      ");case"tertiary":return"\n        background-color: ".concat(t["button-tertiary-background-color"],";\n\n        & .aether-split-button__splitter {\n          border-left-color: ").concat(t["splitbutton-tertiary-splitter-color"],";\n        }\n      ");default:return null}}(e.type,e.theme)})),h=i.default.div.withConfig({displayName:"SplitButton__StyledButtonSplitter",componentId:"sc-1uqtf3s-1"})(["border-width:",";border-left-style:",";height:20px;"],(function(e){return"".concat(e.theme["border-width-default"])}),(function(e){return"".concat(e.theme["border-style-solid"])}));function g(e){var t=(0,s.useRef)(),n=e.text,i=e.onClick,a=e.children,r=e.type,c=e.icon,g=e.tooltip,f=e.minWidth,b=e.className,y=e.isLoading,v=e.isDisabled,I=e.secondaryButton,E=e.autoFocus,_=e["data-testid"],S=e["data-click"],C=s.Children.map(a,(function(e){return s.isValidElement(e)&&e.type===d.default?s.cloneElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({placement:"bottom-end"},!I&&{triggerRef:t})):e}));return s.createElement(m,{type:r,className:b,"data-aether-id":"aether-splitButton","data-testid":_,"data-click":S},s.createElement(u.default,{type:r,text:n,icon:c,isLoading:y,isDisabled:v,minWidth:f,onClick:i,tooltip:g,className:"aether-split-button__primary-btn",autoFocus:E}),!v&&!y&&s.createElement(h,{className:"aether-split-button__splitter"}),function(e,t,n){if(e&&e.type===u.default){var o=e.props.icon;return s.cloneElement(e,{type:t,icon:o||s.createElement(l.default,null),className:"aether-split-button__secondary-btn"})}return s.createElement(u.default,{type:t,icon:s.createElement(l.default,null),ref:n,className:"aether-split-button__secondary-btn"})}(I,r,t),C)}g.displayName="SplitButton",t.default=g,g.defaultProps={text:"",type:"secondary",icon:null,tooltip:"",minWidth:"",className:"",isLoading:!1,isDisabled:!1,secondaryButton:null,autoFocus:!1,"data-testid":"aether-split-button","data-click":""},g.propTypes={text:r().string,onClick:r().func.isRequired,children:r().node.isRequired,type:r().oneOf(["primary","secondary","tertiary"]),icon:r().oneOfType([r().node,r().oneOf(c.LIST_OF_ICONS)]),tooltip:r().oneOfType([r().string,r().object]),minWidth:r().string,className:r().string,isLoading:r().bool,isDisabled:r().bool,secondaryButton:r().node,autoFocus:r().bool,"data-testid":r().string,"data-click":r().string}},"../../node_modules/@postman/aether/esmLib/src/components/Card/Card.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=a.default.div.withConfig({displayName:"Card__StyledCard",componentId:"qu0gct-0"})(["background-color:",";border:",";border-radius:",";box-sizing:border-box;height:",";width:",";min-width:",";max-width:",";padding:",";&:hover{background-color:",";}cursor:",";"],(function(e){return"fill"===e.type?e.theme["background-color-secondary"]:e.theme["background-color-primary"]}),(function(e){return"outline"===e.type?"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-strong"]):"none"}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.minWidth}),(function(e){return e.maxWidth}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.isClickable?"fill"===e.type?e.theme["background-color-tertiary"]:e.theme["background-color-secondary"]:""}),(function(e){return e.isClickable?"pointer":"default"})),d=(0,a.default)(r.default).withConfig({displayName:"Card__StyledCardContentArea",componentId:"qu0gct-1"})(["padding:20px;"]),u=o.forwardRef((function(e,t){var n=e.type,s=e.onClick,i=e.id,a=e.cover,u=e.title,p=e.figure,m=e.tag,h=e.height,g=e.width,f=e.minWidth,b=e.maxWidth,y=e.dataTestId,v=e.children,I=a.src,E=a.position,_=void 0===E?"left":E,S=!!m&&!p;return o.createElement(c,{type:n,ref:t,height:h,width:g,minWidth:f,maxWidth:b,"data-aether-id":"aether-card","data-testid":y,isClickable:!!s,onClick:function(){s&&s(i)}},o.createElement(r.default,{direction:"top"===_?"column":"row"},I&&("left"===_||"top"===_)&&o.createElement(r.default,{justifyContent:"center",alignItems:"center",backgroundColor:"background-color-primary",padding:"spacing-l",borderRadius:"border-radius-default"},I),o.createElement(d,{coverPosition:_,gap:"spacing-s",direction:"column",shrink:1,grow:1},p&&o.createElement(r.default,{justifyContent:"space-between",wrap:"wrap"},o.createElement(r.default,{padding:{paddingBottom:"spacing-s"}},p),m),o.createElement(r.default,{direction:"column",gap:"spacing-s"},S?o.createElement(r.default,{justifyContent:"space-between",gap:"spacing-m"},u&&o.createElement(l.default,{type:"h4",text:u}),m):u&&o.createElement(l.default,{type:"h4",text:u}),v)),I&&"right"===_&&o.createElement(r.default,{justifyContent:"center",alignItems:"center",padding:"spacing-l",borderRadius:"border-radius-default",backgroundColor:"background-color-primary"},I)))}));u.defaultProps={type:"outline",onClick:null,id:"",cover:{},title:"",figure:null,tag:null,height:"max-content",width:"inherit",minWidth:"228px",maxWidth:"",dataTestId:""},u.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired,type:i().oneOf(["outline","fill"]),onClick:i().func,id:i().string,cover:i().shape({src:i().node,position:i().oneOf(["top","right","left"])}),title:i().string,figure:i().node,tag:i().node,height:i().string,width:i().string,minWidth:i().string,maxWidth:i().string,dataTestId:i().string},t.default=u},"../../node_modules/@postman/aether/esmLib/src/components/CheckBoxGroup/CheckboxGroup.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether-design-tokens/esmLib/src/tokens.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js");function u(e){var t=e.isHidden,n=e.direction,s=e.children,i=e.padding,a=e.label,u=e.helperText,p=e["data-testid"],m=e["data-click"],h=o.Children.map(s,(function(e){return(0,o.isValidElement)(e)&&e.type===d.default?e:null}));return o.createElement("div",{"data-testid":p,"data-click":m},a?o.createElement(l.default,{type:"h6",text:a}):"",u?o.createElement(r.default,{padding:"spacing-xs spacing-zero"},o.createElement(c.default,{type:"para"},u)):"",o.createElement(r.default,{hiddenFor:t?["mobile","tablet","computer"]:[],direction:n,padding:i,gap:"column"===n?"spacing-m":"spacing-l"},h))}t.default=u,u.defaultProps={label:"",isHidden:!1,direction:"column",padding:"spacing-s spacing-zero spacing-zero",helperText:"","data-testid":"aether-checkbox-group","data-click":""},u.propTypes={isHidden:i().bool,direction:i().oneOf(["row","column"]),children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired,padding:i().oneOfType([i().oneOf(Object.keys(a.globals.spacing)),i().shape({paddingTop:i().string,paddingBottom:i().string,paddingLeft:i().string,paddingRight:i().string}),i().string]),label:i().string,helperText:i().string,"data-testid":i().string,"data-click":i().string}},"../../node_modules/@postman/aether/esmLib/src/components/ChipInput/ChipInput.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/prop-types/index.js"),l=n.n(r),c=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/ChipInput/CustomChipInputComponents.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/utils/common/mixins.js"),h=["error","warning","success"],g=a.default.div.withConfig({displayName:"ChipInput__StyledLabelContainer",componentId:"cs46vl-0"})(["display:flex;justify-content:space-between;"]),f=a.default.div.withConfig({displayName:"ChipInput__StyledHelperContainer",componentId:"cs46vl-1"})(["display:flex;justify-content:space-between;"]),b=a.default.div.withConfig({displayName:"ChipInput__StyledChipInputContainer",componentId:"cs46vl-2"})(["cursor:text;border-radius:",";background-color:",";color:",";border:",";overflow:auto;min-width:100%;box-sizing:border-box;outline:none;transition:border-color 0.2s ease-in-out,box-shadow 0.2s ease-in-out;resize:",";"," "," "," "," ",";"],(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["background-color-primary"]}),(function(e){return e.theme["input-color-default"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-default"])}),(function(e){return e.isResizable?"vertical":"none"}),(function(e){return e.rows&&"\n    min-height: calc( \n      (".concat(e.rows," * ").concat(e.theme["size-s"],")\n      + (").concat(e.rows+1," * ").concat(e.theme["spacing-xs"],")\n      + (2 * ").concat(e.theme["border-width-default"],")\n    );\n    height: calc( \n      (").concat(e.rows," * ").concat(e.theme["size-s"],")\n      + (").concat(e.rows+1," * ").concat(e.theme["spacing-xs"],") \n      + (2 * ").concat(e.theme["border-width-default"],")\n    );\n  ")}),(function(e){return e.validationStatus&&"\n    border-color: ".concat(e.theme["input-border-color-".concat(e.validationStatus)],";\n  ")}),(function(e){return!e.disabled&&"\n    &::placeholder {\n      color: ".concat(e.theme["content-color-tertiary"],";\n    }\n\n    &:is(:active, :focus-within) {\n      border-color: ").concat(e.theme["input-border-color-focus"],";\n      box-shadow: 0 0 0 2px ").concat(e.theme["input-shadow-focus"],";\n    }\n\n    /* Removing close icon when component is out of focus */\n    &:not(:is(:active, :focus-within)) {\n      ").concat(u.StyledCloseIconContainer," {\n        display: none;\n      }\n\n      ").concat(u.StyledChip,"{\n        padding-right: ").concat(e.theme["spacing-s"],";\n      }\n    }\n  ")}),(function(e){return e.disabled&&"\n    background: ".concat(e.theme["input-background-color-disabled"],";\n    border: ").concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-strong"],";\n    color: ").concat(e.theme["content-color-tertiary"],";\n    cursor: not-allowed;\n  ")}),m.default.includeDisabledState()),y=a.default.div.withConfig({displayName:"ChipInput__StyledChipInputWrapper",componentId:"cs46vl-3"})(["display:flex;flex-wrap:wrap;gap:",";padding:",";"],(function(e){return e.theme["spacing-xs"]}),(function(e){return"\n      ".concat(e.theme["spacing-xs"],"\n      ").concat(e.hasNoChips?e.theme["spacing-m"]:e.theme["spacing-xs"],"\n    ")})),v=a.default.input.withConfig({displayName:"ChipInput__StyledInput",componentId:"cs46vl-4"})(["border-style:none;line-height:",";font-size:",";font-weight:",";font-family:",";width:fit-content;background:transparent;cursor:inherit;color:",";padding:",";&:focus{outline:none;}"],(function(e){return e.theme["line-height-m"]}),(function(e){return e.theme["text-size-m"]}),(function(e){return e.theme["text-weight-regular"]}),(function(e){return e.theme["text-family-default"]}),(function(e){return e.theme["input-color-default"]}),(function(e){return"2px ".concat(e.theme["spacing-zero"])})),I=a.default.div.withConfig({displayName:"ChipInput__StyledValidationMessage",componentId:"cs46vl-5"})(["display:flex;align-items:center;color:",";font-size:",";line-height:",";margin:",";margin-top:",";.validation-message-icon{margin-right:",";}"],(function(e){return e.theme["content-color-".concat(e.type)]}),(function(e){return e.theme["text-size-s"]}),(function(e){return e.theme["line-height-s"]}),(function(e){return e.theme["spacing-zero"]}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["spacing-xs"]})),E=a.default.div.withConfig({displayName:"ChipInput__StyledLabelWrapper",componentId:"cs46vl-6"})(["user-select:none;width:max-content;"]),_=a.default.div.withConfig({displayName:"ChipInput__StyledContainer",componentId:"cs46vl-7"})(["width:100%;& > *:is(",",",") + ","{margin-top:",";}"],g,f,b,(function(e){return e.theme["spacing-xs"]})),S=[","],C=i.forwardRef((function(e,t){var n=e.onChange,a=e.onChangeList,r=e.onDelete,l=e.rows,m=e.name,h=e.initialList,C=e.value,T=e.label,j=e.helperText,A=e.placeholder,w=e.isDisabled,O=e.isResizable,N=e.validationStatus,D=e.validationMessage,R=e.onFocus,P=e.onBlur,M=e.id,L=e.className,x=e.autoFocus,k=e.disableChipCreation,F=e["data-testid"],V=(0,i.useRef)(null),B=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return V.current}));var U=(0,i.useState)(h),z=(0,s.default)(U,2),H=z[0],G=z[1],W=(0,i.useMemo)((function(){return Array.isArray(A)&&A.length>=2?H.length>0?A[1]:A[0]:A}),[A,H.length]);(0,i.useEffect)((function(){var e=V.current.value.toString().length,t=W?1.5*W.length:1.5;V.current.style.width="".concat(e>t?1.5*e:t,"ch")}),[C,W]);var $=function(e){e&&B.current!==e.target&&B.current.firstChild!==e.target||V.current.focus()},q=function(e,t){if(!w){var o=e.target.value;S.find((function(e){return e===o.charAt(o.length-1)}))||n&&n(e,t)}},Y=(0,i.useMemo)((function(){return T&&T.type===d.default?i.cloneElement(T,{type:"primary",htmlFor:M}):null}),[T,M]);return i.createElement(_,null,T&&i.createElement(g,null,i.createElement(E,{onClick:function(){w||V.current.focus()}},Y)),j&&i.createElement(f,null,i.createElement(p.default,{type:"_input-meta-text"},j)),i.createElement(b,{tabIndex:"-1",className:L,isResizable:O,validationStatus:N,onClick:$,disabled:w,rows:l,ref:B,"data-testid":F},i.createElement(y,{hasNoChips:0===H.length},H.map((function(e,t){return i.createElement(u.Chip,{key:t,label:e,isDisabled:w,onClick:function(){return function(e){if(!w){var t=H[e],n=H.filter((function(t,n){return n!==e}));G(n),a&&a(n),r&&r(t),$()}}(t)}})})),i.createElement(v,{name:m,id:M,ref:V,label:T,placeholder:W,disabled:w,onChange:q,value:void 0===C?"":C,autoFocus:x,onFocus:R,onBlur:P,onKeyDown:function(e){if(!w&&!k)if(C&&("Enter"===e.key||S.find((function(t){return t===e.key})))){var t=[].concat((0,o.default)(H),[V.current.value]);G(t),a&&a(t),q({target:{value:""}},{reset:!0})}else if(!C&&H.length&&"Backspace"===e.key){var n=H.slice(0,-1);G(n),a&&a(n)}}}))),N&&D&&i.createElement(I,{type:N},i.createElement(c.default,{color:"content-color-".concat(N),className:"validation-message-icon",name:"icon-state-".concat(N,"-stroke-small"),size:"small"}),D))}));C.displayName="ChipInput",C.defaultProps={disableChipCreation:!1,initialList:[],placeholder:"",isDisabled:!1,onFocus:null,onBlur:null,className:void 0,validationStatus:void 0,isResizable:!0,name:void 0,rows:3,validationMessage:"",helperText:"",label:"",id:void 0,autoFocus:!1,onChangeList:void 0,onDelete:void 0,"data-testid":"aether-chip-input"},C.propTypes={name:l().string,id:l().string,className:l().string,onChange:l().func.isRequired,initialList:l().arrayOf(l().string),value:l().string.isRequired,placeholder:l().oneOfType([l().string,l().arrayOf(l().string)]),label:function(e){var t=e.label;if(t){if(t.type!==d.default)return new Error("TextArea: label prop only accepts Aether Label component.");if("primary"!==(t.props&&t.props.type))return new Error("TextArea: label prop only accepts Label type primary.")}return null},helperText:l().string,validationMessage:l().string,validationStatus:function(e){var t=e.validationStatus;return t&&-1===h.indexOf(t)?new Error('\n      ChipInput: Invalid prop for validationStatus: expected one of "error", "success" or "warning"\n      '):null},isResizable:l().bool,disableChipCreation:l().bool,autoFocus:l().bool,isDisabled:l().bool,rows:l().number,onChangeList:l().func,onDelete:l().func,onFocus:l().func,onBlur:l().func,"data-testid":l().string},t.default=C},"../../node_modules/@postman/aether/esmLib/src/components/ChipInput/CustomChipInputComponents.js":function(e,t,n){"use strict";n.r(t),n.d(t,{Chip:function(){return d},ChipLabel:function(){return u},CloseIcon:function(){return l},StyledChip:function(){return c},StyledCloseIconContainer:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-close-stroke-small.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=s.default.button.withConfig({displayName:"CustomChipInputComponents__StyledCloseIconContainer",componentId:"sc-1y84ug7-0"})(["border:",";display:flex;justify-content:center;align-items:center;cursor:pointer;height:",";width:",";border-top-right-radius:",";border-bottom-right-radius:",";background-color:transparent;svg path{fill:",";}&:hover{svg path{fill:",";}}&:is(:focus,:active){svg path{fill:",";}outline:none;}&:disabled{cursor:not-allowed;svg path{fill:",";}}"],(function(e){return e.theme["spacing-zero"]}),(function(e){return e.theme["size-s"]}),(function(e){return e.theme["size-s"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["content-color-secondary"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["content-color-tertiary"]})),l=o.forwardRef((function(e,t){var n=e.onClick,s=e.isDisabled,a=e.onKeyDown;return o.createElement(r,{onKeyDown:a,ref:t,disabled:s,onClick:n},o.createElement(i.default,null))}));l.name="CloseIcon";var c=s.default.div.withConfig({displayName:"CustomChipInputComponents__StyledChip",componentId:"sc-1y84ug7-1"})(["box-sizing:border-box;display:flex;justify-content:center;align-items:center;height:",";padding:",";color:",";background-color:",";border-radius:",";&:hover{background-color:",";}&:is(:active,:focus-within){background-color:",";}"],(function(e){return e.theme["size-s"]}),(function(e){return"2px ".concat(e.theme["spacing-zero"]," 2px ").concat(e.theme["spacing-s"])}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.isDisabled?e.theme["highlight-background-color-tertiary"]:e.theme["background-color-tertiary"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return!e.isDisabled&&e.theme["highlight-background-color-primary"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}));function d(e){var t=(0,o.useRef)(),n=e.label,s=e.onClick,i=e.isDisabled;return o.createElement(c,{onClick:function(){t.current.focus()},isDisabled:i},o.createElement(u,{isDisabled:i},n),o.createElement(l,{onKeyDown:function(e){"Backspace"===e.key&&s()},ref:t,isDisabled:i,onClick:function(e){s(),e.stopPropagation()}}))}function u(e){var t=e.children,n=e.isDisabled;return o.createElement(a.default,{type:"body-medium",color:n&&"content-color-secondary"},t)}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectComponents.js":function(e,t,n){"use strict";n.r(t),n.d(t,{DefaultMultiSelectMenuList:function(){return y},MultiSelectChip:function(){return g},MultiSelectChipCloseIcon:function(){return m},MultiSelectChipLabel:function(){return f},MultiSelectOption:function(){return u}});var o=n("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("../../node_modules/@postman/aether/node_modules/react-select/dist/index-c7a4d7ce.esm.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-close-stroke-small.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=["isDisabled","isFocused","children"],d=i.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectOption",componentId:"sc-1e7h8n3-0"})(["display:flex;align-items:center;cursor:pointer;font-size:",";line-height:",";padding:",";border-radius:",";color:",";"," ",""],(function(e){return e.theme["text-size-m"]}),(function(e){return e.theme["line-height-m"]}),(function(e){return"".concat(e.theme["spacing-xs"]," ").concat(e.theme["spacing-m"],";")}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.isFocused&&!e.isDisabled&&"background-color: ".concat(e.theme["highlight-background-color-primary"],";")}),(function(e){return e.isDisabled&&"\n      cursor: not-allowed;\n      color: ".concat(e.theme["content-color-tertiary"],";\n    ")}));function u(e){var t=e.isDisabled,n=e.isFocused,i=e.children,r=(0,o.default)(e,c);return s.createElement(a.c.Option,r,s.createElement(d,{isDisabled:t,isFocused:n},i))}var p=i.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectChipCloseIcon",componentId:"sc-1e7h8n3-1"})(["display:inline-flex;justify-content:center;align-items:center;cursor:pointer;height:",";width:",";margin-left:",";border-top-right-radius:",";border-bottom-right-radius:",";background-color:",";svg path{fill:",";}&:hover{background-color:",";svg path{fill:",";}}"],(function(e){return e.theme["size-s"]}),(function(e){return e.theme["size-s"]}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["content-color-secondary"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["content-color-primary"]}));function m(e){return s.createElement(a.c.MultiValueRemove,e,s.createElement(p,{className:"aether-multiselect-dropdown__multi-value-chip--remove-icon"},s.createElement(r.default,null)))}var h=i.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectChip",componentId:"sc-1e7h8n3-2"})(["box-sizing:border-box;display:inline-flex;justify-content:center;align-items:center;height:",";padding:",";margin-bottom:",";margin-right:",";color:",";background-color:",";border-radius:",";"],(function(e){return e.theme["size-s"]}),(function(e){return"2px ".concat(e.theme["spacing-zero"]," 2px ").concat(e.theme["spacing-s"])}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["border-radius-default"]}));function g(e){var t=e.children;return s.createElement(h,{className:"aether-multiselect-dropdown__multi-select-chip"},t)}function f(e){var t=e.children;return s.createElement(l.default,{type:"body-medium"},t)}var b=(0,i.default)(a.c.MenuList).withConfig({displayName:"CustomMultiSelectComponents__StyledMenuList",componentId:"sc-1e7h8n3-3"})(["padding:8px;& .aether-multiselect-dropdown__group:not(:last-child){margin-bottom:12px;}& .aether-multiselect-dropdown__group:first-child{padding-top:4px;}"]);function y(e){var t=e.children;return s.createElement(b,e,t)}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,{customBaseStyles:function(){return r},postmanSpecificStyles:function(){return a}});var o=n("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=(0,n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").css)(["& .aether-multiselect-dropdown__single-value{color:",";left:",";right:",";}& .aether-multiselect-dropdown__control{box-sizing:border-box;height:auto;min-height:32px;max-height:72px;overflow-x:hidden;overflow-y:auto;border:",";transition:border-color 0.2s ease-in-out,box-shadow 0.2s ease-in-out;background-color:",";& .aether-multiselect-dropdown__multi-value-chip--remove-icon{display:none;}& .aether-multiselect-dropdown__multi-select-chip{padding-right:",";}& .aether-multiselect-dropdown__value-container,& .aether-multiselect-dropdown__single-value{color:",";}&:hover{border-color:",";}&--is-focused{outline:none;border:",";box-shadow:",";&:hover{border:",";}& .aether-multiselect-dropdown__single-value{right:",";}& .aether-multiselect-dropdown__multi-select-chip{padding-right:",";}& .aether-multiselect-dropdown__multi-value-chip--remove-icon{display:inline-flex;}}&--is-disabled{user-select:none;cursor:not-allowed;background:",";border:",";color:",";& .aether-multiselect-dropdown__dropdown-indicator svg path{fill:",";}& .aether-multiselect-dropdown__multi-select-chip{color:",";}&:hover{border-color:",";}}","}& .aether-multiselect-dropdown__input{color:"," !important;caret-color:",";height:16px;}& .aether-multiselect-dropdown__placeholder{color:",";}& .aether-multiselect-dropdown__dropdown-indicator{svg path{fill:",";}padding:",";}& .aether-multiselect-dropdown__clear-indicator{padding:",";}"],(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["spacing-m"]}),(function(e){return e.theme["spacing-xl"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-default"],";")}),(function(e){return e.theme["background-color-primary"]}),(function(e){return e.theme["spacing-s"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["input-border-color-default"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-focus"],";")}),(function(e){return"0 0 0 2px ".concat(e.theme["input-shadow-focus"],";")}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-focus"],";")}),(function(e){return e.theme["spacing-xxxl"]}),(function(e){return e.theme["spacing-zero"]}),(function(e){return e.theme["input-background-color-disabled"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-strong"],";")}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["border-color-strong"]}),(function(e){var t=e.validationState;return t.status?"\n          border-color: ".concat(e.theme["input-border-color-".concat(t.status)],";\n\n          &:hover {\n            border-color: ").concat(e.theme["input-border-color-".concat(t.status)],";\n          }\n\n          &--is-focused,\n          &--is-focused:hover {\n            border-color: ").concat(e.theme["input-border-color-focus"],";;\n          }\n        "):""}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-secondary"]}),(function(e){return"".concat(e.theme["spacing-zero"]," ").concat(e.theme["spacing-s"],";")}),(function(e){return e.theme["spacing-zero"]})),r={container:function(e){return i(i({},e),{},{pointerEvents:"auto"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}}}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/DefaultMultiSelect.js":function(e,t,n){"use strict";n.r(t),n.d(t,{StyledCreatableReactSelect:function(){return b},StyledReactSelect:function(){return f},default:function(){return y}});var o=n("../../node_modules/@babel/runtime/helpers/esm/extends.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/node_modules/react-select/dist/react-select.esm.js"),l=n("../../node_modules/@postman/aether/node_modules/react-select/creatable/dist/react-select.esm.js"),c=n("../../node_modules/prop-types/index.js"),d=n.n(c),u=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/CustomComponents.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectComponents.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectStyles.js");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,a.default)(r.default).withConfig({displayName:"DefaultMultiSelect__StyledReactSelect",componentId:"sc-14ka43a-0"})(["",""],m.postmanSpecificStyles),b=(0,a.default)(l.default).withConfig({displayName:"DefaultMultiSelect__StyledCreatableReactSelect",componentId:"sc-14ka43a-1"})(["",""],m.postmanSpecificStyles);function y(e){var t=e["aria-label"],n=e["aria-labelledby"],s=e.id,a=e.isOpen,r=e.onChange,l=e.onCreateNewOption,c=e.onClose,d=e.onOpen,m=e.options,h=e.value,y=e.placeholder,v=e.emptyStateMessage,I=e.isDisabled,E=e.isLoading,_=e.isOptionDisabled,S=e.viaPortal,C=e.closeMenuOnSelect,T=e.validationState,j=e.allowCreateNewOption,A=e.customOptionComponent,w=e.menuMaxHeight,O=e.triggerWidth,N=e.containerWidth,D=e.className;function R(e,t){var n=t.action,o=t.option;"create-option"===n&&l&&l(o),r(e,{action:n,option:o})}return i.createElement(i.Fragment,null,j?i.createElement(b,(0,o.default)({isMulti:!0,inputId:s,menuIsOpen:a},S&&{menuPortalTarget:document.getElementById("aether-dropdown-portal")},{onChange:R,onMenuClose:c,onMenuOpen:d},h&&{value:h},{options:m,placeholder:y,isDisabled:I,closeMenuOnSelect:C,"aria-label":t,"aria-labelledby":n},_&&{isOptionDisabled:_},{emptyStateMessage:v,formatOptionLabel:!E&&A,validationState:T,classNamePrefix:"aether-multiselect-dropdown",className:D,maxMenuHeight:w,styles:{container:function(e){return g(g({},e),{},{pointerEvents:"auto"})},control:function(e){return g(g({},e),{},{width:O})},input:function(e){return g(g({},e),{},{margin:0,padding:0,height:"20px",lineHeight:"normal"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}},group:function(e){return g(g({},e),{},{padding:0,margin:0})},groupHeading:function(e){return g(g({},e),{},{userSelect:"none",fontSize:"11px",fontWeight:600,lineHeight:"16px",marginBottom:"4px",padding:"0px 12px",textTransform:"none"})},menu:function(e){return g(g({},e),{},{width:N,paddingLeft:"0",paddingRight:"0",border:"none",zIndex:1e3})},menuList:function(e){return g(g({},e),{},{paddingTop:"8px",paddingBottom:"8px"})},menuPortal:function(e){return g(g({},e),{},{zIndex:1e3})},noOptionsMessage:function(e){return g(g({},e),{},{padding:"0"})},option:function(e){return g(g({},e),{},{padding:"0",":active":{backgroundColor:"transparent"}})},placeholder:function(e){return g(g({},e),{},{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"12px",lineHeight:"20px",left:"6px",right:"16px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})},valueContainer:function(e){return g(g({},e),{},{display:"flex",position:"static",height:"100%",paddingInline:"4px",padding:"4px 4px 0px 4px",fontSize:"12px"})}},components:{DropdownIndicator:null,ClearIndicator:null,NoOptionsMessage:u.EmptyState,Option:p.MultiSelectOption,Menu:u.Menu,MenuList:E?u.StaticLoader:p.DefaultMultiSelectMenuList,MultiValueContainer:p.MultiSelectChip,MultiValueLabel:p.MultiSelectChipLabel,MultiValueRemove:p.MultiSelectChipCloseIcon,IndicatorSeparator:null,GroupHeading:u.GroupHeading}})):i.createElement(f,(0,o.default)({isMulti:!0,inputId:s,menuIsOpen:a},S&&{menuPortalTarget:document.getElementById("aether-dropdown-portal")},{onChange:R,onMenuClose:c,onMenuOpen:d},h&&{value:h},{options:m,placeholder:y,isDisabled:I,closeMenuOnSelect:C,"aria-label":t,"aria-labelledby":n},_&&{isOptionDisabled:_},{emptyStateMessage:v,formatOptionLabel:!E&&A,validationState:T,classNamePrefix:"aether-multiselect-dropdown",className:D,maxMenuHeight:w,styles:{container:function(e){return g(g({},e),{},{pointerEvents:"auto"})},control:function(e){return g(g({},e),{},{width:O})},input:function(e){return g(g({},e),{},{margin:0,padding:0,height:"20px",lineHeight:"normal"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}},group:function(e){return g(g({},e),{},{padding:0,margin:0})},groupHeading:function(e){return g(g({},e),{},{userSelect:"none",fontSize:"11px",fontWeight:600,lineHeight:"16px",marginBottom:"4px",padding:"0px 12px",textTransform:"none"})},menu:function(e){return g(g({},e),{},{width:N,paddingLeft:"0",paddingRight:"0",border:"none",zIndex:1e3})},menuList:function(e){return g(g({},e),{},{paddingTop:"8px",paddingBottom:"8px"})},menuPortal:function(e){return g(g({},e),{},{zIndex:1e3})},noOptionsMessage:function(e){return g(g({},e),{},{padding:"0"})},option:function(e){return g(g({},e),{},{padding:"0",":active":{backgroundColor:"transparent"}})},placeholder:function(e){return g(g({},e),{},{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"12px",lineHeight:"20px",left:"6px",right:"16px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})},valueContainer:function(e){return g(g({},e),{},{display:"flex",position:"static",height:"100%",paddingInline:"4px",padding:"4px 4px 0px 4px",fontSize:"12px"})}},components:{DropdownIndicator:null,ClearIndicator:null,NoOptionsMessage:u.EmptyState,Option:p.MultiSelectOption,Menu:u.Menu,MenuList:E?u.StaticLoader:p.DefaultMultiSelectMenuList,MultiValueContainer:p.MultiSelectChip,MultiValueLabel:p.MultiSelectChipLabel,MultiValueRemove:p.MultiSelectChipCloseIcon,IndicatorSeparator:null,GroupHeading:u.GroupHeading}})))}y.defaultProps={isOpen:void 0,onClose:null,onCreateNewOption:null,onOpen:null,value:null,"aria-label":void 0,"aria-labelledby":void 0,placeholder:"Select option",emptyStateMessage:"No options found",menuMaxHeight:"auto",triggerWidth:"auto",containerWidth:"auto",className:"",isDisabled:!1,isLoading:!1,viaPortal:!1,isOptionDisabled:function(){},closeMenuOnSelect:!1,allowCreateNewOption:!1,customOptionComponent:null,validationState:{status:"",message:""}},y.propTypes={onChange:d().func.isRequired,options:d().arrayOf(d().shape({label:d().string,value:d().oneOfType([d().string,d().number])})).isRequired,id:d().string.isRequired,"aria-label":d().string,"aria-labelledby":d().string,value:d().array,isOpen:d().bool,onClose:d().func,onCreateNewOption:function(e){var t=e.allowCreateNewOption,n=e.onCreateNewOption;return!t&&n?new Error("MultiSelect: onCreateNewOption is only allowed to be used when the prop allowCreateNewOption is passed as true."):n&&"function"!=typeof n?new Error("MultiSelect: Expected the type of the onCreateNewOption to be a function."):null},onOpen:d().func,placeholder:d().string,emptyStateMessage:d().string,menuMaxHeight:d().oneOfType([d().number,d().string]),triggerWidth:d().oneOfType([d().number,d().string]),containerWidth:d().oneOfType([d().string,d().number]),className:d().string,isDisabled:d().bool,isLoading:d().bool,viaPortal:d().bool,isOptionDisabled:d().func,closeMenuOnSelect:d().bool,allowCreateNewOption:d().bool,customOptionComponent:d().func,validationState:d().shape({status:d().oneOf(["","success","error","warning"]),message:d().string})}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n("../../node_modules/@babel/runtime/helpers/esm/extends.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/prop-types/index.js"),r=n.n(a),l=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownContainer.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownLabel.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownValidationMessage.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/DefaultMultiSelect.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js");function h(e){var t=(0,i.useRef)(null),n=(0,i.useState)(""),a=(0,s.default)(n,2),r=a[0],l=a[1],h=e.type,g=e.label,f=e.helperText,b=e.id,y=e.validationState,v=e["data-testid"],I=e["data-click"];return(0,i.useEffect)((function(){t.current&&(t.current.offsetWidth?l(t.current.offsetWidth):l("auto"))}),[]),"compact"===h?i.createElement(m.default,e):i.createElement(c.default,{ref:t,"data-aether-id":"aether-multiSelect","data-testid":v,"data-click":I},i.createElement(d.default,{id:b,label:g,helperText:f}),i.createElement(p.default,(0,o.default)({containerWidth:r},e)),i.createElement(u.default,{validationState:y}))}h.defaultProps={type:"default",id:"",label:"",helperText:"",validationState:{status:"",message:""},"data-testid":"aether-multi-select","data-click":""},h.propTypes={type:r().oneOf(["default","compact"]),id:r().string,label:function(e){var t=e.label;return t&&t.type!==l.default&&"string"!=typeof t?new Error("MultiSelect: label prop only accepts string or the Aether's Label component as valid value."):null},helperText:r().string,validationState:r().shape({status:r().oneOf(["","success","error","warning"]),message:r().string}),"data-testid":r().string,"data-click":r().string}},"../../node_modules/@postman/aether/esmLib/src/components/FileUploader/FileUploader.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("../../node_modules/prop-types/index.js"),r=n.n(a),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),p=i.default.input.attrs({type:"file"}).withConfig({displayName:"FileUploader__StyledInputFile",componentId:"yxf6ba-0"})(["height:0.1px;opacity:0;width:0.1px;z-index:-1;&:focus + label{box-shadow:",";outline:none;}"],(function(e){return e.theme["shadow-focus"]})),m=i.default.label.withConfig({displayName:"FileUploader__StyledFileUploaderLabel",componentId:"yxf6ba-1"})(["user-select:none;color:",";font-size:",";width:max-content;height:",";vertical-align:middle;line-height:",";display:inline-block;padding:",";border:",";border-color:",";box-sizing:border-box;border-radius:",";margin-top:",";&:hover{cursor:",";border-color:",";}"],(function(e){return e.isDisabled?e.theme["content-color-tertiary"]:e.theme["content-color-primary"]}),(function(e){return e.theme["text-size-m"]}),(function(e){return e.theme["size-m"]}),(function(e){return"calc(".concat(e.theme["line-height-xxl"]," - 2px)")}),(function(e){return"".concat(e.theme["spacing-zero"]," ").concat(e.theme["spacing-m"])}),(function(e){return e.theme["button-outline-border"]}),(function(e){return e.theme["button-outline-border-color"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["spacing-s"]}),(function(e){return e.isDisabled?"not-allowed":"pointer"}),(function(e){return!e.isDisabled&&e.theme["button-outline-hover-border-color"]})),h=i.default.div.withConfig({displayName:"FileUploader__StyleFileListWrapper",componentId:"yxf6ba-2"})(["width:320px;height:32px;border-radius:",";padding-left:",";display:flex;justify-content:space-between;align-items:'center';background-color:",";& .aether-remove-uploaded-file-btn{border-top-left-radius:0;border-bottom-left-radius:0;}color:",";"],(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["spacing-m"]}),(function(e){return e.theme["background-color-secondary"]}),(function(e){return e.theme["content-color-primary"]})),g=i.default.div.withConfig({displayName:"FileUploader__StyledFileNameContainer",componentId:"yxf6ba-3"})(["display:flex;align-items:center;width:258px;"]),f=s.forwardRef((function(e,t){var n=e.initialList,i=e.label,a=e.helperText,r=e.actionLabel,f=e.id,b=e.name,y=e.className,v=e.isDisabled,I=e.multiple,E=e.onChange,_=e.accept,S=e.autoFocus,C=e["data-testid"],T=e["data-click"],j=(0,s.useState)(!I&&Array.isArray(n)?n:[]),A=(0,o.default)(j,2),w=A[0],O=A[1],N=(0,s.useRef)(null);N=t||N;var D=(0,s.useRef)(null);return s.createElement(l.default,{direction:"column"},s.createElement(c.default,{size:"medium"},i),a&&s.createElement(d.default,{type:"_input-meta-text",color:"content-color-secondary",lineLengthType:"none"},a),s.createElement(p,{id:f,ref:N,onChange:function(e){var t=e.target,n=t&&t.files;0!==n.length?(O(Object.values(n).map((function(e){return{name:e.name}}))),D.current=n,E&&!v&&E(n)):N.current.files=D.current},multiple:I,disabled:v,accept:_,name:b,className:y,"data-testid":C,"data-click":T,autoFocus:S}),s.createElement(m,{"data-aether-id":"aether-label",htmlFor:f,isDisabled:v},r),w.length>0&&s.createElement(l.default,{direction:"column",padding:{paddingTop:"spacing-l"},gap:"spacing-xs"},w.map((function(e){return s.createElement(h,{className:"aether-file-list-wrapper","data-aether-id":"aether-fileUploader",key:e.name},s.createElement(g,null,s.createElement(d.default,{type:"body-medium",isTruncated:!0},e.name)),s.createElement(u.default,{className:"aether-remove-uploaded-file-btn",onClick:function(){!function(e){for(var t=N.current&&N.current.files,n=new DataTransfer,o=0;o<t.length;o+=1){var s=t[o];e!==s.name&&n.items.add(s)}O(w.filter((function(t){return e!==t.name}))),N.current.files=n.files,E&&!v&&E(N.current.files)}(e.name)},type:"tertiary",icon:"icon-action-close-stroke"}))}))))}));f.defaultProps={initialList:void 0,helperText:"",actionLabel:"Add Files",isDisabled:!1,multiple:!1,accept:"*",name:"",className:"",autoFocus:!1,"data-testid":"aether-file-uploader","data-click":""},f.propTypes={initialList:r().arrayOf(r().object),label:r().string.isRequired,onChange:r().func.isRequired,helperText:r().string,actionLabel:r().node,id:r().string.isRequired,name:r().string,className:r().string,isDisabled:r().bool,multiple:r().bool,accept:r().string,autoFocus:r().bool,"data-testid":r().string,"data-click":r().string},f.displayName="FileUploader",t.default=f},"../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o=n("../../node_modules/@babel/runtime/helpers/esm/extends.js"),s=n("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/prop-types/index.js"),l=n.n(r),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=["heading","description","width","onSubmit","preventDefault","primaryAction","secondaryAction","children"],h=a.default.form.withConfig({displayName:"Form__StyledForm",componentId:"ak4rok-0"})(["width:",";"],(function(e){return e.width}));function g(e){var t=e.heading,n=e.description,a=e.width,r=e.onSubmit,l=e.preventDefault,g=e.primaryAction,f=e.secondaryAction,b=e.children,y=(0,s.default)(e,m);return i.createElement(h,(0,o.default)({width:a},y,{"data-aether-id":"aether-form",onSubmit:function(e){l&&e.preventDefault(),r&&r(e)}}),i.createElement(c.default,{gap:"spacing-xxl",direction:"column"},i.createElement(c.default,{gap:"spacing-xl",direction:"column"},(t||n)&&i.createElement(c.default,{gap:"spacing-xs",direction:"column"},t?i.createElement(u.default,{type:"h1",text:t,"data-testid":"aether-form-heading"}):null,n?i.createElement(p.default,{type:"lead","data-testid":"aether-form-description"},n):null),b),i.createElement(c.default,{gap:"spacing-s"},function(e){if(e&&e.type===d.default&&"primary"===(e.props&&e.props.type))return e;return null}(g),function(e){if(e&&e.type===d.default&&"secondary"===(e.props&&e.props.type))return e;return null}(f))))}g.defaultProps={heading:"",description:"",width:"100%",primaryAction:null,secondaryAction:null,preventDefault:!0,onSubmit:null,"data-testid":"aether-form","data-click":""},g.propTypes={heading:l().string,description:l().string,width:l().string,onSubmit:l().func,preventDefault:l().bool,primaryAction:function(e){var t=e.primaryAction;if(t){if(t.type!==d.default)return new Error("Form: primaryAction prop only accepts Aether button component.");if("primary"!==(t.props&&t.props.type))return new Error("Form: primaryAction prop only accepts button type primary.")}return null},secondaryAction:function(e){var t=e.secondaryAction;if(t){if(t.type!==d.default)return new Error("Form: secondaryAction prop only accepts Aether button component.");if("secondary"!==(t.props&&t.props.type))return new Error("Form: secondaryAction prop only accepts button type secondary.")}return null},children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,"data-testid":l().string,"data-click":l().string}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/AddPayment.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-add-payment"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/AutoFlex.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-auto-flex"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/BootcampWelcome.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-bootcamp-welcome"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CallFailed.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-call-failed"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Christmas.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-christmas"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/ConnectToServer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-connect-to-server"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CreateFlow.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-create-flow"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CriticalDanger.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-critical-danger"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/DataTransfer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-data-transfer"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/EmptyStateGraphQLHitSend.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"illustration-graphQL-hit-send"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/EmptyTrash.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-empty-trash"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/ForkOnline.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-fork-online"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/GraphQLSchemaLoaded.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-graphQL-schema-loaded"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/MergeConditions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-merge-conditions"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/MonitorRun.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-monitor-run"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCallYet.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-call-yet"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-cookies"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCustomDomain.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-custom-domain"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoExportRequest.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-export-request"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoHistory.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-history"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoIntegrations.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-integrations"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMockServer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-mock-server"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMonitor.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-monitor"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoPullRequest.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-pull-request"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-request-in-collection"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoSavedMessage.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-no-saved-message"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Reload.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-reload"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/RunAborted.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-run-aborted"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/SaveReminder.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-save-reminder"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Showcase.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-showcase"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/SwitchToWorkspace.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-switch-to-workspace"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/TestFail.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-test-fail"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToPullRequest.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-unable-to-pull-request"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToVisualize.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-unable-to-visualize"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Wondering.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"illustration-wondering"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/listOfIllustrations.js":function(e,t,n){"use strict";n.r(t),n.d(t,{LIST_OF_ILLUSTRATIONS_COMP:function(){return Me},LIST_OF_PAGE_ILLUSTRATIONS_COMP:function(){return xe},LIST_OF_SPOT_ILLUSTRATIONS_COMP:function(){return Le}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/InternalServerError.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CheckInternetConnection.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Enterprise.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/ForkOnline.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/HitSend.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/JoinTeam.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/MergeConditions.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoAPIKeys.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoIntegrations.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoActivity.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCollection.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoEnvironment.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoHistory.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoExportRequest.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoAPI.js"),I=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CallFailed.js"),E=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCallYet.js"),_=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMockServer.js"),S=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMonitor.js"),C=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),T=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoPullRequest.js"),j=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoPermission.js"),A=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/RunAborted.js"),w=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToPullRequest.js"),O=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Search.js"),N=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/SignIn.js"),D=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/SwitchToWorkspace.js"),R=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/EmptyTrash.js"),P=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnauthorizedError.js"),M=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoFork.js"),L=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/AddPayment.js"),x=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),k=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToVisualize.js"),F=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CriticalDanger.js"),V=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CommentOnDiff.js"),B=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/InlineComment.js"),U=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/MonitorRun.js"),z=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js"),H=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/AutoFlex.js"),G=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js"),W=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/TestFail.js"),$=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/TestPass.js"),q=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCustomDomain.js"),Y=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/ConnectToServer.js"),K=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/BootcampLesson.js"),J=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/BootcampWelcome.js"),Z=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CreateFlow.js"),X=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/ChooseWorkspace.js"),Q=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Wondering.js"),ee=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoSavedMessage.js"),te=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Success.js"),ne=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Christmas.js"),oe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/QuickLinks.js"),se=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/WriteTests.js"),ie=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/DataTransfer.js"),ae=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/EmptyStateGraphQLHitSend.js"),re=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/GraphQLSchemaLoaded.js"),le=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/DocumentCreationProgress.js"),ce=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Reload.js"),de=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/SaveReminder.js"),ue=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Showcase.js"),pe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/AutoFlexPay.js"),me=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Collaborate.js"),he=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/EasyManagement.js"),ge=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/FreeForever.js"),fe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Invite.js"),be=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/MonitorAndMocks.js"),ye=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/PayLater.js"),ve=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/PopularWorkspaces.js"),Ie=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Security.js"),Ee=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/SharedRequests.js"),_e=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Winners.js"),Se=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Authentication.js"),Ce=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Categories.js"),Te=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/StartUp.js"),je=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/API101.js"),Ae=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/ArtificialIntelligence.js"),we=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/File.js"),Oe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Documentation.js"),Ne=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/Hoverboard.js"),De=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/FindReasons.js"),Re=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/Goodbye.js"),Pe=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/NoAccess.js"),Me={"illustration-internal-server-error":o.createElement(s.default,null),"illustration-check-internet-connection":o.createElement(i.default,null),"illustration-page-not-found":o.createElement(a.default,null),"illustration-unauthorized-error":o.createElement(P.default,null),"illustration-enterprise":o.createElement(r.default,null),"illustration-fork-online":o.createElement(l.default,null),"illustration-hit-send":o.createElement(c.default,null),"illustration-join-team":o.createElement(d.default,null),"illustration-merge-conditions":o.createElement(u.default,null),"illustration-no-API-keys":o.createElement(p.default,null),"illustration-no-integrations":o.createElement(m.default,null),"illustration-no-activity":o.createElement(h.default,null),"illustration-no-collection":o.createElement(g.default,null),"illustration-no-request-in-collection":o.createElement(G.default,null),"illustration-no-cookies":o.createElement(z.default,null),"illustration-no-environment":o.createElement(f.default,null),"illustration-no-history":o.createElement(b.default,null),"illustration-no-export-request":o.createElement(y.default,null),"illustration-no-API":o.createElement(v.default,null),"illustration-no-call-yet":o.createElement(E.default,null),"illustration-no-mock-server":o.createElement(_.default,null),"illustration-no-monitor":o.createElement(S.default,null),"illustration-no-report":o.createElement(C.default,null),"illustration-no-pull-request":o.createElement(T.default,null),"illustration-no-permission":o.createElement(j.default,null),"illustration-no-fork":o.createElement(M.default,null),"illustration-call-failed":o.createElement(I.default,null),"illustration-run-aborted":o.createElement(A.default,null),"illustration-monitor-run":o.createElement(U.default,null),"illustration-unable-to-pull-request":o.createElement(w.default,null),"illustration-unable-to-load":o.createElement(x.default,null),"illustration-unable-to-visualize":o.createElement(k.default,null),"illustration-search":o.createElement(O.default,null),"illustration-signIn":o.createElement(N.default,null),"illustration-switch-to-workspace":o.createElement(D.default,null),"illustration-empty-trash":o.createElement(R.default,null),"illustration-add-payment":o.createElement(L.default,null),"illustration-auto-flex":o.createElement(H.default,null),"illustration-inline-comment":o.createElement(B.default,null),"illustration-comment-on-diff":o.createElement(V.default,null),"illustration-critical-danger":o.createElement(F.default,null),"illustration-test-fail":o.createElement(W.default,null),"illustration-test-pass":o.createElement($.default,null),"illustration-connect-to-server":o.createElement(Y.default,null),"illustration-no-custom-domain":o.createElement(q.default,null),"illustration-bootcamp-lesson":o.createElement(K.default,null),"illustration-bootcamp-welcome":o.createElement(J.default,null),"illustration-create-flow":o.createElement(Z.default,null),"illustration-choose-workspace":o.createElement(X.default,null),"illustration-wondering":o.createElement(Q.default,null),"illustration-no-saved-message":o.createElement(ee.default,null),"illustration-success":o.createElement(te.default,null),"illustration-christmas":o.createElement(ne.default,null),"illustration-quick-links":o.createElement(oe.default,null),"illustration-write-tests":o.createElement(se.default,null),"illustration-data-transfer":o.createElement(ie.default,null),"illustration-graphQL-hit-send":o.createElement(ae.default,null),"illustration-graphQL-schema-loaded":o.createElement(re.default,null),"illustration-document-creation-progress":o.createElement(le.default,null),"illustration-reload":o.createElement(ce.default,null),"illustration-save-reminder":o.createElement(de.default,null),"illustration-showcase":o.createElement(ue.default,null)},Le={"spot-illustration-autoFlex-pay":o.createElement(pe.default,null),"spot-illustration-collaborate":o.createElement(me.default,null),"spot-illustration-easy-management":o.createElement(he.default,null),"spot-illustration-free-forever":o.createElement(ge.default,null),"spot-illustration-invite":o.createElement(fe.default,null),"spot-illustration-monitor-and-mocks":o.createElement(be.default,null),"spot-illustration-pay-later":o.createElement(ye.default,null),"spot-illustration-popular-workspaces":o.createElement(ve.default,null),"spot-illustration-security":o.createElement(Ie.default,null),"spot-illustration-shared-requests":o.createElement(Ee.default,null),"spot-illustration-winners":o.createElement(_e.default,null),"spot-illustration-authentication":o.createElement(Se.default,null),"spot-illustration-categories":o.createElement(Ce.default,null),"spot-illustration-startUp":o.createElement(Te.default,null),"spot-illustration-API101":o.createElement(je.default,null),"spot-illustration-artificial-intelligence":o.createElement(Ae.default,null),"spot-illustration-file":o.createElement(we.default,null),"spot-illustration-documentation":o.createElement(Oe.default,null)},xe={"page-illustration-hoverboard":o.createElement(Ne.default,null),"page-illustration-find-reasons":o.createElement(De.default,null),"page-illustration-goodbye":o.createElement(Re.default,null),"page-illustration-no-access":o.createElement(Pe.default,null)}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/FindReasons.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"page-illustration-find-reasons"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/Goodbye.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"page-illustration-goodbye"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/Hoverboard.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"page-illustration-hoverboard"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/page-illustrations/NoAccess.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"page-illustration-no-access"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/API101.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-API101"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/ArtificialIntelligence.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-artificial-intelligence"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Authentication.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-authentication"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/AutoFlexPay.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-autoFlex-pay"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Categories.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-categories"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Collaborate.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-collaborate"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Documentation.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"spot-illustration-documentation"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/EasyManagement.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-easy-management"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/File.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function i(){return o.createElement(s.default,{name:"spot-illustration-file"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/FreeForever.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-free-forever"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Invite.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-invite"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/MonitorAndMocks.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-monitor-and-mocks"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/PayLater.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-pay-later"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/PopularWorkspaces.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-popular-workspaces"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Security.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-security"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/SharedRequests.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-shared-requests"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/StartUp.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-startUp"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/spot-illustrations/Winners.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");t.default=function(){return o.createElement(s.default,{name:"spot-illustration-winners"})}},"../../node_modules/@postman/aether/esmLib/src/components/List/List.js":function(e,t,n){"use strict";n.r(t),n.d(t,{List:function(){return u},ListItem:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../../node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=s.default.ol.withConfig({displayName:"List__StyledListContainer",componentId:"sc-1t8tdp1-0"})(["margin:"," ",";padding:",";"],(function(e){return e.theme["spacing-zero"]}),(function(e){return e.theme["spacing-xl"]}),(function(e){return e.theme["spacing-zero"]})),c=s.default.li.withConfig({displayName:"List__StyledListItemContainer",componentId:"sc-1t8tdp1-1"})(["color:",";font-size:",";line-height:",";display:list-item;& ol,& ul{margin-top:",";margin-bottom:",";}&::marker{color:",";}margin-bottom:",";"],(function(e){return e.theme["content-color-secondary"]}),(function(e){return e.theme["text-size-m"]}),(function(e){return e.theme["line-height-m"]}),(function(e){return e.theme["spacing-s"]}),(function(e){return e.theme["spacing-s"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["spacing-s"]}));function d(e){var t=e.children;return o.createElement(c,null,t)}function u(e){var t=e.children,n=e.type,s=e.className,i=e["data-testid"],a=e["data-click"];return o.createElement(l,{className:s,"data-aether-id":"aether-list",as:"unordered"===n?"ul":"ol","data-testid":i,"data-click":a},t)}d.defaultProps={children:null},d.propTypes={children:function(e){var t=e.children;if(!t)return new Error("ListItem: children prop cannot be left empty.");var n=!1;if(Array.isArray(t))t.forEach((function(e){"string"!=typeof e&&e.type!==r.default&&e.type!==u&&(n=!0)}));else if("string"!=typeof t&&t.type!==r.default&&t.type!==u)return new Error("ListItem: ListItem children prop accepts Text, a string or List component as children");return n?new Error("ListItem: ListItem children prop accepts Text, a string or List component as children"):null}},u.defaultProps={type:"ordered",className:"",children:null,"data-testid":"aether-list","data-click":""},u.propTypes={type:a().oneOf(["ordered","unordered"]),children:function(e){var t=e.children;if(!t)return new Error("List: children prop cannot be left empty.");var n=!1;return t.forEach((function(e){e.type!==d&&(n=!0)})),n?new Error("List: should only have Listitem as child"):null},className:a().string,"data-testid":a().string,"data-click":a().string}},"../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuDivider.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default.hr.withConfig({displayName:"MenuDivider__StyledMenuDivider",componentId:"dii7go-0"})(["border:none;border-bottom:",";margin:",";"],(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-default"],";")}),(function(e){return e.theme["spacing-s"]}));function i(){return o.createElement(s,null)}i.displayName="MenuDivider",t.default=i},"../../node_modules/@postman/aether/esmLib/src/components/Stepper/Step.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=a.default.span.withConfig({displayName:"Step__StyledStatusIndicator",componentId:"hb80lw-0"})(["width:12px;height:12px;box-sizing:border-box;border-radius:",";border:",";background-color:",";"],(function(e){return e.theme["border-radius-max"]}),(function(e){return"progress"!==e.status?"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["grey-40"]):""}),(function(e){return"progress"===e.status?e.theme["base-color-brand"]:e.theme["background-color-primary"]})),p=a.default.div.withConfig({displayName:"Step__StyledStepWrapper",componentId:"hb80lw-1"})(["display:inline;padding-left:",";& > .aether-step__label{& > .aether-button__text{color:",";&:hover{color:",";}}}"],(function(e){return e.theme["spacing-xs"]}),(function(e){return e.isDisabled?e.theme["content-color-secondary"]:e.theme["content-color-primary"]}),(function(e){return e.isDisabled?e.theme["content-color-secondary"]:e.theme["content-color-link"]})),m=(0,a.default)(d.default).withConfig({displayName:"Step__StyledCustomCurrentStepText",componentId:"hb80lw-2"})(["line-height:1.334;"]);function h(e){var t=e.label,n=e.status,s=e.isDisabled,i=e._stepIndex,a=e._onChange,d=e._isActive,h=e.className;return o.createElement(l.default,{basis:"0px",grow:1,shrink:1,alignItems:"center",className:h,padding:{paddingRight:"spacing-l"}},"completed"===n?o.createElement(r.default,{name:"icon-state-success-stroke-small",color:"content-color-primary",size:"small"}):o.createElement(u,{status:n}),o.createElement(p,{isDisabled:s},d?o.createElement(m,{color:"content-color-primary"},t):o.createElement(c.default,{className:"aether-step__label",isDisabled:s,text:t,type:"plain",onClick:function(){!s&&a&&a(i)}})))}h.defaultProps={className:"",status:"pending",isDisabled:!1,_isActive:!1,_stepIndex:0,_onChange:null},h.propTypes={label:i().string.isRequired,isDisabled:i().bool,_isActive:i().bool,status:i().oneOf(["pending","progress","completed"]),_stepIndex:i().number,_onChange:i().func,className:i().string}},"../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Step.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=a.default.div.withConfig({displayName:"StepHeader__StyledProgressLine",componentId:"sc-1xnw5na-0"})(["position:relative;width:100%;height:2px;background-color:",";&:after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;height:2px;width:",";max-width:100%;background-color:",";}"],(function(e){return e.theme["border-color-strong"]}),(function(e){return"".concat((e.activeStepIndex+1)/e.totalSteps*100,"%")}),(function(e){return e.theme["stepper-progress-line-background-color"]}));function d(e){var t=0,n=e._activeStepIndex,s=e._onChange,i=e.className,a=e.children,d=o.Children.map(a,(function(e){var i=e;return(0,o.isValidElement)(e)&&[r.default].includes(e.type)?(i=(0,o.cloneElement)(e,{_isActive:t===n,_stepIndex:t,_onChange:s}),t+=1,i):null}));return o.createElement(l.default,{gap:"spacing-s",className:i,direction:"column"},o.createElement(c,{activeStepIndex:n,totalSteps:d.length}),o.createElement(l.default,null,d))}d.defaultProps={className:"",_activeStepIndex:0,_onChange:null},d.propTypes={_activeStepIndex:i().number,_onChange:i().func,className:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired}},"../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanel.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=a.default.div.withConfig({displayName:"StepPanel__StyledStepPanelElement",componentId:"sc-7pb8oz-0"})(["display:",";color:",";"],(function(e){return e._isActive?"block":"none"}),(function(e){return e.theme["content-color-primary"]}));function p(e){var t=e._isActive,n=e._index,s=e.heading,i=e.description,a=e.primaryAction,p=e.secondaryAction,m=e.className,h=e.children;return o.createElement(u,{_isActive:t,className:m,key:"STEP_CONTENT ".concat(n)},o.createElement(d.default,{direction:"column",gap:"spacing-xxl"},o.createElement(d.default,{direction:"column",gap:"spacing-l"},s||i?o.createElement(d.default,{direction:"column",gap:"spacing-s"},s?o.createElement(r.default,{type:"h3",text:s}):"",i?o.createElement(c.default,{type:"para"},i):""):"",h),o.createElement(d.default,{gap:"spacing-s",grow:1,shrink:1,justifyContent:"flex-end"},function(e){if(e&&e.type===l.default&&"secondary"===(e.props&&e.props.type))return e;return null}(p),function(e){if(e&&e.type===l.default&&"primary"===(e.props&&e.props.type))return e;return null}(a))))}p.defaultProps={_isActive:!1,heading:"",description:"",primaryAction:null,secondaryAction:null,className:"",_index:null},p.propTypes={_isActive:i().bool,_index:i().number,heading:i().string,description:i().string,primaryAction:function(e){var t=e.primaryAction;if(t){if(t.type!==l.default)return new Error("StepPanel: primaryAction prop only accepts Aether button component.");if("primary"!==(t.props&&t.props.type))return new Error("StepPanel: primaryAction prop only accepts button type primary.")}return null},secondaryAction:function(e){var t=e.secondaryAction;if(t){if(t.type!==l.default)return new Error("StepPanel: secondaryAction prop only accepts Aether button component.");if("secondary"!==(t.props&&t.props.type))return new Error("StepPanel: secondaryAction prop only accepts button type secondary.")}return null},className:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired}},"../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanels.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanel.js"),l=a.default.div.withConfig({displayName:"StepPanels__StyledStepPanelContainer",componentId:"sc-1bky6oo-0"})(["padding-top:",";padding-bottom:",";"],(function(e){return e.theme["spacing-xl"]}),(function(e){return e.theme["spacing-xl"]}));function c(e){var t=0,n=e._activeStepIndex,s=e.className,i=e.children,a=o.Children.map(i,(function(e){var s=e;return(0,o.isValidElement)(e)&&[r.default].includes(e.type)?(s=(0,o.cloneElement)(e,{_isActive:t===n,_index:t}),t+=1,s):null}));return o.createElement(l,{className:s},a)}c.defaultProps={_activeStepIndex:0,className:""},c.propTypes={_activeStepIndex:i().number,className:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired}},"../../node_modules/@postman/aether/esmLib/src/components/Stepper/Stepper.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepHeader.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanels.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js");function c(e){var t=e.activeStepIndex,n=e.onChange,s=e.className,i=e.children,c=e["data-testid"],d=e["data-click"],u=o.Children.map(i,(function(e){if((0,o.isValidElement)(e)){if([a.default].includes(e.type))return(0,o.cloneElement)(e,{_activeStepIndex:t,_onChange:n});if([r.default].includes(e.type))return(0,o.cloneElement)(e,{_activeStepIndex:t})}return null}));return o.createElement(l.default,{className:s,direction:"column","data-aether-id":"aether-stepper","data-testid":c,"data-click":d,width:"100%"},u)}c.defaultProps={className:"",onChange:null,"data-testid":"aether-stepper","data-click":""},c.propTypes={activeStepIndex:i().number.isRequired,onChange:i().func,className:i().string,children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired,"data-testid":i().string,"data-click":i().string}},"../../node_modules/node-polyfill-webpack-plugin/node_modules/timers-browserify/main.js":function(e,t,n){var o=void 0!==n.g&&n.g||"undefined"!=typeof self&&self||window,s=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(s.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new i(s.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n("../../node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==n.g&&n.g.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==n.g&&n.g.clearImmediate||this&&this.clearImmediate},"../../node_modules/setimmediate/setImmediate.js":function(e,t,n){var o=n("../../node_modules/process/browser.js");!function(e,t){"use strict";if(!e.setImmediate){var n,s,i,a,r,l=1,c={},d=!1,u=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){o.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(s=u.documentElement,n=function(e){var t=u.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,s.removeChild(t),t=null},s.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var s={callback:e,args:t};return c[l]=s,n(l),l++},p.clearImmediate=m}function m(e){delete c[e]}function h(e){if(d)setTimeout(h,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{m(e),d=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},"./node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/@emotion/sheet/dist/emotion-sheet.browser.esm.js"),s=n("./node_modules/stylis/src/Tokenizer.js"),i=n("./node_modules/stylis/src/Utility.js"),a=n("./node_modules/stylis/src/Middleware.js"),r=n("./node_modules/stylis/src/Serializer.js"),l=n("./node_modules/stylis/src/Parser.js"),c=(n("./node_modules/@emotion/weak-memoize/dist/weak-memoize.browser.esm.js"),n("./node_modules/@emotion/memoize/dist/emotion-memoize.browser.esm.js"),n("../../node_modules/console-browserify/index.js"),function(e,t,n){for(var o=0,i=0;o=i,i=(0,s.peek)(),38===o&&12===i&&(t[n]=1),!(0,s.token)(i);)(0,s.next)();return(0,s.slice)(e,s.position)}),d=function(e,t){return(0,s.dealloc)(function(e,t){var n=-1,o=44;do{switch((0,s.token)(o)){case 0:38===o&&12===(0,s.peek)()&&(t[n]=1),e[n]+=c(s.position-1,t,n);break;case 2:e[n]+=(0,s.delimit)(o);break;case 4:if(44===o){e[++n]=58===(0,s.peek)()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=(0,i.from)(o)}}while(o=(0,s.next)());return e}((0,s.alloc)(e),t))},u=new WeakMap,p=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,o=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||u.get(n))&&!o){u.set(e,!0);for(var s=[],i=d(t,s),a=n.props,r=0,l=0;r<i.length;r++)for(var c=0;c<a.length;c++,l++)e.props[l]=s[r]?i[r].replace(/&\f/g,a[c]):a[c]+" "+i[r]}}},m=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},h=[a.prefixer];t.default=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var s=e.stylisPlugins||h;var i,c,d={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)d[t[n]]=!0;u.push(e)}));var g=[p,m];var f,b=[r.stringify,(0,a.rulesheet)((function(e){f.insert(e)}))],y=(0,a.middleware)(g.concat(s,b));c=function(e,t,n,o){var s;f=n,s=e?e+"{"+t.styles+"}":t.styles,(0,r.serialize)((0,l.compile)(s),y),o&&(v.inserted[t.name]=!0)};var v={key:t,sheet:new o.StyleSheet({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:d,registered:{},insert:c};return v.sheet.hydrate(u),v}},"./node_modules/@emotion/hash/dist/hash.browser.esm.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){for(var t,n=0,o=0,s=e.length;s>=4;++o,s-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(s){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},"./node_modules/@emotion/memoize/dist/emotion-memoize.browser.esm.js":function(e,t,n){"use strict";n.r(t),t.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},"./node_modules/@emotion/react/_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),s=n.n(o);t.default=function(e,t){return s()(e,t)}},"./node_modules/@emotion/react/dist/emotion-element-699e6908.browser.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{C:function(){return p},E:function(){return S},T:function(){return g},_:function(){return m},a:function(){return y},b:function(){return v},c:function(){return E},h:function(){return d},u:function(){return f},w:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js"),i=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),a=n("./node_modules/@emotion/weak-memoize/dist/weak-memoize.browser.esm.js"),r=n("./node_modules/@emotion/react/_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js"),l=n("./node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js"),c=n("./node_modules/@emotion/serialize/dist/emotion-serialize.browser.esm.js"),d={}.hasOwnProperty,u=(0,o.createContext)("undefined"!=typeof HTMLElement?(0,s.default)({key:"css"}):null);var p=u.Provider,m=function(){return(0,o.useContext)(u)},h=function(e){return(0,o.forwardRef)((function(t,n){var s=(0,o.useContext)(u);return e(t,s,n)}))},g=(0,o.createContext)({});var f=function(){return(0,o.useContext)(g)},b=(0,a.default)((function(e){return(0,a.default)((function(t){return function(e,t){return"function"==typeof t?t(e):(0,i.default)({},e,t)}(e,t)}))})),y=function(e){var t=(0,o.useContext)(g);return e.theme!==t&&(t=b(t)(e.theme)),(0,o.createElement)(g.Provider,{value:t},e.children)};function v(e){var t=e.displayName||e.name||"Component",n=function(t,n){var s=(0,o.useContext)(g);return(0,o.createElement)(e,(0,i.default)({theme:s,ref:n},t))},s=(0,o.forwardRef)(n);return s.displayName="WithTheme("+t+")",(0,r.default)(s,e)}var I="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",E=function(e,t){var n={};for(var o in t)d.call(t,o)&&(n[o]=t[o]);return n[I]=e,n},_=function(){return null},S=h((function(e,t,n){var s=e.css;"string"==typeof s&&void 0!==t.registered[s]&&(s=t.registered[s]);var i=e[I],a=[s],r="";"string"==typeof e.className?r=(0,l.getRegisteredStyles)(t.registered,a,e.className):null!=e.className&&(r=e.className+" ");var u=(0,c.serializeStyles)(a,void 0,(0,o.useContext)(g));(0,l.insertStyles)(t,u,"string"==typeof i);r+=t.key+"-"+u.name;var p={};for(var m in e)d.call(e,m)&&"css"!==m&&m!==I&&(p[m]=e[m]);p.ref=n,p.className=r;var h=(0,o.createElement)(i,p),f=(0,o.createElement)(_,null);return(0,o.createElement)(o.Fragment,null,f,h)}))},"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{CacheProvider:function(){return s.C},ClassNames:function(){return g},Global:function(){return c},ThemeContext:function(){return s.T},ThemeProvider:function(){return s.a},__unsafe_useEmotionCache:function(){return s._},createElement:function(){return l},css:function(){return d},jsx:function(){return l},keyframes:function(){return u},useTheme:function(){return s.u},withEmotionCache:function(){return s.w},withTheme:function(){return s.b}});var o=n("../../node_modules/react/index.js"),s=(n("./node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js"),n("./node_modules/@emotion/react/dist/emotion-element-699e6908.browser.esm.js")),i=(n("./node_modules/@babel/runtime/helpers/esm/extends.js"),n("./node_modules/@emotion/weak-memoize/dist/weak-memoize.browser.esm.js"),n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),n("./node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js")),a=n("./node_modules/@emotion/serialize/dist/emotion-serialize.browser.esm.js"),r=n("./node_modules/@emotion/sheet/dist/emotion-sheet.browser.esm.js"),l=function(e,t){var n=arguments;if(null==t||!s.h.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=s.E,a[1]=(0,s.c)(e,t);for(var r=2;r<i;r++)a[r]=n[r];return o.createElement.apply(null,a)},c=(0,s.w)((function(e,t){var n=e.styles,l=(0,a.serializeStyles)([n],void 0,(0,o.useContext)(s.T)),c=(0,o.useRef)();return(0,o.useLayoutEffect)((function(){var e=t.key+"-global",n=new r.StyleSheet({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,s=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==s&&(o=!0,s.setAttribute("data-emotion",e),n.hydrate([s])),c.current=[n,o],function(){n.flush()}}),[t]),(0,o.useLayoutEffect)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.insertStyles)(t,l.next,!0),n.tags.length){var o=n.tags[n.tags.length-1].nextElementSibling;n.before=o,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null}));function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.serializeStyles)(t)}var u=function(){var e=d.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},p=function e(t){for(var n=t.length,o=0,s="";o<n;o++){var i=t[o];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var r in a="",i)i[r]&&r&&(a&&(a+=" "),a+=r);break;default:a=i}a&&(s&&(s+=" "),s+=a)}}return s};function m(e,t,n){var o=[],s=(0,i.getRegisteredStyles)(e,o,n);return o.length<2?n:s+t(o)}var h=function(){return null},g=(0,s.w)((function(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var s=(0,a.serializeStyles)(n,t.registered);return(0,i.insertStyles)(t,s,!1),t.key+"-"+s.name},r={css:n,cx:function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return m(t.registered,n,p(o))},theme:(0,o.useContext)(s.T)},l=e.children(r);var c=(0,o.createElement)(h,null);return(0,o.createElement)(o.Fragment,null,c,l)}))},"./node_modules/@emotion/serialize/dist/emotion-serialize.browser.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{serializeStyles:function(){return g}});var o=n("./node_modules/@emotion/hash/dist/hash.browser.esm.js"),s=n("./node_modules/@emotion/unitless/dist/unitless.browser.esm.js"),i=n("./node_modules/@emotion/memoize/dist/emotion-memoize.browser.esm.js"),a=/[A-Z]|^ms/g,r=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!=typeof e},d=(0,i.default)((function(e){return l(e)?e:e.replace(a,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(r,(function(e,t,n){return m={name:t,styles:n,next:m},t}))}return 1===s.default[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"};function p(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return m={name:n.name,styles:n.styles,next:m},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)m={name:o.name,styles:o.styles,next:m},o=o.next;return n.styles+";"}return function(e,t,n){var o="";if(Array.isArray(n))for(var s=0;s<n.length;s++)o+=p(e,t,n[s])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?o+=i+"{"+t[a]+"}":c(a)&&(o+=d(i)+":"+u(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var r=p(e,t,a);switch(i){case"animation":case"animationName":o+=d(i)+":"+r+";";break;default:o+=i+"{"+r+"}"}}else for(var l=0;l<a.length;l++)c(a[l])&&(o+=d(i)+":"+u(i,a[l])+";")}return o}(e,t,n);case"function":if(void 0!==e){var s=m,i=n(e);return m=s,p(e,t,i)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var m,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var g=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var s=!0,i="";m=void 0;var a=e[0];null==a||void 0===a.raw?(s=!1,i+=p(n,t,a)):i+=a[0];for(var r=1;r<e.length;r++)i+=p(n,t,e[r]),s&&(i+=a[r]);h.lastIndex=0;for(var l,c="";null!==(l=h.exec(i));)c+="-"+l[1];return{name:(0,o.default)(i)+c,styles:i,next:m}}},"./node_modules/@emotion/sheet/dist/emotion-sheet.browser.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{StyleSheet:function(){return o}});var o=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},"./node_modules/@emotion/unitless/dist/unitless.browser.esm.js":function(e,t,n){"use strict";n.r(t);t.default={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},"./node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{getRegisteredStyles:function(){return o},insertStyles:function(){return s}});function o(e,t,n){var o="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):o+=n+" "})),o}var s=function(e,t,n){var o=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[o]&&(e.registered[o]=t.styles),void 0===e.inserted[t.name]){var s=t;do{e.insert(t===s?"."+o:"",s,e.sheet,!0);s=s.next}while(void 0!==s)}}},"./node_modules/@emotion/weak-memoize/dist/weak-memoize.browser.esm.js":function(e,t,n){"use strict";n.r(t);t.default=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var o=e(n);return t.set(n,o),o}}},"./node_modules/@postman/data-editor/lib/components/ListRenderer2.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=c(s),a=c(n("./node_modules/lodash/map.js")),r=c(n("./node_modules/lodash/times.js")),l=c(n("./node_modules/lodash/filter.js"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={height:e.config.height,overscanColumnCount:0,overscanRowCount:5,rowHeight:30},o.renderColumn=o.renderColumn.bind(o),o._rowRenderer=o._rowRenderer.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"renderColumn",value:function(e){var t=e.rowIndex,n=e.columnIndex,o=e.style;return i.default.createElement("div",{className:"data-editor__cell",key:t+"-"+n,style:o,onClick:this.props.onColumnClick.bind(this,t,n)},this.props.cellRenderer({rowIndex:t,columnIndex:n}))}},{key:"_rowRenderer",value:function(e){var t=this,n=(0,l.default)(this.props.config.widths,(function(e,n){return n<t.props.columnCount})),o=(0,a.default)(n,(function(n,o){return t.renderColumn({rowIndex:e,columnIndex:o,style:{width:n+"%"}})}));return i.default.createElement("div",{className:"data-editor__row",key:""+e},this.props.rowRenderer&&this.props.rowRenderer(o,e,{}))}},{key:"render",value:function(){var e=this,t=["data-editor__rows"];return this.props.className&&t.push(this.props.className),i.default.createElement("div",{className:t},(0,r.default)(this.props.rowCount,(function(t){return e._rowRenderer(t)})))}}]),t}(s.PureComponent);t.default=d},"./node_modules/@postman/data-editor/lib/components/base/ArrayMeta.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=l(s),a=l(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),r=l(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleAddChild=n.handleAddChild.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}},{key:"componentWillUnmount",value:function(){this.subscription.remove()}},{key:"handleFocus",value:function(e){var t=e.node,n=e.column,o=e.direction;t===this.props.cellInfo.node&&n===this.props.cellInfo.column&&this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:o})}},{key:"handleAddChild",value:function(){this.props.onAction&&this.props.onAction("create")}},{key:"render",value:function(){var e=r.default.getImmutablePathValue(this.props.value,["childrenCount"]);return i.default.createElement("div",{className:"data-editor__array-meta"},"Array ("+e+" items)",i.default.createElement("div",{className:"data-editor__add-child",onClick:this.handleAddChild},"+"))}}]),t}(s.Component);t.default=c,c.contextTypes={events:a.default.object}},"./node_modules/@postman/data-editor/lib/components/base/BooleanInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=c(s),a=c(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),r=n("./node_modules/react-shortcuts/lib/index.js"),l=c(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleChange=n.handleChange.bind(n),n.handleShortcut=n.handleShortcut.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}},{key:"componentWillUnmount",value:function(){this.subscription.remove()}},{key:"handleFocus",value:function(e){var t=e.node,n=e.column;t===this.props.cellInfo.node&&n===this.props.cellInfo.column&&this.refs.input&&this.refs.input.focus()}},{key:"handleChange",value:function(e){this.props.onAction&&this.props.onAction("edit",{value:e.target.value})}},{key:"handleShortcut",value:function(e,t){var n=l.default.getImmutablePathValue(this.props.value,["value"]);switch(e){case"MOVE_LEFT":0===this.refs.input.selectionStart&&(t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"left"}));break;case"MOVE_RIGHT":this.refs.input.selectionStart===n.length&&(t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"right"}));break;case"MOVE_UP":t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"up"});break;case"MOVE_DOWN":t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"down"})}}},{key:"render",value:function(){var e=l.default.getImmutablePathValue(this.props.value,["value"]);return i.default.createElement(r.Shortcuts,{name:"navigation",handler:this.handleShortcut,className:"data-editor__cell__boolean"},i.default.createElement("input",{ref:"input",onChange:this.handleChange,value:e}))}}]),t}(s.Component);t.default=d,d.contextTypes={events:a.default.object}},"./node_modules/@postman/data-editor/lib/components/base/NumberInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=c(s),a=c(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),r=n("./node_modules/react-shortcuts/lib/index.js"),l=c(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleChange=n.handleChange.bind(n),n.handleShortcut=n.handleShortcut.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}},{key:"componentWillUnmount",value:function(){this.subscription.remove()}},{key:"handleFocus",value:function(e){var t=e.node,n=e.column;t===this.props.cellInfo.node&&n===this.props.cellInfo.column&&this.refs.input&&this.refs.input.focus()}},{key:"handleChange",value:function(e){this.props.onAction&&this.props.onAction("edit",{value:parseInt(e.target.value,10)})}},{key:"handleShortcut",value:function(e,t){var n=l.default.getImmutablePathValue(this.props.value,["value"]);switch(e){case"MOVE_LEFT":0===this.refs.input.selectionStart&&(t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"left"}));break;case"MOVE_RIGHT":this.refs.input.selectionStart===n.length&&(t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"right"}));break;case"MOVE_UP":t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"up"});break;case"MOVE_DOWN":t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"down"})}}},{key:"render",value:function(){var e=l.default.getImmutablePathValue(this.props.value,["value"]);return i.default.createElement(r.Shortcuts,{name:"navigation",handler:this.handleShortcut,className:"data-editor__cell__number"},i.default.createElement("input",{ref:"input",onChange:this.handleChange,value:e}))}}]),t}(s.Component);t.default=d,d.contextTypes={events:a.default.object}},"./node_modules/@postman/data-editor/lib/components/base/ObjectKeyInput.js":function(e,t,n){"use strict";var o=n("../../node_modules/console-browserify/index.js");Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n("../../node_modules/react/index.js"),a=u(i),r=u(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),l=n("./node_modules/react-shortcuts/lib/index.js"),c=u(n("./node_modules/@postman/data-editor/lib/components/base/TypeSelector.js")),d=u(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function u(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleKeyChange=n.handleKeyChange.bind(n),n.handleTypeChange=n.handleTypeChange.bind(n),n.handleShortcut=n.handleShortcut.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}},{key:"componentWillUnmount",value:function(){this.subscription.remove()}},{key:"handleFocus",value:function(e){var t=e.node,n=e.column;o.log("test"),t===this.props.cellInfo.node&&n===this.props.cellInfo.column?(o.log(this.refs.input),this.refs.input&&this.refs.input.focus()):o.log("not meant for me")}},{key:"handleShortcut",value:function(e,t){switch(t&&t.preventDefault(),t&&t.stopPropagation(),e){case"MOVE_LEFT":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"left"});break;case"MOVE_RIGHT":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"right"});break;case"MOVE_UP":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"up"});break;case"MOVE_DOWN":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"down"})}}},{key:"handleKeyChange",value:function(e){this.props.onAction&&this.props.onAction("edit",{key:e.target.value})}},{key:"handleTypeChange",value:function(e){this.props.onAction&&this.props.onAction("edit",{type:e.target.value})}},{key:"render",value:function(){var e=d.default.getImmutablePathValue(this.props.value,["key"]),t=d.default.getImmutablePathValue(this.props.value,["type"]);return a.default.createElement(l.Shortcuts,{name:"navigation",handler:this.handleShortcut,className:"data-editor__object-key"},a.default.createElement("div",{className:"data-editor__object-key__content",style:this.props.style},a.default.createElement("input",{ref:"input",value:e,onChange:this.handleKeyChange}),a.default.createElement(c.default,{value:t,onChange:this.handleTypeChange})))}}]),t}(i.Component);t.default=p,p.contextTypes={events:r.default.object}},"./node_modules/@postman/data-editor/lib/components/base/ObjectMeta.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=l(s),a=l(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),r=l(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleAddChild=n.handleAddChild.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}},{key:"componentWillUnmount",value:function(){this.subscription.remove()}},{key:"handleFocus",value:function(e){var t=e.node,n=e.column,o=e.direction;t===this.props.cellInfo.node&&n===this.props.cellInfo.column&&this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:o})}},{key:"handleAddChild",value:function(){this.props.onAction&&this.props.onAction("create")}},{key:"render",value:function(){var e=r.default.getImmutablePathValue(this.props.value,["childrenCount"]);return i.default.createElement("div",{className:"data-editor__object-meta"},"Object ("+e+" items)",i.default.createElement("div",{className:"data-editor__add-child",onClick:this.handleAddChild},"+"))}}]),t}(s.Component);t.default=c,c.contextTypes={events:a.default.object}},"./node_modules/@postman/data-editor/lib/components/base/ObjectNameInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=d(s),a=d(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),r=n("./node_modules/react-shortcuts/lib/index.js"),l=d(n("./node_modules/@postman/data-editor/lib/components/base/TypeSelector.js")),c=d(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleChangeName=n.handleChangeName.bind(n),n.handleChangeType=n.handleChangeType.bind(n),n.handleCollapse=n.handleCollapse.bind(n),n.handleShortcut=n.handleShortcut.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}},{key:"componentWillUnmount",value:function(){this.subscription.remove()}},{key:"handleFocus",value:function(e){var t=e.node,n=e.column;t===this.props.cellInfo.node&&n===this.props.cellInfo.column&&this.refs.input&&this.refs.input.focus()}},{key:"handleChangeName",value:function(e){this.props.onAction&&this.props.onAction("edit",{name:e.target.value})}},{key:"handleChangeType",value:function(e){this.props.onAction&&this.props.onAction("edit",{type:e.target.value})}},{key:"handleShortcut",value:function(e,t){switch(t&&t.preventDefault(),t&&t.stopPropagation(),e){case"MOVE_LEFT":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"left"});break;case"MOVE_RIGHT":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"right"});break;case"MOVE_UP":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"up"});break;case"MOVE_DOWN":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"down"})}}},{key:"handleCollapse",value:function(){this.props.isCollapsed?this.props.onAction&&this.props.onAction("expand"):this.props.onAction&&this.props.onAction("collapse")}},{key:"render",value:function(){var e=c.default.getImmutablePathValue(this.props.value,["name"]),t=c.default.getImmutablePathValue(this.props.value,["type"]),n=this.props.isCollapsed;return i.default.createElement(r.Shortcuts,{name:"navigation",handler:this.handleShortcut,className:"data-editor__object-name"},i.default.createElement("div",{className:"data-editor__object-name__content",style:this.props.style},i.default.createElement("div",{className:"data-editor__collapse",onClick:this.handleCollapse},i.default.createElement("div",{className:"data-editor__collapse__icon "+(n?"is-collapsed":"")})),i.default.createElement("input",{ref:"input",value:e,onChange:this.handleChangeName}),i.default.createElement(l.default,{value:t,onChange:this.handleChangeType})))}}]),t}(s.Component);t.default=u,u.contextTypes={events:a.default.object}},"./node_modules/@postman/data-editor/lib/components/base/ObjectValueInput.js":function(e,t,n){"use strict";var o=n("../../node_modules/console-browserify/index.js");Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n("../../node_modules/react/index.js"),a=d(i),r=d(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),l=n("./node_modules/react-shortcuts/lib/index.js"),c=d(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleChange=n.handleChange.bind(n),n.handleShortcut=n.handleShortcut.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}},{key:"componentWillUnmount",value:function(){this.subscription.remove()}},{key:"handleFocus",value:function(e){var t=e.node,n=e.column;o.log("test2"),t===this.props.cellInfo.node&&n===this.props.cellInfo.column&&this.refs.input&&this.refs.input.focus()}},{key:"handleShortcut",value:function(e,t){switch(t&&t.preventDefault(),t&&t.stopPropagation(),e){case"MOVE_LEFT":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"left"});break;case"MOVE_RIGHT":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"right"});break;case"MOVE_UP":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"up"});break;case"MOVE_DOWN":this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"down"})}}},{key:"handleChange",value:function(e){this.props.onAction&&this.props.onAction("edit",{value:e.target.value})}},{key:"render",value:function(){var e=c.default.getImmutablePathValue(this.props.value,["value"]);return a.default.createElement(l.Shortcuts,{name:"navigation",handler:this.handleShortcut,className:"data-editor__object-value"},a.default.createElement("div",{className:"data-editor__object-value__content",style:this.props.style},a.default.createElement("input",{ref:"input",value:e,onChange:this.handleChange})))}}]),t}(i.Component);t.default=u,u.contextTypes={events:r.default.object}},"./node_modules/@postman/data-editor/lib/components/base/StringInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=c(s),a=c(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),r=n("./node_modules/react-shortcuts/lib/index.js"),l=c(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleFocus=n.handleFocus.bind(n),n.handleChange=n.handleChange.bind(n),n.handleShortcut=n.handleShortcut.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}},{key:"componentWillUnmount",value:function(){this.subscription.remove()}},{key:"handleFocus",value:function(e){var t=e.node,n=e.column;t===this.props.cellInfo.node&&n===this.props.cellInfo.column&&this.refs.input&&this.refs.input.focus()}},{key:"handleChange",value:function(e){this.props.onAction&&this.props.onAction("edit",{value:e.target.value})}},{key:"handleShortcut",value:function(e,t){var n=l.default.getImmutablePathValue(this.props.value,["value"]);switch(e){case"MOVE_LEFT":0===this.refs.input.selectionStart&&(t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"left"}));break;case"MOVE_RIGHT":this.refs.input.selectionStart===n.length&&(t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"right"}));break;case"MOVE_UP":t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"up"});break;case"MOVE_DOWN":t&&t.preventDefault(),t&&t.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"down"})}}},{key:"render",value:function(){var e=l.default.getImmutablePathValue(this.props.value,["value"]);return i.default.createElement(r.Shortcuts,{name:"navigation",handler:this.handleShortcut,className:"data-editor__cell__string"},i.default.createElement("input",{ref:"input",onChange:this.handleChange,value:e}))}}]),t}(s.Component);t.default=d,d.contextTypes={events:a.default.object}},"./node_modules/@postman/data-editor/lib/components/base/TypeSelector.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n("../../node_modules/react/index.js"),a=(o=i)&&o.__esModule?o:{default:o};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){return r(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){return a.default.createElement("select",{tabIndex:-1,value:this.props.value,onChange:this.props.onChange},a.default.createElement("option",{value:"string"},"str"),a.default.createElement("option",{value:"number"},"num"),a.default.createElement("option",{value:"boolean"},"bool"),a.default.createElement("option",{value:"array"},"arr"),a.default.createElement("option",{value:"object"},"obj"))}}]),t}(i.Component);t.default=c},"./node_modules/@postman/data-editor/lib/containers/DataEditor.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=I(s),a=I(n("./node_modules/@postman/data-editor/node_modules/prop-types/index.js")),r=I(n("./node_modules/lodash/get.js")),l=I(n("./node_modules/lodash/map.js")),c=I(n("./node_modules/lodash/reduce.js")),d=I(n("./node_modules/lodash/findIndex.js")),u=I(n("./node_modules/lodash/isEqual.js")),p=n("./node_modules/fbemitter/index.js"),m=n("./node_modules/react-shortcuts/lib/index.js"),h=I(n("./node_modules/@postman/data-editor/lib/utilities/utils.js")),g=I(n("./node_modules/@postman/data-editor/lib/shortcuts.js")),f=I(n("./node_modules/@postman/data-editor/lib/utilities/GenerateRenderers.js")),b=I(n("./node_modules/@postman/data-editor/lib/reducers/index.js")),y=I(n("./node_modules/@postman/data-editor/lib/containers/Header.js")),v=I(n("./node_modules/@postman/data-editor/lib/components/ListRenderer2.js"));function I(e){return e&&e.__esModule?e:{default:e}}var E=new m.ShortcutManager(g.default),_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.generateGridToColumnMap(e.config.columns);var o=h.default.isMap(e.input)?{state:e.input,maxDepth:h.default.getMaxDepth(e.input)}:h.default.flattenNodes(e.config,e.input);return n.state={is:o.state,columnWidths:(0,l.default)(n.GridToColumnMap,(function(e){return e.width}))},n.listConfig={widths:n.state.columnWidths,cellWidth:260+20*o.maxDepth,height:e.config.height},n.reducer=new b.default(e.config),n.initializeRenderers(e.config),n.events=new p.EventEmitter,n.handleColumnResize=n.handleColumnResize.bind(n),n.handleColumnClick=n.handleColumnClick.bind(n),n.handleAction=n.handleAction.bind(n),n.moveToCell=n.moveToCell.bind(n),n._renderColumn=n._renderColumn.bind(n),n._renderRow=n._renderRow.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getChildContext",value:function(){return{events:this.events,shortcuts:E}}},{key:"componentDidMount",value:function(){!h.default.isMap(this.props.input)&&this.generateCreateRow(this.props.config),this.events.addListener("moveToCell",this.moveToCell)}},{key:"componentWillReceiveProps",value:function(e){if(!(0,u.default)(this.props.config.columns,e.config.columns)){this.generateGridToColumnMap(e.config.columns);var t=(0,l.default)(this.GridToColumnMap,(function(e){return e.width}));this.listConfig=Object.assign({},this.listConfig,{widths:t}),this.setState({columnWidths:t})}}},{key:"componentWillUnmount",value:function(){this.events.removeAllListeners("moveToCell")}},{key:"generateGridToColumnMap",value:function(e){this.GridToColumnMap=(0,c.default)(e,(function(e,t){return t.hidden||("string"===t.type||"number"===t.type||"boolean"===t.type?e.push({name:t.name,index:0,width:t.width,renderer:(0,r.default)(t,"renderer"),header:(0,r.default)(t,"label",t.name),resize:!!t.resize}):"object"!==t.type&&"array"!==t.type||(e.push({name:t.name,index:0,width:t.width/2,renderer:(0,r.default)(t,"renderer"),header:(0,r.default)(t,"label.key",t.name),resize:!!t.resize}),e.push({name:t.name,index:1,width:t.width/2,renderer:(0,r.default)(t,"renderer"),header:(0,r.default)(t,"label.value",t.name),resize:!!t.resize}))),e}),[])}},{key:"initializeRenderers",value:function(e){this.renderers=(0,f.default)(e.renderers)}},{key:"generateCreateRow",value:function(e){var t=this;this.setState((function(e){return{is:t.reducer.reduce(e.is,{source:{},type:"create"})}}))}},{key:"handleColumnResize",value:function(e){this.listConfig=Object.assign({},this.listConfig,{widths:e}),this.setState({columnWidths:e})}},{key:"handleColumnClick",value:function(e,t){this.events.emit("focusCell",{node:h.default.getImmutablePathValue(this.state.is,["order",e]),column:(0,r.default)(this.GridToColumnMap,"["+t+"].name")})}},{key:"handleAction",value:function(e,t,n){var o=this,s=h.default.getImmutablePathValue(this.state.is,["order"]);"edit"===t&&h.default.getLastInList(s)===e.node&&this.generateCreateRow(),this.setState((function(s){var i=h.default.createAction(e,t,n);return{is:o.reducer.reduce(s.is,i)}}),(function(){o.props.onChange&&o.props.onChange(o.state.is)}))}},{key:"moveToCell",value:function(e){var t=e.node,n=e.column,o=e.direction,s=h.default.getImmutablePathValue(this.state.is,["order"]),i=this.GridToColumnMap,a=h.default.findIndexInOrder(s,t),l=(0,d.default)(i,(function(e){return e.name===n})),c=void 0,u=void 0,p=s.size-1,m=this.GridToColumnMap.length-1;switch(o){case"left":case"shiftTab":l-1>=0?(c=a,u=l-1):a-1>=0&&(c=a-1,u=m),this.events.emit("focusCell",{node:h.default.getImmutablePathValue(this.state.is,["order",c]),column:(0,r.default)(this.GridToColumnMap,"["+u+"].name"),direction:o});break;case"right":case"tab":l+1<=m?(c=a,u=l+1):a+1<=p&&(c=a+1,u=0),this.events.emit("focusCell",{node:h.default.getImmutablePathValue(this.state.is,["order",c]),column:(0,r.default)(this.GridToColumnMap,"["+u+"].name"),direction:o});break;case"up":a-1>=0&&(c=h.default.getImmutablePathValue(this.state.is,["order",a-1]),this.events.emit("focusCell",{node:c,column:n,direction:o}));break;case"down":a+1<=p&&(c=h.default.getImmutablePathValue(this.state.is,["order",a+1]),this.events.emit("focusCell",{node:c,column:n,direction:o}))}}},{key:"_renderColumn",value:function(e){var t=e.rowIndex,n=e.columnIndex,o=h.default.getImmutablePathValue(this.state.is,["order",t]),s=h.default.getImmutablePathValue(this.state.is,["rows",""+o,"columns",this.GridToColumnMap[n].name]),i=o;if(s){var a=h.default.getImmutablePathValue(s,["type"]),r=20*h.default.getImmutablePathValue(this.state.is,["rows",""+o,"depth"])+"px",l=h.default.getImmutablePathValue(s,["meta"]),c=!!h.default.getImmutablePathValue(this.state.is,["collapsedRows",""+i]);return this.GridToColumnMap[n].renderer?this.GridToColumnMap[n].renderer&&"function"==typeof this.GridToColumnMap[n].renderer&&this.GridToColumnMap[n].renderer(l,this.handleAction.bind(this,{node:i,column:this.GridToColumnMap[n].name}),{isCollapsed:c,subColumnIndex:this.GridToColumnMap[n].index},{marginLeft:r},{node:i,column:this.GridToColumnMap[n].name}):this.renderers&&this.renderers[a]&&"function"==typeof this.renderers[a]&&this.renderers[a](l,this.handleAction.bind(this,{node:i,column:this.GridToColumnMap[n].name}),{isCollapsed:c,subColumnIndex:this.GridToColumnMap[n].index},{marginLeft:r},{node:i,column:this.GridToColumnMap[n].name})}}},{key:"_renderRow",value:function(e,t,n){var o=h.default.getImmutablePathValue(this.state.is,["order",t]);return this.renderers.row&&this.renderers.row({children:e,index:t,nodeId:o},this.handleAction.bind(this,{node:o}),{isCollapsed:!1,subColumnIndex:0},n)}},{key:"render",value:function(){var e=h.default.getImmutablePathValue(this.state.is,["order"]).size;return i.default.createElement("div",{className:"data-editor"},i.default.createElement(y.default,{columns:this.GridToColumnMap,columnWidths:this.state.columnWidths,renderers:this.renderers,onColumnResize:this.handleColumnResize}),i.default.createElement(v.default,{state:this.state.is,rowCount:e,columnCount:this.GridToColumnMap.length,config:this.listConfig,cellRenderer:this._renderColumn,rowRenderer:this._renderRow,className:this.props.className,classNames:this.props.config.classNames,onColumnClick:this.handleColumnClick}))}}]),t}(s.Component);_.childContextTypes={shortcuts:a.default.object.isRequired,events:a.default.object},t.default=_},"./node_modules/@postman/data-editor/lib/containers/Header.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n("../../node_modules/react/index.js"),i=p(s),a=p(n("./node_modules/lodash/reduce.js")),r=p(n("./node_modules/lodash/map.js")),l=p(n("./node_modules/lodash/clone.js")),c=p(n("./node_modules/lodash/isEmpty.js")),d=p(n("./node_modules/lodash/get.js")),u=n("./node_modules/@postman/react-draggable/dist/react-draggable.js");function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={widths:(0,r.default)(e.columns,(function(e){return e.width}))},n.widths=n.state.widths,n.handleResize=n.handleResize.bind(n),n.handleResizeStart=n.handleResizeStart.bind(n),n.handleResizeStop=n.handleResizeStop.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({widths:e.columnWidths},(function(){t.widths=e.columnWidths}))}},{key:"handleResize",value:function(e){var t=this.initial.pageX-e.pageX,n=this.initial.index,o=(0,l.default)(this.widths),s=t/this.refs.DataEditorHeader.offsetWidth*100,i=o[n]-s,a=o[n+1]+s;i>5&&a>5&&(o[n]=i,o[n+1]=a,this.setState({widths:o}),this.widths=o,this.initial.pageX=e.pageX)}},{key:"handleResizeStart",value:function(e){var t=Number(e.target.getAttribute("data-index")),n=this.refs.DataEditorHeader.querySelectorAll(".data-editor__header__cell");this.initial={pageX:e.pageX,index:t,leftColumnContentWidth:n[t].getBoundingClientRect().width,rightColumnContentWidth:n[t+1].getBoundingClientRect().width,headerActionsWidth:this.refs.editorToggleControls?this.refs.editorToggleControls.getBoundingClientRect().width:0}}},{key:"handleResizeStop",value:function(e){this.initial={},this.props.onColumnResize&&this.props.onColumnResize(this.widths)}},{key:"render",value:function(){var e=this,t=(0,a.default)(Array((0,d.default)(this.initial,"index",0)+1),(function(t,n,o){return t+(0,d.default)(e,"state.widths["+o+"]",0)}),0),n=(0,r.default)(this.props.columns,(function(t,n){return i.default.createElement("div",{key:n,className:"data-editor__header__cell",style:{width:e.props.columnWidths[n]+"%"}},i.default.createElement("span",{className:"data-editor__header__cell__title"},t.header),n!==e.props.columns.length-1&&t.resize&&i.default.createElement(u.DraggableCore,{axis:"x",onDrag:e.handleResize,onStart:e.handleResizeStart,onStop:e.handleResizeStop},i.default.createElement("div",{className:"resize-handle","data-index":n})))}));return i.default.createElement("div",{className:"data-editor__header",ref:"DataEditorHeader"},!(0,c.default)(this.initial)&&i.default.createElement("div",{className:"resize-preview",style:{left:t+"%"}}),this.props.renderers.header(n))}}]),t}(s.Component);t.default=m},"./node_modules/@postman/data-editor/lib/lib.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.DataEditor=void 0;var o=i(n("./node_modules/@postman/data-editor/lib/containers/DataEditor.js")),s=i(n("./node_modules/@postman/data-editor/lib/utilities/utils.js"));function i(e){return e&&e.__esModule?e:{default:e}}t.DataEditor=o.default,t.utils=s.default},"./node_modules/@postman/data-editor/lib/reducers/CollapseReducer.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=t.node,o=(t.column,e.getIn(["rows",""+n,"allChildren"]));if(!o)return e;if(e.getIn(["collapsedRows",""+n]))return e;var s=e.getIn(["order"]);return s=s.filter((function(e){return!o.includes(e)})),e=(e=e.setIn(["order"],s)).setIn(["collapsedRows",""+n],!0)}},"./node_modules/@postman/data-editor/lib/reducers/CreateReducer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(n("./node_modules/@postman/data-editor/lib/utilities/utils.js")),s=r(n("./node_modules/lodash/forEach.js")),i=r(n("./node_modules/lodash/get.js")),a=n("./node_modules/immutable/dist/immutable.js");function r(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t={};return(0,s.default)(e.columns,(function(e){switch(e.type){case"string":t[""+e.name]={type:"string",meta:{value:(0,i.default)(e,"default","")}};break;case"number":t[""+e.name]={type:"number",meta:{value:(0,i.default)(e,"default",0)}};break;case"boolean":t[""+e.name]={type:"boolean",meta:{value:(0,i.default)(e,"default",!0)}};break;case"array":t[""+e.name]={type:"array",meta:{key:(0,i.default)(e,"default",""),type:"string"}};break;case"object":t[""+e.name]={type:"object",meta:{key:(0,i.default)(e,"default.key",""),value:(0,i.default)(e,"default.value",""),type:"string"}}}})),t};t.default=function(e,t,n,s){var i=t.node,r=t.column;if(null==i){var c=o.default.getId(),d={id:c,depth:0,columns:l(s)},u=(e=e.setIn(["rows",""+c],(0,a.fromJS)(d))).getIn(["order"]);return u=u.concat(c),e=e.setIn(["order"],u)}var p=e.getIn(["rows",""+i]),m=o.default.getId(),h={id:m,depth:p.get("depth")+1,parent:i,columns:l(s)},g=(e=e.setIn(["rows",""+m],(0,a.fromJS)(h))).getIn(["order"]),f=g.indexOf(i);g=g.insert(f+1,m);var b=(e=e.setIn(["order"],g)).getIn(["rows",""+i,"allChildren"]);b=b.push(m);var y=(e=e.setIn(["rows",""+i,"allChildren"],b)).getIn(["rows",""+i,"children"]);y=y.push(m);var v=(e=e.setIn(["rows",""+i,"children"],y)).getIn(["rows",""+i,"columns",""+r,"meta","childrenCount"]);return e=e.setIn(["rows",""+i,"columns",""+r,"meta","childrenCount"],v+1)}},"./node_modules/@postman/data-editor/lib/reducers/DeleteReducer.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=t.node,o=(t.column,e.getIn(["rows",""+n,"allChildren"])),s=e.getIn(["order"]);o&&o.forEach((function(t){e=e.deleteIn("rows",[""+n]);var o=s.findIndex((function(e){return e===t}));s=s.delete(o)}));var i=e.getIn(["rows",""+n,"parent"]);if(i){var a=e.getIn(["rows",""+i]),r=a.get("allChildren"),l=r.indexOf(n);a.set("allChildren",r.delete(l));var c=a.get("children"),d=c.indexOf(n);a.set("children",c.delete(d))}e=e.deleteIn(["rows",""+n]);var u=s.indexOf(n);return s=s.delete(u),e=e.setIn(["order"],s)}},"./node_modules/@postman/data-editor/lib/reducers/EditReducer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./node_modules/immutable/dist/immutable.js"),i=n("./node_modules/@postman/data-editor/lib/reducers/CreateReducer.js"),a=(o=i)&&o.__esModule?o:{default:o};t.default=function(e,t,n,o){var i=t.node,r=t.column,l=n.meta;if(void 0!==l.name&&(e=e.setIn(["rows",""+i,"columns",""+r,"meta","name"],l.name)),void 0!==l.key&&(e=e.setIn(["rows",""+i,"columns",""+r,"meta","key"],l.key)),void 0!==l.value&&(e=e.setIn(["rows",""+i,"columns",""+r,"meta","value"],l.value)),void 0!==l.type){var c=(e=e.setIn(["rows",""+i,"columns",""+r,"meta","type"],l.type)).getIn(["rows",""+i,"allChildren"]);if(c){var d=e.getIn(["order"]);d=d.filter((function(e){return!c.includes(e)})),e=e.setIn(["order"],d),c.forEach((function(t){e=e.deleteIn(["rows",""+t])})),e=(e=(e=e.deleteIn(["rows",""+i,"children"])).deleteIn(["rows",""+i,"allChildren"])).deleteIn(["rows",""+i,"columns",""+r,"meta","childrenCount"])}var u=e.getIn(["rows",""+i,"columns",""+r,"meta","key"])||e.getIn(["rows",""+i,"columns",""+r,"meta","name"])||e.getIn(["rows",""+i,"columns",""+r,"meta","value"]);"string"===l.type||"number"===l.type||"boolean"===l.type?e=(e=e.setIn(["rows",""+i,"columns",""+r,"type"],"object")).setIn(["rows",""+i,"columns",""+r,"meta"],(0,s.fromJS)({key:u||""})):"array"===l.type?(e=(e=(e=(e=e.setIn(["rows",""+i,"columns",""+r,"type"],"arraymeta")).setIn(["rows",""+i,"children"],(0,s.fromJS)([]))).setIn(["rows",""+i,"allChildren"],(0,s.fromJS)([]))).setIn(["rows",""+i,"columns",""+r,"meta"],(0,s.fromJS)({name:u||"",childrenCount:0,type:"array"})),e=(0,a.default)(e,{node:i,column:r},{},o)):"object"===l.type&&(e=(e=(e=(e=e.setIn(["rows",""+i,"columns",""+r,"type"],"objectmeta")).setIn(["rows",""+i,"children"],(0,s.fromJS)([]))).setIn(["rows",""+i,"allChildren"],(0,s.fromJS)([]))).setIn(["rows",""+i,"columns",""+r,"meta"],(0,s.fromJS)({name:u||"",childrenCount:0,type:"object"})),e=(0,a.default)(e,{node:i,column:r},{},o))}return e}},"./node_modules/@postman/data-editor/lib/reducers/ExpandReducer.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){var n=t.node,o=(t.column,e.getIn(["rows",""+n,"allChildren"]));if(!o)return e;if(!e.getIn(["collapsedRows",""+n]))return e;var s=e.getIn(["order"]),i=s.findIndex((function(e){return e===n}));return o.forEach((function(e,t){s=s.insert(i+t+1,e)})),e=(e=e.setIn(["order"],s)).deleteIn(["collapsedRows",""+n])}},"./node_modules/@postman/data-editor/lib/reducers/MoveReducer.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,n){var o=t.node,s=n.sourceIndex,i=n.position,a=e.getIn(["order"]),r=o,l=a.get(s),c=a.indexOf(r);if("before"===i&&(c-=1),c===a.size-1||s===a.size-1)return e;var d=e.getIn(["rows",""+r,"allChildren"]);return a=a.delete(s),d&&d.forEach((function(){a=a.delete(s)})),s>c?(a=a.insert(c+1,l),d&&d.forEach((function(e,t){a=a.insert(c+1+t+1,e)}))):d?(a=a.insert(c-d.size,l),d.forEach((function(e,t){a=a.insert(c+t+1-d.size,e)}))):a=a.insert(c,l),e=e.setIn(["order"],a)}},"./node_modules/@postman/data-editor/lib/reducers/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=d(n("./node_modules/@postman/data-editor/lib/reducers/CreateReducer.js")),i=d(n("./node_modules/@postman/data-editor/lib/reducers/EditReducer.js")),a=d(n("./node_modules/@postman/data-editor/lib/reducers/MoveReducer.js")),r=d(n("./node_modules/@postman/data-editor/lib/reducers/DeleteReducer.js")),l=d(n("./node_modules/@postman/data-editor/lib/reducers/CollapseReducer.js")),c=d(n("./node_modules/@postman/data-editor/lib/reducers/ExpandReducer.js"));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}return o(e,[{key:"reduce",value:function(e,t){switch(t.type){case"create":return(0,s.default)(e,t.source,t.payload,this.config);case"edit":return(0,i.default)(e,t.source,t.payload,this.config);case"move":return(0,a.default)(e,t.source,t.payload);case"delete":return(0,r.default)(e,t.source,t.payload);case"collapse":return(0,l.default)(e,t.source);case"expand":return(0,c.default)(e,t.source);default:return e}}}]),e}();t.default=u},"./node_modules/@postman/data-editor/lib/shortcuts.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={navigation:{MOVE_LEFT:"left",MOVE_RIGHT:"right",MOVE_UP:"up",MOVE_DOWN:"down",MOVE_TAB:"tab",MOVE_SHIFT_TAB:"shift+tab"}}},"./node_modules/@postman/data-editor/lib/utilities/GenerateRenderers.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=m(n("../../node_modules/react/index.js")),s=m(n("./node_modules/lodash/assign.js")),i=m(n("./node_modules/@postman/data-editor/lib/components/base/StringInput.js")),a=m(n("./node_modules/@postman/data-editor/lib/components/base/NumberInput.js")),r=m(n("./node_modules/@postman/data-editor/lib/components/base/BooleanInput.js")),l=m(n("./node_modules/@postman/data-editor/lib/components/base/ObjectMeta.js")),c=m(n("./node_modules/@postman/data-editor/lib/components/base/ArrayMeta.js")),d=m(n("./node_modules/@postman/data-editor/lib/components/base/ObjectNameInput.js")),u=m(n("./node_modules/@postman/data-editor/lib/components/base/ObjectKeyInput.js")),p=m(n("./node_modules/@postman/data-editor/lib/components/base/ObjectValueInput.js"));function m(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t={string:function(e,t,n,s,a){n.isCollapsed,n.subColumnIndex;return o.default.createElement(i.default,{value:e,onAction:t,cellInfo:a})},number:function(e,t,n,s,i){n.isCollapsed,n.subColumnIndex;return o.default.createElement(a.default,{value:e,onAction:t,cellInfo:i})},boolean:function(e,t,n,s,i){n.isCollapsed,n.subColumnIndex;return o.default.createElement(r.default,{value:e,onAction:t,cellInfo:i})},objectmeta:function(e,n,s,i,a){var r=s.isCollapsed,c=s.subColumnIndex;return 0===c?t.objectNameInput(e,n,{isCollapsed:r,subColumnIndex:c},i,a):1===c?o.default.createElement(l.default,{value:e,onAction:n,cellInfo:a}):void 0},arraymeta:function(e,n,s,i,a){var r=s.isCollapsed,l=s.subColumnIndex;return 0===l?t.objectNameInput(e,n,{isCollapsed:r,subColumnIndex:l},i,a):1===l?o.default.createElement(c.default,{value:e,onAction:n,cellInfo:a}):void 0},object:function(e,n,o,s,i){var a=o.isCollapsed,r=o.subColumnIndex;return 0===r?t.objectKeyInput(e,n,{isCollapsed:a,subColumnIndex:r},s,i):1===r?t.objectValueInput(e,n,{isCollapsed:a,subColumnIndex:r},{},i):void 0},row:function(e,t,n,s){n.isCollapsed,n.subColumnIndex;return o.default.createElement("div",{className:"data-editor__basic-row"},e.children,o.default.createElement("div",{className:"data-editor__row__actions"},o.default.createElement("div",{className:"data-editor__row__action--delete",onClick:function(){t("delete")}})))},objectNameInput:function(e,t,n,s,i){var a=n.isCollapsed;n.subColumnIndex;return o.default.createElement(d.default,{style:s,value:e,onAction:t,isCollapsed:a,cellInfo:i})},objectKeyInput:function(e,t,n,s,i){n.isCollapsed,n.subColumnIndex;return o.default.createElement(u.default,{style:s,value:e,onAction:t,cellInfo:i})},objectValueInput:function(e,t,n,s,i){n.isCollapsed,n.subColumnIndex;return o.default.createElement(p.default,{value:e,onAction:t,cellInfo:i})},header:function(e){return o.default.createElement("div",{className:"data-editor__basic-header"},e)}};return(0,s.default)(t,e)}},"./node_modules/@postman/data-editor/lib/utilities/utils.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=b(n("./node_modules/lodash/isString.js")),i=b(n("./node_modules/lodash/isNumber.js")),a=b(n("./node_modules/lodash/isBoolean.js")),r=b(n("./node_modules/lodash/isArray.js")),l=b(n("./node_modules/lodash/isObject.js")),c=b(n("./node_modules/lodash/forEach.js")),d=b(n("./node_modules/lodash/forOwn.js")),u=b(n("./node_modules/lodash/concat.js")),p=b(n("./node_modules/lodash/reject.js")),m=b(n("./node_modules/lodash/size.js")),h=b(n("./node_modules/lodash/assign.js")),g=b(n("./node_modules/lodash/get.js")),f=n("./node_modules/immutable/dist/immutable.js");function b(e){return e&&e.__esModule?e:{default:e}}function y(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.counter=0}return o(e,[{key:"getId",value:function(){return this.counter++}},{key:"_getType",value:function(e){return(0,s.default)(e)?"string":(0,i.default)(e)?"number":(0,a.default)(e)?"boolean":(0,r.default)(e)?"array":(0,l.default)(e)?"object":void 0}},{key:"flattenNode",value:function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",l=this,h=arguments[5],f=arguments[6],b=this._getType(n),y=e,I=[],E=[];switch(null==y&&(y=this.getId(),this.flattened.order=(0,u.default)(this.flattened.order,y)),this.maxDepth<o&&(this.maxDepth=o),b){case"string":case"number":case"boolean":this.flattened.rows[y]=Object.assign({},this.flattened.rows[y],{id:y,depth:o,parent:f,columns:Object.assign({},(0,g.default)(this.flattened.rows[y],"columns",[]),v({},""+t,{type:b,meta:{value:n}}))}),I.push(y);break;case"array":E.push(y),I.push(y),(0,c.default)(n,(function(e,n){if((0,s.default)(e)||(0,i.default)(e)||(0,a.default)(e)){var c=l.getId();l.flattened.rows[c]=Object.assign({},l.flattened.rows[c],{id:c,depth:o+1,parent:y,columns:Object.assign({},(0,g.default)(l.flattened.rows[c],"columns",[]),v({},""+t,{type:"object",meta:{key:r+"["+n+"]",value:e,type:l._getType(e)}}))}),l.flattened.order=(0,u.default)(l.flattened.order,c),E.push(c),I.push(c)}else{var d=l.flattenNode(null,t,e,o+1,r+"["+n+"]",!0,y);I=(0,u.default)(I,d.allChildren);var m=(0,p.default)(d.children,(function(e){return l.flattened.rows[e].depth!==o+1}));E=(0,u.default)(E,m)}})),this.flattened.rows[y]=Object.assign({},this.flattened.rows[y],{id:y,depth:o,parent:f,children:(0,p.default)(E,(function(e){return""+e==""+y})),allChildren:(0,p.default)(I,(function(e){return""+e==""+y})),columns:Object.assign({},(0,g.default)(this.flattened.rows[y],"columns",[]),v({},""+t,{type:"arraymeta",meta:{name:r,childrenCount:(0,m.default)(n),type:this._getType(n)}}))});break;case"object":E.push(y),I.push(y),(0,d.default)(n,(function(e,n){if((0,s.default)(e)||(0,i.default)(e)||(0,a.default)(e)){var r=l.getId();l.flattened.rows[r]=Object.assign({},l.flattened.rows[r],{id:r,depth:o+1,parent:y,columns:Object.assign({},(0,g.default)(l.flattened.rows[r],"columns",[]),v({},""+t,{type:"object",meta:{key:""+n,value:e,type:l._getType(e)}}))}),l.flattened.order=(0,u.default)(l.flattened.order,r),E.push(r),I.push(r)}else{var c=l.flattenNode(null,t,e,o+1,n,!1,y);I=(0,u.default)(I,c.allChildren);var d=(0,p.default)(c.children,(function(e){return l.flattened.rows[e].depth!==o+1}));E=(0,u.default)(E,d)}})),this.flattened.rows[y]=Object.assign({},this.flattened.rows[y],{id:y,depth:o,parent:f,children:(0,p.default)(E,(function(e){return""+e==""+y})),allChildren:(0,p.default)(I,(function(e){return""+e==""+y})),columns:Object.assign({},(0,g.default)(this.flattened.rows[y],"columns",[]),v({},""+t,{type:"objectmeta",meta:{name:r,autogen:h,childrenCount:(0,m.default)(n),type:this._getType(n)}}))})}return{children:E,allChildren:I}}},{key:"flattenNodes",value:function(e,t){var n=this;return delete this.flattened,this.flattened={rows:{},order:[],collapsedRows:{}},this.maxDepth=0,(0,c.default)(t,(function(t){var o=n.getId();n.flattened.order=(0,u.default)(n.flattened.order,o),(0,c.default)(e.columns,(function(e){switch(e.type){case"string":case"number":case"boolean":n.flattened.rows[o]=Object.assign({},n.flattened.rows[o],{id:o,depth:0,columns:Object.assign({},(0,g.default)(n.flattened.rows[o],"columns",[]),v({},""+e.name,{type:e.type,meta:{value:t[e.name]}}))});break;case"object":case"array":var r=t[e.name],l=r.key,c=r.value;(0,s.default)(c)||(0,i.default)(c)||(0,a.default)(c)?n.flattened.rows[o]=Object.assign({},n.flattened.rows[o],{id:o,depth:0,columns:Object.assign({},(0,g.default)(n.flattened.rows[o],"columns",[]),v({},""+e.name,{type:"object",meta:{key:""+l,value:c,type:"string"}}))}):n.flattenNode(o,e.name,c,0,l)}}))})),{state:(0,f.fromJS)(this.flattened),maxDepth:this.maxDepth}}},{key:"unflattenChildren",value:function(e,t,n){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=s;return(0,c.default)(n,(function(n){var s=e.rows[""+n];"object"===s.columns[t].type?("object"===o._getType(i)&&(i=Object.assign({},i,v({},s.columns[t].meta.key,s.columns[t].meta.value))),"array"===o._getType(i)&&(i=[].concat(y(i),[v({},s.columns[t].meta.key,s.columns[t].meta.value)]))):"objectmeta"===s.columns[t].type?("object"===o._getType(i)&&(i=v({},s.columns[t].meta.name,o.unflattenChildren(e,t,s.children,{}))),"array"===o._getType(i)&&!s.columns[t].meta.autogen&&(i=[h.default.apply(void 0,[{}].concat(y(i),[v({},s.columns[t].meta.name,o.unflattenChildren(e,t,s.children,{}))]))]),"array"===o._getType(i)&&s.columns[t].meta.autogen&&(i=o.unflattenChildren(e,t,s.children,i))):"arraymeta"===s.columns[t].type&&("object"===o._getType(i)&&(i=v({},s.columns[t].meta.name,o.unflattenChildren(e,t,s.children,[]))),"array"===o._getType(i)&&(i=o.unflattenChildren(e,t,s.children,[])))})),i}},{key:"unflattenNodes",value:function(e){var t=this,n=e.toJS(),o=[],s=0,i=n.order;return(0,c.default)(i,(function(e){var i=n.rows[e],a=i.depth;(0,d.default)(i.columns,(function(e,r){if(0!==a)return!1;"string"===e.type||"number"===e.type||"boolean"===e.type?o[s]=Object.assign({},o[s],v({},r,e.meta.value)):"object"===e.type?o[s]=Object.assign({},o[s],v({},r,Object.assign({},(0,g.default)(o,"["+s+"]["+r+"]",{}),{key:e.meta.key,value:e.meta.value}))):"objectmeta"===e.type?o[s]=Object.assign({},o[s],v({},r,Object.assign({},(0,g.default)(o,"["+s+"]["+r+"]",{}),{key:e.meta.name,value:t.unflattenChildren(n,r,i.children,{})}))):"arraymeta"===e.type&&(o[s]=Object.assign({},o[s],v({},r,Object.assign({},(0,g.default)(o,"["+s+"]["+r+"]",{}),{key:e.meta.name,value:t.unflattenChildren(n,r,i.children,[])}))))})),0===a&&s++})),o}},{key:"getImmutablePathValue",value:function(e,t){if(e)return e.getIn(t)}},{key:"createAction",value:function(e,t,n){switch(t){case"create":case"move":case"delete":default:return{source:e,type:t,payload:n};case"edit":return{source:e,type:t,payload:{meta:n}};case"expand":case"collapse":return{source:e,type:t}}}},{key:"getEmptyRow",value:function(e){var t={id:this.getId(),depth:0,columns:{}};return(0,c.default)(e.columns,(function(e){switch(e.type){case"string":case"number":case"boolean":t.columns=Object.assign({},t.columns,v({},""+e.name,{type:e.type,meta:{value:""}}));break;case"object":t.columns=Object.assign({},t.columns,v({},""+e.name,{type:e.type,meta:{key:"",value:""}}))}})),t}},{key:"findIndexInOrder",value:function(e,t){return e.findIndex((function(e){return""+e==""+t}))}},{key:"getLastInList",value:function(e){return e.last()}},{key:"isMap",value:function(e){return f.Map.isMap(e)}},{key:"getMaxDepth",value:function(e){var t=0;return(0,c.default)(e.rows,(function(e){e.depth>t&&(t=e.depth)})),t}}]),e}();t.default=new I},"./node_modules/@postman/data-editor/node_modules/prop-types/factoryWithThrowingShims.js":function(e,t,n){"use strict";var o=n("./node_modules/fbjs/lib/emptyFunction.js"),s=n("./node_modules/fbjs/lib/invariant.js"),i=n("./node_modules/@postman/data-editor/node_modules/prop-types/lib/ReactPropTypesSecret.js");e.exports=function(){function e(e,t,n,o,a,r){r!==i&&s(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},"./node_modules/@postman/data-editor/node_modules/prop-types/index.js":function(e,t,n){e.exports=n("./node_modules/@postman/data-editor/node_modules/prop-types/factoryWithThrowingShims.js")()},"./node_modules/@postman/data-editor/node_modules/prop-types/lib/ReactPropTypesSecret.js":function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../../packages/api-dev/api-builder-sub-tab-registry/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{APIBuilderSubTabs:function(){return o.APIBuilderSubTabs}});var o=n("../../packages/api-dev/api-builder-sub-tab-registry/src/index.js")},"../../packages/api-dev/api-builder-sub-tab-registry/src/components/SubTabContent/SubTabContent.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/classnames/index.js"),i=n.n(s);const a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default.div`
  display: ${e=>e.hidden?"none":"flex"};
  flex-direction: column;
  flex: 1;
  max-height: 100%;
  overflow-y: auto;

  --maxContentWidth: 1224px;
  --sides-padding: max(calc((90vw - var(--maxContentWidth)) / 2), var(--spacing-xxl));
  padding-right: ${e=>"documentation"!==e.identifier&&"network"===e.mode?"var(--sides-padding)":"var(--spacing-zero)"};
`;class r extends o.Component{constructor(e){super(e)}getClasses(){return i()({"is-hidden":!this.props.active},this.props.className)}render(){const e=`sub-tab-content-${this.props.identifier}`;return o.createElement(a,{className:this.getClasses(),hidden:!this.props.active,identifier:this.props.identifier,"data-testid":e,mode:this.props.mode},this.props.children)}}},"../../packages/api-dev/api-builder-sub-tab-registry/src/components/SubTabContentContainer/SubTabContentContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/constants/APITabModes.js");const i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default.div`
  display: flex;
  flex-direction: column;
  flex: 1;
  min-width: 600px;
  overflow: hidden auto;

  // setting this padding only in network mode - owned by API Network
  --maxContentWidth: 1224px;
  --sides-padding: max(calc((90vw - var(--maxContentWidth)) / 2), var(--spacing-xxl));
  padding-left: ${e=>e.mode===s.NETWORK_MODE?"var(--sides-padding)":"var(--spacing-zero)"};
`;class a extends o.Component{constructor(e){super(e)}render(){let e=o.Children.map(this.props.children,(e=>e&&o.cloneElement(e,{key:e.key,active:this.props.activeTab===e.key})));return o.createElement(i,{mode:this.props.mode,"data-testid":"sub-tab-content-container"},e)}}},"../../packages/api-dev/api-builder-sub-tab-registry/src/components/SubTabsGroup/SubTabsGroup.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var o,s=n("../../node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/components/base/Tabs.js"),c=n("./js/components/base/XPaths/XPath.js"),d=n("./js/utils/PluralizeHelper.js"),u=n("./js/stores/StoreManager.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/classnames/index.js"),g=n.n(h),f=n("./onboarding/src/common/LaunchDarkly.js"),b=n("./js/services/NavigationService.js"),y=n("./appsdk/components/link/Link.js"),v=n("./api-dev/constants/APITabModes.js"),I=n("./js/stores/AnnotationStore.js"),E=n("../../packages/api-dev/api-builder-sub-tab-registry/src/configs/ModeConfig.js"),_=n("../../packages/api-dev/api-builder-sub-tab-registry/src/configs/TabServiceConfig.js"),S=n("./apinetwork/common/CopyLinkButton.js"),C=n("./api-dev/configs/APIActionsBlockList.js"),T=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const j=T.default.div`
  height: var(--size-xs);
  min-width: var(--size-xs);
  background-color: var(--base-color-brand);
  font-size: var(--text-size-s);
  color: var(--content-color-constant);
  font-weight: var(--font-weight-medium);
  border-radius: var(--border-radius-default);
  position: absolute;
  top: -15px;
  right: -10px;
  padding: var(--spacing-zero) 2px;
  display: flex;
  align-items: center;
  justify-content: center;
`,A=T.default.div`
  display: flex;
  align-items: center;
  position: relative;
`,w=(0,T.default)(l.Tab)``,O=T.default.div`
  font-weight: var(--text-weight-regular);
  font-size: var(--text-size-m);
  color: var(--content-color-secondary);

  ${w}.is-active & {
    color: var(--content-color-primary);
  }
`,N=T.default.div`
  display: flex;
  justify-content: space-between;
  background-color: var(--background-color-primary);
  padding: var(--spacing-m) var(--spacing-s) var(--spacing-zero) var(--spacing-zero);
  border-bottom: var(--border-width-default) solid var(--border-color-default);
  min-width: 600px;

  // owned by API Network
  &.network {
    --maxContentWidth: 1224px;
    --sides-padding: max(calc((90vw - var(--maxContentWidth)) / 2), var(--spacing-xxl));
    margin-left: var(--sides-padding);
    margin-right: var(--sides-padding);
  }
`,D=({count:e})=>{const t=`${e} ${d.default.pluralize({count:e,singular:"comment",plural:"comments"})}`;return a.createElement(j,{title:t},e>99?"99+":e)};let R=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={schemaType:""},this.getTabConfiguration=this.getTabConfiguration.bind(this),this.getSchemaType=this.getSchemaType.bind(this),this.handleSchemaFetchEvent=this.handleSchemaFetchEvent.bind(this),pm.windowEvents.addListener(`release-tab-fetch-schema-${i().get(this.props.model,"activeRelease.id")}`,this.handleSchemaFetchEvent)}componentWillUnmount(){pm.windowEvents.removeListener(`release-tab-fetch-schema-${i().get(this.props.model,"activeRelease.id")}`,this.handleSchemaFetchEvent)}handleSchemaFetchEvent(e){const{type:t}=e;t&&this.setState({schemaType:t})}getTabCount(){return((0,u.resolveStoreInstance)(I.default).getActiveAnnotationsByModelId(i().get(this.props,"model.apiId"))||[]).filter((e=>e.anchor&&e.anchor.startsWith(`api/${i().get(this.props,"model.apiId")}/schema/${i().get(this.props.model,"schema.schemaId")}`))).length}getCommentBadge(){const e=this.getTabCount();return e>0&&a.createElement(D,{count:e})}getSchemaType(){return"release"===this.props.origin?this.state.schemaType:"api-version"===this.props.origin?i().get(this.props,"model.schema.type"):void 0}getTabConfiguration(){const e=C.default.schema.types.includes(this.getSchemaType());return{"api-version":{overview:{},define:{},documentation:{isHidden:e},test:{isHidden:e},deployment:{isHidden:!this.props.isLoggedIn||!f.launchDarkly.getFlag("api-deployments-tab-enabled",!1)||!i().get(this.props,"model.apiPermissionStore.canViewAPIIntegrations")||e},monitoring:{isHidden:e}},release:{overview:{},definition:{},documentation:{isHidden:e},tests:{isHidden:e},deployments:{isHidden:!this.props.isLoggedIn||!f.launchDarkly.getFlag("api-deployments-tab-enabled",!1)||!i().get(this.props,"model.apiPermissionStore.canViewAPIIntegrations")||e}}}}getActiveTab(){return i().get(this.props,"activeTab")}getClassNames(){return g()({network:this.props.mode===v.NETWORK_MODE})}renderTabName(e){const t=`sub-tabs-group-${e.identifier}`,n=a.createElement(A,{"data-testid":"sub-tabs-element"},a.createElement(O,{"data-testid":t},e.name),"define"===e.identifier&&i().get(this.props,"model.isCommentMode")&&this.getCommentBadge());return e.xPathIdentifier?a.createElement(c.default,{identifier:e.xPathIdentifier},n):n}render(){this.props.mode,v.BUILD_MODE;const e=this.getTabConfiguration(),t=this.props.mode,n=this.props.origin,o=i().get(E.MODE_CONFIG,`${t}.isDisabled`,[]),s=i().get(E.MODE_CONFIG,`${t}.hasTabs`,!1);return a.createElement(N,{className:this.getClassNames(),"data-testid":"sub-tabs-group"},a.createElement(l.Tabs,{activeRef:this.getActiveTab(),className:"wrapper",defaultActive:"develop",type:"primary",onChange:this.props.onTabChange},i().map(_.TabServiceConfig[n],(t=>(!s||i().includes(s,t.identifier))&&!i().get(e[n][t.identifier],"isHidden")&&a.createElement(a.Fragment,null,a.createElement(w,{disabled:i().includes(o,t.identifier),refKey:t.identifier},this.renderTabName(t)))))),"api-version"===n&&this.props.mode===v.NETWORK_MODE&&a.createElement(p.default,{gap:"spacing-l",alignItems:"center"},a.createElement(S.default,{entityType:"privateNetworkApiVersion",entityId:i().get(this.props,"model.id"),size:"small",showText:!0}),a.createElement(y.default,{to:`/api/${i().get(this.props,"model.apiId")}/version/${i().get(this.props,"model.id")}?tab=${i().get(this.props,"activeTab")}`,onClick:e=>{e.preventDefault(),b.default.transitionToURL(`api/${i().get(this.props,"model.apiId")}/version/${i().get(this.props,"model.id")}?tab=${i().get(this.props,"activeTab")}`)}},a.createElement(m.default,{type:"link-subtle"},a.createElement(m.default,{color:"content-color-link"},"Open API in workspace")))))}})||o},"../../packages/api-dev/api-builder-sub-tab-registry/src/configs/ModeConfig.js":function(e,t,n){"use strict";n.r(t),n.d(t,{MODE_CONFIG:function(){return o}});const o={build:{hasTabs:["overview","define","documentation","test","deployment","monitoring"],isDisabled:[]},network:{hasTabs:["overview","define","documentation"],isDisabled:[]},feature:{hasTabs:["overview","define","documentation","test","deployment","monitoring"],isDisabled:["documentation","monitoring"]},comment:{hasTabs:["overview","define","documentation","test","deployment","monitoring"],isDisabled:["overview","documentation","test","deployment","monitoring"]}}},"../../packages/api-dev/api-builder-sub-tab-registry/src/configs/TabServiceConfig.js":function(e,t,n){"use strict";n.r(t),n.d(t,{TabServiceConfig:function(){return m}});var o=n("./api-dev/components/api-version/api-version-sub-tabs/Overview/Overview.js"),s=(n("./api-dev/components/api-version/api-version-sub-tabs/Definition/Definition.js"),n("./documentation/components/APIDocumentation/APIBuilder/Documentation.js")),i=n("./api-dev/components/api-version/api-version-sub-tabs/Test/Test.js"),a=n("./api-dev/components/api-version/api-version-sub-tabs/Monitoring/Monitoring.js"),r=n("./api-dev/components/api-version/api-version-sub-tabs/Deployments/Deployments.js"),l=n("./documentation/components/APIDocumentation/ReleaseTab/ReleaseDocumentation.js"),c=n("./api-dev/components/release/ReleaseOverview/ReleaseOverview.js"),d=n("./api-dev/components/release/SchemaTab.js"),u=n("./api-dev/components/release/TestTab.js"),p=n("./integrations/api-observability/containers/ReleaseDeploymentContainer.js");const m={"api-version":[{identifier:"overview",name:"Overview",view:o.default},{identifier:"documentation",xPathIdentifier:"documentationTab",name:"Documentation",view:s.default},{identifier:"test",name:"Test",view:i.default},{identifier:"deployment",name:"Deployments",view:r.default},{identifier:"monitoring",name:"Monitoring",view:a.default}],release:[{identifier:"overview",xPathIdentifier:"overviewTab",name:"Overview",view:c.default},{identifier:"definition",xPathIdentifier:"schemaTab",name:"Definition",view:d.default},{identifier:"documentation",xPathIdentifier:"relationsTab",name:"Documentation",view:l.default},{identifier:"tests",xPathIdentifier:"relationsTab",name:"Tests",view:u.default},{identifier:"deployments",xPathIdentifier:"relationsTab",name:"Deployments",view:p.default}]}},"../../packages/api-dev/api-builder-sub-tab-registry/src/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{APIBuilderSubTabs:function(){return p}});var o=n("../../node_modules/react/index.js"),s=n("../../packages/api-dev/api-builder-sub-tab-registry/src/components/SubTabsGroup/SubTabsGroup.js"),i=n("../../packages/api-dev/api-builder-sub-tab-registry/src/components/SubTabContent/SubTabContent.js"),a=n("../../packages/api-dev/api-builder-sub-tab-registry/src/components/SubTabContentContainer/SubTabContentContainer.js"),r=n("./js/stores/StoreManager.js"),l=n("../../packages/api-dev/api-builder-sub-tab-registry/src/configs/TabServiceConfig.js"),c=n("../../packages/api-dev/api-builder-sub-tab-registry/src/configs/ModeConfig.js"),d=n("./js/stores/CurrentUserStore.js"),u=n("../../node_modules/lodash/lodash.js");class p extends o.Component{constructor(e){super(e),this.isUserLoggedIn=(0,r.resolveStoreInstance)(d.default).isLoggedIn}render(){return o.createElement(o.Fragment,null,o.createElement(s.default,{mode:u.get(this.props,"model.mode"),model:this.props.model,onTabChange:this.props.onTabChange,promoteTab:this.props.promoteTab,isLoggedIn:this.isUserLoggedIn,origin:this.props.origin,activeTab:this.props.activeTab,editor:u.get(this.props,"editor")}),o.createElement(a.default,{activeTab:this.props.activeTab,mode:u.get(this.props,"model.mode")},l.TabServiceConfig[this.props.origin].map(((e,t)=>{const n=e.view,s=e.identifier,a=u.get(this.props,"model.mode");if(!a||u.includes(c.MODE_CONFIG[a].hasTabs,s))return o.createElement(i.default,{key:s,identifier:s,mode:u.get(this.props,"model.mode")},o.createElement(n,{model:this.props.model,editor:this.props.editor,promoteTab:this.props.promoteTab,onTabChange:this.props.onTabChange,key:t,workspaceId:u.get(this.props,"workspaceId",null)}))}))))}}},"../../packages/monitoring/monitoring-actions/constants/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{SCHEDULED_COLLECTION_ACTION_SUCCESS:function(){return i},SCHEDULED_COLLECTION_RUNS:function(){return s},UNKNOWN_SOURCE:function(){return o}});const o="Unknown",s={willRun:"This scheduled collection will run on its regular schedule.",willNotRun:"This scheduled collection will no longer make its scheduled runs."},i={paused:"Scheduled collection paused"}},"../../packages/monitoring/monitoring-actions/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{openMonitor:function(){return o.default},openMonitorForm:function(){return s.default},openMonitoringUsage:function(){return r.default},openScheduledCollection:function(){return a.default},pauseMonitor:function(){return l.default},pauseScheduledCollection:function(){return c.default},recordClientEvent:function(){return i.default}});var o=n("../../packages/monitoring/monitoring-actions/src/transitions/openMonitor.js"),s=n("../../packages/monitoring/monitoring-actions/src/transitions/openMonitorForm.js"),i=n("../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/index.js"),a=n("../../packages/monitoring/monitoring-actions/src/scheduled-collection/openScheduledCollection.js"),r=n("../../packages/monitoring/monitoring-actions/src/monitor/monitoring-usage/openMonitoringUsage.js"),l=n("../../packages/monitoring/monitoring-actions/src/monitor/pause-monitor/index.js"),c=n("../../packages/monitoring/monitoring-actions/src/scheduled-collection/pause-scheduled-collection/index.js");t.default={openMonitor:o.default,openMonitorForm:s.default,recordClientEvent:i.default}},"../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/eventConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ACTION:function(){return o},CATEGORY:function(){return i},LABEL:function(){return s}});const o={VIEW_SUMMARY:"view_summary",INITIATE_SUMMARY:"initiate_summary",INITIATE_CREATE:"initiate_create",CONFIRM_CREATE:"confirm_create",INITIATE_EDIT:"initiate_edit",CONFIRM_EDIT:"confirm_edit",PAUSE_MONITOR:"pause_monitor",INITIATE_PAUSE:"initiate_pause",INITIATE_RESUME:"initiate_resume",INITIATE_DELETE:"initiate_delete",VIEW_CREATE:"view_create",PAUSE_SCHEDULED_COLLECTION:"pause_scheduled_collection",VIEW_MONITORING_USAGE:"view_monitoring_usage",VIEW_MONITORING_USAGE_FORBIDDEN:"view_monitoring_usage_forbidden",VIEW_UPTIME_INTEGRATIONS_NOTIFY:"view_available_uptime_monitor_integrations",INITIATE_CREATE_UPTIME_INTEGRATION:"initiate_create_uptime_monitor_integration",CANCEL_UPTIME_INTEGRATION_AUTH:"cancel_authorization_uptime_monitor_integration",VIEW_UPTIME_INTEGRATION_CREATE_FORM:"view_uptime_monitor_integration_create_form",CONFIRM_CREATE_UPTIME_INTEGRATION:"confirm_create_uptime_monitor_integration",INITIATE_EDIT_UPTIME_INTEGRATION:"initiate_edit_uptime_monitor_integration",VIEW_UPTIME_INTEGRATION_EDIT_FORM:"view_uptime_monitor_integration_edit_form",CONFIRM_EDIT_UPTIME_INTEGRATION:"confirm_edit_uptime_monitor_integration",INITIATE_DELETE_UPTIME_INTEGRATION:"initiate_delete_uptime_monitor_integration",CONFIRM_DELETE_UPTIME_INTEGRATION:"confirm_delete_uptime_monitor_integration",DELETE_MONITOR_FEEDBACK:"delete_monitor_feedback",ADVANCED_SETTINGS_EXPANDED:"advanced_settings_expanded",SET_CUSTOM_ORDER:"set_custom_run_order",NAME_EDITED:"name_edited",CREATE_FREQUENCY_EDITED:"create_frequency_edited",ENVIRONMENT_SET:"environment_set",ITERATION_EDITED:"iteration_edited",NOTIF_EDITED:"email_notif_edited",NOTIF_STOP_EDITED:"notification_stop_edited",OPEN_RUNS_TAB:"open_runs_tab",INITIATE_MANUAL_RUN:"initiate_manual_run",DATA_FILE_MAX_SIZE_HIT:"data_file_max_size_hit",JUMP_TO_ITERATION:"jump_to_iteration"},s={COLLECTION_BASED:"collection_based",UPTIME_BETA:"uptime_beta",CNX:"cnx",LISTING_VIEW:"listing_view",WORKBENCH:"workbench",CREATE_FORM:"create_form",EDIT_FORM:"edit_form",EMAIL:"email",UPTIME_BETA_ONRAMP:"uptime_beta_onramp",BILLING_OVERVIEW:"billing_overview",UNKNOWN:"unknown",UPTIME_MONITOR_DETAILS_VIEW:"uptime_monitor_details_view",UPTIME_INTEGRATIONS_SLACK:"slack",NEEDS_UNMET:"needs_unmet",EXPECTATION_SHORTFALL:"expectation_shortfall",BAD_EXPERIENCE:"bad_experience",USER_EXPLORATORY:"user_exploratory",OTHER_REASONS:"other_reasons",MONITOR_RUN_RESULTS_CONTAINER:"monitor_run_results_container",SCHEDULED_COLLECTION_RUN_RESULTS_CONTAINER:"scheduled_collection_run_results_container"},i={SCHEDULED_COLLECTION:"scheduled_collection"}},"../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/eventRegistry.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/eventConstants.js");const s={collectionMonitorSummaryViewed:{action:o.ACTION.VIEW_SUMMARY,label:o.LABEL.COLLECTION_BASED},confirmBetaUptimeCreation:{action:o.ACTION.CONFIRM_CREATE,label:o.LABEL.UPTIME_BETA},confirmBetaUptimeEdit:{action:o.ACTION.CONFIRM_EDIT,label:o.LABEL.UPTIME_BETA},initiateMonitorCreationCnx:{action:o.ACTION.INITIATE_CREATE,label:o.LABEL.CNX},initiateMonitorCreationUptimeBetaOnramp:{action:o.ACTION.INITIATE_CREATE,label:o.LABEL.UPTIME_BETA_ONRAMP},initiateMonitorCreationUnknown:{action:o.ACTION.INITIATE_CREATE,label:o.LABEL.UNKNOWN},pauseMonitorUsageView:{action:o.ACTION.PAUSE_MONITOR,label:o.LABEL.BILLING_OVERVIEW},pauseMonitorUnknown:{action:o.ACTION.PAUSE_MONITOR,label:o.LABEL.UNKNOWN},pauseScheduledCollectionUsageView:{action:o.ACTION.PAUSE_SCHEDULED_COLLECTION,label:o.LABEL.BILLING_OVERVIEW},pauseScheduledCollectionUnknown:{action:o.ACTION.PAUSE_SCHEDULED_COLLECTION,label:o.LABEL.UNKNOWN},initiatePauseScheduledRunWorkbench:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_PAUSE,label:o.LABEL.WORKBENCH},initiatePauseScheduledRunListingView:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_PAUSE,label:o.LABEL.LISTING_VIEW},confirmCreateScheduledRunCreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.CONFIRM_CREATE,label:o.LABEL.CREATE_FORM},confirmEditScheduledRunEditForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.CONFIRM_EDIT,label:o.LABEL.EDIT_FORM},initiateCreateScheduledRunlistingView:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_CREATE,label:o.LABEL.LISTING_VIEW},viewCreateScheduledRun:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.VIEW_CREATE},initiateResumeScheduledRunListingView:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_RESUME,label:o.LABEL.LISTING_VIEW},initiateResumeScheduledRunWorkbench:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_RESUME,label:o.LABEL.WORKBENCH},initiateDeleteScheduledRunListingView:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_DELETE,label:o.LABEL.LISTING_VIEW},initiateDeleteScheduledRunWorkbench:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_DELETE,label:o.LABEL.WORKBENCH},initiateSummaryScheduledRunListingView:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_SUMMARY,label:o.LABEL.LISTING_VIEW},initiateEditScheduledRunListingView:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_EDIT,label:o.LABEL.LISTING_VIEW},initiateEditScheduledRunWorkbench:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_EDIT,label:o.LABEL.WORKBENCH},advancedSectionExpandedScheduledRuncreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.ADVANCED_SETTINGS_EXPANDED,label:o.LABEL.CREATE_FORM},advancedSectionExpandedScheduledRuneditForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.ADVANCED_SETTINGS_EXPANDED,label:o.LABEL.CREATE_FORM},setCustomScheduledRuncreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.SET_CUSTOM_ORDER,label:o.LABEL.CREATE_FORM},setCustomScheduledRuneditForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.SET_CUSTOM_ORDER,label:o.LABEL.EDIT_FORM},nameEditedScheduledRunCreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.NAME_EDITED,label:o.LABEL.CREATE_FORM},createFrequencyEditedScheduledRun:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.CREATE_FREQUENCY_EDITED},openRunsTabScheduledCollectionUnknown:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.OPEN_RUNS_TAB,label:o.LABEL.UNKNOWN},environmentSetScheduledRunCreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.ENVIRONMENT_SET,label:o.LABEL.CREATE_FORM},iterationEditedScheduledRunCreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.ITERATION_EDITED,label:o.LABEL.CREATE_FORM},notifEditedScheduledRunCreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.NOTIF_EDITED,label:o.LABEL.CREATE_FORM},initiateManualRunScheduledRunWorkbench:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.INITIATE_MANUAL_RUN,label:o.LABEL.WORKBENCH},notifStopEditedScheduledRunCreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.NOTIF_STOP_EDITED,label:o.LABEL.CREATE_FORM},viewSummaryScheduledRunUnknown:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.VIEW_SUMMARY,label:o.LABEL.UNKNOWN},viewSummaryScheduledRunEmail:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.VIEW_SUMMARY,label:o.LABEL.EMAIL},dataFileMaxSizeHitScheduledRunsCreateForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.DATA_FILE_MAX_SIZE_HIT,label:o.LABEL.CREATE_FORM},dataFileMaxSizeHitScheduledRunsEditForm:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.DATA_FILE_MAX_SIZE_HIT,label:o.LABEL.EDIT_FORM},clickIntegrationNotifyButton:{action:o.ACTION.VIEW_UPTIME_INTEGRATIONS_NOTIFY,label:o.LABEL.UPTIME_MONITOR_DETAILS_VIEW},initiateCreateUptimeSlackIntegration:{action:o.ACTION.INITIATE_CREATE_UPTIME_INTEGRATION,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},viewCreateUptimeSlackIntegrationForm:{action:o.ACTION.VIEW_UPTIME_INTEGRATION_CREATE_FORM,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},cancelAuthUptimeSlackIntegrationForm:{action:o.ACTION.CANCEL_UPTIME_INTEGRATION_AUTH,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},confirmCreateUptimeSlackIntegration:{action:o.ACTION.CONFIRM_CREATE_UPTIME_INTEGRATION,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},initiateEditUptimeSlackIntegration:{action:o.ACTION.INITIATE_EDIT_UPTIME_INTEGRATION,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},viewEditUptimeSlackIntegrationForm:{action:o.ACTION.VIEW_UPTIME_INTEGRATION_EDIT_FORM,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},confirmEditUptimeSlackIntegration:{action:o.ACTION.CONFIRM_EDIT_UPTIME_INTEGRATION,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},initiateDeleteUptimeSlackIntegration:{action:o.ACTION.INITIATE_DELETE_UPTIME_INTEGRATION,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},confirmDeleteUptimeSlackIntegration:{action:o.ACTION.CONFIRM_DELETE_UPTIME_INTEGRATION,label:o.LABEL.UPTIME_INTEGRATIONS_SLACK},deleteMonitorFeedbackOption1:{action:o.ACTION.DELETE_MONITOR_FEEDBACK,label:o.LABEL.NEEDS_UNMET},deleteMonitorFeedbackOption2:{action:o.ACTION.DELETE_MONITOR_FEEDBACK,label:o.LABEL.EXPECTATION_SHORTFALL},deleteMonitorFeedbackOption3:{action:o.ACTION.DELETE_MONITOR_FEEDBACK,label:o.LABEL.BAD_EXPERIENCE},deleteMonitorFeedbackOption4:{action:o.ACTION.DELETE_MONITOR_FEEDBACK,label:o.LABEL.USER_EXPLORATORY},deleteMonitorFeedbackOption5:{action:o.ACTION.DELETE_MONITOR_FEEDBACK,label:o.LABEL.OTHER_REASONS},jumpToIterationForMonitor:{action:o.ACTION.JUMP_TO_ITERATION,label:o.LABEL.MONITOR_RUN_RESULTS_CONTAINER},jumpToIterationForScheduledCollection:{category:o.CATEGORY.SCHEDULED_COLLECTION,action:o.ACTION.JUMP_TO_ITERATION,label:o.LABEL.SCHEDULED_COLLECTION_RUN_RESULTS_CONTAINER}};function i(e){if(s.hasOwnProperty(e))return s[e]}},"../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./js/modules/services/AnalyticsService.js"),s=n("./monitors/constants.js"),i=n("../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/eventRegistry.js");t.default=function({eventId:e,label:t,entityId:n}){const a=(0,i.default)(e);if(!a)return pm.logger.error("Monitoring~recordClientEvent attempted to record unknown eventId.",null,{eventId:e});t&&(a.label=t),n&&(a.entityId=n),o.default.addEventV2({category:s.MONITOR_ANALYTICS_CATEGORY,...a})}},"../../packages/monitoring/monitoring-actions/src/monitor/monitoring-usage/openMonitoringUsage.js":function(e,t,n){"use strict";n.r(t);var o=n("./js/services/NavigationService.js"),s=n("./monitors/constants.js"),i=n("./billing/navigation/constants.js"),a=n("../../packages/monitoring/monitoring-actions/constants/index.js");t.default=function({source:e=a.UNKNOWN_SOURCE,view:t=s.MONITORING_USAGE_DETAIL_VIEW}={}){switch(t){case s.MONITORING_USAGE_OVERVIEW:o.default.transitionTo(i.OPEN_BILLING_VIEW_RESOURCE_USAGE_IDENTIFIER);break;case s.MONITORING_USAGE_DETAIL_VIEW:o.default.transitionTo(s.MONITORING_USAGE_VIEW_IDENTIFIER);break;default:pm.logger.warn("MonitoringActions~openMonitoringUsage called with incorrect view"),o.default.transitionTo(s.MONITORING_USAGE_VIEW_IDENTIFIER)}}},"../../packages/monitoring/monitoring-actions/src/monitor/pause-monitor/get-pause-payload-body.js":function(e,t,n){"use strict";n.r(t);var o=n("./monitors/constants.js");t.default=function(e){switch(e){case o.UPTIME_MONITOR_TYPE:return[{op:"replace",path:"/active",value:!1}];case o.COLLECTION_MONITOR_TYPE:return{active:!1}}}},"../../packages/monitoring/monitoring-actions/src/monitor/pause-monitor/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./monitors/utils/messages/index.js"),s=n("./monitors/constants.js"),i=n("./monitors/stores/domain/MonitorConfigurationStore.js"),a=n("../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/index.js"),r=n("../../packages/monitoring/monitoring-actions/constants/index.js"),l=n("../../packages/monitoring/monitoring-actions/src/monitor/pause-monitor/get-pause-payload-body.js");t.default=async function({id:e,source:t=r.UNKNOWN_SOURCE,silent:n=!1,monitorType:c}){let d;(0,a.default)({eventId:`pauseMonitor${t}`});const u=new i.default({monitorId:e});if(d=[s.COLLECTION_MONITOR_TYPE,s.UPTIME_MONITOR_TYPE].includes(c)?c:await u.monitorType,!d)throw!n&&pm.toasts.error(o.MONITOR_ACTION_ERROR.update),new Error(o.MONITOR_ACTION_ERROR.update);await u.updateMonitorConfiguration(e,(0,l.default)(d)),!n&&pm.toasts.success(o.MONITOR_RUNS.willNotRun,{title:o.MONITOR_ACTION_SUCCESS.paused})}},"../../packages/monitoring/monitoring-actions/src/scheduled-collection/openScheduledCollection.js":function(e,t,n){"use strict";n.r(t);var o=n("./js/services/NavigationService.js"),s=n("./monitors/constants.js"),i=n("../../packages/monitoring/monitoring-data/index.ts"),a=n("./runtime-repl/collection/CollectionModalTabsConstants.js"),r=n("./runtime-repl/collection/_api/CollectionInterface.js"),l=n("../../node_modules/lodash/lodash.js");t.default=async function({id:e,view:t=s.DETAIL_VIEW,tabId:n,origin:c,newTab:d=!1,queryParams:u={},highlight:p=!1}){const m=await i.ScheduledCollection.getCollectionId({id:e}),h={...u},g={};if(l.set(g,"tabOptions.preview",!d),n&&l.set(g,"tabOptions.openIn",n),c&&l.set(g,"additionalContext.origin",c),m)switch(t){case s.COLLECTION_VIEW:const t={setActiveTab:a.COLLECTION_RUN_REPORTS};n&&(t.tabOptions={openIn:n}),(0,r.openCollectionInTab)(m,t,null,{...h,view:s.SCHEDULED_COLLECTION_TAB_PARAM,...p?{schedule:e}:{}});break;case s.DETAIL_VIEW:o.default.transitionTo("build.scheduled-collection-details",{collectionId:m,scheduleId:e},h,g);break;case s.EDIT_VIEW:o.default.transitionTo("build.scheduled-collection-edit",{collectionId:m,scheduleId:e},h,g);break;default:pm.logger.warn("MonitoringActions~openScheduledCollection called with incorrect view"),o.default.transitionTo("build.scheduled-collection-details",{collectionId:m,scheduleId:e},h,g)}else pm.logger.error("openScheduledCollection~error finding the scheduled collection.",e)}},"../../packages/monitoring/monitoring-actions/src/scheduled-collection/pause-scheduled-collection/index.js":function(e,t,n){"use strict";n.r(t);var o=n("../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/index.js"),s=n("../../packages/monitoring/monitoring-actions/constants/index.js"),i=n("../../packages/monitoring/monitoring-data/index.ts");t.default=async function({id:e,source:t=s.UNKNOWN_SOURCE,silent:n=!1}){(0,o.default)({eventId:`pauseScheduledCollection${t}`});const a=await new i.ScheduledCollection({id:e});await a.pause(!1),!n&&pm.toasts.success(s.SCHEDULED_COLLECTION_RUNS.willNotRun,{title:s.SCHEDULED_COLLECTION_ACTION_SUCCESS.paused})}},"../../packages/monitoring/monitoring-actions/src/transitions/openMonitor.js":function(e,t,n){"use strict";n.r(t);var o=n("./js/services/NavigationService.js"),s=n("./monitors/services/UrlService.js"),i=n("./monitors/constants.js"),a=n("./monitors/stores/domain/MasterMonitorStore.js");t.default=function({id:e,view:t=i.DETAIL_VIEW,queryParams:n={},additionalOptions:r={}}){const l=new a.default,c=l.getJobTemplateConfiguration(e),d=l.getJobTemplateType(e);switch(t){case i.DETAIL_VIEW:const t={...n};d!==i.UPTIME_MONITOR_TYPE||t[i.TIME_FRAME_PARAM]||(t[i.TIME_FRAME_PARAM]=i.DEFAULT_TIME_FRAME),o.default.transitionTo("build.monitor",{monitorPath:s.default.getMonitorPath({monitorName:c.name,monitorId:e})},t,r);break;case i.EDIT_VIEW:o.default.transitionTo("build.edit-monitor",{},n,r);break;default:pm.logger.warn("MonitoringActions~openMonitor called with incorrect view"),o.default.transitionTo("build.monitor",{monitorPath:s.default.getMonitorPath({monitorName:c.name,monitorId:e})},n)}}},"../../packages/monitoring/monitoring-actions/src/transitions/openMonitorForm.js":function(e,t,n){"use strict";n.r(t);var o=n("./monitors/constants.js"),s=n("./js/services/NavigationService.js"),i=n("../../packages/monitoring/monitoring-actions/src/common/recordClientEvent/index.js");t.default=function({type:e,source:t="Unknown",prefill:n,previewMode:a=!0}){(0,i.default)({eventId:`initiateMonitorCreation${t}`}),e===o.UPTIME_MONITOR_TYPE?s.default.transitionTo("build.create-monitor",void 0,{type:o.UPTIME_MONITOR_TYPE},{additionalContext:{prefill:n},tabOptions:{preview:a}}):s.default.transitionTo("build.create-monitor",void 0,void 0,{tabOptions:{preview:a}})}},"./api-dev/components/api-diff-view/APIDiffViewTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("./appsdk/components/link/Link.js"),p=n("../../packages/version-control/change-management/index.ts"),m=n("./js/components/base/Panes.js"),h=n("./appsdk/contextbar/ContextBar.js"),g=n("./js/constants/AppSettingsDefaults.js"),f=n("./js/constants/Panes.js"),b=n("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/SourceControlUtils.js"),y=n("./js/components/base/LoadingIndicator.js"),v=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-branch-stroke.js"),I=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-commit-stroke.js"),E=n("./node_modules/lodash/lodash.js");const _=new Map([["added","A"],["deleted","D"],["modified","M"],["renamed","R"]]);let S=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.getContextData=this.getContextData.bind(this)}getHeaderRouteConfig(e){return"api"===e.type?{routeIdentifier:"build.api",routeParams:{apiId:this.props.controller.apiId}}:null}getStatusBadge(e){switch(e){case"untracked":case"added":return s.createElement(a.default,{justifyContent:"center",padding:"spacing-xs",alignItems:"center"},s.createElement(r.default,{content:"Added"},s.createElement(l.default,{className:"api-source-control__changesInPostman__aetherBadge",text:_.get("added"),status:"success"})));case"renamed":return s.createElement(a.default,{justifyContent:"center",padding:"spacing-xs",alignItems:"center"},s.createElement(r.default,{content:"Renamed"},s.createElement(l.default,{className:"api-source-control__changesInPostman__aetherBadge",text:_.get("renamed"),status:"success"})));case"modified":return s.createElement(a.default,{justifyContent:"center",padding:"spacing-xs",alignItems:"center"},s.createElement(r.default,{content:"Modified"},s.createElement(l.default,{className:"api-source-control__changesInPostman__aetherBadge",text:_.get("modified"),status:"warning"})));case"deleted":return s.createElement(a.default,{justifyContent:"center",padding:"spacing-xs",alignItems:"center"},s.createElement(r.default,{content:"Deleted"},s.createElement(l.default,{className:"api-source-control__changesInPostman__aetherBadge",text:_.get("deleted"),status:"critical"})))}}renderTabHeader(){const{apiId:e,versionId:t,apiName:n,fileName:o,fileState:i,fileStatus:r}=this.props.controller,l=this.props.controller.apiRepoStore.branch,p=E.get(this.props.controller,"currentCommitId","")||"",m=E.get(this.props.controller,"commitMessage",""),h=E.get(this.props.controller,"authorName",""),g=E.get(this.props.controller,"timeStamp","");return s.createElement(a.default,{direction:"column",gap:"spacing-s",padding:"spacing-m spacing-s spacing-m spacing-l",className:"api-diff-view-header"},s.createElement(a.default,{gap:"spacing-s",alignItems:"center"},s.createElement(u.default,{className:"api-diff-view-name-label__breadcrumb-link",to:{routeIdentifier:"build.api",routeParams:{apiId:e}}},s.createElement(a.default,{className:"api-diff-view-name-label__breadcrumb-link-wrapper",gap:"spacing-s",alignItems:"center",shrink:2},s.createElement(c.default,{className:"api-diff-view-name-label__breadcrumb-link-child",type:"h4",text:n,color:"content-color-tertiary",isTruncated:!0}),s.createElement(a.default,{gap:"spacing-xs",alignItems:"center"},s.createElement(v.default,{className:"api-diff-view-name-label__breadcrumb-link-child--icon",color:"content-color-tertiary"}),s.createElement(d.default,{className:"api-diff-view-name-label__breadcrumb-link-child",color:"content-color-tertiary",type:"body-large",isTruncated:!0},l)))),s.createElement(c.default,{type:"h4",text:"/",color:"content-color-tertiary"}),s.createElement(a.default,{gap:"spacing-xs",alignItems:"center",shrink:1,minWidth:"0"},s.createElement(c.default,{type:"h4",isTruncated:!0,text:o}),this.getStatusBadge(r))),"committed"===i&&s.createElement(a.default,{alignItems:"center",gap:"spacing-xs"},s.createElement(I.default,null),s.createElement(d.default,{color:"content-color-secondary"},p.slice(0,7)," ",m," by ",h,", ",g)))}getContextData(){const{controller:e}=this.props,t=E.get(e,["entityType"]),n={path:E.get(e,["filePath"]),apiRepositoryStore:E.get(e,["apiRepoStore"])};switch(t){case"schemas":n.entityType="apiDefinition";break;case"collections":n.entityType="collections"}return n}render(){if("loading"===E.get(this.props.controller,"status"))return s.createElement(a.default,{padding:"spacing-xxxl",justifyContent:"center"},s.createElement(y.default,null));const e=this.props.controller.entityType;this.props.controller.apiRepoStore;let t=E.get(this.props,"controller.model.currentContent"),n=E.get(this.props,"controller.model.targetContent");t&&(E.isString(t)||(t=t[0].contents)),n&&(E.isString(n)||(n=n[0].contents));let o={};if("collections"===e)try{const e=t&&JSON.parse(t);o={entityType:"collection",previousValue:n&&JSON.parse(n),currentValue:e}}catch(e){pm.logger.error(e),pm.toasts.error("Unsupported collection file. Try again.")}else o={primitiveDiffType:"line",previousValue:n,currentValue:t};return s.createElement("div",{className:"api-diff-view-container"},s.createElement("div",{className:"api-diff-view"},s.createElement("div",{className:"api-diff-view-tab-content"},s.createElement(m.PaneGroup,{defaultLayout:f.PANE_LAYOUT_HORIZONTAL},s.createElement(m.Pane,{width:{min:g.default.ui.WORKBENCH_MIN_WIDTH}},s.createElement(m.PaneContent,{className:"api-diff-view-tab-content-pane"},s.createElement(s.Fragment,null,s.createElement(a.default,{direction:"column",minWidth:"100%",maxWidth:"100%",className:"api-tab-content-pane__head"},s.createElement(s.Fragment,null,this.renderTabHeader()),s.createElement(s.Fragment,null,s.createElement(a.default,{direction:"column",padding:"spacing-xl spacing-l spacing-l spacing-l",border:{borderTop:"border-width-default"},className:"api-diff-view-tab-body",shrink:1},s.createElement(s.Fragment,null,s.createElement(c.default,{type:"h4",text:"Changes",color:"content-color-primary",hasBottomSpacing:!0,className:"api-diff-view-tab-body-title"}),s.createElement(p.ModelDiffRenderer,o)))))))),s.createElement(h.ContextBarPane,{ref:e=>{this.contextBarRef=e},allowedContexts:[b.API_SOURCE_CONTROL],collapsedByDefault:!1,contextData:this.getContextData(),width:g.default.ui.CONTEXT_BAR_WIDTH_CONFIG,editorId:this.props.id})))))}})||o},"./api-dev/components/api-repo-integration/APIEnterpriseRepoConfigurationView/APIEnterpriseRepoConfigurationView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{PureAPIRepoIntegrationConfigurationView:function(){return T}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/components/base/SearchHighlighter.js"),r=n("./js/components/base/LoadingIndicator.js"),l=(n("./js/components/base/Avatar.js"),n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js")),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),b=n("./api-dev/constants/APIRepositoryConstants.js"),y=(n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),n("./api-dev/components/common/MultilevelSearchableDropdown/MultilevelSearchableDropdown.js")),v=(n("./api-dev/configs/APIActionsBlockList.js"),n("./node_modules/lodash/lodash.js"));function I(e){const{title:t,description:n,parentClassName:o,selectedItem:i,disabled:a,handleSelect:l,filterList:c,errorMessage:d,retryHandler:u,isLoading:p,getNextLevelData:m,isPreviousLevelAvailable:h,previousLevelItem:g,getPreviousLevelData:f,isSubsequentDataLoading:v,tooltip:I}=e;return s.createElement("div",{className:o},s.createElement("span",{className:`${o}__title`},t),n,s.createElement("div",{className:`${o}__dropdown-container`},s.createElement(y.default,{className:`${o}__dropdown-container__dropdown`,searchInputPlaceholder:p&&"Loading...",optionSelectionPlaceholder:"Create a directory for me",selectedItem:i,disabled:a,getOptionsDisplayValue:E,isNextLevelAvailable:e=>!!e.path,getNextLevelData:m,getFilteredList:c,onSelect:l,isPreviousLevelAvailable:h,previousLevelItem:g,getPreviousLevelData:f,isSubsequentDataLoading:v,stickyItem:b.DEFAULT_DIRECTORY_OPTION,tooltip:I}),p&&s.createElement(r.default,{className:`${o}__dropdown-container__loading-indicator`})),s.createElement(_,{errorMessage:d,parentClassName:o,retryHandler:u}))}function E({item:e={},renderingFor:t,searchQuery:n}={}){const{name:o,path:i}=e,r="directory"===v.get(e,"type");if(t===b.DIRECTORY_DROPDOWN_DISPLAY_OPTIONS.previousLevelTrigger)return s.createElement("div",{className:"api-repo-integration-configuration__dropdown-previous-level-trigger",title:o},o);if(t===b.DIRECTORY_DROPDOWN_DISPLAY_OPTIONS.selectedItem){const e=i||o;return s.createElement("div",{className:"api-repo-integration-configuration__dropdown-selected-item-wrapper"},s.createElement("div",{className:"api-repo-integration-configuration__dropdown-selected-item-label",title:e},e))}return s.createElement("div",{className:"api-repo-integration-configuration__dropdown-item-wrapper"},s.createElement("div",{className:"api-repo-integration-configuration__dropdown-item-label"},function(e){return e?s.createElement(f.default,{name:"icon-entity-folder-stroke",color:"content-color-tertiary",className:"api-repo-integration-configuration__dropdown-item-icon"}):null}(r),s.createElement("div",{className:"item-text",title:o},function(e,t){return e?s.createElement(a.default,{source:t,queryTerm:e}):t}(n,o))))}function _(e){const{errorMessage:t,parentClassName:n,retryHandler:o}=e;return t?s.createElement("div",{className:`${n}__error`},s.createElement(f.default,{className:`${n}__error__icon`,name:"icon-state-error-stroke",color:"content-color-error",size:"small"}),s.createElement("span",{className:`${n}__error__message`},t),o&&s.createElement(l.default,{type:"tertiary",onClick:o,text:"Try Again"})):null}function S(e){const t=function(e){return v.map(e,((e,t)=>({id:t,...e})))}((n=e,v.filter(n,(e=>"file"!==e.type))));var n;return t}function C(e,t){return v.filter(t,(t=>t!==e))}let T=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={integrationData:{schemaDirectories:null,versions:[],collectionDirectories:null,isLoading:!1,isGitConfiguring:!1},selectedSchemaDir:b.DEFAULT_DIRECTORY_OPTION,selectedCollectionDir:b.DEFAULT_DIRECTORY_OPTION,hasWarningIn:{},hasErrorIn:[],entityErrorStates:{},loading:null,schemaDirectoryStack:[],collectionDirectoryStack:[],localGitFolderName:null,isLoadingFolderPath:!1,isErrorStateInLocalGitFolderPath:!1,enterpriseGitURL:null},this.handleConfigure=this.handleConfigure.bind(this),this.handleDirSelect=this.handleDirSelect.bind(this),this.fetchSchemaDirectories=this.fetchSchemaDirectories.bind(this),this.fetchCollectionDirectories=this.fetchCollectionDirectories.bind(this),this.getNextLevelDirectories=this.getNextLevelDirectories.bind(this),this.getPreviousLevelDirectories=this.getPreviousLevelDirectories.bind(this),this.setLocalGitFolderPath=this.setLocalGitFolderPath.bind(this),this.handleFolderSelection=this.handleFolderSelection.bind(this),this.setLoadingFolderPathState=this.setLoadingFolderPathState.bind(this),this.setErrorFolderPathState=this.setErrorFolderPathState.bind(this),this.setEnterpriseGitURL=this.setEnterpriseGitURL.bind(this)}handleError(e,t){if("invalidParamsError"===v.get(e,"name")){const t=v.get(e,"details.param"),n=`The "${t}" parameter you provided is invalid`,o="Invalid input";return"customDomain"===t&&this.props.goBackToPreAuthStateHandler(),void pm.toasts.error(n,{noIcon:!0,title:o})}t&&this.setState((e=>({...e,hasErrorIn:e.hasErrorIn.concat(t),loading:null})))}filterList(e,t,{firstRender:n}={}){let o=this.state.integrationData[e];if(!t||n)return o;return v.filter(o,(e=>e.name&&v.includes(e.name.toLowerCase(),t.toLowerCase())))}handleRetry(e){const t=this.state.hasErrorIn;switch(e){case"collectionDirectories":this.setState({hasErrorIn:v.pull(t,"collectionDirectories")},this.fetchCollectionDirectories.bind(this));break;case"schemaDirectories":this.setState({hasErrorIn:v.pull(t,"schemaDirectories")},this.fetchSchemaDirectories.bind(this))}}fetchSchemaDirectories(e=""){return this.setState({loading:"schemaDirectories"}),this.props.versionModel.apiRepositoryStore.apiVersionRepositoryInterface.getLocalRepositoryTree(this.state.localGitFolderName,e).then((e=>{const t=S(e);return this.setState((e=>({integrationData:{...e.integrationData,schemaDirectories:t},loading:null}))),Promise.resolve()})).catch((e=>(this.setState((e=>({integrationData:{...e.integrationData,schemaDirectories:null},hasErrorIn:e.hasErrorIn.concat(["schemaDirectories"]),loading:null,selectedSchemaDir:null}))),pm.logger.warn("APIRepoIntegrationConfigurationView: Error fetching directory tree for repository",e),Promise.reject(e))))}fetchCollectionDirectories(e=""){return this.setState({loading:"collectionDirectories"}),this.props.versionModel.apiRepositoryStore.apiVersionRepositoryInterface.getLocalRepositoryTree(this.state.localGitFolderName,e).then((e=>{const t=S(e);return this.setState((e=>({integrationData:{...e.integrationData,collectionDirectories:t},loading:null}))),Promise.resolve()})).catch((e=>(this.setState((e=>({integrationData:{...e.integrationData,collectionDirectories:null},hasErrorIn:e.hasErrorIn.concat(["schemaDirectories"]),loading:null,selectedSchemaDir:null}))),pm.logger.warn("APIRepoIntegrationConfigurationView: Error fetching directory tree for repository",e),Promise.reject(e))))}excludeDirectoryFromEntityState(e,t){this.setState((n=>{const o=`${e}Directories`,s=n.integrationData[o],i=v.filter(s,(e=>e.path!==t.path));return{integrationData:{...n.integrationData,[o]:i}}}))}includeDirectoryToEntityState(e,t){this.setState((n=>{const o=`${e}Directories`,s=n.integrationData[o];return{integrationData:{...n.integrationData,[o]:s.concat(t)}}}))}handleDirSelect(e,t){const n=`selected${e[0].toUpperCase()+e.substring(1)}Dir`,o=this.state[n],s=o&&o.id!==b.DEFAULT_DIRECTORY_OPTION.id,i=t.id!==b.DEFAULT_DIRECTORY_OPTION.id,a=C(e,b.ENTITIES_TO_BE_SYNCED);let r=(o.path||"").split("/");r.pop(),r=r.join("/");for(const e of a){const n=`${e}DirectoryStack`,a=this.state[n],l=v.chain(a).last().get("path","").value();l===r&&s&&this.includeDirectoryToEntityState(e,o);let c=(t.path||"").split("/");c.pop(),c=c.join("/"),l===c&&i&&this.excludeDirectoryFromEntityState(e,t)}this.setState({[n]:t})}excludeDirectoriesSelectedForOtherEntities(e){const t=C(e,b.ENTITIES_TO_BE_SYNCED);for(const n of t){const t=n[0].toUpperCase()+n.substring(1),o=this.state[`selected${t}Dir`];o&&o.id!==b.DEFAULT_DIRECTORY_OPTION.id&&this.excludeDirectoryFromEntityState(e,o)}}async handleConfigure(e){const t="default"===v.get(this,"state.selectedCollectionDir.id")?"postman/collections":v.get(this,"state.selectedCollectionDir.path"),n="default"===v.get(this,"state.selectedSchemaDir.id")?"postman/schemas":v.get(this,"state.selectedSchemaDir.path"),o=v.get(this.props,"versionModel.apiRepositoryStore"),{addToast:s}=this.props;if(!o)return;this.setState({isGitConfiguring:!0});let i=await o.apiVersionRepositoryInterface.getLocalRepositoryMeta(this.state.localGitFolderName);const a={api:this.props.apiId,apiVersion:this.props.versionId,repository:{id:i.name,name:i.name,owner:{name:i.owner,id:i.owner}},service:this.props.serviceName,userConfig:{paths:{collections:t,schemas:n},branches:{initial:i.activeBranch}},customDomain:this.state.enterpriseGitURL};return this.setState({isLoading:!0}),o.createRemoteGit(a).then((async e=>{await o.createLocalGit(this.state.localGitFolderName),await o.initialSyncWithWorkspace(v.get(this.props,"versionModel"))})).catch((e=>{s({status:"error",title:e.title,description:e.message})})).finally((()=>{this.setState({isLoading:!1,isGitConfiguring:!1}),this.props.closeconfiguration(),v.isEmpty(v.get(this.props,"versionModel.workbenchModel"))||this.props.versionModel.workbenchModel.reload()}))}setEnterpriseGitURL(e){this.setState({enterpriseGitURL:e})}setLoadingFolderPathState(e){this.setState({isLoadingFolderPath:e})}setErrorFolderPathState(e){this.setState({isErrorStateInLocalGitFolderPath:e})}setLocalGitFolderPath(e){this.setState({localGitFolderName:e}),this.setErrorFolderPathState(!1)}handleFolderSelection(e){if("browser"===window.SDK_PLATFORM)return void e.preventDefault();const t=v.get(this.refs,"folderSelectionRef");t.tabIndex="-1",t.disabled=!0;const{dialog:o}=n("@electron/remote"),{isLoadingFolderPath:s}=this.state;s||(this.setLoadingFolderPathState(!0),o.showOpenDialog({buttonLabel:"Select",properties:["openDirectory","createDirectory"]}).then((e=>{this.setLoadingFolderPathState(!1),e.canceled?pm.logger.error("APIRepositoryStore~createLocalGit - User cancelled action"):(this.setLocalGitFolderPath(e.filePaths[0]),this.props.versionModel.apiRepositoryStore.apiVersionRepositoryInterface.validateOnPremIntegrationDomain({domain:this.state.enterpriseGitURL,folderPath:e.filePaths[0]}).then((()=>{this.handleRetry("schemaDirectories"),this.handleRetry("collectionDirectories")})).catch((e=>{this.setState({isErrorStateInLocalGitFolderPath:!0})})))})))}getErrorMessage(e){const t=this.state.hasErrorIn,n=this.state.integrationData[e],o=v.get(this.state,"entityErrorStates",{});if(-1!==t.indexOf(e)){const t=b.FAILED_TO_FETCH_ENTITIES_ERROR_MESSAGES[e];if(o[e]){const n=o[e];return v.get(b.ERROR_MESSAGES_FOR_ENTITIES,[e,n],t)}return t}if(n&&0===n.length)return b.EMPTY_STATE_MESSAGES[e]}getWarningMessage(e){const t=this.state.hasWarningIn;if(!t.entityType)return;if(-1!==t.entityType.indexOf(e)){if(t.warningType===b.DEVELOPMENT_BRANCH_ALREADY_LINKED_STATE){const e=v.get(t,"additionalContext.alreadyLinkedVersionName");return`This branch is currently used by version ${e}. Using this branch will block the integration on ${e}.`}return""}}getNextLevelDirectories(e,t){if(v.isEmpty(e)||v.isEmpty(t))return;const n=this[`fetch${e[0].toUpperCase()+e.substring(1)}Directories`],o=`${e}DirectoryStack`;n(t.path).then((()=>{this.excludeDirectoriesSelectedForOtherEntities(e),this.setState((e=>{const n=[...e[o],t];return{...e,[o]:n}}))}))}getPreviousLevelDirectories(e){const t=this[`fetch${e[0].toUpperCase()+e.substring(1)}Directories`],n=`${e}DirectoryStack`,o=v.chain(this.state).get(n).dropRight(1).value();t(v.chain(o).last().get("path").value()).then((()=>{this.excludeDirectoriesSelectedForOtherEntities(e),this.setState((e=>{const t=v.chain(e).get(n).dropRight(1).value();return{...e,[n]:t}}))}))}render(){const e=!this.state.localGitFolderName||this.state.isErrorStateInLocalGitFolderPath||this.state.isLoadingFolderPath||this.state.isGitConfiguring,t="directories"===this.state.loading||"collectionDirectories"===this.state.loading&&!this.state.integrationData.collectionDirectories,n="directories"===this.state.loading||"schemaDirectories"===this.state.loading&&!this.state.integrationData.schemaDirectories,o="browser"===window.SDK_PLATFORM,i=s.createElement(c.default,{type:"body-small",color:"content-color-secondary"},"If left blank, well create",s.createElement(c.default,{type:"body-small",color:"content-color-primary"},"postman/schemas"),"directory for you in the checked out branch."),a=s.createElement(c.default,{type:"body-small",color:"content-color-secondary",typographyStyle:{lineHeight:"line-height-m"}},"If left blank, well create",s.createElement(c.default,{type:"body-small",color:"content-color-primary"},"postman/collections"),"directory for you in the checked out branch."),r=v.toUpper(this.props.maskedServiceName),g=v.get(b.GIT_SERVICES_LIST,[r,"friendlyName"]);return s.createElement(d.default,{width:"480px",justifyContent:"center"},s.createElement(u.default,{heading:"Connect your repository",primaryAction:s.createElement(l.default,{className:"action-button__configure",type:"primary",onClick:this.handleConfigure,isDisabled:e,isLoading:this.state.isGitConfiguring,text:"Connect Repository"}),secondaryAction:s.createElement(l.default,{className:"action-button__cancel",type:"secondary",onClick:this.props.closeconfiguration,text:"Cancel"})},s.createElement(d.default,{gap:"spacing-l",direction:"column"},s.createElement("div",{className:"api-repo-integration-configuration__folderPath__selection"},s.createElement(p.default,{label:s.createElement(m.default,{text:`${g} domain URL`,fieldType:"required"}),placeholder:"e.g. https://hostname.com/enterprise/enterprise-name",isDisabled:o,value:this.state.enterpriseGitURL,onChange:e=>this.setEnterpriseGitURL(e.target.value)})),s.createElement(d.default,{direction:"column",padding:{paddingTop:"spacing-s"}},s.createElement(h.default,{type:"h4",text:"Link local repository",hasBottomSpacing:!0}),s.createElement(c.default,{type:"para"},"Set up a connection with your repository in your local file system to commit and push changes from Postman to remote.")),s.createElement("div",{className:"api-repo-integration-configuration__folderPath__selection",onClick:this.handleFolderSelection},s.createElement(p.default,{ref:"folderSelectionRef",type:"text",placeholder:"Select",isDisabled:o,value:this.state.localGitFolderName,label:s.createElement(m.default,{text:"Local file system",size:"medium"}),validationStatus:this.state.isErrorStateInLocalGitFolderPath?"error":null,validationMessage:this.state.isErrorStateInLocalGitFolderPath?"Local repository selected is different from the remote repository.":null,prefix:s.createElement(f.default,{name:"icon-entity-folder-stroke",color:"content-color-tertiary"})})),s.createElement(I,{parentClassName:"api-repo-integration-configuration__select-schema-directory",title:"API schema directory",disabled:!this.state.localGitFolderName,description:i,selectedItem:this.state.selectedSchemaDir,filterList:this.filterList.bind(this,"schemaDirectories"),handleSelect:this.handleDirSelect.bind(this,"schema"),errorMessage:this.getErrorMessage("schemaDirectories"),isLoading:n,isSubsequentDataLoading:"schemaDirectories"===this.state.loading,retryHandler:this.handleRetry.bind(this,"schemaDirectories"),getNextLevelData:this.getNextLevelDirectories.bind(this,"schema"),previousLevelItem:v.last(this.state.schemaDirectoryStack),isPreviousLevelAvailable:v.get(this.state,"schemaDirectoryStack.length")>0,getPreviousLevelData:this.getPreviousLevelDirectories.bind(this,"schema")}),s.createElement(I,{parentClassName:"api-repo-integration-configuration__select-collection-directory",title:"Collection directory",disabled:!this.state.localGitFolderName,description:a,selectedItem:this.state.selectedCollectionDir,filterList:this.filterList.bind(this,"collectionDirectories"),handleSelect:this.handleDirSelect.bind(this,"collection"),errorMessage:this.getErrorMessage("collectionDirectories"),isLoading:t,isSubsequentDataLoading:"collectionDirectories"===this.state.loading,retryHandler:this.handleRetry.bind(this,"collectionDirectories"),getNextLevelData:this.getNextLevelDirectories.bind(this,"collection"),previousLevelItem:v.last(this.state.collectionDirectoryStack),isPreviousLevelAvailable:v.get(this.state,"collectionDirectoryStack.length")>0,getPreviousLevelData:this.getPreviousLevelDirectories.bind(this,"collection")}))))}})||o;t.default=(0,g.default)(T)},"./api-dev/components/api-repo-integration/APIEnterpriseRepoPatInput/APIEnterpriseRepoPatInput.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/prop-types/index.js"),r=n.n(a),l=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("./api-dev/components/common/RepoInfoAndPatTextInputContainer/RepoInfoAndPatTextInputContainer.tsx"),h=n("./integrations/git/services/OnPrem/OnPremTokenService.ts"),g=n("./integrations/git/services/OnPrem/OnPremRemoteGitService.js"),f=n("./integrations/git/services/OnPrem/constants.ts"),b=n("./integrations/git/constants.js"),y=n("./node_modules/lodash/lodash.js");let v=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={accessToken:"",isAuthenticating:!1,authenticationError:"",domainName:"",repositoryLink:"",integrationCreator:"",serviceKey:"",repositoryName:""},this.handleAuthenticate=this.handleAuthenticate.bind(this),this.renderTokenStateBanner=this.renderTokenStateBanner.bind(this),this.renderTokenStateHeader=this.renderTokenStateHeader.bind(this),this.hydrateAPI=this.hydrateAPI.bind(this)}async componentDidMount(){const{model:e}=this.props,t=y.get(e,"apiRepositoryStore.apiVersionRepositoryInterface"),n=await t.getRemoteGitIntegration(),o=y.get(n,"repository.info.name"),s=y.get(n,"repository.customDomain"),i=y.get(n,"repository.service"),a=y.get(t,"tokenState")===b.TOKEN_STATES.REPOSITORY_NOT_FOUND,r=y.get(t,"isTokenInvalid"),l=y.get(t,"isServerUnreachable"),c=y.get(t,["git","latestCommit","sha"]),d=y.get(t,"links.repository"),u=y.get(n,"createdBy");this.setState({domainName:s,repositoryLink:d,repositoryName:o,serviceKey:i,userId:u,isTokenInvalid:r,repositoryNotFound:a,isServerUnreachable:l,latestCommitSHA:c})}async handleAuthenticate(){this.setState({isAuthenticating:!0,authenticationError:""});const{model:e}=this.props,{serviceKey:t,accessToken:n,domainName:o}=this.state,s=y.get(e,"apiRepositoryStore"),i=y.get(s,"apiVersionRepositoryInterface"),a={service:t,accessToken:n,customDomain:o},r=await i.getRemoteGitIntegration(),l=y.get(r,"repository.info.owner.id"),c=y.get(r,"repository.info.id");try{await g.default.getRepository(a,l,c),h.default.createToken(a),s.hydrate()}catch(e){let t="Incorrect access token provided. Please check and try again.",n=y.get(e,["error","name"]);n===b.TOKEN_ERRORS.REPOSITORY_NOT_FOUND?t="The repository is not accessible with your current token. Try again with a new one.":"serverUnreachableError"!==n&&"timeoutError"!==n||(t="We could not reach your servers. Check network connectivity and try again."),this.setState({authenticationError:t})}finally{this.setState({isAuthenticating:!1})}}hydrateAPI(){const{model:e}=this.props;y.get(e,"apiRepositoryStore").hydrate()}renderTokenStateBanner(){const{isTokenInvalid:e,repositoryNotFound:t}=this.state;return t?s.createElement(l.default,{status:"error"},"The repository is not accessible with your current token. Try again with a new one."):e?s.createElement(l.default,{status:"error"},"Your personal access token is no longer valid. Generate a new one and try again."):null}renderTokenStateHeader(){const{serviceKey:e,latestCommitSHA:t}=this.state,{model:n}=this.props,o=y.get(n,"apiRepositoryStore.apiVersionRepositoryInterface"),i=y.get(o,"isUserAuthEmpty"),a=y.get(f.SERVICES,e,{label:"your Git service"}),r=y.get(a,"label"),l=i?"Authenticate":"Re-authenticate";return t?s.createElement(c.default,{direction:"column"},s.createElement(d.default,{type:"h4",text:l}),s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},`${l} with ${r} to contribute to this repository.`)):s.createElement(c.default,{direction:"column"},s.createElement(d.default,{type:"h4",text:l}),s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},`${l} with ${r} to access the collections and definition.`))}render(){const{accessToken:e,isAuthenticating:t,authenticationError:n,serviceKey:o,userId:i,repositoryLink:a,isServerUnreachable:r,latestCommitSHA:d,repositoryName:u,domainName:h}=this.state,{model:g}=this.props,v=y.get(g,"apiRepositoryStore.apiVersionRepositoryInterface"),I=y.get(v,"isUserAuthEmpty"),E=y.get(v,"tokenState"),_=y.get(f.SERVICES,o,{label:"your Git service"}),S=`${I?"Authenticate":"Re-authenticate"} with ${y.get(_,"label")}`;return!d&&r?E===b.TOKEN_STATES.UNKNOWN?s.createElement(c.default,{direction:"column",gap:"spacing-m"},s.createElement(l.default,{title:"Unable to load API elements",status:"error"},"Unable to load API elements. Check network connectivity and",s.createElement(p.default,{onClick:this.hydrateAPI,text:"try again",type:"monochrome-plain"}),".")):s.createElement(c.default,{direction:"column",gap:"spacing-m"},s.createElement(l.default,{title:"Unable to load API elements",status:"error"},"We could not reach your servers. Check network connectivity and",s.createElement(p.default,{onClick:this.hydrateAPI,text:"try again",type:"monochrome-plain"}),".")):s.createElement(c.default,{direction:"column",gap:"spacing-l",padding:"spacing-l",border:{border:"border-width-default",borderStyle:"solid",borderColor:"border-color-default"}},this.renderTokenStateBanner(),this.renderTokenStateHeader(),s.createElement(m.default,{userId:i,customDomain:h,repositoryLink:a,repositoryName:u,service:_,authenticationError:n,handleAccessTokenChange:e=>{this.setState({accessToken:e,authenticationError:""})}}),s.createElement(c.default,{justifyContent:"flex-start"},s.createElement(p.default,{type:"primary",onClick:this.handleAuthenticate,isDisabled:!e||t,autoFocus:!0,isLoading:t&&!n,text:S})))}})||o;v.propTypes={model:r().object.isRequired}},"./api-dev/components/api-repo-integration/APIRepoIntegrationConfigurationEnterpriseView/APIRepoIntegrationConfigurationEnterpriseView.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Stepper.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepHeader.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Step.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanels.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanel.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("./api-dev/components/api-repo-integration/ConnectToRepositoryTab/OnPremDesktopEnterprisePreAuthView.js"),m=n("./api-dev/components/api-repo-integration/ConnectToRepositoryTab/StaticIPEnterpriseAuthView.js"),h=n("./api-dev/components/api-repo-integration/APIRepoIntegrationConfigurationView/APIRepoIntegrationConfigurationView.js"),g=n("./api-dev/constants/APIRepositoryConstants.js"),f=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),b=n("./js/external-navigation/ExternalNavigationService.js"),y=n("./integrations/git/services/OnPrem/OnPremRemoteGitService.js"),v=n("./node_modules/lodash/lodash.js");t.default=(0,f.observer)((e=>{const[t,n]=(0,o.useState)(0),[f,I]=(0,o.useState)(["progress","pending"]),[E,_]=(0,o.useState)(!0),{maskedServiceName:S,enterpriseService:C,enterpriseUrl:T,isAccessTokenValid:j,accessTokenValidationInProgress:A,availableTokens:w,loadingAvailableTokens:O,setEnterpriseUrl:N,requiredScopes:D,personalAccessToken:R,setPersonalAccessToken:P,onCancel:M,onAuthenticate:L,tokenId:x,apiId:k,versionId:F,connectRepoStatus:V,serviceName:B,closeconfiguration:U,connectToRepo:z,model:H,goBackToPreAuthStateHandler:G,versionModel:W,reauthenticateHandler:$,authSource:q,authorizingStatus:Y,resetTokenValidation:K}=e;return(0,o.useEffect)((()=>{if(!O){1===v.size(w)?(P(w[0].accessToken),N(w[0].customDomain),L()):_(!1)}}),[O]),(0,o.useEffect)((()=>{j===g.ACCESS_TOKEN_VALIDATION_STATUS.VALID?(I(["completed","progress"]),n(1),_(!1)):v.includes([g.ACCESS_TOKEN_VALIDATION_STATUS.INVALID,g.ACCESS_TOKEN_VALIDATION_STATUS.SERVER_UNREACHABLE],j)&&(I(["progress","pending"]),n(0),_(!1))}),[j]),E?o.createElement("div",{className:"connect-repo-tab","data-testId":"connect-repo-tab-loading"},o.createElement("div",{className:"api-repository-connecting"},o.createElement(i.default,null))):o.createElement("div",{className:"connect-repo-tab"},o.createElement("div",{className:"api-repo-enterprise-config"},function(e){return o.createElement("div",{className:"api-repo-enterprise-config__header"},o.createElement(s.default,{text:`Connect your ${e} repository`,type:"h1"}))}(C),o.createElement(a.default,{activeStepIndex:t,onChange:n},o.createElement(r.default,null,o.createElement(l.default,{status:f[0],label:"Authenticate",isDisabled:"pending"===f[0]}),o.createElement(l.default,{status:f[1],label:"Set up",isDisabled:"pending"===f[1]})),o.createElement(c.default,null,o.createElement(d.default,{heading:"Authenticate",description:o.createElement("div",null,"Access token entered will be used to authenticate with all repositories for this ",C," domain. Learn more about connecting to an",o.createElement("span",{onClick:()=>{(0,b.openExternalLink)(g.ON_PREM_LEARN_MORE_URL,"_blank")}},o.createElement(u.default,{type:"link-default",className:"api-repo-enterprise-config__panel__description",isExternal:!0},"on-premise repository")))},(()=>{const e=y.default.isIntegrationCreationEnabled(B),t={maskedServiceName:S,enterpriseService:C,enterpriseUrl:T,isAccessTokenValid:j,accessTokenValidationInProgress:A,availableTokens:w,setEnterpriseUrl:N,requiredScopes:D,personalAccessToken:R,setPersonalAccessToken:P,onCancel:M,onAuthenticate:L,goBackToPreAuthStateHandler:G,resetTokenValidation:K},n=v.omit(t,["availableTokens"]);return e?o.createElement(p.default,t):o.createElement(m.default,n)})()),o.createElement(d.default,null,Y===g.TAB_STATUS_IDENTIFIER.FINISHED&&o.createElement("div",{className:"api-repo-enterprise-config__connect-repo","data-testId":"connect-repo-tab-finished"},o.createElement(h.default,{tokenId:x,apiId:k,versionId:F,connectRepoStatus:V,serviceName:B,maskedServiceName:S,closeconfiguration:U,connectToRepo:z,model:H,goBackToPreAuthStateHandler:G,enterpriseUrl:T,versionModel:W,reauthenticateHandler:$,authSource:q,isEnterpriseFlow:!0,setStepStatus:I,setActiveStepIndex:n})))))))}))},"./api-dev/components/api-repo-integration/APIRepoIntegrationConfigurationView/APIRepoIntegrationConfigurationView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{PureAPIRepoIntegrationConfigurationView:function(){return $}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/async/dist/async.js"),r=n.n(a),l=n("./js/components/base/SearchHighlighter.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Avatar/Avatar.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),I=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),E=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),_=n("./api-dev/constants/APIRepositoryConstants.js"),S=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),C=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),T=n("./api-dev/components/common/MultilevelSearchableDropdown/MultilevelSearchableDropdown.js"),j=n("../../node_modules/mobx/lib/mobx.module.js"),A=n("../../packages/api-design/schema-editor/index.js"),w=n("./integrations/navigation/constants.js"),O=n("./appsdk/components/link/Link.js"),N=n("./api-dev/components/api-repo-integration/utils/CommonHelpers.js"),D=n("./js/modules/services/AnalyticsService.js"),R=n("./api-dev/components/api-repo-integration/EntitySelectDropdown/EntitySelectDropdown.js"),P=n("./js/stores/StoreManager.js"),M=n("./billing/stores/ResourceUsageStore.js"),L=n("./api-dev/constants/V10UIConstants.js"),x=n("./integrations/git/services/OnPrem/helpers.ts"),k=n("./integrations/git/helpers.ts"),F=n("./onboarding/src/common/LaunchDarkly.js"),V=n("./integrations/git/constants.js"),B=n("./node_modules/lodash/lodash.js");function U(e){const{title:t,description:n,parentClassName:o,selectedItem:i,disabled:a,handleSelect:r,filterList:l,errorMessage:d,retryHandler:u,isLoading:p,getNextLevelData:m,isPreviousLevelAvailable:h,previousLevelItem:g,getPreviousLevelData:f,isSubsequentDataLoading:b,tooltip:y}=e;return s.createElement("div",{className:o},s.createElement("span",{className:`${o}__title`},t),n,s.createElement("div",{className:`${o}__dropdown-container`},s.createElement(T.default,{className:`${o}__dropdown-container__dropdown`,searchInputPlaceholder:p&&"Loading...",optionSelectionPlaceholder:"Create a directory for me",selectedItem:i,disabled:a,getOptionsDisplayValue:z,isNextLevelAvailable:e=>!!e.path,getNextLevelData:m,getFilteredList:l,onSelect:r,isPreviousLevelAvailable:h,previousLevelItem:g,getPreviousLevelData:f,isSubsequentDataLoading:b,stickyItem:_.DEFAULT_DIRECTORY_OPTION,tooltip:y}),p&&s.createElement(c.default,{className:`${o}__dropdown-container__loading-indicator`})),s.createElement(H,{errorMessage:d,parentClassName:o,retryHandler:u}))}function z({item:e={},renderingFor:t,searchQuery:n}={}){const{name:o,path:i}=e,a="directory"===B.get(e,"type");if(t===_.DIRECTORY_DROPDOWN_DISPLAY_OPTIONS.previousLevelTrigger)return s.createElement("div",{className:"api-repo-integration-configuration__dropdown-previous-level-trigger",title:o},o);if(t===_.DIRECTORY_DROPDOWN_DISPLAY_OPTIONS.selectedItem){const e=i||o;return s.createElement("div",{className:"api-repo-integration-configuration__dropdown-selected-item-wrapper"},s.createElement("div",{className:"api-repo-integration-configuration__dropdown-selected-item-label",title:e},e))}return s.createElement("div",{className:"api-repo-integration-configuration__dropdown-item-wrapper"},s.createElement("div",{className:"api-repo-integration-configuration__dropdown-item-label"},function(e){return e?s.createElement(E.default,{name:"icon-entity-folder-stroke",color:"content-color-tertiary",className:"api-repo-integration-configuration__dropdown-item-icon"}):null}(a),s.createElement("div",{className:"item-text",title:o},function(e,t){return e?s.createElement(l.default,{source:t,queryTerm:e}):t}(n,o))))}function H(e){const{errorMessage:t,parentClassName:n,retryHandler:o}=e;return t?s.createElement("div",{className:`${n}__error`},s.createElement(E.default,{className:`${n}__error__icon`,name:"icon-state-error-stroke",color:"content-color-error",size:"small"}),s.createElement("span",{className:`${n}__error__message`},t),o&&s.createElement(d.default,{type:"tertiary",onClick:o},"Try Again")):null}function G(e){const t=function(e){return B.map(e,((e,t)=>({id:t,...e})))}((n=e,B.filter(n,(e=>"file"!==e.type))));var n;return t}function W(e,t){return B.filter(t,(t=>t!==e))}let $=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={integrationData:{orgs:null,repos:null,branches:null,schemaDirectories:null,versions:[],collectionDirectories:null,isLoading:!1},selectedVersion:null,selectedRepo:null,selectedOrg:null,selectedSchemaDir:null,selectedCollectionDir:null,developmentBranch:null,schemaSyncApiIntegration:null,schemaSyncApiVersionIntegration:null,userData:{},isConfiguring:!1,hasError:!1,hasWarningIn:{},isLoadingBootstrapData:!1,isLoadingSchemaSyncIntegration:!1,hasErrorIn:[],entityErrorStates:{},loading:null,schemaDirectoryStack:[],collectionDirectoryStack:[],customRepoName:"",shouldRenderCustomRepoInput:!1,sourceBranch:null,shouldCreateNewBranch:!1,newBranchName:""},this.handleRepoSelect=this.handleRepoSelect.bind(this),this.doesBranchExist=this.doesBranchExist.bind(this),this.createBranch=this.createBranch.bind(this),this.handleBranchSelect=this.handleBranchSelect.bind(this),this.handleConfigure=this.handleConfigure.bind(this),this.handleOrgSelect=this.handleOrgSelect.bind(this),this.handleDirSelect=this.handleDirSelect.bind(this),this.fetchUserAndOrgData=this.fetchUserAndOrgData.bind(this),this.fetchRepositories=this.fetchRepositories.bind(this),this.fetchBranches=this.fetchBranches.bind(this),this.fetchDirectoriesForCollectionAndSchema=this.fetchDirectoriesForCollectionAndSchema.bind(this),this.fetchSchemaDirectories=this.fetchSchemaDirectories.bind(this),this.fetchCollectionDirectories=this.fetchCollectionDirectories.bind(this),this.getNextLevelDirectories=this.getNextLevelDirectories.bind(this),this.getPreviousLevelDirectories=this.getPreviousLevelDirectories.bind(this),this.handleVersionSelect=this.handleVersionSelect.bind(this),this.fetchSchemaSyncIntegration=this.fetchSchemaSyncIntegration.bind(this),this.handleCustomRepo=this.handleCustomRepo.bind(this),this.onCustomRepoChange=this.onCustomRepoChange.bind(this),this.handleInvalidDirectories=this.handleInvalidDirectories.bind(this),this.validateDirectoryInForm=this.validateDirectoryInForm.bind(this),this.debouncedHandleCustomRepo=B.debounce(this.handleCustomRepo,500),this.searchRepositories=this.searchRepositories.bind(this),this.searchBranches=this.searchBranches.bind(this),this.debouncedSearchRepositories=B.debounce(this.searchRepositories,B.get(_.GIT_SERVICES_CONFIG,[this.props.serviceName,_.DEBOUNCE_TIMEOUT,_.REPO_SEARCH]),500),this.debouncedSearchBranches=B.debounce(this.searchBranches,B.get(_.GIT_SERVICES_CONFIG,[this.props.serviceName,_.DEBOUNCE_TIMEOUT,_.BRANCH_SEARCH]),500),this.getOrganizations=this.getOrganizations.bind(this),this.retryAuth=this.retryAuth.bind(this),this.userScopeSharedAuthEnabled=F.launchDarkly.getFlag(V.SHARED_AUTH_FLAG,!1)&&!this.props.isEnterpriseFlow}componentDidMount(){this.userScopeSharedAuthEnabled||this.fetchUserAndOrgData();const{enterpriseUrl:e,serviceName:t}=this.props,{preSelectedOrg:n,preSelectedRepo:o,preSelectedBranch:s}=(0,N.parseEnterpriseUrl)(e,t);this.setState({preSelectedOrg:n,preSelectedRepo:o,preSelectedBranch:s})}componentDidUpdate(e){if(e.versionId!==this.props.versionId){const e=B.find(this.props.model.versions,["id",this.props.versionId]);this.handleVersionSelect(e)}}handleError(e,t){const n=B.get(e,"name");if("invalidParamsError"===n){const t=B.get(e,"details.param"),n=`The "${t}" parameter you provided is invalid`,o="Invalid input";return"customDomain"===t&&this.props.goBackToPreAuthStateHandler(),void pm.toasts.error(n,{noIcon:!0,title:o})}"branchNotFoundError"!==n?t&&this.setState((e=>({...e,hasErrorIn:e.hasErrorIn.concat(t),loading:null}))):this.setState((e=>({...e,hasErrorIn:e.hasErrorIn.concat(["developmentBranch"]),entityErrorStates:{...e.entityErrorStates,developmentBranch:"branchNotFoundError"},loading:null})))}fetchUserAndOrgData(){const e=B.get(this.props,"versionModel.apiRepositoryStore"),t={tokenId:this.props.tokenId,enterpriseUrl:this.props.enterpriseUrl};e&&B.isFunction(e.getUser)&&B.isFunction(e.getOrgs)&&(this.setState({isLoadingBootstrapData:!0,hasError:!1}),Promise.all([e.getUser(t),e.getOrgs(t)]).then((async([e,t]=[])=>{await(0,j.when)((()=>this.props.model.isStoreHydrated));const n=B.map(this.props.model.versions,(e=>e.repoLinkId?(e.isDisabled=!0,e.disabledText="This version is already connected to a repository",e):e)),o=B.find(this.props.model.versions,["id",this.props.versionId]);this.fetchSchemaSyncIntegration(this.props.apiId,o.id),this.apiName=this.props.model.apiName;const s=this.state.preSelectedOrg,i=B.find(t,(e=>e.id===s||e.username===s));B.isEmpty(i)||(this.handleOrgSelect(i),this.setState({preSelectedOrg:null})),this.setState({userData:e,selectedVersion:o,integrationData:{orgs:t,versions:n},hasError:!1,isLoadingBootstrapData:!1});t&&B.chain(t).map("id").value();if("azure"===this.props.serviceName&&this.props.enterpriseUrl){let e=B.first(t);this.handleOrgSelect(e)}})).catch((e=>{this.handleError(e.error),this.setState({hasError:!0,isLoadingBootstrapData:!1}),pm.logger.warn("ConnectToRepoTabView: Error while fetching org and user data")})))}searchRepositories(e){if(!B.get(_.GIT_SERVICES_CONFIG,[this.props.serviceName,_.IS_REPO_SEARCH_ENABLED]))return;const t=this.state.hasErrorIn;this.setState({hasErrorIn:B.pull(t,"customRepo","reposFetch"),hasWarningIn:{}},(()=>{this.fetchRepositories(B.get(this,"props.tokenId"),B.get(this,"state.selectedOrg.id"),e)}))}searchBranches(e){if(!B.get(_.GIT_SERVICES_CONFIG,[this.props.serviceName,_.IS_BRANCH_SEARCH_ENABLED]))return;const t=this.state.hasErrorIn;this.setState({hasErrorIn:B.pull(t,"developmentBranch","masterBranch"),hasWarningIn:{}},(()=>{this.fetchBranches(B.get(this,"props.tokenId"),B.get(this,"props.enterpriseUrl"),{repoOwner:B.get(this,"state.selectedOrg.id"),repositoryId:B.get(this,"state.selectedRepo.id")},e)}))}filterList(e,t,{firstRender:n}={}){let o=this.state.integrationData[e];if(!t||n)return o;return B.filter(o,(e=>e.name&&B.includes(e.name.toLowerCase(),t.toLowerCase())))}getOrganizations(){return this.userScopeSharedAuthEnabled?B.get(this.props,["controller","authenticatedOrgs"]):this.filterList("orgs")}handleRetry(e,...t){const n=this.state.hasErrorIn,o=this.state.entityErrorStates;switch(e){case"repos":this.setState({hasErrorIn:B.pull(n,"repos")},this.fetchRepositories.bind(this,...t));break;case"developmentBranch":if("branchNotFoundError"===o.developmentBranch)return this.fetchDirectoriesForCollectionAndSchema(this.props.tokenId,{repoId:B.get(this.state,"selectedRepo.id"),branch:B.get(this.state,"developmentBranch.id"),owner:B.get(this.state,"selectedRepo.owner.id")}),void this.setState({hasErrorIn:B.pull(n,"developmentBranch"),entityErrorStates:{...o,developmentBranch:null}});this.setState({hasErrorIn:B.pull(n,"developmentBranch")},this.fetchBranches.bind(this,...t));break;case"collectionDirectories":this.setState({hasErrorIn:B.pull(n,"collectionDirectories")},this.fetchCollectionDirectories.bind(this,...t,!1));break;case"schemaDirectories":this.setState({hasErrorIn:B.pull(n,"schemaDirectories")},this.fetchSchemaDirectories.bind(this,...t))}}checkRepositories(e,t=[],n){const o=B.get(this.props,"versionModel.apiRepositoryStore"),s=(0,k.getRepositoryIds)(t,this.props.serviceName);if(o&&B.isFunction(o.validateRemoteIntegrationCreateConstraints))return!e||B.isEmpty(t)?this.setState((e=>({loading:null,integrationData:{...e.integrationData,repos:B.isEmpty(n)?[]:null}}))):void o.validateRemoteIntegrationCreateConstraints(this.props.serviceName,e,s).then((e=>{this.setState((n=>{const o=B.map(t,(t=>{const n=B.get(e,[t.id,"allowed"],!0),o=B.get(e,[t.id,"reason"]);return{...t,isDisabled:!n,disabledText:o}}));return{integrationData:{...n.integrationData,repos:o||[]},loading:null}}),(()=>{const e=B.filter(this.state.integrationData.repos,{isDisabled:!1});if(1===e.length&&B.isEmpty(n))this.handleRepoSelect(e[0]);else{var t,o;const{enterpriseUrl:n,serviceName:s}=this.props,i=(0,N.parseEnterpriseUrl)(n,s).preSelectedOrg,a=i===(null===(t=this.state.selectedOrg)||void 0===t?void 0:t.id)||i===(null===(o=this.state.selectedOrg)||void 0===o?void 0:o.username)?this.state.preSelectedRepo:null,r=B.find(e,(e=>{var t;switch(s){case _.GIT_SERVICES_LIST.GITHUB.serviceName:return e.id===a;case _.GIT_SERVICES_LIST.GITLAB.serviceName:return e.slug===a;case _.GIT_SERVICES_LIST.AZURE.serviceName:return`${null===(t=e.owner)||void 0===t?void 0:t.name}/${e.name}`===a;default:return!1}}));B.isEmpty(r)||(this.handleRepoSelect(r),this.setState({preSelectedRepo:null}))}}))})).catch((e=>{this.setState({loading:null,hasErrorIn:["repos","repoFetch"]}),pm.logger.warn(e,"APIRepoIntegrationConfigView~checkRepositories: Error while calling integration")}))}fetchRepositories(e,t,n=""){const o=B.get(this.props,"versionModel.apiRepositoryStore"),s={tokenId:e,owner:t,search:n,enterpriseUrl:this.props.enterpriseUrl},i=B.get(_.GIT_SERVICES_CONFIG,[this.props.serviceName,_.IS_REPO_SEARCH_ENABLED])?"searchRepositories":"getRepositories";o&&B.isFunction(o[i])&&(this.setState({loading:"repos",shouldRenderCustomRepoInput:!1,customRepoName:""}),o[i](s).then((e=>{var o;const s=e;t===(null===(o=this.state.selectedOrg)||void 0===o?void 0:o.id)&&this.checkRepositories(t,s,n)})).catch((e=>{this.handleError(e.error),this.setState((e=>({...e,hasErrorIn:e.hasErrorIn.concat(["repos","reposFetch"]),loading:null,shouldRenderCustomRepoInput:!0})))})))}handleOrgSelect(e){e&&(this.userScopeSharedAuthEnabled&&this.props.controller.handleOrgSelect(e),this.setState((t=>({selectedOrg:e,selectedRepo:null,developmentBranch:null,selectedSchemaDir:null,selectedCollectionDir:null,hasErrorIn:[],hasWarningIn:{},loading:null,integrationData:{...t.integrationData,repos:null,branches:null,schemaDirectories:null,collectionDirectories:null},schemaDirectoryStack:[],collectionDirectoryStack:[]})),(()=>{const e=this.state.selectedOrg;this.fetchRepositories(this.props.tokenId,e.id)})))}handleVersionSelect(e){const t=e;this.setState({selectedVersion:t,isLoadingSchemaSyncIntegration:!0}),this.fetchSchemaSyncIntegration(this.props.apiId,t.id)}preSelectDevelopmentAndMainBranches(e){let t=e.length;B.forEach(["develop","development","trunk"],(n=>{const o=B.findIndex(e,{name:n,isDisabled:!1});-1!==o&&t>o&&(t=o)}));const n=e[t];n&&this.handleBranchSelect("development",n)}fetchSchemaSyncIntegration(e,t){let n,o;S.default.getConfiguredIntegrationsByEntityAndClientCategory("api",e,A.SCHEMA_SYNC_SUPPORTED_CATEGORIES.repository.api).then((e=>{if(n=B.get(e,"schema_sync-api-repository[0]"),n)return this.setState({schemaSyncApiIntegration:n}),S.default.getConfiguredIntegrationsByEntityAndClientCategory("apiversion",t,A.SCHEMA_SYNC_SUPPORTED_CATEGORIES.repository.apiversion)})).then((e=>{e&&(o=B.get(e,"schema_sync-api_version-repository[0]")),n&&o?this.setState({schemaSyncApiVersionIntegration:o,isLoadingSchemaSyncIntegration:!1}):this.setState({schemaSyncApiVersionIntegration:null,isLoadingSchemaSyncIntegration:!1})})).catch((()=>{this.setState({isLoadingSchemaSyncIntegration:!1})}))}fetchBranches(e,t,{repositoryId:n,repoOwner:o},s=""){const i=B.get(this.props,"versionModel.apiRepositoryStore"),a={tokenId:e,owner:o,repo:n,enterpriseUrl:t,search:s},r=B.get(_.GIT_SERVICES_CONFIG,[this.props.serviceName,_.IS_BRANCH_SEARCH_ENABLED])?"searchRepositoryBranches":"getBranchesForRepo";i&&B.isFunction(i[r])&&(this.setState({loading:"branches"}),i[r](a).then((e=>{if(e){var t;const o=B.map(e,(e=>({id:e.name,...e})));if(n!==(null===(t=this.state.selectedRepo)||void 0===t?void 0:t.id))return;const{enterpriseUrl:i,serviceName:a}=this.props,r=(0,N.parseEnterpriseUrl)(i,a).preSelectedRepo,l=(()=>{var e,t,n,o,s;switch(a){case _.GIT_SERVICES_LIST.GITHUB.serviceName:return r===(null===(e=this.state.selectedRepo)||void 0===e?void 0:e.id);case _.GIT_SERVICES_LIST.GITLAB.serviceName:return r===(null===(t=this.state.selectedRepo)||void 0===t?void 0:t.slug);case _.GIT_SERVICES_LIST.AZURE.serviceName:return r===`${null===(n=this.state.selectedRepo)||void 0===n||null===(o=n.owner)||void 0===o?void 0:o.name}/${null===(s=this.state.selectedRepo)||void 0===s?void 0:s.name}`;default:return!1}})()?this.state.preSelectedBranch:null,c=B.find(o,(e=>e.name===l));B.isEmpty(c)||(this.handleBranchSelect("development",c),this.setState({preSelectedBranch:null})),B.isEmpty(s)&&this.preSelectDevelopmentAndMainBranches(o),this.setState((e=>({integrationData:{...e.integrationData,branches:B.unionBy(B.get(e,["integrationData","branches"]),o,"id")},loading:null})))}})).catch((e=>{this.handleError(e.error),this.setState((e=>({...e,hasErrorIn:e.hasErrorIn.concat(["developmentBranch","masterBranch"]),loading:null})))})))}handleRepoSelect(e){e&&this.setState((t=>({selectedRepo:B.pick(e,["name","owner","id","slug"]),customRepoName:B.get(e,"name"),developmentBranch:null,selectedSchemaDir:null,selectedCollectionDir:null,hasErrorIn:[],hasWarningIn:{},loading:null,integrationData:{...t.integrationData,branches:null,schemaDirectories:null,collectionDirectories:null},schemaDirectoryStack:[],collectionDirectoryStack:[]})),(()=>{this.fetchBranches(this.props.tokenId,this.props.enterpriseUrl,{repositoryId:e.id,repoOwner:B.get(e,"owner.id")})}))}fetchSchemaDirectories(e,{owner:t,branch:n,repoId:o,path:s}){const i=B.get(this.props,"versionModel.apiRepositoryStore"),a={tokenId:e,owner:t,repo:o,branch:n,path:s,enterpriseUrl:this.props.enterpriseUrl};if(this.state.shouldCreateNewBranch&&(a.branch=this.state.sourceBranch.name),i&&B.isFunction(i.getFilesAndDirectoriesFromRepo))return this.setState({loading:"schemaDirectories"}),i.getFilesAndDirectoriesFromRepo(a).then((e=>{var t,s;if(n!==(null===(t=this.state.developmentBranch)||void 0===t?void 0:t.id)&&o!==(null===(s=this.state.selectedRepo)||void 0===s?void 0:s.id))return;const i=G(e);return this.setState((e=>({integrationData:{...e.integrationData,schemaDirectories:i},loading:null}))),Promise.resolve()})).catch((e=>(this.setState((e=>({integrationData:{...e.integrationData,schemaDirectories:null},hasErrorIn:e.hasErrorIn.concat(["schemaDirectories"]),loading:null,selectedSchemaDir:null}))),pm.logger.warn("APIRepoIntegrationConfigurationView: Error fetching directory tree for repository",e),Promise.reject(e))))}fetchCollectionDirectories(e,{owner:t,branch:n,repoId:o,path:s}){const i=B.get(this.props,"versionModel.apiRepositoryStore"),a={tokenId:e,owner:t,repo:o,branch:n,path:s,enterpriseUrl:this.props.enterpriseUrl};if(this.state.shouldCreateNewBranch&&(a.branch=this.state.sourceBranch.name),i&&B.isFunction(i.getFilesAndDirectoriesFromRepo))return this.setState({loading:"collectionDirectories"}),i.getFilesAndDirectoriesFromRepo(a).then((e=>{const t=G(e);return this.setState((e=>({integrationData:{...e.integrationData,collectionDirectories:t},loading:null}))),Promise.resolve()})).catch((e=>(this.setState((e=>({integrationData:{...e.integrationData,collectionDirectories:null},hasErrorIn:e.hasErrorIn.concat(["collectionDirectories"]),loading:null,selectedCollectionDir:null}))),pm.logger.warn("APIRepoIntegrationConfigurationView: Error fetching directory tree for repository",e),Promise.reject(e))))}fetchDirectoriesForCollectionAndSchema(e,{owner:t,branch:n,repoId:o,path:s}){const i=B.get(this.props,"versionModel.apiRepositoryStore"),a={tokenId:e,owner:t,repo:o,branch:n,path:s,enterpriseUrl:this.props.enterpriseUrl};if(this.state.shouldCreateNewBranch&&(a.branch=this.state.sourceBranch.name),i&&B.isFunction(i.getFilesAndDirectoriesFromRepo))return this.setState({loading:"directories"}),i.getFilesAndDirectoriesFromRepo(a).then((e=>{const t=G(e);return this.setState((e=>({integrationData:{...e.integrationData,schemaDirectories:t,collectionDirectories:t},selectedCollectionDir:_.DEFAULT_DIRECTORY_OPTION,selectedSchemaDir:_.DEFAULT_DIRECTORY_OPTION,loading:null}))),Promise.resolve()})).catch((e=>(this.handleError(B.get(e,"error"),["collectionDirectories","schemaDirectories"]),pm.logger.warn("APIRepoIntegrationConfigurationView: Error fetching directory tree for repository",e),Promise.reject(e))))}getAlreadyLinkedVersionToBranch(e,t){const n=this.props.model.versions,o=B.filter(n,(e=>e.repositoryIntegrationState===_.API_REPO_INTEGRATION_ACTIVE_STATE)),s=B.reduce(o,((e,t)=>{const n=t.repositoryId,o=t.developmentBranchName;return e[n]=o,e}),{}),i=t.id,a=e.id;if(s[i]===a){return B.chain(o).find({developmentBranchName:a}).get("name").value()}return null}async doesBranchExist(e){const t=B.get(this.props,"versionModel.apiRepositoryStore.apiVersionRepositoryInterface"),n=e,o=this.props.tokenId,s=this.props.enterpriseUrl,i=B.get(this.state,"selectedRepo.owner.id"),a=B.get(this.state,"selectedRepo.id");try{const e=await t.getRemoteRepositoryTree(o,i,a,n,"",s);return Boolean(e)}catch(e){return"branchNotFoundError"!==B.get(e,"error.name")&&pm.logger.error("APIRepoIntegrationConfigView~doesBranchExist: Error response received"),!1}}async createBranch(){const e=B.get(this.props,"versionModel.apiRepositoryStore.apiVersionRepositoryInterface"),t=this.state.developmentBranch,n=this.state.sourceBranch;if(!e)return pm.logger.error("APIRepoIntegrationConfigView~createBranch: APIVersionRepoStore not available"),pm.toasts.error("Something went wrong",{noIcon:!0,title:"Could not create new branch"}),!1;const o={sourceBranch:B.get(n,"name"),newBranch:B.get(t,"id")||t,tokenId:this.props.tokenId,enterpriseUrl:this.props.enterpriseUrl,owner:B.get(this.state,"selectedRepo.owner.id"),repo:B.get(this.state,"selectedRepo.id")};n||(o.files=[{contents:_.EMPTY_BRANCH_FILE_CONTENT_TEMPLATE.replace("{{API_ID}}",B.get(this.props,"apiId")),path:_.EMPTY_BRANCH_FILE_PATH}]);try{const t=await e.createBranch(o),s={...t.branch,id:t.branch.name,commit:B.get(n,"commit")};return this.handleBranchSelect("development",s,!0),!0}catch(e){return pm.logger.error("APIRepoIntegrationConfigView~createBranch: Received error from API",e),pm.toasts.error("Something went wrong",{noIcon:!0,title:"Could not create new branch"}),!1}}async handleBranchSelect(e,t,n=!1,o=!1,s=null){if(this.setState({[`${e}Branch`]:B.pick(t,["commit","id","name"]),shouldCreateNewBranch:!!s}),"development"===e){this.setState((e=>({selectedCollectionDir:null,selectedSchemaDir:null,hasErrorIn:[],hasWarningIn:{},loading:null,integrationData:{...e.integrationData,schemaDirectories:null,collectionDirectories:null},schemaDirectoryStack:[],collectionDirectoryStack:[]})));let e=!0;o||(e=await this.doesBranchExist(t.name)),e||this.setState((e=>({...e,hasErrorIn:B.get(e,"hasErrorIn",[]).concat(["developmentBranch"]),entityErrorStates:{...e.entityErrorStates,developmentBranch:"branchNotFoundError"},loading:null}))),!n&&e&&this.fetchDirectoriesForCollectionAndSchema(this.props.tokenId,{owner:B.get(this.state,"selectedRepo.owner.id"),branch:B.get(s,"id",t.id),repoId:B.get(this.state,"selectedRepo.id")})}return t}excludeDirectoryFromEntityState(e,t){this.setState((n=>{const o=`${e}Directories`,s=n.integrationData[o],i=B.filter(s,(e=>e.path!==t.path));return{integrationData:{...n.integrationData,[o]:i}}}))}includeDirectoryToEntityState(e,t){this.setState((n=>{const o=`${e}Directories`,s=n.integrationData[o];return{integrationData:{...n.integrationData,[o]:s.concat(t)}}}))}handleDirSelect(e,t){this.handleInvalidDirectories(e,t);const n=`selected${e[0].toUpperCase()+e.substring(1)}Dir`,o=this.state[n],s=o&&o.id!==_.DEFAULT_DIRECTORY_OPTION.id,i=t.id!==_.DEFAULT_DIRECTORY_OPTION.id,a=W(e,_.ENTITIES_TO_BE_SYNCED);let r=(o.path||"").split("/");r.pop(),r=r.join("/");for(const e of a){const n=`${e}DirectoryStack`,a=this.state[n],l=B.chain(a).last().get("path","").value();l===r&&s&&this.includeDirectoryToEntityState(e,o);let c=(t.path||"").split("/");c.pop(),c=c.join("/"),l===c&&i&&this.excludeDirectoryFromEntityState(e,t)}this.setState({[n]:t})}validateDirectoryInForm(e,t,n){const{prevHasErrorInState:o=[],prevEntityErrorStates:s={}}=this.state,i=_.ENTITY_ERROR_NAME_MAP[e];let a,r=B.omit(n,[e]),l=Object.keys(r)[0],c=(0,N.validateDirectory)(t,r[l]),d=c.isInvalidDirectory,u=c.errorType;a=d?B.concat([],o,i):B.concat([],o.filter((e=>e!==i))),this.setState({hasErrorIn:a,entityErrorStates:{...s,...d&&{[i]:u}},isInvalidDirectory:d})}handleInvalidDirectories(e,t){const{selectedSchemaDir:n,selectedCollectionDir:o}=this.state;let s=B.get(n,"path",_.POSTMAN_DEFAULT_DIRECTORY_PATH[_.SCHEMA]),i=B.get(o,"path",_.POSTMAN_DEFAULT_DIRECTORY_PATH[_.COLLECTION]),a=e===_.SCHEMA?_.POSTMAN_DEFAULT_DIRECTORY_PATH[_.SCHEMA]:_.POSTMAN_DEFAULT_DIRECTORY_PATH[_.COLLECTION],r=B.get(t,"path",a),l={[_.SCHEMA]:s,[_.COLLECTION]:i};this.validateDirectoryInForm(e,r,l)}excludeDirectoriesSelectedForOtherEntities(e){const t=W(e,_.ENTITIES_TO_BE_SYNCED);for(const n of t){const t=n[0].toUpperCase()+n.substring(1),o=this.state[`selected${t}Dir`];o&&o.id!==_.DEFAULT_DIRECTORY_OPTION.id&&this.excludeDirectoryFromEntityState(e,o)}}handleCustomRepo(){const{customRepoName:e,selectedOrg:t,hasErrorIn:n}=this.state,{tokenId:o,enterpriseUrl:s,apiId:i,versionId:a,serviceName:l}=this.props;if(B.isEmpty(e))return;const c=B.get(this.props,"versionModel.apiRepositoryStore"),d={tokenId:o,owner:t.id,repo:e,enterpriseUrl:s};(c||B.isFunction(c.getRepository))&&(c||B.isFunction(c.validateRemoteIntegrationCreateConstraints))&&r().waterfall([e=>{c.getRepository(d).then((t=>e(null,t))).catch((t=>{this.handleError(t.error),this.setState((e=>({...e,hasErrorIn:e.hasErrorIn.concat(["customRepo"]),loading:null}))),e(t)}))},(e,o)=>{const s=[B.get(e,"id")];c.validateRemoteIntegrationCreateConstraints(l,t.id,s).then((t=>{const s=B.get(t,[e.id,"allowed"],!0),i=B.get(t,[e.id,"reason"]);s?(this.handleRepoSelect(e),o()):this.setState({hasWarningIn:{warningType:_.REPO_ALREADY_LINKED_STATE,entityType:"customRepo",additionalContext:{errorMessage:i}},hasErrorIn:B.pull(n,"customRepo","reposFetch")},o)})).catch((t=>{pm.logger.error("APIRepoIntegrationConfigView~checkRepositories: Error while calling integration",t),this.handleRepoSelect(e),o()}))}])}onCustomRepoChange(e){const t=this.state.hasErrorIn;this.setState({customRepoName:B.trim(e),hasErrorIn:B.pull(t,"customRepo","reposFetch"),hasWarningIn:{}},this.debouncedHandleCustomRepo)}async handleConfigure(e){const t=this.state.shouldCreateNewBranch&&!this.state.sourceBranch,n="default"===B.get(this,"state.selectedCollectionDir.id")||t?_.POSTMAN_DEFAULT_DIRECTORY_PATH[_.COLLECTION]:B.get(this,"state.selectedCollectionDir.path"),o="default"===B.get(this,"state.selectedSchemaDir.id")||t?_.POSTMAN_DEFAULT_DIRECTORY_PATH[_.SCHEMA]:B.get(this,"state.selectedSchemaDir.path"),s=B.get(this.props,"versionModel.apiRepositoryStore"),{addToast:i}=this.props;if(D.default.addEventV2({category:"api_repo_integration_v2",entityId:this.props.apiId,action:"confirm_connect_repository",label:this.props.enterpriseUrl?`${this.props.serviceName}Enterprise`:this.props.serviceName,value:1}),!s)return;if(this.state.shouldCreateNewBranch){if(!await this.createBranch())return void this.setState({isLoading:!1})}const a=this.state.selectedRepo.owner,r=this.state.developmentBranch,l={api:this.props.apiId,apiVersion:this.props.versionId,repository:{id:this.state.selectedRepo.id,name:this.state.selectedRepo.name,owner:a},service:this.props.serviceName,tokenId:this.props.tokenId,userConfig:{paths:{collections:n,schemas:o},branches:{initial:r.id}}},c=this.props.enterpriseUrl;if(c)try{l.customDomain=(0,x.getBaseEnterpriseURL)(c,this.props.serviceName)}catch(e){l.customDomain=c}return this.setState({isLoading:!0}),s.createRemoteGit(l).then((async()=>{(0,P.resolveStoreInstance)(M.default).fetchOperationUsage(L.API_GIT_V2_USAGE_OPERATION),(0,j.when)((()=>B.get(s,"apiVersionRepositoryInterface.RemoteGit.isHydrated")),(async()=>{await s.hydrate(!0),await s.initialSyncWithWorkspace(this.props.versionModel)}))})).catch((e=>{i({status:"error",title:e.title,description:e.message})})).finally((()=>{this.setState({isLoading:!1}),this.props.closeconfiguration(),B.isEmpty(B.get(this.props,"versionModel.workbenchModel"))||this.props.versionModel.workbenchModel.reload()}))}getErrorMessage(e){const t=this.state.hasErrorIn,n=this.state.integrationData[e],o=B.get(this.state,"entityErrorStates",{});if(-1!==t.indexOf(e)){const t=_.FAILED_TO_FETCH_ENTITIES_ERROR_MESSAGES[e];if(o[e]){const n=o[e];return B.get(_.ERROR_MESSAGES_FOR_ENTITIES,[e,n],t)}return t}if(n&&0===n.length)return _.EMPTY_STATE_MESSAGES[e]}getWarningMessage(e){const t=this.state.hasWarningIn;if(!t.entityType)return;if(-1!==t.entityType.indexOf(e))switch(t.warningType){case _.DEVELOPMENT_BRANCH_ALREADY_LINKED_STATE:const e=B.get(t,"additionalContext.alreadyLinkedVersionName");return`This branch is currently used by version ${e}. Using this branch will block the integration on ${e}.`;case _.REPO_ALREADY_LINKED_STATE:return B.get(t,"additionalContext.errorMessage");default:return""}}getNextLevelDirectories(e,t){if(B.isEmpty(e)||B.isEmpty(t))return;const n=this[`fetch${e[0].toUpperCase()+e.substring(1)}Directories`],o=`${e}DirectoryStack`;n(this.props.tokenId,{owner:B.get(this.state,"selectedRepo.owner.id"),branch:B.get(this.state,"developmentBranch.id"),repoId:B.get(this.state,"selectedRepo.id"),path:t.path}).then((()=>{this.excludeDirectoriesSelectedForOtherEntities(e),this.setState((e=>{const n=[...e[o],t];return{...e,[o]:n}}))}))}getPreviousLevelDirectories(e){const t=this[`fetch${e[0].toUpperCase()+e.substring(1)}Directories`],n=`${e}DirectoryStack`,o=B.chain(this.state).get(n).dropRight(1).value(),s=B.chain(o).last().get("path").value();t(this.props.tokenId,{owner:B.get(this.state,"selectedRepo.owner.id"),branch:B.get(this.state,"developmentBranch.id"),repoId:B.get(this.state,"selectedRepo.id"),path:s}).then((()=>{this.excludeDirectoriesSelectedForOtherEntities(e),this.setState((e=>{const t=B.chain(e).get(n).dropRight(1).value();return{...e,[n]:t}}))}))}retryAuth(){this.userScopeSharedAuthEnabled?this.props.controller.handleAuthorization(!0):this.fetchUserAndOrgData()}getTooltipForUnselectedData(){const e=["selectedOrg","selectedRepo","developmentBranch"],t={selectedOrg:"Please select an organisation",selectedRepo:"Please select a repository",developmentBranch:"Please select the initial branch"};for(let n of e){if(!this.state[n])return t[n]}return""}render(){const e=this.state.isLoading||this.state.isLoadingSchemaSyncIntegration,t=this.state.shouldCreateNewBranch&&!this.state.sourceBranch,n=e||!this.state.selectedOrg||!this.state.selectedRepo||!this.state.developmentBranch||!this.state.selectedCollectionDir||!this.state.selectedSchemaDir||this.state.isInvalidDirectory,o=B.get(this.state.userData,"avatar"),i=this.props.serviceName.toUpperCase(),a=this.props.maskedServiceName,r=B.get(_.GIT_SERVICES_LIST,[a,"friendlyName"]),l=B.get(_.GIT_SERVICES_LIST,[a,"displayUserAndOrg"],!0),I=B.get(_.GIT_SERVICES_LIST,[i,"serviceProviderTerminologies"]),E=B.get(this.state.userData,"name")||B.get(this.state.userData,"username"),S="directories"===this.state.loading||"collectionDirectories"===this.state.loading&&!this.state.integrationData.collectionDirectories,T="directories"===this.state.loading||"schemaDirectories"===this.state.loading&&!this.state.integrationData.schemaDirectories,j=B.get(this,"state.integrationData.repos"),A=B.get(this,"state.integrationData.branches"),N=this.props.isEnterpriseFlow,D=this.props.enterpriseUrl;if(this.state.hasError)return s.createElement(C.default,{blankState:s.createElement(u.default,null),title:`Unable to load data from ${r}`,description:"Please try again.",buttonText:"Try Again",buttonType:"outline",handler:this.retryAuth});if(this.state.isLoadingBootstrapData)return s.createElement(c.default,null);const P=j&&0===j.length||B.includes(this.state.hasErrorIn,"repos")||!B.get(this,"state.selectedOrg.id"),M=B.includes(this.state.hasErrorIn,"branches")||!B.get(this,"state.selectedRepo.id"),L=!this.state.integrationData.schemaDirectories,k=!this.state.integrationData.collectionDirectories;let F;try{F=(0,x.getBaseEnterpriseURL)(D,this.props.serviceName)}catch(e){F=D}const V=s.createElement(p.default,{type:"body-small",color:"content-color-secondary"},"This is the branch to which any existing data within your API will be committed."),z=s.createElement(p.default,{type:"body-small",color:"content-color-secondary"},"If left blank, a ",s.createElement(p.default,{type:"code"},"postman/schemas")," directory will be created for you."),H=s.createElement(p.default,{type:"body-small",color:"content-color-secondary",typographyStyle:{lineHeight:"line-height-m"}},"If left blank, a ",s.createElement(p.default,{type:"code"},"postman/collections")," directory will be created for you."),G=()=>s.createElement(d.default,{type:"primary",onClick:this.handleConfigure,isDisabled:!t&&n,tooltip:!e&&n&&this.getTooltipForUnselectedData(),isLoading:e,text:"Connect Repository"}),W=()=>s.createElement(d.default,{type:"secondary",onClick:this.props.closeconfiguration,text:"Cancel"});return s.createElement(h.default,{justifyContent:"center",width:"480px"},s.createElement(g.default,{heading:!N&&`Connect your ${r} repository`,name:"api-repo-integration-configuration-form"},s.createElement(h.default,{direction:"column",gap:"spacing-l"},!N&&!this.userScopeSharedAuthEnabled&&s.createElement(h.default,{direction:"column",gap:"spacing-l",padding:{paddingBottom:"spacing-l"}},l&&s.createElement(h.default,{direction:"row",alignItems:"center",gap:"spacing-s",grow:"1"},s.createElement(p.default,null,"Authenticated on ",r," as"),s.createElement(h.default,{gap:"spacing-s",alignItems:"center"},s.createElement(f.default,{size:"medium",src:o}),s.createElement(p.default,{color:"content-color-primary",isTruncated:!0},E)),this.props.authSource===_.AUTH_SOURCE_IDENTIFIER.SHARED_AUTH&&s.createElement(O.default,{onClick:this.props.reauthenticateHandler},s.createElement(p.default,{type:"link-primary"},"Reauthenticate"))),s.createElement(h.default,{direction:"row",alignItems:"center",gap:"spacing-s",grow:"1"},s.createElement(p.default,{className:"api-repo-integration-configuration__select-api__title__label"},"API"),s.createElement(p.default,{color:"content-color-primary",isTruncated:!0},this.apiName))),N&&s.createElement(h.default,{direction:"column",padding:{paddingBottom:"spacing-s"}},s.createElement(b.default,{text:"Authenticated Domain",type:"primary"}),s.createElement(h.default,{width:"470px",alignItems:"center"},s.createElement(p.default,{color:"content-color-primary",isTruncated:!0,tooltip:F},F),s.createElement("div",{onClick:()=>{this.props.setActiveStepIndex(0),this.props.setStepStatus(["progress","pending"])}},s.createElement(h.default,null,s.createElement(p.default,{type:"link-primary",className:"api-repo-enterprise-config__connect-repo__domain"},"Change"))))),!this.state.isLoadingSchemaSyncIntegration&&this.state.schemaSyncApiVersionIntegration&&s.createElement("div",{className:"api-repo-integration-configuration__schema-sync-banner"},s.createElement(y.default,{title:"Your schema sync integration will be deleted",type:"local",status:"warning"},"Connecting repository will delete the",s.createElement(O.default,{to:{routeIdentifier:w.EDIT_INTEGRATIONS_IDENTIFIER,routeParams:{integrationId:this.state.schemaSyncApiIntegration.id}}},s.createElement(p.default,{type:"link-subtle"},s.createElement(p.default,{color:"content-color-link"},"schema sync integration"))),"configured on this API Version")),l&&s.createElement(R.default,{parentClassName:"api-repo-integration-configuration__select-org",title:`${r} ${B.get(I,"ORGANISATION")}`,selectedItem:this.state.selectedOrg,filterList:this.getOrganizations,handleSelect:this.handleOrgSelect,errorMessage:this.getErrorMessage("orgs"),performReauth:()=>this.props.controller.handleOAuthAuthorization(),reauthEntity:B.get(I,"ORGANISATION"),reauthService:r,shouldRenderReAuthMenu:this.userScopeSharedAuthEnabled}),s.createElement(R.default,{parentClassName:"api-repo-integration-configuration__select-repo",title:B.capitalize(B.get(I,"REPOSITORY")),placeholder:`Search for ${B.capitalize(B.get(I,"REPOSITORY"))}`,selectedItem:this.state.selectedRepo,disabled:P,filterList:this.filterList.bind(this,"repos"),handleSelect:this.handleRepoSelect,errorMessage:this.getErrorMessage("repos"),isLoading:"repos"===this.state.loading,retryHandler:this.handleRetry.bind(this,"repos",this.props.tokenId,B.get(this.state,"selectedOrg.id"),""),tooltip:P&&this.getTooltipForUnselectedData(),onChange:this.debouncedSearchRepositories,validationState:!B.isEmpty(this.getErrorMessage("repos"))&&B.isEmpty(B.get(this,"state.integrationData.repos"))&&"error",onClear:this.debouncedSearchRepositories,onBlur:B.isEmpty(j)&&this.debouncedSearchRepositories}),s.createElement(v.default,{type:"h4",text:"Start with a branch in Postman",className:"api-repo-integration-configuration__branch-heading"}),s.createElement(R.default,{parentClassName:"api-repo-integration-configuration__select-branch-develop",title:"Initial branch",placeholder:"Search for branch",description:V,selectedItem:this.state.developmentBranch,disabled:M,filterList:this.filterList.bind(this,"branches"),handleSelect:this.handleBranchSelect.bind(this,"development"),errorMessage:this.getErrorMessage("developmentBranch"),isLoading:"branches"===this.state.loading,retryHandler:this.handleRetry.bind(this,"developmentBranch",this.props.tokenId,{repositoryId:B.get(this.state,"selectedRepo.id"),repoOwner:B.get(this.state,"selectedRepo.owner.id")}),tooltip:M&&this.getTooltipForUnselectedData(),warningMessage:this.getWarningMessage("developmentBranch"),isBranchSelectionDropdown:!0,markCreateBranch:(e,t)=>this.setState({newBranchName:e,sourceBranch:t,shouldCreateNewBranch:!0}),doesBranchExist:this.doesBranchExist,apiId:this.props.apiId,customEmptyStateComponent:e=>0===(this.filterList("branches")||[]).length?s.createElement(p.default,null,'Create "',e,'" branch'):null,onChange:this.debouncedSearchBranches,validationState:!B.isEmpty(this.getErrorMessage("developmentBranch"))&&"error",onClear:this.debouncedSearchBranches,onBlur:B.isEmpty(A)&&this.debouncedSearchBranches,isOptionsCreatable:0===(this.filterList("branches")||[]).length}),s.createElement(U,{parentClassName:"api-repo-integration-configuration__select-schema-directory",title:"API schema directory",description:z,selectedItem:this.state.selectedSchemaDir,disabled:L,filterList:this.filterList.bind(this,"schemaDirectories"),handleSelect:this.handleDirSelect.bind(this,"schema"),errorMessage:this.getErrorMessage("schemaDirectories"),isLoading:T,isSubsequentDataLoading:"schemaDirectories"===this.state.loading,retryHandler:this.handleRetry.bind(this,"schemaDirectories",this.props.tokenId,{repoId:B.get(this.state,"selectedRepo.id"),branch:B.get(this.state,"developmentBranch.id"),owner:B.get(this.state,"selectedRepo.owner.id")}),getNextLevelData:this.getNextLevelDirectories.bind(this,"schema"),previousLevelItem:B.last(this.state.schemaDirectoryStack),isPreviousLevelAvailable:B.get(this.state,"schemaDirectoryStack.length")>0,getPreviousLevelData:this.getPreviousLevelDirectories.bind(this,"schema"),tooltip:L&&(this.state.shouldCreateNewBranch?"No directories exist in the new branch yet":this.getTooltipForUnselectedData())}),s.createElement(U,{parentClassName:"api-repo-integration-configuration__select-collection-directory",title:"Collection directory",description:H,selectedItem:this.state.selectedCollectionDir,disabled:k,filterList:this.filterList.bind(this,"collectionDirectories"),handleSelect:this.handleDirSelect.bind(this,"collection"),errorMessage:this.getErrorMessage("collectionDirectories"),isLoading:S,isSubsequentDataLoading:"collectionDirectories"===this.state.loading,retryHandler:this.handleRetry.bind(this,"collectionDirectories",this.props.tokenId,{repoId:B.get(this.state,"selectedRepo.id"),branch:B.get(this.state,"developmentBranch.id"),owner:B.get(this.state,"selectedRepo.owner.id")}),getNextLevelData:this.getNextLevelDirectories.bind(this,"collection"),previousLevelItem:B.last(this.state.collectionDirectoryStack),isPreviousLevelAvailable:B.get(this.state,"collectionDirectoryStack.length")>0,getPreviousLevelData:this.getPreviousLevelDirectories.bind(this,"collection"),tooltip:k&&(this.state.shouldCreateNewBranch?"No directories exist in the new branch yet":this.getTooltipForUnselectedData())}),N?s.createElement(m.default,{className:"api-repo-enterprise-config__connect-repo__buttons"},W(),G()):s.createElement(m.default,{className:"api-repo-integration-configuration__non-enterprise__buttons"},G(),W()))))}})||o;t.default=(0,I.default)($)},"./api-dev/components/api-repo-integration/APIRepositoryIntegrationDeleteModal.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js");t.default=(0,s.observer)((function({isDeleteIntegrationModalOpen:e,closeDeleteIntegrationModal:t,deleteIntegrationHandler:n,isDeletingIntegration:s}){return o.createElement(i.Modal,{className:"api-repository-delete-integration-modal",isOpen:e,onClose:t,size:"small"},o.createElement(i.ModalHeader,{heading:"Delete integration?"}),o.createElement(i.ModalContent,{className:"api-repository__delete-integration-modal__content"},o.createElement(a.default,{type:"body-medium",color:"content-color-primary"},"This will delete the integration from this API version.")),o.createElement(i.ModalFooter,null,o.createElement(r.default,{grow:1,shrink:1,justifyContent:"flex-end",gap:"spacing-s"},o.createElement(l.default,{className:"api-repository-delete-integration-modal__cancel-button",type:"secondary",size:"medium",text:"Cancel",onClick:t}),o.createElement(l.default,{className:"api-repository-delete-integration-modal__delete-button",type:"destructive",size:"medium",text:"Delete Integration",onClick:n,isLoading:s}))))}))},"./api-dev/components/api-repo-integration/APIRepositoryIntegrationEntitySelectDropdown/APIRepositoryIntegrationEntitySelectDropdown.js":function(e,t,n){"use strict";n.r(t),n.d(t,{APIRepositoryIntegrationEntitySelectDropdown:function(){return A}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/react-dom/index.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./node_modules/prop-types/index.js"),c=n.n(l),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuDivider.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),b=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),y=n("./node_modules/@postman/react-click-outside/dist/index.js"),v=n.n(y),I=n("./js/components/base/Dropdowns.js"),E=n("./js/components/base/Buttons.js"),_=n("./js/components/base/Inputs.js"),S=n("./js/modules/services/AnalyticsService.js"),C=n("./js/utils/openSettings.js"),T=n("./js/constants/SettingsTypeConstants.js"),j=n("./node_modules/lodash/lodash.js");let A=v()(o=class extends s.Component{constructor(e){super(e),this.state={focusedItem:null,isOpen:!1,inputValue:e.getInputValue(e.selectedItem),selectedItem:e.selectedItem},this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleToggleList=this.handleToggleList.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleClose=this.handleClose.bind(this),this.triggerBranchCreateFlow=this.triggerBranchCreateFlow.bind(this),this.renderEmptyState=this.renderEmptyState.bind(this)}renderEmptyState(e,t,n){const{isMenuLoading:o}=this.props;if(!o){if(e){const e={id:t},n=this.props.isBranchSelectionDropdown&&j.isEmpty(this.props.getFilteredList());if(n&&!t)return s.createElement(d.default,{justifyContent:"center",alignItems:"center",padding:{paddingBottom:"spacing-m",paddingTop:"spacing-s",paddingLeft:"spacing-s",paddingRight:"spacing-s"},direction:"column"},s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"No branches found in the repository."),s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"Enter a branch name to create a new branch."));const o=this.props.customEmptyStateComponent&&!j.isEmpty(this.props.customEmptyStateComponent(t))&&this.props.customEmptyStateComponent(t)||s.createElement(u.default,null,'No results found. Use "',s.createElement("span",{className:"search-highlighted-api-git"},t),'" anyway.');return[s.createElement(I.MenuItem,{className:"item "+(n?"create-branch-from-scratch-menu-item":""),key:t,refKey:t,onMouseEnter:()=>{this.handleMouseEnter(e)},onMouseLeave:()=>{this.handleMouseLeave()}},o)]}return t?s.createElement(u.default,{maxLines:2,color:"content-color-tertiary",className:"api-repository-integration-entity-select-dropdown__empty-state"},"No results found. Check your spelling or try a different search term."):s.createElement(u.default,{color:"content-color-tertiary",className:"api-repository-integration-entity-select-dropdown__empty-state"},n)}}renderOptions(){const{optionRenderer:e,getFilteredList:t,isOptionsCreatable:n,emptyStateMessage:o}=this.props,{inputValue:i,selectedItem:a,focusedItem:l}=this.state,c=i;if(this._visibleItems=t(c,{firstRender:this.state.disableFiltering}),j.isEmpty(this._visibleItems))return this.renderEmptyState(n,c,o);const d=this.props.isBranchCreationModalDropdown||this.props.isBranchSelectionDropdown,u=j.filter(this._visibleItems,(e=>e.id===c)).length>0,p=[];if(c&&d&&!u&&!j.isEmpty(this.props.customEmptyStateComponent(c))){const e={id:c};p.push(s.createElement(I.MenuItem,{className:"item",key:c,refKey:c,onMouseEnter:()=>{this.handleMouseEnter(e)},onMouseLeave:()=>{this.handleMouseLeave()}},this.props.customEmptyStateComponent(c)))}return p.concat(j.chain(this._visibleItems).flatMap((t=>{let n=e(t,c,{firstRender:this.state.disableFiltering}),o=t.id===(l&&l.id),i=t.id===(a&&a.id),d=t.isDisabled,u=t.disabledText,p=[];return n?(p.push(s.createElement(I.MenuItem,{className:r()({item:!0,"is-focused":o,"is-selected":i}),key:t.id,refKey:t.id,onMouseEnter:()=>{this.handleMouseEnter(t)},onMouseLeave:()=>{this.handleMouseLeave()},disabled:d,disabledText:u,tooltipPlacement:"left"},n)),t.addDivider&&p.push(s.createElement("div",{className:"divider divider--space"})),p):p})).compact().value())}handleMouseEnter(e){this.focusOption(e)}handleMouseLeave(){this.focusOption(null)}handleCancel(){setImmediate((()=>{this.focus()})),j.isFunction(this.props.onClear)&&this.props.onClear()}focus(){this.refs.input&&this.refs.input.focus()}blur(){this.refs.input&&(this.refs.input.blur(),(this.props.resetSearchFilterOnBlur||this.props.resetEmptyFilterOnBlur&&!this.state.inputValue)&&this.setState({inputValue:this.props.getInputValue(this.props.selectedItem)}),pm.mediator.trigger("focusBuilder"),this.props.onBlur&&this.props.onBlur())}handleOpen(){this.setState({isOpen:!0,disableFiltering:!0},this.focus)}handleToggleList(){this.state.isOpen?this.handleClose():this.handleOpen()}handleClickOutside(e){const t=this.dropdownMenuRef&&(0,i.findDOMNode)(this.dropdownMenuRef);t&&t.contains(e.target)||this.handleClose()}handleClose(){this.state.isOpen&&this.setState({isOpen:!1},this.blur)}handleSelect(e){let t=j.find(this._visibleItems,{id:e});if(this.props.isOptionsCreatable&&!t){const t={id:e};return this.selectFocusedOption(t,!0)}return this.selectFocusedOption(t)}handleKeyDown(e){let t=this.state.focusedItem;switch(e.key){case"ArrowDown":e.preventDefault(),this.focusAdjacentOption("next");break;case"ArrowUp":e.preventDefault(),this.focusAdjacentOption("previous");break;case"Enter":if(e.preventDefault(),t)return this.handleSelect(t.id),void this.handleClose();if(this.props.isOptionsCreatable&&!j.isEmpty(this.state.inputValue)){const e={id:this.state.inputValue};return this.selectFocusedOption(e)}this.handleClose();break;case"Escape":e.preventDefault();break;default:this.state.disableFiltering&&this.setState({disableFiltering:!1})}}handleFocus(){this.props.openOnFocus&&this.setState({isOpen:!0,disableFiltering:!0}),this.props.onFocus&&this.props.onFocus()}getNextVisibleItem(e,t){if(j.every(e,{disableFocus:!0}))return null;let n,o=j.findIndex(e,{id:t&&t.id});return-1===o||o===e.length-1?(n=e[0],n.disableFocus?this.getNextVisibleItem(e,n):n):(n=e[o+1],n.disableFocus?this.getNextVisibleItem(e,n):n)}getPreviousVisibleItem(e,t){if(j.every(e,{disableFocus:!0}))return null;let n,o=j.findIndex(e,{id:t&&t.id});return-1===o||0===o?(n=j.last(e),n.disableFocus?this.getPreviousVisibleItem(e,n):n):(n=e[o-1],n.disableFocus?this.getPreviousVisibleItem(e,n):n)}focusOption(e){this.setState({focusedItem:e})}focusAdjacentOption(e){let t=this.state.focusedItem,n=this._visibleItems;"next"===e?t=this.getNextVisibleItem(n,t):"previous"===e&&(t=this.getPreviousVisibleItem(n,t)),this._scrollToFocusedOption=!0,this.setState({focusedItem:t})}selectFocusedOption(e,t=!1){const n=e||this.state.focusedItem;this.props.isBranchSelectionDropdown||this.props.isBranchCreationModalDropdown?t?this.props.onSelect&&this.props.onSelect(n,!1,!1):this.props.onSelect&&this.props.onSelect(n,!1,!0):this.props.onSelect&&this.props.onSelect(n),this.handleClose()}handleChange(e){this.setState({inputValue:e,isOpen:!0,focusedItem:null},(()=>{this.props.onChange&&this.props.onChange(e)}))}UNSAFE_componentWillReceiveProps(e){this.props.selectedItem!==e.selectedItem&&this.setState({selectedItem:e.selectedItem,inputValue:e.getInputValue(e.selectedItem)})}getWrapperClasses(){return r()({[this.props.className]:!0,"input-select-v2-wrapper":!0,"is-open":this.state.isOpen,"is-disabled":this.props.disabled,"is-error":j.isEqual(this.props.validationState,"error"),"api-repository-integration-entity-select-dropdown":!0})}triggerBranchCreateFlow(){S.default.addEventV2({category:"api_repo_integration_v2",entityId:j.get(this.props,"apiId"),action:"create_branch",label:"config_form",value:1}),this.props.createBranch&&this.props.createBranch(),this.handleClose()}renderCreateBranchMenuItem(){return s.createElement("div",{className:`${this.props.menuClassName}__create-branch-menuitem`},s.createElement(p.default,null),s.createElement(I.MenuItem,{className:"item",onSelect:this.triggerBranchCreateFlow},s.createElement(f.default,null),s.createElement("span",null,"Create new branch")))}renderReauthMenu(){return s.createElement(s.Fragment,null,s.createElement(p.default,null),s.createElement("div",{className:"reauth-menu-container"},s.createElement("div",{className:"reauth-menu"},"Want to connect to a different ",this.props.reauthEntity,"?",s.createElement("div",{onClick:this.props.performReauth},s.createElement(u.default,{type:"link-primary"},"Connect with ",this.props.reauthService," account"))),s.createElement("div",{className:"reauth-menu"},"Manage all connected accounts on",s.createElement(m.default,{type:"monochrome-plain",text:"settings",onClick:()=>{(0,C.default)(null,T.SETTINGS_CONNECTED_ACCOUNTS),this.setState({isOpen:!1})}}))))}renderMenu(){const e=this.renderOptions(),{isBranchSelectionDropdown:t,isMenuLoading:n,shouldRenderReAuthMenu:o}=this.props,i=j.isEmpty(this.props.getFilteredList()),a=t&&!i;return j.isEmpty(e)&&!n?null:s.createElement(I.DropdownMenu,{disableCloseOnInputElementScroll:this.props.disableCloseOnInputElementScroll,fluid:!0,parentClassName:`input-select-v2-dropdown-menu ${this.props.menuClassName}`,targetRef:this.refs.wrapper,onSelect:this.handleSelect,onClose:this.handleClose,ref:e=>{this.dropdownMenuRef=e},className:"api-repository-integration-entity-select-dropdown-menu"},e,n&&s.createElement("div",{className:"api-repository-integration-entity-select-dropdown-menu__loader"},s.createElement(h.default,null)),a&&this.renderCreateBranchMenuItem(),!n&&o&&this.renderReauthMenu())}renderInputWithDropdown(){const{placeholder:e,hideSearchGlass:t,hideCancelOnBlur:n,showToggleButton:o,selectAllOnFocus:i}=this.props;return s.createElement("div",{ref:"wrapper",className:this.getWrapperClasses(),style:this.props.style},s.createElement(_.Input,{hideCancelOnBlur:n,hideSearchGlass:t,inputStyle:"search",className:this.props.inputClassName,placeholder:e||"Type to filter",query:this.state.inputValue,ref:"input",selectAllOnFocus:i,onCancel:this.handleCancel,onChange:this.handleChange,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,disabled:this.props.disabled}),o&&s.createElement(E.Button,{className:"dropdown-button",ref:"button",onClick:this.handleToggleList,disabled:this.props.disabled},s.createElement(b.default,{name:this.state.isOpen?"icon-direction-up":"icon-direction-down",className:"dropdown-caret"})),this.state.isOpen&&this.renderMenu())}render(){const{tooltip:e}=this.props;return e?s.createElement(g.default,{content:e},this.renderInputWithDropdown()):this.renderInputWithDropdown()}})||o;A.defaultProps={closeOnBlur:!0,closeOnSelect:!0,hideCancelOnBlur:!0,selectAllOnFocus:!0,showToggleButton:!0,hideSearchGlass:!0,openOnFocus:!0,resetEmptyFilterOnBlur:!0,resetSearchFilterOnBlur:!1,menuClassName:"",inputClassName:"",disableCloseOnInputElementScroll:!0},A.propTypes={closeOnBlur:c().bool,closeOnSelect:c().bool,hideCancelOnBlur:c().bool,selectAllOnFocus:c().bool,showToggleButton:c().bool,hideSearchGlass:c().bool,resetEmptyFilterOnBlur:c().bool,resetSearchFilterOnBlur:c().bool,menuClassName:c().string,inputClassName:c().string,onBlur:c().func,onFocus:c().func,openOnFocus:c().bool,optionRenderer:c().func.isRequired,getInputValue:c().func.isRequired,selectedItem:c().object.isRequired,getFilteredList:c().func.isRequired,disableCloseOnInputElementScroll:c().bool}},"./api-dev/components/api-repo-integration/APIRepositoryOptionsContainer/APIRepositoryOptionsContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/components/base/Buttons.js"),r=n("./js/components/base/Dropdowns.js"),l=n("./js/services/NavigationService.js"),c=n("./js/stores/SyncStatusStore.js"),d=n("./api-dev/stores/APIListStore.js"),u=n("./billing/stores/BillingAccountStore.js"),p=n("./js/stores/CurrentUserStore.js"),m=n("./js/stores/StoreManager.js"),h=n("./api-dev/constants/APIRepositoryConstants.js"),g=n("./purchase/utils/constants.js"),f=n("./api-dev/components/api-repo-integration/APIRepositoryOptionsDropdown/APIRepositoryOptionsDropdown.js"),b=n("./api-dev/services/APIPermissionService.js"),y=n("./api-dev/util/TooltipText.js"),v=n("./api-dev/constants/APITooltips.js"),I=n("../../node_modules/mobx/lib/mobx.module.js"),E=n("./api-dev/components/api-repo-integration/APIRepositoryIntegrationDeleteModal.js"),_=n("./api-dev/components/api/APIRepositoryConnectedDropdown/APIRepositoryConnectedDropdown.js"),S=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),C=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),T=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),j=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),A=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),w=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),O=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),N=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),D=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-openWeb-stroke.js"),R=n("./js/modules/services/AnalyticsService.js"),P=n("./appsdk/components/link/Link.js"),M=n("./api-dev/constants/ExternalLinks.js"),L=n("./onboarding/src/common/LaunchDarkly.js"),x=n("./api-dev/interfaces/APIInterface.js"),k=n("./billing/stores/ResourceUsageStore.js"),F=n("./api-dev/constants/V10UIConstants.js"),V=n("./integrations/git/services/OnPrem/constants.ts"),B=n("./node_modules/lodash/lodash.js");function U({apiId:e,apiVersionId:t,promoteTab:n},o){R.default.addEventV2({category:"api_repo_integration_v2",entityId:e,action:"initiate_connect_repository",label:o,value:1});const s={category:"api_repo_integration_v2",entityId:e,action:"initiate_migration",label:"add_repo_integration",value:1};(0,m.resolveStoreInstance)(p.default).isLoggedIn?(B.isFunction(n)&&n(),(0,x.migrateAPI)(e,t,s).then((({migratedAPIId:e,apiVersionId:t})=>{R.default.addEventV2({category:"api_repo_integration",entityId:t,action:"connect_repository",label:o,value:1}),l.default.transitionTo("build.connectAPIRepository",{apiId:e,gitService:o},{version:t})})).catch(B.noop)):pm.mediator.trigger("showSignInModal",{type:"APIRepositoryConnect",origin:"api_builder_connect_repository_button",continueUrl:new URL(window.location.href)})}function z(e){const{featureFlags:t,shouldDisableDropdownButtons:n,actionTooltipText:o}=e,i=Object.keys(h.GIT_SERVICES_LIST).map((e=>{const i=h.GIT_SERVICES_LIST[e].serviceName,a=h.GIT_SERVICES_LIST[e].icon,l=h.GIT_SERVICES_LIST[e].isOnPrem,c=h.GIT_SERVICES_LIST[e].maskedServiceName,d=h.GIT_SERVICES_LIST[e].dropdownOptionName,f=h.GIT_SERVICES_LIST[e].billedFeatureName,b=!(({featureFlag:e,featureFlags:t,billedFeatureName:n})=>{const o=!e||L.launchDarkly.getFlag(e,!1),s=!n||t[n];return o&&s})({featureFlag:B.get(h.GIT_SERVICES_LIST,[e,"featureFlag"]),featureFlags:t,billedFeatureName:f,isOnPrem:l,serviceName:i}),y=(0,m.resolveStoreInstance)(p.default).team,v=(0,m.resolveStoreInstance)(p.default).isLoggedIn,I=(0,m.resolveStoreInstance)(k.default).isResourceLimitReached(F.API_GIT_V2_USAGE_OPERATION),E=(0,m.resolveStoreInstance)(u.default).tierId===g.ENTERPRISE_TIER_ID,_=l&&L.launchDarkly.getFlag("enable-desktop-on-prem",!1)&&"browser"===window.SDK_PLATFORM&&!B.isEmpty(V.SERVICES[i]),T=s.forwardRef(((e,t)=>s.createElement(S.default,{justifyContent:"space-between",alignItems:"center",grow:1,className:e.isOptionDisabled&&"api-repository-connect-dropdown__disabled",ref:t},s.createElement(S.default,{alignItems:"center",gap:"spacing-s"},s.createElement(a,null),s.createElement("div",null,d)),s.createElement(D.default,null))));let j=n,A=o;return b?null:(_&&(j=!0,A=F.USE_DESKTOP_APP_TOOLTIP),I&&(j=!0,A=E?F.ENTERPRISE_PLAN_UPGRADE_TOOLTIP:F.NON_ENTERPRISE_PLAN_UPGRADE_TOOLTIP),!y&&v&&(j=!0,A=F.SIGN_IN_TO_TEAM_TOOLTIP),j?s.createElement(r.MenuItem,{refKey:c,disabled:j,key:c},s.createElement(C.default,{content:A,placement:"right"},s.createElement(T,{isOptionDisabled:j}))):s.createElement(r.MenuItem,{refKey:c,disabled:j,key:c},s.createElement(T,{isOptionDisabled:j})))}));return i}function H(e){const{isOffline:t,retryFetchingAPIRepoLinkInfo:n,repositoryIntegrationDeletionStatus:o,unlinkRepoHandler:i,customDomain:a,repositoryService:r,apiId:c,apiVersionId:d,tokenId:u}=e,p=!!a,[m,g]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),{addToast:y}=(0,T.default)();(0,s.useEffect)((()=>{R.default.addEventV2({category:"api_repo_integration",action:"auth_error_terminal_state_reached",label:r,value:1,entityId:d}),y({title:"Authorization Error",status:"error",description:h.API_REPO_INTEGRATION_AUTHORIZATION_ERROR_MESSAGE,duration:1e4})}),[]);const v=s.createElement(j.default,{className:"api-repository-connect-button",type:"tertiary",text:"Unable to load",icon:"icon-state-error-stroke",isDisabled:t,onClick:()=>b(!f)});return s.createElement("div",{className:"api-repository-connect"},s.createElement(A.default,{trigger:v,isOpen:f,maxWidth:300,onClickOutside:()=>b(!1),appendTo:"parent"},s.createElement(S.default,{padding:"spacing-xs spacing-m",direction:"column",gap:"spacing-m"},s.createElement(w.default,{type:"h5",text:"Authorization error"}),s.createElement(O.default,{type:"para"},"Postman doesnt have right permissions on the repository. This might have happened because your access token expired or was revoked."),s.createElement(N.default,null,function(e){let t=B.lowerCase(r);return e&&!B.includes(t,"enterprise")&&(t=`${t}enterprise`),s.createElement(j.default,{type:"primary",onClick:()=>{(0,x.migrateAPI)(c,d).then((({migratedAPIId:e,apiVersionId:n})=>{l.default.transitionTo("build.oauthReauthenticate",{tokenId:u,serviceId:t},{apiId:e,apiVersion:n,eventName:`api-oauth-integration-re-authenticated-${c}`})})).catch(B.noop)},text:"Reauthenticate"})}(p),s.createElement(j.default,{type:"secondary",onClick:n,text:"Try Again"})))),s.createElement(E.default,{isDeleteIntegrationModalOpen:m,closeDeleteIntegrationModal:()=>g(!1),deleteIntegrationHandler:function(){i().then((()=>{g(!1)}))},isDeletingIntegration:o}))}let G=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={featureFlags:{}},this.setFeatureFlags=this.setFeatureFlags.bind(this),this.unlinkRepoHandler=this.unlinkRepoHandler.bind(this),this.resourceUsageStore=(0,m.resolveStoreInstance)(k.default),this.resourceUsageStore.debouncedfetchUsageForOperation(F.API_GIT_V2_USAGE_OPERATION)}setFeatureFlags(){pm.billing.onPlanFeaturesLoad().then((()=>{this.setState((e=>{const t=h.BILLED_FEATURE_NAMES.reduce(((e,t)=>e={...e,[t]:B.get(pm,["billing","plan","features",t,"value"])}),{});return{featureFlags:{...e.featureFlags,...t}}}))})).catch((()=>{pm.logger.warn("APIRepositoryOptionsContainer~ Failed to fetch feature info")}))}componentDidMount(){(0,I.when)((()=>pm.billing),(()=>this.setFeatureFlags()))}unlinkRepoHandler(){return B.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.unlinkRepositoryFromAPIVersion().then((()=>Promise.resolve()))}render(){const{model:e,editor:t}=this.props,n=!(0,m.resolveStoreInstance)(c.default).isSocketConnected;if(e.isSyncingWithRepo)return s.createElement(j.default,{className:"api-repository-connect",type:"secondary",text:"Syncing with repository...",isDisabled:!0});if(e.isFetchingAPIRepoLinkInfo||this.resourceUsageStore.isFetchingOperationUsage)return s.createElement(r.Dropdown,{className:"api-repository-connect-dropdown"},s.createElement(r.DropdownButton,null,s.createElement(a.Button,{className:"api-repository-connect",type:"tertiary",disabled:!0},"Loading...")));const o=B.get(e,"repositoryIntegrationState");if(o===h.API_REPO_INTEGRATION_TOKEN_EXPIRED_ERROR_STATE||o===h.API_REPO_INTEGRATION_INVALID_TOKEN_ERROR_STATE){const t=()=>{(0,x.migrateAPI)(e.apiId,e.id).then((()=>{e&&e.getAPIRepoLinkInfo()})).catch(B.noop)},o=()=>e.handleReAuthentication();return s.createElement(H,{isOffline:n,retryFetchingAPIRepoLinkInfo:t,repositoryIntegrationDeletionStatus:e.isDeletingRepositoryIntegration,unlinkRepoHandler:this.unlinkRepoHandler,handleReAuthentication:o,customDomain:e.repositoryCustomDomain,repositoryService:e.repositoryService,tokenId:e.tokenId,apiId:e.apiId,apiVersionId:e.id})}if(!B.get(e,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured")){const t=this.props.isAPIView?B.get(e,"id"):B.get(e,"apiId"),n=this.props.isAPIView?B.get(e,"latestAPIVersion.id"):B.get(e,"id"),o=this.props.promoteTab,{shouldDisableDropdownButtons:i,actionTooltipText:l}=function(e,t){const n=(0,m.resolveStoreInstance)(d.default).permissions,o=!(0,m.resolveStoreInstance)(c.default).isSocketConnected,s=t?B.get(e,"id"):B.get(e,"apiId"),i=b.default.hasPermission(n,"connectRepository","api",s),a=e.isActiveAPIVersionDeleted,r=e.isAPIDeleted,l=o||!i||a,u=!o&&!i;let p=(0,y.default)(l,!i);return a&&(p=v.ACTIVE_API_VERSION_DELETED_TEXT),r&&(p=v.API_DELETED_TEXT),{shouldDisableDropdownButtons:l,shouldRequestForAccess:u,actionTooltipText:p}}(e,this.props.isAPIView);return s.createElement(r.Dropdown,{className:"api-repository-connect-dropdown",onSelect:U.bind({},{apiId:t,apiVersionId:n,promoteTab:o})},s.createElement(r.DropdownButton,null,s.createElement(a.Button,{className:"connect-repository-button",type:"secondary",size:"small"},s.createElement(O.default,{isTruncated:!0,"data-testid":"connect-repository-button"},"Connect"))),s.createElement(r.DropdownMenu,null,s.createElement("div",{className:"api-repository-connect-dropdown__learn-more"},s.createElement(O.default,{type:"body-medium",color:"content-color-secondary"},"Integrate a Git repository to this API to sync changes between them.",s.createElement(O.default,{isExternal:!0,type:"link-subtle"},s.createElement(P.default,{to:M.LEARN_ABOUT_API_GIT_INTEGRATION_LINK,target:"_blank"},"Learn more")))),z({shouldDisableDropdownButtons:i,actionTooltipText:l,featureFlags:this.state.featureFlags})))}if(B.get(e,"repoLinkId")===h.API_REPO_INTEGRATION_ERROR_STATE){let t=()=>e.getAPIRepoLinkInfo();return this.props.isAPIView&&(t=()=>e.fetchRepoIntegrationDetails()),s.createElement("div",{className:"api-repository-connect"},s.createElement(C.default,{content:"Failed to load integration data. Please try again.",placement:"bottom"},s.createElement(j.default,{className:"api-repository-connect-button",type:"tertiary",text:"Unable to load",icon:"icon-state-error-stroke",onClick:t,isDisabled:n})))}return this.props.isAPIView?s.createElement(_.default,{model:e,promoteTab:this.props.promoteTab}):s.createElement(f.default,{model:e,editor:t,promoteTab:this.props.promoteTab})}})||o},"./api-dev/components/api-repo-integration/APIRepositoryOptionsDropdown/APIRepositoryOptionsDropdown.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./js/components/base/Dropdowns.js"),d=n("./js/components/base/Buttons.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),h=(n("./js/components/base/LoadingIndicator.js"),n("./api-dev/util/error.js"),n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-descend-small.js")),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-ascend-small.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-warning-stroke.js"),b=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),y=(n("./onboarding/src/common/LaunchDarkly.js"),n("./api-dev/services/SaveAsNewAPIService.js")),v=n("./api-dev/components/api-repo-integration/PullChangesModal/PullChangesModal.js"),I=n("./api-dev/components/api-repo-integration/PullFeatureBranchChangesModal/PullFeatureBranchChangesModal.js"),E=n("./api-dev/components/api-repo-integration/CommitChangesModal/CommitChangesModal.js"),_=n("./api-dev/components/api-repo-integration/CreateLocalGitModal/CreateLocalGitModal.js"),S=n("./api-dev/components/api-repo-integration/CommitFeatureBranchChangesModal/CommitFeatureBranchChangesModal.js"),C=n("./node_modules/@postman/date-helper/index.js"),T=n.n(C),j=n("./api-dev/components/api-repo-integration/APIRepositoryIntegrationDeleteModal.js"),A=n("./appsdk/components/link/Link.js"),w=n("./api-dev/constants/APITabModes.js"),O=n("./api-dev/constants/APIRepositoryConstants.js"),N=n("./js/modules/services/AnalyticsService.js"),D=(n("./api-dev/interfaces/APIInterface.js"),n("./node_modules/lodash/lodash.js"));const R="pull",P="commit",M="localGitCreate",L="deleteIntegration",x=(l.default.div`
  border-left-color: ${e=>e.theme["counterbutton-tertiary-splitter-color"]};
`,(0,l.default)(d.Button)`
  border-radius: var(--border-radius-default);
  max-width: 200px;

  &__text {
    @include text-truncate-ellipsis;

    margin-left: var(--spacing-xs);
    margin-right: var(--spacing-xs);
    display: flex;
  }

  &__repo-icon {
    display: flex;
  }

  .api-repo-options__button__icons {
    display: flex;
    align-items: center;
  }

  &-warning {
    background-color: var(--background-color-warning);

    &__icon {
      margin-right: var(--spacing-s);

      /**
      * Manually filling in color here because the icon is being displayed inside of a
      * btn-tertiary. And these older buttons overrides the fill of the svg elements that
      * are placed inside of it. Since the icon's color prop is being overridden this way,
      * we have to add this manual override.
      * Using !important becasue the button styling overrides this again when the button
      * is hovered over.
      * Keeping it specific to our css classes, so it doesn't interfere with global styling
      * of these icons.
      */
      svg > path[fill] {
        fill: var(--content-color-warning) !important;
      }
    }
  }

  &:hover {
    .api-repo-options__button__status__container {
      background-color: ${e=>"light"===e.theme.name?"#D4D4D4":"#565656"};
    }
  }
`);let k=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isOpen:!1,isDeleteIntegrationModalOpen:!1,inputValue:null,isRefreshing:!1},this.toggleDropdown=this.toggleDropdown.bind(this),this.closeDropdown=this.closeDropdown.bind(this),this.handleDirtyOrConflictedState=this.handleDirtyOrConflictedState.bind(this),this.handleAction=this.handleAction.bind(this),this.handleClosePullChanges=this.handleClosePullChanges.bind(this),this.handleCloseCommitChanges=this.handleCloseCommitChanges.bind(this),this.handleCloseCommitFeatureBranchChanges=this.handleCloseCommitFeatureBranchChanges.bind(this),this.handleCloseCreateLocalGitModal=this.handleCloseCreateLocalGitModal.bind(this),this.openCommitModal=this.openCommitModal.bind(this),this.unlinkRepoHandler=this.unlinkRepoHandler.bind(this),this.handleCloseDeleteIntegrationModal=this.handleCloseDeleteIntegrationModal.bind(this),this.handleClosePullFeatureBranchChanges=this.handleClosePullFeatureBranchChanges.bind(this),this.handleSelect=this.handleSelect.bind(this),this.deleteLocalGit=this.deleteLocalGit.bind(this),this.createLocalGit=this.createLocalGit.bind(this),this.getLastSyncClasses=this.getLastSyncClasses.bind(this),this.openDeleteIntegrationModal=this.openDeleteIntegrationModal.bind(this),this.refreshGitSyncStatus=this.refreshGitSyncStatus.bind(this),this.setRefreshState=this.setRefreshState.bind(this)}handleCloseCommitChanges(){this.props.model.setIsPushChangesModalOpen(!1)}handleCloseCommitFeatureBranchChanges(){this.props.model.featureBranch.setIsCommitFeatureBranchChangesModalOpen(!1)}openCommitModal(){if(D.get(this.props,"model.mode")===w.BUILD_MODE){const e=D.get(this.props,"model.developmentBranchName"),t=D.get(this.props,"model.id");N.default.addEventV2({category:"api_repo_integration",action:"push_initiated",label:e,value:1,entityId:t}),this.props.model.setIsPushChangesModalOpen(!0)}if(D.get(this.props,"model.mode")===w.FEATURE_BRANCH_MODE){const e=D.get(this.props,"model.featureBranch.branchName"),t=D.get(this.props,"model.id");return N.default.addEventV2({category:"api_repo_integration",action:"push_initiated",label:e,value:1,entityId:t}),this.props.model.featureBranch.setIsCommitFeatureBranchChangesModalOpen(!0)}}saveAPIVersion(){let e=this.props.editor.schemaId,t=this.props.editor.activeType,n=this.props.editor.activeLanguage,o=this.props.editor.schema;return this.props.model.schema.saveSchema(o,t,n).then((()=>{this.props.editor.handleIncomingUpdates({schemaId:e,schema:o,activeType:t,activeLanguage:n})})).catch((e=>{pm.logger.error("APIRepositoryOptionsDropdown~saveAPIVersion - saving schema failed: "+e)}))}saveAsNewAPI(e){let t=this.props.editor.activeType,n=this.props.editor.activeLanguage,o=this.props.editor.schema;return(0,y.default)(t,n,o).then((()=>{"updated"===e&&this.props.editor.handleIncomingUpdates({schemaId:this.props.model.schema.schemaId,schema:this.props.model.schema.content,activeType:this.props.model.schema.type,activeLanguage:this.props.model.schema.language}),"deleted"===e&&this.props.editor.clearTrackedUpdates()}))}clearTrackedUpdates(){this.props.editor.clearTrackedUpdates()}handleDirtyOrConflictedState(e){this.closeDropdown();const t=D.get(this.props.editor,"conflictedState");"deleted"===t&&this.props.editor.isDirty?pm.mediator.trigger("showSwitchDeletedVersionModal",(()=>{this.saveAsNewAPI(t).then((()=>{this.handleAction(e)}))}),(()=>{this.clearTrackedUpdates(),this.handleAction(e)})):"updated"===t?pm.mediator.trigger("showSwitchConflictedVersionModal",(()=>{this.saveAPIVersion().then((()=>{this.handleAction(e)}))}),(()=>{this.saveAsNewAPI(t).then((()=>{this.handleAction(e)}))})):this.props.editor.isDirty?pm.mediator.trigger("showSwitchDirtyVersionModal",(()=>{this.saveAPIVersion().then((()=>{this.handleAction(e)}))}),(()=>{this.clearTrackedUpdates(),this.handleAction(e)}),"syncWithRemote"):this.handleAction(e)}handleAction(e){switch(e){case R:return this.pullFromRemote();case P:return this.openCommitModal();case L:return this.openDeleteIntegrationModal()}}toggleDropdown(){this.setState((e=>({isOpen:!e.isOpen})))}closeDropdown(){const e=D.get(this.refs,"dropdownRef.__wrappedInstance");e&&e.toggleDropdown&&e.closeDropdown()}handleClosePullChanges(){this.props.model.setIsPullChangesModalOpen(!1)}handleClosePullFeatureBranchChanges(){this.props.model.featureBranch.setIsPullChangesModalOpen(!1)}handleCloseDeleteIntegrationModal(){this.setState({isDeleteIntegrationModalOpen:!1})}openDeleteIntegrationModal(){this.setState({isDeleteIntegrationModalOpen:!0})}pullFromRemote(){if(D.get(this.props,"model.mode")===w.BUILD_MODE){const e=D.get(this.props,"model.featureBranch.branchName"),t=D.get(this.props,"model.id");return N.default.addEventV2({category:"api_repo_integration",action:"pull_initiated",label:e,value:1,entityId:t}),this.props.model.setIsPullChangesModalOpen(!0)}if(D.get(this.props,"model.mode")===w.FEATURE_BRANCH_MODE){const e=D.get(this.props,"model.featureBranch.branchName"),t=D.get(this.props,"model.id");return N.default.addEventV2({category:"api_repo_integration",action:"pull_initiated",label:e,value:1,entityId:t}),this.props.model.featureBranch.setIsPullChangesModalOpen(!0)}}async unlinkRepoHandler(){D.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.setState({isDeletingIntegration:!0});try{const e=D.get(this.props,"model.apiRepositoryStore",null);this.props.model.switchToBuildMode(),await e.deleteRemoteGit()}catch(e){pm.logger.error(`APIRepositoryStore~deleteLocalGit - Unlink repo handler failed - ${e}`)}finally{this.setState({isDeletingIntegration:!1}),this.handleCloseDeleteIntegrationModal(),this.props.model.reload()}}deleteLocalGit(){this.closeDropdown();const e=D.get(this.props,"model.apiRepositoryStore",null),{addToast:t}=this.props;e.deleteLocalGit().then((()=>{t({description:"API is successfully disconnected from the local file system.",status:"success"})})).catch((e=>{pm.logger.error(`APIRepositoryStore~deleteLocalGit - Error deleting local Git - ${e}`)}))}createLocalGit(){this.props.model.setIsCreateLocalGitModalOpen(!0)}handleCloseCreateLocalGitModal(){this.props.model.setIsCreateLocalGitModalOpen(!1)}handleSelect(e){switch(e){case R:this.handleDirtyOrConflictedState(R);break;case P:this.handleDirtyOrConflictedState(P);break;case M:this.createLocalGit();break;case"localGitDelete":this.deleteLocalGit();break;case L:this.handleDirtyOrConflictedState(L);default:return}}renderIncomingOutgoingChanges(){if(D.get(this.props,"model.featureBranch")){const e=D.get(this.props,"model.featureBranch.changesToBePulledCount"),t=D.get(this.props,"model.featureBranch.changesToBePushedCount");return s.createElement(s.Fragment,null,D.isNumber(e)&&!D.eq(e,0)&&s.createElement("div",{className:"api-repo-options__button__status__container api-repo-options__button__status__container--left"},s.createElement("div",{className:"api-repo-options__button__status__container__icon"},s.createElement(u.default,{placement:"bottom",content:"There are changes to pull"},s.createElement("div",{className:"api-repo-options__button__status__container__icon"},s.createElement(h.default,{className:"descend-direction-icon"}),s.createElement("div",{className:"need-action-indicator"}))))),D.isNumber(t)&&!D.eq(t,0)&&s.createElement("div",{className:"api-repo-options__button__status__container api-repo-options__button__status__container--right"},s.createElement("div",{className:"api-repo-options__button__status__container__icon"},s.createElement(u.default,{placement:"bottom",content:"There are changes to commit and push"},s.createElement("div",{className:"api-repo-options__button__status__container__icon"},s.createElement(g.default,{className:"ascend-direction-icon"}),s.createElement("div",{className:"need-action-indicator"}))))))}const e=D.get(this.props,"model.changesToPullCount"),t=D.get(this.props,"model.changesToPushCount"),n=D.isNumber(e)&&D.isNumber(t);return s.createElement(s.Fragment,null,n&&!D.eq(e,0)&&s.createElement("div",{className:"api-repo-options__button__status__container api-repo-options__button__status__container--left","data-testId":"test-pull-indicator"},s.createElement(u.default,{placement:"bottom",content:"There are changes to pull"},s.createElement("div",{className:"api-repo-options__button__status__container__icon"},s.createElement(h.default,{className:"descend-direction-icon"}),s.createElement("div",{className:"need-action-indicator"})))),n&&!D.eq(t,0)&&s.createElement("div",{className:"api-repo-options__button__status__container api-repo-options__button__status__container--right","data-testId":"test-push-indicator"},s.createElement(u.default,{placement:"bottom",content:"There are changes to commit and push"},s.createElement("div",{className:"api-repo-options__button__status__container__icon"},s.createElement(g.default,{className:"ascend-direction-icon"}),s.createElement("div",{className:"need-action-indicator"})))))}renderPullActionNeededIndicator(e){if(e)return s.createElement("div",{className:r()({"need-action-indicator-menu-item":!0}),"data-testId":"test-dot-pull-indicator"})}renderPushActionNeededIndicator(e,t){if(t&&D.isNumber(e)&&D.eq(e,0))return s.createElement("div",{className:r()({"need-action-indicator-menu-item":!0}),"data-testId":"test-dot-push-indicator"})}renderIntegrationDropdownButton(){const e=D.get(this.props,"model.developmentBranchName"),t=D.get(this.props,"model.apiRepositoryStore",null),n=D.get(t,"branch");return this.props.model.repositoryIntegrationState===O.API_REPO_INTEGRATION_LOCKED_ERROR_STATE?s.createElement(x,{className:"api-repo-options__button-warning",type:"tertiary",tooltip:"A new integration was created using the same branch.",tooltipPlacement:"bottom"},s.createElement(f.default,{color:"content-color-warning",className:"api-repo-options__button-warning__icon"}),s.createElement(p.default,{color:"content-color-warning"},"Integration blocked"),s.createElement("span",{className:"api-repo-options__button__icons"},s.createElement(b.default,{name:"icon-direction-"+(this.state.isOpen?"up":"down"),className:"api-repo-options__button__icons__item"}))):s.createElement(x,{type:"tertiary"},s.createElement("div",{className:"api-repo-options__button__repo-icon"},s.createElement(b.default,{name:"icon-entity-repo-stroke",color:"content-color-tertiary"})),s.createElement("div",{className:"api-repo-options__button__text"},s.createElement(p.default,{type:"body-medium",isTruncated:!0},n||e)),s.createElement("div",{className:"api-repo-options__button__status"},this.renderIncomingOutgoingChanges()),s.createElement("span",{className:"api-repo-options__button__icons"},s.createElement(b.default,{name:"icon-direction-"+(this.state.isOpen?"up":"down"),className:"api-repo-options__button__icons__item"})))}getLastSyncClasses(){return r()({"api-repo-options-menu__container__meta-info__content":!0,"info-not-available":!D.get(this.props,"model.lastSyncedWithRepoAt")})}setRefreshState(e){this.setState({isRefreshing:e})}refreshGitSyncStatus(){this.setRefreshState(!0)}render(){const e=D.get(this.props,"model.lastSyncedWithRepoAt")?T().getFormattedDateAndTime(this.props.model.lastSyncedWithRepoAt):"Not available",t=D.get(this.props,"model.developmentBranchName"),n=D.get(this.props,"model.apiRepositoryStore",null),o=D.get(n,"apiVersionRepositoryInterface.RemoteGit.integration.repository.info.name"),i=D.get(n,"branch"),a=D.get(this.props,"model.featureBranch.branchLink"),r=D.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.links.repository"),l=D.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.links.branch");this.props.model.repositoryIntegrationState,O.API_REPO_INTEGRATION_LOCKED_ERROR_STATE,D.get(n,"apiVersionRepositoryInterface.localGitConfigured"),D.isEmpty(D.get(n,"sourceControlStore.stagedFilesList")),window.SDK_PLATFORM;let d,u;return D.get(this.props,"model.featureBranch")?(d=D.get(this.props,"model.featureBranch.changesToBePulledCount"),u=D.get(this.props,"model.featureBranch.changesToBePushedCount")):(d=D.get(this.props,"model.changesToPullCount"),u=D.get(this.props,"model.changesToPushCount")),s.createElement("div",{className:"api-repo-options","data-testId":"test-api-repo-options"},s.createElement(c.Dropdown,{onSelect:this.handleSelect,onToggle:this.toggleDropdown,ref:"dropdownRef",keyMapHandlers:{quit:this.closeDropdown},className:"api-repo-options-dropdown"},s.createElement(c.DropdownButton,{dropdownStyle:"nocaret"},this.renderIntegrationDropdownButton()),s.createElement(c.DropdownMenu,{"align-right":!0},s.createElement(c.MenuItem,{refKey:"branch",className:"api-repo-options-menu__container__meta-info"},s.createElement("div",{title:i||t},"Branch:",s.createElement(A.default,{to:a||l,target:"_blank"},s.createElement(p.default,{type:"link-primary",className:"api-repo-options-menu__container__meta-info__branch-name"},i||t)))),s.createElement(c.MenuItem,{refKey:"repo",className:"api-repo-options-menu__container__meta-info"},s.createElement("div",{title:o},"Repo:",s.createElement(A.default,{to:r,target:"_blank"},s.createElement(p.default,{type:"link-primary",className:"api-repo-options-menu__container__meta-info__repository-name"},o)))),s.createElement(c.MenuItem,{refKey:"updated-at",className:"api-repo-options-menu__container__meta-info"},"Updated: ",s.createElement("span",{className:this.getLastSyncClasses()}," ",e)),s.createElement("div",{className:"api-repo-options-menu__container__classifier"},s.createElement("div",{className:"api-repo-options-menu__container__classifier__line"})),!1,s.createElement(c.MenuItem,{refKey:L,className:"api-repo-options-menu__container__delete"},s.createElement("div",{className:"api-repo-options-menu__container__delete__content"},s.createElement("div",{className:"api-repo-options-menu__container__delete__content--text"},"Delete Integration"))))),s.createElement(v.default,{model:this.props.model,isOpen:this.props.model.isPullChangesModalOpen,close:this.handleClosePullChanges,promoteTab:this.props.promoteTab}),s.createElement(I.default,{model:this.props.model,isOpen:D.get(this.props.model,"featureBranch.isPullChangesModalOpen"),close:this.handleClosePullFeatureBranchChanges,promoteTab:this.props.promoteTab}),s.createElement(E.default,{model:this.props.model,isOpen:this.props.model.isPushChangesModalOpen,close:this.handleCloseCommitChanges,promoteTab:this.props.promoteTab}),s.createElement(S.default,{model:this.props.model,isOpen:D.get(this.props.model,"featureBranch.isCommitFeatureBranchChangesModalOpen"),close:this.handleCloseCommitFeatureBranchChanges,promoteTab:this.props.promoteTab}),s.createElement(_.default,{model:this.props.model,isOpen:D.get(this.props,"model.isCreateLocalGitModalOpen"),close:this.handleCloseCreateLocalGitModal,promoteTab:this.props.promoteTab}),s.createElement(j.default,{isDeleteIntegrationModalOpen:this.state.isDeleteIntegrationModalOpen,closeDeleteIntegrationModal:this.handleCloseDeleteIntegrationModal,deleteIntegrationHandler:this.unlinkRepoHandler,isDeletingIntegration:this.state.isDeletingIntegration}))}})||o;t.default=(0,m.default)(k)},"./api-dev/components/api-repo-integration/Banners/UsageLimitBanner.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=(n("../../node_modules/mobx/lib/mobx.module.js"),n("../../node_modules/styled-components/dist/styled-components.browser.esm.js")),r=(n("./integrations/git/storage/Manager.ts"),n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"));const l=(0,a.default)(r.default)`
  min-width: 180px;
`;let c=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={storageLimit:80}}render(){const{hideIcon:e}=this.props;return s.createElement(s.Fragment,null,s.createElement(l,{hideIcon:e,title:`You have used up more than ${this.state.storageLimit}% of the available local file storage`,status:"warning"},"We're starting to clear out the locally stored files from the repository's least active branches. Make sure changes in Postman are commited and pushed to your repository to prevent any data loss."))}})||o},"./api-dev/components/api-repo-integration/CommitChangesModal/CommitChangesModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/components/base/Buttons.js"),r=n("./js/components/base/LoadingIndicator.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/SyncStatusStore.js"),d=n("./api-dev/services/APIDevService.js"),u=n("./api-dev/constants/APIRepositoryConstants.js"),p=n("./js/components/base/Tag.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),I=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),E=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),_=n("../../node_modules/@postman/aether/esmLib/src/components/TextArea/TextArea.js"),S=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),C=n("./api-dev/util/error.js"),T=n("./js/modules/services/AnalyticsService.js"),j=(n("./api-dev/configs/APIActionsBlockList.js"),n("./api-dev/services/IntegrationService.js")),A=n("./node_modules/lodash/lodash.js");let w=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={commitMessage:"",isLoading:!1,outgoingChangesToRender:[],isLoadingChanges:!0,isLoadingRepoAhead:!0,isSchemaAdded:!1,schemaFileName:"",isPostmanBehindRepo:!1,isSameSchemaFilePresent:!1,searchingSchemaFile:!1,isSchemaFileNameValidated:!1},this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleCommitMsgChange=this.handleCommitMsgChange.bind(this),this.handleCommitAction=this.handleCommitAction.bind(this),this.handleOpenPull=this.handleOpenPull.bind(this),this.isCommitMessageEmpty=this.isCommitMessageEmpty.bind(this),this.renderSchemaFileNameSelector=this.renderSchemaFileNameSelector.bind(this),this.handleSchemaFileNameChange=this.handleSchemaFileNameChange.bind(this),this.handleSchemaFileNameSearch=this.handleSchemaFileNameSearch.bind(this),this.silentlySearchInRepo=this.silentlySearchInRepo.bind(this),this.debouncedSchemaValidator=A.debounce((()=>{this.silentlySearchInRepo()}),1500)}componentDidMount(){this.props.isOpen&&this.handleOpen()}componentDidUpdate(e){this.props.isOpen&&this.props.isOpen!==e.isOpen&&this.handleOpen()}formatChangesIntoArray(e){const t=[];return A.map(Object.keys(e),(n=>{if(A.includes(u.ALLOWED_ENTITIES_FOR_REPO_SYNC,n))return A.map(Object.keys(e[n]),(o=>A.map(e[n][o],(e=>{let s=n,i=A.find(u.RELATION_TYPES,(t=>e.type===t.id));t.push({fileChange:e,entityChangeType:o,entityType:s,relationType:i})}))))})),t}handleOpen(){const e=A.get(this.props,"model.developmentBranchName");return this.setState({commitMessage:"",isLoading:!1,outgoingChangesToRender:[],isLoadingChanges:!0,isLoadingRepoAhead:!0,isPostmanBehindRepo:!1}),d.default.pullChangesFromRepository(A.get(this.props,"model.apiId"),A.get(this.props,"model.id"),e).then((e=>{A.isFunction(this.props.model.areChangesToBePulled)&&this.props.model.areChangesToBePulled(e)&&this.setState({isPostmanBehindRepo:!0})})).catch((e=>{(0,C.logToNewRelic)(e,"CommitChangesModal","handleOpen")})).finally((()=>{this.setState({isLoadingRepoAhead:!1})})),d.default.fetchChangesToBePushed(A.get(this.props,"model.apiId"),A.get(this.props,"model.id"),e).then((e=>{e=A.isObject(e)?e:{};const t=this.formatChangesIntoArray(e),n=A.find(t,(e=>{const t=A.get(e,"entityType"),n=A.get(e,"entityChangeType");if((0,u.IS_SCHEMA_CREATE)(t,n))return this.schemaName=A.get(e,"fileChange.name"),!0}));this.setState({outgoingChangesToRender:t,isSchemaAdded:n,noChangesToCommit:!t.length})})).catch((e=>{this.handleClose(),(0,C.handleError)(e,void 0,void 0,void 0,{component:"CommitChangesModal",method:"handleOpen"})})).finally((()=>{this.setState({isLoadingChanges:!1})}))}handleClose(){this.props.close()}getCustomStyles(){return{margin:"auto"}}handleCommitMsgChange(e){this.setState({commitMessage:e})}handleCommitAction(){const e=A.get(this.props,"model.developmentBranchName");this.setState({isLoading:!0}),A.isFunction(this.props.promoteTab)&&this.props.promoteTab(),T.default.addEventV2({category:"api_repo_integration",action:"confirm_push",label:e,value:1,entityId:A.get(this.props,"model.id")});const t={commitMessage:this.state.commitMessage};this.state.isSchemaAdded&&(t.schemaFileName=this.state.schemaFileName),d.default.commitAndPushToRepository(A.get(this.props,"model.apiId"),A.get(this.props,"model.id"),t,e).then((e=>{this.setState({isLoading:!1}),A.get(this.props,"model.updateChangesToPushCount")&&A.isFunction(this.props.model.updateChangesToPushCount)&&this.props.model.updateChangesToPushCount(0),A.get(this.props,"model.updateLastCommitId")(A.get(e,"lastCommit.id")),A.get(this.props,"model.updateLastSyncedWithRepoAt")(A.get(e,"lastCommit.syncTimeStamp")),pm.toasts.success("Changes committed to repository.")})).catch((e=>{(0,C.handleError)(e,void 0,void 0,void 0,{component:"CommitChangesModal",method:"handleCommitAction"}),this.setState({isLoading:!1})})).finally((()=>{this.handleClose()}))}renderFileName(e){return A.get(e,"fileChange.name")}renderFilesRow(e){return s.createElement("tr",{className:"commit-changes-modal__content__tables__item commit-changes-modal__content__tables__item--rows"},s.createElement("td",null,s.createElement("div",{className:"commit-changes-modal__content__tables__item--rows__file"},s.createElement("div",{className:"commit-changes-modal__content__tables__item--rows__file--icon"},s.createElement(S.default,{name:u.ICONS_FROM_TYPE[A.get(e,"entityType")],size:"large"})),s.createElement("div",{className:"commit-changes-modal__content__tables__item--rows__file--name"},s.createElement(m.default,{isTruncated:!0},this.renderFileName(e))))),s.createElement("td",null,s.createElement("div",{className:"commit-changes-modal__content__tables__item--rows__tag"},s.createElement(p.default,{key:A.get(e,"fileChange.name"),tagName:A.get(u.USER_FRIENDLY_CHANGE_TYPE,`[${e.entityChangeType}].name`),type:A.get(u.TAG_TYPE_FROM_CHANGE_TYPE,`[${e.entityChangeType}]`)}))))}handleOpenPull(){this.handleClose(),this.props.model.setIsPullChangesModalOpen(!0)}handleSchemaFileNameChange(e){this.setState({schemaFileName:e.target.value,isSchemaFileNameValidated:!1})}renderOutgoingChanges(){if(this.state.noChangesToCommit)return s.createElement("div",{className:"no-changes-to-commit"},s.createElement(h.default,null),s.createElement("div",{className:"no-changes-to-commit__text"},s.createElement(m.default,{color:"content-color-secondary",type:"body-medium"},"No new changes to commit to repository")));const e=!(0,l.resolveStoreInstance)(c.default).isSocketConnected;return s.createElement(s.Fragment,null,this.state.isPostmanBehindRepo&&s.createElement(g.default,{padding:{paddingBottom:"spacing-l"}},s.createElement(f.default,{title:"Pull changes first",type:"local",status:"error",primaryAction:s.createElement(b.default,{onClick:this.handleOpenPull,tooltip:e&&"Get online to perform this action",isDisabled:e,type:"outline",text:"Pull changes"})},"There are some changes yet to be pulled. Pull them first before pushing changes.")),s.createElement("div",{className:"commit-changes-modal__content__tables","data-testid":"commit-changes-modal__content__tables"},s.createElement("table",null,s.createElement("thead",null,s.createElement("tr",{className:"commit-changes-modal__content__tables__item commit-changes-modal__content__tables__item--header"},s.createElement("td",null,s.createElement("th",null,"File")),s.createElement("td",null,s.createElement("th",null,"Status")))),s.createElement("tbody",null,A.map(this.state.outgoingChangesToRender,(e=>this.renderFilesRow(e)))))))}async silentlySearchInRepo(){if(A.isEmpty(this.state.schemaFileName))return;this.setState({searchingSchemaFile:!0});const e=this.state.schemaFileName,t=A.get(this.props,"model.developmentBranchName"),n=A.get(this.props,"model.id"),o=A.get(this.props,"model.schema.language");try{const s=await j.default.getFiles(n,t),i=A.map(A.get(s,"schemas.files",[]),(e=>e.name));A.includes(i,`${e}.${o}`)&&this.setState({isSameSchemaFilePresent:!0})}catch(e){(0,C.logToNewRelic)(e,"CommitChangesModal","silentlySearchInRepo")}finally{this.setState({isSchemaFileNameValidated:!0,searchingSchemaFile:!1})}}handleSchemaFileNameSearch(){return this.setState({isSameSchemaFilePresent:!1}),this.debouncedSchemaValidator()}renderSchemaFileNameSelector(){return this.state.isSchemaAdded?s.createElement(g.default,{direction:"row",alignItems:"end"},s.createElement("div",{className:"commit-changes-modal__content__schema-file","data-testid":"commit-changes-modal__content__schema-file"},s.createElement(y.default,{placeholder:"e.g. Inventory",value:this.state.schemaFileName,onChange:this.handleSchemaFileNameChange,label:s.createElement(v.default,{text:`Rename ${this.schemaName} file`}),helperText:"Enter the new filename without an extension. You wont be asked to rename the schema file again.",onKeyDown:this.handleSchemaFileNameSearch,validationStatus:this.state.isSameSchemaFilePresent&&"warning",validationMessage:this.state.isSameSchemaFilePresent&&"Filename already exists. This will overwrite the existing file."})),this.state.searchingSchemaFile&&s.createElement("div",{className:"commit-changes-modal__content__spinner"},s.createElement(I.default,null))):null}isCommitMessageEmpty(){return!A.trim(this.state.commitMessage)}getCommitTooltip(){return!(0,l.resolveStoreInstance)(c.default).isSocketConnected?"Get online to perform this action":this.state.noChangesToCommit?"No changes to commit to repository":this.state.isPostmanBehindRepo?"Pull Changes first to commit changes":this.isCommitMessageEmpty()?"Please enter a commit message":void 0}renderFooterButtons(){const e=!(0,l.resolveStoreInstance)(c.default).isSocketConnected,t=!this.state.isSchemaAdded||!A.isEmpty(this.state.schemaFileName)&&this.state.isSchemaFileNameValidated,n=e||this.isCommitMessageEmpty()||this.state.noChangesToCommit||this.state.isPostmanBehindRepo||!t;return this.state.isLoading?s.createElement(a.Button,{className:"commit-changes-modal__footer__button commit-changes-modal__footer__add-button",type:"primary"},s.createElement(r.default,null)):s.createElement(b.default,{className:"commit-changes-modal__footer__button commit-changes-modal__footer__add-button",type:"primary",onClick:this.handleCommitAction,isDisabled:n,tooltip:this.getCommitTooltip(),text:"Commit and Push Changes"})}renderFooter(){const e=this.state.isLoadingChanges||this.state.isLoadingRepoAhead;if(!this.state.noChangesToCommit||e)return s.createElement(E.ModalFooter,{className:"commit-changes-modal__footer"},s.createElement(g.default,{grow:1,shrink:1,justifyContent:"flex-end"},s.createElement("div",{className:"commit-changes-modal__footer__buttons"},s.createElement(b.default,{className:"commit-changes-modal__footer__button commit-changes-modal__footer__cancel-button",type:"secondary",onClick:this.handleClose,text:"Cancel"}),this.renderFooterButtons())))}render(){const e=A.get(this.props,"model.developmentBranchName"),t=this.state.isLoadingChanges||this.state.isLoadingRepoAhead;return s.createElement(E.Modal,{className:"commit-changes-modal",isOpen:this.props.isOpen,onClose:this.handleClose,customStyles:this.getCustomStyles()},s.createElement(E.ModalHeader,{heading:`Commit and push changes to ${e}`,className:"commit-changes-modal__header"}),s.createElement(E.ModalContent,{className:"commit-changes-modal-content"},s.createElement("div",{className:"commit-changes-modal__content"},t?s.createElement(r.default,null):s.createElement(s.Fragment,null,this.renderOutgoingChanges(),this.renderSchemaFileNameSelector(),!this.state.noChangesToCommit&&s.createElement("div",{className:"commit-changes-modal__content__text"},s.createElement(_.default,{placeholder:"Enter commit message",value:this.state.commitMessage,label:s.createElement(v.default,{text:"Commit message:"}),isResizable:!1,onChange:e=>this.handleCommitMsgChange(e.target.value)}))))),this.renderFooter())}})||o},"./api-dev/components/api-repo-integration/CommitFeatureBranchChangesModal/CommitFeatureBranchChangesModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/components/base/Buttons.js"),r=n("./js/components/base/LoadingIndicator.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/SyncStatusStore.js"),d=(n("./api-dev/services/APIDevService.js"),n("./api-dev/constants/APIRepositoryConstants.js")),u=n("./js/components/base/Tag.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/TextArea/TextArea.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),v=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),I=n("./api-dev/util/error.js"),E=n("./node_modules/lodash/lodash.js");let _=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={commitMessage:"",isLoading:!1,outgoingChangesToRender:[],isLoadingChanges:!0,isPostmanBehindRepo:!1},this.handleOpen=this.handleOpen.bind(this),this.handleClose=this.handleClose.bind(this),this.handleCommitMsgChange=this.handleCommitMsgChange.bind(this),this.handleCommitAction=this.handleCommitAction.bind(this),this.handleOpenPull=this.handleOpenPull.bind(this),this.isCommitMessageEmpty=this.isCommitMessageEmpty.bind(this)}componentDidMount(){this.props.isOpen&&this.handleOpen()}componentDidUpdate(e){this.props.isOpen&&this.props.isOpen!==e.isOpen&&this.handleOpen()}handleOpen(){this.setState({commitMessage:"",isLoading:!1,outgoingChangesToRender:[],isLoadingChanges:!0,isPostmanBehindRepo:!1}),this.props.model.featureBranch.getChangesToBePushed().then((({changesToBePushed:e,isPostmanBehindRepo:t})=>{this.setState({isPostmanBehindRepo:t,outgoingChangesToRender:e,noChangesToCommit:!e.length})})).catch((e=>{this.handleClose(),(0,I.handleError)(e,void 0,void 0,void 0,{component:"CommitFeatureBranchChangesModal",method:"handleOpen"})})).finally((()=>{this.setState({isLoadingChanges:!1})}))}handleClose(){this.props.close()}getCustomStyles(){return{margin:"auto"}}handleCommitMsgChange(e){this.setState({commitMessage:e})}handleCommitAction(){this.setState({isLoading:!0}),E.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.featureBranch.pushToBranch(this.state.outgoingChangesToRender,this.state.commitMessage).then((e=>{this.setState({isLoading:!1}),pm.toasts.success("Changes committed to repository.")})).catch((e=>{(0,I.handleError)(e,void 0,void 0,void 0,{component:"CommitFeatureBranchChangesModal",method:"handleCommitAction"}),this.setState({isLoading:!1})})).finally((()=>{this.handleClose()}))}renderFileName(e){return"schemas"===E.get(e,"entityType")?"API Schema":E.get(e,"name")}renderFilesRow(e){return s.createElement("tr",{className:"commit-changes-modal__content__tables__item commit-changes-modal__content__tables__item--rows"},s.createElement("td",null,s.createElement("div",{className:"commit-changes-modal__content__tables__item--rows__file"},s.createElement("div",{className:"commit-changes-modal__content__tables__item--rows__file--icon"},s.createElement(v.default,{name:d.ICONS_FROM_TYPE[E.get(e,"entityType")],size:"large"})),s.createElement("div",{className:"commit-changes-modal__content__tables__item--rows__file--name"},s.createElement(p.default,{isTruncated:!0},this.renderFileName(e))))),s.createElement("td",null,s.createElement("div",{className:"commit-changes-modal__content__tables__item--rows__tag"},s.createElement(u.default,{key:E.get(e,"name"),tagName:E.get(d.USER_FRIENDLY_CHANGE_TYPE,`[${e.changeType}].name`),type:E.get(d.TAG_TYPE_FROM_CHANGE_TYPE,`[${e.changeType}]`)}))))}handleOpenPull(){this.handleClose(),this.props.model.featureBranch.setIsPullChangesModalOpen(!0)}renderOutgoingChanges(){if(this.state.noChangesToCommit)return s.createElement("div",{className:"no-changes-to-commit"},s.createElement(m.default,null),s.createElement("div",{className:"no-changes-to-commit__text"},s.createElement(p.default,{color:"content-color-secondary",type:"body-medium"},"No new changes to commit to repository")));const e=!(0,l.resolveStoreInstance)(c.default).isSocketConnected;return s.createElement(s.Fragment,null,this.state.isPostmanBehindRepo&&s.createElement("div",{className:"commit-changes-modal__content__postman-behind-repo"},s.createElement("div",null,s.createElement(v.default,{name:"icon-state-error-stroke",size:"large"})),s.createElement("div",null,s.createElement("div",{className:"commit-changes-modal__content__postman-behind-repo__content"},s.createElement("div",{className:"commit-changes-modal__content__postman-behind-repo__content__label"},"Pull changes first"),s.createElement("div",{className:"commit-changes-modal__content__postman-behind-repo__content__text"},"There are some changes yet to be pulled. Pull them first before pushing changes."),s.createElement("div",null,s.createElement(h.default,{className:"commit-changes-modal__content__postman-behind-repo__content__pull-button",type:"tertiary",onClick:this.handleOpenPull,isDisabled:e,tooltip:e&&"Get online to perform this action",size:"small",text:"Pull changes"}))))),s.createElement("div",{className:"commit-changes-modal__content__tables"},s.createElement("table",null,s.createElement("thead",null,s.createElement("tr",{className:"commit-changes-modal__content__tables__item commit-changes-modal__content__tables__item--header"},s.createElement("td",null,s.createElement("th",null,"File")),s.createElement("td",null,s.createElement("th",null,"Status")))),s.createElement("tbody",null,E.map(this.state.outgoingChangesToRender,(e=>this.renderFilesRow(e)))))))}isCommitMessageEmpty(){return!E.trim(this.state.commitMessage)}getCommitTooltip(){return!(0,l.resolveStoreInstance)(c.default).isSocketConnected?"Get online to perform this action":this.state.noChangesToCommit?"No changes to commit to repository":this.state.isPostmanBehindRepo?"Pull Changes first to commit changes":this.isCommitMessageEmpty()?"Please enter a commit message":void 0}renderFooterButtons(){const e=!(0,l.resolveStoreInstance)(c.default).isSocketConnected||this.isCommitMessageEmpty()||this.state.noChangesToCommit||this.state.isPostmanBehindRepo;return this.state.isLoading?s.createElement(a.Button,{className:"commit-changes-modal__footer__button commit-changes-modal__footer__add-button",type:"primary"},s.createElement(r.default,null)):s.createElement(h.default,{className:"commit-changes-modal__footer__button commit-changes-modal__footer__add-button",type:"primary",onClick:this.handleCommitAction,isDisabled:e,tooltip:this.getCommitTooltip(),text:"Commit and Push Changes"})}renderFooter(){const e=this.state.isLoadingChanges;if(!this.state.noChangesToCommit||e)return s.createElement(g.ModalFooter,{className:"commit-changes-modal__footer"},s.createElement(f.default,{grow:1,shrink:1,justifyContent:"flex-end"},s.createElement("div",{className:"commit-changes-modal__footer__buttons"},s.createElement(h.default,{className:"commit-changes-modal__footer__button commit-changes-modal__footer__cancel-button",type:"secondary",onClick:this.handleClose,text:"Cancel"}),this.renderFooterButtons())))}render(){const e=E.get(this.props.model,"featureBranch.branchName"),t=this.state.isLoadingChanges;return s.createElement(g.Modal,{className:"commit-changes-modal",isOpen:this.props.isOpen,onClose:this.handleClose,customStyles:this.getCustomStyles()},s.createElement(g.ModalHeader,{heading:`Commit and push changes to ${e}`,className:"commit-changes-modal__header"}),s.createElement(g.ModalContent,{className:"commit-changes-modal-content"},s.createElement("div",{className:"commit-changes-modal__content"},t?s.createElement(r.default,null):s.createElement(s.Fragment,null,this.renderOutgoingChanges(),!this.state.noChangesToCommit&&s.createElement(b.default,{placeholder:"Enter commit message",value:this.state.commitMessage,label:s.createElement(y.default,{text:"Commit message:"}),isResizable:!1,onChange:e=>this.handleCommitMsgChange(e.target.value)})))),this.renderFooter())}})||o},"./api-dev/components/api-repo-integration/ConnectToRepositoryTab/ConnectToRepoTabStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,s,i,a,r=n("./api-dev/services/APIDevService.js"),l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./api-dev/services/IntegrationService.js"),d=n("./api-dev/constants/APIRepositoryConstants.js"),u=n("../../packages/api-design/schema-service/index.js"),p=n("./node_modules/lodash/lodash.js");function m(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function h(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let g=(s=h((o=class{constructor(e){m(this,"apiName",s,this),m(this,"versions",i,this),m(this,"isStoreHydrated",a,this),this.getAPIRepoLinkInfo(e)}setAPIName(e){this.apiName=e.name}setVersions(e){this.versions=e}updateVersion(e,t){this.versions.splice(e,1,t)}setVersionConnectedStatus(e,t){const n=p.findIndex(this.versions,["id",t.id]),o=p.get(e,"repository.info"),s=p.get(o,"owner.name"),i=p(e).pick(["id","userConfig"]).merge({repository:o}).value();t.repoLinkId=p.get(i,"id",null),t.repositoryOrg=s,t.developmentBranchName=p.get(i,`userConfig.branches.${d.DEVELOP_BRANCH_NAME}`,null),t.repositoryName=p.get(i,"repository.name",null),t.repositoryId=p.get(o,"id"),t.repositoryServiceProvider=p.get(e,"repository.service"),t.repositoryIntegrationState=p.get(e,"state"),this.updateVersion(n,t)}setVersionErrorStatus(e,t){if("apiRepositoryNotFoundError"===p.get(e,"error.name"))return;t.repoLinkId="ERROR";const n=p.findIndex(this.versions,["id",t.id]);this.updateVersion(n,t)}async fetchVersionIntegrationDetails(e){try{const t=await c.default.getAPIRepoLinkInfo(e.id);this.setVersionConnectedStatus(t,e)}catch(t){this.setVersionErrorStatus(t,e)}}async fetchAPIIntegrationDetails(){return this.isFetchingAPIRepoLinkInfo=!0,p.map(this.versions,(e=>this.fetchVersionIntegrationDetails(e)))}async fetchAPIVersionsSchemaTypes(){try{return p.map(this.versions,(async e=>{const t=p.head(p.get(e,"relations.schema",[]));if(!t)return;const n=await(0,u.getSchema)(t);e.schemaType=n.type}))}catch(e){pm.logger.error("ConnectToRepoTabStore~fetchAPIVersionsSchemaTypes",e)}}setStoreHydrated(){this.isFetchingAPIRepoLinkInfo=!1,this.isStoreHydrated=!0}async getAPIRepoLinkInfo(e){this.isFetchingAPIRepoLinkInfo=!0;const t=await r.default.getAPI(e),n=await r.default.getVersions(e,["createdBy","relations"]);this.setAPIName(t),this.setVersions(n),await this.fetchAPIIntegrationDetails(),await this.fetchAPIVersionsSchemaTypes(),this.setStoreHydrated()}}).prototype,"apiName",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=h(o.prototype,"versions",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=h(o.prototype,"isStoreHydrated",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h(o.prototype,"setAPIName",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"setAPIName"),o.prototype),h(o.prototype,"setVersions",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"setVersions"),o.prototype),h(o.prototype,"updateVersion",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"updateVersion"),o.prototype),h(o.prototype,"setVersionConnectedStatus",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"setVersionConnectedStatus"),o.prototype),h(o.prototype,"setVersionErrorStatus",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"setVersionErrorStatus"),o.prototype),h(o.prototype,"fetchVersionIntegrationDetails",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchVersionIntegrationDetails"),o.prototype),h(o.prototype,"fetchAPIIntegrationDetails",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchAPIIntegrationDetails"),o.prototype),h(o.prototype,"fetchAPIVersionsSchemaTypes",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchAPIVersionsSchemaTypes"),o.prototype),h(o.prototype,"setStoreHydrated",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"setStoreHydrated"),o.prototype),h(o.prototype,"getAPIRepoLinkInfo",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"getAPIRepoLinkInfo"),o.prototype),o)},"./api-dev/components/api-repo-integration/ConnectToRepositoryTab/ConnectToRepositoryTabController.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y=n("../../node_modules/mobx/lib/mobx.module.js"),v=n("./appsdk/workbench/BaseWorkbenchController.js"),I=n("./js/services/NavigationService.js"),E=n("./collaboration/navigation/constants.js"),_=n("./api-dev/services/APIDevService.js"),S=n("./integrations/services/OAuthService.js"),C=n("./appsdk/workbench/TabService.js"),T=n("./api-dev/navigation/constants.js"),j=n("./api-dev/constants/APIRepositoryConstants.js"),A=n("./api-dev/components/api-repo-integration/ConnectToRepositoryTab/ConnectToRepoTabStore.js"),w=n("./api-dev/services/IntegrationService.js"),O=n("./integrations/services/AuthenticationInstanceService.ts"),N=n("./integrations/git/services/OnPrem/OnPremTokenService.ts"),D=n("./integrations/git/services/OnPrem/OnPremRemoteGitService.js"),R=n("./integrations/git/services/OnPrem/helpers.ts"),P=n("./api-dev/util/navigationHelper.js"),M=n("./js/stores/StoreManager.js"),L=n("./js/stores/CurrentUserStore.js"),x=n("./node_modules/moment/moment.js"),k=n.n(x),F=n("./onboarding/src/common/LaunchDarkly.js"),V=n("./integrations/git/constants.js"),B=n("./node_modules/lodash/lodash.js");function U(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function z(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let H=(o=class extends v.default{constructor(){super(),this.apiId=null,this.service=null,this.canCreateDesktopOnPrem=null,this.userScopeSharedAuthEnabled=F.launchDarkly.getFlag(V.SHARED_AUTH_FLAG,!1),U(this,"versionId",s,this),U(this,"authorizingStatus",i,this),U(this,"isAccessTokenValid",a,this),U(this,"accessTokenValidationInProgress",r,this),U(this,"tokenId",l,this),U(this,"sessionId",c,this),U(this,"connectRepoStatus",d,this),U(this,"enterpriseUrl",u,this),U(this,"personalAccessToken",p,this),U(this,"authSource",m,this),U(this,"availableTokens",h,this),U(this,"loadingAvailableTokens",g,this),U(this,"orgData",f,this),U(this,"authenticationInstances",b,this),this.closeTab=this.closeTab.bind(this),this.handleAuthorization=this.handleAuthorization.bind(this),this.handleSharedAuthAuthorization=this.handleSharedAuthAuthorization.bind(this),this.connectToRepo=this.connectToRepo.bind(this)}async didCreate({routeParams:e,queryParams:t,additionalContext:n={}}){this.versionId=B.get(t,"version"),this.service=B.get(e,"gitService","github"),this.apiId=B.get(e,"apiId"),this.model=new A.default(this.apiId);const o=B.get(j.GIT_SERVICES_LIST,[this.service.toUpperCase(),"serviceName"]);if(this.canCreateDesktopOnPrem=D.default.isIntegrationCreationEnabled(o),B.get(n,"tokenId")){let{tokenId:e,customDomain:t}=n;this.updateTokenId(e),this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.FINISHED),this.updateStatus("accessTokenValidation",j.ACCESS_TOKEN_VALIDATION_STATUS.VALID),t&&this.updateEnterpriseUrl(t)}if(this.canCreateDesktopOnPrem){let e;this.updateLoadingAvailableTokens(!0);try{e=await D.default.getValidTokens({service:o})}catch(e){return void("serverUnreachableError"!==B.get(e,"error.name")&&"timeoutError"!==B.get(e,"error.name")||this.updateStatus("accessTokenValidation",j.ACCESS_TOKEN_VALIDATION_STATUS.SERVER_UNREACHABLE))}B.isEmpty(e)||this.updateAvailableTokens(e),this.updateLoadingAvailableTokens(!1)}}get authenticatedOrgs(){return this.orgData}updateStatus(e,t){switch(e){case"auth":this.authorizingStatus=t;break;case"connectRepo":this.connectRepoStatus=t;break;case"accessTokenValidation":this.isAccessTokenValid=t;break;case"accessTokenValidationInProgress":this.accessTokenValidationInProgress=t;break;case"source":this.authSource=t}}updateTokenId(e){this.tokenId=e}updateSessionId(e){this.sessionId=e}updateEnterpriseUrl(e){this.enterpriseUrl=e}updatePersonalAccessToken(e){this.personalAccessToken=e}updateVersionId(e){this.versionId=e}updateAvailableTokens(e){this.availableTokens=e}updateLoadingAvailableTokens(e){this.loadingAvailableTokens=e}closeTab(){C.default.closeByRoute(T.CONNECT_API_TO_REPOSITORY_URL,this.getRouteParams()),setTimeout((()=>{(0,P.transitionToAPI)({apiId:this.apiId})}),0)}handleOrgSelect(e){B.each(this.authenticationInstances,(t=>{const n=B.get(t,["data","accounts"],[]);B.find(n,e)&&this.updateTokenId(t.id)}))}async populateAuthInstanceData(e){const{body:t}=await O.default.getAuthenticationInstance(e),n=B.get(t,"data"),o=B.get(n,["data","accounts"],[]);this.authenticationInstances=B.concat([],[n],this.authenticationInstances),this.orgData=B.unionBy(this.orgData,o,"id")}pollForToken(){let e=0,t=this.sessionId;if(!t)return void pm.logger.warn("ConnectToRepoTab~pollForToken: sessionId is required.");const n=async(o,s)=>{if(e++,!this.sessionId)return s("SessionId not found");S.default.getSession(t).then((async t=>{let i=B.get(t,"body",{});if(i.tokenId){if(i.error)return this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.ERROR),pm.logger.warn("ConnectToRepoTab: Error while getting a session for the user",i.error),s(new Error("Error while getting a session for the user"));i.tokenId&&(this.updateTokenId(i.tokenId),this.userScopeSharedAuthEnabled&&await this.populateAuthInstanceData(i.authenticationInstance),this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.FINISHED),this.updateStatus("source",j.AUTH_SOURCE_IDENTIFIER.OAUTH))}else{if(30===e)return this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.ERROR),s(new Error("Exceeded max attempts"));setTimeout(n,2e3,o,s)}})).catch((e=>(this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.ERROR),e&&e.error?(pm.logger.warn("ConnectToRepoTab: Error while getting a session for the user"),s(e.error)):s(e))))};return new Promise(n)}handleAuthorizationError(e){let t=B.get(e,"details.message")||B.get(e,"message")||"Something went wrong while authorizing. This could be due to popup blockers on your browser.",n=B.get(e,"title");if(e&&"invalidParamsError"===e.name){const n=B.get(e,"details.param");n&&(t=`The "${n}" parameter is in an invalid format`)}pm.toasts.error(t,{noIcon:!0,title:n})}handleOAuthAuthorization(){this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.LOADING);const e=B.get(j.GIT_SERVICES_LIST,[this.service.toUpperCase(),"oauthConfigs"]),t=B.get(e,"service"),n=B.get(e,"tokenType");S.default.initiateAuthorization(t,{tokenType:n}).then((e=>{let n,o=e.body;if(200===e.status)return n=`${window.postman_integrations_public_url}/oauth/authorize/${t}?sessionId=${o.sessionId}`,I.default.openURL(n,{target:"_blank"}),this.updateSessionId(o.sessionId),this.pollForToken();this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.ERROR),pm.logger.warn("ConnectToRepoTab~handleAuthorization: Something went wrong while opening authorization")})).catch((e=>{const t=B.get(e,"error",{});this.handleAuthorizationError(t),this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.ERROR),pm.logger.warn("ConnectToRepoTab~handleAuthorization: Something went wrong while opening authorization",e)}))}handleSharedAuthAuthorization(){this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.LOADING);const e=(0,M.resolveStoreInstance)(L.default),t=B.get(j.GIT_SERVICES_LIST,[this.service.toUpperCase(),"oauthConfigs"]),n=B.get(t,"service");return this.userScopeSharedAuthEnabled?O.default.listAuthenticationInstances({scope:[{type:"user",id:e.id}],authenticationClass:[n]}).then((({body:e})=>{let t=B.get(e,"data");if(B.isEmpty(t))return this.handleOAuthAuthorization();t=t.sort(((e,t)=>{const n=new(k())(e.updatedAt);return new(k())(t.updatedAt).diff(n)})),this.authenticationInstances=t,B.each(t,(e=>{const t=B.get(e,["data","accounts"],[]);this.orgData=B.unionBy(this.orgData,t,"id")})),this.updateTokenId(t[0].id),this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.FINISHED),this.updateStatus("accessTokenValidation",j.ACCESS_TOKEN_VALIDATION_STATUS.VALID),this.updateStatus("source",j.AUTH_SOURCE_IDENTIFIER.SHARED_AUTH)})).catch((e=>{const t=B.get(e,"error",{});this.handleAuthorizationError(t),this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.ERROR),pm.logger.warn("ConnectToRepoTab~handleSharedAuthAuthorization: Something went wrong while initiating authorization",e)})):O.default.listAuthenticationInstancesOnApi(this.apiId).then((({body:e})=>{const t=B.get(e,"data"),n=B.find(t,["service",this.service]);if(B.isEmpty(t)||B.isNil(n))return this.handleOAuthAuthorization();this.updateTokenId(n.id),this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.FINISHED),this.updateStatus("accessTokenValidation",j.ACCESS_TOKEN_VALIDATION_STATUS.VALID),this.updateStatus("source",j.AUTH_SOURCE_IDENTIFIER.SHARED_AUTH)})).catch((e=>{const t=B.get(e,"error",{});this.handleAuthorizationError(t),this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.ERROR),pm.logger.warn("ConnectToRepoTab~handleSharedAuthAuthorization: Something went wrong while initiating authorization",e)}))}handleEnterpriseAuth(e){this.updateStatus("accessTokenValidationInProgress",!0);const t=B.get(j.GIT_SERVICES_LIST,[this.service.toUpperCase(),"serviceName"]),n=()=>{this.updateStatus("accessTokenValidation",j.ACCESS_TOKEN_VALIDATION_STATUS.VALID),this.updateStatus("accessTokenValidationInProgress",!1),this.updateStatus("auth",j.TAB_STATUS_IDENTIFIER.FINISHED),this.updateStatus("source",j.AUTH_SOURCE_IDENTIFIER.PERSONAL_ACCESS_TOKEN)},o=e=>{"serverUnreachableError"===B.get(e,"error.name")?this.updateStatus("accessTokenValidation",j.ACCESS_TOKEN_VALIDATION_STATUS.SERVER_UNREACHABLE):this.updateStatus("accessTokenValidation",j.ACCESS_TOKEN_VALIDATION_STATUS.INVALID),this.updateStatus("accessTokenValidationInProgress",!1)};if(this.canCreateDesktopOnPrem){const s={service:t,accessToken:e,customDomain:(0,R.getBaseEnterpriseURL)(this.enterpriseUrl,t)};D.default.isAuthValid(s).then((e=>{if(e){const e=N.default.createToken(s,{silent:!0});this.updateTokenId(e.id),n()}else o()})).catch(o)}else S.default.createToken({service:t,accessToken:e,customDomain:this.enterpriseUrl}).then((e=>{const t=B.get(e,"id");t||this.handleAuthorizationError(),this.updateTokenId(t),w.default.getUserDetails(t,this.enterpriseUrl).then((()=>{n()})).catch((()=>{o()}))})).catch((e=>{const t=B.get(e,"error",{});this.handleAuthorizationError(t),this.updateStatus("accessTokenValidationInProgress",!1),pm.logger.warn("ConnectToRepoTab~handleEnterpriseAuth: Something went wrong calling integration",e)}))}handleAuthorization(e=!1){if(this.authorizingStatus!==j.TAB_STATUS_IDENTIFIER.FINISHED)return this.personalAccessToken?this.handleEnterpriseAuth(this.personalAccessToken):e?this.handleSharedAuthAuthorization():void this.handleOAuthAuthorization()}handleError(e,t){let n,o=B.get(e,"error.details.message")||B.get(e,"error.message")||t,s=B.get(e,"error.title"),i=B.get(e,"error.type");if("Socket Disconnected"!==i&&"Request Timeout"!==i||(s="Something went wrong",o="Unable to complete this action. Please try again."),403===B.get(e,"status")&&"forbiddenError"===B.get(e,"error.name")){let e="api",t=B.get(this,"_routeParams.apiId");n={label:"Request Access",onClick:()=>I.default.transitionTo(E.ACCESS_REQUEST_CREATE_BUILD_IDENTIFIER,null,{entityType:e,entityId:t,type:"grant_role",entityName:this.name})}}pm.toasts.error(o,{noIcon:!0,title:s,primaryAction:n})}connectToRepo(e){let{apiId:t}=this._routeParams||{};return this.updateStatus("connectRepo",j.TAB_STATUS_IDENTIFIER.LOADING),_.default.connectRepository({apiId:t,tokenId:this.tokenId,...e}).then((n=>{this.updateStatus("connectRepo",j.TAB_STATUS_IDENTIFIER.FINISHED);const o=B(n).pick(n,["id","userConfig"]).merge({repository:e.repository,service:e.service}).value();return pm.windowEvents.emit(`api-connected-to-repo-${t}`,{apiRepoLinkInformation:o,apiVersion:e.apiVersionId}),Promise.resolve()})).catch((e=>(this.updateStatus("connectRepo",j.TAB_STATUS_IDENTIFIER.ERROR),this.handleError(e,"Failed to connect to repository"),Promise.reject(e))))}didQueryParamsChange(e={}){this.updateVersionId(e.version)}},s=z(o.prototype,"versionId",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=z(o.prototype,"authorizingStatus",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=z(o.prototype,"isAccessTokenValid",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),r=z(o.prototype,"accessTokenValidationInProgress",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=z(o.prototype,"tokenId",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=z(o.prototype,"sessionId",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=z(o.prototype,"connectRepoStatus",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=z(o.prototype,"enterpriseUrl",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=z(o.prototype,"personalAccessToken",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=z(o.prototype,"authSource",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=z(o.prototype,"availableTokens",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=z(o.prototype,"loadingAvailableTokens",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=z(o.prototype,"orgData",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=z(o.prototype,"authenticationInstances",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z(o.prototype,"authenticatedOrgs",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"authenticatedOrgs"),o.prototype),z(o.prototype,"updateStatus",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateStatus"),o.prototype),z(o.prototype,"updateTokenId",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateTokenId"),o.prototype),z(o.prototype,"updateSessionId",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateSessionId"),o.prototype),z(o.prototype,"updateEnterpriseUrl",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateEnterpriseUrl"),o.prototype),z(o.prototype,"updatePersonalAccessToken",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updatePersonalAccessToken"),o.prototype),z(o.prototype,"updateVersionId",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateVersionId"),o.prototype),z(o.prototype,"updateAvailableTokens",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateAvailableTokens"),o.prototype),z(o.prototype,"updateLoadingAvailableTokens",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingAvailableTokens"),o.prototype),o)},"./api-dev/components/api-repo-integration/ConnectToRepositoryTab/ConnectToRepositoryTabView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),l=n("./api-dev/constants/APIRepositoryConstants.js"),c=n("./api-dev/components/api-repo-integration/APIRepoIntegrationConfigurationView/APIRepoIntegrationConfigurationView.js"),d=n("./api-dev/components/api-repo-integration/APIEnterpriseRepoConfigurationView/APIEnterpriseRepoConfigurationView.js"),u=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),p=n("./js/stores/StoreManager.js"),m=n("./api-dev/stores/APIListStore.js"),h=n("./api-dev/components/api-repo-integration/OAuthLoadingView/OAuthLoadingView.js"),g=n("./api-dev/components/api-repo-integration/APIRepoIntegrationConfigurationEnterpriseView/APIRepoIntegrationConfigurationEnterpriseView.js"),f=n("./node_modules/lodash/lodash.js");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b.apply(this,arguments)}let y=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.setEnterpriseUrl=this.setEnterpriseUrl.bind(this),this.setPersonalAccessToken=this.setPersonalAccessToken.bind(this),this.handleAuthorization=this.handleAuthorization.bind(this),this.retryHandler=this.retryHandler.bind(this),this.resetControllerStatus=this.resetControllerStatus.bind(this)}componentDidMount(){const e=this.props.controller.service;e!==l.GIT_SERVICES_LIST.GITHUBENTERPRISE.maskedServiceName&&e!==l.GIT_SERVICES_LIST.GITLABENTERPRISE.maskedServiceName&&e!==l.GIT_SERVICES_LIST.AZUREENTERPRISE.maskedServiceName&&this.props.controller.handleAuthorization(!0)}getVersionModel(){const e=(0,p.resolveStoreInstance)(m.default).values;for(const t of e){const e=f.get(t,"childEntities")&&t.childEntities.find(this.props.controller.versionId);if(e)return e}}setEnterpriseUrl(e){this.props.controller.updateEnterpriseUrl(e)}setPersonalAccessToken(e){this.props.controller.updatePersonalAccessToken(e)}handleAuthorization(){this.props.controller.handleAuthorization()}retryHandler(){this.props.controller.service!==l.GIT_SERVICES_LIST.GITHUBENTERPRISE.maskedServiceName?this.handleAuthorization():this.resetControllerStatus()}resetControllerStatus(){this.props.controller.updateStatus("auth",null)}reauthenticateHandler(){this.resetControllerStatus(),this.retryHandler()}render(){const e=this.props.controller.service,t=e.toUpperCase(),n=f.get(l.GIT_SERVICES_LIST,[t,"serviceName"]),o=f.get(l.GIT_SERVICES_LIST,[t,"friendlyName"]),i=f.get(l.GIT_SERVICES_LIST,[t,"requiredScopes"]),p=this.props.controller.closeTab;if(this.props.controller.authorizingStatus===l.TAB_STATUS_IDENTIFIER.ERROR)return s.createElement("div",{className:"connect-repo-tab","data-testId":"connect-repo-tab-error"},s.createElement(u.default,{blankState:s.createElement(a.default,null),title:`${o} authorization failed`,description:"Please try again.",handler:this.retryHandler,buttonText:"Try Again",buttonType:"outline"}));const m=this.getVersionModel();if(null==m||!m.isLoaded)return s.createElement("div",{className:"connect-repo-tab","data-testId":"connect-repo-tab-loading"},s.createElement("div",{className:"api-repository-connecting"},s.createElement(r.default,null)));if(this.props.controller.authorizingStatus===l.TAB_STATUS_IDENTIFIER.LOADING)return s.createElement(h.default,{serviceName:n,serviceFriendlyName:o,handleOnClose:p});if(e===l.GIT_SERVICES_LIST.GITHUBENTERPRISE.maskedServiceName||e===l.GIT_SERVICES_LIST.GITLABENTERPRISE.maskedServiceName||e===l.GIT_SERVICES_LIST.AZUREENTERPRISE.maskedServiceName){if(!1)return s.createElement("div",{className:"connect-repo-tab","data-testId":"connect-repo-tab-finished"},s.createElement(d.default,{tokenId:this.props.controller.tokenId,apiId:this.props.controller.apiId,versionId:this.props.controller.versionId,connectRepoStatus:this.props.controller.connectRepoStatus,serviceName:n,maskedServiceName:e,closeconfiguration:p,connectToRepo:this.props.controller.connectToRepo,model:this.props.controller.model,goBackToPreAuthStateHandler:this.resetControllerStatus,enterpriseUrl:this.props.controller.enterpriseUrl,versionModel:m,reauthenticateHandler:()=>{this.reauthenticateHandler()},authSource:this.props.controller.authSource}));{const e=f.pick(this.props.controller,["enterpriseUrl","isAccessTokenValid","accessTokenValidationInProgress","availableTokens","loadingAvailableTokens","personalAccessToken","tokenId","apiId","versionId","connectRepoStatus","connectToRepo","model","authSource","authorizingStatus"]);return s.createElement(g.default,b({},e,{maskedServiceName:t,enterpriseService:o,requiredScopes:i,onCancel:p,serviceName:n,closeconfiguration:p,versionModel:m,setEnterpriseUrl:this.setEnterpriseUrl,setPersonalAccessToken:this.setPersonalAccessToken,onAuthenticate:this.handleAuthorization,goBackToPreAuthStateHandler:this.resetControllerStatus,reauthenticateHandler:this.reauthenticateHandler,resetTokenValidation:()=>this.props.controller.updateStatus("accessTokenValidation",null)}))}}return this.props.controller.authorizingStatus===l.TAB_STATUS_IDENTIFIER.FINISHED?s.createElement("div",{className:"connect-repo-tab","data-testId":"connect-repo-tab-finished"},s.createElement(c.default,{controller:this.props.controller,tokenId:this.props.controller.tokenId,apiId:this.props.controller.apiId,versionId:this.props.controller.versionId,connectRepoStatus:this.props.controller.connectRepoStatus,serviceName:n,maskedServiceName:t,closeconfiguration:p,connectToRepo:this.props.controller.connectToRepo,model:this.props.controller.model,goBackToPreAuthStateHandler:this.resetControllerStatus,enterpriseUrl:this.props.controller.enterpriseUrl,versionModel:m,reauthenticateHandler:()=>{this.reauthenticateHandler()},authSource:this.props.controller.authSource})):null}})||o},"./api-dev/components/api-repo-integration/ConnectToRepositoryTab/OnPremDesktopEnterprisePreAuthView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("./api-dev/constants/APIRepositoryConstants.js"),p=n("./integrations/git/services/OnPrem/OnPremRemoteGitService.js"),m=n("./integrations/git/services/OnPrem/constants.ts"),h=n("./node_modules/lodash/lodash.js");function g(e){return h.get(u.GIT_SERVICES_LIST,[e,"customDomainDescription"])}function f(e){return h.get(u.GIT_SERVICES_LIST,[e,"customDomainPlaceholder"])}const b=e=>{h.map(e,(e=>e(null)))},y=h.debounce((async e=>{const{enterpriseUrl:t,personalAccessToken:n,serviceName:o,maskedServiceName:s,setPatValidationStatus:i,setPatValidationMessage:a,setDomainValidationStatus:r,setDomainValidationMessage:l,enterpriseService:c,setIsValidEnterpriseUrl:d,setIsValidToken:u,setIsConnectivityError:m}=e;let g;if(t)try{g=await p.default.isDomainValid({service:o,customDomain:t}),g?(d(!0),n&&v({enterpriseUrl:t,personalAccessToken:n,serviceName:o,setPatValidationStatus:i,setPatValidationMessage:a,isValidEnterpriseUrl:g,setIsValidToken:u,setIsConnectivityError:m})):(i(null),a(null),r("error"),l(`Please enter a valid ${c} domain URL. E.g. ${f(s)}`),d(!1))}catch(e){"serverUnreachableError"===h.get(e,"error.name")&&(b([i,a,r,l]),d(!0),m(!0))}}),1e3),v=async e=>{const{enterpriseUrl:t,personalAccessToken:n,serviceName:o,setPatValidationStatus:s,setPatValidationMessage:i,isValidEnterpriseUrl:a,setIsValidToken:r,setIsConnectivityError:l}=e;if(t&&n&&a)try{const e=await p.default.isAuthValid({service:o,accessToken:n,customDomain:t});r(e),s(e?"":"error"),i(e?"":"Please enter a valid personal access token for this domain.")}catch(e){"serverUnreachableError"===h.get(e,"error.name")&&(b([s,i]),l(!0))}};function I(e){const[t,n]=(0,o.useState)(null),[p,I]=(0,o.useState)(null),[E,_]=(0,o.useState)(!0),[S,C]=(0,o.useState)(!0),[T,j]=(0,o.useState)(!1),{onCancel:A,onAuthenticate:w,enterpriseUrl:O,setEnterpriseUrl:N,availableTokens:D,personalAccessToken:R,setPersonalAccessToken:P,enterpriseService:M,requiredScopes:L,accessTokenValidationInProgress:x,maskedServiceName:k,resetTokenValidation:F,isAccessTokenValid:V,goBackToPreAuthStateHandler:B}=e,U=function(e,t,n,o){return o?m.SERVER_UNREACHABLE_ERROR.message:t?`Please enter a valid ${e} domain URL.`:n?"Please enter a valid personal access token.":void 0}(M,!E,!S,T),z=!O||!R||!E||!S||T,H=u.GIT_SERVICES_LIST[k].serviceName;return o.createElement(o.Fragment,null,o.createElement("div",{className:"api-repo-enterprise-config__input-wrapper"},((e,t,n,s)=>{if(!e&&t!==u.ACCESS_TOKEN_VALIDATION_STATUS.SERVER_UNREACHABLE&&"error"!==n)return;let i;return e||t===u.ACCESS_TOKEN_VALIDATION_STATUS.SERVER_UNREACHABLE?i=m.SERVER_UNREACHABLE_ERROR.message:"error"===n&&(i=u.VALIDATION_BANNER_MESSAGE),o.createElement(r.default,{status:"error",hideIcon:!0,className:"api-repo-enterprise-config__banner"},i)})(T,V,t),function(e){const[t,n]=(0,o.useState)(null),[r,l]=(0,o.useState)(null),{availableTokens:c,maskedServiceName:d,enterpriseUrl:u,setEnterpriseUrl:p,setPersonalAccessToken:m,personalAccessToken:v,enterpriseService:I,serviceName:E,setPatValidationStatus:_,setPatValidationMessage:S,setIsValidEnterpriseUrl:C,setIsValidToken:T,setIsConnectivityError:j}=e;return o.createElement("div",{className:"api-repo-enterprise-config-url"},o.createElement(a.default,{className:"api-repo-enterprise-config__input-label",text:g(d),type:"h6"}),(()=>{if(c){const e=[{label:"Authorized domain",options:h.map(c,(e=>({label:e.customDomain,value:e.accessToken})))}],i={label:u,value:v},[a,g]=(0,o.useState)(u&&v?i:null);return o.createElement(s.default,{value:a,onChange:e=>{g(e);let t=h.get(e,"label",""),o=h.get(e,"value","");e&&e.__isNew__&&(o=""),p(t),m(o),b([n,l,S,_,j]),y({enterpriseUrl:e.label,personalAccessToken:v,serviceName:E,maskedServiceName:d,setPatValidationStatus:_,setPatValidationMessage:S,setDomainValidationStatus:n,setDomainValidationMessage:l,enterpriseService:I,setIsValidEnterpriseUrl:C,setIsValidToken:T,setIsConnectivityError:j})},validationState:{status:t,message:r},options:e,placeholder:"Select authorized domain or enter a new one",allowCreateNewOption:!0,menuWidth:480})}return o.createElement(i.default,{className:"api-repo-enterprise-config__domain-input",placeholder:f(d),value:u,validationStatus:u&&t,validationMessage:u&&r,onChange:e=>{b([n,l,j]),p(e.target.value),y({enterpriseUrl:e.target.value,personalAccessToken:v,serviceName:E,maskedServiceName:d,setPatValidationStatus:_,setPatValidationMessage:S,setDomainValidationStatus:n,setDomainValidationMessage:l,enterpriseService:I,setIsValidEnterpriseUrl:C,setIsValidToken:T,setIsConnectivityError:j})}})})())}({availableTokens:D,maskedServiceName:k,enterpriseUrl:O,setEnterpriseUrl:N,setPersonalAccessToken:P,personalAccessToken:R,enterpriseService:M,serviceName:H,setPatValidationStatus:n,setPatValidationMessage:I,setIsValidEnterpriseUrl:_,setIsValidToken:C,setIsConnectivityError:j}),o.createElement("div",{className:"api-repo-enterprise-config-access-token"},o.createElement(a.default,{className:"api-repo-enterprise-config__input-label",text:"Personal access token",type:"h6"}),o.createElement(l.default,{type:"body-small",color:"content-color-secondary"},"Please ensure that you grant ",o.createElement(l.default,{typographyStyle:{fontWeight:"text-weight-medium"}},L)," scope(s) while creating an access token."),o.createElement(i.default,{type:"password",className:"api-repo-enterprise-config__token-input",value:R,onChange:e=>{b([n,I,j]),P(e.target.value),v({enterpriseUrl:O,personalAccessToken:e.target.value,serviceName:H,setPatValidationStatus:n,setPatValidationMessage:I,isValidEnterpriseUrl:E,setIsValidToken:C,setIsConnectivityError:j})},entityName:"token"}))),o.createElement(c.default,{className:"api-repo-enterprise-config__on-prem__actions"},o.createElement(d.default,{type:"secondary",size:"medium",text:"Cancel",onClick:A,isDisabled:x}),o.createElement(d.default,{type:"primary",size:"medium",text:"Next",tooltip:U,onClick:()=>{B(),F(),w()},isDisabled:z,isLoading:x})))}},"./api-dev/components/api-repo-integration/ConnectToRepositoryTab/StaticIPEnterpriseAuthView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("./api-dev/constants/APIRepositoryConstants.js");function h(e){const{onCancel:t,onAuthenticate:n,enterpriseUrl:s,setEnterpriseUrl:h,availableTokens:g,personalAccessToken:f,setPersonalAccessToken:b,enterpriseService:y,requiredScopes:v,accessTokenValidationInProgress:I,maskedServiceName:E,resetTokenValidation:_,isAccessTokenValid:S,goBackToPreAuthStateHandler:C}=e,T=/https:\/\/(www\.)?[-a-zA-Z0-9\+~]{1,256}\.[-a-zA-Z0-9\+~.]{1,256}/.test(s),j=(A=y,w=!f,!T?`Please enter a valid ${A} domain URL.`:w?"Please enter a valid personal access token.":void 0);var A,w;const O=s&&!T?"error":"",N=O?`Please enter a valid ${y} domain URL.`:"",D=!T||!f,R=i().includes([m.ACCESS_TOKEN_VALIDATION_STATUS.INVALID,m.ACCESS_TOKEN_VALIDATION_STATUS.SERVER_UNREACHABLE],S);let P;return S===m.ACCESS_TOKEN_VALIDATION_STATUS.INVALID?P="The domain and personal access token combination didn't work. Try again.":S===m.ACCESS_TOKEN_VALIDATION_STATUS.SERVER_UNREACHABLE&&(P="We could not reach your servers. Check network connectivity and try again."),o.createElement(o.Fragment,null,o.createElement("div",{className:"api-repo-enterprise-config__input-wrapper"},R&&o.createElement(c.default,{status:"error",hideIcon:!0,className:"api-repo-enterprise-config__banner"},P),function(e){const{availableTokens:t,maskedServiceName:n,enterpriseUrl:s,inputValidationStatus:c,inputValidationMessage:d,setEnterpriseUrl:u,setPersonalAccessToken:p,personalAccessToken:h}=e;return o.createElement("div",{className:"api-repo-enterprise-config-url"},o.createElement(l.default,{className:"api-repo-enterprise-config__input-label",text:(g=n,i().get(m.GIT_SERVICES_LIST,[g,"customDomainDescription"])),type:"h6"}),(()=>{if(t){const e=[{label:"Authorized domain",options:i().map(t,(e=>({label:e.customDomain,value:e.accessToken})))}],n={label:s,value:h},[r,l]=(0,o.useState)(s&&h?n:null);return o.createElement(a.default,{value:r,onChange:e=>{l(e);let t=e?e.label:"",n=e?e.value:"";e&&e.__isNew__&&(n=""),u(t),p(n)},validationState:{status:c,message:d},options:e,placeholder:"Select authorized domain or enter a new one",allowCreateNewOption:!0,menuWidth:480})}return o.createElement(r.default,{className:"api-repo-enterprise-config__domain-input",placeholder:(e=n,i().get(m.GIT_SERVICES_LIST,[e,"customDomainPlaceholder"])),value:s,validationStatus:c,validationMessage:d,onChange:e=>{u(e.target.value)}});var e})());var g}({availableTokens:g,maskedServiceName:E,enterpriseUrl:s,inputValidationStatus:O,inputValidationMessage:N,setEnterpriseUrl:h,setPersonalAccessToken:b,personalAccessToken:f}),o.createElement("div",{className:"api-repo-enterprise-config-access-token"},o.createElement(l.default,{className:"api-repo-enterprise-config__input-label",text:"Personal access token",type:"h6"}),o.createElement(d.default,{type:"body-small",color:"content-color-secondary"},"Please ensure that you grant ",o.createElement(d.default,{typographyStyle:{fontWeight:"text-weight-medium"}},v)," scope(s) while creating an access token."),o.createElement(r.default,{type:"password",className:"api-repo-enterprise-config__token-input",value:f,onChange:e=>{b(e.target.value)},entityName:"token"}))),o.createElement(u.default,{className:"api-repo-enterprise-config__on-prem__actions"},o.createElement(p.default,{type:"secondary",size:"medium",text:"Cancel",onClick:t,isDisabled:I}),o.createElement(p.default,{type:"primary",size:"medium",text:"Next",tooltip:j,onClick:()=>{C(),_(),n()},isDisabled:D,isLoading:I})))}},"./api-dev/components/api-repo-integration/CreateLocalGitModal/CreateLocalGitModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/lodash/lodash.js"),r=n.n(a),l=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),h=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),g=n("./appsdk/components/link/Link.js");let f=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={folderPath:null,isLoading:!1,isErrorState:!1},this.setLoadingState=this.setLoadingState.bind(this),this.setErrorState=this.setErrorState.bind(this),this.setFolderPath=this.setFolderPath.bind(this),this.handleClose=this.handleClose.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleFolderSelection=this.handleFolderSelection.bind(this)}setLoadingState(e){this.setState({isLoading:e})}setErrorState(e){this.setState({isErrorState:e})}setFolderPath(e){this.setState({folderPath:e}),this.setErrorState(!1)}handleClose(){this.setState({folderPath:null,isLoading:!1,isErrorState:!1}),this.props.close()}handleSubmit(){this.setLoadingState(!0);const e=r().get(this.props,"model.apiRepositoryStore",null);e.createLocalGit(this.state.folderPath).then((()=>{const t=r().get(e,"apiVersionRepositoryInterface.git.branch");this.props.model.switchToFeatureBranch(t),this.handleClose()})).catch((e=>{this.setErrorState(!0),pm.logger.error(`APIRepositoryStore~createLocalGit - ${e}`)})).finally((()=>{this.setLoadingState(!1)})),r().isFunction(this.props.promoteTab)&&this.props.promoteTab()}handleFolderSelection(){const e=r().get(this.refs,"folderSelectionRef");e.tabIndex="-1",e.disabled=!0;const{dialog:t}=n("@electron/remote"),{isLoading:o}=this.state;o||(this.setLoadingState(!0),t.showOpenDialog({buttonLabel:"Select",properties:["openDirectory","createDirectory"]}).then((e=>{this.setLoadingState(!1),e.canceled?pm.logger.error("APIRepositoryStore~createLocalGit - User cancelled action"):this.setFolderPath(e.filePaths[0])})))}render(){const e=this.state.isErrorState,t=this.state.folderPath,n=this.state.isLoading;return s.createElement(l.Modal,{isOpen:this.props.isOpen,onClose:this.handleClose,size:"medium"},s.createElement(l.ModalHeader,{heading:"Connect to local repository"}),s.createElement(l.ModalContent,null,s.createElement(c.default,{type:"para",color:"content-color-secondary"},"Work with the local file system by connecting to your local repository. Learn more about linking your",s.createElement(c.default,{type:"link-default"},s.createElement(g.default,{target:"_blank"},"local repository in Postman"))),s.createElement("div",{className:"create-local-git-modal__folderPath__selection",onClick:this.handleFolderSelection},s.createElement(d.default,{ref:"folderSelectionRef",type:"text",placeholder:"Select",value:this.state.folderPath,label:s.createElement(u.default,{text:"Select local file system",size:"medium"}),validationStatus:e?"error":null,validationMessage:e?"Local repository selected is different from the remote repository.":null,prefix:s.createElement(h.default,{name:"icon-entity-folder-stroke",color:"content-color-tertiary"})}))),s.createElement(l.ModalFooter,null,s.createElement(p.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-s"},s.createElement(m.default,{type:"secondary",onClick:this.handleClose,text:"Cancel"}),s.createElement(m.default,{type:"primary",onClick:this.handleSubmit,isDisabled:!t||n,autoFocus:!0,tooltip:!t&&"Please select a local file system",isLoading:n,text:"Connect"}))))}})||o},"./api-dev/components/api-repo-integration/EntitySelectDropdown/EntitySelectDropdown.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/SearchHighlighter.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=n("./api-dev/components/api-repo-integration/APIRepositoryIntegrationEntitySelectDropdown/APIRepositoryIntegrationEntitySelectDropdown.js"),l=n("./api-dev/components/api-repo-integration/APIRepoIntegrationConfigurationBranchCreateModal/index.tsx"),c=n("./node_modules/lodash/lodash.js");function d(e){const{title:t,description:n,parentClassName:d,selectedItem:u,disabled:p,handleSelect:m,filterList:h,errorMessage:g,retryHandler:f,isLoading:b,isOptionsCreatable:y,warningMessage:v,tooltip:I,isBranchSelectionDropdown:E,markCreateBranch:_,doesBranchExist:S,apiId:C,customEmptyStateComponent:T,validationState:j,onChange:A,onClear:w,onBlur:O,placeholder:N,shouldRenderReAuthMenu:D,reauthEntity:R,reauthService:P,performReauth:M}=e,[L,x]=o.useState(!1),[k,F]=o.useState(!1),V=E&&0===(h()||[]).length;function B(e,t,n=!1,o=!0){m(e,n,o,t),_(e.name,t),x(!1),F(!0)}function U(...e){e[0].name||(e[0].name=e[0].id),m(...e),F(!1)}function z(e){if(!e)return"";return e.name||e.id}function H(e,t,{firstRender:n}={}){const{name:i}=e,r="directory"===c.get(e,"type"),l=t&&!n;return o.createElement("div",{className:"api-repo-integration-configuration__dropdown-item-wrapper"},o.createElement("div",{className:"api-repo-integration-configuration__dropdown-item-label"},r&&o.createElement(a.default,{name:"icon-entity-folder-stroke",color:"content-color-tertiary",className:"api-repo-integration-configuration__dropdown-item-icon"}),l?o.createElement(s.default,{source:i,query:t,highlightClassName:"search-highlighted-api-git"}):o.createElement("span",{className:"api-repo-integration-configuration__dropdown-item-label__name",title:i},i)))}function G(e){const{errorMessage:t,parentClassName:n,retryHandler:s}=e;return t?o.createElement("div",{className:`${n}__error`},o.createElement(a.default,{className:`${n}__error__icon`,name:"icon-state-error-stroke",color:"content-color-error",size:"small"}),o.createElement("span",{className:`${n}__error__message`},t),s&&o.createElement("div",{onClick:s,className:`${n}__error__message`},o.createElement(i.default,{type:"link-default",color:"content-color-error"},"Try Again"))):null}function W({warningMessage:e}={}){return e?o.createElement(i.default,{type:"body-medium",color:"content-color-warning"},e):null}return o.createElement("div",{className:d},o.createElement("span",{className:`${d}__title`},t),o.createElement("span",{className:`${d}__description`},n),o.createElement(r.APIRepositoryIntegrationEntitySelectDropdown,{className:`${d}__dropdown-container__dropdown`,inputClassName:`${d}__dropdown-container__input`,menuClassName:`${d}__dropdown-container__menu`,placeholder:N,selectedItem:u,customEmptyStateComponent:T,disabled:p,getInputValue:z,optionRenderer:H,getFilteredList:h,onSelect:V?function(e){B(e,null,!0,!0)}:E?U:m,isOptionsCreatable:y,tooltip:I,resetSearchFilterOnBlur:!0,isBranchSelectionDropdown:E,createBranch:E&&(()=>x(!0)),apiId:C,validationState:j,onChange:A,isMenuLoading:b,onClear:w,onBlur:O,shouldRenderReAuthMenu:D,reauthEntity:R,reauthService:P,performReauth:M}),o.createElement(G,{errorMessage:g,parentClassName:d,retryHandler:f}),o.createElement(W,{warningMessage:v}),E&&L&&o.createElement(l.default,{branches:h()||[],selectedBranch:u,onSelect:U,onSubmit:B,isOpen:L,onCancel:()=>x(!1),doesBranchExist:S,errorMessage:g,parentClassName:d,branchSelectorDropdown:o.createElement(o.Fragment,null,o.createElement(r.APIRepositoryIntegrationEntitySelectDropdown,{className:`${d}__dropdown-container__dropdown ${d}__dropdown-container__dropdown__alt`,inputClassName:`${d}__dropdown-container__input`,menuClassName:`${d}__dropdown-container__menu__alt`,placeholder:N,selectedItem:k?{}:u,disabled:p,getInputValue:z,optionRenderer:H,getFilteredList:h,onSelect:U,isOptionsCreatable:y,customEmptyStateComponent:T,tooltip:I,resetSearchFilterOnBlur:!0,onChange:A,isMenuLoading:b,onClear:w,onBlur:O,isBranchCreationModalDropdown:!0}),o.createElement(G,{errorMessage:g,parentClassName:d,retryHandler:f}))}))}d.defaultProps={parentClassName:"api-repo-integration-configuration__select-repo"},t.default=d},"./api-dev/components/api-repo-integration/OAuthLoadingView/OAuthLoadingView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js");class r extends o.Component{constructor(e){super(e)}render(){const{serviceName:e,serviceFriendlyName:t,handleOnClose:n}=this.props;return o.createElement("div",{className:"connect-repo-tab","data-testId":"connect-repo-tab-loading"},o.createElement("div",{className:"api-repository-connecting"},o.createElement("div",{className:"api-repository-connecting__illustration_wrapper"},o.createElement("div",{className:`api-repository-connecting__illustration__${e}`})),o.createElement(s.default,{type:"h4",hasBottomSpacing:!0,text:`Connecting to ${t}`}),o.createElement(i.default,{type:"para",hasBottomSpacing:!0},"This may take up to 60 seconds."),o.createElement(a.default,{type:"outline",onClick:n,text:"Cancel"})))}}},"./api-dev/components/api-repo-integration/PullChangesModal/PullChangesModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/components/base/LoadingIndicator.js"),r=n("./js/stores/SyncStatusStore.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/ActiveWorkspaceStore.js"),d=n("./node_modules/classnames/index.js"),u=n.n(d),p=n("./api-dev/services/APIDevService.js"),m=n("./js/components/base/Tag.js"),h=n("./api-dev/constants/APIRepositoryConstants.js"),g=n("./api-dev/configs/ValidAPIDefinitionFileExtensions.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),I=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),E=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),_=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),S=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),C=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-warning-stroke.js"),T=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-warning-stroke-small.js"),j=n("./js/components/base/Buttons.js"),A=n("./js/components/base/Dropdowns.js"),w=n("./api-dev/util/error.js"),O=n("./js/modules/services/AnalyticsService.js"),N=n("./api-dev/services/IntegrationService.js"),D=n("./appsdk/components/link/Link.js"),R=n("./api-dev/configs/APIActionsBlockList.js"),P=n("./js/services/conversion/convertData.js"),M=n("./api-dev/constants/SchemaConstants.js"),L=n("./api-dev/components/common/MultilevelSearchableDropdown/MultilevelSearchableDropdown.js"),x=n("./node_modules/lodash/lodash.js");let k=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isLoadingChanges:!0,incomingChangesToRender:[],incomingChangesFromServer:{},noChangesToPull:!1,isLoading:!1,areChangesConflicted:!1,areOtherChanges:!1,shouldSelectSchema:!1,isSchemaConflicted:!1,isSelectedSchemaInvalid:!1,isSelectedSchemaBeingValidated:!1,commit:{}},this.handleClose=this.handleClose.bind(this),this.handleOpen=this.handleOpen.bind(this),this.handleAcceptPullAction=this.handleAcceptPullAction.bind(this),this.formatIntoServerReqObj=this.formatIntoServerReqObj.bind(this),this.isPullDisabled=this.isPullDisabled.bind(this),this.renderIncomingChanges=this.renderIncomingChanges.bind(this),this.renderSchemaSelector=this.renderSchemaSelector.bind(this),this.handleSchemaSelect=this.handleSchemaSelect.bind(this),this.silentlyValidateSchema=this.silentlyValidateSchema.bind(this),this.getDropdownOptionForSchemaFileSelect=this.getDropdownOptionForSchemaFileSelect.bind(this),this.pullSchemaDropdownClasses=this.pullSchemaDropdownClasses.bind(this),this.filterOutInvalidAPIDefinitionFiles=this.filterOutInvalidAPIDefinitionFiles.bind(this)}componentDidMount(){this.props.isOpen&&this.handleOpen()}componentDidUpdate(e){this.props.isOpen&&this.props.isOpen!==e.isOpen&&this.handleOpen()}handleClose(){this.setState({isLoadingChanges:!0,incomingChangesToRender:[],areChangesConflicted:!1,areOtherChanges:!1,isSelectedSchemaInvalid:!1,shouldSelectSchema:!1,isSchemaConflicted:!1,isSelectedSchemaBeingValidated:!1}),this.props.close()}formatChangesIntoArray(e){const t=[];return x.map(Object.keys(e),(n=>{if(x.includes(h.ALLOWED_ENTITIES_FOR_REPO_SYNC,n))return x.map(Object.keys(e[n]),(o=>x.map(e[n][o],(e=>{let s=!1,i="",a=n,r=x.find(h.RELATION_TYPES,(t=>e.type===t.id)),l=x.head(h.API_DEFINITION_OPTIONS);if((0,h.IS_RELATION_CREATE)(a,o)&&(r=x.head(h.RELATION_TYPES)),!(0,h.IS_SCHEMA_CREATE)(a,o)&&!(0,h.IS_SCHEMA_CONFLICT_CREATE)(a,o,x.get(e,"destination"))){if((0,h.IS_API_DEFINITION_CREATE)(a,o)){const t=x.get(e,"file.name"),n=x.last(x.split(t,"."));(0,g.isFileExtensionOfValidType)(x.toLower(n))&&1!==x.size(x.split(t,"."))||(l=h.API_DEFINITION_OPTIONS[1])}"conflicts"===o?(s=!0,i=h.CONFLICT_OPTIONS[1],this.setState({areChangesConflicted:!0})):this.setState({areOtherChanges:!0}),t.push({fileChange:e,entityChangeType:o,isConflicted:s,sourceToRetain:i,entityType:a,relationType:r,optionToAccept:l})}}))))})),t}async handleOpen(){const e=x.get(this.props,"model.developmentBranchName");try{let t=await p.default.pullChangesFromRepository(x.get(this.props,"model.apiId"),x.get(this.props,"model.id"),e);t=x.isObject(t)?t:{};const n=x.get(t,"schemas.creates[0].name"),o=x.last(x.split(n,".")),s=R.default.schema.types,i=R.default.schema.languages,a=s.includes(x.get(this.props,"model.schema.type")),r=i.includes(o),l=a||r;x.get(t,"relations")&&l&&delete t.relations;const c=this.formatChangesIntoArray(t),d=x.get(t,"lastCommit.id",""),u=d&&d.slice(0,7),m=await N.default.getCommit(x.get(this.props,"model.id"),d),g=x.get(m,"link");let f=!1,b=!1,y=null;x.map(Object.keys(t),(e=>{x.includes(h.ALLOWED_ENTITIES_FOR_REPO_SYNC,e)&&x.map(Object.keys(t[e]),(n=>{x.map(t[e][n],(o=>{const s=e,i=(0,h.IS_SCHEMA_CREATE)(s,n)&&0!==t[e][n].length;b=b||(0,h.IS_SCHEMA_CONFLICT_CREATE)(s,n,x.get(o,"destination"))&&0!==t[e][n].length,f=f||i||b,(0,h.IS_RELATION_CREATE)(s,n)&&(o.type=x.head(h.RELATION_TYPES).id)}))}))})),this.setState({incomingChangesToRender:c,incomingChangesFromServer:t,isLoadingChanges:!1,shouldSelectSchema:f,isSchemaConflicted:b,selectedSchema:y,commit:{commitId:u,commitLink:g},noChangesToPull:!c.length&&!f})}catch(e){return this.handleClose(),(0,w.handleError)(e,void 0,void 0,void 0,{component:"PullChangesModal",method:"handleOpen"})}}getCustomStyles(){return{margin:"auto",width:"648px"}}getCommitChangeTypeClass(e){return u()({[e]:!0})}formatIntoServerReqObj(){const e=this.state.incomingChangesToRender,t=this.state.incomingChangesFromServer;if(!x.has(t,"schemas")&&(t.schemas={}),!x.has(t,"relations")&&(t.relations={}),!x.has(t,"apiDefinition")&&(t.apiDefinition={}),!x.has(t,"lastCommit")&&(t.lastCommit={}),!x.has(t,"lastCommit.commitedBy")&&(t.lastCommit.commitedBy=null),t.relations.linkEntities=[],t.apiDefinition.ignores=[],x.map(Object.keys(t),(n=>{if(x.includes(h.ALLOWED_ENTITIES,n))return x.map(Object.keys(t[n]),(o=>{if("conflicts"===o&&delete t[n][o],(0,h.IS_API_DEFINITION_CREATE)(n,o)){const s=x.filter(e,["optionToAccept",h.API_DEFINITION_OPTIONS[1]]),i=x.filter(t[n][o],(e=>!x.find(s,["fileChange",e]))),a=x.filter(t[n][o],(e=>x.find(s,["fileChange",e])));t[n][o]=i,t.apiDefinition.ignores=a}}))})),this.state.shouldSelectSchema){x.has(t,"schemas.creates")&&(t.schemas.creates=[]),x.has(t,"schemas.conflicts")&&(t.schemas.conflicts=[]);const e=!this.state.isSchemaConflicted,n="default"===x.get(this.state.selectedSchema,"source");x.get(this.state.selectedSchema,"id")&&delete this.state.selectedSchema.id,x.get(this.state.selectedSchema,"source")&&delete this.state.selectedSchema.source,e?t.schemas.creates.push({file:this.state.selectedSchema}):t.schemas.updates.push({file:this.state.selectedSchema,id:x.get(this.props,"model.schema.schemaId")}),n&&(t.schemas.updates=[],t.schemas.creates=[])}return x.map(e,(e=>{const n=h.ENTITY_CHANGE_TYPE_FROM_CONFLICT_DESTINATION[x.get(e,"fileChange.destination")],o=e.entityType,s=x.get(e,"fileChange.destination");e.isConflicted&&(0,h.IS_API_DEFINITION_CONFLICT_CREATE)(o,"conflicts",s)?e.sourceToRetain.id===h.CONFLICT_OPTIONS[1].id?t.apiDefinition.updates.push({file:{...x.get(e,"fileChange.file"),path:x.get(e,"fileChange.file.path")},id:x.get(e,"fileChange.id"),name:x.get(e,"fileChange.name")}):t.apiDefinition.ignores.push({file:{...x.get(e,"fileChange.file"),path:x.get(e,"fileChange.file.path")},name:x.get(e,"fileChange.name")}):e.isConflicted&&e.sourceToRetain.id!==h.CONFLICT_OPTIONS[0].id?t[e.entityType][n].push(e.fileChange):(0,h.IS_RELATION_UPDATE_CONFLICT)(e.entityType,n)&&t[e.entityType].linkEntities.push(e.fileChange)})),t}handleAcceptPullAction(){const e=(0,l.resolveStoreInstance)(c.default),t=x.get(this.props,"model.apiId"),n=x.get(this.props,"model.id");this.setState({isLoading:!0}),x.isFunction(this.props.promoteTab)&&this.props.promoteTab();const o=this.formatIntoServerReqObj(),s=x.get(this.props,"model.developmentBranchName");O.default.addEventV2({category:"api_repo_integration",action:"confirm_pull",label:s,value:1,entityId:x.get(this.props,"model.id")}),p.default.acceptPullFromRepository(t,n,e.id,o,s).then((e=>{const t=x.get(e,"lastCommit.id"),n=x.get(e,"lastCommit.syncTimeStamp");x.get(this.props,"model.updateLastCommitId")(t),x.get(this.props,"model.updateLastSyncedWithRepoAt")(n),this.props.model.updateChangesToPullCount(0),this.props.model.reload(),pm.toasts.success("Changes pulled from repository.")})).catch((e=>{(0,w.handleError)(e,void 0,void 0,void 0,{component:"PullChangesModal",method:"handleAcceptPullAction"})})).finally((()=>{this.setState({isLoading:!1}),this.handleClose()}))}renderFileName(e){return"schemas"===x.get(e,"entityType")?x.get(e,"fileChange.file.name","API Schema"):"apiDefinition"===x.get(e,"entityType")?x.get(e,"fileChange.file.path","Definition file"):x.get(e,"fileChange.name")}handleRelationTypeSelect(e,t){const n=x.find(h.RELATION_TYPES,(e=>e.id===t));this.setState((t=>{const o=t.incomingChangesToRender,s=t.incomingChangesFromServer,i=x.findIndex(o,(t=>x.get(t,"fileChange.name")===x.get(e,"fileChange.name"))),a=x.findIndex(s.relations.creates,(t=>x.get(t,"name")===x.get(e,"fileChange.name")));return o[i].relationType=n,s.relations.creates[a].type=n.id,{incomingChangesToRender:o,incomingChangesFromServer:s}}))}handleAcceptAPIDefinitionSelect(e,t){const n=x.find(h.API_DEFINITION_OPTIONS,(e=>e.id===t));this.setState((t=>{const o=t.incomingChangesToRender,s=t.incomingChangesFromServer;return o[x.findIndex(o,(t=>x.get(t,"fileChange.file.path")===x.get(e,"fileChange.file.path")))].optionToAccept=n,{incomingChangesToRender:o,incomingChangesFromServer:s}}))}handleSourceTypeSelect(e,t){const n=t===h.POSTMAN_CHANGES?h.CONFLICT_OPTIONS[0]:h.CONFLICT_OPTIONS[1];O.default.addEventV2({category:"api_repo_integration",action:"conflict_resolution",label:t===h.POSTMAN_CHANGES?"local-copy":"remote-copy",value:1,entityId:x.get(this.props,"model.id")}),this.setState((t=>{const o=t.incomingChangesToRender;return o[x.findIndex(o,(t=>x.get(t,"fileChange.id")===x.get(e,"fileChange.id")))].sourceToRetain=n,{incomingChangesToRender:o}}))}renderConflictedFilesRow(e){if(x.get(e,"isConflicted"))return s.createElement("tr",{className:"pull-changes-modal__content__item pull-changes-modal__content__item--rows"},s.createElement("td",null,s.createElement("div",{className:"pull-changes-modal__content__item--rows__file"},s.createElement("div",{className:"pull-changes-modal__content__item--rows__file--icon"},s.createElement(S.default,{name:h.ICONS_FROM_TYPE[x.get(e,"entityType")],size:"large"})),s.createElement("div",{className:"pull-changes-modal__content__item--rows__file--name"},s.createElement(f.default,{isTruncated:!0},this.renderFileName(e))))),s.createElement("td",null,s.createElement("div",{className:"pull-changes-modal__content__item--rows__tag"},s.createElement(m.default,{key:x.get(e,"fileChange.name"),tagName:x.get(h.USER_FRIENDLY_CHANGE_TYPE,`[${e.entityChangeType}].name`),type:x.get(h.TAG_TYPE_FROM_CHANGE_TYPE,`[${e.entityChangeType}]`)}))),s.createElement("td",{"data-testid":"pull-changes-modal__content__item--rows__relation-type"},s.createElement(A.Dropdown,{className:"pull-changes-modal__content__item--rows__relation-type",onSelect:this.handleSourceTypeSelect.bind(this,e),fullWidth:!0},s.createElement(A.DropdownButton,{type:"secondary",size:"small"},s.createElement(j.Button,{size:"small"},s.createElement("span",null,x.get(e,"sourceToRetain.name")))),s.createElement(A.DropdownMenu,{fluid:!0},x.map(h.CONFLICT_OPTIONS,(e=>s.createElement(A.MenuItem,{refKey:e.id},s.createElement(b.default,{content:e.tooltip,placement:"right"},s.createElement("span",{className:"pull-changes-modal__content__item--rows__relation-type__text"},e.name)))))))))}renderNonConflictedFilesRow(e){if(x.get(e,"isConflicted"))return;const t=(0,h.IS_RELATION_CREATE)(x.get(e,"entityType"),x.get(e,"entityChangeType")),n=(0,h.IS_API_DEFINITION_CREATE)(x.get(e,"entityType"),x.get(e,"entityChangeType"));return s.createElement("tr",{className:"pull-changes-modal__content__item pull-changes-modal__content__item--rows","data-testid":"pull-changes-modal__content__item"},s.createElement("td",null,s.createElement("div",{className:"pull-changes-modal__content__item--rows__file"},s.createElement("div",{className:"pull-changes-modal__content__item--rows__file--icon"},s.createElement(S.default,{name:h.ICONS_FROM_TYPE[x.get(e,"entityType")],size:"large"})),s.createElement("div",{className:"pull-changes-modal__content__item--rows__file--name"},s.createElement(f.default,{isTruncated:!0},this.renderFileName(e))))),s.createElement("td",null,s.createElement("div",{className:"pull-changes-modal__content__item--rows__tag"},s.createElement(m.default,{key:x.get(e,"fileChange.name"),tagName:x.get(h.USER_FRIENDLY_CHANGE_TYPE,`[${e.entityChangeType}].name`),type:x.get(h.TAG_TYPE_FROM_CHANGE_TYPE,`[${e.entityChangeType}]`)}))),s.createElement("td",{"data-testid":"pull-changes-modal__content__item--rows__relation-type"},t&&s.createElement(A.Dropdown,{className:"pull-changes-modal__content__item--rows__relation-type",onSelect:this.handleRelationTypeSelect.bind(this,e),fullWidth:!0},s.createElement(A.DropdownButton,{type:"secondary",size:"small"},s.createElement(j.Button,{size:"small"},s.createElement("span",null,x.get(e,"relationType.name")," "))),s.createElement(A.DropdownMenu,{fluid:!0},x.map(h.RELATION_TYPES,(e=>s.createElement(A.MenuItem,{refKey:e.id},s.createElement("span",null,e.name)))))),n&&s.createElement(A.Dropdown,{className:"pull-changes-modal__content__item--rows__relation-type",onSelect:this.handleAcceptAPIDefinitionSelect.bind(this,e),fullWidth:!0},s.createElement(A.DropdownButton,{type:"secondary",size:"small"},s.createElement(j.Button,{size:"small"},s.createElement("span",null,x.get(e,"optionToAccept.name")," "))),s.createElement(A.DropdownMenu,{fluid:!0},x.map(h.API_DEFINITION_OPTIONS,(e=>s.createElement(A.MenuItem,{refKey:e.id},s.createElement("span",null,e.name))))))))}renderIncomingChangesHeader(e,t,n){return s.createElement("div",{className:"pull-changes-modal__content__tables__label"},s.createElement("div",{className:"pull-changes-modal__content__tables__label--icon"},s.createElement(S.default,{name:t,className:n,size:"large"})),s.createElement("div",{className:"pull-changes-modal__content__tables__label--name"},e))}async silentlyValidateSchema(e){this.setState({isSelectedSchemaInvalid:!1,isSelectedSchemaBeingValidated:!0});try{const t=x.get(this.props,"model.developmentBranchName"),n=x.get(this.props,"model.id"),o=[];o.push(e.path);const s=await N.default.getContents(n,t,{files:o}),i=x.get(s,"files[0].file.download_url"),a=x.get(s,"files[0].file.contents");let r,l,c;i?(r=await fetch(i),l=await r.text(),c=await(0,P.determineDataFormat)(l)):a&&(c=await(0,P.determineDataFormat)(a)),x.includes(Object.keys(M.SCHEMA_TYPE_SUPPORTED_LANGUAGE),x.get(c,"id"))?this.setState({isSelectedSchemaInvalid:!1}):this.setState({isSelectedSchemaInvalid:!0}),this.setState({isSelectedSchemaBeingValidated:!1})}catch(e){(0,w.logToNewRelic)(e,"CommitChangesModal","silentlyValidateSchema")}}handleSchemaSelect(e){const t=x.get(e,"source"),n=x.get(e,"name");if("default"===t)return void this.setState({selectedSchema:e,isSelectedSchemaInvalid:!1});const o=x.find(this.pulledSchemas,["name",n]);this.silentlyValidateSchema(o),this.setState({selectedSchema:o})}filterSchemaFilesList(e,t){let n=this.pulledSchemas;if(!t)return n;return x.filter(n,(e=>e.name&&x.includes(e.name.toLowerCase(),t.toLowerCase())))}getDropdownOptionForSchemaFileSelect(e={}){return"default"===x.get(e,"item.source")?s.createElement("div",{className:"pull-changes-modal__content__schema-select__dropdown__item"},s.createElement(b.default,{content:"This will keep the current state of the API definition tab in Postman."},s.createElement("span",{className:"pull-changes-modal__content__schema-select__dropdown__item__text"},"Keep current definition"))):s.createElement("div",{className:"pull-changes-modal__content__schema-select__dropdown__item"},s.createElement(f.default,{isTruncated:!0,tooltip:x.get(e,"item.name")},x.get(e,"item.name")))}pullSchemaDropdownClasses(){return u()({"pull-changes-modal__content__schema-select__dropdown":!0,"pull-changes-modal__content__schema-select__dropdown__invalid":this.state.isSelectedSchemaInvalid})}renderSchemaSelector(){const e=x.map(x.get(this.state,"incomingChangesFromServer.schemas.creates"),(e=>x.get(e,"file"))),t=x.map(x.get(this.state,"incomingChangesFromServer.schemas.conflicts"),(e=>x.get(e,"file"))),n=x.isEmpty(e)?t:e;this.pulledSchemas=x.map(n,(e=>({...e,source:"0",id:e.name})));return s.createElement("div",{className:"pull-changes-modal__content__schema-select"},s.createElement("div",{className:"pull-changes-modal__content__schema-select__title"},s.createElement(C.default,{color:"content-color-warning"}),s.createElement(Heading,{type:"h4",text:"Files found in schema directory",className:"pull-changes-modal__content__schema-select__title__name"})),s.createElement("div",{className:"pull-changes-modal__content__schema-select__label"},"Select a definition file to use with this API version"),s.createElement(y.default,{direction:"row"},s.createElement(L.default,{className:this.pullSchemaDropdownClasses(),optionSelectionPlaceholder:"Select",selectedItem:this.state.selectedSchema,getOptionsDisplayValue:this.getDropdownOptionForSchemaFileSelect,isNextLevelAvailable:()=>!1,getFilteredList:this.filterSchemaFilesList.bind(this,"schemaFiles"),onSelect:this.handleSchemaSelect,isPreviousLevelAvailable:!1,stickyItem:{id:"default",source:"default",name:"Keep current schema"}}),this.state.isSelectedSchemaBeingValidated&&s.createElement(v.default,null)),this.state.isSelectedSchemaInvalid&&s.createElement("div",{className:"pull-changes-modal__content__schema-select__invalid-schema"},s.createElement(T.default,{color:"content-color-warning"}),s.createElement("div",{className:"pull-changes-modal__content__schema-select__invalid-schema__text"},"Cannot recognize definition type and format. Please review them after pulling changes.")))}filterOutInvalidAPIDefinitionFiles(){return x.filter(this.state.incomingChangesToRender,(e=>{const t="apiDefinition"===x.get(e,"entityType"),n="creates"===x.get(e,"entityChangeType"),o=x.get(e,"fileChange.file.name"),s=x.last(x.split(o,"."));return!t||!n||(0,g.isFileExtensionOfValidType)(x.toLower(s))&&1!==x.size(x.split(o,"."))}))}renderIncomingChanges(){if(this.state.noChangesToPull)return s.createElement("div",{className:"no-changes-to-pull"},s.createElement(I.default,null),s.createElement("div",{className:"no-changes-to-pull__text"},s.createElement(f.default,{color:"content-color-secondary",type:"body-medium"},"No new changes to pull from repository")));const e=this.filterOutInvalidAPIDefinitionFiles();return s.createElement(s.Fragment,null,this.state.shouldSelectSchema&&this.renderSchemaSelector(),this.state.areChangesConflicted&&s.createElement("div",{className:"pull-changes-modal__content__tables pull-changes-modal__content__tables--conflicted","data-testid":"pull-changes-modal__content__tables--conflicted"},this.renderIncomingChangesHeader("Conflicts","icon-state-warning-stroke",u()({"icon-warning":!0})),s.createElement("table",null,s.createElement("thead",null,s.createElement("tr",{className:"pull-changes-modal__content__item pull-changes-modal__content__item--header"},s.createElement("td",{width:"50%"},s.createElement("th",null,"File")),s.createElement("td",{width:"20%"},s.createElement("th",null,"Status")),s.createElement("td",{width:"30%"}))),s.createElement("tbody",null,x.map(e,(e=>this.renderConflictedFilesRow(e)))))),this.state.areOtherChanges&&!x.isEmpty(e)&&s.createElement("div",{className:"pull-changes-modal__content__tables pull-changes-modal__content__tables--non-conflicted","data-testid":"pull-changes-modal__content__tables--non-conflicted"},this.renderIncomingChangesHeader("Changes","icon-action-merge-stroke"),s.createElement("table",null,s.createElement("thead",null,s.createElement("tr",{className:"pull-changes-modal__content__item pull-changes-modal__content__item--header"},s.createElement("td",{width:"50%"},s.createElement("th",null,"File")),s.createElement("td",{width:"20%"},s.createElement("th",null,"Status")),s.createElement("td",{width:"30%"}))),s.createElement("tbody",null,x.map(e,(e=>this.renderNonConflictedFilesRow(e)))))))}renderCommitId(){return s.createElement("span",{className:"pull-changes-modal__content__label__content"},this.state.commit.commitId)}isPullDisabled(){const e=!(0,l.resolveStoreInstance)(r.default).isSocketConnected,t=this.state.isLoadingChanges;return!(!e&&!t)||(!(this.state.commit.commitId!==x.get(this.props,"model.lastCommitId")||!this.state.noChangesToPull)||(!(!this.state.shouldSelectSchema||this.state.selectedSchema)||!!this.state.isSelectedSchemaBeingValidated))}renderLastCommit(){if(!this.state.noChangesToPull)return s.createElement("div",{className:"pull-changes-modal__content__label"},"Latest Commit:",s.createElement(D.default,{to:x.get(this.state,"commit.commitLink"),target:"_blank"},s.createElement(f.default,{type:"link-primary"},this.renderCommitId())))}renderFooter(){const e=!(0,l.resolveStoreInstance)(r.default).isSocketConnected;if(!this.state.noChangesToPull||this.state.isLoadingChanges)return s.createElement(E.ModalFooter,{className:"pull-changes-modal__footer"},s.createElement(y.default,{grow:1,shrink:1,justifyContent:"flex-end"},s.createElement("div",{className:"pull-changes-modal__footer__buttons","data-testid":"pull-changes-modal__footer__buttons"},s.createElement(_.default,{className:"pull-changes-modal__footer__button pull-changes-modal__footer__cancel-button",type:"secondary",onClick:this.handleClose,text:"Cancel"}),this.state.isLoading?s.createElement(j.Button,{className:"pull-changes-modal__footer__button pull-changes-modal__footer__add-button",type:"primary"},s.createElement(a.default,null)):s.createElement(_.default,{className:"pull-changes-modal__footer__button pull-changes-modal__footer__add-button",type:"primary",onClick:this.handleAcceptPullAction,isDisabled:this.isPullDisabled(),tooltip:e&&"Get online to perform this action",text:"Pull Changes"}))))}render(){(0,l.resolveStoreInstance)(r.default).isSocketConnected;const e=x.get(this.props,"model.developmentBranchName");return s.createElement(E.Modal,{className:"pull-changes-modal","data-testid":"pull-changes-modal",isOpen:this.props.isOpen,onClose:this.handleClose,customStyles:this.getCustomStyles()},s.createElement(E.ModalHeader,{heading:`Pull changes from ${e}`,className:"pull-changes-modal__header"}),s.createElement(E.ModalContent,{className:"pull-changes-modal-content"},s.createElement("div",{className:"pull-changes-modal__content"},this.state.isLoadingChanges?s.createElement(a.default,null):s.createElement(s.Fragment,null,this.renderLastCommit(),this.renderIncomingChanges()))),this.renderFooter())}})||o},"./api-dev/components/api-repo-integration/PullFeatureBranchChangesModal/PullFeatureBranchChangesModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/components/base/Buttons.js"),r=n("./js/components/base/LoadingIndicator.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/SyncStatusStore.js"),d=n("./node_modules/classnames/index.js"),u=n.n(d),p=(n("./api-dev/services/APIDevService.js"),n("./js/components/base/Tag.js")),m=n("./api-dev/constants/APIRepositoryConstants.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),v=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),I=n("./js/components/base/Dropdowns.js"),E=n("./js/modules/services/AnalyticsService.js"),_=n("./appsdk/components/link/Link.js"),S=n("./node_modules/lodash/lodash.js");let C=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isLoadingChanges:!0,incomingChangesToRender:[],noChangesToPull:!1,isLoading:!1,areChangesConflicted:!1,areOtherChanges:!1,commit:{}},this.handleClose=this.handleClose.bind(this),this.handleOpen=this.handleOpen.bind(this),this.isPullDisabled=this.isPullDisabled.bind(this),this.renderIncomingChanges=this.renderIncomingChanges.bind(this),this.handleAcceptPullAction=this.handleAcceptPullAction.bind(this)}componentDidMount(){this.props.isOpen&&this.handleOpen()}componentDidUpdate(e){this.props.isOpen&&this.props.isOpen!==e.isOpen&&this.handleOpen()}handleClose(){this.setState({isLoadingChanges:!0,incomingChangesToRender:[],areChangesConflicted:!1,areOtherChanges:!1}),this.props.close()}handleOpen(){this.props.model.featureBranch.pullChangesFromBranch().then((({changesToBePulled:e,commitId:t,commitLink:n})=>{S.map(e,(e=>{"conflicts"===e.changeType&&this.setState({areChangesConflicted:!0}),"conflicts"!==e.changeType&&this.setState({areOtherChanges:!0})})),this.setState({incomingChangesToRender:e,isLoadingChanges:!1,commit:{commitId:t,commitLink:n},noChangesToPull:!e.length})}))}getCustomStyles(){return{margin:"auto",width:"648px"}}getCommitChangeTypeClass(e){return u()({[e]:!0})}handleAcceptPullAction(){return this.setState({isLoading:!0}),S.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.featureBranch.acceptPullChanges(this.state.incomingChangesToRender,this.state.commit.commitId).then((()=>{pm.toasts.success("Changes pulled from repository.")})).finally((()=>{this.setState({isLoading:!1}),this.handleClose()}))}renderFileName(e){return"schemas"===S.get(e,"entityType")?"API Schema":S.get(e,"name")}handleSourceTypeSelect(e,t){const n=t===m.POSTMAN_CHANGES?m.CONFLICT_OPTIONS[0]:m.CONFLICT_OPTIONS[1];E.default.addEventV2({category:"api_repo_integration",action:"conflict_resolution",label:t===m.POSTMAN_CHANGES?"local-copy":"remote-copy",value:1,entityId:S.get(this.props,"model.id")}),this.setState((t=>{const o=t.incomingChangesToRender;return o[S.findIndex(o,(t=>S.get(t,"name")===S.get(e,"name")))].sourceToRetain=n,{incomingChangesToRender:o}}))}renderConflictedFilesRow(e){if(S.get(e,"isConflicted"))return s.createElement("tr",{className:"pull-changes-modal__content__item pull-changes-modal__content__item--rows"},s.createElement("td",null,s.createElement("div",{className:"pull-changes-modal__content__item--rows__file"},s.createElement("div",{className:"pull-changes-modal__content__item--rows__file--icon"},s.createElement(v.default,{name:m.ICONS_FROM_TYPE[S.get(e,"entityType")],size:"large"})),s.createElement("div",{className:"pull-changes-modal__content__item--rows__file--name"},s.createElement(h.default,{isTruncated:!0},this.renderFileName(e))))),s.createElement("td",null,s.createElement("div",{className:"pull-changes-modal__content__item--rows__tag"},s.createElement(p.default,{key:S.get(e,"name"),tagName:S.get(m.USER_FRIENDLY_CHANGE_TYPE,`[${e.changeType}].name`),type:S.get(m.TAG_TYPE_FROM_CHANGE_TYPE,`[${e.changeType}]`)}))),s.createElement("td",null,s.createElement(I.Dropdown,{className:"pull-changes-modal__content__item--rows__relation-type",onSelect:this.handleSourceTypeSelect.bind(this,e),fullWidth:!0},s.createElement(I.DropdownButton,{type:"secondary",size:"small"},s.createElement(a.Button,null,s.createElement("span",null,S.get(e,"sourceToRetain.name")))),s.createElement(I.DropdownMenu,{fluid:!0},S.map(m.CONFLICT_OPTIONS,(e=>s.createElement(I.MenuItem,{refKey:e.id},s.createElement("span",null,e.name))))))))}renderNonConflictedFilesRow(e){if(!S.get(e,"isConflicted"))return s.createElement("tr",{className:"pull-changes-modal__content__item pull-changes-modal__content__item--rows"},s.createElement("td",null,s.createElement("div",{className:"pull-changes-modal__content__item--rows__file"},s.createElement("div",{className:"pull-changes-modal__content__item--rows__file--icon"},s.createElement(v.default,{name:m.ICONS_FROM_TYPE[S.get(e,"entityType")],size:"large"})),s.createElement("div",{className:"pull-changes-modal__content__item--rows__file--name"},s.createElement(h.default,{isTruncated:!0},this.renderFileName(e))))),s.createElement("td",null,s.createElement("div",{className:"pull-changes-modal__content__item--rows__tag"},s.createElement(p.default,{key:S.get(e,"name"),tagName:S.get(m.USER_FRIENDLY_CHANGE_TYPE,`[${e.changeType}].name`),type:S.get(m.TAG_TYPE_FROM_CHANGE_TYPE,`[${e.changeType}]`)}))))}renderIncomingChangesHeader(e,t,n){return s.createElement("div",{className:"pull-changes-modal__content__tables__label"},s.createElement("div",{className:"pull-changes-modal__content__tables__label--icon"},s.createElement(v.default,{name:t,className:n,size:"large"})),s.createElement("div",{className:"pull-changes-modal__content__tables__label--name"},e))}renderIncomingChanges(){return this.state.noChangesToPull?s.createElement("div",{className:"no-changes-to-pull"},s.createElement(g.default,null),s.createElement("div",{className:"no-changes-to-pull__text"},s.createElement(h.default,{color:"content-color-secondary",type:"body-medium"},"No new changes to pull from repository"))):s.createElement(s.Fragment,null,this.state.areChangesConflicted&&s.createElement("div",{className:"pull-changes-modal__content__tables pull-changes-modal__content__tables--conflicted"},this.renderIncomingChangesHeader("Conflicts","icon-state-warning-stroke",u()({"icon-warning":!0})),s.createElement("table",null,s.createElement("thead",null,s.createElement("tr",{className:"pull-changes-modal__content__item pull-changes-modal__content__item--header"},s.createElement("td",{width:"50%"},s.createElement("th",null,"File")),s.createElement("td",{width:"25%"},s.createElement("th",null,"Status")),s.createElement("td",{width:"25%"}))),s.createElement("tbody",null,S.map(this.state.incomingChangesToRender,(e=>this.renderConflictedFilesRow(e)))))),this.state.areOtherChanges&&s.createElement("div",{className:"pull-changes-modal__content__tables pull-changes-modal__content__tables--non-conflicted"},this.renderIncomingChangesHeader("Other changes","icon-action-merge-stroke"),s.createElement("table",null,s.createElement("thead",null,s.createElement("tr",{className:"pull-changes-modal__content__item pull-changes-modal__content__item--header"},s.createElement("td",{width:"50%"},s.createElement("th",null,"File")),s.createElement("td",{width:"25%"},s.createElement("th",null,"Status")))),s.createElement("tbody",null,S.map(this.state.incomingChangesToRender,(e=>this.renderNonConflictedFilesRow(e)))))))}renderCommitId(){return s.createElement("span",{className:"pull-changes-modal__content__label__content"},S.get(this.state,"commit.commitId","").substring(0,7))}isPullDisabled(){return!(0,l.resolveStoreInstance)(c.default).isSocketConnected||!(this.state.commit.commitId!==S.get(this.props,"model.featureBranch.lastCommit")||!this.state.noChangesToPull)}renderLastCommit(){if(!this.state.noChangesToPull)return s.createElement("div",{className:"pull-changes-modal__content__label"},"Latest Commit:",s.createElement(_.default,{to:this.state.commit.commitLink,target:"_blank"},s.createElement(h.default,{type:"link-primary"},this.renderCommitId())))}renderFooter(){const e=!(0,l.resolveStoreInstance)(c.default).isSocketConnected;if(!this.state.noChangesToPull||this.state.isLoadingChanges)return s.createElement(f.ModalFooter,{className:"pull-changes-modal__footer"},s.createElement(b.default,{grow:1,shrink:1,justifyContent:"flex-end"},s.createElement("div",{className:"pull-changes-modal__footer__buttons"},s.createElement(y.default,{className:"pull-changes-modal__footer__button pull-changes-modal__footer__cancel-button",type:"secondary",onClick:this.handleClose,text:"Cancel"}),this.state.isLoading?s.createElement(a.Button,{className:"pull-changes-modal__footer__button pull-changes-modal__footer__add-button",type:"primary"},s.createElement(r.default,null)):s.createElement(y.default,{className:"pull-changes-modal__footer__button pull-changes-modal__footer__add-button",type:"primary",onClick:this.handleAcceptPullAction,isDisabled:this.isPullDisabled(),tooltip:e&&"Get online to perform this action",text:"Pull Changes"}))))}render(){(0,l.resolveStoreInstance)(c.default).isSocketConnected;const e=S.get(this.props.model,"featureBranch.branchName");return s.createElement(f.Modal,{className:"pull-changes-modal",isOpen:this.props.isOpen,onClose:this.handleClose,customStyles:this.getCustomStyles()},s.createElement(f.ModalHeader,{heading:`Pull changes from ${e}`,className:"pull-changes-modal__header"}),s.createElement(f.ModalContent,{className:"pull-changes-modal-content"},s.createElement("div",{className:"pull-changes-modal__content"},this.state.isLoadingChanges?s.createElement(r.default,null):s.createElement(s.Fragment,null,this.renderLastCommit(),this.renderIncomingChanges()))),this.renderFooter())}})||o},"./api-dev/components/api-repo-integration/utils/CommonHelpers.js":function(e,t,n){"use strict";n.r(t),n.d(t,{parseEnterpriseUrl:function(){return a},validateDirectory:function(){return i}});var o=n("./api-dev/constants/APIRepositoryConstants.js"),s=n("./node_modules/lodash/lodash.js");const i=(e,t)=>{const n=s.split(e,"/"),o=s.split(t,"/");let i=!0,a="invalidParentDirectoryError";return s.size(n)<=s.size(o)?s.each(n,((e,t)=>{if(o[t]!==e)return i=!1,!1})):(s.each(o,((e,t)=>{if(n[t]!==e)return i=!1,!1})),a="invalidChildDirectoryError"),{isInvalidDirectory:i,...i&&{errorType:a}}},a=(e,t)=>{let n={preSelectedOrg:null,preSelectedRepo:null,preSelectedBranch:null};if(!e)return n;try{const i=decodeURIComponent(new URL(e).pathname);if(t===o.GIT_SERVICES_LIST.GITHUB.serviceName){const e=s.split(i,"/")||[];return{preSelectedOrg:e[1]||null,preSelectedRepo:e[2]||null,preSelectedBranch:e[4]||null}}if(t===o.GIT_SERVICES_LIST.GITLAB.serviceName){const e=s.split(i,"/")||[];return{preSelectedOrg:e[1]||null,preSelectedRepo:e[2]&&`${e[1]}/${e[2]}`||null,preSelectedBranch:e[5]||null}}if(t===o.GIT_SERVICES_LIST.AZURE.serviceName){const t=new URL(e),n=decodeURIComponent(t.pathname),o=s.split(n,"/"),i=t.searchParams.get("version");return{preSelectedOrg:o[1]||null,preSelectedRepo:o[2]&&o[4]&&`${o[2]}/${o[4]}`||null,preSelectedBranch:i&&i.substring(2)||null}}return n}catch(e){return n}}},"./api-dev/components/api-version/APIVersionTab/APIVersionTab.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/stores/APIListStore.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/CurrentUserStore.js"),c=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),h=n("./js/modules/services/AnalyticsService.js"),g=n("./appsdk/contextbar/ContextBar.js"),f=n("./js/components/base/Panes.js"),b=n("./js/constants/Panes.js"),y=n("./js/services/NavigationService.js"),v=n("./js/constants/AppSettingsDefaults.js"),I=n("./collaboration/constants/comments.js"),E=n("./api-dev/components/common/APIOffline/APIOffline.js"),_=(n("./api-dev/stores/APIVersionItemStore.js"),n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js")),S=n("./api-dev/configs/APIVersionWorkbenchConfig.js"),C=n("./api-dev/constants/APITabModes.js"),T=n("./documentation/constants.js"),j=n("./documentation/utils/utils.js"),A=n("./node_modules/lodash/lodash.js"),w=n.n(A),O=n("./api-dev/navigation/constants.js"),N=n("./appsdk/workbench/TabService.js"),D=n("./collaboration/navigation/constants.js"),R=(n("../../packages/api-dev/api-builder-sub-tab-registry/index.js"),n("./api-dev/util/schema.js")),P=n("./js/services/CurrentUserDetailsService.js"),M=n("./api-dev/components/api/api-tab/TabBody/TabBody.js"),L=n("./js/constants/ResourceAnalyticsConstant.js"),x=n("./js/utils/client-load-analytics.js"),k=n("./api-dev/util/newrelicHelper.js"),F=n("./js/stores/ActiveWorkspaceStore.js");let V=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.handleTabChange=this.handleTabChange.bind(this),this.unsetContext=this.unsetContext.bind(this),this.promoteTab=this.promoteTab.bind(this),this.refresh=this.refresh.bind(this),this.renderTabContent=this.renderTabContent.bind(this),this.isAPIIntegrationVisible=this.isAPIIntegrationVisible.bind(this),this.handleRequestAccessToast=this.handleRequestAccessToast.bind(this),this.isUserLoggedIn=(0,r.resolveStoreInstance)(l.default).isLoggedIn}handleTabChange(e){const t={...y.default.getActiveQueryParams().get(),tab:e};w().get(this.props.model,"apiEditorUIStore.setActiveTab")&&this.props.model.apiEditorUIStore.setActiveTab(e),this.props.mode===C.NETWORK_MODE?h.default.addEventV2AndPublish({category:"private-api-network",action:`click-${e}-tab`,label:"api-version",entityId:this.props.apiVersionId,value:1,userId:P.default.userId,teamId:P.default.teamId}):C.BUILDER_MODES.includes(this.props.model.mode)&&(h.default.addEventV2({category:"api_version",entityId:w().get(this,"props.model.id"),action:"view_tab",label:e,value:1}),y.default.transitionTo("build.apiVersion",{apiId:this.props.model.apiId,versionId:this.props.model.id},t),"documentation"===e&&h.default.addEventV2({category:T.DOCUMENTATION_ANALYTICS.CATEGORY,entityId:w().get(this,"props.model.id"),entityType:"api_version",action:"open_tab",label:(0,j.getClientEventLabelForSchemaDocumentation)(this.props.model.mode,!1)}))}componentDidMount(){C.BUILDER_MODES.includes(w().get(this.props.model,"mode"))&&h.default.addEventV2({category:"api_version",entityId:w().get(this,"props.model.id"),action:"view_api_version",label:window.SDK_PLATFORM,value:1});const e=(0,r.resolveStoreInstance)(F.default);"public"===(null==e?void 0:e.visibilityStatus)&&h.default.addEventV2AndPublish({category:"explore",action:"view",entityType:"api",entityId:w().get(this.props.model,"apiId"),label:"api"})}sendComponentPerfAnalytics(e={}){try{if(this.props.editor._uniqueMark){const t=performance.measure(L.PERF_MEASURE_NAMES.API_OVERVIEW_LOAD_TIME,this.props.editor._uniqueMark);(0,x.sendMeasureAnalytics)(t),(0,k.newrelicPageAction)(L.NEWRELIC_ACTION_NAME,{action:t.name,startTime:t.startTime,duration:t.duration?+t.duration:0,tabType:"api-version",isEmpty:!!e.isEmpty,hasError:!!e.hasError}),this.props.editor._versionTabAnalyticsSent=!0}}catch(e){pm.logger.error("Failed to get API Version Tab load perf measure")}}unsetContext(e){this.props.editor.unsetContext(e)}renderOfflineState(){return s.createElement(E.default,{origin:"api-editor"})}promoteTab(){w().get(this.props,"editor._editorModel.isPreview")&&w().get(this.props,"editor._editorModel.promoteEditor")&&this.props.editor._editorModel.promoteEditor()}isAPIIntegrationVisible(){return this.isUserLoggedIn&&w().get(this.props,"model.apiPermissionStore.canViewAPIIntegrations")}handleRequestAccessToast(e,t){const{addToast:n}=this.props,o=this.props.model.apiId;n(e&&t?{title:"You do not have permission",status:"info",description:s.createElement(s.Fragment,null,"You don't have permission to view this version."," ",s.createElement(d.default,{onClick:()=>y.default.transitionTo(D.ACCESS_REQUEST_CREATE_BUILD_IDENTIFIER,null,{entityType:"api",entityId:o,type:"grant_role",entityName:this.props.model.apiName}),type:"monochrome-plain",text:"Request access"}))}:{status:"info",description:"You don't have permission to view this API version."})}renderTabContent(){const{mode:e=C.DEFAULT_MODE}=this.props.model,t=w().get(S.default[e],"versionHeader",S.default[C.DEFAULT_MODE].versionHeader),n=(w().get(S.default[e],"headerBanner",S.default[C.DEFAULT_MODE].headerBanner),{name:w().get(this,"props.model.name"),tag:w().get(this,"props.model.stage"),editor:this.props.editor,model:this.props.model,unsetContext:this.unsetContext,contextBarRef:this.contextBarRef,onTabChange:this.handleTabChange,promoteTab:this.promoteTab.bind(this)});return s.createElement(u.default,{direction:"column",height:"100%"},s.createElement(u.default,{basis:"auto",direction:"column"},t(n)),s.createElement(u.default,{direction:"column",grow:1,shrink:1,basis:"0%",className:"api-tab-content-pane__head"},s.createElement(M.default,{model:this.props.model,editor:this.props.editor})))}renderTab(){const e={id:w().get(this,"props.model.apiId"),versionId:w().get(this,"props.model.id"),versionName:w().get(this,"props.model.name"),createdAt:w().get(this,"props.model.createdAt"),createdBy:w().get(this,"props.model.createdBy"),versionCreatedBy:w().get(this,"props.model.createdBy"),versionCreatedAt:w().get(this,"props.model.createdAt"),schemaId:w().get(this,"props.model.schema.schemaId"),schemaLoading:w().get(this,"props.model.schema.isSchemaLoading"),schemaValid:w().get(this,"props.model.schema.isSchemaValid"),apiDefinitionId:w().get(this,"props.model.schema.apiDefinitionId"),permissions:w().get(this,"props.model.apiPermissionStore.permissions"),commentModel:"api",commentModelId:w().get(this,"props.model.apiId"),commentLinkDisabled:!1,name:w().get(this,"props.model.name"),apiName:w().get(this,"props.model.apiName"),versions:w().get(this,"props.model.versions"),isOffline:w().get(this,"props.model.isOffline"),anchor:`${I.MODEL_TYPE.API}/${w().get(this,"props.model.apiId")}`,editor:w().get(this.props,"editor"),handleTabChange:this.handleTabChange,model:w().get(this,"props.model"),promoteTab:this.promoteTab},t=w().get(this,"props.model.schema.type"),n=!!w().get(this.props,"model.schema.apiDefinitionId"),o=(0,R.shouldDisableFeatureForProtoRelease)(n,t),i=o?["api-info"]:["api-version-comments","server-codegen","api-version-changelog","api-info"],a=o?["api-info"]:["api-version-comments","server-codegen","api-version-source-control","api-info"],c=w().get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured")?a:i;return(0,r.resolveStoreInstance)(l.default).isLoggedIn&&h.default.addEventV2AndPublish({category:"recent_view",action:"api_view",entityType:"api",entityId:w().get(this,"props.model.apiId")}),s.createElement(f.PaneGroup,{defaultLayout:b.PANE_LAYOUT_HORIZONTAL},s.createElement(f.Pane,{width:{min:v.default.ui.WORKBENCH_MIN_WIDTH}},s.createElement(f.PaneContent,{className:"api-tab-content-pane"},this.renderTabContent())),s.createElement(g.ContextBarPane,{ref:e=>{this.contextBarRef=e},contextData:e,allowedContexts:c,editorId:this.props.id}))}refresh(){w().isFunction(w().get(this.props.model,"reload"))&&this.props.model.reload()}render(){if(w().get(this,"props.model.isOffline",!1))return this.renderOfflineState();if(w().get(this,"props.model.isAPIVersionNotFound")||w().get(this,"mode.isAPIVersionDeleted"))return s.createElement(c.default,{title:"This API does not exist",description:"The API you are trying to access could not be found.",blankState:s.createElement(p.default,null)});const e=(0,r.resolveStoreInstance)(l.default),t=this.isUserLoggedIn,n=e.teamId;if(!!this.props.model.isForbiddenErrorState){return(0,r.resolveStoreInstance)(a.default).find(this.props.model.apiId)&&(N.default.closeByRoute(O.OPEN_API_VERSION_URL,{apiId:this.props.model.apiId,versionId:this.props.model.id}),y.default.transitionTo("build.api",{apiId:this.props.model.apiId}),this.handleRequestAccessToast(t,n)),null}if(w().get(this,"props.model.hasErrorState"))return this.props.model.mode===C.NETWORK_MODE&&h.default.addEventV2AndPublish({category:"private-api-network",action:"view-missing",label:"api-version",entityType:"api-version",entityId:this.props.apiVersionId,value:1,userId:(0,r.resolveStoreInstance)(l.default).id,teamId:(0,r.resolveStoreInstance)(l.default).teamId}),this.props.editor._versionTabAnalyticsSent||this.sendComponentPerfAnalytics({hasError:!0}),s.createElement(c.default,{title:"Couldn't load the API",description:"That wasnt supposed to happen. Give it another try.",blankState:s.createElement(p.default,null),buttonText:"Try Again",handler:this.refresh});return w().get(this,"props.model.isAPIVersionReady")?(this.props.editor._versionTabAnalyticsSent||this.sendComponentPerfAnalytics(),s.createElement("div",{className:"api-editor-container"},s.createElement("div",{className:"api-editor"},s.createElement("div",{className:"api-tab-content"},this.renderTab())))):s.createElement(_.default,null)}})||o;t.default=(0,m.default)(V)},"./api-dev/components/api-version/APIVersionTabHeader/APIVersionTabHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var o,s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-options-stroke.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-back.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-hide-stroke-small.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("../../node_modules/react/index.js"),p=n("../../node_modules/react-dom/index.js"),m=n("./js/stores/CurrentUserStore.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/SyncStatusStore.js"),f=n("./api-dev/stores/APIListStore.js"),b=n("./js/components/base/Dropdowns.js"),y=n("./js/components/base/InlineInput.js"),v=n("./js/components/base/Tooltips.js"),I=n("./js/stores/ActiveWorkspaceStore.js"),E=n("./js/stores/TeamStore.js"),_=n("./apinetwork/common/CopyLinkButton.js"),S=n("./js/constants/MoreButtonTooltipConstant.js"),C=n("./js/modules/services/AnalyticsService.js"),T=n("./js/modules/services/ShareModalService.js"),j=n("./version-control/Watch/components/WatchContainer/Watch.js"),A=n("./api-dev/constants/APIActionsConstants.js"),w=n("./api-dev/constants/APITooltips.js"),O=n("./api-dev/constants/Permissions.js"),N=n("./api-dev/services/APIPermissionService.js"),D=n("./api-dev/util/TooltipText.js"),R=n("./api-dev/components/api/ShareButton/ShareButton.js"),P=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),M=(n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),n("./api-dev/components/api-version/common/APIStatusIcon/APIStatusIcon.js")),L=n("./api-dev/interfaces/APIInterface.js"),x=n("./js/stores/IntegrationsStore.js"),k=n("./js/services/NavigationService.js"),F=n("./node_modules/lodash/lodash.js");const V=pm.logger.getContext("APIVersionTabHeader","apiDev");let B=(0,d.observer)(o=class extends u.Component{constructor(e){super(e),this.integrationsStore=(0,h.resolveStoreInstance)(x.default),this.state={isRenamingAPI:!1,showTooltip:!1,showVersionDeleteModal:!1},this.handleToggleAPIVersionDeleteModal=this.handleToggleAPIVersionDeleteModal.bind(this),this.handleDropdownActionSelect=this.handleDropdownActionSelect.bind(this),this.handleRename=this.handleRename.bind(this),this.handleRenameSubmit=this.handleRenameSubmit.bind(this),this.handleToggleEditName=this.handleToggleEditName.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.handleVersionDeleteSubmit=this.handleVersionDeleteSubmit.bind(this),this.attachResizeListener=this.attachResizeListener.bind(this),this.handleShareAPI=this.handleShareAPI.bind(this),this.renderWatchBtn=this.renderWatchBtn.bind(this),this.navigateBackToOverview=this.navigateBackToOverview.bind(this),this.apiStore=(0,h.resolveStoreInstance)(f.default),this.resizeObserver=null}renderWatchBtn(){const e=(0,h.resolveStoreInstance)(m.default).hasPublicProfile?"public":"private",t=(0,h.resolveStoreInstance)(E.default).handle?"public":"private",n={label:`${e}_user__${(0,h.resolveStoreInstance)(I.default).visibilityStatus}_workspace__${t}_team`,category:"api"};return u.createElement(j.default,{model:"api",modelId:this.props.model.apiId,analyticsOptions:n})}handleShareAPI(){(0,T.shareAPI)(this.props.model.apiId)}async componentDidMount(){this.attachResizeListener()}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}attachResizeListener(){this.resizeObserver=new ResizeObserver((e=>{for(let t of e)t.target.clientWidth<=750?this.props.model.apiEditorUIStore.shrinkWindow():this.props.model.apiEditorUIStore.expandWindow()}));let e=p.findDOMNode(this);this.resizeObserver&&this.resizeObserver.observe(e)}shouldDisable(e=!0){const t=!(0,h.resolveStoreInstance)(g.default).isSocketConnected,n=this.props.model.isAPIDeleted;return t||n||!e}getDisabledText(e,t=!0){const n=!(0,h.resolveStoreInstance)(g.default).isSocketConnected,o=(0,h.resolveStoreInstance)(m.default).team,s=this.props.model.isAPIDeleted;return n?w.IS_OFFLINE_TOOLTIP_MSG:s?O.DELETED_API_DISABLED_TEXT:"Manage"!==e||o?t?null:O.API_PERMISSION_ERROR:O.MANAGE_ROLES_DISABLED_TEXT}isLoggedIn(){return(0,h.resolveStoreInstance)(m.default).isLoggedIn}handleToggleAPIVersionDeleteModal(){this.setState((e=>({showVersionDeleteModal:!e.showVersionDeleteModal})))}handleVersionDeleteSubmit(){return this.props.model.deleteAPIVersion().catch((e=>{pm.logger.error("APIVersionTabHeader - ",e,{context:V})}))}handleDropdownActionSelect(e,t){if(!this.shouldBlockAction(e))switch(e){case A.ACTION_TYPE_RENAME:this.handleRename();break;case A.ACTION_TYPE_DELETE:this.handleToggleAPIVersionDeleteModal();break;default:return}}shouldBlockAction(e){switch(e){case A.ACTION_TYPE_RENAME:case A.ACTION_TYPE_DELETE:return!this.isLoggedIn()&&(pm.mediator.trigger("showSignInModal",{type:`${e}API`,origin:`api_builder_${e}_button`,continueUrl:new URL(window.location.href)}),!0);default:return!1}}handleRename(){this.shouldBlockAction(A.ACTION_TYPE_RENAME)||this.refs.inlineInput&&this.refs.inlineInput.toggleEdit()}handleRenameSubmit(e){if(!(0,h.resolveStoreInstance)(g.default).isSocketConnected)return pm.toasts.error(w.IS_OFFLINE_TOOLTIP_MSG),void(this.refs.inlineInput&&this.refs.inlineInput.setState({value:this.props.model.apiName}));(0,L.migrateAPI)(this.props.model.apiId,this.props.model.id).then((({migratedAPIId:t})=>this.apiStore.rename(t,e))).catch((()=>{this.refs&&this.refs.inlineInput&&this.refs.inlineInput.setState({value:this.props.model.apiName})}))}handleToggleEditName(e){this.setState({isRenamingAPI:!this.state.isRenamingAPI,showTooltip:!1});const t=this.refs.inlineInput;e&&t&&(t.focus(),t.selectAll())}getDefaultContextMenuActions(){const e=!(0,h.resolveStoreInstance)(g.default).isSocketConnected,t=F.get(this.props,"model.isAPIDeleted"),n=this.apiStore.permissions,o=F.get(this,"props.model.apiPermissionStore.canRenameAPIVersion",!1),s=N.default.hasPermission(n,"delete","api",this.props.model.apiId);return[{action:A.ACTION_TYPE_RENAME,label:"Rename",isDisabled:e||t||!o,disabledText:this.getDisabledText("Rename",o),hasPermission:o},{action:A.ACTION_TYPE_DELETE,label:"Delete",isDisabled:e||t||!s,disabledText:this.getDisabledText("Delete",s),hasPermission:s}]}handleAnalytics(e,t,n){C.default.addEventV2({category:t,entityId:this.props.model.id,action:e,label:n,value:1})}showTooltip(){this.setState({showTooltip:!0})}hideTooltip(){this.setState({showTooltip:!1})}renderRightSectionButtons(){F.get(this.props,"model.schema.type"),F.get(this.props,"model.schema.apiDefinitionId");return u.createElement(s.default,{className:"api-editor-header__right-section",gap:"spacing-s"},(0,R.default)(this.props.model.apiId),this.renderWatchBtn(),!F.get(this.props,"model.isCommentMode")&&u.createElement(u.Fragment,null,u.createElement("div",{className:"button-wrapper api-context-menu-button"},u.createElement(b.Dropdown,{ref:"menu",onSelect:this.handleDropdownActionSelect,className:"api-context-menu-dropdown"},u.createElement(b.DropdownButton,{dropdownStyle:"nocaret",type:"custom"},u.createElement(i.default,{tooltip:S.ACTION_TYPE_VIEW_MORE_ACTIONS_TOOLTIP,type:"tertiary",icon:u.createElement(a.default,null)})),u.createElement(b.DropdownMenu,{"align-right":!0},F.map(this.getDefaultContextMenuActions(),(e=>{const{action:t,isDisabled:n,hasPermission:o,disabledText:s,label:i,icon:a}=e;return u.createElement(b.MenuItem,{key:t,refKey:t,disabled:n,disabledText:n&&(0,D.default)(n,!o,s)},a,u.createElement("div",{className:"dropdown-menu-item-label"},i))})))))))}navigateBackToOverview(){this.props.model.apiEditorUIStore.setActiveScreen(null)}render(){const e=!(0,h.resolveStoreInstance)(m.default).isLoggedIn,t=F.get(this.props,"model.isAPIDeleted"),n=F.get(this.props.model,"isPublic"),o=F.get(this.apiStore.find(F.get(this.props.model,"id")),"isEditable",!0),s=Boolean(F.get(this.props.model,"team")),a=F.get(this.props.model,"apiId"),d=F.get(this,"props.model.apiPermissionStore.canRenameAPIVersion",!1),p={apiName:F.get(this.props,"model.apiName",""),type:"api"};return u.createElement(u.Fragment,null,u.createElement("div",{className:"api-editor-header"},u.createElement("div",{className:"api-editor-header__left-section"},!this.props.model.apiEditorUIStore.noActiveScreen&&u.createElement(i.default,{className:"api-editor-header__back-button",type:"tertiary",icon:u.createElement(r.default,null),tooltip:"Back to API Overview",onClick:this.navigateBackToOverview}),u.createElement("div",{className:"api-name-label",title:this.props.model.apiName},u.createElement(y.default,{className:"api-name-input",onToggleEdit:this.handleToggleEditName,onSubmit:this.handleRenameSubmit,ref:"inlineInput",value:this.props.model.apiName,placeholder:"API Name"})),u.createElement("div",{className:"api-name-label"},"private"===this.props.model.visibility&&u.createElement(l.default,{title:"Only visible to editors",className:"hide-icon"}),u.createElement(M.default,{isPublic:n,isEditable:o,isShared:s}),!this.state.isRenamingAPI&&!e&&d&&!t&&u.createElement(u.Fragment,null,u.createElement("div",{className:"edit-icon-rename",ref:e=>this.editIconRef=e,onClick:this.handleRename,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},u.createElement(c.default,{name:"icon-action-edit-stroke",color:"content-color-secondary",size:"small"})),u.createElement(v.Tooltip,{show:this.state.showTooltip,target:this.editIconRef,placement:"bottom",immediate:!0},u.createElement(v.TooltipBody,null,"Edit API name"))),!this.state.isRenamingAPI&&u.createElement(_.default,{className:"copy-link-icon",entityId:a,customIds:k.default.getActiveQueryParams().get(),entityType:"api",size:"small"}))),this.renderRightSectionButtons(),u.createElement(P.default,{isOpen:this.state.showVersionDeleteModal,onRequestClose:this.handleToggleAPIVersionDeleteModal,headerTitle:`Delete "${F.get(this.props,"model.apiName","")}"?`,subTitle:`${F.get(this.props,"model.apiName")}`,additionalData:p,btnContent:"Delete API",onSubmit:this.handleVersionDeleteSubmit,isLoading:F.get(this.props,"model.isLoadingDeleteVersion")})))}})||o},"./api-dev/components/api-version/APIVersionWorkbenchView/APIVersionWorkbenchView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js"),r=n("./api-dev/components/api-version/APIVersionTab/APIVersionTab.js"),l=n("./api-dev/components/release/ReleaseView/ReleaseView.js"),c=n("./api-dev/constants/APITabModes.js"),d=n("./js/stores/StoreManager.js"),u=n("./api-dev/components/new-api/NewAPIOptionsTab/NewAPIOptionsTab.js"),p=n("./api-dev/stores/APIListStore.js"),m=n("./billing/stores/ResourceUsageStore.js"),h=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),g=n("../../packages/universe/universe-common/index.js"),f=n("./api-dev/components/api-version/ConsumerView/ConsumerView.js"),b=n("./api-dev/util/error.js"),y=n("./api-dev/constants/V10UIConstants.js"),v=n("./node_modules/lodash/lodash.js");let I=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isLoading:!1},this.toggleIsLoadingAPI=this.toggleIsLoadingAPI.bind(this),this.renderReleaseView=this.renderReleaseView.bind(this),this.renderAPIView=this.renderAPIView.bind(this),this.resourceUsageStore=(0,d.resolveStoreInstance)(m.default),this.resourceUsageStore.debouncedfetchUsageForOperation(y.API_GIT_V2_USAGE_OPERATION)}componentDidMount(){const e=(0,d.resolveStoreInstance)(p.default),t=this.state.isLoading||v.get(e,"isStoreHydrating")||!v.get(this,"props.controller.workbenchModel")||this.resourceUsageStore.isFetchingOperationUsage;this.timeoutId=setTimeout((()=>{t&&(this.state.isLoading&&(0,b.logToNewRelic)({message:`API Tab in loading state after 5 seconds of mounting, cause: {this.state.isLoading} ${v.get(this,"props.controller.apiId")}`},"APIVersionWorkbenchView","componentDidMount"),v.get(e,"isStoreHydrating")&&(0,b.logToNewRelic)({message:`API Tab in loading state after 5 seconds of mounting, cause: {apiListStore.isStoreHydrating} ${v.get(this,"props.controller.apiId")}`},"APIVersionWorkbenchView","componentDidMount"),!v.get(this,"props.controller.workbenchModel")&&(0,b.logToNewRelic)({message:`API Tab in loading state after 5 seconds of mounting, cause: {!this.props.controller.workbenchModel} ${v.get(this,"props.controller.apiId")}`},"APIVersionWorkbenchView","componentDidMount"),this.resourceUsageStore.isFetchingOperationUsage&&(0,b.logToNewRelic)({message:`API Tab in loading state after 5 seconds of mounting, cause: {this.resourceUsageStore.isFetchingOperationUsage} ${v.get(this,"props.controller.apiId")}`},"APIVersionWorkbenchView","componentDidMount"))}),5e3);try{const e=(0,d.resolveStoreInstance)(h.default),t=v.get(this,"props.controller.apiId");"public"===v.get(e,"visibilityStatus")&&(0,g.getIndexStatus)("api",t).then((e=>{v.get(e,"index",!0)||v.invoke(this,"props.controller.setPublicEntityMetaData",{content:"noindex,nofollow"})}))}catch(e){pm.logger.error("ModerationService~getIndexStatus, failed to set index status")}}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}toggleIsLoadingAPI(){this.setState((e=>({isLoading:!e.isLoading})))}renderReleaseView(){return s.createElement(l.default,{controller:this.props.controller.releaseController,id:this.props.id,editor:v.get(this,"props.controller")})}renderAPIView(){const e=(0,d.resolveStoreInstance)(p.default),t=v.get(this,"props.controller.workbenchModel.apiId"),n=e.find(t),o=v.get(this,"props.controller.workbenchModel"),i=v.get(this,"props.controller.apiModel.isMigrated"),m="builder"===v.get(o,"apiMode.name")&&!i&&!1===v.get(this.props.controller,"isUserProducer"),h=this.resourceUsageStore.isResourceLimitReached(y.API_GIT_V2_USAGE_OPERATION),g=this.resourceUsageStore.isFetchingOperationUsage;if(m)return s.createElement(f.default,{controller:v.get(this,"props.controller"),editor:v.get(this,"props.controller"),model:v.get(this,"props.controller.workbenchModel"),id:this.props.id});if(!1===v.get(this.props.controller,"isUserProducer"))return s.createElement(l.default,{controller:v.get(this,"props.controller"),id:this.props.id,editor:v.get(this,"props.controller")});if(this.state.isLoading||v.get(e,"isStoreHydrating")||!v.get(this,"props.controller.workbenchModel")||g)return s.createElement(a.default,null);const b=v.get(n,"name"),I=v.get(n,"configurationSource"),E=v.get(this.props,"controller.isRenamingAPI"),_=v.isEqual(I,"NONE")&&v.isEmpty(v.get(o,"collectionBasedRelations"))&&!(v.get(o,"schemaId")||v.get(o,"apiDefinitionId"))&&!v.get(o,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured")&&!h;return!_&&v.isEqual(I,"NONE")&&e.configureAPI(t),_?s.createElement(u.default,{apiId:t,editor:v.get(this,"props.controller"),model:v.get(this,"props.controller.workbenchModel"),toggleIsLoadingAPI:this.toggleIsLoadingAPI,keepInRenamingState:E,apiName:b}):s.createElement(r.default,{mode:c.BUILD_MODE,editor:v.get(this,"props.controller"),model:v.get(this,"props.controller.workbenchModel"),id:this.props.id,apiId:v.get(this,"props.controller.apiId"),apiVersionId:v.get(this,"props.controller.id")})}render(){var e;return null!==(e=this.props.controller)&&void 0!==e&&e.isShowingReleaseView?this.renderReleaseView():this.renderAPIView()}})||o},"./api-dev/components/api-version/ConsumerView/ConsumerOverview/ConsumerOverview.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),c=n("./node_modules/lodash/lodash.js");let d=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={theme:pm.settings.getSetting("postmanTheme")}}componentDidMount(){pm.settings.on("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}componentWillUnmount(){pm.settings.off("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}render(){const e=c.get(this.props.model,"apiModel.description"),t=c.get(this.props.model,"apiModel.summary"),n=t?"content-color-primary":"content-color-secondary";return i.createElement(a.default,{gap:"spacing-m",direction:"column"},i.createElement(r.default,{color:n},t||"No summary added"),i.createElement(l.DocumentationProvider,{theme:this.state.theme},i.createElement(l.MarkdownViewer,{className:"description-preview__markdown",markdown:e||"No description added"})))}})||o},"./api-dev/components/api-version/ConsumerView/ConsumerTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/components/common/APIOffline/APIOffline.js"),r=n("./js/constants/AppSettingsDefaults.js"),l=n("./appsdk/contextbar/ContextBar.js"),c=n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js"),d=n("./js/components/base/Panes.js"),u=n("./js/constants/Panes.js"),p=n("./api-dev/components/api-version/ConsumerView/ConsumerTabHeader/ConsumerTabHeader.js"),m=n("./api-dev/components/api-version/ConsumerView/ConsumerTabBody/ConsumerTabBody.js"),h=n("./node_modules/lodash/lodash.js");let g=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={activeTab:"overview"}}renderOfflineState(){return s.createElement(a.default,null)}render(){if(!1!==h.get(this.props.model,"isMetaDataLoading"))return s.createElement(c.default,null);const e={id:h.get(this.props,"model.apiId"),createdAt:h.get(this.props,"model.createdAt"),createdBy:h.get(this.props,"model.createdBy"),schemaId:h.get(this.props,"model.schema.schemaId"),schemaLoading:h.get(this.props,"model.schema.isSchemaLoading"),schemaValid:h.get(this.props,"model.schema.isSchemaValid"),apiDefinitionId:h.get(this.props,"model.schema.apiDefinitionId"),permissions:h.get(this.props,"model.apiPermissionStore.permissions"),name:h.get(this.props,"model.name"),isOffline:h.get(this.props,"model.isOffline"),editor:h.get(this.props,"editor"),model:h.get(this.props,"model"),promoteTab:this.promoteTab},t=h.get(this.props.model,"isOffline");return s.createElement("div",{className:"release-container"},s.createElement("div",{className:"release-tab"},s.createElement("div",{className:"release-content"},s.createElement(d.PaneGroup,{defaultLayout:u.PANE_LAYOUT_HORIZONTAL},s.createElement(d.Pane,{width:{min:r.default.ui.WORKBENCH_MIN_WIDTH}},s.createElement(d.PaneContent,{className:"release-content-pane"},t?this.renderOfflineState():s.createElement(s.Fragment,null,s.createElement(p.default,{model:this.props.model,closeCurrentTab:this.props.closeCurrentTab}),s.createElement(m.default,{model:this.props.model,editor:this.props.editor})))),s.createElement(l.ContextBarPane,{ref:e=>{this.contextBarRef=e},contextData:e,allowedContexts:["server-codegen","api-version-changelog","api-info"],editorId:this.props.id})))))}})||o},"./api-dev/components/api-version/ConsumerView/ConsumerTabBody/ConsumerTabBody.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("./api-dev/registries/APITabTiles.js"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./api-dev/components/common/tab/Tile/Tile.js"),u=n("./node_modules/lodash/lodash.js");let p=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}renderTileBody(e){const t=r.CONSUMER_TILES[e].view;let n=u.get(this.props.model,"apiId"),o=u.get(this.props.model,"id"),i={schemaId:u.get(this.props,"model.schemaId"),apiDefinitionId:u.get(this.props,"model.apiDefinitionId")};return s.createElement("div",{className:"version-tab-body__default__tile-body"},t&&s.createElement(t,{model:this.props.model,editor:this.props.editor,viewMode:{name:"builder",value:"",view:"workspace"},apiId:n,apiVersionId:o,entityMeta:i,isLoading:u.get(this.props,"model.isLoading")}))}getClassesForTilePane(){return c()({"version-tab-body__default__pane":!0})}getClassesForDefaultView(){return c()({"version-tab-body__default":!0})}getDefaultOptions(){let e=0;return u.reduce(r.CONSUMER_TILES,(t=>(t.push(e),e++,t)),[])}render(){return s.createElement("div",{className:"version-tab-body"},s.createElement(a.default,{direction:"row",gap:"spacing-xxl",className:this.getClassesForDefaultView()},s.createElement("div",{className:this.getClassesForTilePane()},u.map(u.keys(r.CONSUMER_TILES),(e=>s.createElement(d.default,{headerText:r.CONSUMER_TILES[e].title,renderBody:()=>this.renderTileBody(e)}))))))}})||o;t.default=p},"./api-dev/components/api-version/ConsumerView/ConsumerTabHeader/ConsumerTabHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("./node_modules/lodash/lodash.js");let c=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}render(){const e=l.get(this.props.model,"apiName");return s.createElement(a.default,{padding:"spacing-l"},s.createElement(r.default,{type:"h4",text:e}))}})||o},"./api-dev/components/api-version/ConsumerView/ConsumerView.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/constants/WorkbenchConstants.js"),r=n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/SyncStatusStore.js"),d=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),m=n("./api-dev/components/api-version/ConsumerView/ConsumerTab.js"),h=n("./api-dev/components/api/EmptyAPI/EmptyAPI.tsx"),g=n("./js/constants/ResourceAnalyticsConstant.js"),f=n("./js/utils/client-load-analytics.js"),b=n("./api-dev/util/newrelicHelper.js"),y=n("./node_modules/lodash/lodash.js");let v=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={releases:[],activeRelease:null},this.refresh=this.refresh.bind(this)}sendComponentPerfAnalytics(e={}){try{if(this.props.editor._uniqueMark){const t=performance.measure(g.PERF_MEASURE_NAMES.API_OVERVIEW_LOAD_TIME,this.props.editor._uniqueMark);(0,f.sendMeasureAnalytics)(t),(0,b.newrelicPageAction)(g.NEWRELIC_ACTION_NAME,{action:t.name,startTime:t.startTime,duration:t.duration?+t.duration:0,tabType:"api-consumer",isEmpty:!!e.isEmpty,hasError:!!e.hasError}),this.props.editor._versionTabAnalyticsSent=!0}}catch(e){pm.logger.error("Failed to get API Version Tab load perf measure")}}refresh(){y.isFunction(y.get(this.model,"reload"))&&this.model.reload()}render(){this.workbenchModel=this.props.controller.workbenchModel;const e=y.get(this.props,"controller.status"),t=!(0,l.resolveStoreInstance)(c.default).isSocketConnected;if(e===a.ERROR)return this.props.editor._versionTabAnalyticsSent||this.sendComponentPerfAnalytics({hasError:!0}),s.createElement(d.default,{title:"Couldn't load the API",description:"That wasnt supposed to happen. Give it another try.",blankState:s.createElement(u.default,null),buttonText:"Try Again",handler:this.refresh});if(e===a.READY||t){var n,o,i;const e=!(null!==(n=this.props.controller)&&void 0!==n&&null!==(o=n.workbenchModel)&&void 0!==o&&null!==(i=o.hasRelations)&&void 0!==i&&i.call(o));return this.props.editor._versionTabAnalyticsSent||this.sendComponentPerfAnalytics({isEmpty:e}),e?s.createElement(h.EmptyAPI,{apiId:this.workbenchModel.apiId}):s.createElement(m.default,{model:this.props.controller.workbenchModel,id:this.props.id,closeCurrentTab:this.props.controller.closeTab})}return s.createElement("div",{className:"release-view--loading"},s.createElement(r.default,null))}})||o;t.default=(0,p.default)(v)},"./api-dev/components/api-version/VersionSelectorDropdown/VersionSelectorDropdown.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),l=n("./node_modules/react-select/dist/react-select.esm.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("./api-dev/components/api-version/VersionSelectorDropdown/VersionSelectorDropdownCustomComponents.js"),p=n("./api-dev/components/api-version/VersionSelectorDropdown/VersionSelectorDropdownCustomStyles.js");function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(this,arguments)}const h=(0,s.default)(l.default)`
  ${p.postmanSpecificStyles}
`,g=s.default.div`
  display: flex;
  flex-direction: column;
  margin-right: ${e=>e.theme["spacing-xs"]};
`,f=(0,s.default)(i.default)`
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  color: ${e=>e.theme["content-color-primary"]};
  max-width: 100px;
`,b=s.default.div`
    box-sizing: border-box;
    cursor: pointer;
    display: flex;
    align-items: center;
    height: ${e=>e.theme["size-m"]};
    width: max-content;
    border: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} transparent`};
    border-radius: ${e=>e.theme["border-radius-default"]};
    max-width: ${175}px;
    padding-left: ${e=>e.theme["spacing-s"]};
    transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    color: ${e=>e.theme["content-color-primary"]};
    background-color: ${e=>e.theme["background-color-primary"]};

    &:focus {
      outline: none;
      border: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["input-border-color-focus"]}`};
      box-shadow: ${e=>`0 0 0 2px ${e.theme["input-shadow-focus"]}`};
    }
    
    ${e=>e.isDisabled&&`\n          user-select: none;\n          cursor: not-allowed;\n          background: ${e.theme["input-background-color-disabled"]};\n          border: ${e.theme["border-width-default"]}\n            ${e.theme["border-style-solid"]}\n            ${e.theme["border-color-strong"]};\n          color: ${e.theme["content-color-tertiary"]};\n\n          & svg path {\n            fill: ${e.theme["content-color-tertiary"]};\n          }\n\n          &:hover {\n            border-color: ${e.theme["border-color-strong"]};\n          }\n        `}

    & > *:not(:last-child) {
      margin-right: ${e=>e.theme["spacing-xs"]};
    }
  `,y=s.default.div`
  height: 100%;
  display: flex;
  align-items: center;
  flex-shrink: 0;
  padding: ${e=>`${e.theme["spacing-zero"]} ${e.theme["spacing-xs"]};`};
`;function v(e){const{className:t,customOptionComponent:n,emptyStateMessage:s,footer:i,id:l,isDisabled:c,isLoading:d,isMultiSelect:v,isOptionDisabled:I,isSearchable:E,inlineLabel:_,menuMaxHeight:S,menuWidth:C,onChange:T,onCreateNewOption:j,options:A,placeholder:w,value:O}=e,[N,D]=o.useState(A),[R,P]=o.useState(!1),M=(0,o.useRef)(null),L=(0,o.useRef)(null);return o.useEffect((()=>{D(A)}),[A]),o.createElement(g,null,function(e,t,n,s,i){return o.createElement(b,{isDisabled:e,onClick:n,ref:t,tabIndex:"0"},o.createElement(f,{isTruncated:!0,text:s||i}),o.createElement(y,null,o.createElement(r.default,null)))}(c,M,(function(){c||P((e=>!e))}),_,w),o.createElement(a.default,{isOpen:R,gap:8,maxWidth:"auto",padding:"spacing-zero",placement:"bottom-start",triggerRef:M,onClickOutside:function(){P(!1)}},d?o.createElement(u.StaticLoader,{width:`${C}px`}):o.createElement(h,m({ref:L,isMulti:v,hideSelectedOptions:!1,menuIsOpen:!0,inputId:l,onChange:function(e,{action:t,option:n}){"create-option"===t&&(D([n,...N]),j&&j(n)),T(e),v||P(!1)},onClearSelectedOptions:function(){L.current.clearValue()}},O&&{value:O},{options:N,placeholder:"Search",isDisabled:c,isSearchable:E},I&&{isOptionDisabled:I},{emptyStateMessage:s,formatOptionLabel:!d&&n,footer:i,className:t,classNamePrefix:"version-selector",maxMenuHeight:S,menuWidth:C,styles:{...p.customBaseStyles,control:e=>({...e,width:C}),menu:e=>({...e,position:"static",width:C,top:0})},components:{ClearIndicator:null,Control:u.FilterSelectSearch,DropdownIndicator:null,IndicatorSeparator:null,Input:u.Input,Menu:u.Menu,MenuList:u.MenuList,...v&&{MultiValue:u.EmptyValueContainer},...!v&&{SingleValue:u.EmptyValueContainer},Option:u.CheckBoxOption,NoOptionsMessage:u.EmptyState,Placeholder:u.Placeholder}}))))}v.defaultProps={className:"",customOptionComponent:null,emptyStateMessage:"No versions found",isDisabled:!1,isLoading:!1,isMultiSelect:!0,isOptionDisabled:()=>{},isSearchable:!1,menuMaxHeight:"auto",menuWidth:"300px",onCreateNewOption:null,placeholder:"Select option",value:null},v.propTypes={onChange:d().func.isRequired,options:d().arrayOf(d().shape({label:d().string,value:d().oneOfType([d().string,d().number])})).isRequired,id:d().string.isRequired,inlineLabel:d().string.isRequired,value:d().array,className:d().string,emptyStateMessage:d().string,customOptionComponent:d().func,isDisabled:d().bool,isLoading:d().bool,isMultiSelect:d().bool,isOptionDisabled:d().func,isSearchable:d().bool,menuMaxHeight:d().oneOf([d().number,"auto"]),placeholder:d().string}},"./api-dev/components/api-version/VersionSelectorDropdown/VersionSelectorDropdownCustomComponents.js":function(e,t,n){"use strict";n.r(t),n.d(t,{CheckBoxOption:function(){return f},EmptyState:function(){return O},EmptyValueContainer:function(){return y},FilterSelectSearch:function(){return b},Input:function(){return E},Menu:function(){return A},MenuList:function(){return j},Placeholder:function(){return v},StaticLoader:function(){return N}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("./node_modules/react-select/dist/index-4bd03571.esm.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-check-stroke.js"),r=n("../../node_modules/@postman/aether/esmLib/index.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js");const m=s.default.div`
  box-sizing: border-box;
  display: flex;
  align-items: center;
  cursor: pointer;
  font-size: ${e=>e.theme["text-size-m"]};
  line-height: ${e=>e.theme["line-height-m"]};
  padding: ${e=>`${e.theme["spacing-xs"]} ${e.theme["spacing-m"]};`};
  border-radius: ${e=>e.theme["border-radius-default"]};
  color: ${e=>e.theme["content-color-primary"]};
  /* The menuWidth gives the width of the parent of the container i.e. the default width of the dropdown-menu
   Each dropdown option has 8px left-right padding from dropdown-menu. So subtracting 16 (8px*2) gives us the width of the option.
   Providing width is necessary to enable the truncation behavior when the text content overflows. */
  width: ${e=>e.menuWidth-16+"px"};

  ${e=>e.isFocused&&!e.isDisabled&&`background-color: ${e.theme["highlight-background-color-primary"]};`}

  ${e=>e.isDisabled&&"\n      cursor: not-allowed;\n      opacity: 0.4;\n    "}

  & .aether-filter-select-dropdown__option--checkbox {
    margin-right: ${e=>e.theme["spacing-s"]};
  }
`,h=s.default.div`
  box-sizing: border-box;
  display: flex;
  align-items: flex-start;
  cursor: pointer;
  font-size: ${e=>e.theme["text-size-m"]};
  line-height: ${e=>e.theme["line-height-m"]};
  padding: ${e=>`${e.theme["spacing-xs"]} ${e.theme["spacing-s"]};`};
  border-radius: ${e=>e.theme["border-radius-default"]};
  color: ${e=>e.theme["content-color-primary"]};
  width: ${e=>e.menuWidth-16+"px"};

  & > .aether-filter-select__selected-option {
    margin-right: ${e=>e.theme["spacing-s"]};
    margin-top: 2px;
    svg path {
      fill: ${e=>e.theme["content-color-secondary"]};
    }
  }

  ${e=>e.isFocused&&!e.isDisabled&&`background-color: ${e.theme["highlight-background-color-primary"]};`}

  ${e=>e.isDisabled&&`\n      cursor: not-allowed;\n      color: ${e.theme["content-color-tertiary"]};\n    `}
`,g=s.default.div`
  display: flex;
  flex-shrink: 0;
  margin-right: ${e=>e.theme["spacing-s"]};
  width: ${e=>e.theme["size-xs"]};
  height: ${e=>e.theme["size-xs"]};
`;function f(e){const{isMulti:t,isSelected:n,isDisabled:s,isFocused:c,children:d,...u}=e,{selectProps:{menuWidth:p}}=e;return o.createElement(o.Fragment,null,t?o.createElement(i.c.Option,u,o.createElement(m,{isDisabled:s,isFocused:c,menuWidth:p},o.createElement(r.CheckBox,{isChecked:n,isDisabled:s,className:"aether-filter-select-dropdown__option--checkbox"}),o.createElement(l.default,{isTruncated:!0},d))):o.createElement(i.c.Option,u,o.createElement(h,{isDisabled:s,isFocused:c,menuWidth:p},n?o.createElement(a.default,{className:"aether-filter-select__selected-option"}):o.createElement(g,null),o.createElement(l.default,{isTruncated:!0},d))))}function b(e){const{children:t,selectProps:n}=e,{isSearchable:s}=n;return s?o.createElement(i.c.Control,e,t):null}function y(){return null}function v(){return null}const I=(0,s.default)(c.default)`
  border: none;
  padding: 0;
  height: 28px;

  &:hover {
    border: none;
    box-shadow: none;
  }

  &:focus {
    border: none;
    box-shadow: none;
  }

  &:focus-within {
    border: none;
    box-shadow: none;
  }
`;function E(e){const{onChange:t,isDisabled:n,value:s}=e;return o.createElement(I,{placeholder:"Search",onChange:t,isDisabled:n,value:s})}const _=s.default.div`
  background-color: ${e=>e.theme["background-color-primary"]};
  margin: ${e=>`${e.theme["spacing-zero"]} ${e.theme["spacing-m"]};`};
  padding-bottom: ${e=>e.theme["spacing-s"]};
`,S=s.default.hr`
  border: none;
  border-bottom: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["border-color-default"]};`};
  margin: ${e=>`${e.theme["spacing-zero"]} ${e.theme["spacing-zero"]} ${e.theme["spacing-s"]} ${e.theme["spacing-zero"]};`};
`,C=(0,s.default)(d.default)`
  height: 28px;
  width: 100%;
  justify-content: flex-start;
  padding: ${e=>`${e.theme["spacing-s"]} ${e.theme["spacing-zero"]};`};
`,T=(0,s.default)(i.c.MenuList)`
  padding: var(--spacing-s);
`;function j(e){const{children:t,isMulti:n,selectProps:s}=e,{onClearSelectedOptions:i,value:a}=s,r=!(a&&a.length);return o.createElement(o.Fragment,null,o.createElement(T,e,t),n&&o.createElement(_,null,o.createElement(S,null),o.createElement(C,{text:"Clear selected",type:"plain",onClick:i,isDisabled:r})))}function A(e){const{children:t,selectProps:n}=e,{footer:s}=n;return o.createElement(i.c.Menu,e,t,s)}const w=s.default.div`
  font-size: ${e=>e.theme["text-size-m"]};
  line-height: ${e=>e.theme["line-height-m"]};
  text-align: left;
  padding: ${e=>`${e.theme["spacing-xs"]} ${e.theme["spacing-m"]};`};
  color: ${e=>e.theme["content-color-secondary"]};
`;function O(e){const{selectProps:{emptyStateMessage:t}}=e;return o.createElement(i.c.NoOptionsMessage,e,o.createElement(w,null,t))}function N({width:e="auto"}){return o.createElement(u.default,{padding:{paddingTop:"spacing-xxl",paddingBottom:"spacing-xxl"},justifyContent:"center",alignItems:"center",width:e},o.createElement(p.default,null))}},"./api-dev/components/api-version/VersionSelectorDropdown/VersionSelectorDropdownCustomStyles.js":function(e,t,n){"use strict";n.r(t),n.d(t,{customBaseStyles:function(){return s},postmanSpecificStyles:function(){return o}});const o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").css`
  & .version-selector__single-value {
    color: ${e=>e.theme["content-color-primary"]};
    left: ${e=>e.theme["spacing-m"]};
    right: ${e=>e.theme["spacing-xl"]};
  }

  & .version-selector__control {
    box-sizing: border-box;
    height: auto;
    min-height: 32px;
    max-height: 64px;
    overflow-x: hidden;
    overflow-y: auto;
    background-color: ${e=>e.theme["background-color-primary"]};
    border: none;
    border-bottom: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["border-color-strong"]};`};
    border-top-left-radius: ${e=>e.theme["border-radius-default"]};
    border-top-right-radius: ${e=>e.theme["border-radius-default"]};
    border-bottom-left-radius: 0px;
    border-bottom-right-radius: 0px;

    &:hover {
      border: none;
      border-bottom: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["border-color-strong"]};`};
    }

    &--is-focused {
      outline: none;
      border: none;
      border-bottom: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["border-color-strong"]};`};
      box-shadow: none;

      &:hover {
        border: none;
        border-bottom: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["border-color-strong"]};`};
      }
    }
  }

  & .version-selector__input {
    color: ${e=>e.theme["content-color-primary"]};
    input {
      caret-color: ${e=>e.theme["content-color-primary"]};
    }
  }

  & .version-selector__placeholder {
    font-size: ${e=>e.theme["text-size-m"]};
    line-height: ${e=>e.theme["line-height-m"]};
    color: ${e=>e.theme["content-color-tertiary"]};
    left: ${e=>e.theme["spacing-m"]};
    right: ${e=>e.theme["spacing-l"]};
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
  }

  & .version-selector__value-container {
    position: static;
    height: 100%;
    padding: ${e=>`${e.theme["spacing-xs"]} ${e.theme["spacing-m"]} ${e.theme["spacing-zero"]} ${e.theme["spacing-m"]};`};
    padding-top: ${e=>e.theme["spacing-zero"]};
    font-size: ${e=>e.theme["text-size-m"]};
    color: ${e=>e.theme["content-color-primary"]};
  }

  & .version-selector__dropdown-indicator {
    svg path {
      fill: ${e=>e.theme["content-color-secondary"]};
    }
    padding: ${e=>`${e.theme["spacing-zero"]} ${e.theme["spacing-s"]};`};
  }

  & .version-selector__clear-indicator {
    padding: ${e=>e.theme["spacing-zero"]};
  }

  & .version-selector__group {
    margin: ${e=>e.theme["spacing-zero"]};
    padding: ${e=>e.theme["spacing-zero"]};
  }

  & .version-selector__group:not(:last-child) {
    margin-bottom: ${e=>e.theme["spacing-m"]};
  }

  & .version-selector__group:first-child {
    padding-top: ${e=>e.theme["spacing-xs"]};
  }

  & .version-selector__group-heading {
    user-select: none;
    font-size: ${e=>e.theme["text-size-s"]};
    font-weight: ${e=>e.theme["text-weight-medium"]};
    line-height: ${e=>e.theme["line-height-s"]};
    color: ${e=>e.theme["content-color-secondary"]};
    margin-bottom: ${e=>e.theme["spacing-xs"]};
    padding: ${e=>`${e.theme["spacing-zero"]} ${e.theme["spacing-m"]};`};
    text-transform: none;
  }

  & .version-selector__menu {
    background-color: ${e=>e.theme["background-color-primary"]};
    border: none;
    z-index: 1000;
    margin-top: ${e=>e.theme["spacing-zero"]};
    box-shadow: none;
    ${e=>e.isSearchable?"\n          border-top-left-radius: 0px;\n          border-top-right-radius: 0px;\n        ":`\n        border-top-left-radius: ${e.theme["border-radius-default"]};\n        border-top-right-radius: ${e.theme["border-radius-default"]};\n      `}
  }

  & .version-selector__menu-list {
    padding-top: ${e=>e.theme["spacing-s"]};
    padding-bottom: ${e=>e.theme["spacing-s"]};
  }

  & .version-selector__option,
  & .version-selector__menu-notice {
    padding: ${e=>e.theme["spacing-zero"]};
  }

  & .version-selector__option {
    &:active {
      background-color: transparent;
    }
  }
`,s={container:e=>({...e,pointerEvents:"auto"}),multiValueRemove:()=>({padding:0,":hover":{backgroundColor:"transparent"}})}},"./api-dev/components/api-version/api-version-sub-tabs/Definition/Definition.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/configs/APIVersionWorkbenchConfig.js"),i=n("./api-dev/constants/APITabModes.js"),a=n("./node_modules/lodash/lodash.js");class r extends o.Component{constructor(e){super(e)}render(){return a.get(s.default[a.get(this.props,"model.mode")],"schemaContainer",s.default[i.DEFAULT_MODE].schemaContainer)({editor:this.props.editor,model:this.props.model,apiId:a.get(this.props,"model.apiId"),versionId:a.get(this.props,"model.id"),schemaId:a.get(this.props,"model.schema.schemaId"),store:a.get(this.props,"model.featureBranch.schemaStore")})}}},"./api-dev/components/api-version/api-version-sub-tabs/Deployments/Deployments.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/XPaths/XPath.js"),i=n("./onboarding/src/common/LaunchDarkly.js"),a=n("./integrations/api-observability/containers/ObservabilityContainer.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/CurrentUserStore.js"),c=n("./node_modules/lodash/lodash.js");class d extends o.Component{constructor(e){super(e),this.isUserLoggedIn=(0,r.resolveStoreInstance)(l.default).isLoggedIn}isAPIIntegrationVisible(e){return this.isUserLoggedIn&&i.launchDarkly.getFlag(e,!1)&&c.get(this.props,"model.apiPermissionStore.canViewAPIIntegrations")}render(){var e,t,n;return this.isAPIIntegrationVisible("api-deployments-tab-enabled")&&o.createElement(s.default,{identifier:"deploymentTabContent",isVisible:"deployment"===c.get(this.props,"model.apiEditorUIStore.activeTab")},"deployments"===(null===(e=this.props)||void 0===e||null===(t=e.model)||void 0===t||null===(n=t.apiEditorUIStore)||void 0===n?void 0:n.activeScreen)&&o.createElement(a.default,{model:this.props.model,promoteTab:this.props.promoteTab}))}}},"./api-dev/components/api-version/api-version-sub-tabs/Monitoring/Monitoring.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/XPaths/XPath.js"),i=n("./onboarding/src/common/LaunchDarkly.js"),a=n("./integrations/monitoring/containers/MonitoringContainerWrap.js"),r=(n("./api-dev/components/api-version/observation/Monitors/Monitor.js"),n("./api-dev/components/api-version/observation/Monitors/UptimeMonitor.js"),n("./js/stores/StoreManager.js")),l=n("./js/stores/CurrentUserStore.js"),c=(n("./integrations/monitoring/constants.js"),n("./node_modules/lodash/lodash.js"));class d extends o.Component{constructor(e){super(e),this.isUserLoggedIn=(0,r.resolveStoreInstance)(l.default).isLoggedIn}isAPIIntegrationVisible(e){return this.isUserLoggedIn&&i.launchDarkly.getFlag(e,!1)&&c.get(this.props,"model.apiPermissionStore.canViewAPIIntegrations")}render(){var e,t,n;return o.createElement(s.default,{identifier:"monitoringTabContent",isVisible:"monitoring"===c.get(this.props,"model.apiEditorUIStore.activeTab")},"performance"===(null===(e=this.props)||void 0===e||null===(t=e.model)||void 0===t||null===(n=t.apiEditorUIStore)||void 0===n?void 0:n.activeScreen)&&this.isAPIIntegrationVisible("apm-integrations-in-api-platform")&&o.createElement(a.default,{model:this.props.model,promoteTab:this.props.promoteTab}))}}},"./api-dev/components/api-version/api-version-sub-tabs/Overview/Overview.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/components/api-version/overview/OverviewTab/OverviewTab.js"),i=n("./js/components/empty-states/CrashHandler.js"),a=n("./api-dev/constants/APITabModes.js"),r=n("./node_modules/lodash/lodash.js");class l extends o.Component{constructor(e){super(e)}render(){const e=r.get(this.props,"model.mode");return e!==a.BUILD_MODE&&e!==a.NETWORK_MODE&&e!=a.FEATURE_BRANCH_MODE?null:o.createElement(i.default,null,o.createElement(s.default,{mode:e,model:this.props.model,workspaceId:r.get(this.props,"workspaceId",null),promoteTab:this.props.promoteTab,onTabChange:this.props.onTabChange,key:this.props.key}))}}},"./api-dev/components/api-version/api-version-sub-tabs/Test/Test.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/XPaths/XPath.js"),i=n("./onboarding/src/common/LaunchDarkly.js"),a=n("./integrations/ci-cd/containers/ApiIntegrationViewContainer.js"),r=n("./api-dev/components/api-version/test/TestSuite/TestSuite.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/CurrentUserStore.js"),d=n("./node_modules/lodash/lodash.js");class u extends o.Component{constructor(e){super(e),this.isUserLoggedIn=(0,l.resolveStoreInstance)(c.default).isLoggedIn}isAPIIntegrationVisible(e){return this.isUserLoggedIn&&i.launchDarkly.getFlag(e,!1)&&d.get(this.props,"model.apiPermissionStore.canViewAPIIntegrations")}render(){var e,t,n,i,l,c;return o.createElement(s.default,{identifier:"testTabContent",isVisible:"tests"===d.get(this.props,"model.apiEditorUIStore.activeScreen")},"tests"===(null===(e=this.props)||void 0===e||null===(t=e.model)||void 0===t||null===(n=t.apiEditorUIStore)||void 0===n?void 0:n.activeScreen)&&o.createElement(r.default,{model:this.props.model,key:`${d.get(this.props,"model.id")}/tests`,promoteTab:this.props.promoteTab}),"tests"===(null===(i=this.props)||void 0===i||null===(l=i.model)||void 0===l||null===(c=l.apiEditorUIStore)||void 0===c?void 0:c.activeScreen)&&this.isAPIIntegrationVisible("ci-cd-integrations-in-api-platform")&&o.createElement(a.default,{model:this.props.model,promoteTab:this.props.promoteTab}))}}},"./api-dev/components/api-version/common/APIEntityActions/APIEntityActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./api-dev/components/api-version/common/RemoveEntity/RemoveEntity.tsx"),r=n("./api-dev/components/api-version/common/MoreActions/MoreActions.js");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}let c=(0,s.observer)(o=class extends i.Component{constructor(e){super(e)}render(){return this.props.isWindowShrunk?i.createElement(r.default,l({},this.props,{entityType:this.props.entityType})):i.createElement(i.Fragment,null,this.props.actionComponent,i.createElement(a.default,{entity:this.props.entity,onRemoveEntity:this.props.onRemoveEntity,canRemoveEntity:this.props.canRemoveEntity,isAPIDeleted:this.props.isAPIDeleted,isSmall:!0,tooltipPosition:"bottom"}))}})||o},"./api-dev/components/api-version/common/APIEntityEmptyState/EntityEmptyState.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("./appsdk/components/link/Link.js");class a extends o.Component{constructor(e){super(e)}render(){return this.props.isOpen&&o.createElement("div",{className:"entity-empty__description"},o.createElement("span",null,this.props.entityDescription),o.createElement(i.default,{to:this.props.link,target:"_blank"},o.createElement(s.default,{className:"entity-learn-more-link",type:"link-default"},"Learn more")),o.createElement("span",null,this.props.learnText))}}},"./api-dev/components/api-version/common/APIEntitySection/APIEntitySection.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),c=n("./js/components/base/Buttons.js"),d=n("./js/stores/SyncStatusStore.js"),u=n("./js/stores/StoreManager.js"),p=n("./js/stores/CurrentUserStore.js"),m=n("./api-dev/util/TooltipText.js"),h=n("./js/components/base/Tooltips.js"),g=n("./api-dev/constants/Permissions.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),y=n("./node_modules/lodash/lodash.js");let v=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isOpen:void 0===this.props.open||this.props.open,showTooltip:!1},this.handleCollapse=this.handleCollapse.bind(this),this.handleAdd=this.handleAdd.bind(this),this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this)}handleCollapse(){this.setState((e=>({isOpen:!e.isOpen})))}handleAdd(){if(!(0,u.resolveStoreInstance)(p.default).isLoggedIn)return pm.mediator.trigger("showSignInModal",{type:"addEnvironment",origin:"api_builder_add_environment_button",continueUrl:new URL(window.location.href)});y.isFunction(this.props.onAddEntity)&&this.props.onAddEntity()}getContentClasses(){return r()({"api-entity-contents":!0,"is-collapsed":!this.state.isOpen})}showTooltip(){this.setState({showTooltip:!0})}hideTooltip(){this.setState({showTooltip:!1})}render(){let e=this.state.isOpen?"icon-direction-down":"icon-direction-right",t=this.state.isOpen?"Hide":"Show";const n=!(0,u.resolveStoreInstance)(d.default).isSocketConnected,o=y.get(this.props,"model.isAPIDeleted"),i=this.props.model&&this.props.model.apiPermissionStore.canAddEnvironment,a=n||!i||o,r="Add Environment"===this.props.actionTitle&&a,p=o&&g.DELETED_API_DISABLED_TEXT;return s.createElement(f.default,{direction:"column",grow:1,padding:"spacing-l",className:"api-entity-collapse-section"},s.createElement(f.default,{justifyContent:"space-between",alignItems:"center",padding:{paddingTop:"spacing-xs",paddingBottom:"spacing-xs"},className:"api-entity-header"},s.createElement("div",{"data-testid":"api-entity-header__left-section",className:"api-entity-header__left-section",onClick:this.handleCollapse},s.createElement("div",{className:"api-entity-header__icon",onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip,ref:e=>this.arrowIconRef=e},s.createElement(l.default,{name:e})),s.createElement(h.Tooltip,{show:this.state.showTooltip,target:this.arrowIconRef,placement:"bottom",immediate:!0},s.createElement(h.TooltipBody,null,t)),s.createElement(b.default,{type:"h4",text:this.props.title})),s.createElement("div",{className:"api-entity-header__right-section"},s.createElement("div",{className:"api-entity-header__action"},y.invoke(this.props,"renderDropdown")||s.createElement(c.Button,{type:"text",disabled:r,tooltip:(0,m.default)(r,!i,p),className:"api-entity-header__add-button",onClick:this.handleAdd},this.props.actionTitle)))),s.createElement("div",{className:this.getContentClasses()},this.props.renderSectionContent(this.state.isOpen)))}})||o},"./api-dev/components/api-version/common/APIEntityTable/APIEntityTable.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o,s=n("../../node_modules/react/index.js"),i=n("./api-dev/components/api-version/common/APIEntityTable/TableHeader/TableHeader.js"),a=n("./api-dev/components/api-version/common/APIEntityTable/TableBody/TableBody.js");let r=(0,n("../../node_modules/mobx-react/dist/mobx-react.module.js").observer)(o=class extends s.Component{constructor(e){super(e)}render(){return this.props.isOpen&&s.createElement("div",{className:"api-dev-table"},s.createElement(i.default,{headers:this.props.headers,type:this.props.type}),s.createElement(a.default,{headers:this.props.headers,cells:this.props.cells,content:this.props.content,className:this.props.className,type:this.props.type}))}})||o},"./api-dev/components/api-version/common/APIEntityTable/TableBody/TableBody.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./node_modules/lodash/lodash.js");let c=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}getClassName(e){return r()({"api-dev-table-row__cell":!0,"row-hover__cell":!0,[e]:!0})}render(){return s.createElement("div",{className:"api-dev-table-body"},l.map(this.props.content,(e=>s.createElement("div",{className:r()({"api-dev-table-row":!0,"row-hover":!0,"api-dev-table-row-monitors":"monitors"===this.props.type,"api-dev-table-row-uptime-monitors":"uptimeMonitors"===this.props.type}),key:e.id},s.createElement("div",{className:"row-empty"}),l.map(this.props.headers,(t=>{let n=l.get(e.links,`${t.key}.action`);return s.createElement("div",{key:t.key,className:this.getClassName(t.class)},this.props.cells[t.key](e[t.key],e,n))}))))))}})||o},"./api-dev/components/api-version/common/APIEntityTable/TableCells/LastRunResultsCell/LastRunResultsCell.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o,s=n("../../node_modules/react/index.js"),i=(n("./js/components/base/Buttons.js"),n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js")),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=(n("./runtime-repl/runner/_api/RunnerInterface.js"),n("./js/stores/StoreManager.js")),c=n("./js/stores/SyncStatusStore.js"),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=(n("./js/components/base/Tooltips.js"),n("./node_modules/classnames/index.js")),p=n.n(u),m=(n("./api-dev/util/TooltipText.js"),n("./api-dev/components/api-version/common/APIEntityTable/TableCells/LastRunResultsCell/LastRunStatusBadge.js")),h=n("./api-dev/components/api-version/test/Services/DateUtil.js"),g=n("./node_modules/lodash/lodash.js");let f=(0,d.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showTooltip:!1},this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.resultTooltip=s.createRef()}showTooltip(){this.setState({showTooltip:!0})}hideTooltip(){this.setState({showTooltip:!1})}getClassName(e){return p()({"entity-last-run__status":!0,shrinked:g.get(this.props.model,"apiEditorUIStore.isWindowShrunk"),[e]:!0})}hasError(e,t){return!g.isInteger(e)||!g.isInteger(t)}render(){(0,l.resolveStoreInstance)(c.default).isSocketConnected;const e=g.get(this.props,"entity.lastRuns");return g.get(this.props,"entity.loadingRuns")?s.createElement("span",{"data-testid":"last-run-results-spinner"},s.createElement(i.default,null)):e&&e.error?s.createElement("div",{className:this.getClassName(status),onClick:e.handleRetry,className:"entity-last-run__error"},s.createElement(r.default,{className:"entity-last-run__status-icon",name:"icon-state-error-stroke",color:"content-color-error",size:"small"}),"Retry fetching"):g.isEmpty(e)?s.createElement(a.default,{color:"content-color-secondary","data-testid":"last-run-results-no-run"},"No runs yet"):g.map(e,(e=>{const t=g.get(e,"passedTestCount",null),n=g.get(e,"failedTestCount",null),o=g.get(e,"updatedAt",null);return s.createElement(m.default,{testPassed:t,testFailed:n,updatedAt:h.default.getFormattedTime(o),model:this.props.model})}))}})||o},"./api-dev/components/api-version/common/APIEntityTable/TableCells/LastRunResultsCell/LastRunStatusBadge.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=(n("./js/components/base/Buttons.js"),n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js")),a=(n("./runtime-repl/runner/_api/RunnerInterface.js"),n("../../node_modules/mobx-react/dist/mobx-react.module.js")),r=n("./js/components/base/Tooltips.js"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=(n("./api-dev/util/TooltipText.js"),n("./js/components/base/LoadingIndicator.js"),n("./node_modules/lodash/lodash.js"));let u=(0,a.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showTooltip:!1},this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.resultTooltip=s.createRef()}showTooltip(){this.setState({showTooltip:!0})}hideTooltip(){this.setState({showTooltip:!1})}getClassName(e){return c()({"entity-last-run__status":!0,shrinked:d.get(this.props.model,"apiEditorUIStore.isWindowShrunk"),[e]:!0})}renderBatchLabel(e,t){let n="error";return"failed"===t?n=`${e} FAILED on ${this.props.updatedAt}`:"success"===t?n=`${e} PASSED on ${this.props.updatedAt}`:"notest"===t&&(n="No tests were linked during this collection run"),s.createElement(s.Fragment,null,s.createElement("div",{"data-testid":"last-run-status-badge",className:this.getClassName(t),ref:this.resultTooltip,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},"error"==t&&s.createElement(i.default,{className:"entity-last-run__status-icon",name:"icon-state-error-stroke",color:"content-color-error",size:"small"}),e),s.createElement(r.Tooltip,{show:this.state.showTooltip,target:this.resultTooltip.current,placement:"bottom"},s.createElement(r.TooltipBody,null,n,s.createElement("br",null),"Source: Postman Collection Runner")))}hasError(e,t){return!d.isInteger(e)||!d.isInteger(t)}render(){const{testFailed:e,testPassed:t}=this.props;return s.createElement(s.Fragment,null,this.hasError(t,e)?this.renderBatchLabel("ERROR","error"):e+t===0&&this.renderBatchLabel("N/A","notest")||e>0&&this.renderBatchLabel(e+"/"+(e+t),"failed")||0==e&&this.renderBatchLabel(t+"/"+(e+t),"success"))}})||o},"./api-dev/components/api-version/common/APIEntityTable/TableCells/LastUpdatedCell/LastUpdatedCell.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/@postman/date-helper/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js");class r extends o.Component{constructor(e){super(e)}render(){let e=i().getFormattedDateAndTime(this.props.cellInfo);return o.createElement(a.default,{className:"entity-last-updated__label",type:"body-medium",color:"content-color-primary"},e)}}},"./api-dev/components/api-version/common/APIEntityTable/TableCells/NameCell/NameCell.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/util/URLDomainValidation.js"),i=n("./js/modules/services/AnalyticsService.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("./appsdk/components/link/Link.js"),c=n("./node_modules/lodash/lodash.js");class d extends o.Component{constructor(e){super(e),this.getNavigationIntentObject=this.getNavigationIntentObject.bind(this),this.handleClick=this.handleClick.bind(this)}getNavigationIntentObject(){let{link:e}=this.props.action;const t=this.props.navigationIntentObject;if(this.props.ignoreValidationForNavigation||e&&(0,s.validateUrlDomain)(e))return t}handleClick(e){this.props.onClick&&this.props.onClick();let{link:t,analyticEventLabel:n,entityId:o}=this.props.action;if(this.props.ignoreValidationForNavigation||t){if(c.get(this.props,"promoteTab")&&c.isFunction(this.props.promoteTab)&&this.props.promoteTab(),i.default.addEventV2({category:"api_relation",entityId:o,action:"navigate",label:n,value:1}),"documentation"===n){let e=new RegExp("[0-9]+-[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}"),n=c.get(e.exec(t),"0");i.default.addEventV2({category:"documentation",action:"view_private",label:"api",entityType:"collection",entityId:n})}}else e.preventDefault()}render(){let e=this.props.icon;return o.createElement(o.Fragment,null,o.createElement("div",{className:"entity-name__icon","data-testid":"name-cell-icon"},o.createElement(r.default,{name:e,color:"content-color-primary"})),o.createElement(l.default,{className:"entity-name__link",to:this.getNavigationIntentObject(),onClick:this.handleClick},o.createElement("div",{className:"entity-name__label"},o.createElement(a.default,{type:"link-subtle",tooltip:this.props.cellInfo,isTruncated:!0},this.props.cellInfo))))}}},"./api-dev/components/api-version/common/APIEntityTable/TableCells/ValidationCell/ValidationCell.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./js/components/base/LoadingIndicator.js"),c=n("./api-dev/components/api-version/common/ValidationInfoPopup/ValidationInfoPopup.js"),d=n("./js/services/NavigationService.js"),u=n("./js/stores/SyncStatusStore.js"),p=n("./js/stores/StoreManager.js"),m=n("./js/stores/CurrentUserStore.js"),h=n("./js/modules/services/AnalyticsService.js"),g=n("./api-dev/constants/RelationValidationConstants.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),b=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),y=n("./api-dev/util/TooltipText.js"),v=n("./api-dev/constants/Permissions.js"),I=n("../../node_modules/mobx/lib/mobx.module.js"),E=n("./node_modules/lodash/lodash.js");const _={error:s.createElement(b.default,{name:"icon-state-disable-stroke",size:"small"}),success:s.createElement(b.default,{name:"icon-state-success-stroke",color:"content-color-success",size:"small"}),warning:s.createElement(b.default,{name:"icon-state-warning-stroke",color:"content-color-warning",size:"small"}),validating:s.createElement(l.default,null),refresh:s.createElement(b.default,{name:"icon-state-disable-stroke",size:"small"}),validate:null};let S=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showValidationInfo:!1,showValidationStatusButton:!1},this.showValidationInfo=this.showValidationInfo.bind(this),this.hideValidationInfo=this.hideValidationInfo.bind(this),this.handlePopupActions=this.handlePopupActions.bind(this),this.handleValidate=this.handleValidate.bind(this),this.handleRefreshValidate=this.handleRefreshValidate.bind(this),this.waitForValidationStatusUpdate=this.waitForValidationStatusUpdate.bind(this)}isLoggedIn(){return(0,p.resolveStoreInstance)(m.default).isLoggedIn}handleValidate(){if(!this.isLoggedIn())return pm.mediator.trigger("showSignInModal",{type:"validate",origin:"api_builder_validate_relation_button",continueUrl:new URL(window.location.href)});E.invoke(this.props,"store.validateRelation",E.get(this.props,"entity.id")),this.waitForValidationStatusUpdate()}handleRefreshValidate(){E.invoke(this.props.store,"validateRelation",this.props.entity.id).then((e=>{this.waitForValidationStatusUpdate(),e&&pm.windowEvents.emit("collection-validation-invalidate-cache",{relationId:E.get(this.props,"entity.id")})}))}waitForValidationStatusUpdate(){this.setState({showValidationStatusButton:!0});const e=(0,I.reaction)((()=>E.get(this.props,"entity.isValidating")),(t=>{t||setTimeout((()=>{this.setState({showValidationStatusButton:!1}),e()}),2e3)}))}handleClick(e){if(!E.isEmpty(e)){switch(e.type){case"validate":this.handleValidate();break;case"error":case"success":case"warning":case"refresh":this.showValidationInfo()}h.default.addEventV2({category:"api-design",action:"interact",label:"read",value:1,entityType:"api",entityId:E.get(this.props,"store.apiId")}),h.default.addEventV2({category:"relation_validation",entityId:E.get(this.props,"store.apiId"),action:"click_results",label:e.message,value:1})}}showValidationInfo(){if(!this.isLoggedIn())return pm.mediator.trigger("showSignInModal",{type:"showValidationInfo",origin:"api_builder_show_validation_button",continueUrl:new URL(window.location.href)});this.setState({showValidationInfo:!0})}hideValidationInfo(){this.state.showValidationInfo&&this.setState({showValidationInfo:!1})}handlePopupActions(e){switch(e){case"refresh":this.handleRefreshValidate();break;case"link":d.default.transitionTo("build.collectionSchemaSync",{apiId:E.get(this.props,"store.apiId")},{version:E.get(this.props,"store.__version.id"),relation:E.get(this.props,"entity.id"),type:E.get(this.props,"store.type")});break;case"add_schema":E.invoke(this.props.apiEditorUIStore,"setActiveTab","define")}this.hideValidationInfo()}renderValidationStatus(e){let t="content-color-primary";return"warning"===e.type?t="content-color-warning":"validating"===e.type?t="content-color-secondary":"success"===e.type&&(t="content-color-success"),s.createElement(s.Fragment,null,_[e.type],s.createElement("span",{className:"entity-validation__status_text"},s.createElement(f.default,{type:"body-medium",color:t},e.message)))}getClasses(e,t){const n=this.state.showValidationInfo||"validating"===e||this.state.showValidationStatusButton;return r()(e,{"entity-validation__status":!0,"is-validate-disabled":t,"entity-validation__status__active":n})}render(){let e,t,n,o=E.get(this.props,"cellInfo"),i=E.get(this.props,"entity.isValidating"),a=E.get(this.props,"entity.isValidationFailed"),r=this.props.isAPIDeleted;!E.isEmpty(o)||i||a?i?o=g.VALIDATIONS.VALIDATING:a&&(o=g.VALIDATIONS.FAILED):o=g.VALIDATIONS.VALIDATE;const l=!(0,p.resolveStoreInstance)(u.default).isSocketConnected;return e=o.actions||null,t=l||!this.props.canValidateRelation||r,n=r&&v.DELETED_API_DISABLED_TEXT,s.createElement(s.Fragment,null,s.createElement("div",{className:this.getClasses(o.type,t),onClick:()=>!t&&this.handleClick(o),ref:e=>this.validationStatus=e,title:t?(0,y.default)(t,!this.props.canValidateRelation,n):o.message},this.renderValidationStatus(o)),e&&s.createElement(c.default,{info:e.popup,show:this.state.showValidationInfo,target:this.validationStatus,placement:"right",onSelectAction:this.handlePopupActions,onClose:this.hideValidationInfo,entityId:E.get(this.props,"store.apiId"),promoteTab:E.get(this.props,"promoteTab")}))}})||o},"./api-dev/components/api-version/common/APIEntityTable/TableCells/VersionCell/VersionCell.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./node_modules/postman-collection/index.js"),c=n("./js/components/base/Markdown.js"),d=n("./js/components/base/WarningButton.js"),u=n("./js/components/base/InfoButtonV3.js"),p=n("./node_modules/lodash/lodash.js");let m=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}getVersionLabelClass(){return r()({"entity-version__label":!0,"entity-version__current-label":p.isEqual(p.get(this.props.cellInfo,"name"),"CURRENT")})}renderVersionIcon(){if(p.get(this.props.cellInfo,"indicators[0]")){let e=l.Property.replaceSubstitutions(p.get(this.props.cellInfo,"indicators[0].message.template"),p.get(this.props.cellInfo,"indicators[0].message.variables")),t=s.createElement(c.default,{className:"entity-version__markdown",source:e,linkTarget:"_blank"});return{warning:s.createElement(d.default,{tooltip:t}),info:s.createElement(u.default,{tooltip:t})}[p.get(this.props.cellInfo,"indicators[0].type")]}}render(){return s.createElement(s.Fragment,null,s.createElement("div",{className:this.getVersionLabelClass(),title:this.props.cellInfo&&this.props.cellInfo.name},this.props.cellInfo&&this.props.cellInfo.name),s.createElement("div",{className:"entity-version__icon"},this.renderVersionIcon()))}})||o},"./api-dev/components/api-version/common/APIEntityTable/TableHeader/TableHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=n("./js/components/base/Tooltips.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=n("./node_modules/classnames/index.js"),l=n.n(r),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("./node_modules/lodash/lodash.js");let u=(0,c.observer)(o=class extends s.Component{constructor(e){super(e),this.showTooltip=()=>{this.setState({showTooltip:!0})},this.hideTooltip=()=>{this.setState({showTooltip:!1})},this.state={showTooltip:!1}}getClassName(e){return l()({"api-dev-table-row__cell":!0,shrinked:d.get(this.props.model,"model.apiEditorUIStore.isWindowShrunk"),"api-dev-table-header__cell":!0,[e]:!0})}render(){return s.createElement("div",{className:l()({"api-dev-table-row api-dev-table-header":!0,"api-dev-table-header-monitors":"monitors"===this.props.type})},s.createElement("div",{className:"api-tab-header-empty"},s.createElement("span",{className:"api-dev-table-header__cell-name empty-column"})),d.map(this.props.headers,(e=>s.createElement("div",{className:this.getClassName(e.class),key:e.key},s.createElement("span",{className:"api-dev-table-header__cell-name",title:e.tooltip},e.val),e.helperText&&s.createElement(s.Fragment,null,s.createElement("div",{className:"api-dev-table-header__helper-icon",ref:e=>this.questionIconRef=e,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},s.createElement(a.default,{name:"icon-state-info-stroke",color:"content-color-tertiary",size:"small"})),s.createElement(i.Tooltip,{show:this.state.showTooltip,target:this.questionIconRef,placement:"right",immediate:!0},s.createElement(i.TooltipBody,null,e.helperText)))))))}})||o},"./api-dev/components/api-version/common/APIStatusIcon/APIStatusIcon.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-hide-stroke-small.js"),c=n("./js/stores/StoreManager.js"),d=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts");let u=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}renderPublicIcon(){return s.createElement(r.default,{name:"icon-state-published-stroke",color:"content-color-tertiary",className:"api-status-icon",size:"small",title:"Public"})}renderTeamIcon(){return s.createElement(r.default,{name:"icon-descriptive-team-stroke",color:"content-color-tertiary",className:"api-status-icon",size:"small",title:"Shared with team"})}renderReadOnlyIcon(){return s.createElement(r.default,{name:"icon-state-locked-stroke",color:"content-color-tertiary",className:"api-status-icon",size:"small",title:"Read only"})}renderHideIcon(){return s.createElement(a.default,{content:"Only visible to editors",placement:"bottom-start"},s.createElement(l.default,{className:"hide-icon",color:"content-color-tertiary"}))}render(){const e=(0,c.resolveStoreInstance)(d.default),t=e.isPublicWorkspace,n=e.isPartnerWorkspace,o=e.isTeamWorkspace||e.isPrivateWorkspace,i=this.props.isPublic&&!t,a=!this.props.isPublic&&this.props.isShared&&!o&&!n,r=!this.props.isEditable,l=this.props.isAPIVersionPrivate;return s.createElement("div",{className:"collection-meta-icons"},i&&this.renderPublicIcon(),a&&this.renderTeamIcon(),r&&this.renderReadOnlyIcon(),l&&this.renderHideIcon())}})||o},"./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CheckInternetConnection.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("./js/components/base/Buttons.js"),h=n("./api-dev/services/APIDevService.js"),g=n("./js/components/base/LoadingIndicator.js"),f=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),b=n("./js/stores/StoreManager.js"),y=n("./js/stores/SyncStatusStore.js"),v=n("./js/components/collections/CollectionForkLabel.js"),I=n("./js/components/base/Modals.js"),E=n("./api-dev/util/TooltipText.js"),_=n("./js/modules/services/ManageRolesModalService.js"),S=n("./node_modules/lodash/lodash.js"),C=n.n(S);const T={mock:"mock servers",documentation:"documentation",environment:"environments",contracttest:"contract tests",integrationtest:"integration tests",testsuite:"test suites",monitor:"monitors",uptimemonitor:"uptime monitors"};function j({forkLabel:e,name:t,reason:n,isDisabled:o}={}){if(e){const i={forkLabel:e};return o?s.createElement(a.default,{content:C().get(n,"message"),placement:"right",closeDelay:20},s.createElement("div",{className:"add-entity-modal__dropdown-options"},s.createElement(r.default,{isTruncated:!0},t),s.createElement(v.default,{forkInfo:i}))):s.createElement(s.Fragment,null,s.createElement(r.default,{isTruncated:!0},t),s.createElement(v.default,{forkInfo:i}))}return o?s.createElement(a.default,{content:C().get(n,"message"),placement:"right",closeDelay:20},s.createElement("div",{className:"add-entity-modal__dropdown-options"},s.createElement(r.default,{isTruncated:!0},t))):s.createElement(r.default,{isTruncated:!0},t)}let A=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={items:[],selectedItem:null,isLoading:!1,isLoadingError:!1},this.fetchLinkableEntities=this.fetchLinkableEntities.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleAdd=this.handleAdd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.renderContent=this.renderContent.bind(this),this.getEntityName=this.getEntityName.bind(this)}componentDidMount(){this.fetchLinkableEntities()}fetchLinkableEntities(){let e;this.setState({isLoading:!0}),this.props.getEntities().then((t=>{const n=C().map(C().filter(t,"fromWorkspace"),"id");if(C().isEmpty(t))return Promise.resolve([]);if(e=C().keyBy(t,"id"),C().isEmpty(n))return Promise.resolve([]);const{apiId:o,apiVersionId:s,type:i}=this.props;return h.default.checkConstraintsForRelationLink(o,s,i,n)})).then((t=>{C().forEach(t,((t={})=>{const{entityId:n,allowed:o,reason:s}=t;e[n]={...e[n],isAllowed:o,reason:s}})),this.setState({items:e,isLoading:!1,isLoadingError:!1})})).catch((e=>{pm.logger.error("AddEntityModal~fetchLinkableEntities: Failed to fetch possible entities",e),this.setState({isLoading:!1,isLoadingError:!0})}))}handleSelect(e){const t=C().get(e,"id"),n=C().find(this.state.items,["id",t]);this.setState({selectedItem:n})}handleAdd(){C().isFunction(this.props.onAdd)&&this.props.onAdd(this.state.selectedItem)}handleCancel(){C().isFunction(this.props.onCancel)&&this.props.onCancel()}renderErrorHandler(){let e,t,n;return!(0,b.resolveStoreInstance)(y.default).isSocketConnected?(e="No internet connection",t="You can only access your APIs when youre online.  Check your internet connection and try again.",n=s.createElement(l.default,null)):(e=`Couldn't load ${T[this.props.type]}`,t="There was an unexpected error. Please try again.",n=s.createElement(c.default,null)),s.createElement(f.default,{title:e,description:t,buttonText:"Try Again",handler:this.fetchLinkableEntities,blankState:n})}renderContent(){if(this.state.isLoading)return s.createElement("div",{className:"add-entity-modal__loading-indicator"},s.createElement(g.default,null));if(this.state.isLoadingError)return this.renderErrorHandler();const e=[],t=[];C().forEach(this.state.items,(n=>{const o={value:n.id,label:n.name,isDisabled:!!n.fromWorkspace&&!n.isAllowed,...n};n.isAllowed?t.push(o):e.push(o)})),t.sort(((e,t)=>e.name.toUpperCase()>t.name.toUpperCase()?1:-1));const n=t.concat(e);let o="No results found";return C().isEmpty(n)&&(o=this.props.emptyStateText),s.createElement(d.default,{label:this.props.label,options:n,onChange:this.handleSelect,customOptionComponent:j,isOptionDisabled:e=>e.isDisabled,placeholder:"Select",emptyStateMessage:o,menuMaxHeight:100})}getEntityName(){const{type:e}=this.props;return{documentation:"documentation collection",mock:"mock server",environment:"environment",test:"test collection",monitor:"monitor"}[e]||"collection"}render(){const e=!(0,b.resolveStoreInstance)(y.default).isSocketConnected,t=this.props.isLoadingAddRelation||!this.state.selectedItem||e;return s.createElement(I.Modal,{className:"add-entity-modal",isOpen:this.props.isOpen,onRequestClose:this.handleCancel,customStyles:{width:"400px"}},s.createElement(I.ModalHeader,null,this.props.title),s.createElement(I.ModalContent,{className:this.state.isLoadingError&&"model-content__error"},s.createElement(u.default,{direction:"column",justifyContent:"space-between",height:"100%"},this.renderContent(),s.createElement(r.default,null,"Note: This API ",this.getEntityName()," will inherit roles from the API. "," ",s.createElement(p.default,{onClick:()=>(0,_.manageRolesOnAPI)(this.props.apiId),type:"monochrome-plain",text:"View API roles"})))),!this.state.isLoadingError&&s.createElement(I.ModalFooter,null,s.createElement(m.Button,{className:"add-entity__add-button",type:"primary",onClick:this.handleAdd,disabled:t,tooltip:(0,E.default)(t)},this.props.isLoadingAddRelation?s.createElement(g.default,null):this.props.buttonLabel),s.createElement(m.Button,{className:"add-entity__cancel-button",type:"secondary",onClick:this.handleCancel},"Cancel")))}})||o},"./api-dev/components/api-version/common/MoreActions/MoreActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/Buttons.js"),i=n("./js/components/base/Dropdowns.js"),a=n("./js/stores/SyncStatusStore.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/CurrentUserStore.js"),c=n("./api-dev/util/RunTestActions.js"),d=n("./api-dev/util/RunMonitorActions.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),p=n("./api-dev/util/TooltipText.js"),m=n("./monitors/services/MonitorService.js"),h=n("./node_modules/lodash/lodash.js");class g extends o.Component{constructor(e){super(e),this.handleDropdownActionSelect=(e,t)=>{switch(e){case"Run Test":(0,c.getRunnerTab)(h.get(this.props.entity,"modelId"));break;case"Run Monitor":(0,d.runMonitor)(h.get(this.props.entity,"id"));break;case"Remove":this.onRemove();break;default:return}},this.state={},this.getMenuActions=this.getMenuActions.bind(this),this.initialisePermissionsForAction=this.initialisePermissionsForAction.bind(this)}componentDidMount(){this.initialisePermissionsForAction(this.props.entityType)}onRemove(){if(!(0,r.resolveStoreInstance)(l.default).isLoggedIn)return pm.mediator.trigger("showSignInModal",{type:"removeEntity",origin:"api_builder_remove_entity_button",continueUrl:new URL(window.location.href)});h.isFunction(this.props.onRemoveEntity)&&this.props.onRemoveEntity(this.props.entity)}initialisePermissionsForAction(e){"Monitor"===e&&m.default.getPermissionsForJobTemplates([this.props.entity.id]).then((e=>{e[0]&&this.setState({"Run Monitor":e[0].run})}))}getMenuActions(e){const t=!(0,r.resolveStoreInstance)(a.default).isSocketConnected;switch(e){case"Test":return[{action:"Run Test",label:"Run",isDisabled:t,hasPermission:!0},{action:"Remove",label:"Delete",isDisabled:t||!this.props.canRemoveEntity,hasPermission:this.props.canRemoveEntity}];case"Monitor":return[{action:"Run Monitor",label:"Run Monitor",isDisabled:t||!this.state["Run Monitor"],permissionErrorText:"You don't have permission to take this action",hasPermission:this.state["Run Monitor"]},{action:"Remove",label:"Remove",isDisabled:t||!this.props.canRemoveEntity,hasPermission:this.props.canRemoveEntity}];case"UptimeMonitor":return[{action:"Remove",label:"Remove",isDisabled:t||!this.props.canRemoveEntity,hasPermission:this.props.canRemoveEntity}];default:return}}render(){return o.createElement(o.Fragment,null,o.createElement(i.Dropdown,{ref:"menu",onSelect:this.handleDropdownActionSelect,className:"more-actions-dropdown"},o.createElement(i.DropdownButton,{dropdownStyle:"nocaret",type:"custom"},o.createElement(s.Button,{tooltip:"View more actions",type:"tertiary"},o.createElement(u.default,{name:"icon-action-options-stroke",className:"pm-icon pm-icon-normal"}))),o.createElement(i.DropdownMenu,{"align-right":!0},h.map(this.getMenuActions(this.props.entityType),(e=>o.createElement(i.MenuItem,{key:e.action,refKey:e.action,disabled:e.isDisabled,disabledText:(0,p.default)(e.isDisabled,!e.hasPermission,e.permissionErrorText)},o.createElement("span",null,e.label)))))))}}},"./api-dev/components/api-version/common/ValidationButton/ValidationButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./js/components/base/LoadingIndicator.js"),c=n("./js/components/base/Buttons.js"),d=n("./api-dev/components/api-version/common/ValidationInfoPopup/ValidationInfoPopup.js"),u=n("./js/services/NavigationService.js"),p=n("./js/stores/SyncStatusStore.js"),m=n("./js/stores/StoreManager.js"),h=n("./js/stores/CurrentUserStore.js"),g=n("./js/modules/services/AnalyticsService.js"),f=n("./api-dev/constants/RelationValidationConstants.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),y=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),v=n("./api-dev/util/TooltipText.js"),I=n("./api-dev/constants/Permissions.js"),E=n("./node_modules/lodash/lodash.js");const _={error:s.createElement(y.default,{name:"icon-state-disable-stroke",size:"small",className:"documentation-validation__status_icon"}),success:s.createElement(y.default,{name:"icon-state-success-stroke",color:"content-color-success",size:"small",className:"documentation-validation__status_icon"}),warning:s.createElement(y.default,{name:"icon-state-warning-stroke",color:"content-color-warning",size:"small",className:"documentation-validation__status_icon"}),validating:s.createElement(l.default,{className:"documentation-validation__status_icon"}),refresh:s.createElement(y.default,{name:"icon-state-disable-stroke",size:"small",className:"documentation-validation__status_icon"}),validate:null};let S=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showValidationInfo:!1},this.showValidationInfo=this.showValidationInfo.bind(this),this.hideValidationInfo=this.hideValidationInfo.bind(this),this.handlePopupActions=this.handlePopupActions.bind(this)}isLoggedIn(){return(0,m.resolveStoreInstance)(h.default).isLoggedIn}handleValidate(){if(!this.isLoggedIn())return pm.mediator.trigger("showSignInModal",{type:"validate",origin:"api_builder_validate_relation_button",continueUrl:new URL(window.location.href)});E.invoke(this.props,"store.validateRelation",E.get(this.props,"entity.id"))}handleClick(e){if(!E.isEmpty(e)){switch(e.type){case"validate":this.handleValidate();break;case"error":case"success":case"warning":case"refresh":this.showValidationInfo()}g.default.addEventV2({category:"api-design",action:"interact",label:"read",value:1,entityType:"api",entityId:E.get(this.props,"store.apiId")}),g.default.addEventV2({category:"relation_validation",entityId:E.get(this.props,"store.apiId"),action:"click_results",label:e.message,value:1})}}showValidationInfo(){if(!this.isLoggedIn())return pm.mediator.trigger("showSignInModal",{type:"showValidationInfo",origin:"api_builder_show_validation_button",continueUrl:new URL(window.location.href)});this.setState({showValidationInfo:!0})}hideValidationInfo(){this.state.showValidationInfo&&this.setState({showValidationInfo:!1})}handlePopupActions(e){switch(e){case"refresh":E.invoke(this.props.store,"validateRelation",this.props.entity.id).then((e=>{e&&pm.windowEvents.emit("collection-validation-invalidate-cache",{relationId:E.get(this.props,"entity.id")})}));break;case"link":u.default.transitionTo("build.collectionSchemaSync",{apiId:E.get(this.props,"store.apiId")},{version:E.get(this.props,"store.__version.id"),relation:E.get(this.props,"entity.id"),type:E.get(this.props,"store.type")});break;case"add_schema":E.invoke(this.props.apiEditorUIStore,"setActiveTab","define")}this.hideValidationInfo()}renderValidationStatus(e){let t="content-color-primary";return"warning"===e.type?t="content-color-warning":"validating"===e.type?t="content-color-secondary":"success"===e.type&&(t="content-color-success"),"validate"===e.type?s.createElement(s.Fragment,null,s.createElement(c.Button,{key:"show-validation-button",type:"tertiary",size:"small",className:"config-bar-button"},s.createElement(y.default,{name:"icon-state-success-stroke",color:"content-color-secondary",className:"config-bar-icon"}),"Validate against Definition")):s.createElement(s.Fragment,null,_[e.type],s.createElement("span",{className:"documentation-validation__status_text"},s.createElement(b.default,{type:"body-medium",color:t},"success"===e.type?"No issues found":e.message)))}getClasses(e,t){return r()(e,{"documentation-validation__status":!0,"is-validate-disabled":t})}render(){let e,t,n,o=E.get(this.props,"cellInfo"),i=E.get(this.props,"entity.isValidating"),a=E.get(this.props,"entity.isValidationFailed"),r=this.props.isAPIDeleted;!E.isEmpty(o)||i||a?i?o=f.VALIDATIONS.VALIDATING:a&&(o=f.VALIDATIONS.FAILED):o=f.VALIDATIONS.VALIDATE;const l=!(0,m.resolveStoreInstance)(p.default).isSocketConnected;return e=o.actions||null,t=l||!this.props.canValidateRelation||r,n=r&&I.DELETED_API_DISABLED_TEXT,s.createElement(s.Fragment,null,s.createElement("div",{className:this.getClasses(o.type,t),onClick:()=>!t&&this.handleClick(o),ref:e=>this.validationStatus=e,title:t?(0,v.default)(t,!this.props.canValidateRelation,n):o.message},this.renderValidationStatus(o)),e&&s.createElement(d.default,{info:e.popup,show:this.state.showValidationInfo,target:this.validationStatus,placement:"bottom",onSelectAction:this.handlePopupActions,onClose:this.hideValidationInfo,entityId:E.get(this.props,"store.apiId"),promoteTab:E.get(this.props,"promoteTab")}))}})||o},"./api-dev/components/api-version/common/ValidationInfoPopup/ValidationInfoPopup.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("./js/components/base/Tooltips.js"),a=n("./js/components/base/Buttons.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/SyncStatusStore.js"),c=n("./js/modules/services/AnalyticsService.js"),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("./api-dev/util/TooltipText.js"),p=n("./node_modules/lodash/lodash.js");let m=(0,d.observer)(o=class extends s.Component{constructor(e){super(e)}handleAction(e){if(c.default.addEventV2({category:"relation_validation",entityId:this.props.entityId,action:"click",label:e.label,value:1}),c.default.addEventV2({category:"api-design",action:"interact",label:"read",value:1,entityType:"api",entityId:p.get(this.props,"entityId")}),e)return"link"===e.type?(p.get(this.props,"promoteTab")&&p.isFunction(this.props.promoteTab)&&this.props.promoteTab(),void this.props.onSelectAction(e.type,{url:e.url})):void this.props.onSelectAction(e.type)}getRefreshButtonTooltip(e){if(e)return"Get online to perform this action"}renderActions(){let e=p.get(this.props.info,"actions"),t=!(0,r.resolveStoreInstance)(l.default).isSocketConnected;if(!p.isEmpty(e))return s.createElement("div",{className:"validation-info__actions"},p.map(e,(e=>{let n="refresh"===e.type?"secondary":"primary";return s.createElement(a.Button,{key:e.type,className:`validation-info__action_${n}`,type:n,size:"small",onClick:()=>this.handleAction(e),disabled:t,tooltip:(0,u.default)(t)},e.label)})))}render(){return s.createElement(i.Tooltip,{show:this.props.show,target:this.props.target,placement:this.props.placement,className:"validation-info",onClose:this.props.onClose,closeOnClickOutside:!0,immediate:!0},s.createElement(i.TooltipBody,null,s.createElement("div",{className:"validation-info__description"},this.props.info.description),this.renderActions()))}})||o},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/APISourceControlContextBarIcon.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./node_modules/classnames/index.js"),l=n.n(r),c=n("./api-dev/navigation/constants.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),u=n("./api-dev/stores/api-repository/PollingRemoteHeadDetailsStore.js"),p=n("./js/stores/StoreManager.js"),m=n("./js/services/NavigationService.js"),h=n("./api-dev/interfaces/APIInterface.js"),g=n("./node_modules/lodash/lodash.js");const f="contextBar",b=o.forwardRef((({handleShowTooltip:e,handleHideTooltip:t,apiRepositoryStore:n},s)=>{var i;const a=g.get(n,"sourceControlStore"),r=g.get(a,"shouldShowContextBarIconIndicator",!1),b=m.default.getCurrentURL(),y=null===m.default||void 0===m.default||null===(i=m.default.getCurrentRouteParams())||void 0===i?void 0:i.apiId;return(0,o.useEffect)((()=>{const e=(0,p.resolveStoreInstance)(u.default);return async function(){const t=y&&await(0,h.isAPIGitLinked)(y),n=y&&await(0,h.hasAPIMigrated)(y);y&&t&&n&&e.startPolling(y,f)}(),()=>{e.stopPolling(y,f)}}),[b]),o.createElement("div",{className:`tabs__${c.SOURCE_CONTROL_NAV} icon-container`,ref:s,onMouseEnter:e,onMouseLeave:t},o.createElement(d.default,{name:"icon-descriptive-branch-stroke",className:(v=r,l()({"api-source-control__context-bar-icon--unread":v}))}));var v}));b.propTypes={handleShowTooltip:i().func.isRequired,handleHideTooltip:i().func.isRequired,apiRepositoryStore:i().object.isRequired},t.default=(0,a.observer)(b)},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/DisconnectLocalGitModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=(n("./integrations/git/constants.js"),n("./node_modules/lodash/lodash.js"));let u=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isDisconnecting:!1},this.setIsDisconnecting=this.setIsDisconnecting.bind(this),this.handleClose=this.handleClose.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this)}setIsDisconnecting(e){this.setState({isDisconnecting:e})}handleClose(){this.setState({isDisconnecting:!1}),this.props.close()}handleDisconnect(){this.setIsDisconnecting(!0),d.isFunction(this.props.model.deleteLocalGit)&&this.props.model.deleteLocalGit().catch((e=>{pm.toasts.error("Something went wrong. Try again.")})).finally((()=>{this.setIsDisconnecting(!1),this.handleClose()}))}render(){const e=this.state.isDisconnecting,t=d.get(this.props.model,"apiVersionRepositoryInterface.isOnPremLocalIntegration");return s.createElement(a.Modal,{isOpen:this.props.isOpen,onClose:this.handleClose,size:"small"},s.createElement(a.ModalHeader,{heading:"Disconnect from local repository"}),s.createElement(a.ModalContent,null,s.createElement(r.default,{type:"para",color:"content-color-primary"},t?"You wont be able to contribute on this API without a connection to your repository on the local files system.":"You wont be able to make changes to your local file system.")),s.createElement(a.ModalFooter,null,s.createElement(l.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-s"},s.createElement(c.default,{type:"secondary",onClick:this.handleClose,text:"Cancel"}),s.createElement(c.default,{type:"destructive",onClick:this.handleDisconnect,isDisabled:e,autoFocus:!0,isLoading:e,text:"Disconnect"}))))}})||o},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/DisconnectRemoteGitModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("./js/stores/StoreManager.js"),p=n("./api-dev/stores/APIListStore.js"),m=n("./js/services/NavigationService.js"),h=n("./js/modules/services/AnalyticsService.js"),g=n("./node_modules/lodash/lodash.js");const f="[Name of API in Postman]";let b=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isDisconnecting:!1,isTextInputWrong:!1,textInputValue:""},this.setTextInputValue=this.setTextInputValue.bind(this),this.setIsDisconnecting=this.setIsDisconnecting.bind(this),this.handleClose=this.handleClose.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this),this.handleAPINameInput=this.handleAPINameInput.bind(this),this.getTooltipMessage=this.getTooltipMessage.bind(this)}componentDidMount(){this.apiName=this.getAPIName(g.get(this.props,"model.versionStore.apiId"))}getAPIName(e){if(!e)return f;const t=(0,u.resolveStoreInstance)(p.default).find(e);return g.get(t,"name",f)}setIsTextInputError(e){this.setState({isTextInputWrong:e})}setTextInputValue(e){this.setState({textInputValue:e})}setIsDisconnecting(e){this.setState({isDisconnecting:e})}handleClose(){this.setState({isDisconnecting:!1,isTextInputWrong:!1,textInputValue:""}),this.props.close()}handleAPINameInput(e){this.setState({textInputValue:e.target.value},(()=>{const e=g.isEmpty(this.state.textInputValue)||this.apiName===this.state.textInputValue;this.setIsTextInputError(!e)}))}handleDisconnect(){h.default.addEventV2({category:"api_repo_integration_v2",entityId:g.get(this.props.model,"apiVersionRepositoryInterface.RemoteGit.integration.id"),action:"disconnect_repository",label:"context_bar",value:1}),this.apiName===this.state.textInputValue?(this.setIsDisconnecting(!0),m.default.transitionTo("build.api",{apiId:g.get(this.props,"model.versionStore.apiId")}),g.isFunction(this.props.model.deleteRemoteGit)&&this.props.model.deleteRemoteGit().catch((e=>{const t=g.get(e,"title","Failed"),n=g.get(e,"message","Something went wrong");pm.toasts.error(n,{title:t})})).finally((()=>{this.setIsDisconnecting(!1),this.handleClose()}))):this.setIsTextInputError(!0)}getTooltipMessage(){const{isTextInputWrong:e}=this.state;return!!e&&"Please enter the name of this API to confirm"}render(){const{isDisconnecting:e,textInputValue:t,isTextInputWrong:n}=this.state,o=g.isEmpty(t),i=this.getTooltipMessage();return s.createElement(a.Modal,{isOpen:this.props.isOpen,onClose:this.handleClose,size:"small"},s.createElement(a.ModalHeader,{heading:"Disconnect repository from API?"}),s.createElement(a.ModalContent,null,s.createElement(r.default,{type:"para",color:"content-color-primary",hasBottomSpacing:!0},"The editors of this API will no longer be able to contribute to this repository in Postman."),s.createElement(l.default,{direction:"column",gap:"spacing-xs"},s.createElement("label",{htmlFor:"confirm-disconnect-git-button"},s.createElement(r.default,{color:"content-color-secondary"},"Enter",s.createElement(r.default,{type:"strong"},this.apiName),"to proceed")),s.createElement(c.default,{id:"confirm-disconnect-git-button",value:t,onChange:this.handleAPINameInput}))),s.createElement(a.ModalFooter,null,s.createElement(l.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-m"},s.createElement(d.default,{type:"secondary",onClick:this.handleClose,text:"Cancel"}),s.createElement(d.default,{type:"destructive",onClick:this.handleDisconnect,isDisabled:e||n||o,autoFocus:!0,isLoading:e,text:"Disconnect",tooltip:i}))))}})||o},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/SourceControlUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,{API_SOURCE_CONTROL:function(){return a},getRepoLinkedAPI:function(){return r},getRepoStoreForGitLinkedAPI:function(){return l}});var o=n("./js/stores/StoreManager.js"),s=n("./api-dev/stores/APIListStore.js"),i=n("./node_modules/lodash/lodash.js");const a="api-version-source-control";function r(e,t){if(!e||!t)return null;const n=(0,o.resolveStoreInstance)(s.default);if(!n.isLoaded)return null;let a=null;for(const o of n.values){const n=o.childEntities.values[0],s=i.get(n,"apiRepositoryStore"),r=i.get(s,"apiVersionRepositoryInterface");if(i.get(r,"isAvailable")&&i.get(r,"remoteGitConfigured")&&"collections"===t){const t=i.get(s,"entityHandlers.collections.collectionFileIdAgainstPath");if(!i.isEmpty(t)&&t.has(e)){a=s;break}}}return a}function l(e){if(!e)return null;const t=(0,o.resolveStoreInstance)(s.default);if(!t.isLoaded)return null;const n=t.find(e),a=i.head(n.childEntities.values).id,r=n.childEntities.find(a),l=i.get(r,"apiRepositoryStore");return i.get(l,"apiVersionRepositoryInterface.remoteGitConfigured")?l:null}},"./api-dev/components/api-version/definition/DefineContainer/DefineContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../packages/api-design/schema-editor/index.js");let r=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}render(){return s.createElement(a.DefineCategory,{editor:this.props.editor,model:this.props.model})}})||o},"./api-dev/components/api-version/development/mock-section/CreateMockEntityModal/CreateMockEntityModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CheckInternetConnection.js"),h=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),g=n("./js/components/base/Tabs.js"),f=n("./js/components/base/Buttons.js"),b=n("./js/components/base/Inputs.js"),y=n("./js/components/new-button/CreationError.js"),v=n("./js/components/base/Dropdowns.js"),I=n("./js/components/base/data-editor/RowRenderer.js"),E=n("./js/components/base/data-editor/components/DEInputs.js"),_=n("./js/components/base/data-editor/components/HeaderActions.js"),S=n("./api-dev/components/common/GenerationConfigOptions/GenerationConfigOptions.js"),C=n("./js/constants/AppUrlConstants.js"),T=n("./api-dev/util/URLDomainValidation.js"),j=n("./js/external-navigation/ExternalNavigationService.js"),A=(n("./js/services/EditorService.js"),n("./js/models/services/DashboardService.js"),n("./node_modules/@postman/data-editor/lib/lib.js")),w=n("./js/components/new-button/DataEditorRequestMethods.js"),O=n("./runtime-repl/request-http/httpstatuscodes.js"),N=n("./js/utils/uid-helper.js"),D=n("./js/modules/pipelines/user-action.js"),R=n("./js/modules/model-event.js"),P=n("./js/stores/StoreManager.js"),M=n("./js/stores/ActiveWorkspaceSessionStore.js"),L=n("./runtime-repl/request-http/_api/RequestInterface.js"),x=n("./appsdk/components/link/Link.js"),k=n("./js/utils/ClipboardHelper.js"),F=n("./api-dev/components/api-version/development/mock-section/MockDelaySelector/MockDelaySelector.js"),V=n("./js/modules/services/ManageRolesModalService.js"),B=n("./node_modules/lodash/lodash.js");class U extends o.Component{constructor(e){super(e);let t={columns:[{name:"method",type:"string",label:"Method",width:17,resize:!0,default:"GET",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(w.default,{allowScroll:!0,value:e,onChange:e=>t("edit",{value:e})})},{name:"url",type:"string",label:"Request Path",width:33,resize:!0,default:"",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement("div",{className:"data-editor__cell--path"},o.createElement("span",{className:"prefix"},"{{url}}/"),o.createElement(E.default,{value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"Path"}))},{name:"requestBody",type:"string",label:"Request Body",width:15,resize:!0,hidden:!0,default:"",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(E.default,{value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"Request Body"})},{name:"description",type:"string",label:"Description",width:15,resize:!0,hidden:!0,default:"",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(E.default,{value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"Description"})},{name:"code",type:"string",label:"Response Code",width:17,resize:!0,default:200,renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(E.default,{type:"number",value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:e,suggestions:B.reduce(O.default,((e,t,n)=>(e.push({value:`${n} ${t.name}`}),e)),[])})},{name:"response",type:"string",label:"Response Body",width:33,resize:!0,default:"",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(E.default,{value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"Response Body"})}],renderers:{row:({children:e,index:t,nodeId:n},s,{isCollapsed:i,subColumnIndex:a},r)=>o.createElement(I.default,{index:t,style:r,nodeId:n,onAction:s},e),header:e=>o.createElement("div",{className:"data-editor__custom-header"},o.createElement("div",{className:"data-editor__header-offset"}),e,o.createElement("div",{className:"data-editor__header__controls"},o.createElement(_.default,{onColumnToggle:this.handleColumnToggle,config:this.state.config})))},height:300};this.state={collectionName:"",selectedCollection:B.get(B.head(this.props.collectionList),"name","Select a collection"),mockServerName:"",versionTag:{id:null,name:""},environment:{id:null,name:""},isMockPrivate:!1,values:[],config:t,isConfigVisible:!1},this.handleCollectionNameChange=this.handleCollectionNameChange.bind(this),this.handleSelectCollection=this.handleSelectCollection.bind(this),this.handleMockNameChange=this.handleMockNameChange.bind(this),this.handleSelectVersionTag=this.handleSelectVersionTag.bind(this),this.handleSelectEnvironment=this.handleSelectEnvironment.bind(this),this.handleMockPrivateChange=this.handleMockPrivateChange.bind(this),this.handleDataEditorInputChange=this.handleDataEditorInputChange.bind(this),this.handleColumnToggle=this.handleColumnToggle.bind(this),this.handleConfigToggle=this.handleConfigToggle.bind(this),this.openRequestInTab=this.openRequestInTab.bind(this),this.getLinkToOpen=this.getLinkToOpen.bind(this),this.handleCopyUrl=this.handleCopyUrl.bind(this)}handleCopyUrl(){k.default.copy(this.props.selectedOptions.mockServerUrl)}handleDataEditorInputChange(e){this.setState({values:e});let t=B.dropRight(A.utils.unflattenNodes(e));this.props.onRequestChange(t)}handleCollectionNameChange(e){this.setState({collectionName:e}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("collectionName",e)}handleSelectCollection(e){let t=B.find(this.props.collectionList,["id",e]);this.setState({selectedCollection:B.get(t,"name")}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("collectionUid",B.get(t,"uid"))}handleMockNameChange(e){this.setState({mockServerName:e}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("mockServerName",e)}handleSelectVersionTag(e){const t=B.find(this.props.versionTagList,["id",e.value]);t&&(this.setState({versionTag:{id:t.id,name:t.name}}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("versionTagId",t.id))}handleSelectEnvironment(e){const t=B.find(this.props.environmentList,["id",e.value]);this.setState({environment:{id:t.id,name:t.name}}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("environmentUid",t.uid)}handleMockPrivateChange(e){this.setState({isMockPrivate:e}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("isMockPrivate",e)}handleColumnToggle(e){this.setState({config:e})}handleConfigToggle(e){this.setState({isConfigVisible:e})}openRequestInTab(){let e=B.get(this.props,"selectedOptions.mockServerUrl");if(!(0,T.validateMockServerUrlDomain)(e))return;let t=(0,P.resolveStoreInstance)(M.default).id;this.props.onClose&&this.props.onClose(),(0,L.openNewRequestTab)({initialValue:{url:e}}).then((()=>{(0,D.default)((0,R.createEvent)("setActiveEnvironment","workspacesession",{workspaceSession:{id:t},activeEnvironment:(0,N.decomposeUID)(this.props.selectedOptions.environmentUid).modelId}))}))}getLinkToOpen(e){if(e&&(0,T.validateLearningCntrUrlDomain)(e))return e}renderVersionTagHead(){const e=B.map(this.props.versionTagList,(e=>({value:e.id,label:e.name}))),t=this.state.versionTag,n=B.findIndex(e,(e=>e.value===t.id));return o.createElement("div",{className:"version-tag__dropdown"},o.createElement(a.default,{value:-1===n?B.head(e):e[n],isLoading:this.props.isVersionLoading,onChange:this.handleSelectVersionTag,options:e,label:"Tag",isClearable:!1}))}renderEnvironmentDropdown(){const e=B.map(this.props.environmentList,(e=>({value:e.id,label:e.name}))),t=this.state.environment,n=B.findIndex(e,(e=>e.value===t.id));return o.createElement("div",{className:"environment__dropdown"},o.createElement(a.default,{value:-1===n?B.head(e):e[n],label:o.createElement(r.default,{text:"Use an environment",fieldType:"optional"}),onChange:this.handleSelectEnvironment,options:e,isClearable:!1}))}getTooltipForGenerateCollection(){return this.props.isSchemaEmpty?"Collection generation is not supported for empty schemas.":this.props.hasValidSchema?void 0:"Add a valid schema to generate a collection from it."}renderSelectCollection(){const e=!this.props.isSchemaEmpty&&this.props.hasValidSchema;let t=e?"generate-new":"use-existing";return o.createElement("div",{className:`${this.getClasses()} select-collection`},o.createElement("div",{className:"select-collection__tabs"},o.createElement(g.Tabs,{type:"secondary",defaultActive:t,activeRef:this.props.activeSource,onChange:this.props.onChangeSource},o.createElement(g.Tab,{refKey:"generate-new",disabled:!e,tooltip:this.getTooltipForGenerateCollection()},"Generate from API schema"),o.createElement(g.Tab,{refKey:"use-existing"},"Use an existing collection"),o.createElement(g.Tab,{refKey:"new"},"Create a new collection"))),"generate-new"===this.props.activeSource&&o.createElement("div",{className:"generate-new-content-wrapper"},o.createElement("div",{className:"collection-name-wrapper"},o.createElement("span",{className:"input-label"},"Name your collection"),o.createElement("div",{className:"collection-name__input"},o.createElement(b.Input,{inputStyle:"box",ref:"collectionName",onChange:this.handleCollectionNameChange,value:this.state.collectionName,placeholder:"e.g. Payment API"}))),o.createElement(S.default,{options:this.props.generationOptions,preferences:this.props.optionsPreferences,onOptionsChange:this.props.onConfigOptionsChange,onToggle:this.handleConfigToggle,forceShowOptions:this.state.isConfigVisible})),"use-existing"===this.props.activeSource&&o.createElement("div",{className:"select-collection-wrapper"},o.createElement("span",{className:"dropdown-label"},"Select a collection in this workspace"),o.createElement("div",{className:"select-collection"},o.createElement("div",{className:"select-collection__dropdown"},o.createElement(v.Dropdown,{onSelect:this.handleSelectCollection,"full-width":!0},o.createElement(v.DropdownButton,{type:"secondary",size:"small"},o.createElement(f.Button,{className:"dropdown-head"},o.createElement("span",{className:"dropdown-head__label"},this.state.selectedCollection))),o.createElement(v.DropdownMenu,{className:"dropdown__menu-list",fluid:!0},B.isEmpty(this.props.collectionList)?o.createElement(v.MenuItem,null,o.createElement("span",null,"There are no collections in this workspace")):this.props.collectionList.map((e=>o.createElement(v.MenuItem,{key:e.id,refKey:e.id},o.createElement("span",null,e.name))))))))),"new"===this.props.activeSource&&o.createElement(o.Fragment,null,o.createElement("div",{className:"create-mock-entity-modal__right__intro"},o.createElement("div",null,o.createElement("span",{className:"create-mock-entity-modal__right__intro__heading"},"Mock servers let you simulate your API endpoints without having to set up a backend."),o.createElement(o.Fragment,null,o.createElement("span",null,"Enter request paths for your API endpoints and then the expected response code and response body to create an"),o.createElement(l.default,{type:"link-default",onClick:()=>{(0,j.openExternalLink)(C.EXAMPLE_DOCS,"_blank")}},"example"),".",o.createElement("span",null," To add a body or description to the request, click the () icon.")))),o.createElement("div",{className:"create-mock-entity-modal__right"},o.createElement("div",{className:"create-mock-entity-modal__right__table"},o.createElement("div",{className:"create-mock-entity-modal__data-editor"},o.createElement(A.DataEditor,{input:this.state.values,config:this.state.config,onChange:this.handleDataEditorInputChange}))))),o.createElement("div",{className:"create-mock-entity-modal__footer__helptext"},"Learn how to speed up API development using",o.createElement(l.default,{type:"link-default"},o.createElement(x.default,{to:C.MOCKING_WITH_EXAMPLES,target:"_blank"},"mock servers and examples"))))}getCollectionName(){return B.isEqual(this.props.activeSource,"generate-new")?B.get(this.props.selectedOptions,"collectionName")||this.props.collectionName:B.isEqual(this.props.activeSource,"use-existing")?this.state.selectedCollection:void 0}renderConfigureMock(){return this.props.errorFetchingVersionTags?o.createElement("div",{className:"create-new-mock__error"},o.createElement(y.default,{subtitle:"Something went wrong while loading this form",blankState:o.createElement(c.default,null)})):o.createElement("div",{className:`${this.getClasses()} configure-mock`},o.createElement("div",{className:"configure-mock-content-wrapper"},o.createElement("div",{className:"mock-name-wrapper"},o.createElement("div",{className:"mock-name"},o.createElement(d.default,{inputStyle:"box",ref:"mockName",label:o.createElement(r.default,{text:"Name your mock server"}),onChange:e=>this.handleMockNameChange(e.target.value),value:this.state.mockServerName}))),"use-existing"===this.props.activeSource&&o.createElement("div",{className:"version-tag-wrapper"},o.createElement("div",{className:"version-tag"},this.renderVersionTagHead(),o.createElement("span",{className:"help-text"},"Choose a collection tag for this mock server. If the collection is not linked to an API, the mock server can only be created on the current tag."))),o.createElement("div",{className:"environment-wrapper"},o.createElement("div",{className:"environment"},this.renderEnvironmentDropdown(),o.createElement("span",{className:"help-text"},"Environments are groups of variables. The mock server will use the variable values from the selected environment in the request and response. Learn more about",o.createElement(l.default,{type:"link-default"},o.createElement(x.default,{to:C.ENVIRONMENT_DOCS,target:"_blank"},"environments"))))),o.createElement("div",{className:"mock-option-wrapper"},o.createElement("div",{className:"mock-option"},o.createElement(u.default,{isChecked:this.state.isMockPrivate,label:"Make the mock server private",onChange:this.handleMockPrivateChange})),o.createElement("div",{className:"help-text"},o.createElement("span",null,"To call a private mock server, add an x-api-key header to your requests. Learn how to generate "),o.createElement(l.default,{type:"link-default"},o.createElement(x.default,{to:this.getLinkToOpen(C.PRO_API_INTRO),target:"_blank"},"Postman API keys")))),o.createElement("div",{className:"mock-option-wrapper"},o.createElement("div",{className:"mock-option"},o.createElement(u.default,{isChecked:this.props.selectedOptions.createEnvironment,label:"Save the mock server URL as an environment variable",onChange:this.props.onCreateEnvironmentChange})),o.createElement("span",{className:"help-text"},"Note: This will create a new environment containing the URL.")),o.createElement(F.default,{onChange:this.props.onMockDelayChange,config:B.get(this.props.mockDelayConfig,"delay.fixed"),delayDurationError:this.props.delayDurationError,delay:this.props.mockDelay})),o.createElement(l.default,null,"Note: This API mock server collection will inherit roles from the API. "," ",o.createElement(p.default,{onClick:()=>(0,V.manageRolesOnAPI)(this.props.apiId),type:"monochrome-plain",text:"View API roles"})))}renderNextSteps(){let e,t;return B.isEqual(this.props.activeSource,"new")&&this.props.selectedOptions.createEnvironment?(e="Mock server, collection and environment created",t=o.createElement("div",{className:"create-mock-entity-modal__content__header__helper-text"},"To keep things easy, they're all named",o.createElement("span",{className:"create-mock-entity-modal__content__header__helper-text__entity-name"},this.props.selectedOptions.mockServerName),".")):B.isEqual(this.props.activeSource,"new")?(e="Mock server and collection created",t=o.createElement("div",{className:"create-mock-entity-modal__content__header__helper-text"},"To keep things easy, they're both named",o.createElement("span",{className:"create-mock-entity-modal__content__header__helper-text__entity-name"},this.props.selectedOptions.collectionName),".")):B.isEqual(this.props.activeSource,"use-existing")&&this.props.selectedOptions.createEnvironment?(e="Mock server and environment created",t=o.createElement("div",{className:"create-mock-entity-modal__content__header__helper-text"},"To keep things easy, they're both named",o.createElement("span",{className:"create-mock-entity-modal__content__header__helper-text__entity-name"},this.props.selectedOptions.mockServerName),".")):(e="Mock server created",t=o.createElement("div",{className:"create-mock-entity-modal__content__header__helper-text"},o.createElement("span",{className:"create-mock-entity-modal__content__header__helper-text__entity-name"},this.props.selectedOptions.mockServerName),"has been created for",o.createElement("span",{className:"create-mock-entity-modal__content__header__helper-text__entity-name",id:"collection-name"},this.getCollectionName()),"collection.")),o.createElement("div",{className:"create-mock-entity-modal__body next-steps"},o.createElement("div",{className:"create-mock-entity-modal__card__center"},o.createElement("div",{className:"create-mock-entity-modal__content__header-container"},o.createElement("div",{className:"create-mock-entity-modal__content__header__icon"},o.createElement(h.default,{name:"icon-entity-mock-stroke",color:"content-color-secondary"})),o.createElement("div",{className:"create-mock-entity-modal__content__header"},o.createElement("div",{className:"create-mock-entity-modal__content__header__text"},o.createElement("div",{className:"create-mock-entity-modal__content__header__text__title"},e),t),o.createElement("div",{className:"separator"},"Try it out:",o.createElement("div",{className:"separator-line"})))),o.createElement("div",{className:"create-mock-entity-modal__content__footer"},o.createElement("div",{className:"create-mock-entity-modal__content__footer__title"},"To call the mock server:"),o.createElement("ul",null,o.createElement("li",{className:"create-mock-entity-modal__step"},o.createElement("div",{className:"create-mock-entity-modal__step__text"},o.createElement("span",null,"Add examples responses to each request that the mock server will return. Learn how to mock requests using "),o.createElement(l.default,{type:"link-default"},o.createElement(x.default,{to:this.getLinkToOpen(C.EXAMPLE_DOCS),target:"_blank"},"examples")))),this.props.selectedOptions.isPrivate&&o.createElement("li",{className:"create-mock-entity-modal__step"},o.createElement("div",{className:"create-mock-entity-modal__step__text"},o.createElement("span",null,"Add an x-api-key header to your requests. "),o.createElement(f.Button,{className:"learn-more-link",type:"text"},o.createElement(x.default,{to:this.getLinkToOpen(C.PRO_API_KEYS_LINK),target:"_blank"},"Generate Postman API key")))),o.createElement("li",{className:"create-mock-entity-modal__step"},o.createElement("div",{className:"create-mock-entity-modal__step__text"},o.createElement("span",null,"Then just send a request to the following URL, followed by the request path: "),o.createElement("br",null),o.createElement("span",{onClick:this.openRequestInTab,type:"text",className:"learn-more-link"},this.props.selectedOptions.mockServerUrl+"/"),this.props.selectedOptions.createEnvironment&&o.createElement("div",null,"Or select the",o.createElement("span",{className:"create-mock-entity-modal__step__text__bold"},this.props.selectedOptions.mockServerName),"environment and enter",o.createElement("span",{className:"create-mock-entity-modal__step__text__bold"},"{{url}}"),"followed by the request path.")),o.createElement("div",{className:"create-mock-entity-modal__step__copy"},o.createElement(p.default,{onClick:this.handleCopyUrl,type:"secondary",text:"Copy Mock URL",icon:"icon-action-copy-stroke"})))),o.createElement("div",{className:"create-mock-entity-modal__footer__helptext"},o.createElement("span",null,"Note: Calls to a mock server count against your plan's monthly call limits. Be sure to check your "),o.createElement(l.default,{type:"link-default"},o.createElement(x.default,{target:"_blank",to:`${pm.appUrl}/dpxy/dashboard/usage`},"usage limits")),"."))))}getClasses(){return i()({"create-mock-entity-modal__content":!0,"is-loading":this.props.isLoading})}renderStep(e){return"selectCollection"===e?this.renderSelectCollection():"configureMock"===e?this.renderConfigureMock():"nextSteps"===e?this.renderNextSteps():void 0}render(){return this.props.isOffline?o.createElement("div",{className:"create-new-mock__error-blank-state"},o.createElement(y.default,{subtitle:"Please check your internet connection and try again.",onRetry:this.props.onOfflineRetry,blankState:o.createElement(m.default,null)})):this.renderStep(this.props.mockSteps[this.props.activeStep])}}},"./api-dev/components/api-version/development/mock-section/CreateMockEntityModalContainer/CreateMockEntityModalContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var o,s,i=n("../../node_modules/react/index.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("./js/components/base/Tabs.js"),p=n("./js/components/base/Buttons.js"),m=n("./js/modules/services/AnalyticsService.js"),h=n("./js/components/base/LoadingIndicator.js"),g=n("./js/components/base/Modals.js"),f=n("./api-dev/components/api-version/development/mock-section/CreateMockEntityModal/CreateMockEntityModal.js"),b=n("./js/containers/new-button/services/VersionTagService.js"),y=n("./api-dev/util/getConfigurationOptions.js"),v=n("./js/modules/tracked-state/TrackedState.js"),I=n("./js/modules/controllers/UserController.js"),E=n("./js/utils/util.js"),_=n("./js/utils/uid-helper.js"),S=n("./js/stores/GateKeeperStore.js"),C=n("./js/stores/CurrentUserStore.js"),T=n("./js/stores/SyncStatusStore.js"),j=n("./js/stores/StoreManager.js"),A=n("./js/stores/ActiveWorkspaceStore.js"),w=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),O=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),N=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),D=n("./runtime-repl/environment/_api/EnvironmentStoreV2.js"),R=n("./runtime-repl/environment/_api/EnvironmentInterfaceV2.ts"),P=n("./runtime-repl/collection/_api/CollectionInterfaceV2.ts"),M=n("./mocks/services/MockService.js"),L=n("./mocks/constants/MockErrors.js"),x=n("./mocks/components/CustomMockError.js"),k=n("./node_modules/lodash/lodash.js");let F,V={activeStep:1,activeSource:null,isVersionLoading:!1,isCreating:!1,errorFetchingVersionTags:!1,workspaceCollectionsStore:{},workspaceEnvironmentsStore:{},versionTagList:[],selectedOptions:{collectionName:"",mockServerName:"",environmentUid:"",versionTagId:"",isMockPrivate:!1,collectionUid:"",mockServerUrl:"",createEnvironment:!1},configStatus:{loading:!0,error:!1},mockDelay:null,delayDurationError:!1,schemaFormat:"",generationOptions:[],optionsPreferences:{},from:"api_dev_create_new_mock"},B=(0,l.observer)(((s=class extends i.Component{constructor(e){super(e),this.state=V,this.trackedState=new v.TrackedState({requests:[]}),(0,v.bindTrackedStateToComponent)(this.trackedState,this),this.handleBack=this.handleBack.bind(this),this.handleClose=this.handleClose.bind(this),this.handleCreateMock=this.handleCreateMock.bind(this),this.handleChangeSource=this.handleChangeSource.bind(this),this.handleActiveStepChange=this.handleActiveStepChange.bind(this),this.handleSelectedOptionsChange=this.handleSelectedOptionsChange.bind(this),this.handleOfflineRetry=this.handleOfflineRetry.bind(this),this.handleLoadVersionRetry=this.handleLoadVersionRetry.bind(this),this.handleOfflineRetry=this.handleOfflineRetry.bind(this),this.handleRequestChange=this.handleRequestChange.bind(this),this.constructCollection=this.constructCollection.bind(this),this.handleCreateEnvironmentChange=this.handleCreateEnvironmentChange.bind(this),this.constructEnvironment=this.constructEnvironment.bind(this),this.hydrateConfigOptions=this.hydrateConfigOptions.bind(this),this.handleConfigOptionsChange=this.handleConfigOptionsChange.bind(this),this.getSortedEnvironments=this.getSortedEnvironments.bind(this),this.handleMockDelayChange=this.handleMockDelayChange.bind(this),this.fetchAndSetConfigOptions=this.fetchAndSetConfigOptions.bind(this),this.setMockURLInCollectionVariable=this.setMockURLInCollectionVariable.bind(this)}componentDidMount(){this.getCollectionList(),this.getEnvironmentList(),this.fetchAndSetConfigOptions();const e=!this.props.isSchemaEmpty&&this.props.hasValidSchema?"generate-new":"use-existing";this.handleChangeSource(e)}componentWillUnmount(){this.state.workspaceCollectionsStore&&this.state.workspaceCollectionsStore.unsubscribe&&this.state.workspaceCollectionsStore.unsubscribe(),this.state.workspaceEnvironmentStore&&this.state.workspaceEnvironmentStore.unsubscribe&&this.state.workspaceEnvironmentStore.unsubscribe()}componentDidUpdate(e){if(this.props.isOpen!==e.isOpen){this.getCollectionList(),this.getEnvironmentList(),this.fetchAndSetConfigOptions();const e=!this.props.isSchemaEmpty&&this.props.hasValidSchema?"generate-new":"use-existing";this.handleChangeSource(e)}}fetchAndSetConfigOptions(){return this.setState((()=>({configStatus:{loading:!0,error:!1}}))),(0,M.getMockConfigOptions)().then((e=>{F=e,this.setState((e=>({configStatus:{...e.configStatus,loading:!1}})))})).catch((()=>{this.setState({configStatus:{loading:!1,error:!0}})}))}resetState(){this.setState({...V})}hydrateConfigOptions(){let e=this.props.schemaFormat,t=this.props.advancedOptions;e&&!k.isEmpty(t)&&(t=(0,y.checkAndOverrideDefaultValue)(e,t),this.setState({schemaFormat:e.id,generationOptions:t,optionsPreferences:pm.settings.getSetting(`import.options.${e.id}`)||{}}))}getCollectionList(){const e=(0,j.resolveStoreInstance)(A.default).id;(0,N.subscribeMeta)(e,{permissions:this.constructor.collectionPermissions}).then((e=>{this.setState({workspaceCollectionsStore:e})}))}getEnvironmentList(){const e=(0,j.resolveStoreInstance)(A.default).id;(0,D.subscribeMeta)(e,{permissions:this.constructor.environmentPermissions}).then((e=>{this.setState({workspaceEnvironmentsStore:e})}))}getSortedEnvironments(){const e=k.sortBy(k.get(this.state.workspaceEnvironmentsStore,"list"),(e=>e.name?e.name.toLowerCase():""));return k.concat({id:null,name:"No Environment"},e)}getVersionTagList(){return this.setState({isVersionLoading:!0}),(0,b.fetchAllTags)({collectionUid:this.state.selectedOptions.collectionUid}).then((e=>{this.setState({versionTagList:e,isVersionLoading:!1,selectedOptions:{...this.state.selectedOptions,versionTagId:k.get(e,"0.id")}})})).catch((e=>{this.setState({isVersionLoading:!1,errorFetchingVersionTags:!0}),pm.logger.warn("Failed to fetch tag for the collection",e),pm.toasts.error("Couldn't get tags. Please try again.")}))}handleOfflineRetry(){(0,j.resolveStoreInstance)(T.default).isSocketConnected&&"configureMock"===this.props.mockSteps[this.state.activeStep]&&this.handleCreateMock()}handleLoadVersionRetry(){this.getVersionTagList()}handleChangeSource(e){this.setState({activeSource:e,selectedOptions:{...this.state.selectedOptions,collectionUid:k.get(k.head(k.get(this.state.workspaceCollectionsStore,"list")),"uid","")}},(()=>{"generate-new"===this.state.activeSource&&this.hydrateConfigOptions()}))}handleRequestChange(e){this.trackedState.set({requests:k.map(e,(e=>({method:e.method,url:e.url,code:parseInt(e.code),response:e.response,description:e.description,requestBody:e.requestBody})))})}handleActiveStepChange(){this.setState({activeStep:this.state.activeStep+1},(()=>{k.invoke(this.refs,"content.refs.mockName.focus"),"use-existing"===this.state.activeSource&&this.getVersionTagList()}))}handleSelectedOptionsChange(e,t){this.setState({selectedOptions:{...this.state.selectedOptions,[e]:t}})}handleConfigOptionsChange(e){this.setState({optionsPreferences:e}),pm.settings.setSetting(`import.options.${this.state.schemaFormat}`,e)}handleMockDelayChange(e){let t=!1;if(!k.isNull(e)){e.duration&&k.isNaN(parseInt(e.duration))&&(e.duration="");const n=k.get(F,"delay.fixed.max");t=!(e.preset||parseInt(e.duration)<=n),e.duration=e.duration?parseInt(e.duration):e.duration}this.setState((n=>({mockDelay:k.isNull(e)?e:{...n.mockDelay,...e},delayDurationError:t})))}async setMockURLInCollectionVariable(){try{let e,t=this.state.selectedOptions,n={key:"url",value:t.mockServerUrl,enabled:!0};if(e=await(0,P.updateCollection)(t.collectionUid,{variables:[n]},{analyticsOptions:{origin:this.state.activeSource}}),!k.isEmpty(k.get(e,"error")))return void pm.logger.error("Error in saving mock url as a collection variable",e.error)}catch(e){pm.logger.error("Error in saving mock url as a collection variable",e)}}handleCreateMock(){let e;switch(this.state.activeSource){case"generate-new":e={selectedOptions:{...this.state.selectedOptions,collectionUid:"",versionTagId:""}};break;case"use-existing":e={selectedOptions:{...this.state.selectedOptions,collectionName:""}};break;case"new":if(k.isEmpty(this.state.selectedOptions.mockServerName))return;this.setState({isCreating:!0},(()=>{this.constructCollection((e=>{(0,N.getOne)(e,{permissions:this.constructor.collectionPermissions,exclude:["response","request"]}).then((({id:e})=>{let t=e,n={selectedOptions:{...this.state.selectedOptions,collectionUid:t}};this.setState({...n},(()=>this.constructMockOptions((e=>{e||this.setMockURLInCollectionVariable()}))))}))}))}))}"new"!==this.state.activeSource&&this.setState({...e,isCreating:!0},(()=>{this.constructMockOptions()}))}async constructCollection(e){let{id:t}=await I.default.get(),n={name:this.state.selectedOptions.mockServerName,id:E.default.guid(),owner:t},o=k.map(this.trackedState.get("requests"),(e=>{let o={url:"{{url}}/"+e.url,method:e.method||"GET",data:e.requestBody,dataMode:"raw"};return{...o,id:E.default.guid(),collection:n.id,name:e.url,owner:t,isFromCollection:!0,time:(new Date).getTime(),description:e.description||"",responses:[{id:E.default.guid(),name:"Default",status:e.code,text:e.response,responseCode:{code:parseInt(e.code),name:k.join(k.drop(k.split(e.code," "),1)," ")},requestObject:o}]}})),s=k.map(o,"id");k.assign(n,{requests:o,order:s});try{const t=(0,j.resolveStoreInstance)(A.default).id;let o=await(0,P.createCollection)(n,t,{analyticsOptions:{origin:(i=this.state.from,i.startsWith("history")?"history/mock":"create_new_x"===i?"cnx":i)}});if(!k.isEmpty(k.get(o,"error")))return void pm.logger.error("Error in creating mock",o.error);e&&e(`${n.owner}-${n.id}`)}catch(e){pm.logger.error("Error in pipeline for creating mock",e)}var i}async constructEnvironment(e){const t=(0,j.resolveStoreInstance)(A.default).id;let n=E.default.guid(),o=(0,j.resolveStoreInstance)(C.default),s={id:n,name:this.state.selectedOptions.mockServerName,values:[{enabled:!0,key:"url",value:this.state.selectedOptions.mockServerUrl,type:"text"}],owner:o.id,uid:`${o.id}-${n}`};m.default.addEventV2({category:"mock",action:"store_url_as_environment_variable",label:this.state.from,entityId:this.state.mockId});try{await(0,R.createEnvironment)(s,t),this.setState((e=>({selectedOptions:{...e.selectedOptions,environmentUid:(0,_.composeUID)(n,o.id)}})),(()=>{k.isFunction(e)&&e()}))}catch(e){pm.logger.error("Error in pipeline for creating mock",e)}}constructMockOptions(e){let t,n;return n={environment:this.state.selectedOptions.environmentUid||null,name:this.state.selectedOptions.mockServerName,private:this.state.selectedOptions.isMockPrivate,versionTag:this.state.selectedOptions.versionTagId||null},this.state.mockDelay&&(n.config={delay:this.state.mockDelay}),t="generate-new"===this.state.activeSource?{configurations:{converter:{...this.state.optionsPreferences},mock:n,collection:{name:this.state.selectedOptions.collectionName}}}:{collectionId:this.state.selectedOptions.collectionUid,configurations:{converter:{...this.state.optionsPreferences},mock:n}},this.props.onCreateMock&&this.props.onCreateMock(t).then((t=>{this.setState({isCreating:!1,activeStep:this.state.activeStep+1,selectedOptions:{...this.state.selectedOptions,mockServerUrl:k.get(t,"body.data.url")},mockId:k.get(t,"body.data.id")},(()=>{this.state.selectedOptions.createEnvironment&&this.constructEnvironment(),k.isFunction(e)&&e()}))})).catch((()=>(this.setState({isCreating:!1}),k.isFunction(e)&&e(!0),Promise.reject())))}handleBack(){1!==this.state.activeStep?this.setState((e=>({activeStep:e.activeStep-1}))):this.props.handleBack&&this.props.handleBack()}handleCreateEnvironmentChange(e){this.setState((t=>({selectedOptions:{...t.selectedOptions,createEnvironment:e}})))}handleClose(){this.resetState(),this.props.onClose&&this.props.onClose()}getStepClasses(e){return r()({"is-done":this.state.activeStep>e,"incomplete-tab-steps":this.state.activeStep<e})}renderFooter(){let e=this.props.mockSteps[this.state.activeStep],t=this.state.activeSource;if("selectCollection"===e&&"generate-new"===t)return i.createElement("div",{className:"create-mock-entity-modal__footer"},i.createElement(p.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleClose},"Cancel"),i.createElement(p.Button,{className:"action-button__generate",type:"primary",onClick:this.handleActiveStepChange,disabled:!this.state.selectedOptions.collectionName,tooltip:!this.state.selectedOptions.collectionName&&"Give the collection a name to continue"},"Generate Collection and Continue"));if("selectCollection"===e&&"use-existing"===t)return i.createElement("div",{className:"create-mock-entity-modal__footer"},i.createElement(p.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleClose},"Cancel"),i.createElement(p.Button,{className:"action-button__generate",type:"primary",onClick:this.handleActiveStepChange,disabled:k.isEmpty(k.get(this.state.workspaceCollectionsStore,"list"))},"Select Collection and Continue"));if("selectCollection"===e&&"new"===t)return i.createElement("div",{className:"create-mock-entity-modal__footer"},i.createElement(p.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleClose},"Cancel"),i.createElement(p.Button,{className:"action-button__generate",type:"primary",disabled:k.isEmpty(this.trackedState.get("requests")),onClick:this.handleActiveStepChange},"Create Collection and Continue"));if("configureMock"===e){const e=!this.state.selectedOptions.mockServerName||this.state.isCreating||this.state.delayDurationError;return i.createElement("div",{className:"create-mock-entity-modal__footer"},i.createElement(p.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleBack,disabled:this.state.isCreating},"Back"),i.createElement(p.Button,{className:"action-button__generate",type:"primary",onClick:this.handleCreateMock,disabled:e},this.state.isCreating?i.createElement(h.default,null):"Create Mock Server"))}return"nextSteps"===e?i.createElement("div",{className:"create-mock-entity-modal__footer"},i.createElement(p.Button,{type:"primary",onClick:this.handleClose},"Close")):void 0}renderModalContent(){const e=!(0,j.resolveStoreInstance)(T.default).isSocketConnected;return this.state.configStatus.error?i.createElement(x.default,{subtitle:L.UNEXPECTED_ERROR,onRetry:this.fetchAndSetConfigOptions,actionName:"Try again",illustration:i.createElement(w.default,null)}):i.createElement(f.default,{apiId:this.props.apiId,ref:"content",activeStep:this.state.activeStep,activeSource:this.state.activeSource,isOffline:e,isSchemaEmpty:this.props.isSchemaEmpty,hasValidSchema:this.props.hasValidSchema,isVersionLoading:this.state.isVersionLoading,errorFetchingVersionTags:this.state.errorFetchingVersionTags,onOfflineRetry:this.handleOfflineRetry,onLoadVersionRetry:this.handleLoadVersionRetry,onChangeSource:this.handleChangeSource,onSelectedOptionsChange:this.handleSelectedOptionsChange,onConfigOptionsChange:this.handleConfigOptionsChange,onMockDelayChange:this.handleMockDelayChange,onClose:this.handleClose,collectionList:k.get(this.state.workspaceCollectionsStore,"list"),versionTagList:this.state.versionTagList,environmentList:this.getSortedEnvironments(),selectedOptions:this.state.selectedOptions,mockSteps:this.props.mockSteps,generationOptions:this.state.generationOptions,optionsPreferences:this.state.optionsPreferences,mockDelayConfig:F,delayDurationError:this.state.delayDurationError,mockDelay:this.state.mockDelay,onRequestChange:this.handleRequestChange,onCreateEnvironmentChange:this.handleCreateEnvironmentChange,collectionName:this.props.collectionName})}render(){let e=(0,j.resolveStoreInstance)(C.default),t=e&&e.isLoggedIn,n=(0,j.resolveStoreInstance)(S.default).isSyncEnabled,o=!(0,j.resolveStoreInstance)(T.default).isSocketConnected,s=this.state.configStatus.error;return i.createElement(g.Modal,{className:"create-mock-entity-modal",isOpen:this.props.isOpen,onRequestClose:this.handleClose,customStyles:this.props.mockModalStyles},i.createElement(g.ModalHeader,null,i.createElement(u.Tabs,{type:"primary",defaultActive:1,activeRef:this.state.activeStep},k.map(this.props.mockStepsNameMap,(e=>i.createElement(u.Tab,{className:this.getStepClasses(e.step),refKey:e.step,key:e.step},this.state.activeStep<=e.step?`${e.step}.`:i.createElement(O.default,{name:"icon-state-success-stroke",color:"content-color-secondary"}),i.createElement("span",null,"",e.name)))))),i.createElement(g.ModalContent,{className:{selectCollection:"select-collection",configureMock:"configure-mock",nextSteps:"next-steps"}[this.props.mockSteps[this.state.activeStep]]},this.renderModalContent()),!o&&t&&n&&!s&&i.createElement(g.ModalFooter,null,this.renderFooter()))}}).collectionPermissions=["edit","addMock"],s.environmentPermissions=["edit"],o=s))||o;B.propTypes={mockStepsNameMap:d().array.isRequired,mockModalStyles:d().object.isRequired,mockSteps:d().object.isRequired}},"./api-dev/components/api-version/development/mock-section/MockDelaySelector/MockDelaySelector.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),r=n("./mocks/constants/MockFormConstants.js"),l=n("./node_modules/lodash/lodash.js");class c extends o.Component{constructor(e){super(e),this.state={isDirty:!1,isCustom:!1,defaultPreset:l.last(l.get(this.props,"config.presets",[{}])).id},this.getSelectedOption=this.getSelectedOption.bind(this),this.handleDelayStateChange=this.handleDelayStateChange.bind(this),this.handleDurationChange=this.handleDurationChange.bind(this),this.handleDurationTypeChange=this.handleDurationTypeChange.bind(this),this.getDurationTypeDisplayName=this.getDurationTypeDisplayName.bind(this)}getSelectedOption({durationTypeList:e,delayPreset:t,options:n}){if(l.isNil(n)||l.isEmpty(n))return null;const o=l.findIndex(e,{id:t}),s=l.findIndex(e,{id:r.CustomMockIdentifier});let i=n[0];return i=-1===o&&this.state.isCustom?n[s]:n[o],i}getDelayDurationValidationStatus(){const e=this.props.delayDurationError&&this.state.isDirty,t=l.get(this.props,"config.max"),n={status:null,message:null};return e&&(n.status="error",n.message=`Please enter a value between 0 and ${t} ms.`),n}handleDelayStateChange(e=!0){const t=e?{type:"fixed",preset:this.state.defaultPreset,duration:l.find(this.props.config.presets,{id:this.state.defaultPreset}).duration}:null;this.setState({isDirty:!1}),this.props.onChange&&this.props.onChange(t)}handleDurationTypeChange(e,t){const n=l.find(t,{id:e.value}),o=l.get(n,"duration"),s=Object.assign({duration:o,preset:void 0},n&&{preset:e.value});this.setState({isDirty:!1,isCustom:e.value===r.CustomMockIdentifier}),this.props.onChange&&this.props.onChange(s)}handleDurationChange(e){const t=e.target.value;this.setState({isDirty:!0},(()=>{this.props.onChange&&this.props.onChange({duration:t})}))}getDurationTypeDisplayName(e){return e.name+(e.duration?` (${e.duration} ms)`:"")}renderMockDelayDurationDropdown({delayPreset:e,durationTypeList:t,presets:n}){const i=l.map(t,(e=>({value:e.id,label:this.getDurationTypeDisplayName(e)}))),a=this.getSelectedOption({durationTypeList:t,delayPreset:e,options:i});return o.createElement(s.default,{value:a,onChange:e=>{l.invoke(this,"handleDurationTypeChange",e,n)},options:i,isClearable:!1})}renderMockDelaySelector(){const e=l.get(this.props,"delay.preset"),t=this.getDelayDurationValidationStatus(),n=this.props.source?this.props.source+"-":"",s=l.get(this.props,"config.max");return e?null:o.createElement("div",{className:n+"delay-duration__input-wrapper"},o.createElement(i.default,{className:n+"delay-duration__input-field",inputStyle:"box",value:this.props.delay.duration,placeholder:`0 - ${s}`,onChange:this.handleDurationChange,validationStatus:t.status,validationMessage:t.message,suffix:"ms"}))}render(){const e=l.get(this.props,"delay.type")&&l.get(this.props,"config.presets"),t=e&&l.reverse(l.concat(r.DurationType,e)),n=l.get(this.props,"delay.preset"),s=this.props.source?this.props.source+"-":"";return o.createElement("div",{className:s+"mock-delay-selector"},o.createElement("div",{className:s+"mock-delay__checkbox"},o.createElement(a.default,{isChecked:Boolean(this.props.delay),onChange:this.handleDelayStateChange,label:"Simulate fixed network delay"})),o.createElement("div",{className:s+"mock-delay__options"},this.props.delay&&o.createElement("div",{className:s+"mock-delay__input-options"},o.createElement("div",{className:s+"delay-duration-type-dropdown"},this.renderMockDelayDurationDropdown({durationTypeList:t,delayPreset:n,presets:e})),this.renderMockDelaySelector())))}}},"./api-dev/components/api-version/monitors/AddUptimeMonitorModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CheckInternetConnection.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("./js/modules/services/RemoteSyncRequestService.js"),h=n("./js/components/base/Buttons.js"),g=n("./js/components/base/LoadingIndicator.js"),f=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),b=n("./js/stores/StoreManager.js"),y=n("./js/stores/SyncStatusStore.js"),v=n("./js/components/base/Modals.js"),I=n("./collaboration/workspace/controller/ActiveWorkspaceController.ts"),E=n("./monitors/services/MonitorService.js"),_=n("./node_modules/lodash/lodash.js"),S=n.n(_),C=n("./js/modules/services/ManageRolesModalService.js");function T({name:e,reason:t,isDisabled:n}={}){return n?s.createElement(a.default,{content:S().get(t,"message"),placement:"right",closeDelay:20},s.createElement("div",{className:"add-entity-modal__dropdown-options"},s.createElement(r.default,{isTruncated:!0},e))):s.createElement(r.default,{isTruncated:!0},e)}let j=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={items:[],selectedItem:null,isLoading:!1,isLoadingError:!1},this.fetchLinkableEntities=this.fetchLinkableEntities.bind(this),this.handleSelect=this.handleSelect.bind(this),this.handleAdd=this.handleAdd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.renderContent=this.renderContent.bind(this)}componentDidMount(){this.fetchLinkableEntities()}fetchLinkableEntities(){let e;this.setState({isLoading:!0}),new Promise(((e,t)=>{try{let t=I.default.get();return e(S().get(t,"id"))}catch(e){return pm.logger.error("APIDevService~workspaceId not found.",e),t(e)}})).then((t=>{E.default.getMonitorsByWorkspace({workspaceId:t}).then((t=>{const n=S().map(t.body.data,"id");if(S().isEmpty(n))return Promise.resolve([]);e=S().keyBy(t.body.data,"id");const{apiId:o,apiVersionId:s}=this.props;return function(e,t,n){const o=`/apis/${e}/versions/${t}/relations/uptimemonitor/constraint-checks`;return m.default.request(o,{method:"post",data:{entityIds:n},timeout:6e4}).then((({body:e})=>e.data)).catch((e=>(pm.logger.warn("APIDevService~checkConstraintsForRelationLink: Failed to check constraint for relation linking.",e),Promise.reject(e))))}(o,s,n)})).then((t=>{S().forEach(t,((t={})=>{const{entityId:n,allowed:o,reason:s}=t;e[n]={...e[n],isAllowed:o,reason:s}})),this.setState({items:e,isLoading:!1,isLoadingError:!1})})).catch((e=>{pm.logger.error("AddEntityModal~fetchLinkableEntities: Failed to fetch possible entities",e),this.setState({isLoading:!1,isLoadingError:!0})}))}))}handleSelect(e={}){const t=null===e?null:S().find(this.state.items,["id",e.id]);this.setState({selectedItem:t})}handleAdd(){S().isFunction(this.props.onAdd)&&this.props.onAdd(this.state.selectedItem)}handleCancel(){S().isFunction(this.props.onCancel)&&this.props.onCancel()}renderErrorHandler(){let e,t,n;return!(0,b.resolveStoreInstance)(y.default).isSocketConnected?(e="No internet connection",t="You can only access your APIs when youre online.  Check your internet connection and try again.",n=s.createElement(l.default,null)):(e="Couldn't load uptime monitors",t="There was an unexpected error. Please try again.",n=s.createElement(c.default,null)),s.createElement(f.default,{title:e,description:t,buttonText:"Try Again",handler:this.fetchLinkableEntities,blankState:n})}renderContent(){if(this.state.isLoading)return s.createElement("div",{className:"add-entity-modal__loading-indicator"},s.createElement(g.default,null));if(this.state.isLoadingError)return this.renderErrorHandler();const e=[],t=[];S().forEach(this.state.items,(n=>{const o={...n,value:n.id,label:n.name,isDisabled:!n.isAllowed};n.isAllowed?t.push(o):e.push(o)})),t.sort(((e,t)=>e.name.toUpperCase()>t.name.toUpperCase()?1:-1));const n=t.concat(e);let o;return S().isEmpty(n)&&(o=this.props.emptyStateText||"No results found"),s.createElement(d.default,{options:n,onChange:this.handleSelect,label:this.props.label,customOptionComponent:T,isOptionDisabled:e=>e.isDisabled,placeholder:"Select",emptyStateMessage:o,menuMaxHeight:100})}render(){const e=this.props.isDisabled||!this.state.selectedItem,t=this.state.selectedItem?this.props.disabledText:"";return s.createElement(v.Modal,{className:"add-entity-modal",isOpen:this.props.isOpen,onRequestClose:this.handleCancel,customStyles:{width:"400px"}},s.createElement(v.ModalHeader,null,this.props.title),s.createElement(v.ModalContent,{className:this.state.isLoadingError&&"model-content__error"},s.createElement(u.default,{direction:"column",justifyContent:"space-between",height:"100%"},this.renderContent(),s.createElement(r.default,null,"Note: This API uptime monitor will inherit roles from the API. "," ",s.createElement(p.default,{onClick:()=>(0,C.manageRolesOnAPI)(this.props.apiId),type:"monochrome-plain",text:"View API roles"})))),!this.state.isLoadingError&&s.createElement(v.ModalFooter,null,s.createElement(h.Button,{className:"add-entity__add-button",type:"primary",onClick:this.handleAdd,disabled:e,tooltip:t},this.props.isLoadingAddRelation?s.createElement(g.default,null):this.props.buttonLabel),s.createElement(h.Button,{className:"add-entity__cancel-button",type:"secondary",onClick:this.handleCancel},"Cancel")))}})||o},"./api-dev/components/api-version/observation/CreateMonitorEntityModal/CreateMonitorEntityModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),l=n("./js/components/base/Tabs.js"),c=n("./js/components/base/Buttons.js"),d=n("./js/components/base/Inputs.js"),u=n("./js/components/base/LoadingIndicator.js"),p=n("./js/components/new-button/CreationError.js"),m=n("./js/components/base/Dropdowns.js"),h=n("./js/components/base/data-editor/components/HeaderActions.js"),g=n("./api-dev/components/common/GenerationConfigOptions/GenerationConfigOptions.js"),f=n("./js/constants/AppUrlConstants.js"),b=n("./api-dev/util/URLDomainValidation.js"),y=n("./node_modules/@postman/data-editor/lib/lib.js"),v=n("./js/components/base/data-editor/RowRenderer.js"),I=n("./js/components/base/data-editor/components/DEInputs.js"),E=n("./js/components/new-button/DataEditorRequestMethods.js"),_=n("./js/utils/GetUniqueIdHelper.js"),S=n("./runtime-repl/request-http/httpstatuscodes.js"),C=n("./appsdk/components/link/Link.js"),T=n("./monitors/components/create-edit-form/MonitorFormComponent.js"),j=n("./monitors/components/create-edit-form/MonitorFormHelperFunctions.js"),A=n("./node_modules/lodash/lodash.js");const w={isEditable:!1,type:"modal",showFormControls:!1,hideCollection:!0,preserveContext:!0};class O extends o.Component{constructor(e){super(e),this.onCreate=()=>{this.refs.content.handleCreationSelf()},this.onValidation=e=>{this.refs.content.handleValidationError(e)};let t={columns:[{name:"method",type:"string",label:"Request Method",width:21,resize:!0,default:"GET",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(E.default,{allowScroll:!0,value:e,onChange:e=>t("edit",{value:e})})},{name:"url",type:"string",label:"Request URL",width:37,resize:!0,default:"",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(I.default,{type:"autosuggest",value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"URL"})},{name:"body",hidden:!0,type:"string",label:"Request Body",width:25,resize:!0,default:"",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(I.default,{type:"autosuggest",value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"Body"})},{name:"description",hidden:!0,type:"string",label:"Description",width:20,resize:!0,default:"",renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(I.default,{type:"autosuggest",value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"Description"})},{name:"testResponseCode",type:"string",label:"Check Status Code",width:21,resize:!0,default:200,renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement(I.default,{type:"number",value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"Status Code",suggestions:A.reduce(S.default,((e,t,n)=>(e.push({value:`${n} ${t.name}`}),e)),[])})},{name:"testResponseTime",type:"number",label:"Check Response Time",width:21,resize:!0,default:400,renderer:(e,t,{isCollapsed:n,subColumnIndex:s},i,a)=>o.createElement("div",{className:"data-editor__cell--time"},o.createElement(I.default,{type:"number",value:e,onAction:e=>{t&&t("edit",{value:e})},cellInfo:a,placeholder:"Response Time"}),o.createElement("span",{className:"postfix"},"ms"))}],renderers:{row:({children:e,index:t,nodeId:n},s,{isCollapsed:i,subColumnIndex:a},r)=>o.createElement(v.default,{index:t,style:r,nodeId:n,onAction:s},e),header:e=>o.createElement("div",{className:"data-editor__custom-header"},o.createElement("div",{className:"data-editor__header-offset"}),e,o.createElement("div",{className:"data-editor__header__controls"},o.createElement(h.default,{onColumnToggle:this.handleColumnToggle,config:this.state.config,columnGroups:[{label:"Show columns",columns:["method","url","body","description"]},{label:"Add tests",columns:["testResponseCode","testResponseTime"]}]})))},height:300};this.state={collectionName:"",selectedCollection:A.get(A.head(this.props.collectionList),"name","Select a collection"),monitorName:"",versionTag:"",environment:"",showAdditional:!1,newRecipient:"",values:[],config:t,uniqueName:_.default.generateUniqueId(),showRegionTooltip:!1,target:null,isConfigVisible:!1},this.handleCollectionNameChange=this.handleCollectionNameChange.bind(this),this.handleSelectCollection=this.handleSelectCollection.bind(this),this.handleMonitorNameChange=this.handleMonitorNameChange.bind(this),this.handleSelectVersionTag=this.handleSelectVersionTag.bind(this),this.handleToggleAdditional=this.handleToggleAdditional.bind(this),this.handleNewRecipientChange=this.handleNewRecipientChange.bind(this),this.handleRecipientAdd=this.handleRecipientAdd.bind(this),this.getLinkToOpen=this.getLinkToOpen.bind(this),this.handleDataEditorInputChange=this.handleDataEditorInputChange.bind(this),this.handleColumnToggle=this.handleColumnToggle.bind(this),this.setRegionDisplay=this.setRegionDisplay.bind(this),this.handleMouseOver=this.handleMouseOver.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handleConfigToggle=this.handleConfigToggle.bind(this),this.onCreate=this.onCreate.bind(this)}setRegionDisplay(e){return i()({"create-monitor-entity__body__input":!0,"create-monitor-entity__body__input--regions":!0,[`create-monitor-entity__body__input-regions--${e}`]:!0})}handleMouseOver(e){e.enabled||this.setState({target:e.id,showRegionTooltip:!0})}handleMouseOut(){this.setState({target:null,showRegionTooltip:!1})}handleDataEditorInputChange(e){this.setState({values:e});let t=A.dropRight(y.utils.unflattenNodes(e));this.props.onRequestChange(t)}handleColumnToggle(e){this.setState({config:e})}getLinkToOpen(e){if(e&&(0,b.validateLearningCntrUrlDomain)(e))return e}handleCollectionNameChange(e){this.setState({collectionName:e}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("collectionName",e)}handleSelectCollection(e){let t=A.find(this.props.collectionList,["id",e]);this.setState({selectedCollection:A.get(t,"name")}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("collectionUid",A.get(t,"uid"))}handleMonitorNameChange(e){this.setState({monitorName:e}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("monitorName",e)}handleSelectVersionTag(e){let t=A.find(this.props.versionTagList,["id",e]);this.setState({versionTag:t.name}),this.props.onSelectedOptionsChange&&this.props.onSelectedOptionsChange("versionTagId",t.id)}handleToggleAdditional(){this.setState({showAdditional:!this.state.showAdditional})}handleConfigToggle(e){this.setState({isConfigVisible:e})}handleNewRecipientChange(e){this.setState({newRecipient:e})}handleRecipientAdd(){let e=A.size(this.props.additionalOptions.notifications.recipients);A.invoke(this.props,"onNotificationsChange",!0,e,this.state.newRecipient),this.setState({newRecipient:""},(()=>{this.refs.recipientAdd&&this.refs.recipientAdd.clear()}))}getTooltipForGenerateCollection(){return this.props.isSchemaEmpty?"Collection generation is not supported for empty schemas.":this.props.hasValidSchema?void 0:"Add a valid schema to generate a collection from it."}getClasses(){return i()({"create-new-monitor-modal__content":!0,step2:!0})}renderSelectCollection(){const e=!this.props.isSchemaEmpty&&this.props.hasValidSchema;let t=this.props.hasValidSchema?"generate-new":"use-existing";return o.createElement("div",{className:`${this.getClasses()} select-collection`},o.createElement("div",{className:"select-collection__tabs"},o.createElement(l.Tabs,{type:"secondary",defaultActive:t,activeRef:this.props.activeSource,onChange:this.props.onChangeSource},o.createElement(l.Tab,{refKey:"generate-new",disabled:!e,tooltip:this.getTooltipForGenerateCollection()},"Generate collection from schema"),o.createElement(l.Tab,{refKey:"use-existing"},"Use an existing collection"),o.createElement(l.Tab,{refKey:"new"},"Create new collection"))),"generate-new"===this.props.activeSource&&o.createElement(o.Fragment,null,o.createElement("div",{className:"create-monitor-entity-modal__content-wrapper"},o.createElement("div",{className:"collection-name-wrapper"},o.createElement("span",{className:"input-label"},"Name your collection"),o.createElement("div",{className:"collection-name"},o.createElement("div",{className:"collection-name__input"},o.createElement(d.Input,{inputStyle:"box",ref:"collectionName",onChange:this.handleCollectionNameChange,value:this.state.collectionName,placeholder:"e.g. Payment API"})))),o.createElement(g.default,{options:this.props.generationOptions,preferences:this.props.optionsPreferences,onOptionsChange:this.props.onConfigOptionsChange,onToggle:this.handleConfigToggle,forceShowOptions:this.state.isConfigVisible})),o.createElement("div",{className:"create-monitor-entity-modal__footer__helptext"},o.createElement("span",null,"Learn how to "),o.createElement(a.default,{type:"link-default"},o.createElement(C.default,{to:this.getLinkToOpen(f.API_GENERATING_COLLECTION_FROM_SCHEMA),target:"_blank"},"generate collections from schema")))),"use-existing"===this.props.activeSource&&o.createElement("div",{className:"create-monitor-entity-modal__content-wrapper"},o.createElement("div",{className:"select-collection-wrapper"},o.createElement("span",{className:"input-label"},"Select a collection in this workspace"),o.createElement("div",{className:"select-collection__content"},o.createElement("div",{className:"select-collection__dropdown"},o.createElement(m.Dropdown,{onSelect:this.handleSelectCollection,"full-width":!0},o.createElement(m.DropdownButton,{type:"secondary",size:"small"},o.createElement(c.Button,{className:"dropdown-head"},o.createElement("span",{className:"dropdown-head__label"},this.state.selectedCollection))),o.createElement(m.DropdownMenu,{className:"dropdown__menu-list",fluid:!0},A.isEmpty(this.props.collectionList)?o.createElement(m.MenuItem,null,o.createElement("span",null,"There are no collections in this workspace")):this.props.collectionList.map((e=>o.createElement(m.MenuItem,{key:e.id,refKey:e.id},o.createElement("span",null,e.name)))))))))),"new"===this.props.activeSource&&o.createElement(o.Fragment,null,o.createElement("div",{className:"create-monitor-entity-modal__content-wrapper__intro"},o.createElement("span",null,"Enter the requests you want to monitor. Optionally, add a request body by clicking on the () icon.")),o.createElement("div",{className:"create-monitor-entity-modal__content-wrapper"},o.createElement("div",{className:"create-monitor-entity-modal__content-wrapper__table"},o.createElement("div",{className:"create-monitor-entity-modal__data-editor"},o.createElement(y.DataEditor,{input:this.state.values,config:this.state.config,onChange:this.handleDataEditorInputChange}))))),("new"===this.props.activeSource||"use-existing"===this.props.activeSource)&&o.createElement("div",{className:"create-monitor-entity-modal__footer__helptext"},o.createElement("b",null,"What is a monitor? "),o.createElement("span",null,"A monitor lets you run requests periodically to check for its performance and response through "),o.createElement(a.default,{type:"link-default"},o.createElement(C.default,{to:this.getLinkToOpen(f.TEST_SCRIPT_DOCS),target:"_blank"},"tests")),".",o.createElement("span",null," Learn more about "),o.createElement(a.default,{type:"link-default"},o.createElement(C.default,{to:this.getLinkToOpen(f.MONITORING_DOCS),target:"_blank"},"monitors"))))}renderConfigureMonitor(){return o.createElement("div",{className:"create-new-monitor-modal__body"},o.createElement("div",{className:this.getClasses()},o.createElement(T.default,{ref:"content",selectedOptions:this.props.selectedOptions,onClose:this.props.onClose,getSelectedOptionName:j.default.getSelectedOptionNameNoCollection,monitorFormConfig:w,collectionFromContainer:this.props.collectionFromContainer,activeSourceFromContainer:this.props.activeSourceFromContainer,onCreateMonitor:this.props.onCreateMonitor})))}render(){return"selectCollection"===this.props.monitorSteps[this.props.activeStep]?this.renderSelectCollection():"configureMonitor"===this.props.monitorSteps[this.props.activeStep]?this.props.isVersionLoading||this.props.isRegionsLoading?o.createElement("div",{className:"create-monitor-entity-modal__content configure-monitor is-loading"},o.createElement(u.default,null)):this.props.errorLoadingVersionTags?o.createElement("div",{className:"create-monitor-entity-modal__content  configure-monitor error-loading-versions"},o.createElement(p.default,{subtitle:"Something went wrong while loading this form",onRetry:this.props.onLoadVersionRetry,blankState:o.createElement(r.default,null)})):this.props.errorLoadingRegions?o.createElement("div",{className:"create-monitor-entity-modal__content  configure-monitor error-loading-regions"},o.createElement(p.default,{subtitle:"Something went wrong while loading this form",onRetry:this.props.onLoadRegionsRetry,blankState:o.createElement(r.default,null)})):this.renderConfigureMonitor():void 0}}},"./api-dev/components/api-version/observation/CreateMonitorEntityModalContainer/CreateMonitorEntityModalContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var o,s,i=n("../../node_modules/react/index.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./node_modules/moment-timezone/index.js"),c=n.n(l),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("./node_modules/prop-types/index.js"),p=n.n(u),m=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),h=n("./js/components/base/Tabs.js"),g=n("./js/components/base/Buttons.js"),f=n("./js/components/base/Modals.js"),b=n("./js/containers/new-button/services/VersionTagService.js"),y=n("./js/containers/new-button/services/MonitorRegionsService.js"),v=n("./api-dev/util/getConfigurationOptions.js"),I=n("./api-dev/components/api-version/observation/CreateMonitorEntityModal/CreateMonitorEntityModal.js"),E=n("./runtime-repl/collection/_api/CollectionInterfaceV2.ts"),_=n("./js/modules/controllers/UserController.js"),S=n("./js/utils/util.js"),C=n("./node_modules/postman-collection/index.js"),T=n("./runtime-repl/request-http/httpstatuscodes.js"),j=n("./js/stores/GateKeeperStore.js"),A=n("./js/stores/ActiveWorkspaceStore.js"),w=n("./js/stores/SyncStatusStore.js"),O=n("./js/stores/StoreManager.js"),N=n("./js/stores/CurrentUserStore.js"),D=n("./monitors/utils/messages/index.js"),R=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),P=n("./js/constants/MonitoringErrors.js"),M=n("./node_modules/lodash/lodash.js");const L=/^[^@]+@[^.]+\..+$/;let x={activeStep:1,activeSource:null,isVersionLoading:!1,isRegionsLoading:!1,isCreating:!1,errorLoadingVersionTags:!1,errorLoadingRegions:!1,workspaceCollectionsStore:{},versionTagList:[],availableRegions:[],monitorUrl:"",selectedRegionMode:"auto",selectedOptions:{collectionName:"",collectionUid:"",monitorName:"",environmentUid:"",versionTagId:"",schedule:"0 0 0 * * *",regions:[],requests:[],tests:[{name:"Check Response code",code:"pm.response.to.have.status({{variable}});",enabled:!0,suggestions:M.reduce(T.default,((e,t,n)=>(e.push({value:`${n} ${t.name}`}),e)),[]),type:"number",placeholder:"Enter response code"},{name:"Check Response time",code:"pm.expect(pm.response.responseTime).to.be.below({{variable}});",enabled:!0,postfix:"ms",type:"number",placeholder:"Enter response time"}]},from:"api_dev_create_new_monitor",notifications:{enabled:!0,recipients:[]},requestTimeout:{enabled:!1,timeout:5e3},requestDelay:{enabled:!1,delay:0},errors:{},followRedirects:!0,strictSSL:!0,showTooltip:!1,schemaFormat:"",generationOptions:[],optionsPreferences:{},formState:{}},k=(0,d.observer)(((s=class extends i.Component{constructor(e){super(e),this.onCreate=()=>{this.refs.content.onCreate()},this.onValidation=e=>{this.refs.content.onValidation(e)},this.state=x,this.handleBack=this.handleBack.bind(this),this.handleClose=this.handleClose.bind(this),this.constructMonitorOptions=this.constructMonitorOptions.bind(this),this.handleCreateMonitor=this.handleCreateMonitor.bind(this),this.handleLoadVersionRetry=this.handleLoadVersionRetry.bind(this),this.handleLoadRegionsRetry=this.handleLoadRegionsRetry.bind(this),this.handleChangeSource=this.handleChangeSource.bind(this),this.handleActiveStepChange=this.handleActiveStepChange.bind(this),this.handleShowTooltip=this.handleToggleTooltip.bind(this,!0),this.handleHideTooltip=this.handleToggleTooltip.bind(this,!1),this.handleSelectedOptionsChange=this.handleSelectedOptionsChange.bind(this),this.handleRegionChange=this.handleRegionChange.bind(this),this.handleNotificationsChange=this.handleNotificationsChange.bind(this),this.hydrateConfigOptions=this.hydrateConfigOptions.bind(this),this.handleConfigOptionsChange=this.handleConfigOptionsChange.bind(this),this.handleRequestTimeoutChange=this.handleRequestTimeoutChange.bind(this),this.handleRequestDelayChange=this.handleRequestDelayChange.bind(this),this.handleFollowRedirectChange=this.handleFollowRedirectChange.bind(this),this.handleStrictSSLChange=this.handleStrictSSLChange.bind(this),this.constructCollection=this.constructCollection.bind(this),this.handleRequestChange=this.handleRequestChange.bind(this),this.handleRegionSelectorChange=this.handleRegionSelectorChange.bind(this),this.validateNotificationRecipients=this.validateNotificationRecipients.bind(this),this.onCreate=this.onCreate.bind(this)}componentDidMount(){const e=!(0,O.resolveStoreInstance)(N.default).isLoggedIn;!(0,O.resolveStoreInstance)(w.default).isSocketConnected||e||this.getAvailableRegions(),this.getCollectionList();const t=!this.props.isSchemaEmpty&&this.props.hasValidSchema?"generate-new":"use-existing";this.handleChangeSource(t)}componentWillUnmount(){this.state.workspaceCollectionsStore&&this.state.workspaceCollectionsStore.unsubscribe&&this.state.workspaceCollectionsStore.unsubscribe()}componentDidUpdate(e){if(this.props.isOpen!==e.isOpen){this.getCollectionList(),this.getAvailableRegions();const e=!this.props.isSchemaEmpty&&this.props.hasValidSchema?"generate-new":"use-existing";this.handleChangeSource(e)}}hydrateConfigOptions(){let e=this.props.schemaFormat,t=this.props.advancedOptions;e&&!M.isEmpty(t)&&(t=(0,v.checkAndOverrideDefaultValue)(e,t),this.setState({schemaFormat:e.id,generationOptions:t,optionsPreferences:pm.settings.getSetting(`import.options.${e.id}`)||{}}))}handleToggleTooltip(e){this.setState({showTooltip:e})}handleRegionSelectorChange(e){this.setState({selectedRegionMode:e})}getCollectionList(){const e=(0,O.resolveStoreInstance)(A.default).id;(0,R.subscribeMeta)(e,{permissions:this.constructor.collectionPermissions}).then((e=>{this.setState({workspaceCollectionsStore:e})}))}getVersionTagList(){return this.setState({isVersionLoading:!0,errorLoadingVersionTags:!1}),(0,b.fetchAllTags)({collectionUid:this.state.selectedOptions.collectionUid}).then((e=>{this.setState({versionTagList:e,isVersionLoading:!1,selectedOptions:{...this.state.selectedOptions,versionTagId:M.head(e).id}})})).catch((e=>{this.setState({isVersionLoading:!1,errorLoadingVersionTags:!0}),pm.logger.warn("Failed to fetch tags",e),pm.toasts.error("Couldn't get tags. Please try again.")}))}getAvailableRegions(){this.setState({isRegionsLoading:!0,errorLoadingRegions:!1}),(0,y.fetchAvailableRegions)().then((e=>{this.setState({availableRegions:e,isRegionsLoading:!1})})).catch((e=>{this.setState({isRegionsLoading:!1,errorLoadingRegions:!0}),pm.logger.warn("Failed to fetch regions",e),pm.toasts.error("Couldn't get regions. Please try again.")}))}handleChangeSource(e){this.setState({activeSource:e,selectedOptions:{...this.state.selectedOptions,collectionUid:M.get(M.head(this.state.workspaceCollectionsStore.list),"uid","")}},(()=>{"generate-new"===this.state.activeSource&&this.hydrateConfigOptions()}))}handleActiveStepChange(){"generate-new"!==this.state.activeSource&&"new"!==this.state.activeSource?"use-existing"!==this.state.activeSource||this.setState({activeStep:this.state.activeStep+1},(()=>{this.getVersionTagList(),M.invoke(this.refs,"content.refs.monitorName.focus")})):this.setState({activeStep:this.state.activeStep+1},(()=>{M.invoke(this.refs,"content.refs.monitorName.focus")}))}handleSelectedOptionsChange(e,t){this.setState({selectedOptions:{...this.state.selectedOptions,[e]:t}})}handleRegionChange(e){let t=this.state.selectedOptions.regions;M.includes(t,e)?M.remove(t,(t=>t===e)):t.push(e),this.setState((e=>({selectedOptions:{...e.selectedOptions,regions:t}})))}handleNotificationsChange(e,t,n){if(M.isUndefined(t))return void this.setState({notifications:{enabled:e,recipients:this.state.notifications.recipients}});let o=[...M.slice(this.state.notifications.recipients,0,t),n,...M.slice(this.state.notifications.recipients,t+1)];o=M.compact(o),this.validateNotificationRecipients(o),this.setState({notifications:{enabled:e,recipients:o}})}validateNotificationRecipients(e){const t={};e.forEach(((n,o)=>{let s=M.size(n)&&!L.test(n)?"invalid":e.indexOf(n)!==o&&"duplicate";t[o]=s&&{message:D.MONITOR_EMAIL_VALIDATION_ERROR[s],error:s}})),this.setState((e=>({errors:{...e.errors,recipients:t}})))}handleRequestTimeoutChange(e,t=this.state.requestTimeout.timeout){this.setState({requestTimeout:{enabled:e,timeout:t}})}handleRequestDelayChange(e,t=this.state.requestDelay.delay){this.setState({requestDelay:{enabled:e,delay:t}})}handleStrictSSLChange(e){this.setState({strictSSL:!e})}handleFollowRedirectChange(e){this.setState({followRedirects:!e})}handleConfigOptionsChange(e){this.setState({optionsPreferences:e}),pm.settings.setSetting(`import.options.${this.state.schemaFormat}`,e)}handleCreateMonitor(e,t,n,o,s){let i;switch(this.state.activeSource){case"generate-new":i={selectedOptions:{...t,collectionId:"",versionTagId:"",collectionName:this.state.selectedOptions.collectionName}};break;case"use-existing":i={selectedOptions:{...t,collectionName:""}};break;case"new":if(M.isEmpty(e.monitorName))return;this.setState({isCreating:!0},(()=>{this.constructCollection((i=>{(0,R.getOne)(i,{permissions:this.constructor.collectionPermissions,exclude:["response","request"]}).then((({uid:i})=>{const a=i,r={selectedOptions:{...t,collectionId:a}};this.setState({...r},(()=>this.constructMonitorOptions(e,t,n,o,s)))}))}),e,t)}))}"new"!==this.state.activeSource&&this.setState({...i,isCreating:!0},(()=>{this.constructMonitorOptions(e,t,n,o,s)}))}handleBack(){1!==this.state.activeStep?this.setState((e=>({activeStep:e.activeStep-1}))):this.props.handleBack&&this.props.handleBack()}handleClose(){this.resetState(),this.props.onClose&&this.props.onClose()}handleOfflineRetry(){(0,O.resolveStoreInstance)(w.default).isSocketConnected&&2===this.state.activeStep&&this.handleCreateMonitor()}handleLoadVersionRetry(){this.getVersionTagList()}handleLoadRegionsRetry(){this.getAvailableRegions()}handleRequestChange(e){this.setState((t=>{let n=M.map(e,(e=>({url:e.url,method:e.method,body:e.body,description:e.description,tests:[parseInt(e.testResponseCode),parseInt(e.testResponseTime)]})));return{selectedOptions:{...t.selectedOptions,requests:n}}}))}async constructCollection(e,t){let{id:n}=await _.default.get(),o={name:t.monitorName,id:S.default.guid(),owner:n},s=M.map(this.state.selectedOptions.requests,(e=>{let t=M.reduce(e.tests,((e,t,n)=>(this.state.selectedOptions.tests[n].enabled&&e.push("\t"+M.replace(this.state.selectedOptions.tests[n].code,"{{variable}}",parseInt(t))),e)),[]),n=M.join(["pm.test('Some test name', function () {",...t,"})"],"\n");return{id:S.default.guid(),url:e.url,method:e.method,data:e.body,dataMode:"raw",collection:o.id,name:e.url,description:e.description,time:(new Date).getTime(),events:new C.EventList({},[{listen:"test",script:n||""}]).toJSON()}})),i=M.map(s,"id");M.assign(o,{requests:s,order:i});try{const t=(0,O.resolveStoreInstance)(A.default).id;let n=await(0,E.createCollection)(o,t,{analyticsOptions:{origin:(a=this.state.from,a.startsWith("history")?"history/monitor":"create_new_x"===a?"cnx":a)}});if(!M.isEmpty(M.get(n,"error")))return void pm.logger.error("Error in creating monitor",n.error);e&&e(`${o.owner}-${o.id}`)}catch(e){pm.logger.error("Error in pipeline for creating monitor",e)}var a}constructMonitorOptions(e,t,n,o,s){let i,a;if(e.monitorName)return _.default.get().then((r=>{let l=r.email,d=n.enabled?M.map(n.recipients,(e=>({type:"email",address:e}))):[];switch(n.enabled&&!M.some(d,{address:l})&&d.push({type:"email",address:l}),a={environment:e.environment||null,name:e.monitorName,schedule:{cronPattern:t.schedule,timeZone:c().tz.guess()},options:{strictSSL:e.options.strictSSL,followRedirects:e.options.followRedirects,requestTimeout:e.options.requestTimeout,requestDelay:e.options.requestDelay},notifications:{onFailure:d,onError:d},retry:s.enabled?{attempts:parseInt(s.attempts)}:{}},"manual"===o&&(a.distribution=M.map(t.regions,(e=>({region:e,runCount:1})))),a.versionTag=t.versionTag,(t.dataFile||null===t.dataFile)&&(a.files={data:t.dataFile}),this.state.activeSource){case"use-existing":i={collectionId:t.collectionId,configurations:{converter:{...this.state.optionsPreferences},monitor:a}};break;case"new":i={collectionId:this.state.selectedOptions.collectionId,configurations:{converter:{...this.state.optionsPreferences},monitor:a}};break;case"generate-new":i={configurations:{converter:{...this.state.optionsPreferences},collection:{name:this.state.selectedOptions.collectionName},monitor:a}}}this.props.onCreateMonitor(i).then((e=>{this.setState({isCreating:!1,monitorUrl:M.get(e,"body.data.links.dashboard.action")}),pm.eventBus.channel("monitor-updates").publish({action:"refreshMonitorsList"}),this.handleClose()})).catch((e=>{this.setState({isCreating:!1}),e.error.name===P.VALIDATION_ERROR&&this.onValidation(e.error.message)}))}))}resetState(){this.setState({...x})}getStepClasses(e){return r()({"is-done":this.state.activeStep>e,"incomplete-tab-steps":this.state.activeStep<e})}render(){let e=(0,O.resolveStoreInstance)(N.default),t=e&&e.isLoggedIn,n=(0,O.resolveStoreInstance)(j.default).isSyncEnabled,o=!(0,O.resolveStoreInstance)(w.default).isSocketConnected,s=M.pick(this.state,["notifications","requestTimeout","requestDelay","followRedirects","strictSSL"]);return i.createElement(f.Modal,{className:"create-monitor-entity-modal",isOpen:this.props.isOpen,onRequestClose:this.handleClose,customStyles:this.props.monitorModalStyles},i.createElement(f.ModalHeader,null,i.createElement(h.Tabs,{type:"primary",defaultActive:1,activeRef:this.state.activeStep},M.map(this.props.monitorStepsNameMap,(e=>i.createElement(h.Tab,{className:this.getStepClasses(e.step),refKey:e.step,key:e.step},i.createElement("div",{className:"create-monitor-entity-modal__tab"},this.state.activeStep<=e.step?`${e.step}. `:i.createElement(m.default,{name:"icon-state-success-stroke",color:"content-color-secondary"}),i.createElement("div",{className:"create-monitor-entity-modal__tab-name"},e.name))))))),i.createElement(f.ModalContent,{className:{selectCollection:"select-collection",configureMonitor:"configure-monitor",nextSteps:"next-steps"}[this.props.monitorSteps[this.state.activeStep]]},i.createElement(I.default,{ref:"content",activeStep:this.state.activeStep,activeSource:this.state.activeSource,onChangeSource:this.handleChangeSource,isOffline:o,isVersionLoading:this.state.isVersionLoading,isRegionsLoading:this.state.isRegionsLoading,errorLoadingVersionTags:this.state.errorLoadingVersionTags,errorLoadingRegions:this.state.errorLoadingRegions,onOfflineRetry:this.handleOfflineRetry,onLoadVersionRetry:this.handleLoadVersionRetry,onLoadRegionsRetry:this.handleLoadRegionsRetry,isSchemaEmpty:this.props.isSchemaEmpty,hasValidSchema:this.props.hasValidSchema,collectionList:this.state.workspaceCollectionsStore.list,versionTagList:this.state.versionTagList,selectedOptions:this.state.selectedOptions,regions:this.state.availableRegions,additionalOptions:s,generationOptions:this.state.generationOptions,optionsPreferences:this.state.optionsPreferences,onSelectedOptionsChange:this.handleSelectedOptionsChange,onRegionChange:this.handleRegionChange,onNotificationsChange:this.handleNotificationsChange,onRequestTimeoutChange:this.handleRequestTimeoutChange,onRequestDelayChange:this.handleRequestDelayChange,onFollowRedirectsChange:this.handleFollowRedirectChange,onStrictSSLChange:this.handleStrictSSLChange,onConfigOptionsChange:this.handleConfigOptionsChange,onCreateMonitor:this.handleCreateMonitor,onClose:this.handleClose,monitorSteps:this.props.monitorSteps,onRequestChange:this.handleRequestChange,onShowTooltip:this.handleShowTooltip,onHideTooltip:this.handleHideTooltip,onRegionSelectorChange:this.handleRegionSelectorChange,selectedRegionMode:this.state.selectedRegionMode,showTooltip:this.state.showTooltip,errors:this.state.errors,collectionFromContainer:this.state.selectedOptions,activeSourceFromContainer:this.state.activeSource})),!o&&t&&n&&i.createElement(f.ModalFooter,null,"selectCollection"===this.props.monitorSteps[this.state.activeStep]&&"generate-new"===this.state.activeSource&&i.createElement("div",{className:"create-monitor-entity-modal__footer"},i.createElement(g.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleClose},"Cancel"),i.createElement(g.Button,{className:"action-button__generate",type:"primary",onClick:this.handleActiveStepChange,disabled:!this.state.selectedOptions.collectionName,tooltip:!this.state.selectedOptions.collectionName&&"Give the collection a name to continue"},"Generate Collection and Continue")),"selectCollection"===this.props.monitorSteps[this.state.activeStep]&&"use-existing"===this.state.activeSource&&i.createElement("div",{className:"create-monitor-entity-modal__footer"},i.createElement(g.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleClose},"Cancel"),i.createElement(g.Button,{className:"action-button__generate",type:"primary",onClick:this.handleActiveStepChange,disabled:M.isEmpty(this.state.workspaceCollectionsStore.list)},"Select Collection and Continue")),"selectCollection"===this.props.monitorSteps[this.state.activeStep]&&"new"===this.state.activeSource&&i.createElement("div",{className:"create-monitor-entity-modal__footer"},i.createElement(g.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleClose},"Cancel"),i.createElement(g.Button,{className:"action-button__generate",type:"primary",onClick:this.handleActiveStepChange,disabled:M.isEmpty(this.state.selectedOptions.requests)},"Create Collection and Continue")),"configureMonitor"===this.props.monitorSteps[this.state.activeStep]&&i.createElement("div",{className:"create-monitor-entity-modal__footer"},i.createElement(g.Button,{className:"action-button__cancel",type:"secondary",disabled:this.state.isCreating,onClick:this.handleBack},"Back"),i.createElement(g.Button,{className:"action-button__generate",type:"primary",onClick:this.onCreate,disabled:this.state.isCreating},"Create Monitor"))))}}).collectionPermissions=["edit","addMonitor"],o=s))||o;k.propTypes={monitorStepsNameMap:p().array.isRequired,monitorModalStyles:p().object.isRequired,monitorSteps:p().object.isRequired}},"./api-dev/components/api-version/observation/Monitors/Monitor.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),l=n("./js/components/base/Dropdowns.js"),c=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/NameCell/NameCell.js"),d=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/VersionCell/VersionCell.js"),u=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/LastUpdatedCell/LastUpdatedCell.js"),p=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/ValidationCell/ValidationCell.js"),m=n("./api-dev/components/api-version/common/APIEntitySection/APIEntitySection.js"),h=n("./api-dev/components/api-version/common/APIEntityTable/APIEntityTable.js"),g=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),f=n("./api-dev/components/api-version/common/APIEntityEmptyState/EntityEmptyState.js"),b=(n("./api-dev/components/api-version/common/RemoveEntity/RemoveEntity.tsx"),n("./api-dev/components/common/DeleteModal/DeleteModal.js")),y=n("./js/constants/AppUrlConstants.js"),v=n("./api-dev/constants/APIEntityTableConstants.js"),I=n("./api-dev/constants/Permissions.js"),E=n("./api-dev/components/api-version/observation/CreateMonitorEntityModalContainer/CreateMonitorEntityModalContainer.js"),_=n("./js/modules/services/AnalyticsService.js"),S=n("./js/stores/SyncStatusStore.js"),C=n("./js/stores/StoreManager.js"),T=n("./js/stores/CurrentUserStore.js"),j=(n("./js/services/NavigationService.js"),n("./api-dev/util/TooltipText.js")),A=n("./monitors/services/UrlService.js"),w=n("./integrations/monitoring/constants.js"),O=n("./api-dev/components/api-version/common/APIEntityActions/APIEntityActions.js"),N=n("./integrations/connected-integrations/containers/ConnectedIntegrationsContainer.js"),D=n("./integrations/monitors/runs/containers/RunsContainer.js"),R=n("./integrations/monitors/runs/components/base/RunMonitorButton.js"),P=n("./api-dev/services/APIDevService.js"),M=n("./monitors/services/MonitorService.js"),L=n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),x=n("./node_modules/lodash/lodash.js");async function k(){const e=await(0,P.getWorkspaceId)(),t=await M.default.getJobTemplatesByWorkspace({workspaceId:e});return x.chain(t).get("body.data",[]).map((e=>x.pick(e,["id","name"]))).value()}const F={1:"selectCollection",2:"configureMonitor",3:"nextSteps"},V=[{step:1,name:"Select collection to monitor"},{step:2,name:"Configure monitor"}],B={margin:"auto",width:"923px"};let U=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showAddEntityModal:!1,showDeleteModal:!1,relationToBeDeleted:null,showMonitorEntityModal:!1,hasValidSchema:null,isSchemaEmpty:null},this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.handleOpenMonitorEntityModal=this.handleOpenMonitorEntityModal.bind(this),this.handleCloseMonitorEntityModal=this.handleCloseMonitorEntityModal.bind(this),this.handleCreateMonitor=this.handleCreateMonitor.bind(this),this.addRelation=this.addRelation.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleDeleteRelation=this.handleDeleteRelation.bind(this),this.handleOptionSelect=this.handleOptionSelect.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.renderMonitorSection=this.renderMonitorSection.bind(this),this.renderMonitorOptions=this.renderMonitorOptions.bind(this),this.getMonitorTabNavigationObject=this.getMonitorTabNavigationObject.bind(this)}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal},(()=>{x.invoke(this.rightOverlayModalRef,"focus")}))}handleOpenMonitorEntityModal(){_.default.addEventV2({category:"monitor",entityId:this.props.model.monitors.apiId,action:"initiate_create",label:"api_observe",value:1});let e=this.props.model.schema,t=e.isSchemaValid,n=x.isEmpty(e.content);this.setState({hasValidSchema:t,isSchemaEmpty:n,showMonitorEntityModal:!0})}handleCloseMonitorEntityModal(){this.setState({showMonitorEntityModal:!1})}handleCreateMonitor(e){let t;if(_.default.addEventV2({category:"monitor",entityId:this.props.model.monitors.apiId,action:"confirm_create",label:"create_monitor_from_schema",value:1}),e.collectionId)t={...e};else{let n=x.get(this.props,"model.schema");t={...x.pick(n,["schemaId"]),...e}}return x.get(this.props,"promoteTab")&&x.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.monitors.createAndAddRelationToAPIVersion(t)}addRelation(e){return this.props.model.monitors.addRelation(e).then((e=>{x.get(this.props,"promoteTab")&&x.isFunction(this.props.promoteTab)&&this.props.promoteTab(),e&&this.handleToggleAddEntityModal(),pm.windowEvents.emit(`${w.API_MONITORING}-monitor-linked`,{apiId:x.get(this.props,"model.apiId"),apiVersionId:x.get(this.props,"model.id")})}))}toggleDeleteModal(){this.setState((e=>({showDeleteModal:!e.showDeleteModal})))}handleRemove(e){this.setState({relationToBeDeleted:e}),this.toggleDeleteModal()}handleDeleteRelation(){return this.props.model.monitors.deleteRelation(this.state.relationToBeDeleted).then((e=>{e&&this.toggleDeleteModal(),pm.windowEvents.emit(`${w.API_MONITORING}-monitor-unlinked`,{apiId:x.get(this.props,"model.apiId"),apiVersionId:x.get(this.props,"model.id")})}))}handleOptionSelect(e){if(!(0,C.resolveStoreInstance)(T.default).isLoggedIn)return pm.mediator.trigger("showSignInModal",{type:"addMonitor",origin:"api_builder_add_monitor_button",continueUrl:new URL(window.location.href)});"create_new"===e?this.handleOpenMonitorEntityModal():this.handleToggleAddEntityModal()}getMonitorTabNavigationObject(e,t){return{routeIdentifier:"build.monitor",routeParams:{monitorPath:A.default._getEncodedMonitorName(t).concat("~",e)}}}renderMonitorSection(e){const t=[{key:"name",val:"Name",tooltip:"Name"},{key:"validation",val:"Validation",tooltip:"Validation",helperText:(0,v.getValidationHelpText)(this.props.model.monitors.type)},{key:"monitorRuns",val:"Last runs",tooltip:"Last runs of the linked monitor",class:"linked-monitor-runs-wrapper "+(x.get(this.props,"model.apiEditorUIStore.isWindowShrunk")?"is-runs-shrunk":"")},{key:"connectedIntegrations",val:"Connected with",class:"connected-integrations-wrapper "+(x.get(this.props,"model.apiEditorUIStore.isWindowShrunk")?"is-connected-integrations-shrunk":"")},{key:"actions",val:"",class:"monitor-actions"}],n={name:(e,t,n)=>{let o={link:n,analyticEventLabel:"monitor",entityId:this.props.model.monitors.apiId};return s.createElement(c.default,{icon:"icon-entity-monitor-stroke",cellInfo:e,action:o,navigationIntentObject:this.getMonitorTabNavigationObject(t.modelId,t.name),promoteTab:x.get(this.props,"promoteTab")})},versionTag:e=>s.createElement(d.default,{cellInfo:e}),updatedAt:e=>s.createElement(u.default,{cellInfo:e}),validation:(e,t)=>s.createElement(p.default,{cellInfo:e,entity:t,canValidateRelation:x.get(this.props.model,"apiPermissionStore.canValidateAPIRelation"),apiEditorUIStore:this.props.model.apiEditorUIStore,store:this.props.model.monitors,promoteTab:x.get(this.props,"promoteTab"),isAPIDeleted:x.get(this.props,"model.isAPIDeleted")}),actions:(e,t)=>s.createElement(O.default,{isWindowShrunk:x.get(this.props,"model.apiEditorUIStore.isWindowShrunk"),entityType:"Monitor",entity:t,onRemoveEntity:this.handleRemove,canRemoveEntity:x.get(this.props.model,"apiPermissionStore.canRemoveMonitor"),actionComponent:s.createElement(R.default,{entity:t}),isAPIDeleted:x.get(this.props,"model.isAPIDeleted")}),monitorRuns:(e,t)=>s.createElement(D.default,{isWindowShrunk:x.get(this.props,"model.apiEditorUIStore.isWindowShrunk"),entity:t,model:this.props.model}),connectedIntegrations:(e,t)=>s.createElement(N.default,{cellInfo:e,entity:t,model:this.props.model.monitors.connectedIntegrations,type:"cell"})};return x.isEmpty(this.props.model.monitors.relations)?s.createElement(f.default,{isOpen:e,entityDescription:"Check an API's performance and response times at scheduled intervals.",learnText:"about how to create a monitoring system.",link:y.API_MONITOR_DOCS_URL}):s.createElement(h.default,{isOpen:e,headers:t,content:this.props.model.monitors.relations,cells:n,type:"monitors"})}getAddMonitorOptions(){const e=!(0,C.resolveStoreInstance)(S.default).isSocketConnected,t=x.get(this.props,"model.isAPIDeleted"),n=x.get(this.props.model,"apiPermissionStore.canAddMonitor"),o=e||!n||t,s=x.get(this.props.model,"apiPermissionStore.canCreateMonitor");return[{action:"create_new",name:"Create new monitor",isDisabled:e||!s||t,disabledText:t&&I.DELETED_API_DISABLED_TEXT,hasPermission:s},{action:"add_existing",name:"Add existing monitor",isDisabled:o,disabledText:t&&I.DELETED_API_DISABLED_TEXT,hasPermission:n}]}renderMonitorOptions(){return s.createElement("div",{className:"api-entity-header__add-options"},s.createElement(l.Dropdown,{onSelect:this.handleOptionSelect},s.createElement(l.DropdownButton,{dropdownStyle:"nocaret",type:"custom"},s.createElement(a.default,{type:"tertiary",text:"Add Monitor",icon:s.createElement(r.default,null)})),s.createElement(l.DropdownMenu,{"align-right":!0},this.getAddMonitorOptions().map((e=>{const{action:t,isDisabled:n,hasPermission:o,disabledText:i,name:a}=e;return s.createElement(l.MenuItem,{key:t,refKey:t,disabled:n,disabledText:(0,j.default)(n,!o,i)},s.createElement("span",null,a))})))))}render(){return s.createElement("div",{id:"entity-monitors"},s.createElement(m.default,{title:"Collection-based Monitors",actionTitle:"Add Monitor",onAddEntity:this.handleToggleAddEntityModal,renderSectionContent:e=>this.renderMonitorSection(e),renderDropdown:()=>this.renderMonitorOptions()}),this.state.showAddEntityModal&&s.createElement(g.default,{apiId:this.props.model.monitors.apiId,apiVersionId:this.props.model.monitors.versionId,isOpen:this.state.showAddEntityModal,title:"Add a collection-based monitor to this API",type:"monitor",label:"Select a collection-based monitor",buttonLabel:"Add Monitor",onAdd:this.addRelation,getEntities:k,onCancel:this.handleToggleAddEntityModal,isLoadingAddRelation:this.props.model.monitors.isLoadingAddRelation,placeholder:"Select a monitor",emptyStateText:"There are no monitors in this workspace"}),s.createElement(b.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove monitor from API?",subTitle:this.props.model.monitors.apiName,content:s.createElement(L.default,{relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"monitor"},type:"relation"}),btnContent:"Remove Monitor",onSubmit:this.handleDeleteRelation,isLoading:this.props.model.monitors.isLoadingDeleteRelation}),s.createElement(E.default,{isOpen:this.state.showMonitorEntityModal,onClose:this.handleCloseMonitorEntityModal,onCreateMonitor:this.handleCreateMonitor,isSchemaEmpty:this.state.isSchemaEmpty,hasValidSchema:this.state.hasValidSchema,monitorSteps:F,monitorStepsNameMap:V,monitorModalStyles:B,schemaFormat:x.get(this.props,"model.schema.schemaFormat"),advancedOptions:x.get(this.props,"model.schema.advancedOptions")}))}})||o},"./api-dev/components/api-version/observation/Monitors/UptimeMonitor.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/async/dist/async.js"),a=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./onboarding/src/common/LaunchDarkly.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),h=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/NameCell/NameCell.js"),g=n("./api-dev/components/api-version/common/APIEntitySection/APIEntitySection.js"),f=n("./api-dev/components/api-version/common/APIEntityTable/APIEntityTable.js"),b=n("./api-dev/components/api-version/monitors/AddUptimeMonitorModal.js"),y=n("./api-dev/components/api-version/common/APIEntityEmptyState/EntityEmptyState.js"),v=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),I=n("./js/stores/SyncStatusStore.js"),E=n("./js/stores/StoreManager.js"),_=n("./js/stores/CurrentUserStore.js"),S=n("./api-dev/components/api-version/common/APIEntityActions/APIEntityActions.js"),C=n("../../node_modules/mobx/lib/mobx.module.js"),T=n("./monitors/services/UrlService.js"),j=n("./monitors/constants.js"),A=n("./monitors/stores/domain/MonitorStore.js"),w=n("./monitors/components/uptime/Timeline/TimeSeriesPlot.js"),O=n("./api-dev/constants/Permissions.js"),N=n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),D=n("./node_modules/lodash/lodash.js");let R=(0,r.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showAddEntityModal:!1,showDeleteModal:!1,initialized:!1,relationToBeDeleted:null,metrics:{},states:{}},this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.addRelation=this.addRelation.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleDeleteRelation=this.handleDeleteRelation.bind(this),this.handleClick=this.handleClick.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.renderMonitorSection=this.renderMonitorSection.bind(this),this.renderMonitorOptions=this.renderMonitorOptions.bind(this),this.getUptimeMonitorTabNavigationObject=this.getUptimeMonitorTabNavigationObject.bind(this),this.fetchMetricsAndStates=this.fetchMetricsAndStates.bind(this),this.getDisabled=this.getDisabled.bind(this),this.interval=null,this.monitorStores={}}componentDidMount(){(0,C.when)((()=>!this.props.model.uptimeMonitors.isLoadingAddRelation),(()=>{(()=>{a().map(this.props.model.uptimeMonitors.relations,((e,t)=>{this.monitorStores[e.modelId]=new A.default(e.modelId),this.fetchMetricsAndStates(e.modelId),t()}),(()=>{this.setState({initialized:!0})}))})()}))}componentWillUnmount(){clearInterval(this.interval)}fetchMetricsAndStates(e){let t=(e,t,n,o)=>{this.setState((s=>({[t]:{...s[t],[e]:D.merge({},s[t][e],{_meta:{loading:n,error:o}})}})))};a().parallel([n=>{let o=this.monitorStores[e];t(e,"metrics",!0,!1),o.metrics.getMetrics(e,o.url.computeTimeFrame(1)).then((()=>{const t={responseTime:"ms",uptime:"%",incidents:""};let s={};D.forEach(o.metrics.values,((e,n)=>{s[n]={value:e,unit:t[n]}})),this.setState((t=>({metrics:{...t.metrics,[e]:{_meta:{loading:!1,error:!1},...s}}}))),n()})).catch((o=>{t(e,"metrics",!1,!0),n()}))},n=>{t(e,"states",!0,!1);let o=this.monitorStores[e];o.incidents.hydrate().then((()=>{this.setState((t=>({states:{...t.states,[e]:{_meta:{loading:!1,error:!1},store:o}}}))),n()})).catch((()=>{t(e,"states",!1,!0),n()}))}])}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal},(()=>{D.invoke(this.rightOverlayModalRef,"focus")}))}addRelation(e){return this.props.model.uptimeMonitors.addRelation(e).then((t=>{D.get(this.props,"promoteTab")&&D.isFunction(this.props.promoteTab)&&this.props.promoteTab(),t&&this.handleToggleAddEntityModal(),this.monitorStores[e.id]=new A.default(e.id),this.fetchMetricsAndStates(e.id)}))}toggleDeleteModal(){this.setState((e=>({showDeleteModal:!e.showDeleteModal})))}handleRemove(e){this.setState({relationToBeDeleted:e}),this.toggleDeleteModal()}handleDeleteRelation(){return this.props.model.uptimeMonitors.deleteRelation(this.state.relationToBeDeleted).then((e=>{e&&this.toggleDeleteModal()}))}handleClick(){if(!(0,E.resolveStoreInstance)(_.default).isLoggedIn)return pm.mediator.trigger("showSignInModal",{type:"addMonitor",origin:"api_builder_add_monitor_button",continueUrl:new URL(window.location.href)});this.handleToggleAddEntityModal()}getUptimeMonitorTabNavigationObject(e,t){return{routeIdentifier:"build.monitor",routeParams:{monitorPath:T.default.getMonitorPath({monitorName:t,monitorId:e})},queryParams:{timePeriod:j.DEFAULT_TIME_FRAME}}}renderMonitorSection(e){const t=(e,t,n,o)=>{const i=this.state.metrics[e],a=D.get(i,"_meta.loading"),r=D.get(i,"_meta.error"),l=o(i,n),u="--"===l||null===l?"":D.get(i,`${n}.unit`);return a?s.createElement(c.default,null):r?s.createElement("div",{className:"linked-uptime-monitor-error"},"Error"):s.createElement("div",{key:t},s.createElement(d.default,{className:"entity-name__label"},l," ",u))},n=[{key:"name",val:"Name",tooltip:"Name"},{key:"uptime",val:"Uptime(3 hours)",class:"api-monitoring-uptime-monitor-timeline",tooltip:"Uptime(3 hours)"},{key:"status",val:"Service status",class:"api-monitoring-uptime-monitor-short-field",tooltip:"Service status"},{key:"availability",val:"Availability",class:"api-monitoring-uptime-monitor-short-field",tooltip:"Availability"},{key:"incidents",val:"Incidents",class:"api-monitoring-uptime-monitor-short-field",tooltip:"Incidents"},{key:"avgResponseTime",val:"Avg. response time",class:"api-monitoring-uptime-short-field",tooltip:"Avg. response time"},{key:"actions",val:"",class:"monitor-actions"}],o={uptime:(e,t)=>{const n=this.state.states[t.modelId],o=D.get(n,"_meta.loading"),i=D.get(n,"_meta.error"),a=D.get(n,"store");let r=!0;if(o||!this.state.initialized)return s.createElement(c.default,null);if(D.isUndefined(o)&&this.state.initialized)return this.monitorStores[t.modelId]=new A.default(t.modelId),this.fetchMetricsAndStates(t.modelId),s.createElement(c.default,null);if(i)return s.createElement("div",{className:"linked-uptime-monitor-error"},"Error");{const e=a.incidents.since.valueOf(),t=a.incidents.until.valueOf();return s.createElement(w.default,{showTooltip:!0,height:20,nodes:a.incidents.sortedIncidents[j.TIMELINE_SUMMARY_VIEW],viewStart:e,viewEnd:t,getNodeSpanStartTimeStamp:t=>{let n=D.isEmpty(t)?null:new Date(t.startedAt).valueOf();return n=n<e&&r?e:n,r=!0,n},getNodeSpanEndTimeStamp:e=>(D.isEmpty(e)?null:new Date(e.endedAt).valueOf())||t,getNodeState:e=>void 0===e?j.UNKNOWN_STATE_NAME:"down"===e.value?j.DOWN_STATE_NAME:"up"===e.value?j.UP_STATE_NAME:j.UNKNOWN_STATE_NAME})}},status:(e,t)=>{const n=this.state.states[t.modelId],o=D.get(n,"_meta.loading"),i=D.get(n,"_meta.error"),a=D.get(n,"store");if(o||void 0===o)return s.createElement(c.default,null);if(i)return s.createElement("div",{className:"linked-uptime-monitor-error"},"Error");{const e=D.get(a.incidents,["sortedIncidents",j.TIMELINE_SUMMARY_VIEW],[]),t=D.get(D.last(e),"value","unknown");return s.createElement(d.default,{className:"entity-name__label"},D.capitalize(t))}},availability:(e,n)=>t(n.modelId,"availability","uptime",((e,t)=>{let n=D.get(e,`${t}.value`);return n=null===n?"--":parseFloat(n),isNaN(n)?n:n.toFixed(2)})),incidents:(e,n)=>t(n.modelId,"incidents","incidents",((e,t)=>{const n=D.get(e,`${t}.value`);return Number(n)||null!==n?n:"--"})),avgResponseTime:(e,n)=>t(n.modelId,"avgResponseTime","responseTime",((e,t)=>{let n=D.get(e,`${t}.value`);return n=null===n?"--":Number(n),n})),name:(e,t)=>{let n={analyticEventLabel:"uptime-monitor",entityId:D.get(this.props.model,"uptimeMonitors.apiId")};return s.createElement(h.default,{ignoreValidationForNavigation:!0,cellInfo:e,action:n,navigationIntentObject:this.getUptimeMonitorTabNavigationObject(t.modelId,t.name),promoteTab:D.get(this.props,"promoteTab"),icon:"icon-descriptive-uptime-stroke"})},actions:(e,t)=>s.createElement(S.default,{isWindowShrunk:D.get(this.props,"model.apiEditorUIStore.isWindowShrunk"),entityType:"UptimeMonitor",entity:t,onRemoveEntity:this.handleRemove,canRemoveEntity:D.get(this.props.model,"apiPermissionStore.canRemoveMonitor"),isAPIDeleted:D.get(this.props,"model.isAPIDeleted")})};return D.isEmpty(this.props.model.uptimeMonitors.relations)?s.createElement(s.Fragment,null,s.createElement(y.default,{isOpen:e,entityDescription:"Know when your service is down. Monitor uptime for a URL across regions and setup timely alerts without having to create a collection.",link:j.UPTIME_MONITOR_DOCUMENTATION_LEARN_MORE})):s.createElement(f.default,{isOpen:e,headers:n,content:this.props.model.uptimeMonitors.relations,cells:o,type:"uptimeMonitors"})}getDisabled(){const e=!(0,E.resolveStoreInstance)(I.default).isSocketConnected,t=D.get(this.props,"model.isAPIDeleted"),n=D.get(this.props.model,"apiPermissionStore.canAddMonitor"),o=D.parseInt(l.launchDarkly.getFlag("IS_2321_max_uptime_monitors",5)),s=D.get(this.props.model,"uptimeMonitors.relations.length",0)>=o,i=e||!n||t||s||this.props.model.uptimeMonitors.isLoadingAddRelation;let a;return a=s?`You can't connect more than ${o} uptime monitor to an API Version`:t?O.DELETED_API_DISABLED_TEXT:n?e?O.MANAGE_ROLES_DISABLED_TEXT:"":O.API_PERMISSION_ERROR,[i,a]}renderMonitorOptions(){let[e,t]=this.getDisabled();return s.createElement("div",{className:"api-entity-header__add-options"},s.createElement(u.default,{type:"tertiary",text:"Add Monitor",icon:s.createElement(m.default,null),onClick:this.handleClick,isDisabled:e,tooltip:t}))}render(){let[e,t]=this.getDisabled();return s.createElement("div",{id:"entity-monitors"},s.createElement(g.default,{title:s.createElement("span",null,"Uptime Monitors ",s.createElement(p.default,{text:"Beta",status:"info"})),actionTitle:"Add Monitor",onAddEntity:this.handleToggleAddEntityModal,renderSectionContent:e=>this.renderMonitorSection(e),renderDropdown:()=>this.renderMonitorOptions()}),this.state.showAddEntityModal&&s.createElement(b.default,{apiId:this.props.model.uptimeMonitors.apiId,apiVersionId:this.props.model.uptimeMonitors.versionId,isOpen:this.state.showAddEntityModal,title:"Add an uptime monitor to this API",type:"uptimemonitor",label:"Select an uptime monitor",buttonLabel:"Add Monitor",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,isDisabled:e,disabledText:t,isLoadingAddRelation:this.props.model.uptimeMonitors.isLoadingAddRelation,placeholder:"Select an uptime monitor",emptyStateText:"There are no uptime monitors in this workspace"}),s.createElement(v.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove uptime monitor from API?",subTitle:this.props.model.uptimeMonitors.apiName,content:s.createElement(N.default,{relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"uptimemonitor"},type:"relation"}),btnContent:"Remove Monitor",onSubmit:this.handleDeleteRelation,isLoading:this.props.model.uptimeMonitors.isLoadingDeleteRelation}))}})||o},"./api-dev/components/api-version/overview/APIVersionInfo/APIVersionInfo.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("./api-dev/constants/SchemaConstants.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),p=n("./js/services/NavigationService.js"),m=n("./api-dev/components/api/SummaryEditor/SummaryEditor.js"),h=n("./api-dev/constants/APITabModes.js"),g=n("./js/stores/StoreManager.js"),f=n("./js/stores/CurrentUserStore.js"),b=(n("./appsdk/components/link/Link.js"),n("../../packages/api-design/api-definition-store/index.js")),y=n("./js/stores/ActiveWorkspaceStore.js"),v=n("./node_modules/lodash/lodash.js");let I=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.viewSchema=this.viewSchema.bind(this),this.handleAPIVersionSummaryUpdate=this.handleAPIVersionSummaryUpdate.bind(this)}async handleAPIVersionSummaryUpdate(e){this.props.model.editAPIVersion(this.props.model.name,this.props.model.id,this.props.model.visibility,this.props.model.stage,e,!1)}async viewSchema(){var e,t,n,o,s,i;const r=null===(e=this.props.model)||void 0===e?void 0:e.apiId,l=null===(t=this.props.model)||void 0===t?void 0:t.id,c=null===(n=this.props.model)||void 0===n||null===(o=n.schema)||void 0===o?void 0:o.apiDefinitionId,d=null===(s=this.props.model)||void 0===s||null===(i=s.schema)||void 0===i?void 0:i.isSchema,u=(0,g.resolveStoreInstance)(b.APIDefinitionStore);let m="";try{const e=u.newAPIDefinitionModel(c,d,r,l);m=await e.getRedirectionFileId()}catch(e){(0,a.toast)({status:"error",description:"Definition unavailable for this API version."})}if(m)if(this.props.mode===h.NETWORK_MODE)p.default.transitionToURL(`api/${r}/version/${l}/definition/${c}/file/${m}`);else{const e=(0,g.resolveStoreInstance)(y.default).id;p.default.transitionTo("build.apiDefinitionFile",{workspaceId:e,apiId:r,apiVersionId:l,apiDefinitionId:c,fileId:m})}else(0,a.toast)({title:"Definition Not found",status:"error",description:"Definition unavailable for this API version."})}renderSchemaInfo(e){const t=d.NEW_SCHEMA_TYPE[e.type];return s.createElement(r.default,{gap:"spacing-l",className:"version-schema-info"},s.createElement(l.default,{type:"h6",text:t,color:"content-color-secondary"}),s.createElement(c.default,{className:"view-schema-text",onClick:this.viewSchema,type:"plain",text:"View Definition"}),s.createElement(u.default,{className:"view-schema-icon",color:"content-color-link",name:"icon-direction-forward"}))}render(){const e=this.props.model.summary,t=this.props.model.schema,n=(0,g.resolveStoreInstance)(f.default).isLoggedIn,o=v.get(this,"props.model.apiPermissionStore.canEditAPIVersionSummary")&&n,i=!v.isEmpty(this.props.model.schema.apiDefinitionId||this.props.model.schema.schemaId);return s.createElement(s.Fragment,null,s.createElement(l.default,{type:"h5",text:"About this version"}),s.createElement("div",{className:"version-summary"},s.createElement(m.default,{baseClassName:"overview__meta-editor-summary",emptyState:"Add a summary to briefly explain this API version",errorMsg:"Summary cant exceed 140 characters.",summary:e,updateSummary:e=>this.handleAPIVersionSummaryUpdate(e),wordLimit:140,canUpdateSummary:o})),i&&this.renderSchemaInfo(t))}})||o},"./api-dev/components/api-version/overview/DocumentationsOverview/DocumentationsOverview.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/components/api-version/overview/RelationsOverviewHeader/RelationsOverviewHeader.js"),r=n("./api-dev/components/api-version/overview/RelationOverviewBody/RelationOverviewBody.js"),l=n("./api-dev/components/api-version/common/RemoveEntity/RemoveEntity.tsx"),c=n("./node_modules/@postman/date-helper/index.js"),d=n.n(c),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-docs-stroke.js"),h=n("./js/stores/SyncStatusStore.js"),g=n("./js/stores/StoreManager.js"),f=n("./js/stores/CurrentUserStore.js"),b=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),y=n("./version-control/components.js"),v=n("./js/modules/services/AnalyticsService.js"),I=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),E=n("./documentation/components/APIDocumentation/CreateDocumentationEntityModal/CreateDocumentationEntityModal.js"),_=n("./js/components/base/Dropdowns.js"),S=n("./js/components/base/Buttons.js"),C=n("./api-dev/util/TooltipText.js"),T=n("./api-dev/constants/Permissions.js"),j=n("./js/services/NavigationService.js"),A=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/ValidationCell/ValidationCell.js"),w=n("./api-dev/constants/APITabModes.js"),O=n("./api-dev/services/APIDevService.js"),N=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),D=n("./collaboration/utils/workspace.js"),R=n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),P=n("./node_modules/lodash/lodash.js");async function M(){const e=await(0,O.getWorkspaceId)(),t=await(0,N.getMeta)(e),n=P.chain(t).get("list").map((e=>{const t=P.pick(e,["id","name","forkLabel"]);return t.fromWorkspace=!0,t})).value();if(P.get(this.props,"model.mode")===w.FEATURE_BRANCH_MODE){const e=P.get(this.props.model,"unclassifiedCollectionsOnBranch")&&this.props.model.unclassifiedCollectionsOnBranch();return P.concat(n,e)}return n}let L=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.handleFork=(e,t)=>{v.default.addEventV2AndPublish({category:"private-api-network",action:"fork-collection",label:"api-version",entityId:P.get(this.props,"model.apiId"),entityType:"api",value:1,userId:(0,g.resolveStoreInstance)(f.default).id,teamId:(0,g.resolveStoreInstance)(f.default).teamId}),j.default.transitionTo("build.fork",{model:"collection",id:e,wid:t},{origin:"api-version-overview"})},this.state={relationToBeDeleted:null,showDeleteModal:!1,showAddEntityModal:!1,showCreateDocumentationModal:!1},this.openCreateDocumentationModal=this.openCreateDocumentationModal.bind(this),this.closeCreateDocumentationModal=this.closeCreateDocumentationModal.bind(this),this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.handleCreate=this.handleCreate.bind(this),this.addRelation=this.addRelation.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleDeleteRelation=this.handleDeleteRelation.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.handleOptionSelect=this.handleOptionSelect.bind(this),this.handleDocumentationClick=this.handleDocumentationClick.bind(this)}isLoggedIn(){return(0,g.resolveStoreInstance)(f.default).isLoggedIn}addRelation(e){return this.props.model.documentations.addRelation(e).then((e=>{P.get(this.props,"promoteTab")&&P.isFunction(this.props.promoteTab)&&this.props.promoteTab(),e&&this.handleToggleAddEntityModal()}))}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal})}handleDocumentationClick(e){if(P.get(this.props,"model.mode")===w.FEATURE_BRANCH_MODE)return this.props.model.documentations.openCollectionInTab(e);this.props.onTabChange&&this.props.onTabChange("documentation"),P.get(this.props,"model.setActiveDocumentation")&&this.props.model.setActiveDocumentation(e)}handleCreate(e){return v.default.addEventV2({category:"documentation",action:"confirm_create",label:"create_documentation_from_schema",value:1,entityId:P.get(this.props,"model.documentations.apiId")}),P.get(this.props.model,"schema.isSchema")?Object.assign(e,{schemaId:P.get(this.props.model,"schema.schemaId")}):Object.assign(e,{apiDefinitionId:P.get(this.props.model,"schema.apiDefinitionId")}),P.get(this.props,"promoteTab")&&P.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.documentations.createAndAddRelationToAPIVersion(e)}closeCreateDocumentationModal(){this.setState({showCreateDocumentationModal:!1})}toggleDeleteModal(){this.setState((e=>({showDeleteModal:!e.showDeleteModal})))}handleRemove(e){this.setState({relationToBeDeleted:e}),this.toggleDeleteModal()}handleDeleteRelation(){return P.get(this.props,"model.mode")===w.FEATURE_BRANCH_MODE?this.toggleDeleteModal():this.props.model.documentations.deleteRelation(this.state.relationToBeDeleted).then((e=>{e&&this.toggleDeleteModal()}))}openCreateDocumentationModal(){v.default.addEventV2({category:"documentation",action:"initiate_create",label:"api_develop",value:1,entityId:P.get(this.props,"model.activeVersion.documentations.apiId")}),this.setState({showCreateDocumentationModal:!0})}handleOptionSelect(e){if(!this.isLoggedIn())return pm.mediator.trigger("showSignInModal",{type:"addDocumentation",origin:"api_builder_add_documentation_button",continueUrl:new URL(window.location.href)});"create_new"===e?this.openCreateDocumentationModal():this.handleToggleAddEntityModal()}getAddDocumentationOptions(){const e=!(0,g.resolveStoreInstance)(h.default).isSocketConnected,t=P.get(this.props,"model.isAPIDeleted"),n=P.get(this.props.model,"apiPermissionStore.canAddDocumentation"),o=e||!n,s=P.get(this.props,"model.apiPermissionStore.canGenerateCollection");return[{action:"create_new",name:"Create new documentation",isDisabled:e||!s||!P.get(this.props,"model.schema.content")||!P.get(this.props,"model.schema.isSchemaValid")||t,hasPermission:s},{action:"add_existing",name:"Add existing documentation",isDisabled:o||t,hasPermission:n}]}getDisabledText(e,t,n){if(!t)return;const o=P.get(this.props,"model.isAPIDeleted")&&T.DELETED_API_DISABLED_TEXT;if("create_new"===e&&!n){if(!P.get(this.props,"model.schema.content"))return"To create new documentation, add a schema in your API";if(!P.get(this.props,"model.schema.isSchemaValid"))return"Add a valid schema to create new documentation from it."}return(0,C.default)(t,n,o)}getConfigurations(){const e=(0,D.isPublicUserForWorkspace)();return{build:{headers:{mode:"build",actions:s.createElement(_.Dropdown,{onSelect:this.handleOptionSelect},s.createElement(_.DropdownButton,{dropdownStyle:"nocaret",type:"custom"},s.createElement(S.Button,{className:"documentation-overview-header__icon",tooltip:"Add documentation"},s.createElement(p.default,null))),s.createElement(_.DropdownMenu,{"align-right":!0},this.getAddDocumentationOptions().map((e=>s.createElement(_.MenuItem,{key:e.action,refKey:e.action,disabled:e.isDisabled,disabledText:this.getDisabledText(e.action,e.isDisabled,!e.hasPermission)},s.createElement("span",null,e.name))))))},body:{emptyState:{message:"None on this version."},hasBackgroundColor:!e,icon:s.createElement(m.default,null),metaInfo:e=>s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"Updated at "+d().getFormattedDate(e.updatedAt)),widgets:t=>{if(!e)return s.createElement("div",{className:"documentation-overview-widgets"},s.createElement(A.default,{cellInfo:P.get(t,"validation"),entity:t,canValidateRelation:P.get(this.props.model,"apiPermissionStore.canValidateAPIRelation"),apiEditorUIStore:P.get(this.props.model,"apiEditorUIStore"),store:P.get(this.props.model,"documentations"),promoteTab:P.get(this.props,"promoteTab")}),s.createElement(l.default,{entity:t,onRemoveEntity:this.handleRemove,canRemoveEntity:this.props.canRemoveEntity,isSmall:!0}))},modals:s.createElement(s.Fragment,null,this.state.showAddEntityModal&&s.createElement(I.default,{apiId:this.props.model.documentations.apiId,apiVersionId:this.props.model.documentations.versionId,isOpen:this.state.showAddEntityModal,title:"Add API documentation",type:"documentation",label:"Select a collection to use as documentation",buttonLabel:"Add Documentation",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,getEntities:M,isLoadingAddRelation:this.props.model.documentations.isLoadingAddRelation,placeholder:"Select documentation",emptyStateText:"There are no collections in this workspace"}),s.createElement(E.default,{apiId:this.props.model.documentations.apiId,isOpen:this.state.showCreateDocumentationModal,onClose:this.closeCreateDocumentationModal,onCreate:this.handleCreate,schemaFormat:P.get(this.props,"model.schema.schemaFormat"),advancedOptions:P.get(this.props,"model.schema.advancedOptions")}),s.createElement(b.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove documentation from API?",subTitle:this.props.model.documentations.apiName,content:s.createElement(R.default,{type:"relation",relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"documentation"}}),btnContent:"Remove Documentation",onSubmit:this.handleDeleteRelation,isLoading:this.props.model.documentations.isLoadingDeleteRelation}))}},network:{headers:{mode:"network",actions:null},body:{emptyState:{message:"None on this version."},hasBackgroundColor:!1,icon:s.createElement(m.default,null),metaInfo:e=>s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"Updated at "+d().getFormattedDate(e.updatedAt)),widgets:e=>s.createElement(y.ForkButton,{model:"collection",modelId:e.modelId,origin:"network-tab",workspaceId:this.props.workspaceId,onFork:()=>this.handleFork(e.modelId,this.props.workspaceId)})}},feature:{headers:{mode:"feature",actions:s.createElement(_.Dropdown,{onSelect:this.handleOptionSelect},s.createElement(_.DropdownButton,{dropdownStyle:"nocaret",type:"custom"},s.createElement(S.Button,{className:"documentation-overview-header__icon",tooltip:"Add documentation"},s.createElement(p.default,null))),s.createElement(_.DropdownMenu,{"align-right":!0},this.getAddDocumentationOptions().map((e=>s.createElement(_.MenuItem,{key:e.action,refKey:e.action,disabled:e.isDisabled,disabledText:this.getDisabledText(e.action,e.isDisabled,!e.hasPermission)},s.createElement("span",null,e.name))))))},body:{emptyState:{message:"None on this version."},hasBackgroundColor:!e,icon:s.createElement(m.default,null),navigationObject:()=>"/",metaInfo:e=>s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"Updated at "+d().getFormattedDate(e.updatedAt)),widgets:t=>{if(!e)return s.createElement("div",{className:"documentation-overview-widgets"},s.createElement(l.default,{entity:t,onRemoveEntity:this.handleRemove,canRemoveEntity:this.props.canRemoveEntity,isSmall:!0}))},modals:s.createElement(s.Fragment,null,this.state.showAddEntityModal&&s.createElement(I.default,{apiId:this.props.model.documentations.apiId,apiVersionId:this.props.model.documentations.versionId,isOpen:this.state.showAddEntityModal,title:"Add API documentation",type:"documentation",label:"Select a collection to use as documentation",buttonLabel:"Add Documentation",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,getEntities:M.bind(this),isLoadingAddRelation:this.props.model.documentations.isLoadingAddRelation,placeholder:"Select documentation",emptyStateText:"There are no collections in this workspace"}),s.createElement(E.default,{apiId:this.props.model.documentations.apiId,isOpen:this.state.showCreateDocumentationModal,onClose:this.closeCreateDocumentationModal,onCreate:this.handleCreate,schemaFormat:P.get(this.props,"model.schema.schemaFormat"),advancedOptions:P.get(this.props,"model.schema.advancedOptions")}),s.createElement(b.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove documentation from API?",subTitle:this.props.model.documentations.apiName,content:s.createElement(R.default,{type:"relation",relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"documentation"}}),btnContent:"Remove Documentation",onSubmit:this.handleDeleteRelation,isLoading:this.props.model.documentations.isLoadingDeleteRelation}))}}}}getDocumentations(){return this.props.mode===w.FEATURE_BRANCH_MODE?P.get(this.props.model,"documentations.relationsOnBranch",[]):P.get(this.props.model,"documentations.relations",[])}render(){const e=this.getConfigurations(),t=this.getDocumentations(),n=P.get(e[this.props.mode],"body.hasBackgroundColor",!0);return s.createElement(s.Fragment,null,s.createElement(a.default,{heading:"Documentation",details:e[this.props.mode].headers}),s.createElement(r.default,{relationType:"documentation",entities:t,model:e[this.props.mode].body,promoteTab:this.props.promoteTab,handleEntityClick:this.handleDocumentationClick,hasBackgroundColor:n}),e[this.props.mode].body.modals)}})||o},"./api-dev/components/api-version/overview/EnvironmentsOverview/EnvironmentsOverview.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/components/api-version/overview/RelationsOverviewHeader/RelationsOverviewHeader.js"),r=n("./api-dev/components/api-version/overview/RelationOverviewBody/RelationOverviewBody.js"),l=n("./api-dev/components/api-version/common/RemoveEntity/RemoveEntity.tsx"),c=n("./node_modules/@postman/date-helper/index.js"),d=n.n(c),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-environment-stroke.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/CurrentUserStore.js"),f=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),b=n("./version-control/components.js"),y=n("./js/components/base/Buttons.js"),v=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),I=n("./js/services/NavigationService.js"),E=n("./js/modules/services/AnalyticsService.js"),_=n("./api-dev/services/APIDevService.js"),S=n("./runtime-repl/environment/_api/EnvironmentStoreV2.js"),C=n("./collaboration/utils/workspace.js"),T=n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),j=n("./node_modules/lodash/lodash.js");async function A(){const e=await(0,_.getWorkspaceId)(),t=await(0,S.getMeta)(e);return j.chain(t).get("list").map((e=>j.pick(e,["id","name"]))).value()}let w=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.handleFork=(e,t)=>{E.default.addEventV2AndPublish({category:"private-api-network",action:"fork-environment",label:"api-version",entityId:j.get(this.props,"model.apiId"),entityType:"api",value:1,userId:(0,h.resolveStoreInstance)(g.default).id,teamId:(0,h.resolveStoreInstance)(g.default).teamId}),I.default.transitionTo("build.fork",{model:"environment",id:e,wid:t},{origin:"api-version-overview"})},this.state={showAddEntityModal:!1,relationToBeDeleted:null,showDeleteModal:!1},this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.addRelation=this.addRelation.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleDeleteRelation=this.handleDeleteRelation.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.getEnvironmentTabNavigationObject=this.getEnvironmentTabNavigationObject.bind(this)}getEnvironmentTabNavigationObject(e){return{routeIdentifier:"environment.openWithWsSelect",routeParams:{eid:e}}}toggleDeleteModal(){this.setState((e=>({showDeleteModal:!e.showDeleteModal})))}handleRemove(e){this.setState({relationToBeDeleted:e}),this.toggleDeleteModal()}handleDeleteRelation(){return this.props.entities.deleteRelation(this.state.relationToBeDeleted).then((e=>{e&&this.toggleDeleteModal()}))}addRelation(e){return this.props.entities.addRelation(e).then((e=>{j.get(this.props,"promoteTab")&&j.isFunction(this.props.promoteTab)&&this.props.promoteTab(),e&&this.handleToggleAddEntityModal()}))}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal})}getConfigurations(){const e=(0,C.isPublicUserForWorkspace)(),t=j.get(this.props.model,"apiPermissionStore.canAddEnvironment"),n=t?"Add environment":"You don't have permission to perform this action.";return{build:{headers:{mode:"build",actions:s.createElement(y.Button,{className:"documentation-overview-header__icon",onClick:this.handleToggleAddEntityModal,disabled:!t,tooltip:n},s.createElement(p.default,null))},body:{emptyState:{message:"None on this version."},hasBackgroundColor:!e,icon:s.createElement(m.default,null),navigationObject:e=>this.getEnvironmentTabNavigationObject(e.modelId),metaInfo:e=>s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"Updated at "+d().getFormattedDate(e.updatedAt)),widgets:t=>{if(!e)return s.createElement(l.default,{entity:t,onRemoveEntity:this.handleRemove,canRemoveEntity:this.props.canRemoveEntity,isSmall:!0})},modals:s.createElement(s.Fragment,null,s.createElement(f.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove environment from API?",subTitle:this.props.entities.apiName,content:s.createElement(T.default,{type:"relation",relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"environment"}}),btnContent:"Remove Environment",onSubmit:this.handleDeleteRelation,isLoading:this.props.entities.isLoadingDeleteRelation}),this.state.showAddEntityModal&&s.createElement(v.default,{apiId:this.props.entities.apiId,apiVersionId:this.props.entities.versionId,isOpen:this.state.showAddEntityModal,title:"Add an environment to this API",type:"environment",label:"Select an environment",buttonLabel:"Add Environment",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,getEntities:A,isLoadingAddRelation:this.props.entities.isLoadingAddRelation,placeholder:"Select an environment",emptyStateText:"There are no environments in this workspace"}))}},network:{headers:{mode:"network",actions:null},body:{emptyState:{message:"None on this version."},hasBackgroundColor:!1,icon:s.createElement(m.default,null),onClick:e=>this.openEnvironment(e),navigationObject:e=>this.getEnvironmentTabNavigationObject(e.modelId),metaInfo:e=>s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"Updated at "+d().getFormattedDate(e.updatedAt)),widgets:e=>s.createElement(b.ForkButton,{model:"environment",modelId:e.modelId,origin:"network-tab",workspaceId:this.props.workspaceId,onFork:()=>this.handleFork(e.modelId,this.props.workspaceId)})}}}}render(){const e=this.getConfigurations(),t=this.props.entities.relations,n=j.get(e[this.props.mode],"body.hasBackgroundColor",!0);return s.createElement(s.Fragment,null,s.createElement(a.default,{heading:"Environments",details:e[this.props.mode].headers}),s.createElement(r.default,{relationType:"environment",entities:t,model:e[this.props.mode].body,promoteTab:this.props.promoteTab,hasBackgroundColor:n}),e[this.props.mode].body.modals)}})||o},"./api-dev/components/api-version/overview/MockServerOverview/MockServerOverview.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/components/api-version/overview/RelationsOverviewHeader/RelationsOverviewHeader.js"),r=n("./api-dev/components/api-version/overview/RelationOverviewBody/RelationOverviewBody.js"),l=n("./api-dev/components/api-version/common/RemoveEntity/RemoveEntity.tsx"),c=n("./node_modules/@postman/date-helper/index.js"),d=n.n(c),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-mock-stroke.js"),h=n("./js/stores/SyncStatusStore.js"),g=n("./js/stores/StoreManager.js"),f=n("./js/stores/CurrentUserStore.js"),b=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),y=n("./api-dev/util/TooltipText.js"),v=n("./api-dev/constants/Permissions.js"),I=n("./js/components/base/Dropdowns.js"),E=n("./js/components/base/Buttons.js"),_=n("./api-dev/components/api-version/development/mock-section/CreateMockEntityModalContainer/CreateMockEntityModalContainer.js"),S=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),C=n("./js/modules/services/AnalyticsService.js"),T=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/ValidationCell/ValidationCell.js"),j=n("./api-dev/services/APIDevService.js"),A=n("./mocks/services/MockService.js"),w=n("./collaboration/utils/workspace.js"),O=n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),N=n("./node_modules/lodash/lodash.js");async function D(){const e=await(0,j.getWorkspaceId)(),t=await(0,A.getMocks)({workspace:e});return N.map(t,(e=>N.pick(e,["id","name"])))}let R=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showAddEntityModal:!1,showDeleteModal:!1,relationToBeDeleted:null,showMockEntityModal:!1,hasValidSchema:null,isSchemaEmpty:null},this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.handleOpenMockEntityModal=this.handleOpenMockEntityModal.bind(this),this.handleCloseMockEntityModal=this.handleCloseMockEntityModal.bind(this),this.handleCreateMock=this.handleCreateMock.bind(this),this.addRelation=this.addRelation.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleDeleteRelation=this.handleDeleteRelation.bind(this),this.handleOptionSelect=this.handleOptionSelect.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.getMockTabNavigationObject=this.getMockTabNavigationObject.bind(this)}toggleDeleteModal(){this.setState((e=>({showDeleteModal:!e.showDeleteModal})))}handleRemove(e){this.setState({relationToBeDeleted:e}),this.toggleDeleteModal()}handleDeleteRelation(){return this.props.model.mocks.deleteRelation(this.state.relationToBeDeleted).then((e=>{e&&this.toggleDeleteModal()}))}getMockTabNavigationObject(e){return{routeIdentifier:"mock.openWithWsSelect",routeParams:{mockId:e}}}addRelation(e){return this.props.model.mocks.addRelation(e).then((e=>{N.get(this.props,"promoteTab")&&N.isFunction(this.props.promoteTab)&&this.props.promoteTab(),e&&this.handleToggleAddEntityModal()}))}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal})}handleCloseMockEntityModal(){this.setState({showMockEntityModal:!1})}handleCreateMock(e){let t;if(C.default.addEventV2({category:"mock",entityId:this.props.model.mocks.apiId,action:"confirm_create",label:"create_mock_from_schema",value:1}),e.collectionId)t={...e};else{let n=N.get(this.props,"model.schema");t={...N.pick(n,["schemaId"]),...e}}return N.get(this.props,"promoteTab")&&N.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.mocks.createAndAddRelationToAPIVersion(t)}isLoggedIn(){return(0,g.resolveStoreInstance)(f.default).isLoggedIn}handleOpenMockEntityModal(){C.default.addEventV2({category:"mock",entityId:this.props.model.mocks.apiId,action:"initiate_create",label:"api_develop",value:1});let e=this.props.model.schema,t=e.isSchemaValid,n=N.isEmpty(e.content);this.setState({hasValidSchema:t,isSchemaEmpty:n,showMockEntityModal:!0})}handleOptionSelect(e){if(!this.isLoggedIn())return pm.mediator.trigger("showSignInModal",{type:"addMock",origin:"api_builder_add_mock_server_button",continueUrl:new URL(window.location.href)});"create_new"===e?this.handleOpenMockEntityModal():this.handleToggleAddEntityModal()}getMockOptions(){const e=!(0,g.resolveStoreInstance)(h.default).isSocketConnected,t=N.get(this.props.model,"apiPermissionStore.canAddMock"),n=N.get(this.props,"model.isAPIDeleted"),o=e||!t||n,s=N.get(this.props,"model.apiPermissionStore.canCreateMock");return[{action:"create_new",name:"Create new mock server",isDisabled:e||!s||n,disabledText:n&&v.DELETED_API_DISABLED_TEXT,hasPermission:s},{action:"add_existing",name:"Add existing mock server",isDisabled:o,disabledText:n&&v.DELETED_API_DISABLED_TEXT,hasPermission:t}]}getConfigurations(){const e=(0,w.isPublicUserForWorkspace)();return{build:{headers:{mode:"build",actions:s.createElement(I.Dropdown,{onSelect:this.handleOptionSelect},s.createElement(I.DropdownButton,{dropdownStyle:"nocaret",type:"custom"},s.createElement(E.Button,{className:"mock-overview-header__icon",tooltip:"Add mock server"},s.createElement(p.default,null))),s.createElement(I.DropdownMenu,{"align-right":!0},this.getMockOptions().map((e=>{const{action:t,isDisabled:n,hasPermission:o,disabledText:i,name:a}=e;return s.createElement(I.MenuItem,{key:t,refKey:t,disabled:n,disabledText:(0,y.default)(n,!o,i)},s.createElement("span",null,a))}))))},body:{emptyState:{message:"None on this version."},hasBackgroundColor:!e,icon:s.createElement(m.default,null),navigationObject:e=>this.getMockTabNavigationObject(e.modelId),metaInfo:e=>s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"Updated at "+d().getFormattedDate(e.updatedAt)),widgets:t=>{if(!e)return s.createElement("div",{className:"mock-overview-widgets"},s.createElement(T.default,{cellInfo:N.get(t,"validation"),entity:t,canValidateRelation:N.get(this.props.model,"apiPermissionStore.canValidateAPIRelation"),apiEditorUIStore:N.get(this.props.model,"apiEditorUIStore"),store:N.get(this.props.model,"mocks"),promoteTab:N.get(this.props,"promoteTab")}),s.createElement(l.default,{entity:t,onRemoveEntity:this.handleRemove,canRemoveEntity:this.props.canRemoveEntity,isSmall:!0}))},modals:()=>s.createElement(s.Fragment,null,s.createElement(b.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove mock server from API?",subTitle:this.props.model.mocks.apiName,content:s.createElement(O.default,{type:"relation",relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"mock"}}),btnContent:"Remove Mock Server",onSubmit:this.handleDeleteRelation,isLoading:this.props.model.mocks.isLoadingDeleteRelation}),this.state.showAddEntityModal&&s.createElement(S.default,{apiId:this.props.model.mocks.apiId,apiVersionId:this.props.model.mocks.versionId,isOpen:this.state.showAddEntityModal,title:"Add a mock server to this API",type:"mock",label:"Select a mock server",buttonLabel:"Add Mock Server",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,getEntities:D,isLoadingAddRelation:this.props.model.mocks.isLoadingAddRelation,placeholder:"Select a mock server",emptyStateText:"There are no mock servers in this workspace"}),s.createElement(_.default,{apiId:this.props.model.mocks.apiId,isOpen:this.state.showMockEntityModal,onClose:this.handleCloseMockEntityModal,onCreateMock:this.handleCreateMock,isSchemaEmpty:this.state.isSchemaEmpty,hasValidSchema:this.state.hasValidSchema,mockSteps:{1:"selectCollection",2:"configureMock",3:"nextSteps"},mockStepsNameMap:[{step:1,name:"Select collection to mock"},{step:2,name:"Configure mock server"},{step:3,name:"Next steps"}],mockModalStyles:{margin:"auto",width:"923px"},schemaFormat:N.get(this.props,"model.schema.schemaFormat"),advancedOptions:N.get(this.props,"model.schema.advancedOptions")}))}},network:{headers:{mode:"network",actions:null},body:{emptyState:{message:"None on this version."},hasBackgroundColor:!1,icon:s.createElement(m.default,null),onClick:e=>this.openDocumentation(e),navigationObject:e=>this.getMockTabNavigationObject(e.modelId),metaInfo:e=>s.createElement(u.default,{type:"body-medium",color:"content-color-secondary"},"Updated at "+d().getFormattedDate(e.updatedAt)),widgets:()=>null,modals:()=>null}}}}render(){const e=this.getConfigurations(),t=this.props.model.mocks.relations,n=N.get(e[this.props.mode],"body.hasBackgroundColor",!0);return s.createElement(s.Fragment,null,s.createElement(a.default,{heading:"Mock Servers",details:e[this.props.mode].headers}),s.createElement(r.default,{relationType:"mock",entities:t,model:e[this.props.mode].body,promoteTab:this.props.promoteTab,hasBackgroundColor:n}),e[this.props.mode].body.modals())}})||o},"./api-dev/components/api-version/overview/OverviewTab/OverviewTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=(n("../../node_modules/react-dom/index.js"),n("../../node_modules/mobx-react/dist/mobx-react.module.js")),a=n("./api-dev/components/api-version/overview/APIVersionInfo/APIVersionInfo.js"),r=n("./api-dev/components/api-version/overview/ReleaseOverview/ReleaseOverview.js"),l=n("./api-dev/components/api-version/overview/DocumentationsOverview/DocumentationsOverview.js"),c=n("./api-dev/components/api-version/overview/EnvironmentsOverview/EnvironmentsOverview.js"),d=n("./api-dev/components/api-version/overview/MockServerOverview/MockServerOverview.js"),u=n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js"),p=n("./node_modules/classnames/index.js"),m=n.n(p),h=n("./api-dev/constants/APITabModes.js"),g=n("../../packages/api-design/schema-editor/index.js"),f=n("./api-dev/configs/APIActionsBlockList.js"),b=n("./api-dev/util/schema.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),v=n("./api-dev/components/release/PublishAPI/PublishAPIModal.js"),I=n("./api-dev/interfaces/APIInterface.js"),E=n("./node_modules/lodash/lodash.js");let _=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isPublishModalOpen:!1},this.getOverviewContentClassNames=this.getOverviewContentClassNames.bind(this),this.renderRelationsOverview=this.renderRelationsOverview.bind(this),this.renderPublishButton=this.renderPublishButton.bind(this),this.togglePublishModal=this.togglePublishModal.bind(this)}isDataLoaded(){if("feature"===this.props.mode)return!0;const e=E.get(this.props.model,"documentations.isRelationLoaded"),t=E.get(this.props.model,"environments.isRelationLoaded"),n=E.get(this.props.model,"mocks.isRelationLoaded"),o=!E.get(this.props.model,"schema.isSchemaLoading")||E.get(this.props.model,"schema.apiError")===g.ERROR_HYDRATE_SCHEMA;return e&&t&&n&&o}getOverviewContentClassNames(){return m()({"overview-content":!0,"overview-content__build":this.props.mode===h.BUILD_MODE})}togglePublishModal(){(0,I.migrateAPI)(this.props.model.apiId,this.props.model.id).then((()=>{this.setState((e=>({isPublishModalOpen:!e.isPublishModalOpen})))})).catch(E.noop)}renderRelationsOverview(){const e="feature"===this.props.mode;return s.createElement(s.Fragment,null,s.createElement(l.default,{mode:this.props.mode,model:this.props.model,promoteTab:this.props.promoteTab,canRemoveEntity:E.get(this.props.model,"apiPermissionStore.canRemoveDocumentation"),workspaceId:this.props.workspaceId,onTabChange:this.props.onTabChange}),!e&&s.createElement(c.default,{mode:this.props.mode,model:this.props.model,entities:this.props.model.environments,promoteTab:this.props.promoteTab,canRemoveEntity:E.get(this.props.model,"apiPermissionStore.canRemoveEnvironment"),workspaceId:this.props.workspaceId}),!e&&s.createElement(d.default,{mode:this.props.mode,model:this.props.model,promoteTab:this.props.promoteTab,canRemoveEntity:E.get(this.props.model,"apiPermissionStore.canRemoveMock")}))}renderReleasesOverview(){return s.createElement("div",{className:"release-content"},s.createElement(r.default,{mode:this.props.mode,model:this.props.model}))}renderPublishButton(){if(E.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured")||E.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.localGitConfigured"))return s.createElement(s.Fragment,null,s.createElement(y.default,{className:"publish-api",type:"outline",size:"medium",text:"Publish API",onClick:this.togglePublishModal}),s.createElement(v.default,{isOpen:this.state.isPublishModalOpen,togglePublishModal:this.togglePublishModal,model:this.props.model,promoteTab:this.props.promoteTab}))}render(){if(!this.isDataLoaded())return s.createElement(u.default,null);const e=E.get(this.props,"model.schema.type"),t=!!E.get(this.props,"model.schema.apiDefinitionId"),n=!f.default.schema.types.includes(e);(0,b.shouldDisableFeatureForProtoRelease)(t,e);return s.createElement("div",{className:this.getOverviewContentClassNames()},s.createElement("div",{className:"version-content"},s.createElement(a.default,{mode:this.props.mode,model:this.props.model,schemaComponent:this.props.schemaComponent}),this.renderPublishButton(),n&&this.renderRelationsOverview()),E.get(this.props,"model.releases.length",0)>0&&this.renderReleasesOverview())}})||o},"./api-dev/components/api-version/overview/RelationOverviewBody/RelationOverviewBody.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("./js/components/base/Buttons.js"),l=n("./appsdk/components/link/Link.js"),c=n("./node_modules/classnames/index.js"),d=n.n(c),u=n("./node_modules/lodash/lodash.js");let p=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(e){u.isFunction(this.props.handleEntityClick)&&this.props.handleEntityClick(e),u.get(this.props,"promoteTab")&&u.isFunction(this.props.promoteTab)&&this.props.promoteTab()}getClassnames(){return d()({"relation-overview-body":!0,"show-background-color":this.props.hasBackgroundColor})}render(){const e=this.props.entities;return e.length?s.createElement(s.Fragment,null,u.map(e,(e=>s.createElement("div",{key:e.id,className:this.getClassnames()},s.createElement("div",{className:"relation-overview-info"},s.createElement(l.default,{to:this.props.model.navigationObject&&this.props.model.navigationObject(e)},s.createElement(r.Button,{className:"relation-overview-name",onClick:()=>this.handleClick(e)},s.createElement("div",{className:"relation-icon"},this.props.model.icon),s.createElement(a.default,{isTruncated:!0,type:"body-medium",color:"content-color-primary"},e.name)))),s.createElement("div",{className:"relation-overview-widget"},this.props.model.widgets(e)))))):s.createElement("div",{className:"relation-overview-body--empty"},s.createElement(a.default,{type:"body-medium",color:"content-color-secondary"},u.get(this.props.model,"emptyState.message")))}})||o},"./api-dev/components/api-version/overview/RelationsOverviewHeader/RelationsOverviewHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./node_modules/lodash/lodash.js");let u=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}renderDropdownButton(){return this.props.details.actions?this.props.details.actions:null}getClassnames(e){return c()({"header-text":!0,"network-mode":e})}render(){const e=d.get(this.props.details,"subHeading"),t="network"===this.props.details.mode;return s.createElement("div",{className:"relation-overview-header"},s.createElement("div",{className:this.getClassnames(t)},s.createElement(a.default,{type:"h5",text:this.props.heading}),s.createElement(r.default,{type:"body-medium",color:"content-color-secondary"},e)),s.createElement("div",{className:"header-dropdown"},this.renderDropdownButton()))}})||o},"./api-dev/components/api-version/overview/ReleaseOverview/ReleaseOverview.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),m=n("./js/services/NavigationService.js"),h=n("./js/modules/services/AnalyticsService.js"),g=n("./appsdk/components/link/Link.js"),f=(n("./js/stores/StoreManager.js"),n("./js/stores/CurrentUserStore.js"),n("./node_modules/@postman/documentation-core-components/dist/esm/index.js")),b=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),y=n("./node_modules/lodash/lodash.js");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}const I=(0,b.default)(a.default)`
  margin-top: var(--spacing-s);
`,E=(0,b.default)(r.default)`
  word-break: break-word;
`,_={text:"Got it!",type:"primary"};let S=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showPopover:!1,theme:pm.settings.getSetting("postmanTheme")},this.renderEmptyState=this.renderEmptyState.bind(this),this.openChangelog=this.openChangelog.bind(this),this.shouldShowPopover=this.shouldShowPopover.bind(this),this.setShowPopover=this.setShowPopover.bind(this),this.disablePopover=this.disablePopover.bind(this),this.popoverRef=s.createRef()}componentDidMount(){pm.settings.on("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})})),setTimeout((()=>{this.shouldShowPopover()}),500)}componentWillUnmount(){pm.settings.off("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}openReleaseTab(e){const t=this.props.model.apiId,n=this.props.model.id;return h.default.addEventV2({category:"release",action:"view",label:"api_version_overview_tab",value:1,entityId:e}),"network"===this.props.mode?m.default.transitionToURL(`api/${t}/version/${n}/release/${e}`):m.default.transitionTo("build.release",{apiId:t,apiVersionId:n,releaseId:`${e}`})}openChangelog(){const e=this.props.model.apiId,t=this.props.model.id;m.default.transitionTo("build.apiVersion",{apiId:e,versionId:t},{ctx:"api-version-changelog"})}shouldShowPopover(){this.setShowPopover(!1)}setShowPopover(e){this.setState({showPopover:e})}disablePopover(){const e=this.props.model.id;h.default.addEventV2({category:"release",action:"disableReleaseNotesPopover",label:"api_version_overview_tab",value:1,entityId:e}),pm.settings.setSetting("disableReleaseMarkdownPopover",!0),this.setShowPopover(!1)}renderEmptyState(){const e=y.get(this.props.model,"apiPermissionStore.canUpdateAPIVersionRelease",!1);return"build"===this.props.mode&&e?s.createElement(s.Fragment,null,"No releases yet. You can create a release from the version",s.createElement(g.default,{onClick:this.openChangelog},s.createElement(r.default,{type:"link-default"},"changelog")),"to publish new changes."):"No releases yet."}renderReleases(e){if(!e||0===e.length){return s.createElement("div",{className:"release-list-empty"},s.createElement(r.default,{type:"body-medium",className:"git-tag__name",color:"content-color-secondary"},this.renderEmptyState()))}return y.map(e,(e=>s.createElement("div",{key:e.id,className:"release-list-item"},s.createElement("div",{className:"release-header",key:e.id,onClick:()=>this.openReleaseTab(e.id)},s.createElement("div",{className:"release-header__name"},e.name),s.createElement(s.Fragment,null,e.gitTag&&s.createElement("div",{className:"git-tag"},s.createElement("div",{className:"git-tag__icon"},s.createElement(p.default,{name:"icon-action-tag-stroke-small",color:"content-color-secondary",size:"small"})),s.createElement(r.default,{type:"body-medium",className:"git-tag__name",color:"content-color-secondary"},e.gitTag)))),s.createElement("div",{className:"release-summary"},s.createElement(E,{type:"body-medium",color:"content-color-secondary"},e.summary)))))}render(){const e=this.props.model.releases;return s.createElement(l.default,{direction:"column",width:"100%"},s.createElement("div",{ref:this.popoverRef},s.createElement(c.default,{type:"h5",text:"Releases"})),s.createElement(d.default,{isOpen:this.state.showPopover,triggerRef:this.popoverRef,placement:"left",pointer:!0,maxWidth:300,padding:"spacing-m",onClickOutside:()=>{this.disablePopover()}},s.createElement(l.default,{direction:"column",gap:"spacing-s"},s.createElement(u.default,{status:"new",text:"new"}),s.createElement(f.DocumentationProvider,{theme:this.state.theme},s.createElement(f.MarkdownViewer,{markdown:"*   You can add a summary to a release.\n*   Descriptions are now markdown-supported release notes.\n    \n\nOpen a release to check them out."}))),s.createElement(I,v({},_,{onClick:()=>{this.disablePopover()}}))),this.renderReleases(e))}})||o},"./api-dev/components/api-version/test/Components/DetailedTestEntry.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),r=n("./runtime-repl/runner/_api/RunnerInterface.js"),l=n("./runtime-repl/runner/workbench/common.js"),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/CurrentUserStore.js"),u=n("./api-dev/components/api-version/test/Services/DateUtil.js"),p=n("./node_modules/classnames/index.js"),m=n.n(p);class h extends o.Component{constructor(e){super(e),this.getRunReport=async e=>{if(!(0,c.resolveStoreInstance)(d.default).isLoggedIn){const e=new URL(window.location.href);return pm.mediator.trigger("showSignInModal",{type:"runSummary",origin:"api_builder_run_summary_button",continueUrl:e})}const t=i().get(e,"id","null"),n=(0,l.getAPIParentMetaFromUrl)();t&&(0,r.openRunInTab)(t,{preview:!1},n)},this.renderTestBadge=this.renderTestBadge.bind(this),this.getRunReport=this.getRunReport.bind(this),this.getClassName=this.getClassName.bind(this)}getClassName(e){return m()({"detailed-section":!0,shrinked:!i().isEmpty(e)})}renderTestBadge(e,t){const n=e+t;return 0===n?o.createElement(a.default,{status:"neutral",text:"NO TESTS FOUND"}):0===t?o.createElement(a.default,{status:"success",text:`${e}/${n} PASSED`}):o.createElement(a.default,{status:"critical",text:`${t}/${n} FAILED`})}render(){const{runs:e}=this.props;return o.createElement("div",{className:this.getClassName(this.props.windowStatus)},o.createElement("div",{className:"empty-section"}),o.createElement("div",{className:"filled-section"},e&&i().map(e,(e=>o.createElement("div",{className:"detail-row",key:`run-${e.id}`},o.createElement("div",{className:"detail-row-header"},o.createElement("div",{className:"badge"},this.renderTestBadge(e.passedTestCount,e.failedTestCount),o.createElement("span",{title:u.default.getFormattedTime(e.lastUpdated)},u.default.getRelativeTime(e.lastUpdated))),o.createElement("div",{className:"view-report",onClick:()=>this.getRunReport(e)},"View Report")),o.createElement("ul",{className:"logs"},i().map(e.logs,((t,n)=>o.createElement("li",{key:`log-${n}-${e.id}`},t)))))))))}}},"./api-dev/components/api-version/test/Components/LastUpdatedCell.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("./api-dev/components/api-version/test/Services/DateUtil.js");class r extends o.Component{constructor(e){super(e)}render(){const{loadingRuns:e,lastRunDate:t}=this.props.entity;return e?o.createElement("span",{"data-testid":"last-updated-spinner"},o.createElement(s.default,null)):t?o.createElement(i.default,{"data-testid":"last-updated-run-time",className:"entity-last-updated__label",type:"body-medium",color:"content-color-primary"},o.createElement("span",{title:a.default.getFormattedTime(t)},a.default.getRelativeTime(t))):o.createElement(i.default,{"data-testid":"last-updated-no-run",className:"entity-last-updated__label",color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-xs",marginLeft:"spacing-xs"}},"No runs yet")}}},"./api-dev/components/api-version/test/Components/TestTabTable.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o,s=n("../../node_modules/react/index.js"),i=n("./api-dev/components/api-version/test/Components/TestTabTableHeader.js"),a=n("./api-dev/components/api-version/test/Components/TestTabTableBody.js");let r=(0,n("../../node_modules/mobx-react/dist/mobx-react.module.js").observer)(o=class extends s.Component{constructor(e){super(e)}render(){return this.props.isOpen&&s.createElement("div",{className:"api-dev-table test-tab-table"},s.createElement(i.default,{headers:this.props.headers}),s.createElement(a.default,{headers:this.props.headers,cells:this.props.cells,content:this.props.content,windowStatus:this.props.windowStatus,branch:this.props.branch}))}})||o},"./api-dev/components/api-version/test/Components/TestTabTableBody.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/mobx/lib/mobx.module.js"),c=(n("./node_modules/classnames/index.js"),n("./api-dev/components/api-version/test/Components/TestTableEntry.js"));let d=(0,r.observer)(o=class extends a.Component{constructor(e){super(e)}render(){var e;const t=null===(e=this.props.content)||void 0===e?void 0:e.sort(((e,t)=>{var n,o;return(null==e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase())>(null==t||null===(o=t.name)||void 0===o?void 0:o.toLowerCase())?1:-1}));return a.createElement("div",{className:"api-dev-table-body"},i().map((0,l.toJS)(t),(e=>a.createElement(c.default,{key:e.id,row:e,cells:this.props.cells,headers:this.props.headers,windowStatus:this.props.windowStatus,branch:this.props.branch}))))}})||o},"./api-dev/components/api-version/test/Components/TestTabTableHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=n("./js/components/base/Tooltips.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=n("./node_modules/classnames/index.js"),l=n.n(r),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("./node_modules/lodash/lodash.js");let u=(0,c.observer)(o=class extends s.Component{constructor(e){super(e),this.showTooltip=()=>{this.setState({showTooltip:!0})},this.hideTooltip=()=>{this.setState({showTooltip:!1})},this.state={showTooltip:!1}}getClassName(e){return l()({"api-dev-table-row__cell":!0,shrinked:d.get(this.props,"model.apiEditorUIStore.isWindowShrunk"),"api-dev-table-header__cell":!0,[e]:!0})}render(){return s.createElement("div",{className:"api-dev-table-row api-dev-table-header"},s.createElement("div",{className:"test-tab-header-arrow"},s.createElement("span",{className:"api-dev-table-header__cell-name arrow-column"})),d.map(this.props.headers,(e=>s.createElement("div",{className:this.getClassName(e.class),key:e.key},s.createElement("span",{className:"api-dev-table-header__cell-name",title:e.tooltip},e.val),e.helperText&&s.createElement(s.Fragment,null,s.createElement("div",{className:"api-dev-table-header__helper-icon",ref:e=>this.questionIconRef=e,onMouseEnter:this.showTooltip,onMouseLeave:this.hideTooltip},s.createElement(a.default,{name:"icon-state-info-stroke",color:"content-color-tertiary",size:"small"})),s.createElement(i.Tooltip,{show:this.state.showTooltip,target:this.questionIconRef,placement:"right",immediate:!0},s.createElement(i.TooltipBody,null,e.helperText)))))))}})||o},"./api-dev/components/api-version/test/Components/TestTableEntry.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./node_modules/moment/moment.js"),l=n.n(r),c=n("./node_modules/classnames/index.js"),d=n.n(c),u=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),p=n("./api-dev/components/api-version/test/Components/DetailedTestEntry.js"),m=n("./api-dev/components/api-version/test/Services/CollectionRunService.js"),h=n("./js/stores/StoreManager.js"),g=n("./runtime-repl/runner/RunnerRun/RunnerRunStore.js"),f=n("./runtime-repl/runner/SyncService.js"),b=n("./node_modules/lodash/lodash.js"),y=n.n(b);let v=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isDetailed:!1,iconName:"icon-direction-right",row:{},render:!0,loadingDetails:!1,errorDetails:!1,tooltipText:null,disabled:!1},this.oldLastNRunIds=[],this.toggleDetailed=this.toggleDetailed.bind(this),this.fetchDetails=this.fetchDetails.bind(this),this.handleRetry=this.handleRetry.bind(this),this.updateRow=this.updateRow.bind(this),this.initializeDetailsArrow=this.initializeDetailsArrow.bind(this),this.sortByDate=this.sortByDate.bind(this)}initializeDetailsArrow(){const{loadingDetails:e,errorDetails:t,row:n}=this.state;e||t||y().isEmpty(n.lastRuns)?this.setState({disabled:!0,tooltipText:"No runs to display"}):this.setState({disabled:!1,tooltipText:null})}handleRetry(){const e=y().get(this.props.row,"modelId");(0,f.fetchMoreRunsInActiveWorkspace)(5,0,{collection:e,iterations:!0,branch:this.props.branch})}async componentDidMount(){const e=y().get(this.props.row,"modelId");this.props.row.loadingRuns=!0,this.setState({loadingDetails:!0,errorDetails:!1,row:this.props.row}),await(0,f.fetchMoreRunsInActiveWorkspace)(5,0,{collection:e,iterations:!0,branch:this.props.branch}),this.reactionDisposer=(0,a.autorun)((async()=>{const e=(0,h.resolveStoreInstance)(g.default),t=y().get(this.props.row,"modelId"),n=y().filter(e.collectionRunsInActiveWorkspace,(e=>e.context&&e.context.collection===t&&y().includes(["finished","error","aborted"],e.status)&&(!this.props.branch||e.branch===this.props.branch))).sort(this.sortByDate).slice(0,5),o=y().map(n,(e=>e.id));!y().isEmpty(o)&&y().isEqual(this.oldLastNRunIds,o)||(this.oldLastNRunIds=o,this.fetchDetails(this.props.row,o))}))}componentDidUpdate(e){y().isEqual(e.row,this.props.row)||this.updateRow()}componentWillUnmount(){this.reactionDisposer&&this.reactionDisposer()}updateRow(){let e=this.state.row,t=this.props.row;if(e.id===t.id&&y().isEqual(e.latestCollectionRun,t.latestCollectionRun))this.setState({render:!1},(()=>{this.setState({render:!0,row:{...e,...t}})}));else{const e=y().get(t,"modelId"),n=5;(0,f.fetchMoreRunsInActiveWorkspace)(n,0,{collection:e,iterations:!0,branch:this.props.branch})}}sortByDate(e,t){const n=this.getRunStartTime(e),o=this.getRunStartTime(t);return new Date(o)-new Date(n)}getRunStartTime(e){return e.startedAt?e.startedAt:l()(e.createdAt).subtract(e.meta.totalTime,"milliseconds").toISOString()}fetchDetails(e,t){let n={...e};m.default.getCollectionRunPayload(t).then((e=>{const t=y().get(e,"lastRuns",[]),o=y().get(e,"runs",[]);let s=null;n.lastRuns=t,n.runDetails=o,n.loadingRuns=!1,y().isArray(t)&&t.length>0&&(s=t[0].updatedAt),this.setState((e=>({row:{...e.row,lastRuns:t,runDetails:o,loadingRuns:!1,lastRunDate:s},render:!0,loadingDetails:!1,errorDetails:!1})),this.initializeDetailsArrow)})).catch((e=>{n.lastRuns={error:!0,handleRetry:this.handleRetry},n.loadingRuns=!1,this.setState({errorDetails:!0,loadingDetails:!1,render:!1},(()=>{this.setState({render:!0,row:n}),this.initializeDetailsArrow()})),pm.logger.error("Error occurred while fetching run details",e)}))}toggleDetailed(){const{isDetailed:e,loadingDetails:t,errorDetails:n,row:o}=this.state;t||n||y().isEmpty(o.lastRuns)||(e?this.setState({iconName:"icon-direction-right",isDetailed:!1}):this.setState({iconName:"icon-direction-down",isDetailed:!0}))}getClassName(e){return d()({"api-dev-table-row__cell":!0,"row-hover__cell":!0,[e]:!0})}render(){let{row:e,isDetailed:t,iconName:n,render:o,disabled:i,tooltipText:a}=this.state;return s.createElement("div",{className:"row-parent"},o&&s.createElement("div",{className:"api-dev-table-row row-hover"},s.createElement(u.default,{"data-testid":"test-table-entry-row-icon",type:"tertiary",size:"medium",className:"row-arrow",onClick:this.toggleDetailed,tooltip:i&&a,isDisabled:i,icon:n}),y().map(this.props.headers,(t=>{let n=y().get(e.links,`${t.key}.action`);return s.createElement("div",{key:t.key,className:this.getClassName(t.class)},this.props.cells[t.key](e[t.key],e,n))}))),t&&o&&s.createElement(p.default,{runs:e.runDetails,windowStatus:this.props.windowStatus,collectionId:e.modelId}))}})||o},"./api-dev/components/api-version/test/CreateTestSuiteEntityModal/CreateTestSuiteEntityModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("./js/components/base/LoadingIndicator.js"),d=n("./js/components/base/Buttons.js"),u=n("./js/components/base/Inputs.js"),p=n("./js/components/base/Modals.js"),m=n("./api-dev/components/common/GenerationConfigOptions/GenerationConfigOptions.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/SyncStatusStore.js"),f=n("./api-dev/util/getConfigurationOptions.js"),b=n("./js/constants/AppUrlConstants.js"),y=n("./appsdk/components/link/Link.js"),v=n("./integrations/ci-cd/constants.ts"),I=n("./js/modules/services/ManageRolesModalService.js"),E=n("./node_modules/lodash/lodash.js");let _=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={testSuiteName:"",isCreating:!1,schemaFormat:"",generationOptions:[],optionsPreferences:{}},this.hydrateConfigOptions=this.hydrateConfigOptions.bind(this),this.handleOptionsChange=this.handleOptionsChange.bind(this),this.handleTestSuiteNameChange=this.handleTestSuiteNameChange.bind(this),this.handleCreate=this.handleCreate.bind(this),this.handleClose=this.handleClose.bind(this),this.renderContent=this.renderContent.bind(this)}renderContent(){return s.createElement("div",{className:"create-test-suite-entity-wrapper"},s.createElement("div",{className:"intro-content-wrapper"},s.createElement("div",{className:"intro-title"},"Create a collection from your API schema to write tests."),"Learn how to "," ",s.createElement(a.default,{type:"link-default"},s.createElement(y.default,{to:b.API_GENERATING_COLLECTION_FROM_SCHEMA,target:"_blank"},"generate collections from schema"))),s.createElement("div",{className:"test-suite-name-input-wrapper"},s.createElement("div",{className:"test-suite-name-input-header"},"Name your collection"),s.createElement("div",{className:"test-suite-name-input"},s.createElement(u.Input,{inputStyle:"box",ref:"testSuiteName",onChange:this.handleTestSuiteNameChange,value:this.state.testSuiteName,placeholder:"e.g. Payment API"}))),s.createElement(m.default,{options:this.state.generationOptions,preferences:this.state.optionsPreferences,onOptionsChange:this.handleOptionsChange}))}componentDidMount(){this.focusInput()}componentDidUpdate(e){this.props.isOpen&&this.props.isOpen!==e.isOpen&&(this.focusInput(),this.hydrateConfigOptions())}focusInput(){E.invoke(this.refs,"testSuiteName.focus")}hydrateConfigOptions(){let e=this.props.schemaFormat,t=this.props.advancedOptions;e&&!E.isEmpty(t)&&(t=(0,f.checkAndOverrideDefaultValue)(e,t),this.setState({schemaFormat:e.id,generationOptions:t,optionsPreferences:pm.settings.getSetting(`import.options.${e.id}`)||{}}))}handleTestSuiteNameChange(e){this.setState({testSuiteName:e})}handleOptionsChange(e){this.setState({optionsPreferences:e}),pm.settings.setSetting(`import.options.${this.state.schemaFormat}`,e)}handleCreate(){let e={configurations:{converter:{...this.state.optionsPreferences},collection:{name:this.state.testSuiteName}}};return this.setState({isCreating:!0}),this.props.onCreate(e).then((()=>{this.handleClose(),pm.windowEvents.emit(`${v.CI_CD_BUILDS}-test-suite-linked`,{apiId:this.props.apiId,apiVersionId:this.props.apiVersionId})})).catch((()=>{this.setState({isCreating:!1})}))}handleClose(){this.setState({testSuiteName:"",isCreating:!1,schemaFormat:"",generationOptions:[]}),E.invoke(this.props,"onClose")}applyCustomStyle(){return{margin:"auto",height:"60vh",maxHeight:"580px",minHeight:"580px",width:"700px"}}getPrimaryActionTooltip(e){return e?"Get online to perform this action":this.state.testSuiteName?void 0:"Give the collection a name to continue"}render(){const e=!(0,h.resolveStoreInstance)(g.default).isSocketConnected,t=e||!this.state.testSuiteName||this.state.isCreating,n=this.getPrimaryActionTooltip(e);return s.createElement(p.Modal,{className:"create-test-suite-entity-modal",isOpen:this.props.isOpen,onRequestClose:this.handleClose,customStyles:this.applyCustomStyle()},s.createElement(p.ModalHeader,null,"Create collection"),s.createElement(p.ModalContent,null,s.createElement(r.default,{direction:"column",width:"100%",justifyContent:"space-between",height:"100%",gap:"spacing-l"},this.renderContent(),s.createElement(a.default,null,"Note: This API test collection will inherit roles from the API. "," ",s.createElement(l.default,{onClick:()=>(0,I.manageRolesOnAPI)(this.props.apiId),type:"monochrome-plain",text:"View API roles"})))),s.createElement(p.ModalFooter,null,s.createElement("div",{className:"actions"},s.createElement(d.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleClose},"Cancel"),s.createElement(d.Button,{className:"action-button__generate",type:"primary",onClick:this.handleCreate,disabled:t,tooltip:n},this.state.isCreating?s.createElement(c.default,null):"Create Collection"))))}})||o},"./api-dev/components/api-version/test/Services/CollectionRunService.js":function(e,t,n){"use strict";n.r(t);var o=n("./runtime-repl/runner/datastores/controllers/CollectionRunController.js"),s=n("./node_modules/moment/moment.js"),i=n.n(s),a=n("./node_modules/lodash/lodash.js");function r(e){return e.startedAt?e.startedAt:i()(e.createdAt).subtract(e.meta.totalTime,"milliseconds").toISOString()}t.default={getCollectionRunPayload:e=>a.isEmpty(e)?Promise.resolve({lastRuns:[],runs:[]}):o.default.getAll({id:e}).then((e=>{const t=[],n=[];return a.each(e,(e=>{const o=function(e){const t=[];return a.each(e,(e=>{a.each(e,(e=>{a.each(a.get(e,"tests",[]),(e=>{("fail"===a.get(e,"status")||a.get(e,"error"))&&t.push(a.get(e,"name")||a.get(e,"error.message"))}))}))})),t}(a.get(e,"iterations",[]));t.push(function(e){return{passed:!(a.get(e,"failedTestCount")>0),failedTestCount:a.get(e,"failedTestCount"),totalTestCount:a.get(e,"totalTestCount"),passedTestCount:a.get(e,"totalTestCount",0)-a.get(e,"failedTestCount",0),updatedAt:r(e)}}(e)),n.push(function(e,t){return{totalTestCount:a.get(e,"totalTestCount"),failedTestCount:a.get(e,"failedTestCount"),passedTestCount:a.get(e,"totalTestCount",0)-a.get(e,"failedTestCount",0),status:a.get(e,"status"),lastUpdated:r(e),id:a.get(e,"id"),logs:t}}(e,o||[]))})),Promise.resolve({lastRuns:t,runs:n})})).catch((e=>Promise.reject({errorDetails:e})))}},"./api-dev/components/api-version/test/Services/DateUtil.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/integrationRunsListing/utils/utils.js");t.default={getFormattedTime(e){let t=i.default.format(e,!0);return t.length>0&&(t=t.split(",")[1]+", "+t.split(",")[0]),t},timeDifference(e,t){var n=6e4,o=36e5,i=864e5,a=e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*n-e.getHours()*o-(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*n-t.getHours()*o);return 0==a/i?"Today":a/i==1?"Yesterday":s().round(a/i)+" days ago"},getRelativeTime(e){let t=new Date,n=new Date(e),o=n.getHours()%12||12,s=n.getMinutes()<10?`0${n.getMinutes()}`:n.getMinutes(),i=n.getHours()<12?"am":"pm";return`${this.timeDifference(t,n)}, ${o<10?`0${o}`:o}:${s}${i}`}}},"./api-dev/components/api-version/test/TestSuite/TestSuite.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/stores/APIListStore.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("./js/services/NavigationService.js"),d=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/NameCell/NameCell.js"),u=n("./api-dev/components/api-version/test/Components/LastUpdatedCell.js"),p=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/ValidationCell/ValidationCell.js"),m=n("./api-dev/components/api-version/common/APIEntityTable/TableCells/LastRunResultsCell/LastRunResultsCell.js"),h=n("./api-dev/components/api-version/common/APIEntitySection/APIEntitySection.js"),g=n("./api-dev/components/api-version/test/Components/TestTabTable.js"),f=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),b=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),y=n("./api-dev/components/api-version/test/CreateTestSuiteEntityModal/CreateTestSuiteEntityModal.js"),v=n("./api-dev/components/api-version/common/APIEntityActions/APIEntityActions.js"),I=n("./api-dev/components/api-version/test/test-section/TestAction/TestActions.js"),E=n("./js/constants/AppUrlConstants.js"),_=n("./api-dev/constants/Permissions.js"),S=n("./js/modules/services/AnalyticsService.js"),C=n("./js/stores/SyncStatusStore.js"),T=n("./js/stores/StoreManager.js"),j=n("./js/stores/CurrentUserStore.js"),A=n("./api-dev/util/TooltipText.js"),w=n("./api-dev/util/storeHelper.ts"),O=n("./api-dev/services/APIDevService.js"),N=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),D=n("./integrations/ci-cd/constants.ts"),R=n("./api-dev/constants/APITabModes.js"),P=n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),M=n("./api-dev/interfaces/APIInterface.js"),L=n("./api-dev/util/error.js"),x=n("./appsdk/components/link/Link.js"),k=n("./runtime-repl/_common/NavigationConstants.js"),F=n("./runtime-repl/collection/_api/CollectionInterface.js"),V=n("./runtime-repl/transient-collection/_api/TransientCollectionInterface.ts"),B=n("./api-dev/components/api/api-tab/tiles/Collections/AddCollectionCTA.js"),U=n("./node_modules/lodash/lodash.js");async function z(){const e=await(0,O.getWorkspaceId)(),t=await(0,N.getMeta)(e),n=U.chain(t).get("list").map((e=>{const t=U.pick(e,["id","name","forkLabel"]);return t.fromWorkspace=!0,t})).value(),o=U.get(this.props.model,"unclassifiedCollectionsOnBranch")&&this.props.model.unclassifiedCollectionsOnBranch();return U.concat(n,o)}let H=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showAddEntityModal:!1,showDeleteModal:!1,relationToBeDeleted:null,showCreateTestSuiteModal:!1,isRemovingCollection:!1},this.openCreateTestSuiteModal=this.openCreateTestSuiteModal.bind(this),this.closeCreateTestSuiteModal=this.closeCreateTestSuiteModal.bind(this),this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.handleCreate=this.handleCreate.bind(this),this.addRelation=this.addRelation.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleDeleteRelation=this.handleDeleteRelation.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.handleOptionSelect=this.handleOptionSelect.bind(this),this.renderTestSuiteSection=this.renderTestSuiteSection.bind(this),this.renderAddTestSuiteOptions=this.renderAddTestSuiteOptions.bind(this),this.getCollectionTabNavigationObject=this.getCollectionTabNavigationObject.bind(this)}openCreateTestSuiteModal(){S.default.addEventV2({category:"test",action:"initiate_create",label:"api_test",value:1,entityId:U.get(this.props,"model.tests.apiId")}),this.setState({showCreateTestSuiteModal:!0})}closeCreateTestSuiteModal(){this.setState({showCreateTestSuiteModal:!1})}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal},(()=>{U.invoke(this.rightOverlayModalRef,"focus")}))}handleCreate(e){return S.default.addEventV2({category:"test",action:"confirm_create",label:"create_test_from_schema",value:1,entityId:U.get(this.props,"model.tests.apiId")}),U.get(this.props.model,"schema.isSchema")?Object.assign(e,{schemaId:U.get(this.props.model,"schema.schemaId")}):Object.assign(e,{apiDefinitionId:U.get(this.props.model,"schema.apiDefinitionId")}),U.get(this.props,"promoteTab")&&U.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.tests.createAndAddRelationToAPIVersion(e)}async addRelation(e){return this.props.model.tests.addRelation(e).then((e=>{U.get(this.props,"promoteTab")&&U.isFunction(this.props.promoteTab)&&this.props.promoteTab(),e&&this.handleToggleAddEntityModal(),pm.windowEvents.emit(`${D.CI_CD_BUILDS}-test-suite-linked`,{apiId:U.get(this.props,"model.apiId",""),apiVersionId:U.get(this.props,"model.id","")})}))}toggleDeleteModal(){this.setState((e=>({showDeleteModal:!e.showDeleteModal})))}handleRemove(e){if(null==e||!e.modelId||null==e||!e.name)return pm.logger.error("RemoveCollectionFromAPI~handleRemoveCollection: Params missing for collection in API"),pm.toasts.error("Couldn't delete collection. Please try again.");const t=(0,w.getRemoteGitConfiguredStatus)(this.props.model),n={name:e.name,isAPIExclusive:!0};return t?V.default.destroy(e.modelId).catch((t=>{(0,L.handleError)(t),pm.logger.error("RemoveCollectionFromAPI~handleRemoveCollection: Error occurred while removing collection "+e.modelId,t)})):(0,F.deleteCollection)(null==e?void 0:e.modelId,n).catch((t=>{(0,L.handleError)(t),pm.logger.error("RemoveCollectionFromAPI~handleRemoveCollectionFromAPI: Error occurred while removing collection "+e.modelId,t)}))}handleDeleteRelation(){const e=U.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured");if(this.setState({isRemovingCollection:!0}),e){const e=U.get(this.state.relationToBeDeleted,"id"),t=U.get(this.state.relationToBeDeleted,"path");try{U.get(this.props.model,"apiRepositoryStore.entityHandlers.collections.onCollectionFileDelete")&&U.isFunction(this.props.model.apiRepositoryStore.entityHandlers.collections.onCollectionFileDelete)&&this.props.model.apiRepositoryStore.entityHandlers.collections.onCollectionFileDelete(t,e)}catch(e){(0,L.handleError)(e)}finally{this.toggleDeleteModal(),this.setState({isRemovingCollection:!1})}}const t=U.get(this.state.relationToBeDeleted,"relationType");return this.props.model[t]&&this.props.model[t].deleteRelation(this.state.relationToBeDeleted).then((e=>{e&&this.toggleDeleteModal(),U.get(this.props,"promoteTab")&&U.isFunction(this.props.promoteTab)&&this.props.promoteTab()})).finally((()=>{this.setState({isRemovingCollection:!1})}))}async handleOptionSelect(e){if(!(0,T.resolveStoreInstance)(j.default).isLoggedIn)return pm.mediator.trigger("showSignInModal",{type:"addTestSuite",origin:"api_builder_add_test_suite_button",continueUrl:new URL(window.location.href)});await(0,M.migrateAPI)(this.props.model.apiId,this.props.model.id),"create_new"===e?this.openCreateTestSuiteModal():this.handleToggleAddEntityModal()}getCollectionTabNavigationObject(e){return{routeIdentifier:"collection.openWithWsSelect",routeParams:{cid:e}}}navigateToCollectionTab(e){var t,n,o,s,i,r;if(U.get(this.props,"model.mode")===R.FEATURE_BRANCH_MODE)return this.props.model.tests.openCollectionInTab(e);const l=null===(t=this.props.model)||void 0===t?void 0:t.apiId,d=l&&(null===(n=(0,T.resolveStoreInstance)(a.default))||void 0===n||null===(o=n.find)||void 0===o||null===(s=o.call(n,l))||void 0===s?void 0:s.isMigrated),u="builder"===(null===(i=this.props.model)||void 0===i||null===(r=i.apiMode)||void 0===r?void 0:r.name);return null!=e&&e.modelId&&d&&u?c.default.transitionTo(k.WORKFLOW_IDENTIFIER.OPEN_COLLECTION_IN_API_CONTEXT,{cid:null==e?void 0:e.modelId,apiId:l}):void 0}renderTestSuiteSection(e){const t=U.get(this.props.model,"mode")===R.FEATURE_BRANCH_MODE,n=U.get(this.props.model,"apiEditorUIStore.isWindowShrunk")?"shrinked":null,o=[{key:"name",val:"Name",class:`test-suite-name ${n}`,tooltip:"Name"},{key:"lastRun",val:"Last run results",class:`test-suite-last-run ${n}`,tooltip:"Last run results"},{key:"updatedAt",val:"Last run date",class:`test-suite-last-updated ${n}`,tooltip:"Last updated"},{key:"actions",val:"",class:`${n}`}],i={name:(e,t,n)=>{let o={link:n,analyticEventLabel:"test",entityId:U.get(this.props,"model.tests.apiId")};return s.createElement(d.default,{icon:"icon-entity-collection-stroke",cellInfo:e,action:o,navigationIntentObject:this.getCollectionTabNavigationObject(t.modelId),onClick:()=>this.navigateToCollectionTab(t),promoteTab:U.get(this.props,"promoteTab")})},lastRun:(e,t)=>s.createElement(m.default,{entity:t,model:this.props.model}),updatedAt:(e,t)=>s.createElement(u.default,{entity:t}),validation:(e,t)=>s.createElement(p.default,{cellInfo:e,entity:t,canValidateRelation:U.get(this.props.model,"apiPermissionStore.canValidateAPIRelation"),apiEditorUIStore:U.get(this.props.model,"apiEditorUIStore"),store:this.props.model.tests,promoteTab:U.get(this.props,"promoteTab"),isAPIDeleted:U.get(this.props,"model.isAPIDeleted")}),actions:(e,t)=>s.createElement(v.default,{isWindowShrunk:U.get(this.props,"model.apiEditorUIStore.isWindowShrunk"),entityType:"Test",entity:t,onRemoveEntity:this.handleRemove,canRemoveEntity:U.get(this.props.model,"apiPermissionStore.canRemoveMock"),actionComponent:s.createElement(I.default,{testActions:t}),isAPIDeleted:U.get(this.props,"model.isAPIDeleted")})};return t?s.createElement(g.default,{isOpen:e,headers:o,content:U.get(this.props.model,"apiRepositoryStore.entityHandlers.collections.transientCollectionStores")&&this.props.model.apiRepositoryStore.entityHandlers.collections.collectionsOnBranch(),cells:i,windowStatus:n,branch:U.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.git.branch")}):U.isEmpty(this.props.model.collectionBasedRelations)?s.createElement(r.default,{padding:"spacing-l spacing-zero spacing-xxl spacing-xs",className:"api-test-suite__blankstate"},s.createElement(l.default,{type:"para"},"Test your API endpoints for specific behaviours. Learn more about how to",s.createElement(x.default,{to:E.API_TEST_SUITE_DOCS_URL,target:"_blank"},s.createElement(l.default,{type:"link-default",isExternal:!0},"test APIs with Postman")))):s.createElement(g.default,{isOpen:e,headers:o,content:this.props.model.collectionBasedRelations,cells:i,windowStatus:n})}getDisabledText(e,t,n){if(!t)return;const o=U.get(this.props,"model.isAPIDeleted")&&_.DELETED_API_DISABLED_TEXT;if("create_new"===e&&!n){if(!U.get(this.props,"model.schema.content"))return"To create new collection, add a schema in your API";if(!U.get(this.props,"model.schema.isSchemaValid"))return"Add a valid schema to create new collection from it."}return(0,A.default)(t,n,o)}getAddTestSuiteOptions(){const e=!(0,T.resolveStoreInstance)(C.default).isSocketConnected,t=U.get(this.props,"model.isAPIDeleted"),n=U.get(this.props.model,"apiPermissionStore.canAddTest"),o=e||!n||t,s=U.get(this.props,"model.apiPermissionStore.canGenerateCollection");return[{action:"create_new",name:"Create new collection",isDisabled:e||!s||!U.get(this.props,"model.schema.content")||!U.get(this.props,"model.schema.isSchemaValid")||t,hasPermission:s},{action:"add_existing",name:"Add existing collection",isDisabled:o,hasPermission:n}]}renderAddTestSuiteOptions(){return s.createElement(B.default,{model:this.props.model,editor:U.get(this.props.model,"apiEditorUIStore"),eventLabel:"test_automate"})}render(){return s.createElement("div",{id:"entity-testsuite"},s.createElement(h.default,{title:"Collections",actionTitle:"Add Collection",onAddEntity:this.handleToggleAddEntityModal,renderSectionContent:e=>this.renderTestSuiteSection(e),renderDropdown:this.renderAddTestSuiteOptions}),this.state.showAddEntityModal&&s.createElement(f.default,{apiId:this.props.model.tests.apiId,apiVersionId:this.props.model.tests.versionId,isOpen:this.state.showAddEntityModal,title:"Add a collection to this API",type:"test",label:"Select a collection to add",buttonLabel:"Add Collection",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,isLoadingAddRelation:this.props.model.tests.isLoadingAddRelation,getEntities:z.bind(this),placeholder:"Select a Collection",emptyStateText:"There are collections in this workspace"}),s.createElement(b.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove collection from API?",subTitle:this.props.model.tests.apiName,content:s.createElement(P.default,{type:"relation",relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"test"}}),btnContent:"Remove Collection",onSubmit:this.handleDeleteRelation,isLoading:this.props.model.tests.isLoadingDeleteRelation||this.state.isRemovingCollection}),s.createElement(y.default,{isOpen:this.state.showCreateTestSuiteModal,onClose:this.closeCreateTestSuiteModal,onCreate:this.handleCreate,schemaFormat:U.get(this.props,"model.schema.schemaFormat"),advancedOptions:U.get(this.props,"model.schema.advancedOptions"),apiVersionId:U.get(this.props,"model.id",""),apiId:U.get(this.props,"model.apiId","")}))}})||o},"./api-dev/components/api-version/test/test-section/RunTest/RunTest.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-run-stroke.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/SyncStatusStore.js"),c=n("./api-dev/util/TooltipText.js"),d=n("./api-dev/util/RunTestActions.js"),u=n("./node_modules/lodash/lodash.js");const p=(0,a.default)(s.default)`
  & i, span {
    visibility: inherit !important;
  }
`;class m extends o.Component{constructor(e){super(e)}render(){const e=u.get(this.props.testActions,"modelId"),t=!(0,r.resolveStoreInstance)(l.default).isSocketConnected;return o.createElement(p,{type:"tertiary",onClick:()=>(0,d.getRunnerTab)(e),className:"run-test-btn",text:"Run",icon:o.createElement(i.default,null),isDisabled:t,tooltip:(0,c.default)(t,!1)})}}},"./api-dev/components/api-version/test/test-section/TestAction/TestActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./js/components/base/Buttons.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/SyncStatusStore.js"),c=n("./api-dev/constants/APIEntityActionsConstants.js"),d=n("./api-dev/util/TooltipText.js"),u=n("./node_modules/lodash/lodash.js");let p=(0,s.observer)(o=class extends i.Component{constructor(e){super(e)}render(){const e=!(0,r.resolveStoreInstance)(l.default).isSocketConnected;return u.map(c.API_ENTITY_ACTIONS.testActions.buttons,(t=>i.cloneElement(t,{testActions:this.props.testActions,onRender:(t,n,o,s)=>i.createElement(a.Button,{className:o,type:s,onClick:n,tooltip:(0,d.default)(e,!1),disabled:e},t)})))}})||o},"./api-dev/components/api/APIEditors/APIEditor/APIEditor.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n("../../node_modules/react/index.js"),s=n("./js/utils/util.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Avatar/Avatar.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("./appsdk/components/link/Link.js"),c=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const d=(0,c.default)(i.default)`
    cursor: pointer;
  `,u=(0,c.default)(a.default)`
    min-width: 0;
  `;class p extends o.Component{constructor(e){super(e)}render(){const{editor:e,currentUserStore:t}=this.props,n=s.default.getUserNameForId(e.id,t),i=`${pm.dashboardUrl}/users/${e.id}`;return o.createElement(l.default,{to:i},o.createElement(r.default,{direction:"row",gap:"spacing-s",alignItems:"center"},o.createElement(d,{tooltip:n,userId:e.id,src:e.profilePicUrl,size:"s"}),o.createElement(u,{color:"content-color-primary"},o.createElement(a.default,{type:"link-subtle",isTruncated:!0},n))))}}},"./api-dev/components/api/APIEditors/APIEditorsList/APIEditorsList.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("./js/stores/StoreManager.js"),a=n("./js/stores/CurrentUserStore.js"),r=n("./api-dev/components/api/APIEditors/APIEditor/APIEditor.js"),l=n("./js/components/base/LoadingIndicator.js"),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("./node_modules/lodash/lodash.js");const u=(0,c.observer)((e=>{const t=(0,i.resolveStoreInstance)(a.default),n=d.get(e,"viewMode.name"),c=d.get(e,"model.isMetaDataLoading",!1),u=d.get(e,"model.editors",[]);return"network"===n?null:c?o.createElement(l.default,null):o.createElement(s.default,{direction:"column",gap:"spacing-s"},d.map(u,(e=>o.createElement(r.default,{currentUserStore:t,editor:e,key:e.id}))))}));t.default=u},"./api-dev/components/api/APIRepositoryConnectedDropdown/APIRepositoryConnectedDropdown.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),c=n("./js/components/base/Dropdowns.js"),d=n("./js/components/base/Buttons.js"),u=n("./js/services/NavigationService.js"),p=n("./js/stores/ActiveWorkspaceStore.js"),m=n("./js/stores/StoreManager.js"),h=n("./js/stores/CurrentUserStore.js"),g=n("./appsdk/components/link/Link.js"),f=n("./api-dev/util/versionNavigator.js"),b=n("./api-dev/constants/APIRepositoryConstants.js"),y=n("./node_modules/lodash/lodash.js");let v=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isOpen:!1},this.handleConnectRepoRequest=this.handleConnectRepoRequest.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this),this.closeDropdown=this.closeDropdown.bind(this),this.renderVersionStatus=this.renderVersionStatus.bind(this)}handleConnectRepoRequest(e){const t=e.id,n=this.props.model.id,o=this.props.model.repositoryServiceProvider;if(!(0,m.resolveStoreInstance)(h.default).isLoggedIn)return void pm.mediator.trigger("showSignInModal",{type:"APIRepositoryConnect",origin:"api_builder_connect_repository_button",continueUrl:new URL(window.location.href)});(0,m.resolveStoreInstance)(p.default).isMember?(y.isFunction(this.props.promoteTab)&&this.props.promoteTab(),u.default.transitionTo("build.connectAPIRepository",{apiId:n,gitService:o},{version:t})):pm.mediator.trigger("openUnjoinedWorkspaceModal")}closeDropdown(){const e=y.get(this.refs,"dropdownRef.__wrappedInstance");e&&e.toggleDropdown&&e.closeDropdown(),this.setState({isOpen:!1})}toggleDropdown(){this.setState((e=>({isOpen:!e.isOpen})))}renderVersionStatus(e){if(e.repoLinkId===b.API_REPO_INTEGRATION_ERROR_STATE)return s.createElement("span",{className:"versions-menu-right--error"},"Unable to load.",s.createElement(a.default,{className:"versions-menu-right--navigate",type:"link-default"},s.createElement(g.default,{onClick:()=>this.props.model.fetchVersionIntegrationDetails(e)},"Try again")));if(e.invalidTokenError===b.API_REPO_INTEGRATION_INVALID_TOKEN_ERROR_STATE)return s.createElement("span",{className:"versions-menu-right--error"},"Authorization error.",s.createElement(a.default,{className:"versions-menu-right--navigate",type:"link-default"},s.createElement(g.default,{onClick:()=>(0,f.default)(e.id,this.props.model.id)},"View version")));if(e.integrationStatus===b.API_REPO_INTEGRATION_LOCKED_ERROR_STATE)return s.createElement("span",{className:"versions-menu-right--error"},"Integration blocked.",s.createElement(a.default,{className:"versions-menu-right--navigate",type:"link-default"},s.createElement(g.default,{onClick:()=>(0,f.default)(e.id,this.props.model.id)},"View version")));const t=y.get(e,"developmentBranchName"),n=y.get(this.props,"model.repositoryName"),o=y.get(e,"developmentBranchLink");return t?s.createElement("div",{className:"versions-menu-right--branch"},s.createElement(a.default,{type:"link-subtle",className:"versions-menu-right--branch--text"},s.createElement(g.default,{to:o,target:"_blank"},s.createElement(a.default,{isTruncated:!0},n,"/",t)))):s.createElement(g.default,{className:"dropdown-menu-item-label versions-menu-right versions-menu-right--btn",onClick:()=>this.handleConnectRepoRequest(e)},"Connect Repository")}render(){const e=y.get(this.props,"model.repositoryName"),t=y.get(this.props,"model.repositoryOrg");return s.createElement("div",{className:"versions-repo-options"},s.createElement(c.Dropdown,{onToggle:this.toggleDropdown,ref:"dropdownRef",keyMapHandlers:{quit:this.closeDropdown}},s.createElement(c.DropdownButton,{dropdownStyle:"nocaret"},s.createElement(d.Button,{className:"versions-repo-options__button",type:"tertiary"},s.createElement("div",{className:"versions-repo-options__button__repo-icon"},s.createElement(l.default,{name:"icon-entity-repo-stroke",color:"content-color-tertiary"})),s.createElement(r.default,{content:`${t}/${e}`,placement:"bottom"},s.createElement("div",{className:"versions-repo-options__button__text"},`${t}/${e}`)),s.createElement("span",{className:"versions-repo-options__button__icons"},s.createElement(l.default,{name:"icon-direction-"+(this.state.isOpen?"up":"down"),className:"versions-repo-options__button__icons__item"})))),s.createElement(c.DropdownMenu,{className:"versions-repo-options-menu","align-right":!0},s.createElement("div",{className:"versions-menu"},s.createElement("span",{className:"versions-menu-left versions-menu-left--heading"},"Version"),s.createElement("span",{className:"versions-menu-right versions-menu-right--heading"},"Repo/branch")),s.createElement("div",{className:"versions-menu__content"},y.map(this.props.model.versions,(e=>s.createElement("div",{key:e.id,refKey:e.id,className:"versions-menu",onClick:this.closeDropdown},s.createElement("div",{className:"versions-menu-left"},s.createElement(a.default,{isTruncated:!0},e.name)),this.renderVersionStatus(e))))))))}})||o},"./api-dev/components/api/AddCollectionToAPI/AddCollectionToAPI.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),d=n("./api-dev/services/APIDevService.js"),u=n("./js/stores/StoreManager.js"),p=n("./api-dev/stores/APIListStore.js"),m=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),h=n("./api-dev/util/error.js"),g=n("./js/components/base/LoadingIndicator.js"),f=n("../../packages/version-control/change-management/index.ts"),b=n("./js/modules/services/AnalyticsService.js"),y=n("./api-dev/interfaces/APIInterface.js"),v=n("./runtime-repl/collection/_api/CollectionInterface.js"),I=n("./api-dev/constants/APITabModes.js"),E=n("./node_modules/lodash/lodash.js");function _(e){const{label:t,forkLabel:n,id:a}=e;return o.createElement(s.default,{grow:1,shrink:1,minWidth:"0px",alignItems:"center",gap:"spacing-s"},o.createElement(i.default,{isTruncated:!0},t),n&&o.createElement(f.ForkLabel,{forkDetails:{id:a,label:n,type:"collection",parent:{}},disableTooltip:!0}))}class S extends o.Component{constructor(e){super(e),this.state={selectedCollections:null,collections:[],isFetchingCollections:!1,isCreatingCollections:!1,errorFetchingCollections:!1},this.handleCollectionSelection=this.handleCollectionSelection.bind(this),this.fetchCollectionsInWorkspace=this.fetchCollectionsInWorkspace.bind(this),this.handleAddCollectionsToAPI=this.handleAddCollectionsToAPI.bind(this),this.addExistingCollectionInBranch=this.addExistingCollectionInBranch.bind(this),this.addExistingCollectionInAPIWorkbench=this.addExistingCollectionInAPIWorkbench.bind(this),this.fetchVersionId=this.fetchVersionId.bind(this)}componentDidUpdate(e){this.props.showAddCollectionsModal&&this.props.showAddCollectionsModal!==e.showAddCollectionsModal&&this.fetchCollectionsInWorkspace()}async fetchCollectionsInWorkspace(){this.setState({isFetchingCollections:!0,errorFetchingCollections:!1});try{const e=await(0,d.getWorkspaceId)(),t=await(0,m.getMeta)(e),n=E.chain(t).get("list").map((e=>E.pick(e,["id","name","forkLabel"]))).value(),o=E.keyBy(n,"id");let s=[];E.isEmpty(o)||(s=await d.default.checkConstraintsForRelationLink(this.props.apiId,this.fetchVersionId(),"unclassified",E.keys(o)));const i=E.reduce(o,(function(e,t,n){return E.find(s,(e=>e.entityId===n&&!0===e.allowed))&&e.push({value:n,label:o[n].name,forkLabel:o[n].forkLabel,id:o[n].id}),e}),[]);this.setState({collections:E.sortBy(i,["label"]),isFetchingCollections:!1,errorFetchingCollections:!1})}catch(e){(0,h.handleError)(e),this.setState({errorFetchingCollections:!0,isFetchingCollections:!1})}}handleCollectionSelection(e){this.setState((t=>({selectedCollections:e})))}fetchVersionId(){const e=(0,u.resolveStoreInstance)(p.default).find(this.props.apiId);return E.get(e,"childEntities.values.0.id")}async addExistingCollectionInBranch(e){const t=this.props.apiId,n=await(0,m.cloneCollection)(e,{format:"2.1.0"});return(0,y.addCollectionOnBranch)(t,"unclassified",n).then((async e=>{const n=(null==e?void 0:e.id)||(null==e?void 0:e.modelId),o={branch:E.get(this.props.model,"apiMode.value"),collection:n},s={type:"api",id:t};return(0,v.openCollectionInTab)(n,{tabOptions:{forceNew:!0},focusContext:"info"},s,o)}))}async addExistingCollectionInAPIWorkbench(e){var t;const n=this.props.apiId,o=null===(t=this.props.model)||void 0===t?void 0:t.id;return(0,v.duplicateCollectionInAPI)(e,{type:"api",id:n,apiVersionId:o,relation:"unclassified"},{origin:"api-overview",openCollectionInTabOptions:{tabOptions:{forceNew:!0}},suffix:""})}async handleAddCollectionsToAPI(){const e=E.get(this.state,"selectedCollections.value"),t=(await(0,y.getAPI)(this.props.apiId)).version.apiRepositoryStore;if(!t.canEditAPISource.allowed)return this.props.toggleShowAddCollectionsModal(),void t.openEditDisabledModal();this.setState({isCreatingCollections:!0});try{b.default.addEventV2({category:"builder"===E.get(this.props,"mode.name")?"collection-non-git-linked":"collection-git-linked",action:"copy-collection-to-api",entityId:E.get(this.state,"selectedCollections.value")})}catch(e){pm.logger.error("AddCollectionToAPI~handleAddCollectionsToAPI Error while sending analytics events",e)}if(this.props.isAPISidebarMode){try{await this.props.onAddExistingCollectionToAPI(E.get(this.state,"selectedCollections.value"))}catch(e){pm.logger.error("AddCollectionToAPI~handleAddCollectionsToAPI Error while adding collection to API",e)}this.setState({isCreatingCollections:!1})}else try{const t=E.get(this.props.model,"apiMode.name")===I.BRANCH_VIEW,n=E.get(this.props.model,"apiMode.name")===I.BUILDER_VIEW;t&&await this.addExistingCollectionInBranch(e),n&&await this.addExistingCollectionInAPIWorkbench(e)}catch(e){(0,h.handleError)(e)}finally{this.setState({isCreatingCollections:!1,selectedCollections:null}),this.props.toggleShowAddCollectionsModal()}}render(){const e=!this.state.isFetchingCollections&&!this.state.errorFetchingCollections;return o.createElement(a.Modal,{isOpen:this.props.showAddCollectionsModal,size:"small",onClose:()=>this.props.toggleShowAddCollectionsModal()},o.createElement(a.ModalHeader,{heading:"Copy an existing collection to this API"}),o.createElement(a.ModalContent,null,this.state.isFetchingCollections&&o.createElement("div",{className:"add-collection-to-api__loader"},o.createElement(g.default,null)),this.state.errorFetchingCollections&&o.createElement(s.default,{direction:"column",gap:"spacing-m",alignItems:"center"},o.createElement(r.default,null),o.createElement(l.default,{type:"primary",text:"Try again",onClick:()=>this.fetchCollectionsInWorkspace()})),e&&o.createElement(c.default,{onChange:this.handleCollectionSelection,options:this.state.collections,value:this.state.selectedCollections,customOptionComponent:_,label:"Collection",placeholder:"Select collection",isSearchable:!0,menuPlacement:"bottom-start",menuMaxHeight:240,isClearable:!0,viaPortal:!0})),o.createElement(a.ModalFooter,null,o.createElement(s.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-s"},o.createElement(l.default,{type:"secondary",text:"Cancel",onClick:()=>this.props.toggleShowAddCollectionsModal()}),o.createElement(l.default,{type:"primary",text:"Copy Collection",isLoading:this.state.isCreatingCollections,isDisabled:E.isNull(this.state.selectedCollections),onClick:()=>this.handleAddCollectionsToAPI()}))))}}},"./api-dev/components/api/RemoveCollectionFromAPI/RemoveCollectionFromAPI.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("./js/stores/StoreManager.js"),c=n("./api-dev/stores/APIListStore.js"),d=n("./api-dev/util/error.js"),u=n("./node_modules/lodash/lodash.js");class p extends o.Component{constructor(e){super(e),this.state={isRemovingCollection:!1},this.handleRemoveCollectionFromAPI=this.handleRemoveCollectionFromAPI.bind(this),this.fetchVersionId=this.fetchVersionId.bind(this)}fetchVersionId(){const e=(0,l.resolveStoreInstance)(c.default).find(this.props.apiId);return u.get(e,"childEntities.values.0.id")}handleRemoveCollectionFromAPI(){const e={type:"unclassified",model:"collection",id:u.get(this.props,"collectionToRemove.id"),name:u.get(this.props,"collectionToRemove.name"),versionTag:null,fromWorkspace:!0},t=u.get(this.props,"collectionToRemove.relationType");this.setState({isRemovingCollection:!0});if(u.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured")){const e=u.get(this.props,"collectionToRemove.id"),t=u.get(this.props,"collectionToRemove.path");try{u.get(this.props.model,"apiRepositoryStore.entityHandlers.collections.onCollectionFileDelete")&&u.isFunction(this.props.model.apiRepositoryStore.entityHandlers.collections.onCollectionFileDelete)&&this.props.model.apiRepositoryStore.entityHandlers.collections.onCollectionFileDelete(t,e)}catch(e){(0,d.handleError)(e)}finally{this.props.toggleShowRemoveCollectionModal(),this.setState({isRemovingCollection:!1})}}this.props.model&&this.props.model[t]&&this.props.model[t].deleteRelation(e).catch((e=>{(0,d.handleError)(e)})).finally((()=>{this.props.toggleShowRemoveCollectionModal(),this.setState({isRemovingCollection:!1})}))}render(){return this.props.collectionToRemove?o.createElement(s.Modal,{isOpen:this.props.showRemoveCollectionModal,size:"small",onClose:()=>this.props.toggleShowRemoveCollectionModal()},o.createElement(s.ModalHeader,{heading:"Remove collection from this API?"}),o.createElement(s.ModalContent,null,o.createElement(i.default,{type:"para",color:"content-color-primary"},`Are you sure you want to remove ${this.props.collectionToRemove.name} collection from this API? Once removed, people will no longer inherit roles on this collection from this API.`)),o.createElement(s.ModalFooter,null,o.createElement(a.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-s"},o.createElement(r.default,{type:"secondary",text:"Cancel",onClick:()=>this.props.toggleShowRemoveCollectionModal()}),o.createElement(r.default,{type:"destructive",text:"Remove Collection",isLoading:this.state.isRemovingCollection,isDisabled:u.isNull(this.props.collectionToRemove),onClick:()=>this.handleRemoveCollectionFromAPI()})))):null}}},"./api-dev/components/api/ShareButton/ShareButton.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("./js/modules/services/ShareModalService.js"),l=n("./js/stores/SyncStatusStore.js"),c=n("./js/stores/StoreManager.js"),d=n("./api-dev/stores/APIListStore.js"),u=n("./api-dev/util/TooltipText.js"),p=n("./api-dev/services/APIPermissionService.js");t.default=e=>{const t=(0,c.resolveStoreInstance)(d.default),n=p.default.hasPermission(t.permissions,"share","api",e),s=!(0,c.resolveStoreInstance)(l.default).isSocketConnected,m=n&&!s,h=i()({"api-share-button":!0,"button-wrapper":!0});return o.createElement("div",null,o.createElement(a.default,{className:h,onClick:()=>function(e){(0,r.shareAPI)(e)}(e),type:"tertiary",icon:"icon-action-share-stroke",text:"Share",isDisabled:!m,tooltip:(0,u.default)(!m,!m)}))}},"./api-dev/components/api/SummaryEditor/SummaryEditor.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke-small.js"),a=n("./node_modules/prop-types/index.js"),r=n.n(a),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./js/components/base/InlineInput.js"),u=n("./node_modules/lodash/lodash.js");const p=({summary:e,tooltip:t,updateSummary:n,baseClassName:a,wordLimit:r,emptyState:l,errorMsg:p,className:m,canUpdateSummary:h})=>{const[g,f]=(0,o.useState)(!1),[b,y]=(0,o.useState)(!1),[v,I]=(0,o.useState)(e||""),[E,_]=(0,o.useState)(""),[S,C]=(0,o.useState)(!1),T=(0,o.useRef)(null);(0,o.useEffect)((()=>{T.current&&g&&T.current.startEditing()}),[g]),(0,o.useEffect)((()=>{I(e||"")}),[e]);const j=()=>{C(!1)},A=u.isEmpty(v);if(!h){const t="No summary added";return e?o.createElement("div",{className:a},o.createElement("span",{className:`${a}-no-edit`,"data-testId":`${a}-no-edit`},e)):o.createElement("div",{className:a},o.createElement(s.default,{color:"content-color-tertiary"},t))}return o.createElement("div",{className:c()(a,m)},o.createElement("div",{onClick:()=>{f(!0)},className:c()({[`${a}-edit-mode`]:!0,[`${a}-edit-mode-error`]:b})},o.createElement(d.default,{className:c()({[`${a}-text`]:!0,[`${a}-text-empty`]:A}),placeholder:l,editable:!0,ref:T,value:A?g?"":l:v,onChange:e=>{e.length>r?!b&&y(!0):b&&y(!1),I(e)},onSubmit:t=>{j();const o=e||"";if(t!==l&&t!==o){if(t.length>r)return y(!0),void T.current.toggleEdit();b&&y(!1),f(!1),n(t).then((e=>{e&&I(o)}))}else f(!1)},onToggleEdit:e=>{T.current&&(T.current.focus(),T.current.selectAll(),!e&&g&&f(!1))},disableTrim:!0,allowEmpty:!0})),g&&!b&&o.createElement("div",{className:c()({[`${a}-edit-mode-description`]:!0})},o.createElement("div",{className:c()({[`${a}-edit-mode-word-count`]:!0,[`${a}-edit-mode-word-count-error`]:b})},`${v.length}/${r}`)),b&&o.createElement("div",{className:`${a}-edit-mode-description-left`},o.createElement(i.default,{color:"content-color-error"})," ",o.createElement(s.default,{color:"content-color-error",type:"body-small"},p)))};p.defaultProps={wordLimit:140},p.propTypes={baseClassName:r().string,className:r().string,summary:r().string,updateSummary:r().func,wordLimit:r().number,emptyState:r().string,errorMsg:r().string},t.default=p},"./api-dev/components/api/api-tab/TabBody/TabBody.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/react-dom/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("./api-dev/registries/APITabTiles.js"),c=n("./api-dev/registries/APITabScreens.js"),d=n("./js/stores/StoreManager.js"),u=n("./js/stores/IntegrationsStore.js"),p=n("./node_modules/classnames/index.js"),m=n.n(p),h=n("./api-dev/constants/APITabModes.js"),g=n("./integrations/git/constants.js"),f=n("./api-dev/components/common/tab/Tile/Tile.js"),b=n("./js/components/empty-states/AetherCrashHandler.js"),y=n("./node_modules/lodash/lodash.js");let v=(0,a.observer)(o=class extends s.Component{constructor(e){super(e),this.integrationsStore=(0,d.resolveStoreInstance)(u.default),this.getTileClassName=this.getTileClassName.bind(this),this.state={isWindowShrunk:!1}}componentDidMount(){this.attachResizeListener()}attachResizeListener(){this.resizeObserver=new ResizeObserver((e=>{for(let t of e)t.target.clientWidth<=860?this.setState({isWindowShrunk:!0}):this.setState({isWindowShrunk:!1})}));let e=i.findDOMNode(this);this.resizeObserver&&this.resizeObserver.observe(e)}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}renderActionItem(e,t){const n=l.API_TILES[e][t].actionItem;return n&&s.createElement("div",null,s.createElement(n,{model:this.props.model,editor:this.props.editor}))}renderTileBody(e,t){const n=l.API_TILES[e][t].view;y.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured");let o=null,i=null,a={},r=y.get(this.props,"model.apiMode",{});return y.get(r,"name")===h.BUILDER_VIEW?(o=y.get(this.props,"model.apiId"),i=y.get(this.props,"model.id"),a={schemaId:y.get(this.props,"model.schemaId"),apiDefinitionId:y.get(this.props,"model.apiDefinitionId")}):y.get(r,"name")===h.BRANCH_VIEW&&(o=y.get(this.props,"model.apiId"),i=y.get(this.props,"model.id"),a={}),s.createElement("div",null,n&&s.createElement(n,{model:this.props.model,editor:this.props.editor,viewMode:r,apiId:o,apiVersionId:i,releaseId:null,entityMeta:a,isLoading:!y.get(this.props,"model.didStoreHydrateAtLeastOnce")}))}getClassesForTilePane(e){return m()({[`api-tab-body__default__${e}-pane`]:!0,["api-tab-body__default__"+(this.state.isWindowShrunk?"shrunk":"expanded")]:!0})}getClassesForScreens(e){return m()({"is-hidden":e!==this.props.model.apiEditorUIStore.activeScreen,"api-tab-body__screen":!0})}getClassesForDefaultView(){return m()({"is-hidden":!this.props.model.apiEditorUIStore.noActiveScreen,"api-tab-body__default":!0})}renderScreen(e){const t=c.SCREENS[e].view;return t?s.createElement("div",{className:this.getClassesForScreens(e)},s.createElement(r.default,{direction:"column"},s.createElement("div",{className:"api-tab-body__screen__back-btn"}),s.createElement("div",null,s.createElement(b.default,null,s.createElement(t,{model:this.props.model,editor:this.props.editor}))))):null}getDefaultOptions(e){let t=0;return y.reduce(l.API_TILES[e],(e=>(e.push(t),t++,e)),[])}shouldHideTile(e){const t=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured"),n=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.isStorageLimitReached"),o=y.isEmpty(y.get(this.props.model,"releases")),s=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.isUserAuthEmpty"),i=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.isIntegrationListingBlocked"),a=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.isIntegrationTypeSupported"),r=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.authCategory"),l=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.isTokenInvalid"),c=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.git.latestCommit.sha"),d=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.isServerUnreachable"),u=y.get(this.props,"model.apiRepositoryStore.canEditAPISource.allowed");return"connected-repository"===e?!t:"connect-repository"===e?t:!("published-versions"!==e||!o)||("api-discovery"===e&&!o||("user-auth-input"===e?!!i||(!a||(d?!!c:(!l||!t||r!=g.AUTH_CATEGORY.PAT_LOCAL)&&(!s||!t))):"usage-limit"===e?!!i||(!a||!n):"no-support"===e?!t||!i&&!!a:"collections"===e||"definition"===e?!(!t||u):void 0))}getTileClassName(e,t){const n=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.git.latestCommit.sha"),o=y.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.isServerUnreachable");return"user-auth-input"===t&&!n&&o?"":l.API_TILES[e][t].className?l.API_TILES[e][t].className:""}render(){return s.createElement("div",{className:"api-tab-body"},s.createElement(r.default,{direction:"row",wrap:"wrap",className:this.getClassesForDefaultView()},y.map(y.keys(l.API_TILES),(e=>s.createElement("div",{className:this.getClassesForTilePane(e)},y.map(y.keys(l.API_TILES[e]),(t=>s.createElement(b.default,null,s.createElement(f.default,{tileSide:e,headerText:l.API_TILES[e][t].title,actionItem:()=>this.renderActionItem(e,t),renderBody:()=>this.renderTileBody(e,t),shouldHide:this.shouldHideTile(t),className:this.getTileClassName(e,t)})))))))),s.createElement("div",null,y.map(y.keys(c.SCREENS),(e=>this.renderScreen(e)))))}})||o;t.default=v},"./api-dev/components/api/api-tab/tiles/AboutAPI/AboutAPI.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("./js/stores/StoreManager.js"),u=n("./js/stores/CurrentUserStore.js"),p=n("../../packages/documentation/documentation-core/index.js"),m=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),h=n("./api-dev/interfaces/APIInterface.js"),g=n("./api-dev/components/api/SummaryEditor/SummaryEditor.js"),f=n("./node_modules/lodash/lodash.js");const b=l.default.div`
  padding-bottom: var(--spacing-m);
`;let y=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.renderSummaryEditor=()=>{const e=(0,d.resolveStoreInstance)(u.default).isLoggedIn,t=f.get(this.props.model,"apiPermissionStore.canEditAPISummary",!1)&&e,n=!this.canUpdateDescription||(0,h.isVersionView)(),o="network"===f.get(this.props.model,"mode.view"),i=n||o?f.get(this.props.model,"api.summary",""):f.get(this.props.model,"apiModel.summary",""),a=!f.get(this.props.model,"api.description","");return!n&&!o||t?s.createElement("div",{className:"overview__about-api"},s.createElement(g.default,{baseClassName:"overview__meta-editor-summary",emptyState:"Add summary...",errorMsg:"Summary cant exceed 140 characters.",summary:i,updateSummary:e=>this.handleUpdateSummary(e),wordLimit:140,canUpdateSummary:t})):i?s.createElement(b,null,s.createElement(c.default,{color:i?"content-color-primary":"content-color-secondary"},i)):a?s.createElement("div",null,s.createElement(c.default,{color:i?"content-color-primary":"content-color-secondary"},"No summary added")):null},this.handleUpdateSummary=async e=>{try{await this.props.model.updateSummary(e)}catch(e){pm.toasts.error(f.get(e,"error.message")||"An error occurred while updating the API summary.")}},this.state={isEditingDescription:!1,isSavingDescription:!1,theme:pm.settings.getSetting("postmanTheme")},this.renderDescriptionEditor=this.renderDescriptionEditor.bind(this),this.setDescriptionEditMode=this.setDescriptionEditMode.bind(this),this.handleDescriptionEditClick=this.handleDescriptionEditClick.bind(this),this.handleDescriptionEditCancel=this.handleDescriptionEditCancel.bind(this),this.renderEditor=this.renderEditor.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.setDescriptionSaveStatus=this.setDescriptionSaveStatus.bind(this)}componentDidMount(){pm.settings.on("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}componentWillUnmount(){pm.settings.off("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}async handleUpdateDescription(e){f.get(this.props,"editor.promoteTab")&&this.props.editor.promoteTab();try{this.setDescriptionSaveStatus(!0),await this.props.model.updateDescription(e)}catch(e){pm.toasts.error("Something went wrong while updating the API description. Try again.")}finally{this.setDescriptionEditMode(!1),this.setDescriptionSaveStatus(!1)}}handleDescriptionEditClick(){this.canUpdateDescription&&this.setDescriptionEditMode(!0)}setDescriptionEditMode(e){this.setState({isEditingDescription:e})}setDescriptionSaveStatus(e){this.setState({isSavingDescription:e})}handleDescriptionEditCancel(){this.setDescriptionEditMode(!1)}renderEditor(){const e=!this.canUpdateDescription||(0,h.isVersionView)(),t="network"===f.get(this.props.model,"mode.view"),n=e||t?f.get(this.props.model,"api.description",""):f.get(this.props.model,"apiModel.description","");return this.state.isEditingDescription?s.createElement("div",{"data-testId":"overview__meta-description-editor"},s.createElement(p.DescriptionEditor,{description:n,entityType:"API",onCancel:this.handleDescriptionEditCancel.bind(this),onSave:this.handleUpdateDescription,placeholder:"Add description",showWysiwygOption:!0,isEntityLoading:this.state.isSavingDescription,isLoaderForDescriptionEnabled:!0})):s.createElement("div",{className:r()({overview__description__preview:this.canUpdateDescription}),"data-testId":"overview__meta-description-preview"},s.createElement(p.DescriptionPreview,{description:n,onEditButtonClick:this.handleDescriptionEditClick,onInputFieldClick:this.handleDescriptionEditClick,editable:!0,canEdit:this.canUpdateDescription,placeholder:!this.canUpdateDescription&&"No description",showEmptyPlaceholder:!0}))}renderDescriptionEditor(){const e=(0,d.resolveStoreInstance)(u.default).isLoggedIn;this.canUpdateDescription=f.get(this.props.model,"apiPermissionStore.canEditAPIDescription",!1)&&e;const t=!this.canUpdateDescription||(0,h.isVersionView)(),n="network"===f.get(this.props.model,"mode.view"),o=t||n?f.get(this.props.model,"api.description",""):f.get(this.props.model,"apiModel.description","");return!t&&!n||this.canUpdateDescription?s.createElement("div",{className:"overview__meta-editor-description"},this.renderEditor()):o?s.createElement(m.DocumentationProvider,{theme:this.state.theme},s.createElement(m.MarkdownViewer,{className:"description-preview__markdown",markdown:o})):null}render(){return s.createElement("div",null,this.renderSummaryEditor(),this.renderDescriptionEditor())}})||o},"./api-dev/components/api/api-tab/tiles/Collections/AddCollectionCTA.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var o,s=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("../../node_modules/react/index.js"),u=n("./js/modules/services/AnalyticsService.js"),p=n("./js/stores/StoreManager.js"),m=n("../../packages/api-design/api-definition-ui/index.js"),h=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),g=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),f=n("./api-dev/constants/APIActionsConstants.js"),b=n("./api-dev/constants/APITooltips.js"),y=n("./api-dev/interfaces/APIInterface.js"),v=n("./node_modules/lodash/lodash.js");let I=(0,c.observer)(o=class extends d.Component{constructor(e){super(e),this.state={collectionStore:null},this.openGenerateCollectionModal=this.openGenerateCollectionModal.bind(this),this.openAddCollectionsModal=this.openAddCollectionsModal.bind(this),this.handleAddNewCollection=this.handleAddNewCollection.bind(this)}componentDidMount(){const e=(0,p.resolveStoreInstance)(h.default).id;(0,g.subscribeMeta)(e).then((e=>{this.setState({collectionStore:e})})).catch((e=>{pm.logger.error("AddCollectionCTA-componentDidMount Failed to get collections in workspace",e)}))}componentWillUnmount(){var e;null===(e=this.state.collectionStore)||void 0===e||e.unsubscribe()}openGenerateCollectionModal(){pm.mediator.trigger("showAddCollectionToAPIModal",f.ACTION_TYPE_GENERATE_COLLECTION_FROM_DEFINITION,this.props.model.apiId,this.props.model.apiMode,{apiVersionId:this.props.model.id,definitionModel:this.props.model.schema}),u.default.addEventV2({category:"api_repo_integration_v2",entityId:v.get(this,"props.model.apiId"),action:"generate_collection",label:this.props.eventLabel||"overview",value:1})}openAddCollectionsModal(){u.default.addEventV2({category:"api_repo_integration_v2",entityId:v.get(this,"props.model.apiId"),action:"copy_collection",label:this.props.eventLabel||"overview",value:1});const e={category:"api_repo_integration_v2",entityId:v.get(this,"props.model.apiId"),action:"initiate_migration",label:"copy_collection",value:1};(0,y.migrateAPI)(this.props.model.apiId,this.props.model.id,e).then((({migratedAPIId:e,apiVersionId:t})=>{pm.mediator.trigger("showAddCollectionToAPIModal",f.ACTION_TYPE_COPY_EXISTING_COLLECTION,e,this.props.model.apiMode,{apiVersionId:t})})).catch(v.noop)}handleAddNewCollection(){u.default.addEventV2({category:"api_repo_integration_v2",entityId:v.get(this,"props.model.apiId"),action:"add_new_collection",label:this.props.eventLabel||"overview",value:1});const e={category:"api_repo_integration_v2",entityId:v.get(this,"props.model.apiId"),action:"initiate_migration",label:"add_collection",value:1};(0,y.migrateAPI)(this.props.model.apiId,this.props.model.id,e).then((({migratedAPIId:e,apiVersionId:t})=>{pm.mediator.trigger("showAddCollectionToAPIModal",f.ACTION_TYPE_CREATE_NEW_COLLECTION,e,this.props.model.apiMode,{apiVersionId:t})})).catch(v.noop)}render(){var e,t;const n=v.get(this.props,"model.apiPermissionStore.canAddCollection"),o=null===(e=this.state.collectionStore)||void 0===e||null===(t=e.list)||void 0===t?void 0:t.length,{generateCollectionDisabledMsg:c,isGenerateCollectionButtonDisabled:u}=(0,m.getGenerateCollectionIsDisabledAndMsg)(this.props.model.schema);return d.createElement("div",null,d.createElement(s.default,null,d.createElement(i.default,null,d.createElement(a.default,{tooltip:"Add a collection",icon:"icon-action-add-stroke",type:"tertiary"})),d.createElement(r.default,{placement:"bottom-end"},d.createElement(l.default,{isDisabled:0===o,onClick:this.openAddCollectionsModal,tooltip:0===o?b.NO_COLLECTIONS_IN_WORKSPACE_TO_COPY:null},"Copy existing collection"),d.createElement(l.default,{isDisabled:u,onClick:this.openGenerateCollectionModal,tooltip:c},"Generate from definition"),d.createElement(l.default,{onClick:this.handleAddNewCollection,isDisabled:!n,tooltip:n?"":"You don't have permission to add collection to this API."},"Add new collection"))))}})||o},"./api-dev/components/api/api-tab/tiles/Collections/Collections.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=(n("../../node_modules/mobx/lib/mobx.module.js"),n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js")),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke.js"),p=n("./js/stores/OnlineStatusStore.js"),m=n("./api-dev/components/api/AddCollectionToAPI/AddCollectionToAPI.js"),h=n("./js/components/base/Accordion/Accordion.js"),g=n("./documentation/components/APIDocumentationOverview/CollectionOverview.js"),f=n("./js/stores/StoreManager.js"),b=n("./api-dev/stores/APIListStore.js"),y=n("./api-dev/components/api/RemoveCollectionFromAPI/RemoveCollectionFromAPI.js"),v=n("./api-dev/interfaces/APIInterface.js"),I=(n("./integrations/git/constants.js"),n("./js/services/NavigationService.js")),E=n("./api-dev/util/error.js"),_=n("./api-dev/util/storeHelper.ts"),S=n("./runtime-repl/_common/ToastHelpers.js"),C=n("./runtime-repl/collection/_api/CollectionInterface.js"),T=n("./runtime-repl/transient-collection/_api/TransientCollectionInterface.ts"),j=n("./api-dev/constants/APITabModes.js"),A=n("./node_modules/lodash/lodash.js");function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},w.apply(this,arguments)}let O=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.navigateToNetworkDocumentation=e=>{const t=I.default.getCurrentURL(),[n,o]=t.split("?");I.default.transitionToURL(n+"/collection/"+e+(o?`?${o}`:""))},this.shouldPopulateCollectionNames=()=>{const e=A.get(this.props,"viewMode.name");return A.includes([j.NETWORK_VIEW,j.VERSION_VIEW],e)},this.areCollectionNamesLoading=()=>{const e=this.props.model.activeReleaseCollections;return this.shouldPopulateCollectionNames()&&A.get(e,"isLoading")},this.state={showAddCollectionsModal:!1,showRemoveCollectionModal:!1,collectionToRemove:null},this.toggleShowAddCollectionsModal=this.toggleShowAddCollectionsModal.bind(this),this.toggleShowRemoveCollectionsModal=this.toggleShowRemoveCollectionsModal.bind(this),this.renderCollectionAccordion=this.renderCollectionAccordion.bind(this),this.renderRemoveCollectionModal=this.renderRemoveCollectionModal.bind(this),this.renderRemoveCollectionHeader=this.renderRemoveCollectionHeader.bind(this),this.fetchVersionId=this.fetchVersionId.bind(this),this.handleRemoveCollection=this.handleRemoveCollection.bind(this)}fetchVersionId(){const e=(0,f.resolveStoreInstance)(b.default).find(this.props.model.apiId);return A.get(e,"childEntities.values.0.id")}toggleShowAddCollectionsModal(){(0,v.migrateAPI)(this.props.model.apiId,this.props.model.id).then((()=>{this.setState((e=>({showAddCollectionsModal:!e.showAddCollectionsModal})))})).catch(A.noop)}toggleShowRemoveCollectionsModal(){(0,v.migrateAPI)(this.props.model.apiId,this.props.model.id).then((()=>{this.setState((e=>({showRemoveCollectionModal:!e.showRemoveCollectionModal})))})).catch(A.noop)}handleRemoveCollection(e){(0,v.migrateAPI)(this.props.model.apiId,this.props.model.id).then((()=>{const{userCanSave:t}=(0,f.resolveStoreInstance)(p.default);if(!t)return(0,S.showOfflineActionDisabledToast)();if(null==e||!e.modelId||null==e||!e.name)return pm.logger.error("RemoveCollectionFromAPI~handleRemoveCollection: Params missing for collection in API"),pm.toasts.error("Couldn't delete collection. Try again.");const n=(0,_.getRemoteGitConfiguredStatus)(this.props.model),o={name:e.name,isAPIExclusive:!0};return n?T.default.destroy(e.modelId).catch((t=>{(0,E.handleError)(t),pm.logger.error("RemoveCollectionFromAPI~handleRemoveCollection: Error occurred while removing collection "+e.modelId,t)})):(0,C.deleteCollection)(e.modelId,o).catch((t=>{(0,E.handleError)(t),pm.logger.error("RemoveCollectionFromAPI~handleRemoveCollection: Error occurred while removing collection "+e.modelId,t)}))})).catch(A.noop)}renderCollectionAccordion(e,t,n,o){const{modelId:i,name:a}=e,r="network"!==A.get(this.props,"viewMode.view")?null:()=>this.navigateToNetworkDocumentation(i);return s.createElement("div",{className:"api-tab-body__default__tile-body",key:i},s.createElement(g.default,w({collectionUid:i,apiId:t,mode:n,overviewLabel:a||A.get(o,i),renderActions:()=>this.renderRemoveCollectionHeader(e),isExpanded:!1},r?{navigateToDocumentation:r}:{})))}isUnmigratedAPIConsumerView(){const e=A.get(this.props.model,"apiModel.isMigrated");return"builder"===A.get(this.props.model,"apiMode.name")&&!e&&!1===A.get(this.props.model,"isEditable")}renderRemoveCollectionModal(){return"version"!==A.get(this.props,"viewMode.name")&&"network"!==A.get(this.props,"viewMode.name")&&!this.isUnmigratedAPIConsumerView()?s.createElement(y.default,{showRemoveCollectionModal:this.state.showRemoveCollectionModal,toggleShowRemoveCollectionModal:this.toggleShowRemoveCollectionsModal.bind(this),apiId:this.props.model.apiId,model:this.props.model,collectionToRemove:this.state.collectionToRemove}):null}renderRemoveCollectionHeader(e){return"version"!==A.get(this.props,"viewMode.name")&&"network"!==A.get(this.props,"viewMode.name")&&!this.isUnmigratedAPIConsumerView()?s.createElement("div",{className:"api-tab-body__default__tile-heading__action-item"},s.createElement(a.default,{onClick:()=>this.handleRemoveCollection(e),type:"tertiary",tooltip:"Delete collection",icon:s.createElement(d.default,null)})):null}render(){var e;const t=A.get(this.props,"viewMode.name"),n=this.props.model.activeReleaseCollections,o=this.shouldPopulateCollectionNames()&&A.get(n,"hasError");if(this.props.isLoading||this.areCollectionNamesLoading())return s.createElement(r.default,{alignItems:"center",justifyContent:"center",padding:"spacing-l"},s.createElement(l.default,null));if(o)return s.createElement(r.default,{gap:"spacing-s",alignItems:"center"},s.createElement(u.default,{color:"content-color-secondary"}),s.createElement(c.default,{type:"para"},"Failed to load collections.",s.createElement("span",{onClick:()=>{A.isFunction(this.props.model.populateCollectionNames)&&this.props.model.populateCollectionNames(A.get(this.props.model,"activeRelease",{}))}},s.createElement(c.default,{type:"link-default"},"Retry"))));let i=[],a=A.get(this.props,"model.apiId")||A.get(this.props,"model.apiModel.id","");const d=A.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.localGitConfigured");A.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.isOnPremLocalIntegration");let p="No collections added yet";if("builder"===t){i=A.get(this.props.model,"collectionBasedRelations",[]),pm.logger.info(`Collections-render Got ${A.size(i)} collections from sync server for workbench overview. ${A.map(i,"modelId")}`);!this.props.model.isEditable&&(p="There are no published collections")}else"branch"===t?(i=A.get(this.props.model,"apiRepositoryStore.entityHandlers.collections.transientCollectionStores")&&this.props.model.apiRepositoryStore.entityHandlers.collections.collectionsOnBranch(),pm.logger.info(`Collections-render Got ${A.size(i)} collections from branch for workbench overview. ${A.map(i,"modelId")}`)):"version"!==t&&"network"!==t||(a=A.get(this.props,"model.api.id",""),i=A.get(this.props,"model.collections",[]),pm.logger.info(`Collections-render Got ${A.size(i)} collections from version for workbench overview. ${A.map(i,"modelId")}`),p="There are no published collections");const g=A.isEmpty(i),f=A.get(this.props.model,"apiPermissionStore.canAddCollection",!1);return i=null===(e=i)||void 0===e?void 0:e.sort(((e,t)=>{var n,o;return(null==e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase())>(null==t||null===(o=t.name)||void 0===o?void 0:o.toLowerCase())?1:-1})),g?s.createElement(s.Fragment,null,s.createElement(r.default,{direction:"column",gap:"spacing-m",alignItems:"flex-start"},s.createElement(c.default,null,p)),f&&s.createElement(m.default,{showAddCollectionsModal:this.state.showAddCollectionsModal,toggleShowAddCollectionsModal:this.toggleShowAddCollectionsModal.bind(this),apiId:this.props.model.apiId,model:this.props.model,mode:A.get(this.props,"model.apiMode")})):s.createElement(s.Fragment,null,s.createElement(h.default,{multiple:!0},A.map(i,(e=>this.renderCollectionAccordion(e,a,this.props.viewMode,A.get(n,"names"))))),this.renderRemoveCollectionModal())}})||o},"./api-dev/components/api/api-tab/tiles/Definition/Definition.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../packages/api-design/api-definition-ui/index.js"),r=n("./js/components/empty-states/AetherCrashHandler.js");n("./api-dev/constants/APITabModes.js");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}let c=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}render(){return s.createElement(r.default,null,s.createElement(a.DefinitionOverview,l({mode:this.props.viewMode},this.props)))}})||o},"./api-dev/components/api/api-tab/tiles/DiscoverAPI/DiscoverAPI.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),y=n("./api-dev/components/release/PublishAPI/PublishAPIModal.js"),v=n("./js/services/NavigationService.js"),I=n("../../packages/api-network/private-network/index.js"),E=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-versions-stroke.js"),_=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-branch-stroke-small.js"),S=n("./node_modules/@postman/date-helper/index.js"),C=n.n(S),T=n("./js/stores/StoreManager.js"),j=n("./billing/stores/EnterpriseTrialOnboardingStore.js"),A=(n("./api-dev/stores/APIListStore.js"),n("./api-dev/components/release/EditRelease/EditReleaseModal.js")),w=n("./api-dev/components/release/DeleteRelease/DeleteReleaseModal.js"),O=n("./js/stores/SyncStatusStore.js"),N=n("./js/stores/CurrentUserStore.js"),D=n("./appsdk/components/link/Link.js"),R=n("./api-dev/interfaces/APIInterface.js"),P=n("./api-dev/util/error.js"),M=n("./js/utils/NavigationUtil.js"),L=n("./js/modules/services/APITabUpdateHelpers.js"),x=n("./growth/foundation/public/amplitude/AmplitudeService.js"),k=n("./js/modules/services/AnalyticsService.js"),F=n("../../packages/api-design/api-definition-ui/index.js"),V=n("./api-dev/util/navigationHelper.js"),B=n("./node_modules/lodash/lodash.js");function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},U.apply(this,arguments)}const z=(0,a.default)(r.default)`
  & > div:first-child {
    padding: var(--spacing-l);
  }
`,H={type:"primary",text:"Got It"};let G=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.transitionToRelease=(e,t,n)=>{(0,V.transitionToVersion)({apiId:e,apiVersionId:t,releaseId:n})},this.openSourceControlPane=async()=>{let{pathUrl:e}=(0,M.getUrlParts)(v.default.currentURL.get()),t=v.default.getActiveQueryParams().get(),n="api-version-source-control",o=B.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.git.branch");t.ctx!==n&&await v.default.transitionToURL((0,M.constructUrl)(e,{},{ctx:n,branch:o}))},this.publishCTA=(e,t,n=!1)=>{let o;return o=t?s.createElement("div",null,s.createElement(l.default,{type:"outline",text:"Publish",size:"small",onClick:this.togglePublishModal,isDisabled:!e})):s.createElement("div",null,s.createElement(l.default,{className:"publish-api",type:"outline",size:"medium",text:"Publish API",fullWidth:!0,onClick:this.togglePublishModal,isDisabled:!e})),n||!this.getDisabledText()?o:s.createElement("div",null,s.createElement(c.default,{placement:"bottom",content:this.getDisabledText()},o))},this.publishCTAPopOver=(e,t)=>s.createElement(r.default,{placement:"top-end",padding:"spacing-l",maxWidth:210,trigger:this.publishCTA(e,t,!0),triggerEvent:"mouseenter"},s.createElement(d.default,{direction:"column",gap:"spacing-l"},s.createElement(d.default,null,s.createElement(u.default,{type:"body-medium",color:"content-color-primary"},"Changes in this branch need to be pushed before publishing.")),s.createElement(l.default,{type:"primary",onClick:this.openSourceControlPane,text:"View Changes",size:"medium"}))),this.handleCTAChangeTrigger=()=>{this.setState((e=>({ctaChangeTrigger:!e.ctaChangeTrigger})))},this.state={isPublishModalOpen:!1,ctaChangeTrigger:!1,isEditReleaseModalOpen:!1,isDeleteReleaseModalOpen:!1,releaseToEdit:"",releaseToDelete:"",releaseName:"",releaseVisibility:"",releaseDescription:"",definition:null},this.definitionDisposer=()=>{},this.renderPublishSection=this.renderPublishSection.bind(this),this.togglePublishModal=this.togglePublishModal.bind(this),this.renderReleases=this.renderReleases.bind(this),this.hasEntitiesToPublish=this.hasEntitiesToPublish.bind(this),this.getDisabledText=this.getDisabledText.bind(this),this.isRepoInSyncWithPostman=this.isRepoInSyncWithPostman.bind(this),this.handleReleaseActionSelect=this.handleReleaseActionSelect.bind(this),this.toggleEditReleaseModal=this.toggleEditReleaseModal.bind(this),this.toggleDeleteReleaseModal=this.toggleDeleteReleaseModal.bind(this),this.renderPublishButtonHeading=this.renderPublishButtonHeading.bind(this),this.openReleaseTab=this.openReleaseTab.bind(this),this.handleReleaseEdit=this.handleReleaseEdit.bind(this),this.handleReleaseDelete=this.handleReleaseDelete.bind(this),this.shouldDisableUpdateRelease=this.shouldDisableUpdateRelease.bind(this),this.shouldDisableDeleteRelease=this.shouldDisableDeleteRelease.bind(this)}async componentDidMount(){const e=B.get(this,"props.model.apiId"),t=B.get(this,"props.model.id"),n=B.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured");this.definitionDisposer=n?await(0,F.definitionReactionInGit)({apiId:e},(e=>{this.setState({definition:e})})):await(0,F.definitionReactionInBuilder)({apiId:e,apiVersionId:t},(e=>{this.setState({definition:e})}))}componentWillUnmount(){this.definitionDisposer()}toggleEditReleaseModal(){this.setState((e=>({isEditReleaseModalOpen:!e.isEditReleaseModalOpen})))}toggleDeleteReleaseModal(){this.setState((e=>({isDeleteReleaseModalOpen:!e.isDeleteReleaseModalOpen})))}togglePublishModal(){if(this.state.isPublishModalOpen||k.default.addEventV2({category:"api_repo_integration_v2",entityId:B.get(this,"props.model.apiId"),action:"initiate_publish",label:"overview",value:1}),(0,R.shouldTriggerMigrationModal)(this.props.model.apiId))(0,R.migrateAPI)(this.props.model.apiId,this.props.model.id).catch(B.noop);else{this.setState((e=>({isPublishModalOpen:!e.isPublishModalOpen})));try{(0,T.resolveStoreInstance)(j.default).stepById("publishAPI").isActive&&(0,T.resolveStoreInstance)(j.default).updateState("publishAPI")}catch(e){(0,P.logToNewRelic)(e,"DiscoverAPI","togglePublishModal")}}}handleReleaseEdit(e){this.setState({releaseToEdit:e.id,releaseName:e.name,releaseVisibility:e.visibility,releaseDescription:e.description}),this.toggleEditReleaseModal()}handleReleaseDelete(e){return this.setState({releaseToDelete:e.id}),this.toggleDeleteReleaseModal()}handleReleaseActionSelect(e,t){if("edit"===e&&(this.toggleEditReleaseModal(),this.setState({releaseToEdit:t.id,releaseName:t.name,releaseVisibility:t.visibility,releaseDescription:t.description})),"delete"===e)return this.setState({releaseToDelete:t.id}),this.toggleDeleteReleaseModal()}async openReleaseTab(e,t){B.isFunction(B.get(e,"preventDefault"))&&e.preventDefault(),k.default.addEventV2({category:"api_repo_integration_v2",entityId:B.get(this,"props.model.apiId"),action:"view_version",label:"sidebar",value:1});const n=B.get(this.props.model,"apiMode.name");if("branch"===n||"builder"===n){const e=this.props.model.apiId,n=L.default.checkIfAPITabsAreDirty(e);if(!B.isEmpty(n))return void pm.mediator.trigger("showConfirmSwitchToVersionViewModal",{apiId:e,releaseId:t,tabsWithDirtyChanges:n,modeSwitch:!0});await L.default.onModeSwitchCloseTabs(e)}this.transitionToRelease(this.props.model.apiId,this.props.model.id,t)}getReleaseActionsDisabledText(e){return"not_available"===e.visibility?"Please wait for the version to set up before taking this action.":null}shouldDisableUpdateRelease(e){const t=B.get(this.props.model,"apiPermissionStore.canUpdateAPIVersionRelease",!1),n="not_available"===e.visibility,o=!(0,T.resolveStoreInstance)(O.default).isSocketConnected,s=(0,T.resolveStoreInstance)(N.default).isLoggedIn;return o||!t||!s||n}shouldDisableDeleteRelease(e){const t=B.get(this.props.model,"apiPermissionStore.canDeleteAPIVersionRelease",!1),n=!(0,T.resolveStoreInstance)(O.default).isSocketConnected,o=(0,T.resolveStoreInstance)(N.default).isLoggedIn,s="not_available"===e.visibility;return n||!t||!o||s}renderReleases(){const e=this.props.model.releases,t=this.props.model,n=(0,V.hasOnlyOneAPIVersion)(t.apiId),o=n?"build.api":"build.apiVersion",i=n?{apiId:t.apiId}:{apiId:t.apiId,versionId:t.id};return s.createElement(s.Fragment,null,B.map(e,(e=>s.createElement(d.default,{direction:"column",grow:1,shrink:1,gap:"spacing-l"},s.createElement(d.default,{direction:"row",alignItems:"center"},s.createElement(d.default,{direction:"column",gap:"spacing-xs",grow:1,shrink:1,minWidth:"0"},s.createElement(d.default,{alignItems:"center",justifyContent:"space-between"},s.createElement(D.default,{className:"published-versions",to:{routeIdentifier:o,routeParams:i,queryParams:{version:e.id}},onClick:t=>this.openReleaseTab(t,e.id)},s.createElement(E.default,null),s.createElement(u.default,{type:"body-medium",color:"content-color-primary",isTruncated:!0},e.name)),s.createElement(p.default,null,s.createElement(m.default,null,s.createElement(l.default,{icon:"icon-action-options-stroke",type:"tertiary",size:"small"})),s.createElement(h.default,null,s.createElement(g.default,{refKey:"edit",key:"edit",onClick:this.handleReleaseEdit.bind(this,e),isDisabled:this.shouldDisableUpdateRelease(e),tooltip:this.getReleaseActionsDisabledText(e)},"Edit version details"),s.createElement(g.default,{key:"delete",refKey:"delete",onClick:this.handleReleaseDelete.bind(this,e),type:"destructive",isDisabled:this.shouldDisableUpdateRelease(e),tooltip:this.getReleaseActionsDisabledText(e)},"Delete version")))),s.createElement(d.default,{direction:"column",gap:"spacing-s",grow:1,shrink:1,padding:{paddingLeft:"spacing-xl"}},e.branch&&s.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},s.createElement(_.default,null),s.createElement(u.default,{type:"body-small",color:"content-color-secondary",isTruncated:!0,className:"versions__branch_name"},e.branch),s.createElement(u.default,{type:"body-small",color:"content-color-tertiary"},""),s.createElement(u.default,{type:"body-small",color:"content-color-secondary",className:"versions__branch_time"},C().getFormattedDate(e.createdAt))))))))),s.createElement(A.default,{origin:"overview",isOpen:B.get(this.state,"isEditReleaseModalOpen"),releaseId:this.state.releaseToEdit,releaseName:this.state.releaseName,releaseVisibility:this.state.releaseVisibility,releaseDescription:this.state.releaseDescription,releaseSummary:this.state.releaseSummary,apiId:t.apiId,apiVersionId:B.get(t,"id"),model:t,toggleUpdateReleaseModal:this.toggleEditReleaseModal}),s.createElement(w.default,{origin:"overview",isOpen:B.get(this.state,"isDeleteReleaseModalOpen"),releaseId:this.state.releaseToDelete,apiId:t.apiId,apiVersionId:t.id,deleteReleaseHandler:t.deleteRelease,model:t,isDeletingRelease:B.get(t,"isDeletingRelease"),toggleDeleteReleaseModal:this.toggleDeleteReleaseModal}))}getDisabledText(){const e=this.hasEntitiesToPublish(),t=this.isRepoInSyncWithPostman(),n=B.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured");return!(0,T.resolveStoreInstance)(O.default).isSocketConnected?"You can take this action once you are back online":e?n?t?"":"Changes in this branch need to be pushed before publishing.":"":"No new changes to publish."}isRepoInSyncWithPostman(){const e=B.get(this.props.model,"apiRepositoryStore.sourceControlStore"),t=B.get(e,"stagedFilesList",[]),n=B.get(e,"unStagedFilesList",[]);return B.isEmpty(t)&&B.isEmpty(n)}hasEntitiesToPublish(){if(B.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured")){const e=B.get(this.props.model,"apiRepositoryStore");return!!e&&e.hasRelations()}return!(B.isEmpty(this.props.model.collectionBasedRelations)&&(!this.state.definition||this.state.definition.isVoid))}renderPublishButtonHeading(){return s.createElement(d.default,{direction:"column",padding:"spacing-zero spacing-zero spacing-m spacing-zero"},s.createElement(u.default,{type:"para",color:"content-color-primary"},"Make it easier for your teammates to discover and use the right version of your API."))}renderPublishSection(){const e=B.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured"),t=!B.isEmpty(B.get(this.props.model,"releases")),n=!!(0,T.resolveStoreInstance)(O.default).isSocketConnected&&this.hasEntitiesToPublish()&&(!e||this.isRepoInSyncWithPostman());return t?s.createElement(s.Fragment,null,s.createElement(I.AddToNetworkCTA,{origin:"api-overview-accordion",entityId:this.props.model.apiId,entityType:"api",hasReleases:t,isAPIAddedInV10:this.props.model.isAPIAddedInV10,apiVersionId:this.props.apiVersionId,ctaChangeTrigger:this.state.ctaChangeTrigger}),s.createElement(d.default,{direction:"row",justifyContent:"space-between",alignItems:"center",grow:1,shrink:1,padding:{paddingTop:"spacing-s"}},s.createElement(f.default,{type:"h6",text:"Recent versions"}),this.isRepoInSyncWithPostman()?this.publishCTA(n,t):this.publishCTAPopOver(n,t)),s.createElement(y.default,{isOpen:this.state.isPublishModalOpen,togglePublishModal:this.togglePublishModal,model:this.props.model,promoteTab:this.props.promoteTab,postPublishCb:this.handleCTAChangeTrigger,isAPIGitLinked:e,definitionModel:this.state.definition})):s.createElement(s.Fragment,null,s.createElement(I.AddToNetworkCTA,{origin:"api-overview-accordion",entityId:this.props.model.apiId,entityType:"api",hasReleases:t,isAPIAddedInV10:this.props.model.isAPIAddedInV10,apiVersionId:this.props.apiVersionId,ctaChangeTrigger:this.state.ctaChangeTrigger}),this.renderPublishButtonHeading(),this.isRepoInSyncWithPostman()?this.publishCTA(n,t):this.publishCTAPopOver(n,t),s.createElement(y.default,{isOpen:this.state.isPublishModalOpen,togglePublishModal:this.togglePublishModal,model:this.props.model,promoteTab:this.props.promoteTab,postPublishCb:this.handleCTAChangeTrigger,isAPIGitLinked:e,definitionModel:this.state.definition}))}render(){const e=B.get(this.props.model,"apiEditorUIStore.noActiveScreen"),t=(0,T.resolveStoreInstance)(j.default).showPublishAPIPopover&&e;return s.createElement(d.default,{direction:"column",gap:"spacing-m"},s.createElement(z,{pointer:!0,placement:"left",isOpen:t,onClickOutside:()=>(0,T.resolveStoreInstance)(j.default).updateState("publishAPI"),trigger:s.createElement("div",null,this.renderPublishSection())},s.createElement(d.default,{direction:"column",gap:"spacing-l"},s.createElement(d.default,{direction:"column",gap:"spacing-s"},s.createElement(f.default,{type:"h3",text:"Add your API to Private API Network"}),s.createElement(u.default,{type:"para",color:"content-color-primary"},"Changes made to the API in the workspace will be reflected in the network in real time. Learn more about",s.createElement(D.default,{to:"https://learning.postman.com/docs/collaborating-in-postman/adding-private-network/",target:"_blank",onClick:()=>{x.Ampli.enterpriseTrialOnboardingCoachmarkLearnMoreClicked()}},s.createElement(u.default,{type:"link-default"},"Private API Network")))),s.createElement(b.default,null,s.createElement(l.default,U({},H,{onClick:()=>{(0,T.resolveStoreInstance)(j.default).updateState("publishAPI"),x.Ampli.enterpriseTrialOnboardingCoachmarkGotItClicked((0,x.getAmpliCTAProperties)(H))}}))))),this.renderReleases())}})||o},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/APIDeployments/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/mobx/lib/mobx.module.js"),l=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/GenericPowerUpTile.js"),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("./integrations/utils/PowerUpSectionUtils.js"),u=n("./integrations/api-observability/stores/APIObservabilityStore.js"),p=n("./js/stores/StoreManager.js"),m=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/LoadingPowerUpValues.js");const h=["Source"];let g=(0,c.observer)(o=class extends s.Component{constructor(e){super(e),this.apiObservabilityStore=(0,p.resolveStoreInstance)(u.default)}componentDidMount(){const e={apiVersionId:this.props.apiVersionId};this.apiObservabilityStore.resetPowerUpVariables(e)}render(){const{clientCategory:e,apiVersionId:t}=this.props,n=this.apiObservabilityStore.getIntegrationClass(t),o=this.apiObservabilityStore.getIntegrationInstance(t),i=this.apiObservabilityStore.loadingIntegrationInstanceAndClass[t],a=(0,d.findConfiguredClassAndInstance)(e,(0,r.toJS)(n),(0,r.toJS)(o));if(i)return s.createElement(m.default,{fields:h});if(a){const{configuredInstance:t,configuredClass:n}=a;return s.createElement(l.default,{fields:h,configuredInstance:t,configuredClass:n,clientCategory:e})}return null}})||o;g.PropTypes={apiId:a().string,apiVersionId:a().string,clientCategory:a().string}},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/APIPerformance/AuthenticatedServicesView.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),d=n("./node_modules/prop-types/index.js"),u=n.n(d),p=n("./js/stores/StoreManager.js"),m=n("./js/stores/IntegrationsStore.js"),h=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/LoadingPowerUpValues.js"),g=n("./integrations/monitoring/constants.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-newrelic.js"),b=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-api-stroke.js"),y=n("./js/modules/services/AnalyticsService.js"),v=n("./js/services/NavigationService.js"),I=n("./integrations/navigation/constants.js"),E=n("./integrations/utils/CommonHelperMethods.ts"),_=n("./integrations/utils/PowerUpSectionUtils.js"),S=n("./api-dev/constants/PowerUpYourAPIConstants.js"),C=n("./node_modules/lodash/lodash.js");const T=(0,E.getErrorContextObject)("APM~AuthenticatedServicesView"),j=e=>e===g.NEW_RELIC_APM_CLASS_ID?s.createElement(f.default,null):s.createElement(b.default,null);let A=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={serviceData:null,classOfIntegrationBeingCreated:null},this.integrationsStore=(0,p.resolveStoreInstance)(m.default)}getServiceId(){return C.get(this.props,"authenticationInstance.service")}handleOneClickCreation(e,t){const n=C.get(this.props,"model.apiId"),o=C.get(this.props,"model.id"),{addToast:s}=this.props;this.setState({classOfIntegrationBeingCreated:e});const i={apiId:n,versionId:o},a={service:t.id,name:t.name,rule:e},r={apiVersionItemStore:this.props.model};(0,E.getSanitizedRouteAndQueryParamsForV10APIUrls)(i,a,n).then((([e,n])=>{y.default.addEventV2({category:S.API_BUILDER_ANALYTICS_CATEGORY,action:S.CONNECT_VIA_API_ANALYTICS_ACTION_CONNECT_API,label:t.name,value:1}),v.default.transitionTo(I.V10_API_ADD_APM_INTEGRATION_NAV_IDENTIFIER,e,n,r)})).catch((e=>{s({title:"Error",description:"Something went wrong! Could not navigate to create form",status:"error"}),pm.logger.error("AddAPMIntegration ~ Error while navigating to create form for APM Integration",e,{context:T,routeParams:JSON.stringify(i),queryParams:JSON.stringify(a),apiId:n})}))}render(){const{classOfIntegrationBeingCreated:e}=this.state,{errorFetchingAvailableIntegrations:t,loadingIntegrationClasses:n}=this.integrationsStore,o=this.integrationsStore.getIntegrationClasses(),i=this.getServiceId(),c=(0,_.filterAuthenticatedAPMClasses)(o,i),d=(0,_.getAPMServiceData)(c,i),u=C.filter(c,(e=>C.includes(g.AUTH_SUPPORTED_CLASSES,e.id)));return n?s.createElement(h.default,{fields:g.APM_POWER_UP_FIELDS}):C.isEmpty(u)&&!C.isEmpty(t)?null:s.createElement(a.default,{direction:"column",gap:"spacing-m",alignItems:"left",className:"power-up__screen-body",padding:"spacing-s spacing-zero spacing-s spacing-zero"},s.createElement(r.default,{type:"para"},"Your team is authorized to ",d.name,". Complete setup to view ",d.name," metrics in Postman."),C.map(u,(t=>{const n=t.id;return s.createElement(l.default,{type:"outline",icon:j(n),text:d.name,isDisabled:e===n,onClick:()=>this.handleOneClickCreation(n,d)})})))}})||o;t.default=(0,c.default)(A),A.PropTypes={authenticationInstance:u().object,model:u().shape({id:u().string,apiId:u().string})}},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/APIPerformance/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/mobx/lib/mobx.module.js"),a=n("../../node_modules/react/index.js"),r=n("./node_modules/prop-types/index.js"),l=n.n(r),c=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/GenericPowerUpTile.js"),d=n("./js/stores/StoreManager.js"),u=n("./integrations/monitoring/stores/APMIntegrationStore.js"),p=n("./integrations/monitoring/constants.js"),m=n("./integrations/utils/PowerUpSectionUtils.js"),h=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/LoadingPowerUpValues.js"),g=n("./integrations/services/AuthenticationInstanceService.ts"),f=n("./js/stores/CurrentUserStore.js"),b=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/APIPerformance/AuthenticatedServicesView.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),I=n("./js/modules/services/AnalyticsService.js"),E=n("./js/services/NavigationService.js"),_=n("./integrations/navigation/constants.js"),S=n("./api-dev/constants/PowerUpYourAPIConstants.js"),C=n("./node_modules/lodash/lodash.js");function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}let j=(0,s.observer)(o=class extends a.Component{constructor(e){super(e),this.state={authenticationInstances:[],loadingAuthenticationInstance:!0,installedAppFeatureFlag:!1},this.apmIntegrationStore=(0,d.resolveStoreInstance)(u.default),this.datadogStore=this.apmIntegrationStore.find(p.DATADOG_APM_CLASS_ID)}componentDidMount(){const e={apiVersionId:this.props.apiVersionId},t=(0,p.isFeatureFlagEnabled)(p.NEW_RELIC_APM_CLASS_ID);this.setState({installedAppFeatureFlag:t,loadingAuthenticationInstance:t}),this.apmIntegrationStore.resetPowerUpVariables(e),t&&this.fetchAuthenticationInstances()}fetchAuthenticationInstances(){const e=(0,d.resolveStoreInstance)(f.default);this.setState({loadingAuthenticationInstance:!0}),g.default.listAuthenticationInstances({scope:[{type:p.AUTHENTICATION_INSTANCE_SCOPES.TEAM,id:e.teamId}],authenticationClass:[p.AUTHENTICATION_CLASSES.NEW_RELIC_USER],service:[p.NEW_RELIC_SERVICE_ID]}).then((({body:e})=>C.isNil(e.data)?(pm.logger.error("Error loading authentication instances! Received null response!",{body:e}),this.setState({loadingAuthenticationInstance:!1})):this.setState({loadingAuthenticationInstance:!1,authenticationInstances:e.data}))).catch((e=>{pm.logger.error("Error loading authentication instances!",e),this.setState({loadingAuthenticationInstance:!1})}))}renderReauthenticateState(e){const{apiId:t}=this.props,{configuredClass:n,configuredInstance:o}=e,s=C.head(C.get(n,["services"]));return a.createElement(y.default,{direction:"column",padding:{paddingTop:"spacing-s"}},a.createElement(v.default,{type:"para",color:"content-color-error"},s.name," access token is no longer valid.",a.createElement("div",{onClick:()=>{I.default.addEventV2({category:S.API_BUILDER_ANALYTICS_CATEGORY,action:S.CONNECT_INTEGRATION_ANALYTICS_ACTION+s.id,label:"edit",value:1}),E.default.transitionTo(_.V10_API_EDIT_APM_INTEGRATION_NAV_IDENTIFIER,{apiId:t,integrationId:o.id},{service:s.id},{additionalContext:{origin:"api_builder"}})}},a.createElement(v.default,{type:"link-default"},"Re-authenticate")," with a new API key to view services.")))}render(){const{clientCategory:e,apiVersionId:t}=this.props,{authenticationInstances:n,loadingAuthenticationInstance:o,installedAppFeatureFlag:s}=this.state,r=this.apmIntegrationStore.getIntegrationClass(t),l=this.apmIntegrationStore.getIntegrationInstance(t),d=this.apmIntegrationStore.loadingIntegrationInstanceAndClass[t],u=(0,m.findConfiguredClassAndInstance)(e,(0,i.toJS)(r),(0,i.toJS)(l));if(d||o)return a.createElement(h.default,{fields:p.APM_POWER_UP_FIELDS});if(!C.isEmpty(u)){const{configuredInstance:t,configuredClass:n}=u,o=C.get(t,"services",[]),s=C.head(o);return a.createElement(a.Fragment,null,a.createElement(c.default,{fields:p.APM_POWER_UP_FIELDS,configuredInstance:t,configuredClass:n,clientCategory:e}),s?null:this.renderReauthenticateState(u))}return C.isEmpty(n)?null:a.createElement(b.default,T({authenticationInstance:C.head(n)},this.props))}})||o;j.PropTypes={apiId:l().string,apiVersionId:l().string,clientCategory:l().string}},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/PowerUpYourAPI.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("../../node_modules/mobx/lib/mobx.module.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),g=n("./billing/stores/EnterpriseTrialOnboardingStore.js"),f=n("./api-dev/registries/APITabScreens.js"),b=n("./js/stores/StoreManager.js"),y=n("./appsdk/components/link/Link.js"),v=n("./js/stores/IntegrationsStore.js"),I=n("./integrations/monitoring/stores/APMIntegrationStore.js"),E=n("./integrations/ci-cd/stores/APIIntegrationsStore.js"),_=n("./integrations/api-observability/stores/APIObservabilityStore.js"),S=n("./growth/foundation/public/amplitude/AmplitudeService.js"),C=n("./integrations/utils/PowerUpSectionUtils.js"),T=(n("./integrations/models/LinkToProps.ts"),n("./node_modules/lodash/lodash.js"));function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},j.apply(this,arguments)}const A=(0,i.default)(l.default)`
  & > div:first-child {
    padding: var(--spacing-l);
  }
`,w={type:"primary",text:"Got It"};let O=(0,a.observer)(o=class extends s.Component{constructor(e){super(e),this.integrationsStore=(0,b.resolveStoreInstance)(v.default),this.apmIntegrationsStore=(0,b.resolveStoreInstance)(I.default),this.testAutomationStore=(0,b.resolveStoreInstance)(E.default),this.apiObservabilityStore=(0,b.resolveStoreInstance)(_.default)}initializePowerUpStores(){this.apmIntegrationsStore&&this.apmIntegrationsStore.fetchIntegrationInstance("apiversion",T.get(this.props,"apiVersionId")),this.testAutomationStore&&this.testAutomationStore.fetchIntegrationInstance("apiversion",T.get(this.props,"apiVersionId")),this.apiObservabilityStore=this.apiObservabilityStore.fetchIntegrationInstance("apiversion",T.get(this.props,"apiVersionId"))}componentDidMount(){const e=this.integrationsStore.getIntegrationClasses();T.isEmpty(e)?this.loadingIntegrationClassesReaction=(0,r.reaction)((()=>this.integrationsStore.loadingIntegrationClasses),(()=>{this.initializePowerUpStores()})):this.initializePowerUpStores()}componentWillUnmount(){T.isFunction(this.loadingIntegrationClassesReaction)&&this.loadingIntegrationClassesReaction()}getLinkToProps(e){return(0,C.getNavigationParams)(e,this.props.apiId,this.props.apiVersionId)}renderScreenTitles(e){const t=f.SCREENS[e].sidebarView,{addToast:n}=this.props;return s.createElement(c.default,{direction:"column",className:"power-up__tile"},s.createElement(y.default,{to:this.getLinkToProps(e),onClick:t=>{(0,b.resolveStoreInstance)(g.default).stepById("configureCICD").isActive&&(0,b.resolveStoreInstance)(g.default).updateState("configureCICD"),T.isFunction(T.get(this.props.model,"apiEditorUIStore.setActiveScreenNoTransition"))||(pm.logger.error("PowerUpYourAPI ~ renderScreenTiles: can not transition setActiveScreenNoTransition is not a function"),n({title:"Error",status:"error",description:`Something went wrong! Can not open ${f.SCREENS[e].title}`})),this.props.model.apiEditorUIStore.setActiveScreenNoTransition(e)}},s.createElement(c.default,{direction:"row",gap:"spacing-xs",alignItems:"center",className:"power-up__tile-title"},s.createElement(d.default,{type:"h5",className:"power-up__tile-heading",text:f.SCREENS[e].title}),s.createElement(u.default,{type:"strong",className:"power-up__tile-heading__arrow"},""))),t&&s.createElement(t,{model:this.props.model,screenId:e,apiId:this.props.apiId,apiVersionId:this.props.apiVersionId,integrationsStore:this.integrationsStore,clientCategory:f.SCREENS[e].clientCategory}))}render(){const e=T.get(this.props.model,"apiEditorUIStore.noActiveScreen"),t=(0,b.resolveStoreInstance)(g.default).showCICDPopOver&&e;return s.createElement(s.Fragment,null,s.createElement(c.default,{direction:"column",className:"power-up",gap:"spacing-l"},T.map(T.keys(f.SCREENS),(e=>"Test and Automation"===f.SCREENS[e].title?s.createElement(A,{pointer:!0,placement:"right",isOpen:t,onClickOutside:()=>(0,b.resolveStoreInstance)(g.default).updateState("configureCICD"),trigger:this.renderScreenTitles(e)},s.createElement(c.default,{direction:"column",gap:"spacing-l"},s.createElement(c.default,{direction:"column",gap:"spacing-s"},s.createElement(d.default,{type:"h3",text:"Automate your test with Postman CLI"}),s.createElement(u.default,{type:"para",color:"content-color-primary"},"Automated testing helps streamline development and QA with a CI/CD pipeline. Learn more about",s.createElement(y.default,{to:"https://learning.postman.com/docs/postman-cli/postman-cli-overview/",target:"_blank",onClick:()=>{S.Ampli.enterpriseTrialOnboardingCoachmarkLearnMoreClicked()}},s.createElement(u.default,{type:"link-default"},"Postman CLI")))),s.createElement(p.default,null,s.createElement(m.default,j({},w,{onClick:()=>{(0,b.resolveStoreInstance)(g.default).updateState("configureCICD"),S.Ampli.enterpriseTrialOnboardingCoachmarkGotItClicked((0,S.getAmpliCTAProperties)(w))}}))))):this.renderScreenTitles(e)))))}})||o;t.default=(0,h.default)(O)},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/TestAndAutomation/AuthenticatedServicesView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("./integrations/services/OneClickIntegrationCreateService.js"),d=n("./integrations/ci-cd/helpers.js"),u=n("./js/services/NavigationService.js"),p=n("./appsdk/components/link/Link.js"),m=n("./integrations/navigation/constants.js"),h=n("./js/stores/StoreManager.js"),g=n("./integrations/ci-cd/stores/APIIntegrationsStore.js"),f=n("./js/stores/IntegrationsStore.js"),b=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/LoadingPowerUpValues.js"),y=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/TestAndAutomation/constants.ts"),v=n("./node_modules/prop-types/index.js"),I=n.n(v),E=n("./node_modules/lodash/lodash.js");let _=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={oneClickCreationEnabled:!0,serviceData:null,classOfIntegrationBeingCreated:null},this.integrationsStore=(0,h.resolveStoreInstance)(f.default)}componentDidMount(){const e=c.default.isOneClickCreationEnabled();this.setState({oneClickCreationEnabled:e})}getServiceId(){return E.get(this.props,"authenticationInstance.service")}render(){if(!this.state.oneClickCreationEnabled||!E.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured",!0))return null;const{classOfIntegrationBeingCreated:e}=this.state,{errorFetchingAvailableIntegrations:t,loadingIntegrationClasses:n}=this.integrationsStore,o=this.integrationsStore.getIntegrationClasses(),i=this.getServiceId(),f=((e,t)=>E.filter(e,(e=>!E.isNil(E.find(e.services,["id",t]))&&!E.isNil(E.find(e.clientCategories,["key","continuous-integration"])))))(o,i),v=((e,t)=>E.find(E.get(e,"0.services"),["id",t]))(f,i),I=E.filter(f,(e=>E.includes(c.default.SUPPORTED_CLASSES,e.id))),_=E.get(this.props,"model.apiId"),S=E.get(this.props,"model.id"),C=this.props.screenId,T=e=>(e&&E.isFunction(e.preventDefault)&&e.preventDefault(),E.isFunction(E.get(this.props.model,"apiEditorUIStore.setActiveScreen"))&&this.props.model.apiEditorUIStore.setActiveScreen(C));return n?s.createElement(b.default,{fields:y.CI_POWER_UP_FIELDS}):E.isEmpty(I)||!E.isEmpty(t)?null:s.createElement(a.default,{direction:"column",gap:"spacing-m",alignItems:"left",className:"power-up__screen-body",padding:"spacing-s spacing-zero spacing-s spacing-zero"},s.createElement(r.default,{type:"para"},"You are authenticated with ",v.name,". Complete setup of ",I[0].name," to view builds from within Postman."),E.map(I,(t=>{const n=t.id;return s.createElement(l.default,{type:"outline",icon:(0,d.getIconForCIIntegration)(n),text:t.name,isDisabled:e===n,onClick:()=>{this.setState({classOfIntegrationBeingCreated:n}),c.default.createFromApi(_,S,n).then((({body:e})=>{const t=E.get(e,"data.id");pm.toasts.success("Your API is connected to "+v.name),u.default.transitionTo(m.V10_API_CI_INTEGRATION_BUILDS_NAV_IDENTIFIER,{integrationId:t,apiId:_}),(0,h.resolveStoreInstance)(g.default).fetchIntegrationInstance("apiversion",S)})).catch((e=>{if(this.setState({classOfIntegrationBeingCreated:null}),pm.logger.error("Error occurred while one-click creating the integration",{integrationClass:n,error:e}),E.isNil(e)||!e.message)return pm.toasts.error("Something went wrong when trying to create the integration with the saved auth. Please create your integration using the form instead."),T();pm.toasts.error(e.message)}))}})})),s.createElement(p.default,{onClick:T},s.createElement(r.default,{typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-s"},color:"content-color-secondary",type:"link-default"},"View all CI providers")))}})||o;_.PropTypes={screenId:I().string,model:I().object,authenticationInstance:I().object}},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/TestAndAutomation/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./node_modules/prop-types/index.js"),r=n.n(a),l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/GenericPowerUpTile.js"),d=n("./integrations/utils/PowerUpSectionUtils.js"),u=n("./integrations/services/AuthenticationInstanceService.ts"),p=n("./integrations/services/OneClickIntegrationCreateService.js"),m=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/TestAndAutomation/AuthenticatedServicesView.js"),h=n("./integrations/ci-cd/stores/APIIntegrationsStore.js"),g=n("./js/stores/StoreManager.js"),f=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/LoadingPowerUpValues.js"),b=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/TestAndAutomation/constants.ts"),y=n("./node_modules/lodash/lodash.js");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}let I=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={authenticationInstances:[],loadingAuthInstances:!0,errorLoadingAuthInstances:null},this.fetchAuthenticationInstances=this.fetchAuthenticationInstances.bind(this),this.testAutomationStore=(0,g.resolveStoreInstance)(h.default)}componentDidMount(){const e={apiVersionId:this.props.apiVersionId};this.testAutomationStore.resetPowerUpVariables(e),this.fetchAuthenticationInstances()}fetchAuthenticationInstances(){const e={loadingAuthInstances:!1,errorLoadingAuthInstances:"Something went wrong while fetching authentication instances"};this.setState({loadingAuthInstances:!0,errorLoadingAuthInstances:null}),u.default.listAuthenticationInstancesOnApi(this.props.model.apiId).then((({body:t})=>y.isNil(t.data)?(pm.logger.error("Error loading authentication instances! Received null response!",{body:t}),this.setState(e)):this.setState({loadingAuthInstances:!1,authenticationInstances:t.data}))).catch((t=>(pm.logger.error("Error loading authentication instances!",t),this.setState(e))))}render(){const{clientCategory:e,apiVersionId:t}=this.props,{authenticationInstances:n,loadingAuthInstances:o}=this.state,s=this.testAutomationStore.getIntegrationClass(t),a=this.testAutomationStore.getIntegrationInstance(t),r=this.testAutomationStore.loadingIntegrationInstanceAndClass[t],u=(0,d.findConfiguredClassAndInstance)(e,(0,l.toJS)(s),(0,l.toJS)(a)),h=y.find(n,(e=>y.includes(p.default.SUPPORTED_SERVICES,y.get(e,"service"))));if(r||o)return i.createElement(f.default,{fields:b.CI_POWER_UP_FIELDS});if(u){const{configuredInstance:t,configuredClass:n}=u;return i.createElement(c.default,{fields:b.CI_POWER_UP_FIELDS,configuredInstance:t,configuredClass:n,clientCategory:e})}return y.isEmpty(h)?null:i.createElement(m.default,v({authenticationInstance:h},this.props))}})||o;I.PropTypes={apiId:r().string,apiVersionId:r().string,clientCategory:r().string}},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/GenericPowerUpTile.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/react/index.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Avatar/Avatar.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke-small.js"),m=n("./js/controllers/theme/ThemeManager.js"),h=n("./integrations/constants/integrationsConstants.ts"),g=n("./api-dev/constants/PowerUpYourAPIConstants.js"),f=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n("./node_modules/lodash/lodash.js");const y=f.default.div`
  display: flex;
  gap: var(--spacing-xs);
  align-items: center;
`;let v=(0,s.observer)(o=class extends r.Component{constructor(e){super(e)}getCIProjectName(e,t){const n=b.find(e,(e=>e.key===t));return b.get(n,"value")}getServicesPopoverValue(e){const t=e&&b.slice(e,1,e.length);return b.join(t,",\n")}renderDisplayServiceNameAndPopover(e,t,n){switch(e){case g.API_PERFORMANCE_INTEGRATION:const e=b.get(t,"services",[]),o=b.head(e),s=b.size(e),i=r.createElement(l.default,null,r.createElement(c.default,{color:"content-color-primary"}," +"+(s-1)));return r.createElement(l.default,{gap:"spacing-xs",grow:1,shrink:1,basis:1,minWidth:"0"},o?r.createElement(c.default,{type:"body-medium",color:"content-color-primary",isTruncated:!0},o):r.createElement(y,null,r.createElement(p.default,{color:"content-color-error"}),r.createElement(c.default,{type:"body-medium",color:"content-color-error",isTruncated:!0},"Unable to load services")),s>1?r.createElement(l.default,{alignItems:"center"},r.createElement(d.default,{trigger:i,position:"top-end",triggerEvent:"mouseenter",className:"power-up__apm-tool-tip"},r.createElement(c.default,{color:"content-color-primary"},this.getServicesPopoverValue(e)))):null);case g.CONTINUOUS_INTEGRATION:const a=this.getCIProjectName(t.inputs,h.CI_PROJECT_KEY[n.id]);return r.createElement(l.default,{gap:"spacing-xs",grow:1,shrink:1,basis:1,minWidth:"0"},a?r.createElement(c.default,{type:"body-medium",color:"content-color-primary",isTruncated:!0},a):r.createElement(y,null,r.createElement(p.default,{color:"content-color-error"}),r.createElement(c.default,{type:"body-medium",color:"content-color-error",isTruncated:!0},"Unable to load project")));default:return null}}renderTileFields(e,t,n,o){const s=b.get(o,"services[0]"),i=b.get(s,"name"),a=b.get(s,"iconUrl"),d=b.get(s,"darkIconUrl"),p=m.default.getCurrentTheme();return e===g.SOURCE||e===g.CONNECTED_WITH?r.createElement(l.default,{className:"power-up__tile-field",direction:"row",gap:"spacing-xs",width:"100%"},r.createElement(c.default,{type:"body-medium",color:"content-color-secondary",className:"power-up__tile-field__name"},e+": "),r.createElement(l.default,{gap:"spacing-xs",grow:1,shrink:1,basis:1,minWidth:"0",alignItems:"center"},r.createElement(u.default,{src:"dark"===p&&d||a,size:"xs"}),r.createElement(c.default,{type:"body-medium",color:"content-color-primary",isTruncated:!0},i))):r.createElement(l.default,{className:"power-up__tile-field",direction:"row",gap:"spacing-xs",width:"100%"},r.createElement(c.default,{type:"body-medium",color:"content-color-secondary",className:"power-up__tile-field__name"},e+": "),this.renderDisplayServiceNameAndPopover(t,n,o))}render(){const{fields:e,configuredInstance:t,configuredClass:n,clientCategory:o}=this.props;return r.createElement(l.default,{direction:"column",gap:"spacing-xs",alignItems:"flex-start",padding:{paddingTop:"spacing-s"}},b.map(e,(e=>this.renderTileFields(e,o,t,n))))}})||o;v.PropTypes={fields:a().array,configuredInstance:a().object,configuredClass:a().object,clientCategory:a().string}},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/common/LoadingPowerUpValues.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),s=n("../../node_modules/react/index.js"),i=n("./node_modules/lodash/lodash.js");t.default=e=>{const{fields:t}=e;return s.createElement(o.default,{className:"power-up__tile-loading",direction:"column",gap:"spacing-m",padding:{paddingTop:"spacing-l",paddingBottom:"spacing-s"}},i.map(t,(e=>s.createElement(o.default,{direction:"row",gap:"spacing-l"},s.createElement("div",{className:"power-up__tile-loading__label"}),s.createElement("div",{className:"power-up__tile-loading__body"})))))}},"./api-dev/components/api/api-tab/tiles/RepositoryIntegration/AuthenticationBanner.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),p=n("./integrations/git/services/OnPrem/constants.ts"),m=n("./integrations/git/constants.js"),h=n("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/DisconnectRemoteGitModal.js"),g=n("./api-dev/interfaces/APIInterface.js"),f=n("./node_modules/lodash/lodash.js");const b=(0,l.default)(c.default)`
  min-width: 180px;
`,y={[m.TOKEN_STATES.INVALID]:"Your repository's access token is no longer valid. Please disconnect and then reconnect to continue working on your repository in Postman.",[m.TOKEN_STATES.EXPIRED]:"Your repository's access token is no longer valid. Please disconnect and then reconnect to continue working on your repository in Postman.",[m.TOKEN_STATES.REPOSITORY_NOT_FOUND]:"We could not find your repository. Please disconnect and then reconnect to a new repository."};let v=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={isDisconnectRemoteGitModalOpen:!1,repository:"remote"},this.handleAuthenticationSuccess=this.handleAuthenticationSuccess.bind(this)}async componentDidMount(){const{model:e}=this.props,t=f.get(e,"apiRepositoryStore.apiVersionRepositoryInterface"),n=f.get(e,"apiRepositoryStore.versionStore.apiId"),o=f.get(e,"apiRepositoryStore.branch"),s=await t.getRemoteGitIntegration(),i=f.get(s,"repository.info.name"),a=f.get(s,"repository.service");this.setState({repository:i,service:a,apiId:n,branch:o})}handleAuthenticationSuccess(){const{model:e}=this.props;f.get(e,"apiRepositoryStore").hydrate()}apiTabDisconnectBanner(e){const t=y[e],{model:n}=this.props,o=f.get(n,"apiRepositoryStore");return a.createElement(a.Fragment,null,a.createElement(b,{hideIcon:!0,status:"error",primaryAction:a.createElement(d.default,{type:"outline",text:"Disconnect Repository",onClick:()=>{this.setState({isDisconnectRemoteGitModalOpen:!0})}})},t),a.createElement(h.default,{isOpen:this.state.isDisconnectRemoteGitModalOpen,model:o,close:()=>{this.setState({isDisconnectRemoteGitModalOpen:!1})}}))}sourceControlAuthBanner(e){const{model:t}=this.props,n=f.get(t,"apiRepositoryStore.apiVersionRepositoryInterface"),o=n.isUserAuthEmpty,s=f.get(n,"tokenState")===m.TOKEN_STATES.REPOSITORY_NOT_FOUND,i=f.get(n,"isServerUnreachable"),r=f.get(n,"tokenState"),l=f.get(n,"isHydrating");let p={type:"error",body:a.createElement(a.Fragment,null,"Your personal access token is no longer valid. Re-authenticate with ",e," from",a.createElement(d.default,{onClick:()=>{(0,g.navigateToAPIOverview)(this.state.apiId,this.state.branch)},text:"API overview",type:"monochrome-plain"}),"to continue contributing to this repository.")};return o&&(p={type:"info",body:a.createElement(a.Fragment,null,"Authenticate with ",e," from",a.createElement(d.default,{onClick:()=>{(0,g.navigateToAPIOverview)(this.state.apiId,this.state.branch)},text:"API overview",type:"monochrome-plain"}),"to start contributing to this repository.")}),s&&(p={type:"error",body:a.createElement(a.Fragment,null,"The repository is not accessible with your current token. Ensure your token has access or authenticate with a new one from",a.createElement(d.default,{onClick:()=>{(0,g.navigateToAPIOverview)(this.state.apiId,this.state.branch)},text:"API overview",type:"monochrome-plain"}),".")}),i&&(p=l?{type:"error",body:a.createElement(u.default,{description:"Loading"})}:r===m.TOKEN_STATES.UNKNOWN?{type:"error",body:a.createElement(a.Fragment,null,"Unable to load API elements. Check network connectivity and",a.createElement(d.default,{onClick:this.handleAuthenticationSuccess,text:"try again",type:"monochrome-plain"}),".")}:{type:"error",body:a.createElement(a.Fragment,null,"We could not reach your servers. Check network connectivity and",a.createElement(d.default,{onClick:this.handleAuthenticationSuccess,text:"try again",type:"monochrome-plain"}),".")}),a.createElement(c.default,{status:p.type,hideIcon:!0},p.body)}render(){const{model:e,bannerType:t}=this.props,{service:n}=this.state,o=f.get(e,"apiRepositoryStore.apiVersionRepositoryInterface"),s=f.get(p.SERVICES,[n,"label"],""),i=o.tokenState;return"disconnect"===t?this.apiTabDisconnectBanner(i):this.sourceControlAuthBanner(s)}})||o;v.propTypes={model:i().object.isRequired,bannerType:i().string.isRequired}},"./api-dev/components/api/api-tab/tiles/RepositoryIntegration/NoSupportBanner.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),d=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./integrations/git/stores/helpers.js"),p=n("./js/constants/SettingsTypeConstants.js");const m=(0,d.default)(a.default)`
  max-width: fit-content;
`;function h(e){const{view:t,serviceName:n,isIntegrationTypeSupported:s}=e;let i;const a=()=>{(0,u.openSettingsModal)(p.SETTINGS_UPDATE)},d=()=>{window.location.reload()};return i="sourceControl"==t?s?{title:"",body:`Your API is connected to a ${n} repository. Open the API on Postman Desktop app.`}:"browser"===window.SDK_PLATFORM?{title:"",body:o.createElement(r.default,{direction:"column",gap:"spacing-m"},o.createElement(l.default,null,"Your web app does not support the latest version of the connected repository integration."),o.createElement(m,{onClick:d,text:"Reload",type:"outline"}))}:{title:"",body:o.createElement(r.default,{direction:"column",gap:"spacing-m"},o.createElement(l.default,null,"Your app does not support the latest version of the connected repository integration."),o.createElement(m,{onClick:a,text:"Update App",type:"outline"}))}:s?{title:"Open the API on desktop app",body:`Your API is connected to a ${n} repository. To access API elements, use the Postman Desktop app.`}:"browser"===window.SDK_PLATFORM?{title:"Reload to work with this API",body:o.createElement(r.default,{direction:"column",gap:"spacing-m"},o.createElement(l.default,null,"Your web app does not support the latest version of the connected repository integration."),o.createElement(m,{onClick:d,text:"Reload",type:"outline"}))}:{title:"Update your app to work with this API",body:o.createElement(r.default,{direction:"column",gap:"spacing-m"},o.createElement(l.default,null,"Your app does not support the latest version of the connected repository integration."),o.createElement(m,{onClick:a,text:"Update App",type:"outline"}))},o.createElement(c.default,{status:"info",hideIcon:!0,title:i.title},i.body)}h.propTypes={view:i().string.isRequired,serviceName:i().string.isRequired,isIntegrationTypeSupported:i().string.isRequired}},"./api-dev/components/api/api-tab/tiles/RepositoryIntegration/NoSupportBannerOverviewTile.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("./integrations/git/services/OnPrem/constants.ts"),i=n("./api-dev/components/api/api-tab/tiles/RepositoryIntegration/NoSupportBanner.js"),a=n("./node_modules/lodash/lodash.js");function r(e){const{view:t,model:n}=e,r=a.get(n,"apiRepositoryStore.apiVersionRepositoryInterface"),l=a.get(r,"isIntegrationTypeSupported"),c=a.get(r,"configuredService"),d=a.get(s.SERVICES,c,{label:"Git"}).label;return o.createElement(i.default,{view:t,serviceName:d,isIntegrationTypeSupported:l})}},"./api-dev/components/api/api-tab/tiles/RepositoryIntegration/RepositoryIntegration.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("electron"),c=n("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/DisconnectLocalGitModal.js"),d=n("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/DisconnectRemoteGitModal.js"),u=n("./api-dev/components/common/RepositoryHeaderMenu/RepositoryHeaderMenu.tsx"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),I=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke-small.js"),E=n("./api-dev/components/api-repo-integration/APIRepositoryOptionsContainer/APIRepositoryOptionsContainer.js"),_=n("./api-dev/components/api-repo-integration/CreateLocalGitModal/CreateLocalGitModal.js"),S=n("./api-dev/components/api/api-tab/tiles/RepositoryIntegration/AuthenticationBanner.js"),C=n("./integrations/git/constants.js"),T=n("./js/stores/StoreManager.js"),j=n("./billing/stores/EnterpriseTrialOnboardingStore.js"),A=n("./appsdk/components/link/Link.js"),w=n("./growth/foundation/public/amplitude/AmplitudeService.js"),O=n("./node_modules/lodash/lodash.js");function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},N.apply(this,arguments)}const D=(0,r.default)(p.default)`
  width: 64px;
  flex-shrink: 0;
`,R=(0,r.default)(p.default)`
  flex: 1 1 0;
  min-width: 0;
`,P=(0,r.default)(m.default)`
  & > div:first-child {
    padding: var(--spacing-l);
  }`,M={type:"primary",text:"Got It"};let L=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.createLocalGit=this.createLocalGit.bind(this),this.handleCloseCreateLocalGitModal=this.handleCloseCreateLocalGitModal.bind(this),this.openFolderPath=this.openFolderPath.bind(this),this.renderLocalPathSection=this.renderLocalPathSection.bind(this),this.renderOnPremBanner=this.renderOnPremBanner.bind(this),this.fetchRepositoryInfo=this.fetchRepositoryInfo.bind(this),this.renderInvalidTokenBanner=this.renderInvalidTokenBanner.bind(this),this.renderBranchSection=this.renderBranchSection.bind(this),this.renderRepoSection=this.renderRepoSection.bind(this),this.renderHeaderSection=this.renderHeaderSection.bind(this),this.state={repositoryName:"",remoteRepositoryURL:void 0,localFolderPath:void 0,isLoading:!1,isDisconnectLocalGitModalOpen:!1,isDisconnectRemoteGitModalOpen:!1}}componentDidMount(){this.fetchRepositoryInfo()}createLocalGit(){this.props.model.setIsCreateLocalGitModalOpen&&this.props.model.setIsCreateLocalGitModalOpen(!0)}handleCloseCreateLocalGitModal(){this.props.model.setIsCreateLocalGitModalOpen(!1)}openFolderPath(e){l.shell.showItemInFolder(e)}renderLocalPathSection(e,t,n){return e?s.createElement("div",null,"Local: Use desktop app to work with Local"):t?s.createElement("div",{onClick:()=>this.openFolderPath(n)},"Local: ",s.createElement(p.default,{type:"link-default"},n)):s.createElement("div",null,"Local: Not Linked","\t",s.createElement(h.default,{type:"plain",text:"Link Folder",onClick:this.createLocalGit}))}renderInvalidTokenBanner(){const{model:e}=this.props,t=O.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface"),n=O.get(t,"authCategory"),o=O.get(t,"isTokenInvalid"),i=O.get(t,"isIntegrationListingBlocked"),a=O.get(t,"isIntegrationTypeSupported");return o&&!i&&a?n==C.AUTH_CATEGORY.PAT_LOCAL?null:s.createElement(S.default,{model:e,bannerType:"disconnect"}):null}renderOnPremBanner(e,t,n){return e?n?s.createElement(g.default,{title:"This API is connected to an on-prem repository.",status:"info",primaryAction:s.createElement(h.default,{type:"outline",text:"Open desktop app",onClick:()=>{}})},"You can only view the published versions. Use Postmans desktop app to contribute to this API."):t?null:s.createElement(g.default,{title:"Link your API with a local repository to contribute",status:"info"},"Repository connected is hosted on-prem, you can not edit the API without linking your local folder."):null}async getRepoStore(){return await(0,a.when)((()=>O.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.isAvailable"))),await(0,a.when)((()=>!O.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.isHydrating"))),O.get(this.props.model,"apiRepositoryStore",null)}async fetchRepositoryInfo(){this.setState({isLoading:!0});const e=await this.getRepoStore();if(!e||!O.get(e,"apiVersionRepositoryInterface.remoteGitConfigured"))return void this.setState({isLoading:!1});let t="",n=null,o=O.get(e,"apiVersionRepositoryInterface.isTokenInvalid"),s=O.get(e,"apiVersionRepositoryInterface.isUserAuthEmpty");if(O.get(e,"apiVersionRepositoryInterface.getRemoteGitIntegration")){const o=await e.apiVersionRepositoryInterface.getRemoteGitIntegration();t=O.get(o,"repository.info.name"),n=e.apiVersionRepositoryInterface.configuredService}const i=O.get(e,"apiVersionRepositoryInterface.links.repository"),a=O.get(e,"apiVersionRepositoryInterface.links.folder");this.setState({repositoryName:t,service:n,remoteRepositoryURL:o||s?null:i,localFolderPath:a,isLoading:!1})}renderRepoSection(){const{repositoryName:e,service:t}=this.state,n=O.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface.links.repository"),o=!O.isEmpty(e)&&!O.isEmpty(n),i=C.SERVICE_ICONS[t]||null;return s.createElement(f.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},s.createElement(D,null,"Remote: "),o?s.createElement(f.default,{gap:"spacing-xs",alignItems:"center"},i&&s.createElement(i,null),s.createElement(R,{type:"body-medium",color:"content-color-primary"},s.createElement(A.default,{to:n,target:"_blank"},s.createElement(p.default,{type:"link-default",isTruncated:!0,isExternal:!0},e)))):s.createElement(f.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},O.isEmpty(e)&&s.createElement(I.default,null),s.createElement(R,{type:"body-medium",color:"content-color-secondary"},e||"Unable to load")))}renderHeaderSection(){const e=O.get(this.props.model,"apiRepositoryStore");return s.createElement(f.default,{direction:"row",gap:"spacing-xs",alignItems:"center",justifyContent:"space-between"},s.createElement(b.default,{type:"h5",text:"Connected repository"}),s.createElement(u.default,{apiRepositoryStore:e,setIsDisconnectLocalGitModalOpen:e=>{this.setState({isDisconnectLocalGitModalOpen:e})},setIsDisconnectRemoteGitModalOpen:e=>{this.setState({isDisconnectRemoteGitModalOpen:e})}}))}renderBranchSection(){const e=O.get(this.props,"model.apiRepositoryStore.apiVersionRepositoryInterface"),t=O.get(e,"git.branch"),n=O.get(e,"links.branch"),o=!O.isEmpty(t)&&!O.isEmpty(n);return O.get(this.props,"model.apiRepositoryStore.canEditAPISource.allowed")?s.createElement(f.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},s.createElement(D,null,"Branch: "),o?s.createElement(R,{type:"body-medium",color:"content-color-primary"},s.createElement(A.default,{to:n,target:"_blank"},s.createElement(p.default,{type:"link-default",isTruncated:!0,isExternal:!0},t))):s.createElement(f.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},O.isEmpty(t)&&s.createElement(I.default,null),s.createElement(R,{type:"body-medium",color:"content-color-secondary"},t||"Unable to load"))):null}render(){const e=O.get(this.props.model,"apiRepositoryStore"),t=O.get(e,"apiVersionRepositoryInterface"),n=O.get(t,"remoteGitConfigured"),o=(O.get(t,"localGitConfigured"),O.get(t,"isTokenInvalid")),i=O.get(t,"isUserAuthEmpty"),a=(O.get(t,"isOnPremLocalIntegration"),window.SDK_PLATFORM,O.get(this.props.model,"apiEditorUIStore.noActiveScreen")),r=(0,T.resolveStoreInstance)(j.default).showConnectRepoPopover&&a,{isDisconnectLocalGitModalOpen:l,isDisconnectRemoteGitModalOpen:u}=this.state;if(!n)return s.createElement(f.default,{direction:"column",gap:"spacing-m"},s.createElement(p.default,{type:"para"},"Keep your API development in sync with your code by connecting your repository."),s.createElement("div",null,s.createElement(P,{pointer:!0,placement:"left-end",isOpen:r,onClickOutside:()=>(0,T.resolveStoreInstance)(j.default).updateState("connectRepo"),trigger:s.createElement("div",null,s.createElement(E.default,{model:this.props.model,editor:this.props.editor,promoteTab:O.get(this.props,"editor.promoteTab")}))},s.createElement(f.default,{direction:"column",gap:"spacing-l"},s.createElement(f.default,{direction:"column",gap:"spacing-s"},s.createElement(b.default,{type:"h3",text:"Link your Repository"}),s.createElement(p.default,{type:"para",color:"content-color-primary"},"Get started with connecting your repository and collaborate with the team. Learn more about",s.createElement(A.default,{to:"https://learning.postman.com/docs/designing-and-developing-your-api/versioning-an-api/using-external-git-repo/",target:"_blank",onClick:()=>{w.Ampli.enterpriseTrialOnboardingCoachmarkLearnMoreClicked()}},s.createElement(p.default,{type:"link-default"},"connecting a repository")))),s.createElement(y.default,null,s.createElement(h.default,N({},M,{onClick:()=>{(0,T.resolveStoreInstance)(j.default).updateState("connectRepo"),w.Ampli.enterpriseTrialOnboardingCoachmarkGotItClicked((0,w.getAmpliCTAProperties)(M))}})))))));return this.state.isLoading?s.createElement(f.default,{alignItems:"center",justifyContent:"center",padding:"spacing-l"},s.createElement(v.default,null)):s.createElement(s.Fragment,null,s.createElement(f.default,{direction:"column",gap:"spacing-s"},this.renderHeaderSection(),!i&&!o&&false,this.renderRepoSection(),this.renderBranchSection(),this.renderInvalidTokenBanner(),false),s.createElement(_.default,{model:this.props.model,isOpen:O.get(this.props,"model.isCreateLocalGitModalOpen"),close:this.handleCloseCreateLocalGitModal,promoteTab:this.props.promoteTab}),s.createElement(c.default,{isOpen:l,model:e,close:()=>{this.setState({isDisconnectLocalGitModalOpen:!1})}}),s.createElement(d.default,{isOpen:u,model:e,close:()=>{this.setState({isDisconnectRemoteGitModalOpen:!1})}}))}})||o},"./api-dev/components/common/APIOffline/APIOffline.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CheckInternetConnection.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js");class a extends o.Component{getHeadingColor(){return"sidebar"===this.props.origin?"content-color-secondary":"content-color-primary"}render(){return o.createElement("div",{className:`api-offline ${this.props.origin}`},o.createElement("div",{className:"api-offline__blank-state"},o.createElement(s.default,null)),o.createElement("div",{className:"api-offline__content"},o.createElement("div",{className:"api-offline__content__header"},o.createElement(i.default,{color:this.getHeadingColor(),typographyStyle:{fontSize:"text-size-l",fontWeight:"text-weight-medium",lineHeight:"line-height-m"}},"Unable to load data as you're offline")),o.createElement("div",{className:"api-offline__content__sub-header"},o.createElement(i.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-m"}},"Your data may not be up to date until youre back online."))))}}},"./api-dev/components/common/DeleteModal/DeleteModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("./js/stores/StoreManager.js"),h=n("./js/stores/SyncStatusStore.js"),g=n("./node_modules/lodash/lodash.js");const f=a.default.label`
  &&& {
    margin-bottom: var(--spacing-s);
  }
`;let b=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={textInputValue:"",inputValueIsValid:!1},this.handleClose=this.handleClose.bind(this),this.setTextInputValue=this.setTextInputValue.bind(this),this.getTooltipMessage=this.getTooltipMessage.bind(this),this.renderModalContent=this.renderModalContent.bind(this),this.unsetComponentState=this.unsetComponentState.bind(this)}componentDidUpdate(e){e.isOpen!==this.props.isOpen&&this.unsetComponentState()}unsetComponentState(){this.setState({textInputValue:"",inputValueIsValid:!1})}setTextInputValue(e){this.setState({textInputValue:e,inputValueIsValid:!1}),e===this.props.additionalData.apiName&&this.setState({inputValueIsValid:!0})}handleClose(){this.props.onRequestClose&&this.props.onRequestClose()}renderModalContent(){return g.isEmpty(this.props,"additionalData")||"api"!==g.get(this.props,"additionalData.type")?this.props.content:i.createElement(r.default,{direction:"column",gap:"spacing-l"},i.createElement(l.default,{status:"warning"},"You cannot restore this API once deleted."),i.createElement(i.Fragment,null,i.createElement(c.default,null,i.createElement(c.default,{type:"body-medium"},"Collections, environments and definition that are part of this API will also be deleted."))),i.createElement(f,{htmlFor:"confirm-delete-api-button"},i.createElement(c.default,{color:"content-color-secondary"},"Enter",i.createElement(c.default,{type:"strong"},this.props.additionalData.apiName),"to proceed")),i.createElement(d.default,{id:"confirm-delete-api-button",placeholder:"",value:this.state.textInputValue,onChange:e=>this.setTextInputValue(e.target.value)}))}getTooltipMessage(){return!(0,m.resolveStoreInstance)(h.default).isSocketConnected?"Please make sure you are connected to the internet":!g.isEmpty(this.props.additionalData)&&!this.state.inputValueIsValid&&"Please enter the name of this API to confirm"}render(){const e=!(0,m.resolveStoreInstance)(h.default).isSocketConnected,t=this.getTooltipMessage(),n=e||this.props.isLoading||!g.isEmpty(this.props.additionalData)&&!this.state.inputValueIsValid;return i.createElement(u.Modal,{isOpen:this.props.isOpen,onClose:this.handleClose,size:"small"},i.createElement(u.ModalHeader,{heading:"Delete API and all API elements?"}),i.createElement(u.ModalContent,null,this.renderModalContent()),i.createElement(u.ModalFooter,null,i.createElement(r.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-s"},i.createElement(p.default,{type:"secondary",onClick:this.handleClose,text:"Cancel"}),i.createElement(p.default,{type:"destructive",onClick:this.props.onSubmit,isDisabled:n,autoFocus:!0,tooltip:t,isLoading:this.props.isLoading,text:this.props.btnContent}))))}})||o},"./api-dev/components/common/EmptyState/EmptyState.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s);function a(e){return o.createElement("div",{className:i()("api-dev-empty-state",e.className)},e.imageClass&&o.createElement("div",{className:"api-dev-empty-state__image-wrapper"},o.createElement("div",{className:e.imageClass})),e.blankState&&o.createElement("div",{className:"api-dev-empty-state__blankState-wrapper"},e.blankState),e.title&&o.createElement("h4",{className:"api-dev-empty-state__title"},e.title),e.body&&o.createElement("div",{className:"api-dev-empty-state__body"},e.body),e.action&&o.createElement("div",{className:"api-dev-empty-state__action-wrapper"},e.action),e.subText&&o.createElement("div",{className:"api-dev-empty-state__subtext"},e.subText))}},"./api-dev/components/common/GenerationConfigOptions/GenerationConfigOptions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),a=n("./integrations/components/ConfigurationsComponent.js"),r=n("./node_modules/lodash/lodash.js");class l extends o.Component{constructor(e){super(e),this.state={showOptions:!1},this.handleToggle=this.handleToggle.bind(this)}componentDidMount(){this.props.forceShowOptions&&this.handleToggle(null,!0)}shouldComponentUpdate(e){return e.forceShowOptions===this.props.forceShowOptions}handleToggle(e,t){this.setState((e=>({showOptions:t||!e.showOptions})),(()=>{this.props.onToggle&&this.props.onToggle(this.state.showOptions)}))}getButtonText(){return this.state.showOptions?"Hide advanced settings":"Show advanced settings"}render(){let e=this.state.showOptions?"icon-direction-down":"icon-direction-right";return r.isEmpty(this.props.options)?null:o.createElement(o.Fragment,null,o.createElement("div",{className:"generation-config-options__toggle-button",onClick:this.handleToggle},o.createElement(i.default,{name:e,color:"content-color-primary",className:"toggle-button-icon"}),o.createElement(s.default,{type:"body-small",color:"content-color-primary"},this.getButtonText())),this.state.showOptions&&o.createElement("div",{className:"generation-config-options-wrapper"},o.createElement(a.default,{optionsArray:this.props.options,optionsPreference:this.props.preferences,onSubmit:this.props.onOptionsChange})))}}},"./api-dev/components/common/MultilevelSearchableDropdown/MultilevelSearchableDropdown.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./js/components/base/Dropdowns.js"),c=n("./js/components/base/Inputs.js"),d=n("./js/components/base/Buttons.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),h=n("./js/components/base/LoadingIndicator.js"),g=n("./api-dev/constants/APIRepositoryConstants.js"),f=n("./node_modules/lodash/lodash.js");let b=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={focusedItem:null,inputValue:null},this.handleInputChange=this.handleInputChange.bind(this),this.handleDropdownSelect=this.handleDropdownSelect.bind(this)}getWrapperClasses(){return r()({[this.props.className]:!0,"api-dev-multilevel-searchable-dropdown-wrapper":!0,"is-disabled":this.props.disabled})}focusOption(e){this.setState({focusedItem:e})}handleMouseEnter(e){this.focusOption(e)}handleMouseLeave(){this.focusOption(null)}renderStickyItem(){const{stickyItem:e,getOptionsDisplayValue:t,selectedItem:n}=this.props,{inputValue:o,focussedItem:i}=this.state,a=e.id===f.get(n,"id"),c=e.id===f.get(i,"id");return s.createElement(l.MenuItem,{className:r()({item:!0,"is-selected":a,"is-focused":c}),key:e.id,refKey:e.id,onMouseEnter:this.handleMouseEnter.bind(this,e),onMouseLeave:this.handleMouseLeave.bind(this)},t({item:e,searchQuery:o}))}renderPreviousLevelTrigger(){const{isPreviousLevelAvailable:e,getPreviousLevelData:t,previousLevelItem:n,isSubsequentDataLoading:o,getOptionsDisplayValue:i}=this.props;return e?s.createElement("div",{className:"dropdown-menu__previous-button-wrapper"},s.createElement(d.Button,{type:"tertiary",onClick:t,disabled:o},s.createElement(m.default,{name:"icon-direction-back",color:"content-color-tertiary"}),s.createElement("span",{className:"dropdown-menu__previous-button-text"},i({item:n,renderingFor:g.DIRECTORY_DROPDOWN_DISPLAY_OPTIONS.previousLevelTrigger})))):null}renderNextLevelTrigger(e){const{isNextLevelAvailable:t,getNextLevelData:n}=this.props;return t(e)?s.createElement(d.Button,{className:"next-level",type:"tertiary",icon:"icon-direction-forward",onClick:t=>{t&&t.stopPropagation(),t&&t.preventDefault(),n&&n(e)}},s.createElement(m.default,{name:"icon-direction-right",color:"content-color-tertiary"})):null}renderEmptyMenuState(e){return e?s.createElement("div",{className:"empty-dropdown-menu-message"},s.createElement(u.default,{isTruncated:!0},'No results found for "',e,'"')):s.createElement("div",{className:"empty-dropdown-menu-message"},s.createElement("span",null,"No usable directory found. ",s.createElement("br",null),"Note: You cannot use the same directory for schema and collections."))}renderMenuItems(){const{getOptionsDisplayValue:e,getFilteredList:t,selectedItem:n,stickyItem:o,isSubsequentDataLoading:i}=this.props,{inputValue:a,focussedItem:c}=this.state;if(this.visibleItems=t(a),i)return[s.createElement(h.default,{key:"loading"}),this.renderStickyItem()];if(f.isEmpty(this.visibleItems))return[this.renderEmptyMenuState(a),this.renderStickyItem()];const d=f.concat(this.visibleItems,o);return f(d).map((t=>{const o=e({item:t,searchQuery:a}),i=t.id===f.get(c,"id"),d=t.id===f.get(n,"id");if(o)return s.createElement(l.MenuItem,{className:r()({item:!0,"is-focused":i,"is-selected":d}),key:t.id,refKey:t.id,onMouseEnter:this.handleMouseEnter.bind(this,t),onMouseLeave:this.handleMouseLeave.bind(this)},s.createElement("div",{className:"item-wrapper"},o),this.renderNextLevelTrigger(t))})).compact().value()}handleInputChange(e){this.setState({inputValue:e})}selectFocusedOption(e){const t=e||this.state.focusedItem;this.props.onSelect&&this.props.onSelect(t)}handleDropdownSelect(e){const{stickyItem:t}=this.props,n=t?this.visibleItems.concat(t):this.visibleItems,o=f.find(n,{id:e});o&&this.selectFocusedOption(o)}renderDropdown(){const{searchInputPlaceholder:e="Type to filter",getOptionsDisplayValue:t,disabled:n,selectedItem:o,optionSelectionPlaceholder:i="Select"}=this.props;return s.createElement("div",{className:this.getWrapperClasses()},s.createElement(l.Dropdown,{className:"multilevel-searchable-dropdown",onSelect:this.handleDropdownSelect},s.createElement(l.DropdownButton,{type:"secondary",size:"small"},s.createElement(d.Button,{disabled:n,className:"dropdown-button"},s.createElement("div",{className:"selected-label"},o?t({item:o,renderingFor:g.DIRECTORY_DROPDOWN_DISPLAY_OPTIONS.selectedItem}):i))),s.createElement(l.DropdownMenu,{fluid:!0,className:"dropdown-menu"},this.renderPreviousLevelTrigger(),s.createElement(c.Input,{className:"search-input",hideCancelOnBlur:!1,hideSearchGlass:!1,icon:"icon-action-filter-stroke",inputStyle:"search",placeholder:e,query:this.state.inputValue,selectAllOnFocus:!0,onCancel:this.handleCancel,onChange:f.debounce(this.handleInputChange,20),onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,disabled:this.props.disabled}),this.renderMenuItems())))}render(){const{tooltip:e}=this.props;return e?s.createElement(p.default,{content:e},this.renderDropdown()):this.renderDropdown()}})||o},"./api-dev/components/common/tab/Tile/Tile.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("./node_modules/classnames/index.js"),c=n.n(l);let d=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isCollapsed:!1},this.toggleCollapse=this.toggleCollapse.bind(this)}toggleCollapse(){this.setState((({isCollapsed:e})=>({isCollapsed:!e})))}getClassesForTile(e){return e||(e="left"),c()({"api-tile":!0,[`${e}-tile`]:!0,[this.props.className]:!0})}stopCollapseToggle(e){e&&e.stopPropagation()}renderHeader(){this.state.isCollapsed;const e=this.props.headerText,t=this.props.actionItem;return e?s.createElement(a.default,{direction:"row",alignItems:"center",className:"api-tile__header__content"},s.createElement("div",{className:"api-tile__header__content__text"},s.createElement(r.default,{type:"h4",text:e})),t&&s.createElement("div",{className:"api-tile__header__content__action-item",onClick:this.stopCollapseToggle},t())):null}render(){if(this.props.shouldHide)return null;const e=!this.state.isCollapsed,t=this.props.tileSide;return s.createElement("div",{className:this.getClassesForTile(t)},s.createElement(a.default,{direction:"column",gap:"spacing-zero"},this.renderHeader(),s.createElement("div",{className:"api-tile__body"},e&&this.props.renderBody())))}})||o;t.default=d},"./api-dev/components/new-api/APIRepositorySetup/APIRepositorySetup.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var o,s=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/QuickLinks.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),u=n("../../node_modules/mobx/lib/mobx.module.js"),p=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),m=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),h=n("../../node_modules/react/index.js"),g=n("./appsdk/components/link/Link.js"),f=n("./js/services/NavigationService.js"),b=n("./js/stores/CurrentUserStore.js"),y=n("./js/stores/StoreManager.js"),v=n("./onboarding/src/common/LaunchDarkly.js"),I=n("./api-dev/constants/APIRepositoryConstants.js"),E=n("./api-dev/constants/APISourceConfigurationConstants.js"),_=n("./api-dev/constants/ExternalLinks.js"),S=n("./api-dev/stores/APIListStore.js"),C=n("./api-dev/util/error.js"),T=n("./billing/stores/EnterpriseTrialOnboardingStore.js"),j=n("./growth/foundation/public/amplitude/AmplitudeService.js"),A=n("./js/modules/services/AnalyticsService.js"),w=n("./api-dev/constants/V10UIConstants.js"),O=n("./integrations/git/services/OnPrem/constants.ts"),N=n("./node_modules/lodash/lodash.js");function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},D.apply(this,arguments)}const R=(0,m.default)(s.default)`
  & > div:first-child {
    padding: var(--spacing-l);
  }
`,P={type:"primary",text:"Got It"};let M=(0,p.observer)(o=class extends h.Component{constructor(e){super(e),this.state={featureFlags:{}},this.setFeatureFlags=this.setFeatureFlags.bind(this),this.handleConnectRepoSelection=this.handleConnectRepoSelection.bind(this),this.renderConnectRepositoryOptions=this.renderConnectRepositoryOptions.bind(this),this.handleCreateAPIFromScratch=this.handleCreateAPIFromScratch.bind(this)}componentDidMount(){(0,u.when)((()=>pm.billing),(()=>this.setFeatureFlags()))}setFeatureFlags(){pm.billing.onPlanFeaturesLoad().then((()=>{this.setState((e=>{const t=I.BILLED_FEATURE_NAMES.reduce(((e,t)=>e={...e,[t]:N.get(pm,["billing","plan","features",t,"value"])}),{});return{featureFlags:{...e.featureFlags,...t}}}))})).catch((()=>{pm.logger.warn("APIRepositoryOptionsContainer~ Failed to fetch feature info")}))}handleConnectRepoSelection(e){const t=!(0,y.resolveStoreInstance)(b.default).isLoggedIn,n=(0,y.resolveStoreInstance)(b.default).team,o=this.props.model.apiId,s=this.props.model.id;A.default.addEventV2({category:"api_repo_integration_v2",entityId:o,action:"initiate_connect_repository",label:e,value:1}),t?pm.mediator.trigger("showSignInModal",{type:"APIRepositoryConnect",origin:"api_builder_connect_repository_button",continueUrl:new URL(window.location.href)}):n&&f.default.transitionTo("build.connectAPIRepository",{apiId:o,gitService:e},{version:s})}renderConnectRepositoryOptions(e){const{featureFlags:t}=e;return Object.keys(I.GIT_SERVICES_LIST).map((e=>{const n=I.GIT_SERVICES_LIST[e].serviceName,o=I.GIT_SERVICES_LIST[e].icon,s=I.GIT_SERVICES_LIST[e].isOnPrem,a=I.GIT_SERVICES_LIST[e].maskedServiceName,r=I.GIT_SERVICES_LIST[e].dropdownOptionName,l=I.GIT_SERVICES_LIST[e].billedFeatureName,c=N.get(I.GIT_SERVICES_LIST,[e,"featureFlag"]),d=s&&v.launchDarkly.getFlag("enable-desktop-on-prem",!1)&&"browser"===window.SDK_PLATFORM&&!N.isEmpty(O.SERVICES[n]),u=!(({featureFlag:e,featureFlags:t,billedFeatureName:n})=>{const o=!e||v.launchDarkly.getFlag(e,!1),s=!n||t[n];return o&&s})({featureFlag:c,featureFlags:t,billedFeatureName:l,isOnPrem:s,serviceName:n}),p=(0,y.resolveStoreInstance)(b.default).team,m=!(0,y.resolveStoreInstance)(b.default).isLoggedIn;let g,f;return u?null:(d&&(g=!0,f=w.USE_DESKTOP_APP_TOOLTIP),p&&!m||(g=!0,f=w.SIGN_IN_TO_TEAM_TOOLTIP),h.createElement(i.default,{key:a,onClick:()=>this.handleConnectRepoSelection(a),type:"outline",text:r,isDisabled:g,tooltip:f,icon:h.createElement(o,null)}))}))}handleCreateAPIFromScratch(){return this.props.toggleIsLoadingAPI(),(0,y.resolveStoreInstance)(S.default).configureAPI(this.props.apiId,E.CREATE_FROM_SCRATCH).catch((e=>{(0,C.handleError)(e,"Something went wrong while editing the API")})).finally((()=>{this.props.toggleIsLoadingAPI()}))}render(){const e=N.get(this.props.model,"apiEditorUIStore.noActiveScreen"),t=(0,y.resolveStoreInstance)(T.default).showConnectRepoPopover&&e;return h.createElement(a.default,{direction:"column",alignItems:"center",gap:"spacing-xxxl",width:"55%",padding:{paddingTop:"spacing-xl",paddingBottom:"spacing-xl"}},h.createElement(a.default,{direction:"column",gap:"spacing-xl",alignItems:"center",padding:{paddingBottom:"spacing-s"}},h.createElement(r.default,null),h.createElement(a.default,{direction:"column",gap:"spacing-s",alignItems:"center",className:"connect-repo-heading-view"},h.createElement(R,{pointer:!0,placement:"left-end",isOpen:t,onClickOutside:()=>(0,y.resolveStoreInstance)(T.default).updateState("connectRepo"),trigger:h.createElement("div",null,h.createElement(l.default,{type:"h1",text:"Quickstart your API by connecting a repository"}))},h.createElement(a.default,{direction:"column",gap:"spacing-l"},h.createElement(a.default,{direction:"column",gap:"spacing-s"},h.createElement(l.default,{type:"h3",text:"Lets start with an API"}),h.createElement(c.default,{type:"para",color:"content-color-primary"},"You can create a new API or import an existing API schema to begin API development. Learn more about",h.createElement(g.default,{to:"https://learning.postman.com/docs/designing-and-developing-your-api/the-api-workflow/",target:"_blank",onClick:()=>{j.Ampli.enterpriseTrialOnboardingCoachmarkLearnMoreClicked()}},h.createElement(c.default,{type:"link-default"},"creating an API")))),h.createElement(d.default,null,h.createElement(i.default,D({},P,{onClick:()=>{(0,y.resolveStoreInstance)(T.default).updateState("connectRepo"),j.Ampli.enterpriseTrialOnboardingCoachmarkGotItClicked((0,j.getAmpliCTAProperties)(P))}}))))),h.createElement(c.default,null,"Import definition and collections from a repository and keep them in sync with API development.",h.createElement(c.default,{isExternal:!0,type:"link-default"},h.createElement(g.default,{to:_.LEARN_ABOUT_API_GIT_INTEGRATION_LINK,target:"_blank"},"Learn more")))),h.createElement(a.default,{direction:"row",gap:"spacing-m",wrap:"wrap",justifyContent:"center",className:"repo-options-list"},this.renderConnectRepositoryOptions({featureFlags:this.state.featureFlags}))),h.createElement(c.default,{color:"content-color-primary"},"Or,",h.createElement("span",{onClick:this.handleCreateAPIFromScratch},h.createElement(c.default,{type:"link-primary"},"continue without a repository"))))}})||o},"./api-dev/components/new-api/CreateAPITab/CreateAPITab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),i=n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js"),a=n("./js/services/NavigationService.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),l=n("./node_modules/lodash/lodash.js");class c extends o.Component{constructor(e){super(e),this.retry=this.retry.bind(this)}retry(){return a.default.transitionTo("build.createAPI")}render(){return l.isEmpty(this.props.controller.error)?o.createElement(i.default,null):o.createElement(s.default,{title:"Couldn't load the API",description:"That wasnt supposed to happen. Give it another try.",blankState:o.createElement(r.default,null),buttonText:"Try Again",handler:this.retry})}}},"./api-dev/components/new-api/NewAPIOptionsTab/NewAPIOptionsTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=(n("../../node_modules/react-dom/index.js"),n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js")),l=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),u=n("./js/components/base/InlineInput.js"),p=n("./js/stores/StoreManager.js"),m=n("./js/stores/SyncStatusStore.js"),h=n("./api-dev/stores/APIListStore.js"),g=n("./api-dev/components/api-version/common/APIStatusIcon/APIStatusIcon.js"),f=n("./api-dev/components/common/APIOffline/APIOffline.js"),b=(n("./api-dev/public/assets/images/Log.svg"),n("./api-dev/public/assets/images/AI.svg"),n("./api-dev/public/assets/images/postman-API.svg"),n("./api-dev/services/APIDevService.js"),n("./runtime-repl/collection/_api/CollectionStoreV2.js"),n("./api-dev/components/new-api/APIRepositorySetup/APIRepositorySetup.js")),y=n("./node_modules/lodash/lodash.js");(0,a.default)(r.default)`
  & > div:first-child {
    padding: var(--spacing-l);
  }
`;let v=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.handleRename=this.handleRename.bind(this),this.handleRenameSubmit=this.handleRenameSubmit.bind(this),this.handleToggleEditName=this.handleToggleEditName.bind(this)}componentDidMount(){this.props.keepInRenamingState&&this.inlineInput&&this.inlineInput.toggleEdit()}handleRenameSubmit(e){(0,p.resolveStoreInstance)(h.default).rename(this.props.apiId,e)}handleToggleEditName(e){const t=this.inlineInput;t&&(t.focus(),t.selectAll())}handleRename(){this.inlineInput&&this.inlineInput.toggleEdit()}renderAPIName(){return s.createElement("div",{className:"api-name-label",title:this.props.apiName},s.createElement(u.default,{className:"api-name-input",onToggleEdit:this.handleToggleEditName,onSubmit:this.handleRenameSubmit,ref:e=>this.inlineInput=e,value:this.props.apiName,placeholder:"API Name"}),s.createElement(g.default,{isEditable:!0}),s.createElement(l.default,{content:"Edit API name",placement:"bottom",immediate:!0},s.createElement("div",{className:"edit-icon-rename",onClick:this.handleRename},s.createElement(d.default,{name:"icon-action-edit-stroke",color:"content-color-secondary",size:"small"}))))}renderOfflineState(){return s.createElement(f.default,{origin:"api-editor"})}renderAPIOptionsTabContent(e){return this.state.currentTabState?s.createElement(NewAPISetup,{currentTabState:this.state.currentTabState,handleBackNavigation:this.handleBackNavigation.bind(this),toggleIsLoadingAPI:this.props.toggleIsLoadingAPI,editor:this.props.editor,model:this.props.model,apiId:this.props.apiId}):this.state.isFetchingCollections?void 0:s.createElement(s.Fragment,null,s.createElement("div",{className:"new-api__header"},s.createElement("div",{className:"new-api__header-api-name"},this.renderAPIName())),s.createElement("div",{className:"new-api__break"}),s.createElement(c.default,{direction:"column",height:"100%","align-self":"center",justifyContent:"center"},s.createElement("div",{className:"new-api__content"},y.map(e,(e=>"Start with collections"!==e.title||this.state.hasCollections?s.createElement("div",{className:"new-api__content__card"},this.renderCard(e)):s.createElement(l.default,{content:"There are no collections in this workspace.",placement:"bottom",immediate:!0},s.createElement("div",{className:"new-api__content__card__disabled"},this.renderCard(e))))))))}render(){return!(0,p.resolveStoreInstance)(m.default).isSocketConnected?this.renderOfflineState():s.createElement(c.default,{direction:"column",height:"100%",className:"new-api-options-tab"},s.createElement(c.default,{padding:"spacing-l"},this.renderAPIName()),s.createElement(c.default,{justifyContent:"center",alignItems:"center",grow:1},s.createElement(b.default,{model:this.props.model,editor:this.props.editor,apiId:this.props.apiId,toggleIsLoadingAPI:this.props.toggleIsLoadingAPI})))}})||o},"./api-dev/components/release/DeleteRelease/DeleteReleaseModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),i=n("./js/modules/services/AnalyticsService.js"),a=n("./node_modules/lodash/lodash.js");class r extends o.Component{constructor(e){super(e),this.handleDeleteRelease=this.handleDeleteRelease.bind(this)}handleDeleteRelease(){const e=a.get(this.props,"apiVersionId"),t=a.get(this.props,"releaseId"),n=a.get(this.props,"apiId");i.default.addEventV2({category:"release",action:"confirm_delete",label:this.props.origin,value:1,entityId:t}),this.props.model.deleteRelease(n,e,t).then((()=>{this.props.postSuccessCallback&&this.props.postSuccessCallback()})).catch((()=>{pm.toasts.error("Couldn't delete the version. Please try again.")})).finally((()=>{this.props.toggleDeleteReleaseModal(!1)}))}render(){return o.createElement(s.default,{isOpen:this.props.isOpen,onRequestClose:this.props.toggleDeleteReleaseModal,headerTitle:"Delete version?",content:"This action is permanent and version cant be restored.",btnContent:"Delete Version",onSubmit:this.handleDeleteRelease,isLoading:this.props.isDeletingRelease})}}},"./api-dev/components/release/EditRelease/EditReleaseModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("./js/components/base/keymaps/KeyMaps.js"),u=n("./js/components/base/LoadingIndicator.js"),p=n("./js/stores/StoreManager.js"),m=n("./js/stores/SyncStatusStore.js"),h=n("./js/modules/services/AnalyticsService.js"),g=n("./api-dev/components/release/VersionNotesEditor/VersionNotesEditor.js"),f=n("../../packages/documentation/mimir-editor/index.js"),b=n("./node_modules/lodash/lodash.js");let y=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={isLoading:!1,releaseName:"",visibility:"public",releaseSummary:"",isErrorSummary:!1,releaseDescription:"",gitTags:[],selectedGitTag:null,tagsFetchFailed:!1,wysiwygFormat:f.ConversionFormat.MARKDOWN},this.wysiwygRef=s.createRef(),this.releaseDescriptionProps=null,this.handleClose=this.handleClose.bind(this),this.handleReleaseNameChange=this.handleReleaseNameChange.bind(this),this.handleUpdateRelease=this.handleUpdateRelease.bind(this),this.isUpdateReleaseButtonDisabled=this.isUpdateReleaseButtonDisabled.bind(this),this.renderUpdateReleaseModalContent=this.renderUpdateReleaseModalContent.bind(this)}getVersionNotes(){return b.isFunction(b.get(this.wysiwygRef,"current.slateToMD"))?this.wysiwygRef.current.slateToMD():this.state.releaseDescription}isReleaseNameEmpty(){return""===this.state.releaseName}initializeState(){const e=this.props.releaseSummary?this.props.releaseSummary:"";this.setState({releaseName:this.props.releaseName,releaseSummary:e,releaseDescription:this.props.releaseDescription,visibility:this.props.releaseVisibility,selectedGitTag:{name:"Select a tag",commit:null}})}componentDidUpdate(e){this.props.isOpen&&this.props.isOpen!==e.isOpen&&this.initializeState()}getKeyMapHandlers(){return{quit:pm.shortcuts.handle("quit",this.handleClose)}}handleClose(){b.get(this.props.model,"isUpdatingRelease")||(this.setState({isLoading:!1,releaseName:this.props.releaseName,releaseSummary:b.get(this.props,"releaseSummary",""),releaseDescription:this.props.releaseDescription,visibility:this.props.releaseVisibility,wysiwygFormat:f.ConversionFormat.MARKDOWN}),this.releaseDescriptionProps=null),this.props.toggleUpdateReleaseModal(!1)}handleReleaseNameChange(e){this.setState({releaseName:e.target.value})}getCustomStyles(){return{width:"468px",margin:"auto"}}isUpdateReleaseButtonDisabled(){const{releaseName:e,visibility:t,releaseSummary:n,releaseDescription:o}=this.state,s=this.releaseDescriptionProps&&JSON.stringify(this.releaseDescriptionProps)!==JSON.stringify(o),i=e!==this.props.releaseName,a=t!==this.props.releaseVisibility,r=this.props.releaseSummary?this.props.releaseSummary:"",l=i||a||n!==r||s,c=!(0,p.resolveStoreInstance)(m.default).isSocketConnected,d=!b.trim(this.state.releaseName),u=b.get(this.props.model,"isUpdatingRelease");return!l||c||d||u}handleUpdateRelease(){const{releaseName:e,releaseDescription:t}=this.state,n=b.get(this.props,"apiVersionId"),o=b.get(this.props,"releaseId"),s=b.get(this.props,"apiId");let i={name:e,description:this.getVersionNotes()};h.default.addEventV2({category:"release",action:"confirm_edit",label:this.props.origin,value:1,entityId:o}),this.props.model.updateRelease(s,n,o,i).then((()=>{})).catch((()=>{pm.toasts.error("Couldn't update the version. Try again.")})).finally((()=>{this.handleClose()}))}handleToggleVisibilityCheckbox(){this.setState((e=>({visibility:"private"===e.visibility?"public":"private"})))}handleReleaseDescriptionChange({content:e,wysiwygFormat:t}){this.releaseDescriptionProps||(this.releaseDescriptionProps=this.wysiwygRef.current.mdToSlate(this.props.releaseDescription,!1)),this.setState({releaseDescription:e,wysiwygFormat:t})}renderUpdateReleaseModalContent(){return this.state.isLoading?s.createElement("div",{className:"update-release-modal__content--loader"},s.createElement(u.default,null)):s.createElement("div",{className:"update-release-modal__content","data-testId":"update-release-modal__content"},s.createElement("div",{className:"update-release-modal__content__name"},s.createElement("div",{className:"update-release-modal__content__name__input","data-testId":"update-release-modal__content__name__input"},s.createElement(a.default,{label:s.createElement(r.default,{text:"Version label"}),value:this.state.releaseName,onChange:this.handleReleaseNameChange,autoFocus:!0,validationStatus:this.isReleaseNameEmpty()?"error":null,validationMessage:this.isReleaseNameEmpty()?"Please enter a version label":null}))),s.createElement(g.default,{wysiwygRef:this.wysiwygRef,versionNotes:this.state.releaseDescription,wysiwygFormat:this.state.wysiwygFormat,onChange:e=>this.handleReleaseDescriptionChange(e)}))}render(){const e=!(0,p.resolveStoreInstance)(m.default).isSocketConnected;return s.createElement(s.Fragment,null,s.createElement(l.Modal,{className:"update-release-modal",isOpen:this.props.isOpen,size:"small",onClose:this.handleClose},s.createElement(l.ModalHeader,{className:"update-release-modal__container-header",heading:"Edit version"}),s.createElement(l.ModalContent,{className:"update-release-modal__container"},this.renderUpdateReleaseModalContent()),s.createElement(l.ModalFooter,{className:"update-release-modal__footer"},s.createElement(d.default,{keyMap:pm.shortcuts.getShortcuts(),handlers:this.getKeyMapHandlers(),ref:this.props.keymapRef},s.createElement("div",{className:"update-release-modal__footer__buttons","data-testId":"update-release-modal__footer__buttons"},s.createElement(c.default,{type:"secondary",text:"Cancel",onClick:this.handleClose}),s.createElement(c.default,{className:"update-release-modal__footer__add-button",type:"primary",text:"Save Changes",onClick:this.handleUpdateRelease,isDisabled:this.isUpdateReleaseButtonDisabled(),isLoading:b.get(this.props.model,"isUpdatingRelease"),tooltip:e&&"Get online to perform this action"}))))))}})||o},"./api-dev/components/release/PublishAPI/PublishAPIModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBoxGroup/CheckboxGroup.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),h=n("./api-dev/services/APIDevService.js"),g=n("./api-dev/util/error.js"),f=n("../../packages/api-network/private-network/index.js"),b=n("./onboarding/src/common/LaunchDarkly.js"),y=n("./js/stores/StoreManager.js"),v=n("./api-dev/stores/ReleaseListStore.js"),I=n("./js/modules/services/AnalyticsService.js"),E=n("../../packages/documentation/mimir-editor/index.js"),_=n("./api-dev/components/release/VersionNotesEditor/VersionNotesEditor.js"),S=n("./js/stores/SyncStatusStore.js");const C=n("./node_modules/lodash/lodash.js");let T=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={versionName:"",versionNotes:"",ignoredEntities:new Map,publishButtonTriggered:!1,isLoading:!1,isVersionLabelChanged:!1,wysiwygFormat:E.ConversionFormat.MARKDOWN,addToNetworkValidationError:!1},this.wysiwygRef=s.createRef(),this.entities=[],this.setVersionName=this.setVersionName.bind(this),this.setVersionNotes=this.setVersionNotes.bind(this),this.setIgnoredEntities=this.setIgnoredEntities.bind(this),this.publishAPI=this.publishAPI.bind(this),this.getEntitiesToPublish=this.getEntitiesToPublish.bind(this),this.fetchAPIDefinitionTree=this.fetchAPIDefinitionTree.bind(this),this.isPublishButtonDisabled=this.isPublishButtonDisabled.bind(this),this.handleClose=this.handleClose.bind(this),this.getPayloadForGitLinkedVersion=this.getPayloadForGitLinkedVersion.bind(this),this.getPayloadForNonGitLinkedVersion=this.getPayloadForNonGitLinkedVersion.bind(this),this.resetState=this.resetState.bind(this)}resetState(){this.setState({versionName:"",versionNotes:"",wysiwygFormat:E.ConversionFormat.MARKDOWN,publishButtonTriggered:!1,isLoading:!1,isVersionLabelChanged:!1,ignoredEntities:new Map})}componentDidUpdate(e){this.props.isOpen&&e.isOpen!==this.props.isOpen&&this.resetState()}fetchAPIDefinitionTree(){return C.get(this.props.model,"apiRepositoryStore.entityHandlers.schemas.store").getCurrentState()}getVersionNotes(){return C.isFunction(C.get(this.wysiwygRef,"current.slateToMD"))?this.wysiwygRef.current.slateToMD():this.state.versionNotes}getPayloadForGitLinkedVersion(e){let t=C.filter(e,(e=>!this.state.ignoredEntities.has(e.id)&&"collection"===e.entityType));const n={};C.forEach(t,(e=>{n[e.id]="unclassified"}));const o=C.get(this.props.model,"apiRepositoryStore.entityHandlers.schemas.store");let s={};!this.state.ignoredEntities.has(o.id)&&(s=this.fetchAPIDefinitionTree(o));return{version:this.state.versionName.trim(),notes:this.getVersionNotes(),branch:C.get(this.props.model,"apiRepositoryStore.branch"),commit:{id:C.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.git.latestCommit.sha"),link:C.get(this.props.model,"apiRepositoryStore.apiVersionRepositoryInterface.links.commit","")},collections:{items:t||[],config:{relations:n}},apiDefinition:s}}getPayloadForNonGitLinkedVersion(e){const t={};C.forEach(e,(e=>{this.state.ignoredEntities.has(e.id)||(t[e.relationType]||(t[e.relationType]=[]),t[e.relationType].push(e.id))}));return{version:this.state.versionName.trim(),notes:this.getVersionNotes(),items:{...t}}}publishAPI(e){I.default.addEventV2({category:"api_repo_integration_v2",entityId:C.get(this,"props.model.apiId"),action:"confirm_publish",label:C.isEmpty(this.state.ignoredEntities)?"all":"some",value:1});const t=this.props.isAPIGitLinked,n=b.launchDarkly.getFlag("publish-api-async",!1);let o,s,i={};this.setState({isLoading:!0,publishButtonTriggered:!0}),t?(i=this.getPayloadForGitLinkedVersion(e),n?(o=C.cloneDeep(i),C.isEmpty(C.get(o,"collections.items"))||(o.collections.items=[],C.forEach(i.collections.items,(e=>{o.collections.items.push(C.pick(e,["id"]))}))),C.isEmpty(o.apiDefinition)||(o.apiDefinition=C.pick(o.apiDefinition,["type","name"])),s=C.pick(i,["collections","apiDefinition"])):o=i):(i=this.getPayloadForNonGitLinkedVersion(e),o=i,s=i),h.default.initiatePublish(this.props.model.apiId,this.props.model.id,o,t,n).then((e=>{t&&n&&(s.releaseId=C.get(e,"release.id"),h.default.uploadPublishContent(this.props.model.apiId,this.props.model.id,s))})).then((()=>{this.updateReleases()})).catch((e=>{(0,g.handleError)(e,"Unable to publish API",void 0,void 0,{component:"PublishAPIModal",method:"publishAPI"})})).finally((()=>{C.isFunction(this.props.postPublishCb)&&this.props.postPublishCb(),this.handleClose()}))}updateReleases(){C.get(this.props.model,"_workbenchController.model.consumerViewModel")&&this.props.model._workbenchController.model.consumerViewModel.updateReleases(!0),C.get(this.props.model,"getAllReleasesForVersion")&&this.props.model.getAllReleasesForVersion();(0,y.resolveStoreInstance)(v.default).updateReleaseItem(this.props.model.id);return null}setAddToPrivateNetwork(e){this.setState({addToPrivateNetwork:e})}setVersionName(e){this.setState({versionName:e,isVersionLabelChanged:!0})}setVersionNotes({content:e,wysiwygFormat:t}){this.setState({versionNotes:e,wysiwygFormat:t})}getValidationErrorMessageForVersionName(){return 0===this.state.versionName.trim().length?"Please enter a version label":this.state.versionName.length>255?"Version label cannot exceed 255 characters":null}setIgnoredEntities(e,t){const n=this.state.ignoredEntities;!1===t?n.set(e,!1):n.delete(e),this.setState({ignoredEntities:n})}isPublishButtonDisabled(){return!(0,y.resolveStoreInstance)(S.default).isSocketConnected||(this.getValidationErrorMessageForVersionName()||this.entities.length===this.state.ignoredEntities.size||this.state.addToNetworkValidationError)}handleClose(){this.props.togglePublishModal()}getEntitiesToPublish(){const e=C.get(this.props.model,"apiRepositoryStore.entityHandlers.collections.transientCollectionStores"),t=[];if(this.props.isAPIGitLinked){this.props.definitionModel&&!this.props.definitionModel.isVoid&&t.push({id:C.get(this.props.definitionModel,"id"),name:"Definition",entityType:"apiDefinition"});const n=C.map(e,(e=>({id:`${e.model.owner}#${e.model.id}`,name:e.model.name,content:e.toJSON(),entityType:"collection"})));return this.entities=[...t,...n],this.entities}const n=this.props.model,o=C.cloneDeep(C.get(n,"collectionBasedRelations",[]));return C.forEach(o,(e=>{C.isObject(e)&&!C.isArray(e)&&(e.id=e.modelId,e.relationType="unclassified")})),this.props.definitionModel&&!this.props.definitionModel.isVoid&&t.push({name:"Definition",id:C.get(this.props.definitionModel,"id"),relationType:"apiDefinition"}),this.entities=[...t,...o],[...t,...o]}render(){const e=this.getEntitiesToPublish(),t=this.getValidationErrorMessageForVersionName(),n=this.state.isVersionLabelChanged&&t?"error":null;return s.createElement(a.Modal,{isOpen:this.props.isOpen,size:"small",onClose:this.handleClose,className:"publish-api-modal"},s.createElement(a.ModalHeader,{heading:"Publish API"}),s.createElement(a.ModalContent,{className:"publish-api-modal__content"},s.createElement(r.default,{type:"para",color:"content-color-primary",hasBottomSpacing:!0},"Creating API versions help you inform users of recent changes made to the API."),s.createElement(l.default,{direction:"column",gap:"spacing-l",padding:{paddingTop:"spacing-s"}},s.createElement(c.default,{label:s.createElement(d.default,{text:"Version label"}),value:this.state.versionName,placeholder:"e.g. 1.0",onChange:e=>this.setVersionName(e.target.value),validationStatus:n,validationMessage:t,autoFocus:!0}),s.createElement(_.default,{wysiwygRef:this.wysiwygRef,versionNotes:this.state.versionNotes,wysiwygFormat:this.state.wysiwygFormat,onChange:e=>this.setVersionNotes(e)}),s.createElement(l.default,{direction:"column",border:{borderBottom:"border-width-default"},padding:{paddingBottom:"spacing-l"}},s.createElement(u.default,{label:"Select elements to publish"},e.map((e=>s.createElement(p.default,{className:"publish-api-checkbox",key:e.id,label:e.name,isChecked:!this.state.ignoredEntities.has(e.id),onChange:this.setIgnoredEntities.bind(this,e.id)}))))),s.createElement(f.PublishEntityWrapper,{entityId:C.get(this.props,"model.apiId"),entityType:"api",publishTriggered:this.state.publishButtonTriggered,onValidationError:e=>this.setState({addToNetworkValidationError:e})}))),s.createElement(a.ModalFooter,null,s.createElement(l.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-m"},s.createElement(m.default,{type:"secondary",text:"Cancel",onClick:this.handleClose}),s.createElement(m.default,{type:"primary",text:"Publish API",onClick:()=>this.publishAPI(e),isLoading:this.state.isLoading,isDisabled:this.isPublishButtonDisabled()}))))}})||o},"./api-dev/components/release/ReleaseBody.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/components/release/TestTableItem.js"),r=n("./node_modules/lodash/lodash.js");let l=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}render(){return s.createElement("div",{className:"release-test-tab-body"},r.map(this.props.entities,(e=>s.createElement(a.default,{entityData:e,model:this.props.model,onClick:this.props.onClick}))))}})||o},"./api-dev/components/release/ReleaseHeader/ReleaseHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var o,s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-tag-stroke.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-options-stroke.js"),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("../../node_modules/react/index.js"),p=n("./js/components/base/Dropdowns.js"),m=n("./api-dev/interfaces/view/VersionSelector/VersionSelector.js"),h=n("./js/stores/CurrentUserStore.js"),g=n("./js/stores/StoreManager.js"),f=n("./js/stores/SyncStatusStore.js"),b=n("./appsdk/components/link/Link.js"),y=n("./js/modules/services/AnalyticsService.js"),v=n("./js/services/NavigationService.js"),I=n("./js/stores/ActiveWorkspaceStore.js"),E=n("./js/stores/TeamStore.js"),_=n("./version-control/Watch/components/WatchContainer/Watch.js"),S=n("./api-dev/util/TooltipText.js"),C=n("./api-dev/components/release/DeleteRelease/DeleteReleaseModal.js"),T=n("./api-dev/components/release/EditRelease/EditReleaseModal.js"),j=n("./api-dev/components/api/ShareButton/ShareButton.js"),A=n("./api-dev/interfaces/view/ViewingAsConsumerBanner/ViewingAsConsumerBanner.js"),w=n("./node_modules/lodash/lodash.js");let O=(0,d.observer)(o=class extends u.Component{constructor(e){super(e),this.state={activeTab:"definition",isDeleteReleaseModalOpen:!1,isEditReleaseModalOpen:!1},this.handleReleaseSelect=this.handleReleaseSelect.bind(this),this.handleContextMenuActionSelect=this.handleContextMenuActionSelect.bind(this),this.handleToggleDeleteReleaseModal=this.handleToggleDeleteReleaseModal.bind(this),this.handleToggleEditReleaseModal=this.handleToggleEditReleaseModal.bind(this),this.handleNavigation=this.handleNavigation.bind(this),this.getTooltipForIsReleaseGenerating=this.getTooltipForIsReleaseGenerating.bind(this)}handleReleaseSelect(e){const t=w.get(e,"id");y.default.addEventV2({category:"release",action:"view",label:"dropdown",value:1,entityId:t}),this.props.model.setActiveVersion(t)}handleToggleDeleteReleaseModal(e){this.setState({isDeleteReleaseModalOpen:e})}handleToggleEditReleaseModal(e){this.setState({isEditReleaseModalOpen:e})}handleContextMenuActionSelect(e){const t=w.get(this.props.model,"activeRelease.id");switch(e){case"delete":y.default.addEventV2({category:"release",action:"initiate_delete",label:"release_tab",value:1,entityId:t}),this.handleToggleDeleteReleaseModal(!0);break;case"edit":y.default.addEventV2({category:"release",action:"initiate_edit",label:"release_tab",value:1,entityId:t}),this.handleToggleEditReleaseModal(!0)}}handleNavigation(e){switch(e.type){case"API":case"API version":v.default.transitionTo("build.apiVersion",{apiId:w.get(this.props.model,"api.id"),versionId:w.get(this.props.model,"apiVersion.id")});break;default:return}}getTooltipForIsReleaseGenerating(){return"not_available"===w.get(this.props.model,"activeRelease.visibility")?"Please wait for the version to set up before taking this action.":""}renderWatchBtn(){const e=(0,g.resolveStoreInstance)(h.default).hasPublicProfile?"public":"private",t=(0,g.resolveStoreInstance)(E.default).handle?"public":"private",n={label:`${e}_user__${(0,g.resolveStoreInstance)(I.default).visibilityStatus}_workspace__${t}_team`,category:"api"};return u.createElement(_.default,{model:"api",modelId:this.props.model.api.id,analyticsOptions:n})}render(){const e=w.get(this.props.model,"activeRelease"),t=w.get(e,"id"),n=w.get(this.props.model,"releases"),o=w.get(this.props.model,"api.name"),d=(w.get(this.props.model,"apiVersion.name"),w.get(this.props,"model.gitTags")),y=w.get(w.find(n,["id",t]),"gitTag"),v=w.get(w.find(d,["name",y]),"link"),{model:I}=(w.chain(this.props.model).get("releases").map((e=>{const t={value:e.id,label:e.name};return Object.assign({},e,t)})).value(),this.props),E=w.get(I,"apiPermissionStore.canDeleteAPIVersionRelease",!1),_=w.get(I,"apiPermissionStore.canUpdateAPIVersionRelease",!1),O=!(0,g.resolveStoreInstance)(f.default).isSocketConnected,N=(0,g.resolveStoreInstance)(h.default).isLoggedIn,D="not_available"===w.get(this.props.model,"activeRelease.visibility"),R=!N||!_&&!E,P=O||!_||!N||D,M=O||!E||!N||D,L=w.get(I,"_workbenchController.model.apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured")?"branch":"editor",x="consumer"!==w.get(this.props,"model.mode.viewAs")&&`Switch to ${L}`;return u.createElement(u.Fragment,null,u.createElement(s.default,{justifyContent:"space-between",alignItems:"center",padding:"spacing-s spacing-l",className:"release__header",gap:"spacing-xxxl"},u.createElement(s.default,{alignItems:"baseline",minWidth:"0",gap:"spacing-s",shrink:1,className:"release__header__left-section"},u.createElement(i.default,{type:"h4",text:o,isTruncated:!0}),u.createElement(m.default,{apiId:w.get(this.props.model,"api.id"),apiVersionId:w.get(this.props.model,"apiVersion.id"),isEditable:!R,destination:x,model:this.props.model,showSwitchToProducerFooterAction:!0}),y&&u.createElement("div",{className:"release__header__gitTag"},u.createElement(l.default,null),u.createElement("div",{className:"release__header__gitTag__text"},u.createElement(b.default,{to:v,target:"_blank"},u.createElement(a.default,{type:"link-subtle"},y))))),u.createElement(s.default,{direction:"row",alignItems:"center",justifyContent:"center",gap:"spacing-s"},(0,j.default)(I.api.id),this.renderWatchBtn(),!R&&u.createElement(p.Dropdown,{ref:"context-menu",onSelect:this.handleContextMenuActionSelect,className:"release-header__context-menu"},u.createElement(p.DropdownButton,{dropdownStyle:"nocaret"},u.createElement(r.default,{type:"tertiary",icon:u.createElement(c.default,null),tooltip:"View more actions"})),u.createElement(p.DropdownMenu,{"align-right":!0},u.createElement(p.MenuItem,{key:"edit",refKey:"edit",disabled:P,disabledText:(0,S.default)(P,!_,this.getTooltipForIsReleaseGenerating())},u.createElement(a.default,{type:"body-medium"},"Edit version details")),u.createElement(p.MenuItem,{key:"delete",refKey:"delete",disabled:M,disabledText:(0,S.default)(M,!E,this.getTooltipForIsReleaseGenerating())},u.createElement(a.default,{type:"body-medium"},"Delete version ")))))),u.createElement(A.default,{apiId:w.get(this.props.model,"api.id"),apiVersionId:w.get(this.props.model,"apiVersion.id")}),u.createElement(T.default,{origin:"release_tab",isOpen:this.state.isEditReleaseModalOpen,releaseId:I.activeRelease.id,releaseName:I.activeRelease.name,releaseSummary:I.activeRelease.summary,releaseDescription:I.activeRelease.description,releaseVisibility:I.activeRelease.visibility,apiId:I.api.id,apiVersionId:I.apiVersion.id,model:I,toggleUpdateReleaseModal:this.handleToggleEditReleaseModal}),u.createElement(C.default,{origin:"release_tab",isOpen:this.state.isDeleteReleaseModalOpen,releaseId:I.activeRelease.id,apiId:I.api.id,apiVersionId:I.apiVersion.id,deleteReleaseHandler:I.deleteRelease,isDeletingRelease:I.isDeletingRelease,model:I,toggleDeleteReleaseModal:this.handleToggleDeleteReleaseModal}))}})||o},"./api-dev/components/release/ReleaseOverview/ReleaseOverview.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../packages/documentation/documentation-core/index.js"),r=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/CurrentUserStore.js"),u=n("./api-dev/interfaces/APIInterface.js"),p=n("./node_modules/classnames/index.js"),m=n.n(p),h=n("./node_modules/lodash/lodash.js");let g=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={isEditingDescription:!1,isSavingDescription:!1,theme:pm.settings.getSetting("postmanTheme")},this.renderDescriptionEditor=this.renderDescriptionEditor.bind(this),this.setDescriptionEditMode=this.setDescriptionEditMode.bind(this),this.handleDescriptionEditClick=this.handleDescriptionEditClick.bind(this),this.handleDescriptionEditCancel=this.handleDescriptionEditCancel.bind(this),this.renderEditor=this.renderEditor.bind(this),this.handleUpdateDescription=this.handleUpdateDescription.bind(this),this.setDescriptionSaveStatus=this.setDescriptionSaveStatus.bind(this)}componentDidMount(){pm.settings.on("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}componentWillUnmount(){pm.settings.off("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}async handleUpdateDescription(e){h.get(this.props,"editor.promoteTab")&&this.props.editor.promoteTab();const t=this.props.model.api.id,n=this.props.model.apiVersion.id,o=this.props.model.activeRelease.id,s={description:e};try{this.setDescriptionSaveStatus(!0),await this.props.model.updateRelease(t,n,o,s)}catch(e){pm.toasts.error("Something went wrong while updating the API description. Try again.")}finally{this.setDescriptionEditMode(!1),this.setDescriptionSaveStatus(!1)}}handleDescriptionEditClick(){const e=(0,c.resolveStoreInstance)(d.default).isLoggedIn;h.get(this.props.model,"apiPermissionStore.canEditAPIDescription",!1)&&e&&this.setDescriptionEditMode(!0)}setDescriptionEditMode(e){this.setState({isEditingDescription:e})}setDescriptionSaveStatus(e){this.setState({isSavingDescription:e})}handleDescriptionEditCancel(){this.setDescriptionEditMode(!1)}renderEditor(){const e=(0,c.resolveStoreInstance)(d.default).isLoggedIn,t=h.get(this.props.model,"apiPermissionStore.canEditAPIDescription",!1)&&e,n=h.get(this.props.model.activeRelease,"description","");return this.state.isEditingDescription?i.createElement("div",{"data-testId":"overview__meta-description-editor"},i.createElement(a.DescriptionEditor,{description:n,entityType:"API",onCancel:this.handleDescriptionEditCancel.bind(this),onSave:this.handleUpdateDescription,placeholder:"Add release notes...",showWysiwygOption:!0,isEntityLoading:this.state.isSavingDescription,isLoaderForDescriptionEnabled:!0})):i.createElement("div",{className:m()({overview__description__preview:t}),"data-testId":"overview__meta-description-preview"},i.createElement(a.DescriptionPreview,{description:n,onEditButtonClick:this.handleDescriptionEditClick,onInputFieldClick:this.handleDescriptionEditClick,editable:!0,canEdit:t,placeholder:t?"Add release notes...":"No release notes added",showEmptyPlaceholder:!0}))}renderDescriptionEditor(){const e=(0,c.resolveStoreInstance)(d.default).isLoggedIn,t=h.get(this.props.model,"apiPermissionStore.canEditAPIDescription",!1)&&e,n=!t||(0,u.isVersionView)(),o="network"===h.get(this.props.model,"mode.view"),s=h.get(this.props.model.activeRelease,"description","");return!n&&!o||t?i.createElement("div",{className:"overview__meta-editor-description"},this.renderEditor()):s?i.createElement(r.DocumentationProvider,{theme:this.state.theme},i.createElement(r.MarkdownViewer,{className:"description-preview__markdown",markdown:s})):null}render(){const e=(0,c.resolveStoreInstance)(d.default).isLoggedIn,t=h.get(this.props.model,"apiPermissionStore.canEditAPIDescription",!1)&&e;return h.get(this.props.model.activeRelease,"description","")||t?this.renderDescriptionEditor():i.createElement(l.default,{color:"content-color-secondary"},"No release notes added")}})||o},"./api-dev/components/release/ReleaseTab/ReleaseTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/constants/Panes.js"),r=n("./js/components/base/Panes.js"),l=n("./js/constants/AppSettingsDefaults.js"),c=n("./appsdk/contextbar/ContextBar.js"),d=n("./api-dev/components/release/ReleaseHeader/ReleaseHeader.js"),u=n("./api-dev/components/common/APIOffline/APIOffline.js"),p=(n("../../packages/api-dev/api-builder-sub-tab-registry/index.js"),n("./js/modules/services/AnalyticsService.js")),m=n("./documentation/constants.js"),h=n("./documentation/utils/utils.js"),g=n("./api-dev/components/release/tab/TabBody/TabBody.js"),f=n("./js/stores/StoreManager.js"),b=n("./api-dev/stores/APIListStore.js"),y=n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js"),v=n("./collaboration/constants/comments.js"),I=n("./node_modules/lodash/lodash.js");let E=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={activeTab:"overview"},this.handleTabChange=this.handleTabChange.bind(this)}handleTabChange(e){"documentation"===e&&p.default.addEventV2({category:m.DOCUMENTATION_ANALYTICS.CATEGORY,entityId:I.get(this.props,"model.activeRelease.apiVersion"),entityType:"api_version",action:"open_tab",label:(0,h.getClientEventLabelForSchemaDocumentation)(m.DOCUMENTATION_MODE.BUILDER,!0)}),this.setState({activeTab:e})}renderOfflineState(){return s.createElement(u.default,null)}render(){(0,f.resolveStoreInstance)(b.default).find(I.get(this.props,"model.api.id"));if("ready"!==I.get(this.props.model,"hasState"))return s.createElement(y.default,null);let e,t,n;return this.props.model.noReleaseExist?(e={id:I.get(this.props,"model.api.id"),createdAt:I.get(this.props,"model.apiVersion.createdAt"),createdBy:I.get(this.props,"model.apiVersion.createdBy"),emptyState:!0,editor:I.get(this.props,"editor"),model:I.assign(I.get(this.props,"model"),{id:I.get(this.props,"model.api.id"),createdAt:I.get(this.props,"model.apiVersion.createdAt"),createdBy:I.get(this.props,"model.apiVersion.createdBy"),name:I.get(this.props,"model.api.name")}),promoteTab:this.props.promoteTab},t=I.get(this.props.model,"isOffline"),n=["server-codegen","api-version-changelog","api-info"]):(e={apiName:I.get(this.props,"model.api.name"),model:this.props.model,commentModel:v.MODEL_TYPE.PUBLISHED_VERSION,commentModelId:I.get(this,"props.model.activeRelease.id"),anchor:`${v.MODEL_TYPE.PUBLISHED_VERSION}/${I.get(this,"props.model.activeRelease.id")}`},t=I.get(this.props.model,"isOffline"),n=["api-version-comments","server-codegen","release-changelog","release-info"]),s.createElement("div",{className:"release-container"},s.createElement("div",{className:"release-tab"},s.createElement("div",{className:"release-content"},s.createElement(r.PaneGroup,{defaultLayout:a.PANE_LAYOUT_HORIZONTAL},s.createElement(r.Pane,{width:{min:l.default.ui.WORKBENCH_MIN_WIDTH}},s.createElement(r.PaneContent,{className:"release-content-pane"},t?this.renderOfflineState():s.createElement(s.Fragment,null,s.createElement(d.default,{model:this.props.model,closeCurrentTab:this.props.closeCurrentTab}),s.createElement(g.default,{model:this.props.model,editor:this.props.editor})))),s.createElement(c.ContextBarPane,{ref:e=>{this.contextBarRef=e},contextData:e,allowedContexts:n,editorId:this.props.id})))))}})||o},"./api-dev/components/release/ReleaseView/ReleaseView.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/constants/WorkbenchConstants.js"),r=n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js"),l=n("./api-dev/components/release/ReleaseTab/ReleaseTab.js"),c=n("./api-dev/stores/APIListStore.js"),d=n("./js/stores/CurrentUserStore.js"),u=n("./js/stores/StoreManager.js"),p=n("./js/stores/SyncStatusStore.js"),m=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),b=n("./appsdk/workbench/TabService.js"),y=n("./js/services/NavigationService.js"),v=n("./api-dev/navigation/constants.js"),I=n("./collaboration/navigation/constants.js"),E=n("./api-dev/components/api/EmptyAPI/EmptyAPI.tsx"),_=n("./js/constants/ResourceAnalyticsConstant.js"),S=n("./js/utils/client-load-analytics.js"),C=n("./api-dev/util/newrelicHelper.js"),T=n("./node_modules/lodash/lodash.js");let j=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={releases:[],activeRelease:null},this.handleRequestAccessToast=this.handleRequestAccessToast.bind(this),this.refresh=this.refresh.bind(this)}handleRequestAccessToast(e,t,n){const{addToast:o}=this.props,i=e.api.id;o(t&&n?{title:"You do not have permission",status:"info",description:s.createElement(s.Fragment,null,"You don't have permission to view this release",s.createElement(h.default,{onClick:()=>y.default.transitionTo(I.ACCESS_REQUEST_CREATE_BUILD_IDENTIFIER,null,{entityType:"api",entityId:i,type:"grant_role",entityName:e.api.name}),type:"monochrome-plain",text:"Request access"}))}:{status:"info",description:"You don't have permission to view this release."})}sendComponentPerfAnalytics(e={}){try{if(this.props.editor._uniqueMark){const t=performance.measure(_.PERF_MEASURE_NAMES.API_OVERVIEW_LOAD_TIME,this.props.editor._uniqueMark);(0,S.sendMeasureAnalytics)(t),(0,C.newrelicPageAction)(_.NEWRELIC_ACTION_NAME,{action:t.name,startTime:t.startTime,duration:t.duration?+t.duration:0,tabType:"api-release",isEmpty:!!e.isEmpty,hasError:!!e.hasError}),this.props.editor._versionTabAnalyticsSent=!0}}catch(e){pm.logger.error("Failed to get API Version Tab load perf measure")}}refresh(){T.isFunction(T.get(this.props.controller,"workbenchModel.hydrate"))&&this.props.controller.workbenchModel.hydrate()}render(){this.workbenchModel=this.props.controller.workbenchModel;const e=T.get(this.props,"controller.status"),t=!(0,u.resolveStoreInstance)(p.default).isSocketConnected,n=(0,u.resolveStoreInstance)(d.default),o=n.isLoggedIn,i=T.get(n,"teamId");if(!!T.get(this.workbenchModel,"isForbiddenErrorState")){const e=(0,u.resolveStoreInstance)(c.default),t=T.get(this.workbenchModel,"api.id"),n=T.get(this.workbenchModel,"apiVersion.id"),s=T.get(this.workbenchModel,"activeRelease.id");return e.find(t)&&(b.default.closeByRoute(v.OPEN_RELEASE_URL,{apiId:t,versionId:n,releaseId:s}),y.default.transitionTo("build.api",{apiId:t}),this.handleRequestAccessToast(this.workbenchModel,o,i)),null}if(e===a.ERROR)return this.props.editor._versionTabAnalyticsSent||this.sendComponentPerfAnalytics({hasError:!0}),s.createElement(m.default,{title:"Couldn't load the version",description:"That wasnt supposed to happen. Give it another try.",blankState:s.createElement(g.default,null),buttonText:"Try Again",handler:this.refresh});if(e==a.READY||t){const e=0===T.get(this.workbenchModel,"releases.length");return this.props.editor._versionTabAnalyticsSent||this.sendComponentPerfAnalytics({isEmpty:e}),e?s.createElement(E.EmptyAPI,{apiId:this.workbenchModel.api.id}):s.createElement(l.default,{model:this.props.controller.workbenchModel,id:this.props.id,closeCurrentTab:this.props.controller.closeTab,editor:this.props.controller})}return s.createElement("div",{className:"release-view--loading"},s.createElement(r.default,null))}})||o;t.default=(0,f.default)(j)},"./api-dev/components/release/SchemaTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../packages/api-design/schema-editor/index.js"),r=n("./node_modules/lodash/lodash.js");let l=(0,s.observer)(o=class extends i.Component{constructor(e){super(e)}render(){const e=r.get(this.props.model,"api.id"),t=r.get(this.props.model,"apiVersion.id"),n=r.get(this.props.model,"activeRelease.id"),o=r.get(this.props.model,"activeRelease.entities.schemas.0.entityId"),s=r.get(this.props.model,"activeRelease.entities.schemas.0.tag");return i.createElement(a.SchemaEditorView,{apiId:e,versionId:t,releaseId:n,schemaId:o,tagId:s,mode:a.RELEASE_MODE})}})||o},"./api-dev/components/release/TestTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./api-dev/components/release/ReleaseBody.js"),r=n("../../node_modules/mobx/lib/mobx.module.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("./api-dev/components/release/TestTabEmptyState.js"),d=n("./node_modules/lodash/lodash.js");let u=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={render:!0},this.getNavigationIntentObject=this.getNavigationIntentObject.bind(this)}getNavigationIntentObject(e){return{routeIdentifier:"documentation.openWithWsSelect",routeParams:{collectionUid:e.entityId},queryParams:{tagId:e.tag}}}render(){return(0,r.reaction)((()=>this.props.model.activeRelease.id),(()=>{this.setState({render:!1},(()=>{this.setState({render:!0})}))})),d.isEmpty(d.get(this.props,"model.activeRelease.entities.tests",[]))?i.createElement(c.default,null):i.createElement("div",{className:"release-test-tab-container"},i.createElement("div",{className:"release-test-tab-heading"},i.createElement(l.default,{typographyStyle:{fontSize:"text-size-l",fontWeight:"text-weight-medium",lineHeight:"line-height-m",fontFamily:"text-family-default"}},"All Tests")),i.createElement("div",{className:"release-test-tab"},i.createElement("div",{className:"release-test-tab-header"},i.createElement(l.default,{typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-medium",lineHeight:"line-height-s",fontFamily:"text-family-default"}},"Name")),this.state.render&&i.createElement(a.default,{entities:d.get(this.props,"model.activeRelease.entities.tests",[]),onClick:e=>this.getNavigationIntentObject(e)})))}})||o},"./api-dev/components/release/TestTabEmptyState.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/TestFail.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js");const r={ILLUSTRATION:o.createElement(s.default,null),HEADING:"",DESCRIPTION:"No tests were added in this release"};function l(e){const{illustration:t=r.ILLUSTRATION,heading:n=r.HEADING,description:s=r.DESCRIPTION}=e;return o.createElement("div",{className:"empty-test-state-wrapper"},t,o.createElement("div",{className:"empty-test-state-wrapper__heading"},o.createElement(i.default,{type:"h4",text:n})),o.createElement(a.default,{type:"body-medium",color:"content-color-secondary"},s),o.createElement("div",{className:"empty-test-state-wrapper__components"},e.children))}},"./api-dev/components/release/TestTableItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./appsdk/components/link/Link.js"),r=n("./api-dev/services/ReleaseService.js"),l=n("./node_modules/lodash/lodash.js"),c=n.n(l),d=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke-small.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-test-stroke.js");let m=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={loadingEntity:!1,entityData:{},errorEntity:!1},this.getMeta=this.getMeta.bind(this)}componentDidMount(){this.getMeta(this.props.entityData)}getMeta(e){const t=c().get(e,"entityId"),n=c().get(e,"tag");this.setState({loadingEntity:!0,errorEntity:!1}),r.default.getCollectionMeta(t,n).then((t=>{let n={};if(t&&t.body){const o=c().get(t,"body.data");n={...e,id:c().get(o,"id"),name:c().get(o,"name")}}this.setState({loadingEntity:!1,entityData:n})})).catch((e=>{pm.logger.error("Something went wrong while fetching relation",e),this.setState({errorEntity:!0,loadingEntity:!1,entityData:{}})}))}render(){const{entityData:e,loadingEntity:t,errorEntity:n}=this.state;let o=s.createElement(d.default,null);return o=t?s.createElement(d.default,null):n?s.createElement("div",{className:"relation-error relation-cell"},s.createElement("div",{className:"test-tab-row-icon"},s.createElement(u.default,{color:"content-color-error",title:"Error while fetching relations"})),s.createElement("div",{className:"test-tab-row-text__error"},"Couldn't load test."," ",s.createElement("span",{className:"test-tab-row-text__error__retry-link",onClick:()=>this.getMeta(this.props.entityData)},"Retry"))):s.createElement("div",{className:"relation-name relation-cell"},s.createElement("div",{className:"test-tab-row-icon"},s.createElement(p.default,{color:"content-color-primary"})),s.createElement("div",{className:"test-tab-row-text"},s.createElement(a.default,{className:"entity-name__link",to:this.props.onClick(e)},e.name))),s.createElement("div",{key:e.entityId,className:"release-test-tab-body-row"},o)}})||o},"./api-dev/components/release/VersionNotesEditor/VersionNotesEditor.js":function(e,t,n){"use strict";n.r(t);var o=n("../../packages/documentation/mimir-editor/index.js"),s=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js");const l=i.default.div`
  margin-top: var(--spacing-xs);
  margin-bottom: var(--spacing-l);
  height: 150px;
  border-radius: var(--border-radius-default);
  border: var(--border-width-default) var(--border-style-solid)
    ${e=>e.theme["input-border-color-default"]};
  transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;

  .mimir {
    overflow: visible;
  }

  &:focus-within {
    border-color: ${e=>e.theme["input-border-color-focus"]};
    box-shadow: 0 0 0 2px ${e=>e.theme["input-shadow-focus"]};
  }

  &:active {
    border-color: ${e=>e.theme["input-border-color-focus"]};
    box-shadow: 0 0 0 2px ${e=>e.theme["input-shadow-focus"]};
  }
`;class c extends s.Component{render(){return s.createElement(a.default,{direction:"column"},s.createElement(r.default,{text:"Release notes",fieldType:"optional"}),s.createElement(r.default,{size:"small",type:"tertiary",text:"Add release notes to inform consumers about the changes in this version."}),s.createElement(l,null,s.createElement(o.default,{ref:this.props.wysiwygRef,isControlled:!0,initialValue:this.props.versionNotes,inputFormat:this.props.wysiwygFormat,context:o.EditorContext.WYSIWYG,onChange:e=>{var t,n;return null===(t=(n=this.props).onChange)||void 0===t?void 0:t.call(n,{content:e,wysiwygFormat:o.ConversionFormat.SLATE})},autoFocus:!1})))}}t.default=c},"./api-dev/components/release/tab/TabBody/TabBody.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-right.js"),m=n("./api-dev/registries/APITabTiles.js"),h=n("./node_modules/classnames/index.js"),g=n.n(h),f=n("./api-dev/constants/APITabModes.js"),b=n("./api-dev/components/common/tab/Tile/Tile.js"),y=n("./node_modules/lodash/lodash.js");let v=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}renderTileHeader(e,t,n){return s.createElement(a.default,{direction:"row",alignItems:"center"},s.createElement("div",null,e?s.createElement(u.default,null):s.createElement(p.default,null)),s.createElement("div",{className:"version-tab-body__default__tile-heading"},s.createElement(r.default,{type:"h3",text:n})))}renderTileBody(e,t){const n=t[e].view,o=y.get(this.props,"model.mode.name");let i=null,a=null,r=null,l={};if(o===f.BUILDER_VIEW||o===f.VERSION_VIEW||o===f.NETWORK_VIEW){i=y.get(this.props,"model.api.id"),a=y.get(this.props,"model.apiVersion.id"),r=y.get(this.props,"model.activeRelease.id");const e=y.get(this.props,"model.activeRelease.entities",{});l={schemaId:y.get(e,["schemas",0,"entityId"]),apiDefinitionId:y.get(e,["apiDefinitions",0,"entityId"])}}return o!==f.BUILDER_VIEW&&o!==f.NETWORK_VIEW||(r=null),s.createElement("div",{className:"version-tab-body__default__tile-body"},n&&s.createElement(n,{model:this.props.model,editor:this.props.editor,viewMode:y.get(this.props,"model.mode"),apiId:i,apiVersionId:a,releaseId:r,entityMeta:l,isLoading:y.get(this.props,"model.isLoading")}))}getClassesForTilePane(){return g()({"version-tab-body__default__pane":!0})}getClassesForDefaultView(){return g()({"version-tab-body__default":!0})}getDefaultOptions(e){let t=0;return y.reduce(e,(e=>(e.push(t),t++,e)),[])}releaseLoader(){return"not_available"===y.get(this.props,"model.activeRelease.visibility")?s.createElement(a.default,{direction:"column",alignItems:"center",padding:{paddingTop:"spacing-l"}},s.createElement(a.default,{padding:{paddingBottom:"spacing-l"}},s.createElement(l.default,null)),s.createElement(r.default,{type:"h4",text:"Setting up API version..."}),s.createElement(c.default,null,"Please wait while we set up the rest of this API version for you.")):null}releaseError(){return"failed"===y.get(this.props,"model.activeRelease.visibility")?s.createElement(a.default,{direction:"column",alignItems:"center",padding:{paddingTop:"spacing-l"}},s.createElement(d.default,null),s.createElement(r.default,{type:"h4",text:"Unable to load"}),s.createElement(c.default,null,"There was an error loading rest of the API version.")):null}render(){let e;const t="not_available"===y.get(this.props,"model.activeRelease.visibility"),n="failed"===y.get(this.props,"model.activeRelease.visibility"),o=y.get(this.props,"model.releases.length",0)>0;return e=t||n?m.VERSION_UNAVAILABLE_TILES:o?m.VERSION_TILES:m.NO_VERSION_TILES,s.createElement("div",{className:"version-tab-body"},s.createElement(a.default,{direction:"row",gap:"spacing-xxl",className:this.getClassesForDefaultView()},s.createElement("div",{className:this.getClassesForTilePane()},y.map(y.keys(e),(t=>s.createElement(b.default,{headerText:e[t].title,renderBody:()=>this.renderTileBody(t,e)}))),this.releaseLoader(),this.releaseError())))}})||o;t.default=v},"./api-dev/configs/APIVersionWorkbenchConfig.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../packages/api-network/private-network/index.js"),i=n("./api-dev/components/api-version/APIVersionTabHeader/APIVersionTabHeader.js"),a=n("./api-dev/components/api-version/definition/DefineContainer/DefineContainer.js"),r=n("../../packages/api-design/schema-editor/index.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),c=n("./node_modules/lodash/lodash.js");t.default={build:{initAPIRepo:!0,versionHeader:({model:e,editor:t,unsetContext:n,contextBarRef:s,onTabChange:a,promoteTab:r})=>o.createElement(i.default,{editor:t,model:e,unsetContext:n,contextBarRef:s,onTabChange:a,promoteTab:r}),schemaContainer:({editor:e,model:t,key:n})=>o.createElement(a.default,{editor:e,model:t,key:n})},network:{initAPIRepo:!1,versionHeader:({name:e,tag:t})=>o.createElement(s.VersionTitle,{name:e,tag:t}),schemaContainer:({schemaId:e,model:t})=>o.createElement(r.SchemaEditorView,{mode:r.APINETWORK_MODE,schemaId:e,content:c.get(t,"schema.content"),language:c.get(t,"schema.language"),type:c.get(t,"schema.type"),apiDefinitionId:c.get(t,"schema.apiDefinitionId")})},feature:{initAPIRepo:!0,versionHeader:({model:e,editor:t,unsetContext:n,contextBarRef:s,onTabChange:a,promoteTab:r})=>o.createElement(i.default,{mode:"feature",editor:t,model:e,unsetContext:n,contextBarRef:s,onTabChange:a,promoteTab:r}),headerBanner:()=>o.createElement(l.default,{status:"info",type:"global"},"You're not in the configured development branch. Only the schema and collections can be edited. Commit and push to save any changes."),schemaContainer:({store:e})=>o.createElement(r.SchemaEditorView,{mode:r.FEATURE_BRANCH_MODE,store:e})}}},"./api-dev/configs/ValidAPIDefinitionFileExtensions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{isFileExtensionOfValidType:function(){return i}});var o=n("./node_modules/lodash/lodash.js");const s=["json","yaml","yml","proto"],i=e=>o.includes(s,e)},"./api-dev/constants/APIActionsConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ACTION_TYPE_ADD_COLLECTION:function(){return m},ACTION_TYPE_COMMENTS:function(){return i},ACTION_TYPE_COPY_EXISTING_COLLECTION:function(){return h},ACTION_TYPE_CREATE:function(){return u},ACTION_TYPE_CREATE_NEW_COLLECTION:function(){return g},ACTION_TYPE_CREATE_VERSION:function(){return p},ACTION_TYPE_DELETE:function(){return d},ACTION_TYPE_DUPLICATE:function(){return c},ACTION_TYPE_GENERATE_COLLECTION_FROM_DEFINITION:function(){return f},ACTION_TYPE_MANAGE_ROLES:function(){return r},ACTION_TYPE_MOVE:function(){return s},ACTION_TYPE_RENAME:function(){return l},ACTION_TYPE_REPORTS:function(){return a},ACTION_TYPE_SHARE:function(){return o}});const o="share",s="move",i="comment",a="reports",r="manage",l="rename",c="duplicate",d="delete",u="create",p="create-version",m="add-collection",h="copy-existing-collection",g="create-new-collection",f="generate-collection-from-definition"},"./api-dev/constants/APIEntityActionsConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{API_ENTITY_ACTIONS:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/components/api-version/test/test-section/RunTest/RunTest.js");const i={testActions:{buttons:[o.createElement(s.default,{key:"run-test"})]}}},"./api-dev/constants/APIEntityTableConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{getValidationHelpText:function(){return s}});const o={mock:"mock servers",documentation:"documentation",environment:"environment",integrationtest:"integration test",contracttest:"contract test",testsuite:"test suite",monitor:"monitor",test:"test"},s=e=>`For APIs using OpenAPI 3.0, we validate ${o[e]}s against the API schema.\n\nWe'll support more schema types in the future.`},"./api-dev/constants/APIRepositoryConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ACCESS_TOKEN_VALIDATION_STATUS:function(){return H},ALLOWED_ENTITIES:function(){return y},ALLOWED_ENTITIES_FOR_REPO_SYNC:function(){return u},API_DEFINITION_OPTIONS:function(){return S},API_REPO_INTEGRATION_ACTIVE_STATE:function(){return ae},API_REPO_INTEGRATION_AUTHORIZATION_ERROR_MESSAGE:function(){return re},API_REPO_INTEGRATION_ERROR_STATE:function(){return oe},API_REPO_INTEGRATION_INVALID_TOKEN_ERROR_STATE:function(){return ie},API_REPO_INTEGRATION_LOCKED_ERROR_STATE:function(){return le},API_REPO_INTEGRATION_TOKEN_EXPIRED_ERROR_STATE:function(){return se},AUTH_SOURCE_IDENTIFIER:function(){return G},BILLED_FEATURE_NAMES:function(){return U},BRANCH_SEARCH:function(){return B},COLLECTION:function(){return Z},CONFLICTS:function(){return m},CONFLICT_OPTIONS:function(){return R},CREATES:function(){return h},DEBOUNCE_TIMEOUT:function(){return F},DEFAULT_DIRECTORY_OPTION:function(){return J},DESTROYS:function(){return g},DEVELOPMENT_BRANCH_ALREADY_LINKED_STATE:function(){return Y},DEVELOP_BRANCH_NAME:function(){return l},DIRECTORY_DROPDOWN_DISPLAY_OPTIONS:function(){return ne},DISPLAY_TYPE:function(){return N},EMPTY_BRANCH_FILE_CONTENT_TEMPLATE:function(){return ce},EMPTY_BRANCH_FILE_PATH:function(){return de},EMPTY_STATE_MESSAGES:function(){return W},ENTITIES_TO_BE_SYNCED:function(){return Q},ENTITY_CHANGE_TYPE_FROM_CONFLICT_DESTINATION:function(){return v},ENTITY_ERROR_NAME_MAP:function(){return ee},ERROR_MESSAGES_FOR_ENTITIES:function(){return q},FAILED_TO_FETCH_ENTITIES_ERROR_MESSAGES:function(){return $},FIRST_SYNC_COMMIT_MSG:function(){return d},GIT_SERVICES_CONFIG:function(){return L},GIT_SERVICES_LIST:function(){return M},ICONS_FROM_TYPE:function(){return D},IS_API_DEFINITION_CONFLICT_CREATE:function(){return O},IS_API_DEFINITION_CREATE:function(){return w},IS_BRANCH_SEARCH_ENABLED:function(){return k},IS_RELATION_CREATE:function(){return C},IS_RELATION_UPDATE_CONFLICT:function(){return T},IS_REPO_SEARCH_ENABLED:function(){return x},IS_SCHEMA_CONFLICT_CREATE:function(){return A},IS_SCHEMA_CREATE:function(){return j},MAIN_BRANCH_NAME:function(){return c},ON_PREM_LEARN_MORE_URL:function(){return ue},POSTMAN_CHANGES:function(){return I},POSTMAN_DEFAULT_DIRECTORY_PATH:function(){return te},RELATION_TYPES:function(){return _},REPOSITORY_CHANGES:function(){return E},REPOSITORY_INTEGRATION_ACTIONS:function(){return P},REPO_ALREADY_LINKED_STATE:function(){return K},REPO_SEARCH:function(){return V},SCHEMA:function(){return X},TAB_STATUS_IDENTIFIER:function(){return z},TAG_TYPE_FROM_CHANGE_TYPE:function(){return b},UPDATES:function(){return p},USER_FRIENDLY_CHANGE_TYPE:function(){return f},VALIDATION_BANNER_MESSAGE:function(){return pe}});var o=n("./integrations/constants/integrationsConstants.ts"),s=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-github.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-bitbucket.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-gitlab.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-devops.js");const l="develop",c="main",d="Initial changes from Postman [auto-generated]",u=["schemas","relations","apiDefinition"],p="updates",m="conflicts",h="creates",g="destroys",f={creates:{name:"ADDED"},updates:{name:"MODIFIED"},conflicts:{name:"CONFLICT"},destroys:{name:"DELETED"},renames:{name:"RENAMED"},moves:{name:"MOVED"}},b={creates:"success",updates:"info",renames:"info",moves:"info",conflicts:"warn",destroys:"error"},y=["schemas","relations","apiDefinition"],v={destroyed:"destroys",updated:"updates",created:"creates"},I="Postman",E="Repository",_=[{name:"Use as documentation",id:"documentation"},{name:"Use as test",id:"test"}],S=[{name:"Use this file",id:"Add"},{name:"Always ignore this file",id:"Ignore"}],C=(e,t)=>"relations"===e&&"creates"===t,T=(e,t)=>"relations"===e&&"updates"===t,j=(e,t)=>"schemas"===e&&"creates"===t,A=(e,t,n)=>"schemas"===e&&"conflicts"===t&&"created"===n,w=(e,t)=>"apiDefinition"===e&&"creates"===t,O=(e,t,n)=>"apiDefinition"===e&&"conflicts"===t&&"created"===n,N={apiDefinition:"Definition File",schemas:"Schema",relations:"Collection"},D={relations:"icon-entity-collection-stroke",collections:"icon-entity-collection-stroke",schemas:"icon-entity-api-stroke",apiDefinition:"icon-entity-docs-stroke"},R=[{name:"Keep local file",id:I,tooltip:"This will keep the version of the file present in Postman."},{name:"Keep remote file",id:E,tooltip:"This will keep the version of the file present in the repository."}],P=[{name:"pull",displayName:"Pull"},{name:"commit",displayName:"Commit and push"}],M={GITHUBENTERPRISE:{serviceName:"github",isOnPrem:!0,oauthConfigs:o.SERVICE_OAUTH_CONFIG.GITHUBENTERPRISE,maskedServiceName:"githubEnterprise",dropdownOptionName:"GitHub Enterprise Server",friendlyName:"GitHub",requiredScopes:"repo",billedFeatureName:"api_repo_integration_staticip_enabled",serviceProviderTerminologies:{ORGANISATION:"organization",REPOSITORY:"repository"},customDomainDescription:"GitHub domain URL",customDomainPlaceholder:"https://subdomain.companydomain.com",icon:s.default},GITHUB:{serviceName:"github",isOnPrem:!1,oauthConfigs:o.SERVICE_OAUTH_CONFIG.GITHUB,maskedServiceName:"github",dropdownOptionName:"GitHub",friendlyName:"GitHub",serviceProviderTerminologies:{ORGANISATION:"organization",REPOSITORY:"repository"},icon:s.default},BITBUCKET:{serviceName:"bitbucket",isOnPrem:!1,oauthConfigs:o.SERVICE_OAUTH_CONFIG.BITBUCKET,maskedServiceName:"bitbucket",dropdownOptionName:"Bitbucket",friendlyName:"Bitbucket",serviceProviderTerminologies:{ORGANISATION:"workspace",REPOSITORY:"repository"},icon:i.default},GITLABENTERPRISE:{serviceName:"gitlab",isOnPrem:!0,oauthConfigs:o.SERVICE_OAUTH_CONFIG.GITLABENTERPRISE,maskedServiceName:"gitlabEnterprise",dropdownOptionName:"GitLab Self-managed",friendlyName:"GitLab Self-managed",billedFeatureName:"api_repo_integration_staticip_enabled",requiredScopes:"api, read_user, read_api & write_repository",serviceProviderTerminologies:{ORGANISATION:"group",REPOSITORY:"project"},customDomainDescription:"Gitlab Self-managed domain URL",customDomainPlaceholder:"https://gitlab.companyname.com",icon:a.default},GITLAB:{serviceName:"gitlab",isOnPrem:!1,oauthConfigs:o.SERVICE_OAUTH_CONFIG.GITLAB,maskedServiceName:"gitlab",dropdownOptionName:"GitLab SaaS",friendlyName:"GitLab SaaS",serviceProviderTerminologies:{ORGANISATION:"group",REPOSITORY:"project"},icon:a.default},AZURE:{serviceName:"azure",isOnPrem:!1,oauthConfigs:o.SERVICE_OAUTH_CONFIG.AZURE,maskedServiceName:"azure",dropdownOptionName:"Azure DevOps",friendlyName:"Azure DevOps",serviceProviderTerminologies:{ORGANISATION:"organization",REPOSITORY:"repository"},icon:r.default},AZUREENTERPRISE:{serviceName:"azure",isOnPrem:!0,oauthConfigs:o.SERVICE_OAUTH_CONFIG.AZUREENTERPRISE,maskedServiceName:"azureEnterprise",dropdownOptionName:"Azure DevOps Server",friendlyName:"Azure DevOps Server",billedFeatureName:"api_repo_integration_staticip_enabled",requiredScopes:"vso.code_write, vso.graph_manage, vso.notification_write",serviceProviderTerminologies:{ORGANISATION:"organization",REPOSITORY:"repository"},customDomainDescription:"Azure DevOps Server domain URL along with the collection",customDomainPlaceholder:"{server:port}/{collection}",displayUserAndOrg:!1,featureFlag:"azure-dev-ops-server-on-prem",icon:r.default}},L={github:{debounceTimeout:{repoSearch:1500,branchSearch:500},isRepositorySearchEnabled:!0,isBranchSearchEnabled:!0},bitbucket:{debounceTimeout:{repoSearch:500,branchSearch:500},isRepositorySearchEnabled:!0,isBranchSearchEnabled:!0},gitlab:{debounceTimeout:{repoSearch:500,branchSearch:500},isRepositorySearchEnabled:!0,isBranchSearchEnabled:!0},azure:{debounceTimeout:{repoSearch:500,branchSearch:500},isBranchSearchEnabled:!0}},x="isRepositorySearchEnabled",k="isBranchSearchEnabled",F="debounceTimeout",V="repoSearch",B="branchSearch",U=["api_repo_integration_staticip_enabled"],z={LOADING:"loading",ERROR:"error",FINISHED:"finished"},H={VALID:"valid",INVALID:"invalid",SERVER_UNREACHABLE:"serverUnreachable"},G={OAUTH:"oauth",SHARED_AUTH:"sharedAuth",PERSONAL_ACCESS_TOKEN:"pat"},W={repos:"No repositories found.",orgs:"No organizations found.",branches:"No branches found for the selected repository."},$={orgs:"Failed to fetch organizations.",repos:"Failed to fetch repositories.",branches:"Failed to fetch branches.",collectionDirectories:"Failed to fetch directories.",schemaDirectories:"Failed to fetch directories.",customRepo:"Failed to fetch repository",reposFetch:"Unable to load all the repositories. Please enter the repository name."},q={developmentBranch:{branchNotFoundError:"Branch not found. Check the branch name and try again."},collectionDirectories:{invalidParentDirectoryError:"Select a directory other than the parent of the schema directory.",invalidChildDirectoryError:"Select a directory other than the child of the schema directory."},schemaDirectories:{invalidParentDirectoryError:"Select a directory other than the parent of the collection directory.",invalidChildDirectoryError:"Select a directory other than the child of the collection directory."}},Y="developmentBranchAlreadyLinked",K="repoAlreadyLinked",J={id:"default",name:"Create a directory for me"},Z="collection",X="schema",Q=[Z,X],ee={[Z]:"collectionDirectories",[X]:"schemaDirectories"},te={[Z]:"postman/collections",[X]:"postman/schemas"},ne={previousLevelTrigger:"previousLevelTrigger",selectedItem:"selectedItem"},oe="ERROR",se="expired",ie="invalid",ae="active",re="Postman doesn't have the right permissions on the repository. This might have happened because your access token expired or was deleted. Please authenticate again to resume syncing with the repository.",le="locked",ce="id = {{API_ID}}\n\n[relations]\n\n[relations.collections]\nrootDirectory = postman/collections\n\n[relations.collections.metaData]\n\n[relations.apiDefinition]\nrootDirectory = postman/schemas\n\n[relations.apiDefinition.metaData]\n",de=".postman/api",ue="https://go.pstmn.io/v10-new-onprem-docs",pe="The domain and personal access token combination didn't work. Try again."},"./api-dev/constants/APISourceConfigurationConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{APM:function(){return a},COLLECTIONS_ADDED:function(){return s},CONFIGURATION_SOURCES:function(){return l},CREATE_FROM_SCRATCH:function(){return o},NEW_RELIC:function(){return r},REPO_INTEGRATION:function(){return i}});const o="CREATE_FROM_SCRATCH",s="COLLECTION_ADDED",i="REPO_INTEGRATION",a="APM",r="NEW_RELIC",l=[o,s,i,a,r]},"./api-dev/constants/APITooltips.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ACTIVE_API_VERSION_DELETED_TEXT:function(){return s},API_ALREADY_CREATING:function(){return r},API_DELETED_TEXT:function(){return i},CANNOT_MOVE_API_RELATION_TEXT:function(){return a},IS_OFFLINE_TOOLTIP_MSG:function(){return o},NO_COLLECTIONS_IN_WORKSPACE_TO_COPY:function(){return l}});const o="You can take this action once you're back online",s="You can not perform this action as this API version is deleted",i="You can not perform this action as this API is deleted",a="You cannot move individual elements of an API. Move API to move its elements together.",r="Creating API",l="There are no collections in this workspace to copy."},"./api-dev/constants/CollectionSchemaSyncConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ERROR:function(){return i},LOADING:function(){return s},READY:function(){return o},UPDATED:function(){return a}});const o="ready",s="loading",i="error",a="updated"},"./api-dev/constants/PowerUpYourAPIConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{API_BUILDER_ANALYTICS_CATEGORY:function(){return r},API_PERFORMANCE_INTEGRATION:function(){return a},CONNECTED_WITH:function(){return i},CONNECT_INTEGRATION_ANALYTICS_ACTION:function(){return l},CONNECT_VIA_API_ANALYTICS_ACTION_CONNECT_API:function(){return c},CONTINUOUS_INTEGRATION:function(){return o},SOURCE:function(){return s}});const o="continuous-integration",s="Source",i="Connected with",a="api-performance-integrations",r="api_builder_integrations",l="connect_integration_action_",c="connect_via_api"},"./api-dev/constants/RelationValidationConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{VALIDATIONS:function(){return o}});const o={VALIDATE:{type:"validate",message:"Validate"},VALIDATING:{type:"validating",message:"Validating"},FAILED:{type:"refresh",message:"Validation failed",actions:{popup:{description:'We hit a snag while validating. Click "Validate Again" to try again',actions:[{type:"refresh",label:"Validate Again"}]}}}}},"./api-dev/constants/SchemaConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{NEW_SCHEMA_TYPE:function(){return i},SCHEMA_TYPE:function(){return s},SCHEMA_TYPE_BETA:function(){return a},SCHEMA_TYPE_DEFAULT_LANGUAGE_MAP:function(){return r},SCHEMA_TYPE_SUPPORTED_LANGUAGE:function(){return o}});const o={openapi3_1:{json:"JSON",yaml:"YAML"},openapi3:{json:"JSON",yaml:"YAML"},openapi2:{json:"JSON",yaml:"YAML"},openapi1:{json:"JSON",yaml:"YAML"},raml1:{yaml:"YAML"},raml:{yaml:"YAML"},graphql:{graphql:"GraphQL SDL",json:"JSON"},wsdl2:{xml:"XML"},wsdl1:{xml:"XML"},proto3:{proto:"PROTO"},proto2:{proto:"PROTO"}},s={openapi3_1:"OpenAPI 3.1",openapi3:"OpenAPI 3.0",openapi2:"OpenAPI 2.0",openapi1:"OpenAPI 1.0",raml1:"RAML 1.0",raml:"RAML 0.8",graphql:"GraphQL",wsdl2:"WSDL 2.0",wsdl1:"WSDL 1.1",proto2:"Protobuf 2",proto3:"Protobuf 3"},i={openapi3_1:"OpenAPI 3.1",openapi3:"OpenAPI 3.0",openapi2:"OpenAPI 2.0",openapi1:"OpenAPI 1.0",raml1:"RAML 1.0",raml:"RAML 0.8",graphql:"GraphQL",wsdl2:"WSDL 2.0",wsdl1:"WSDL 1.1",proto2:"Protobuf 2",proto3:"Protobuf 3","proto:2":"Protobuf 2","proto:3":"Protobuf 3","openapi:3":"OpenAPI 3.0","openapi:3_1":"OpenAPI 3.1","openapi:2":"OpenAPI 2.0","wsdl:2":"WSDL 2.0","wsdl:1":"WSDL 1.1"},a=["proto2","proto3"],r={openapi3_1:"yaml",openapi3:"yaml",openapi2:"yaml",openapi1:"yaml",raml1:"yaml",raml:"yaml",graphql:"graphql",wsdl2:"xml",wsdl1:"xml",proto2:"proto",proto3:"proto"}},"./api-dev/controllers/APIDiffViewController.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s,i,a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./appsdk/workbench/BaseWorkbenchController.js"),l=n("./js/stores/StoreManager.js"),c=n("./api-dev/stores/APIListStore.js"),d=n("./api-dev/navigation/constants.js"),u=n("./api-dev/util/error.js"),p=n("./appsdk/workbench/TabService.js"),m=n("./node_modules/@postman/date-helper/index.js"),h=n.n(m),g=n("./api-dev/constants/WorkbenchConstants.js"),f=n("./node_modules/lodash/lodash.js");function b(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function y(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let v=(o=class extends r.default{constructor(){super(),b(this,"status",s,this),b(this,"model",i,this),this.closeTab=this.closeTab.bind(this),this.getRepoStore=this.getRepoStore.bind(this),this.getFilesToCompare=this.getFilesToCompare.bind(this)}async getRepoStore(e){var t,n;const o=(0,l.resolveStoreInstance)(c.default);await(0,a.when)((()=>!o.isStoreHydrating));const s=o.find(e);if(!s)return null;this.apiName=f.get(s,"name"),this.versionId=null===(t=f.head(null===(n=s.childEntities)||void 0===n?void 0:n.values))||void 0===t?void 0:t.id;const i=s.childEntities.find(this.versionId),r=f.get(i,"apiRepositoryStore");return await(0,a.when)((()=>f.get(r,"apiVersionRepositoryInterface.isAvailable"))),f.get(r,"apiVersionRepositoryInterface.remoteGitConfigured")?(await(0,a.when)((()=>!f.get(r,"apiVersionRepositoryInterface.isHydrating"))),r):null}async getFilesToCompare(){if(this.apiRepoStore=await this.getRepoStore(this.apiId),!this.apiRepoStore)throw{name:"APIStoreDidNotLoad",message:"Could not find API"};this.isLocalGitConfigured=f.get(this.apiRepoStore,"apiVersionRepositoryInterface.localGitConfigured");const e=f.get(this.apiRepoStore,"sourceControlStore");let t,n;try{switch(this.fileState){case"unstaged":if("added"===this.fileStatus){t=this.currentCommitId&&await e.getFileContentsAtUnStaged(this.filePath,this.entityType),n=void 0;break}"deleted"===this.fileStatus&&(t=void 0),"modified"===this.fileStatus&&(t=await e.getFileContentsAtUnStaged(this.filePath,this.entityType)),n=f.find(e.stagedFilesList,this.filePath)?await e.getFileContentsAtStaged(this.filePath,this.entityType):await e.getFileContentsAtLocalCommitHead(this.filePath,this.entityType);break;case"staged":{let o=this.filePath;if("renamed"===this.fileStatus&&(o=this.oldFilePath,o||(0,u.handleError)("Cannot find old file path")),"added"===this.fileStatus){t=this.isLocalGitConfigured?await e.getFileContentsAtStaged(this.filePath,this.entityType):await e.getFileContentsAtUnStaged(this.filePath,this.entityType),n=void 0;break}if("deleted"===this.fileStatus){t=void 0,n=await e.getFileContentsAtLocalCommitHead(o,this.entityType);break}this.isLocalGitConfigured?(t=await e.getFileContentsAtStaged(this.filePath,this.entityType),n=await e.getFileContentsAtLocalCommitHead(o,this.entityType)):(t=await e.getFileContentsAtUnStaged(this.filePath,this.entityType),n=await e.getFileContentsAtLocalCommitHead(o,this.entityType));break}case"committed":{const o=await e.getFilesForCommit(this.currentCommitId);this.commitMessage=f.get(o,"commitMessage",""),this.authorName=f.get(o,"authorName","");const s=f.get(o,"timestamp",0);this.timeStamp=h().getFormattedDateAndTime(1e3*s);let i=this.filePath;if("renamed"===this.fileStatus&&(i=this.oldFilePath,i||(0,u.handleError)("Cannot find old file path")),"added"===this.fileStatus){t=this.currentCommitId&&await e.getFileContentsAtCommitId(this.filePath,this.entityType,this.currentCommitId),n=void 0;break}if("deleted"===this.fileStatus){t=void 0,n=this.previousCommitId&&await e.getFileContentsAtCommitId(i,this.entityType,this.previousCommitId);break}t=this.currentCommitId&&await e.getFileContentsAtCommitId(this.filePath,this.entityType,this.currentCommitId),n=this.previousCommitId&&await e.getFileContentsAtCommitId(i,this.entityType,this.previousCommitId);break}}t&&(f.isString(t)||(t=t[0].contents)),n&&(f.isString(n)||(n=n[0].contents))}catch(e){throw{name:"failedToLoadFileContents",message:"Something went wrong while fetching file contents"}}return{currentContent:t,targetContent:n}}setWorkbenchStatus(e){this.status=e}setModel(e){this.model=e}closeTab(){p.default.closeByRoute(d.OPEN_API_DIFF_VIEW_URL,this.getRouteParams())}didCreate({routeParams:e,queryParams:t}){this.apiId=f.get(e,"apiId"),this.entityType=f.get(e,"entityType"),this.filePath=f.get(e,"filePath"),this.oldFilePath=f.get(t,"oldFilePath"),this.fileName=f.get(t,"fileName","Unable to load"),this.fileState=f.get(t,"fileState"),this.fileStatus=f.get(t,"fileStatus"),this.currentCommitId=f.get(t,"currentCommitId"),this.previousCommitId=f.get(t,"previousCommitId"),this.setTitle("Loading..."),this.setWorkbenchStatus(g.LOADING),this.getFilesToCompare().then((e=>{this.setModel(e),this.setWorkbenchStatus(g.READY),this.setTitle(this.fileName)})).catch((e=>{this.setWorkbenchStatus(g.ERROR),this.setTitle(`Failed to load - ${this.fileName}`),(0,u.handleError)(e),pm.logger.error(e)}))}beforeDestroy(){this.setTitle("Loading..."),this.setWorkbenchStatus(g.LOADING),this.setModel(null)}},s=y(o.prototype,"status",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.LOADING}}),i=y(o.prototype,"model",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y(o.prototype,"setWorkbenchStatus",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setWorkbenchStatus"),o.prototype),y(o.prototype,"setModel",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setModel"),o.prototype),o)},"./api-dev/controllers/APIVersionWorkbenchController.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var o,s,i,a,r,l,c,d,u=n("./api-dev/stores/APIListStore.js"),p=n("./js/stores/CommentStore.js"),m=n("./js/stores/CurrentUserStore.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/SyncStatusStore.js"),f=n("./appsdk/workbench/BaseWorkbenchController.js"),b=n("./js/services/NavigationService.js"),y=n("../../node_modules/mobx/lib/mobx.module.js"),v=n("./appsdk/tracked-state/ObservableTrackedState.js"),I=n("./collaboration/services/CollaborationNavigationService.js"),E=n("./api-dev/constants/APITabModes.js"),_=n("./api-dev/stores/APIVersionItemStore.js"),S=n("./api-dev/controllers/ReleaseController.js"),C=n("./api-dev/util/error.js"),T=n("./api-dev/constants/WorkbenchConstants.js"),j=n("../../packages/api-design/api-definition-ui/index.js"),A=n("./api-dev/registries/APITabScreens.js"),w=n("./api-dev/constants/APISubViews.js"),O=n("./appsdk/sidebar/SidebarService.ts"),N=n("./api-dev/interfaces/APIInterface.js"),D=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),R=n("./node_modules/lodash/lodash.js");function P(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function M(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let L=(o=class extends f.default{constructor(...e){super(...e),P(this,"id",s,this),P(this,"apiId",i,this),this.context=null,this.hasConflict=!1,this.modelName="apiVersion",this.commentModelName="api",this._uniqueMark=null,this._versionTabAnalyticsSent=!1,this.isUserLoggedIn=(0,h.resolveStoreInstance)(m.default).isLoggedIn,P(this,"status",a,this),P(this,"isUserProducer",r,this),P(this,"workbenchModel",l,this),P(this,"isRenamingAPI",c,this),P(this,"isShowingReleaseView",d,this),this.routeParams={}}toggleReleaseView(e){this.isShowingReleaseView=e}setIsUserProducer(e){this.isUserProducer=e}setWorkbenchModel(e){this.workbenchModel=e}didActivate(){this.isShowingReleaseView?this.releaseController&&this.releaseController.activate():this.status===T.READY&&(0,y.when)((()=>R.get(this.model,"id")),(()=>{if(!R.get(this,"workbenchModel.getProducerMode"))return;if(R.isEmpty(R.get(this.model,"workbenchModel.apiRepositoryStore")))return;const e=this.workbenchModel.getProducerMode();e&&this.model.update({mode:e})}))}setWorkbenchStatus(e){this.status=e,e!==T.READY&&e!==T.ERROR&&e!==T.OFFLINE||this.setLoading(!1)}get model(){const e=(0,h.resolveStoreInstance)(u.default).values;for(const t of e){const e=R.get(t,"childEntities")&&t.childEntities.find(this.id);if(e)return e}}get apiModel(){return(0,h.resolveStoreInstance)(u.default).find(this.apiId)}set(e,t){this[e]=t}setIsRenamingAPI(e){this.isRenamingAPI=e}setAPIRepoLinkDetails(e={}){if(!this.workbenchModel)return;const{apiRepoLinkInformation:t,apiVersion:n}=e;n===R.get(this,"workbenchModel.id")&&this.workbenchModel.setRepositoryLinkDetails(t)}handleAPIRepoReAuthenticated(){this.workbenchModel&&this.workbenchModel.getAPIRepoLinkInfo()}async getAPIVersionId(e){let t=R.get(e,"versionId");return R.isNil(t)?(await(0,y.when)((()=>R.get(this.apiModel,"childEntities.values.length"))),t=R.get(this.apiModel,"childEntities.values.0.id"),t):t}async getAPIId(e){var t;const n=R.get(e,"versionId"),o=R.get(e,"apiId");if(R.isNil(n))return o;let s=o;const i=(0,h.resolveStoreInstance)(u.default);await(0,y.when)((()=>!i.isStoreHydrating));const a=i.find(o);return(null==a||null===(t=a.childEntities)||void 0===t?void 0:t.find(n))?o:(R.forEach(i.values,(e=>{const t=R.get(e,"childEntities.values",[]);R.forEach(t,(e=>{e.id===n&&(s=e.parentEntityId)}))})),s)}handleRouteModifications(e,t){const n=R.get(t,"branch",null),o=R.get(this.apiModel,"childEntities.values.0"),s={replace:!0};this.repositoryStoreInitializationReaction&&this.repositoryStoreInitializationReaction(),this.repositoryStoreInitializationReaction=(0,y.when)((()=>R.get(o,"apiRepositoryStore.branch")),(()=>{const e=R.get(o,"apiRepositoryStore.apiVersionRepositoryInterface.integrationType");if("v1Cloud"===e||"v1OnPrem"===e)return;const i=R.get(o,"apiRepositoryStore.branch"),a=n&&!R.isEqual(i,n);try{if(a)return void o.apiRepositoryStore.switchBranch(n)}catch(e){pm.logger.warn("Failed to switch branch",e)}return n||this.isShowingReleaseView?void 0:(t.branch=i,void b.default.transitionTo("build.api",{apiId:this.apiId},t,s))})),(0,y.when)((()=>R.get(this.apiModel,"id")),(()=>{if((b.default.isActive("build.apiVersion",{apiId:this.apiModel.id,versionId:this.id})||b.default.isActive("build.apiVersion",{apiId:e.apiId,versionId:this.id}))&&(!0===this.apiModel.isMigrated||1===R.get(this.apiModel,"childEntities.values.length")))return void b.default.transitionTo("build.api",{apiId:this.apiModel.id},t,s);!0!==this.apiModel.isMigrated&&b.default.isActive("build.api",{apiId:this.apiModel.id})&&R.get(this.apiModel,"childEntities.values.length")>1&&b.default.transitionTo("build.apiVersion",{apiId:this.apiModel.id,versionId:o.id},t,s)}))}setAPIVersionId(e){this.id=e}setAPIId(e){this.apiId=e}setVersionId(e){this.versionId=e}setRouteParams(e){this.routeParams=e}redirectToDefinitionWithRelease(e,t){this.context.tab!==w.DEFINE&&this.context.tab!==w.DEVELOP||(0,y.when)((()=>R.get(e,"activeRelease.entities.apiDefinitions.0.entityId")||R.get(e,"activeRelease.entities.schemas.0.entityId")),(()=>{const n=R.get(e,"activeRelease.entities.apiDefinitions.0.entityId")||R.get(e,"activeRelease.entities.schemas.0.entityId");(0,j.handleDefinitionUrlForBackwardCompatibility)({apiId:this.apiId,apiVersionId:this.id,apiDefinitionId:n},t)}))}async didCreate({routeParams:e,queryParams:t,additionalContext:n}){var o;this.setTitle("Loading..."),O.default.setActiveTab("api");const s=await this.getAPIId(e);this.setAPIId(s);try{await(0,N.getAPI)(s)}catch(e){const t=new _.default({parentEntityId:this.apiId,id:this.id},this,E.BUILD_MODE,n);return this.setWorkbenchModel(t),this.setWorkbenchStatus(T.ERROR),this.setTitle("Unable to load"),void(0,C.logToNewRelic)(e,"APIVersionWorkbenchController","didCreate")}const i=await this.getAPIVersionId(e);if(this.setAPIVersionId(i),!this.apiModel.childEntities.find(i)){const e=new _.default({parentEntityId:this.apiId,id:this.id},this,E.BUILD_MODE,n);return this.setWorkbenchModel(e),this.setWorkbenchStatus(T.ERROR),this.setTitle("Unable to load"),void(0,C.logToNewRelic)("APIVersionNotFound ~ Could not find the given apiVersionId","APIVersionWorkbenchController","didCreate")}const a=R.get(t,"version");this.setRouteParams(e),this.setVersionId(a),this.context={...t};const r=t.comment,l=null==t?void 0:t.view;if((null===(o=this.apiModel)||void 0===o?void 0:o.isEditable)||"deployments"!==l&&"tests"!==l&&"performance"!==l||(0,D.toast)({status:"error",description:"The section of this API that you're trying to view requires edit access.",duration:7e3}),a){const e=new S.default(this.apiId,this.id,a);return await e.create(this),this.releaseController=e,this.toggleReleaseView(!0),(0,y.when)((()=>R.get(this.releaseController,"workbenchModel.activeRelease.name")),(()=>this.setTitle(R.get(this.releaseController,"workbenchModel.activeRelease.name")))),void this.redirectToDefinitionWithRelease(this.releaseController.workbenchModel,t)}(0,y.when)((()=>"version"!==R.get(this.model,"mode.name")),(()=>{var e;null!==(e=this.model)&&void 0!==e&&e.consumerViewModel&&this.model.consumerViewModel.resetConsumerViewModel()})),this.toggleReleaseView(!1),this.handleRouteModifications(e,t);const c=(0,A.getCurrentScreenFromQueryParams)(t);this.navigateToScreen(c),R.get(n,"renameAPI")&&this.setIsRenamingAPI(!0),this.setWorkbenchStatus(T.LOADING);const d=await this.getUserEditPermission();if(this.setIsUserProducer(d),!this.isUserProducer&&R.get(this.apiModel,"isMigrated"))return(0,y.when)((()=>R.get(this.model,"consumerViewModel")),(()=>{const e=R.get(this,"model.consumerViewModel");e.populateReleaseStore(),this.setWorkbenchModel(e),this.workbenchModel.setController(this),this.setTitle(R.get(e,"activeRelease.name")),(0,y.reaction)((()=>R.get(this.workbenchModel,"hasState")),(e=>this.setWorkbenchStatus(e)),{fireImmediately:!0}),this.model.update({workbenchModel:this.workbenchModel}),this.model.update({consumerViewModel:this.workbenchModel})})),void this.redirectToDefinitionWithRelease(this.workbenchModel,t);const u=setTimeout((()=>{(0,C.logToNewRelic)({message:`Hydration of the API Item in APIListStore took more than 5 seconds ${R.get(this,"apiId")}`},"APIVersionWorkbenchController","didCreate")}),5e3);await(0,y.when)((()=>R.get(this.model,"isLoaded"))),clearTimeout(u);const p=new _.default({parentEntityId:this.apiId,id:this.id},this,E.BUILD_MODE,n);this.setWorkbenchModel(p),(0,y.when)((()=>R.get(this.model,"id")),(()=>{this.model.update({workbenchModel:this.workbenchModel})})),this.tabTitleAutorunDisposer=(0,y.autorun)((()=>{this.model&&!R.get(this,"model.workbenchModel")&&this.model.update({workbenchModel:this.workbenchModel});const{isSocketConnected:e}=(0,h.resolveStoreInstance)(g.default);!e&&this.status!==T.READY||this.status===T.ERROR?this.setTitle("Unable to load"):this.status===T.LOADING||this.workbenchModel.isMetaDataLoading?this.setTitle("Loading..."):this.setTitle(R.get(this.apiModel,"name"))})),this.context.tab!==w.DEFINE&&this.context.tab!==w.DEVELOP||(0,y.when)((()=>R.get(this.workbenchModel,"schemaId")||R.get(this.workbenchModel,"apiDefinitionId")),(()=>{const e=R.get(this.workbenchModel,"schemaId")||R.get(this.workbenchModel,"apiDefinitionId");(0,j.handleDefinitionUrlForBackwardCompatibility)({apiId:this.apiId,apiVersionId:this.id,apiDefinitionId:e},t)})),this.setConflictOptions({entityType:"API Version"}),r&&(0,y.when)((()=>this.workbenchModel.isAPIVersionReady),(()=>{this.handleCommentHighlight(r)})),this.wbReadyReactionDispose=(0,y.reaction)((()=>R.get(this,"workbenchModel.isAPIVersionReady")),(e=>{e&&this.setWorkbenchStatus(T.READY)}),{fireImmediately:!0}),this.wbErrorReactionDispose=(0,y.reaction)((()=>R.get(this,"workbenchModel.hasErrorState")),(e=>{e&&this.setWorkbenchStatus(T.ERROR)}),{fireImmediately:!0}),this.wbOfflineReactionDispose=(0,y.reaction)((()=>R.get(this,"workbenchModel.isOffline")),(e=>{e&&this.setWorkbenchStatus(T.OFFLINE)}),{fireImmediately:!0}),this._boundedConnectToRepositoryListener=this.setAPIRepoLinkDetails.bind(this),this._boundedReAuthenticateRepositoryListner=this.handleAPIRepoReAuthenticated.bind(this),pm.windowEvents.addListener(`api-connected-to-repo-${this.apiId}`,this._boundedConnectToRepositoryListener),pm.windowEvents.addListener(`api-oauth-integration-re-authenticated-${this.apiId}`,this._boundedReAuthenticateRepositoryListner)}async getUserEditPermission(){try{return await(0,y.when)((()=>!R.isUndefined(R.get(this.apiModel,"isEditable")))),this.apiModel.isEditable}catch(e){(0,C.logToNewRelic)(e,"APIVersionWorkbenchController","getUserEditPermission")}}beginTracking(e,t){let n;const o=this.getPersistedTrackedState();n=o&&o.isDirty?o:new v.ObservableTrackedState(e),this.attachTrackedState(n,t,{persist:!0}),o&&o.isDirty&&this.detectConflict(e)}set schemaId(e){this._trackedState.set({schemaId:e})}get schemaId(){return this._trackedState&&this._trackedState.get("schemaId")}set schema(e){this._trackedState.set({schema:e})}get schema(){return this._trackedState&&this._trackedState.get("schema")}set activeType(e){this._trackedState.set({activeType:e})}get activeType(){return this._trackedState&&this._trackedState.get("activeType")}set activeLanguage(e){this._trackedState.set({activeLanguage:e})}get activeLanguage(){return this._trackedState&&this._trackedState.get("activeLanguage")}updateVersion(e){this.model.update(e),R.has(e,"id")&&(this.model.id=e.id),R.has(e,"api")&&(this.model.apiId=e.api),R.has(e,"apiName")&&(this.model.apiName=e.apiName),R.has(e,"isVisible")&&(this.model.isVisible=e.isVisible),R.has(e,"name")&&(this.model.name=e.name),R.has(e,"summary")&&(this.model.summary=e.summary),R.has(e,"description")&&(this.model.description=e.description),R.has(e,"team")&&(this.model.team=e.team),R.has(e,"createdBy")&&(this.model.createdBy=R.get(e,"createdBy",{})),R.has(e,"createdAt")&&(this.model.createdAt=R.get(e,"createdAt","")),R.has(e,"isPublic")&&(this.model.isPublic=e.isPublic),R.has(e,"stage")&&(this.model.stage=e.stage),R.has(e,"visibility")&&(this.model.visibility=e.visibility)}detectConflict(e){let t=(0,y.toJS)(this._trackedState._initialState);if(this.isDirty&&!R.isEqual((0,y.toJS)(e),t))return this.set("hasConflict",!0),void this.setStatus("CONFLICT","This API has been modified since you last opened this tab.");this.clearStatus(),this.handleIncomingUpdates(e,{resetUpdates:!this._trackedState.isDirty})}get conflictType(){return R.get(this,"workbenchModel.isAPIVersionDeleted")?T.DELETED:this.hasConflict?T.CONFLICTED:void 0}clearTrackedUpdates(){this._trackedState.resetUpdates()}handleIncomingUpdates(e,t={resetUpdates:!0}){if(!e)throw new Error("APIWorkbenchController~handleIncomingUpdates: Could not set new state. Parameter `newInitialState` not provided");this.clearStatus(),this.set("hasConflict",!1),t.resetUpdates?this._trackedState.reset(e):this._trackedState._setInitialState(e)}navigateToScreen(e){R.get(this,"workbenchModel.apiEditorUIStore.setActiveScreen")&&this.workbenchModel.apiEditorUIStore.setActiveScreen(e)}unsetContext(e){this.context&&delete this.context[e]}didQueryParamsChange(e){const t=e.version,n=(0,y.toJS)(this.versionId),o={hydrateRepository:!t};if(t!==n)return n&&t?void this.setVersionId(t):(this.beforeDestroy(),void this.didCreate({routeParams:this.routeParams,queryParams:e,additionalContext:o}));if(R.has(e,"ctx")&&R.get(this.context,"ctx")!==e.ctx&&(this.context.ctx=e.ctx),R.has(e,"comment")&&R.get(this.context,"comment")!==e.comment){const t=e.comment;this.context.comment=e.comment,this.handleCommentHighlight(t)}}handleCommentHighlight(e){(0,h.resolveStoreInstance)(p.default).setLoaded(!1),this.workbenchModel.toggleMode(),I.default.handleOpenComment(this.id,e)}cleanUp(){this.wbReadyReactionDispose&&this.wbReadyReactionDispose(),this.wbErrorReactionDispose&&this.wbErrorReactionDispose(),this.wbOfflineReactionDispose&&this.wbOfflineReactionDispose(),this.tabTitleAutorunDisposer&&this.tabTitleAutorunDisposer(),this.repositoryStoreInitializationReaction&&this.repositoryStoreInitializationReaction(),this._boundedConnectToRepositoryListener&&pm.windowEvents.removeListener(`api-connected-to-repo-${this.apiId}`,this._boundedConnectToRepositoryListener),this._boundedReAuthenticateRepositoryListner&&pm.windowEvents.removeListener(`api-oauth-integration-re-authenticated-${this.apiId}`,this._boundedReAuthenticateRepositoryListner),R.get(this,"workbenchModel.cleanUp")&&this.workbenchModel.cleanUp(),this.setWorkbenchModel(null),this.detachTrackedState()}shouldClose(){if(R.isEmpty(this.workbenchModel))return!0;return!(R.get(this,"workbenchModel.featureBranch",!1)&&this.workbenchModel.featureBranch.hasDirtyChanges())||(pm.mediator.trigger("showConfirmFeatureBranchTabCloseModal",this.workbenchModel),!1)}beforeDestroy(){this.isShowingReleaseView?this.releaseController&&this.releaseController.destroy():(this.cleanUp(),this.model&&this.model.update({workbenchModel:null}))}promoteTab(){R.get(this,"_editorModel.isPreview")&&R.get(this,"_editorModel.promoteEditor")&&this._editorModel.promoteEditor()}navigateToMigratedAPI(e){return b.default.transitionTo("build.api",{apiId:e},{},{tabOptions:{openIn:this.tabId}})}},s=M(o.prototype,"id",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=M(o.prototype,"apiId",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=M(o.prototype,"status",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.LOADING}}),r=M(o.prototype,"isUserProducer",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=M(o.prototype,"workbenchModel",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=M(o.prototype,"isRenamingAPI",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=M(o.prototype,"isShowingReleaseView",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M(o.prototype,"toggleReleaseView",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"toggleReleaseView"),o.prototype),M(o.prototype,"setIsUserProducer",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsUserProducer"),o.prototype),M(o.prototype,"setWorkbenchModel",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setWorkbenchModel"),o.prototype),M(o.prototype,"setWorkbenchStatus",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setWorkbenchStatus"),o.prototype),M(o.prototype,"model",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"model"),o.prototype),M(o.prototype,"apiModel",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"apiModel"),o.prototype),M(o.prototype,"set",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"set"),o.prototype),M(o.prototype,"setIsRenamingAPI",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsRenamingAPI"),o.prototype),M(o.prototype,"setAPIVersionId",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setAPIVersionId"),o.prototype),M(o.prototype,"setAPIId",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setAPIId"),o.prototype),M(o.prototype,"schemaId",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"schemaId"),o.prototype),M(o.prototype,"schema",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"schema"),o.prototype),M(o.prototype,"activeType",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"activeType"),o.prototype),M(o.prototype,"activeLanguage",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"activeLanguage"),o.prototype),M(o.prototype,"updateVersion",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateVersion"),o.prototype),M(o.prototype,"conflictType",[y.computed],Object.getOwnPropertyDescriptor(o.prototype,"conflictType"),o.prototype),o)},"./api-dev/controllers/CreateAPITabController.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s,i=n("../../node_modules/mobx/lib/mobx.module.js"),a=n("./appsdk/workbench/BaseWorkbenchController.js"),r=n("./js/services/NavigationService.js"),l=n("./api-dev/stores/APIListStore.js"),c=n("./js/stores/StoreManager.js"),d=n("./api-dev/navigation/constants.js"),u=n("./appsdk/workbench/TabService.js");function p(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let m=(o=class extends a.default{constructor(){var e,t,n,o;super(),e=this,t="error",o=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0}),this.closeTab=this.closeTab.bind(this)}closeTab(){u.default.closeByRoute(d.CREATE_API_URL,this.getRouteParams())}setError(e){this.error=e}didCreate(){(0,c.resolveStoreInstance)(l.default).create().then((e=>{const t=e.id;r.default.transitionTo("build.api",{apiId:t},null,{replace:!0,tabOptions:{openIn:this._tabId},additionalContext:{renameAPI:!0}})})).catch((e=>{this.setError(e),this.closeTab()}))}},s=p(o.prototype,"error",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p(o.prototype,"setError",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"setError"),o.prototype),o)},"./api-dev/controllers/ReleaseController.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o,s,i,a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./appsdk/workbench/BaseWorkbenchController.js"),l=n("./api-dev/stores/ReleaseStore.js"),c=n("./api-dev/constants/WorkbenchConstants.js"),d=n("./api-dev/navigation/constants.js"),u=n("./appsdk/workbench/TabService.js"),p=n("./api-dev/stores/APIListStore.js"),m=n("./js/stores/StoreManager.js"),h=n("./js/services/NavigationService.js"),g=n("./node_modules/lodash/lodash.js");function f(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function b(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let y=(o=class extends r.default{constructor(e,t,n,o){super(),f(this,"status",s,this),f(this,"workbenchModel",i,this),this.apiController=null,this.viewAs=null,this.apiId=e,this.apiVersionId=t,this.releaseId=n,this.viewAs=o,this.closeTab=this.closeTab.bind(this)}activate(){this.status===c.READY&&(0,a.when)((()=>g.get(this.model,"id")),(()=>{if(g.isEmpty(g.get(this,"workbenchModel")))return;const e=g.get(this,"workbenchModel.mode");e&&this.model.update({mode:e})}))}setWorkbenchStatus(e){this.status=e}setWorkbenchModel(e){this.workbenchModel=e}closeTab(){const e=this.apiController.getRouteParams(),t=this.apiController.getQueryParams();h.default.isActive("build.apiVersion",e,t)?u.default.closeByRoute(d.OPEN_API_VERSION_URL,e):u.default.closeByRoute(d.OPEN_API_URL,e)}setAPIController(e){this.apiController=e}async create(e){if(!this.getTitle()&&this.setTitle("Loading..."),this.setAPIController(e),await(0,a.when)((()=>g.get(this.model,"isLoaded"))),g.get(this,"model.consumerViewModel"))this.setWorkbenchModel(g.get(this,"model.consumerViewModel")),this.workbenchModel.setController(this),this.workbenchModel.populateReleaseStore(),await(0,a.when)((()=>"ready"===this.workbenchModel.hasState)),this.workbenchModel.setViewAs(this.viewAs),g.get(this.workbenchModel,"activeRelease.id")!==this.releaseId&&this.workbenchModel.setActiveVersion(this.releaseId);else{const e=new l.default(this.apiId,this.apiVersionId,this.releaseId,this);e.populateReleaseStore(),await(0,a.when)((()=>"ready"===e.hasState)),this.setWorkbenchModel(e),(0,a.when)((()=>g.get(this.model,"id")),(()=>{this.model.update({consumerViewModel:this.workbenchModel})}))}(0,a.reaction)((()=>this.workbenchModel.hasState),(e=>this.setWorkbenchStatus(e)),{fireImmediately:!0})}getFallbackMode(){return g.get(this.model,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured")?{name:"branch",value:this.model.apiRepositoryStore.branch,view:"workspace"}:{name:"builder",value:"",view:"workspace"}}destroy(){this.workbenchModel.cleanUp()}get model(){const e=(0,m.resolveStoreInstance)(p.default);if(!e)return null;const t=e.find(this.apiId);if(!t)return null;return t.childEntities.find(this.apiVersionId)}},s=b(o.prototype,"status",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.LOADING}}),i=b(o.prototype,"workbenchModel",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b(o.prototype,"setWorkbenchStatus",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setWorkbenchStatus"),o.prototype),b(o.prototype,"setWorkbenchModel",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setWorkbenchModel"),o.prototype),b(o.prototype,"model",[a.computed],Object.getOwnPropertyDescriptor(o.prototype,"model"),o.prototype),o)},"./api-dev/interfaces/view/VersionSelector/VersionSelector.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/@postman/date-helper/index.js"),r=n.n(a),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),u=n("./api-dev/components/api-version/VersionSelectorDropdown/VersionSelectorDropdown.js"),p=n("./api-dev/util/navigationHelper.js"),m=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),h=n("./js/modules/services/APITabUpdateHelpers.js"),g=n("./js/modules/services/AnalyticsService.js"),f=n("./js/stores/StoreManager.js"),b=n("./api-dev/stores/APIListStore.js"),y=n("./api-dev/services/APIPermissionService.js"),v=n("./js/stores/CurrentUserStore.js"),I=n("./node_modules/lodash/lodash.js");function E(e){const{name:t,createdAt:n}=e;return s.createElement(l.default,{direction:"column",gap:"spacing-xs",alignItems:"flex-start",justifyContent:"center"},s.createElement(c.default,{type:"body-medium",color:"content-color-primary",isTruncated:!0},t),s.createElement(c.default,{type:"body-small",color:"content-color-secondary",isTruncated:!0},r().getFormattedDateAndTime(n)))}function _({handleOnClick:e,isEditable:t,destination:n}){const o=m.default.div`
    display: flex;
    flex-direction: column;
    padding: ${e=>`${e.theme["spacing-zero"]} ${e.theme["spacing-s"]} ${e.theme["spacing-s"]} ${e.theme["spacing-s"]};`};
  `,i=(0,m.default)(d.default)`
    padding-bottom: 6px;
    padding-top: 6px;
  `,a=m.default.hr`
    border: none;
    border-bottom: ${e=>`${e.theme["border-width-default"]} ${e.theme["border-style-solid"]} ${e.theme["border-color-default"]};`};
    margin: ${e=>`${e.theme["spacing-zero"]} ${e.theme["spacing-xs"]} ${e.theme["spacing-s"]} ${e.theme["spacing-xs"]};`};
  `;return t&&n?s.createElement(o,null,s.createElement(a,null),s.createElement(i,{key:"switch-branch",onClick:e},s.createElement(c.default,{color:"content-color-primary",type:"body-medium"},n))):null}function S(e,t,n,o){return e?s.createElement(_,{handleOnClick:t,isEditable:n,destination:o}):null}let C=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.handleReleaseSelect=this.handleReleaseSelect.bind(this),this.navigateToAPI=this.navigateToAPI.bind(this)}async navigateToAPI(){const e=I.get(this.props,"apiId"),t=I.get(this.props,"apiVersionId");await h.default.onModeSwitchCloseTabs(e),(0,p.transitionToAPI)({apiId:e,apiVersionId:t},{},{additionalContext:{hydrateRepository:!0}})}handleReleaseSelect(e){g.default.addEventV2({category:"api_repo_integration_v2",entityId:I.get(this.props,"apiId"),action:"switch_version",label:"breadcrumb",value:1});const t=I.get(e,"id");this.props.model.setActiveVersion(t),this.props.onSelect&&this.props.onSelect(e)}isEditable(){const{apiId:e}=this.props,t=(0,f.resolveStoreInstance)(b.default).permissions,n=y.default.hasPermission(t,"edit","api",e),o=(0,f.resolveStoreInstance)(v.default).isLoggedIn;return n&&o}render(){const e=I.get(this.props.model,"activeRelease"),t=I.get(e,"name"),n=I.get(this.props.model,"releases"),o=this.isEditable(),i=this.props.destination,a=this.props.showSwitchToProducerFooterAction,r=I.chain(this.props.model).get("releases").map((e=>{const t={value:e.id,label:e.name};return Object.assign({},e,t)})).value(),l=I.find(r,(t=>t.id===e.id));return I.isEmpty(n)?null:s.createElement(u.default,{isSearchable:!1,isClearable:!1,isMultiSelect:!1,customOptionComponent:E,options:r,inlineLabel:t,onChange:this.handleReleaseSelect,value:l,emptyStateMessage:"No versions found",footer:S(a,this.navigateToAPI,o,i),menuMaxHeight:"48vh"})}})||o;t.default=C},"./api-dev/registries/APITabScreens.js":function(e,t,n){"use strict";n.r(t),n.d(t,{SCREENS:function(){return u},getCurrentScreenFromQueryParams:function(){return m}});var o=n("./api-dev/components/api-version/api-version-sub-tabs/Monitoring/Monitoring.js"),s=n("./api-dev/components/api-version/api-version-sub-tabs/Test/Test.js"),i=n("./api-dev/components/api-version/api-version-sub-tabs/Deployments/Deployments.js"),a=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/TestAndAutomation/index.js"),r=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/APIPerformance/index.js"),l=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/APIDeployments/index.js"),c=n("./api-dev/constants/PowerUpYourAPIConstants.js"),d=n("./integrations/api-observability/constants.ts");const u={tests:{title:"Test and Automation",view:s.default,clientCategory:c.CONTINUOUS_INTEGRATION,sidebarView:a.default},performance:{title:"API Performance",view:o.default,clientCategory:c.API_PERFORMANCE_INTEGRATION,sidebarView:r.default},deployments:{title:"Deployments",view:i.default,clientCategory:d.API_OBSERVABILITY,sidebarView:l.default}},p={test:"tests",deployment:"deployments",monitoring:"performance"},m=e=>{if(null!=e&&e.view)return e.view;const t=null==e?void 0:e.tab;return t&&p[t]?p[t]:null}},"./api-dev/registries/APITabTiles.js":function(e,t,n){"use strict";n.r(t),n.d(t,{API_TILES:function(){return b},CONSUMER_TILES:function(){return E},NO_VERSION_TILES:function(){return v},VERSION_TILES:function(){return y},VERSION_UNAVAILABLE_TILES:function(){return I}});var o=n("./api-dev/components/api/api-tab/tiles/RepositoryIntegration/RepositoryIntegration.js"),s=n("./api-dev/components/api/api-tab/tiles/RepositoryIntegration/NoSupportBannerOverviewTile.js"),i=n("./api-dev/components/api/api-tab/tiles/AboutAPI/AboutAPI.js"),a=n("./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/PowerUpYourAPI.js"),r=n("./api-dev/components/api/api-tab/tiles/DiscoverAPI/DiscoverAPI.js"),l=n("./api-dev/components/api/api-tab/tiles/Collections/Collections.js"),c=n("./api-dev/components/api/api-tab/tiles/Definition/Definition.js"),d=n("./api-dev/components/api/api-tab/tiles/Collections/AddCollectionCTA.js"),u=n("./api-dev/components/release/ReleaseOverview/ReleaseOverview.js"),p=n("./api-dev/components/api/APIEditors/APIEditorsList/APIEditorsList.js"),m=n("./api-dev/components/api-version/ConsumerView/ConsumerOverview/ConsumerOverview.js"),h=n("./api-dev/components/api-repo-integration/Banners/UsageLimitBanner.js"),g=n("./api-dev/components/api-repo-integration/APIEnterpriseRepoPatInput/APIEnterpriseRepoPatInput.js"),f=n("../../packages/api-design/api-definition-ui/index.js");const b={left:{"usage-limit":{view:h.default},"no-support":{view:s.default},"user-auth-input":{view:g.default,className:"auth-input"},about:{title:"About this API",view:i.default},"connect-repository":{title:"Connect repository",view:o.default,className:"connect-repository"},collections:{title:"Collections",view:l.default,actionItem:d.default},definition:{title:"Definition",view:c.default,actionItem:f.AddDefinitionCTA}},right:{"power-up":{view:a.default},"connected-repository":{view:o.default},"api-discovery":{title:"Publish your API to consumers",view:r.default},"published-versions":{title:"Published Versions",view:r.default},editors:{title:"Editors",view:p.default}}},y={about:{title:"About this API",view:i.default},"release-notes":{title:"Release Notes",view:u.default},collections:{title:"Collections",view:l.default},definition:{title:"Definition",view:c.default}},v={about:{title:"About this API",view:i.default},collections:{title:"Collections",view:l.default},definition:{title:"Definition",view:c.default}},I={about:{title:"About this API",view:i.default},"release-notes":{title:"Release Notes",view:u.default}},E={about:{title:"About this API",view:m.default},collections:{title:"Collections",view:l.default},definition:{title:"Definition",view:c.default}}},"./api-dev/services/ReleaseService.js":function(e,t,n){"use strict";n.r(t);var o=n("./js/modules/services/RemoteSyncRequestService.js");t.default={getCollectionMeta:(e,t)=>{let n=`/collection/${e}?tag=${t}`;return o.default.request(n,{method:"GET"})}}},"./api-dev/stores/APIEditorUIStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o,s,i,a,r,l,c,d=n("../../node_modules/mobx/lib/mobx.module.js"),u=n("./js/services/NavigationService.js"),p=n("./api-dev/registries/APITabScreens.js"),m=n("./api-dev/util/navigationHelper.js"),h=n("./node_modules/lodash/lodash.js");function g(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function f(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let b=(s=f((o=class{constructor(e,t){g(this,"activeTab",s,this),g(this,"apiId",i,this),g(this,"apiVersionId",a,this),g(this,"ctx",r,this),g(this,"isWindowShrunk",l,this),g(this,"activeScreen",c,this),this.apiId=e,this.apiVersionId=t;const n=u.default.getActiveQueryParams().get();let o=(0,p.getCurrentScreenFromQueryParams)(n),d=h.get(n,"ctx");o&&h.chain(p.SCREENS).keys().includes(o).value()||(o=null),this.setActiveScreen(o),d&&this.setContext(d)}setActiveTab(e){this.activeTab=e}setContext(e){this.ctx=e}shrinkWindow(){this.isWindowShrunk=!0}expandWindow(){this.isWindowShrunk=!1}setActiveScreen(e){if(e===this.activeScreen)return;const t=(0,m.buildQueryParams)(e);this.activeScreen=e,(0,m.transitionToAPI)({apiId:this.apiId,apiVersionId:this.apiVersionId},t)}setActiveScreenNoTransition(e){this.activeScreen=e}get noActiveScreen(){return h.isEmpty(this.activeScreen)}}).prototype,"activeTab",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=f(o.prototype,"apiId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=f(o.prototype,"apiVersionId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),r=f(o.prototype,"ctx",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=f(o.prototype,"isWindowShrunk",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=f(o.prototype,"activeScreen",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f(o.prototype,"setActiveTab",[d.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveTab"),o.prototype),f(o.prototype,"setContext",[d.action],Object.getOwnPropertyDescriptor(o.prototype,"setContext"),o.prototype),f(o.prototype,"shrinkWindow",[d.action],Object.getOwnPropertyDescriptor(o.prototype,"shrinkWindow"),o.prototype),f(o.prototype,"expandWindow",[d.action],Object.getOwnPropertyDescriptor(o.prototype,"expandWindow"),o.prototype),f(o.prototype,"setActiveScreen",[d.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveScreen"),o.prototype),f(o.prototype,"setActiveScreenNoTransition",[d.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveScreenNoTransition"),o.prototype),f(o.prototype,"noActiveScreen",[d.computed],Object.getOwnPropertyDescriptor(o.prototype,"noActiveScreen"),o.prototype),o)},"./api-dev/stores/APIRelationStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s,i,a,r,l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./api-dev/services/APIDevService.js"),d=n("./api-dev/util/error.js"),u=n("./api-dev/util/generateFileName.js"),p=n("./integrations/connected-integrations/stores/ConnectedIntegrationsStore.js"),m=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),h=n("./api-dev/constants/APITabModes.js"),g=(n("./js/stores/StoreManager.js"),n("./js/stores/CurrentUserStore.js"),n("./runtime-repl/transient-collection/_api/TransientCollectionInterface.ts")),f=n("./node_modules/lodash/lodash.js");function b(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function y(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let v=(s=y((o=class{constructor(e,t,n){b(this,"isLoadingAddRelation",s,this),b(this,"isLoadingDeleteRelation",i,this),b(this,"isRelationLoaded",a,this),b(this,"connectedIntegrations",r,this),this.__version=null,this.type=null,this.model=null,this.__version=e,this.type=t,this.model=n,this.entityTypeMap={mock:"Mock server",documentation:"Documentation",environment:"Environment",integrationtest:"Integration test",contracttest:"Contract test",testsuite:"Test suite",test:"Tests",monitor:"Monitor",uptimemonitor:"Uptime monitor",unclassified:"Unclassified"},this.connectedIntegrations=new p.default(this,n)}get relations(){return f.get(this.__version,"relations")}get apiId(){return this.__version&&this.__version.apiId}get apiName(){return this.__version&&this.__version.apiName}get versionId(){return this.__version&&this.__version.id}get versionName(){return this.__version&&this.__version.name}get friendlyName(){return this.entityTypeMap[this.type]}openCollectionInTab(e){const t=f.get(this.__version,"apiRepositoryStore"),n=t.entityHandlers.collections.collectionFileIdAgainstPath.get(e.modelId);t.entityHandlers.collections.transientCollectionStores[n].openInWorkbench()}updateRelations(e){this.relations=e||[],this.isLoadingAddRelation=!1,this.isLoadingDeleteRelation=!1,this.setIsRelationLoaded(!0)}getAllRelations(){return f.get(this.__version,"_workbenchController.model.relationsStore")?(this.__version._workbenchController.model.relationsStore.hydrate(),(0,l.runInAction)((()=>{this.isLoadingAddRelation=!1,this.isLoadingDeleteRelation=!1,this.setIsRelationLoaded(!0)})),Promise.resolve([])):Promise.resolve([])}setIsRelationLoaded(e){this.isRelationLoaded=e}setIsLoadingAddRelation(e){this.isLoadingAddRelation=e}addRelation(e,t=!1,n=null,o=null){f.get(this.__version,"mode"),h.FEATURE_BRANCH_MODE;const s=f.get(this.__version,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured");if(this.isLoadingAddRelation=!0,s||t){if(e.fromWorkspace){if(!n)return(0,m.cloneCollection)(e.id).then((e=>g.default.create(e,{type:"readOnly"}))).then((0,l.action)((async t=>{try{await(0,l.runInAction)((async()=>{let n=o;if(!n){const t=f.get(this.__version,"apiRepositoryStore.entityHandlers.collections"),o=f.get(t,"collectionFileIdAgainstPath",[]),s=new Map(Array.from(o,(e=>e.reverse())));n=(0,u.generateFileName)(`${e.name}.json`,s,1)}const s=t.toJSON({format:"2.1.0"});await t.dispose({deep:!0}),await this.__version.apiRepositoryStore.entityHandlers.collections.createCollectionFile(n,s,{}),await this.__version.apiRepositoryStore.onCreate("collections",n,JSON.stringify(s,null,"\t"))}))}catch(e){(0,d.logToNewRelic)(e,"APIRelationStore","addRelation")}finally{return this.setIsLoadingAddRelation(!1),e}})));try{(0,l.runInAction)((async()=>{let t=o;if(!t){const n=f.get(this.__version,"apiRepositoryStore.entityHandlers.collections"),o=f.get(n,"collectionFileIdAgainstPath",[]),s=new Map(Array.from(o,(e=>e.reverse())));t=(0,u.generateFileName)(e.name,s,1)}await this.__version.apiRepositoryStore.entityHandlers.collections.createCollectionFile(t,n,{}),await this.__version.apiRepositoryStore.onCreate("collections",t,JSON.stringify(n,null,"\t"))}))}catch(e){(0,d.logToNewRelic)(e,"APIRelationStore","addRelation")}finally{return this.setIsLoadingAddRelation(!1),Promise.resolve(e)}}return this.isLoadingAddRelation=!1,Promise.resolve(e)}let i={},a="";return f.isArray(e)?(i=e,a="collections"):(i={type:this.type,model:this.model,modelId:e.id,versionTag:null},a=e.name),c.default.addRelation(this.apiId,this.versionId,i).then((t=>this.getAllRelations().then((()=>(pm.windowEvents.emit("relation-linked",{relation:e,apiId:this.apiId,apiName:this.apiName,versionId:this.versionId,versionName:this.versionName,type:this.type}),pm.toasts.success(`You added ${a} to ${this.apiName}.`),t))))).catch((e=>{(0,d.handleError)(e,`There was an unexpected error adding this ${this.type} to the API. Please try again.`)}))}deleteRelation(e){return this.isLoadingDeleteRelation=!0,c.default.deleteRelation(this.apiId,this.versionId,this.type,e.id).then((t=>this.getAllRelations().then((()=>(pm.windowEvents.emit("relation-unlinked",{relation:e,apiId:this.apiId,apiName:this.apiName,versionId:this.versionId,versionName:this.versionName,type:this.type}),pm.toasts.success(`You removed ${e.name} from ${this.apiName}.`),t))))).catch((e=>{(0,d.handleError)(e,`There was an unexpected error deleting this ${this.type}. Please try again.`)}))}createAndAddRelationToAPIVersion(e){let t={type:this.type,...e};return c.default.createAndAddRelationToAPIVersion(this.apiId,this.versionId,t).then((e=>this.getAllRelations().then((()=>(pm.toasts.success(`${this.entityTypeMap[this.type]} added to the API`,{noIcon:!0}),Promise.resolve(e)))))).catch((e=>{let t,n=`Couldnt add ${f.toLower(this.entityTypeMap[this.type])} to the API`;return e&&!e.title&&(t={message:e.message,title:n}),(0,d.handleError)(t,"Try again after some time."),Promise.reject(e)}))}updateValidation(e,t,n){let o=f.find(this.relations,(t=>t.id===e));o&&(o.validation=t?{type:t.validation.type,message:t.validation.message,actions:t.actions}:{},o.isValidating=n.isValidating,o.isValidationFailed=n.isValidationFailed)}validateRelation(e){return this.updateValidation(e,null,{isValidating:!0,isValidationFailed:!1}),c.default.validateRelation(this.apiId,this.versionId,this.type,e).then((t=>(this.updateValidation(e,t,{isValidating:!1,isValidationFailed:!1}),Promise.resolve(t)))).catch((t=>{this.updateValidation(e,null,{isValidating:!1,isValidationFailed:!0})}))}}).prototype,"isLoadingAddRelation",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=y(o.prototype,"isLoadingDeleteRelation",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=y(o.prototype,"isRelationLoaded",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=y(o.prototype,"connectedIntegrations",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(o.prototype,"relations",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,"relations"),o.prototype),y(o.prototype,"apiId",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,"apiId"),o.prototype),y(o.prototype,"apiName",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,"apiName"),o.prototype),y(o.prototype,"versionId",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,"versionId"),o.prototype),y(o.prototype,"versionName",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,"versionName"),o.prototype),y(o.prototype,"friendlyName",[l.computed],Object.getOwnPropertyDescriptor(o.prototype,"friendlyName"),o.prototype),y(o.prototype,"updateRelations",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"updateRelations"),o.prototype),y(o.prototype,"setIsRelationLoaded",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsRelationLoaded"),o.prototype),y(o.prototype,"setIsLoadingAddRelation",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsLoadingAddRelation"),o.prototype),y(o.prototype,"addRelation",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"addRelation"),o.prototype),y(o.prototype,"deleteRelation",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"deleteRelation"),o.prototype),y(o.prototype,"updateValidation",[l.action],Object.getOwnPropertyDescriptor(o.prototype,"updateValidation"),o.prototype),o)},"./api-dev/stores/APIVersionItemStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ze}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y,v,I,E,_,S,C,T,j,A,w,O,N,D,R,P,M,L,x,k,F,V,B,U,z,H,G,W,$,q,Y,K,J,Z,X,Q,ee,te,ne,oe,se,ie,ae,re,le,ce,de,ue,pe=n("./api-dev/services/APIDevService.js"),me=n("../../node_modules/mobx/lib/mobx.module.js"),he=n("./js/modules/model-event.js"),ge=n("./js/stores/ActiveWorkspaceStore.js"),fe=n("./js/stores/SyncStatusStore.js"),be=n("./js/stores/CurrentUserStore.js"),ye=n("./api-dev/stores/APIListStore.js"),ve=n("./js/stores/StoreManager.js"),Ie=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),Ee=n("./api-dev/stores/APIEditorUIStore.js"),_e=n("./node_modules/rxjs/_esm5/internal/operators/share.js"),Se=n("./js/services/NavigationService.js"),Ce=n("./api-dev/stores/APIPermissionStore.js"),Te=n("./js/modules/pipelines/user-action.js"),je=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),Ae=n("./collaboration/navigation/constants.js"),we=n("./api-dev/constants/WorkbenchConstants.js"),Oe=n("./api-dev/stores/APIRelationStore.js"),Ne=n("../../packages/api-design/api-definition-store/index.js"),De=n("./api-dev/services/IntegrationService.js"),Re=n("./api-dev/constants/APIRepositoryConstants.js"),Pe=n("./api-dev/constants/APIVersionStageConstants.js"),Me=n("./api-dev/configs/APIVersionWorkbenchConfig.js"),Le=n("./api-dev/constants/APITabModes.js"),xe=(n("./onboarding/src/common/LaunchDarkly.js"),n("./api-dev/stores/FeatureBranchStore.js")),ke=n("./js/modules/services/AnalyticsService.js"),Fe=n("./api-dev/util/error.js"),Ve=n("./api-dev/constants/APISubViews.js"),Be=n("./api-dev/configs/APIActionsBlockList.js"),Ue=n("./js/modules/services/RolesService.js"),ze=n("./js/stores/TeamUserStore.js"),He=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),Ge=n("./node_modules/uuid/index.js"),We=n.n(Ge),$e=n("./node_modules/lodash/lodash.js");function qe(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function Ye(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const Ke=[Le.BUILD_MODE,Le.FEATURE_BRANCH_MODE],Je=pm.logger.getContext("APIVersionItemStore","apiDev");let Ze=(o=me.action.bound,s=me.action.bound,i=me.action.bound,a=me.action.bound,l=Ye((r=class{constructor(e,t,n,o){this.id="",this.apiId="",qe(this,"mode",l,this),qe(this,"name",c,this),qe(this,"team",d,this),qe(this,"createdAt",u,this),qe(this,"isVisible",p,this),qe(this,"description",m,this),qe(this,"summary",h,this),qe(this,"createdBy",g,this),qe(this,"isPublic",f,this),qe(this,"isForbiddenErrorState",b,this),qe(this,"activeDocumentation",y,this),qe(this,"isNotFound",v,this),qe(this,"isMetaDataLoading",I,this),qe(this,"isOffline",E,this),qe(this,"isLoadingAddVersion",_,this),qe(this,"isLoadingRenameVersion",S,this),qe(this,"isLoadingDeleteVersion",C,this),qe(this,"isAPIVersionDeleted",T,this),qe(this,"isAPIVersionNotFound",j,this),qe(this,"hasErrorState",A,this),qe(this,"hasRelationsFetchFailed",w,this),qe(this,"editors",O,this),qe(this,"tag",N,this),qe(this,"lastCommitId",D,this),qe(this,"lastSyncedWithRepoAt",R,this),qe(this,"repoLinkId",P,this),qe(this,"tokenId",M,this),qe(this,"isFetchingAPIRepoLinkInfo",L,this),qe(this,"developmentBranchName",x,this),qe(this,"developmentBranchLink",k,this),qe(this,"repositoryName",F,this),qe(this,"repositoryLink",V,this),qe(this,"stage",B,this),qe(this,"visibility",U,this),qe(this,"summary",z,this),qe(this,"changesToBePushed",H,this),qe(this,"changesToBePulled",G,this),qe(this,"changesToPullCount",W,this),qe(this,"changesToPushCount",$,this),qe(this,"isDeletingRepositoryIntegration",q,this),qe(this,"repositoryIntegrationState",Y,this),qe(this,"isAPIAddedInV10",K,this),qe(this,"branches",J,this),qe(this,"releases",Z,this),qe(this,"featureBranch",X,this),qe(this,"isLoadingAddRelease",Q,this),qe(this,"isUpdatingRelease",ee,this),qe(this,"isUpdatingReleases",te,this),qe(this,"isDeletingRelease",ne,this),qe(this,"isPullChangesModalOpen",oe,this),qe(this,"isPushChangesModalOpen",se,this),qe(this,"isCreateLocalGitModalOpen",ie,this),qe(this,"isSyncingWithRepo",ae,this),qe(this,"isCreateReleaseModalOpen",re,this),qe(this,"didStoreHydrateAtLeastOnce",le,this),qe(this,"apiMode",ce,this),this.ignoreLoading=!1,this.workspaceSubscription=null,this.apiSubscription=null,this.versionEvents$=null,this.releaseEvents$=null,this.apiEvents$=null,this.apiVersionSubscription=null,this.releaseSubscriptionMap=new Map,this.repositoryCustomDomain=null,this.repositoryService=null,qe(this,"collectionStoreForAPI",de,this),qe(this,"isCollectionStoreLoaded",ue,this),e.apiId=e.parentEntityId,this.mode=n,this.updateMetaData(e),(0,me.reaction)((()=>(0,ve.resolveStoreInstance)(Ie.default).id),(e=>{this.cleanUp()})),this.init(t,o)}hasRelations(){const e=!$e.isEmpty(this.collectionBasedRelations),t=this.schemaId,n=this.apiDefinitionId;return e||t||n}getProducerMode(){const e=$e.get(this.apiRepositoryStore,"apiVersionRepositoryInterface.integrationType");return $e.get(this.apiRepositoryStore,"apiVersionRepositoryInterface.remoteGitConfigured")&&"v1Cloud"!==e&&"v1OnPrem"!==e?{name:"branch",value:this.apiRepositoryStore.branch,view:"workspace"}:{name:"builder",value:"",view:"workspace"}}setReleases(e){this.releases=e}setAPIMode(e){this.apiMode=e,$e.get(this,"_workbenchController")&&(0,me.when)((()=>$e.get(this._workbenchController,"model.id")),(()=>{this._workbenchController.model.update({mode:e})}))}get isCommentMode(){return this.mode===Le.COMMENT_MODE}handleRealtimeEvents(){const e=this.apiId,t=this.id;if(!$e.includes(Ke,this.mode))return;const n=$e.get(this.apiVersionListStore,"apiVersionObservableMap"),o=n&&n.get(this.id);this.versionEvents$=o||pe.default.getAPIVersionRealtimeEvents(e,t).pipe((0,_e.share)());const s=(0,ve.resolveStoreInstance)(ye.default),i=$e.get(s,"apiObservableMap"),a=i&&i.get(this.apiId);this.apiEvents$=a||pe.default.getAPIRealtimeEvents(e).pipe((0,_e.share)()),this.subscribeAPIVersion(),this.subscribeAPI()}unsubscribeAllSubscriptions(){this.apiSubscription&&this.apiSubscription.unsubscribe(),this.apiVersionSubscription&&this.apiVersionSubscription.unsubscribe(),this.schema&&this.schema.cleanUp();for(let e of this.releaseSubscriptionMap.keys())this.releaseSubscriptionMap.get(e).unsubscribe();this.releaseSubscriptionMap.clear()}cleanUp(){this.syncStatusStoreReactionDisposer&&this.syncStatusStoreReactionDisposer(),this.unsubscribeAllSubscriptions(),this.apiRepositoryStore&&this.apiRepositoryStore.setVersionStore({id:this.id,apiId:this.apiId})}subscribeRelease(e){if($e.includes(Ke,this.mode)&&e&&(0,ve.resolveStoreInstance)(be.default).isLoggedIn)return pe.default.getReleaseRealtimeEvents(this.apiId,this.id,e).subscribe((e=>{const t=$e.get(e,"meta.action");"release"===$e.get(e,"meta.model")&&"update"===t&&(this.setIsUpdatingReleases(!0),this.getAllReleasesForVersion().finally((()=>{this.setIsUpdatingReleases(!1)})))}))}subscribeAPI(){this.apiSubscription&&this.apiSubscription.unsubscribe(),(0,ve.resolveStoreInstance)(be.default).isLoggedIn&&(this.apiSubscription=this.apiEvents$.subscribe((e=>{let t=$e.get(e,"meta.model"),n=$e.get(e,"meta.action");"comment"!==t?"annotation"!==t?"api"===t&&"updateRoles"===n&&this.getAPIEditors(this.apiId):this.handleRealtimeEventsForAPIAnnotations(e):this.handleRealtimeEventsForAPIComments(e)}),(e=>pm.logger.warn("Failed to subscribe to the API",e))))}async handleRealtimeEventsForAPIComments(e){const t=$e.get(e,"meta.action"),n=$e.get(e,"data"),o=$e.get(e,"meta.model"),s=$e.get(n,"annotation");let i=$e.get(n,"comment");switch(t){case"update":(0,Te.default)((0,he.createEvent)("update",o,i));break;case"create":i={...i,model:$e.get(n,"annotation.model"),modelId:$e.get(n,"annotation.modelId")};try{$e.get(s,"anchor",!1)&&await(0,Te.default)((0,he.createEvent)("createOrUpdate","annotation",s))}catch(e){pm.logger.warn("ApiVersionItemStore~handleRealtimeEventsForAPIComments",e)}(0,Te.default)((0,he.createEvent)("createOrUpdate",o,i));break;case"destroy":(0,Te.default)((0,he.createEvent)("deleteIfExists",o,i))}}handleRealtimeEventsForAPIAnnotations(e){const t=$e.get(e,"meta.action"),n=$e.get(e,"data"),o=$e.get(e,"meta.model"),s=$e.get(n,"annotation");switch(t){case"update":(0,Te.default)((0,he.createEvent)("update",o,s));break;case"create":(0,Te.default)((0,he.createEvent)("createOrUpdate",o,s));break;case"destroy":(0,Te.default)((0,he.createEvent)("deleteIfExists",o,s))}}subscribeAPIVersion(){this.apiVersionSubscription&&this.apiVersionSubscription.unsubscribe(),(0,ve.resolveStoreInstance)(be.default).isLoggedIn&&(this.apiVersionSubscription=this.versionEvents$.subscribe((e=>{let t=$e.get(e,"meta.action"),n=$e.get(e,"meta.model"),o="update"===t&&"apiversion"===n,s="create"===t&&"release"===n,i="destroy"===t&&"release"===n;return"apiversion"===n&&"connectToRepository"===t?(this.fetchAPIRepoLinkInfo(),void this.getMetaData()):"apiversion"!==n||"unlinkFromRepository"!==t?o?(this.ignoreLoading=!0,this.getMetaData(),void($e.has(e,"data.repositoryIntegration.changesToPushCount")&&this.updateChangesToPushCount($e.get(e.data,"repositoryIntegration.changesToPushCount")))):void((s||i)&&(this.showToast(t,n,e.data),this.setIsUpdatingReleases(!0),this.getAllReleasesForVersion().finally((()=>{this.setIsUpdatingReleases(!1)})))):void this.unsetRepositoryLinkDetails()})))}showToast(e,t,n={}){if("destroy"===e&&"release"===t){const e=n.id,t=$e.find(this.releases,(t=>t.id===e));t&&"not_available"===t.visibility&&(0,He.toast)({title:`Unable to create version ${t.name}`,status:"error",description:"Something went wrong while creating this version. Try publishing the API again."})}}setEditorsInfo(e){this.editors=e}setActiveDocumentation(e){this.activeDocumentation=e}async fetchAPIMigrationState(){try{const e=await this.getAPIMeta();this.setIsAPIAddedInV10(1===$e.get(e,"apiContainerStatus"))}catch(e){this.setHasErrorState(!0)}}setIsMetaDataLoading(e){this.isMetaDataLoading=e}async init(e,t){this._workbenchController=e,this.apiEditorUIStore=new Ee.default(this.apiId,this.id),this.apiPermissionStore=new Ce.default(this,this.apiId),this.syncStatusStoreReactionDisposer=(0,me.reaction)((()=>(0,ve.resolveStoreInstance)(fe.default).isSocketConnected),(async e=>{if(e){if(this.unsubscribeAllSubscriptions(),this.ignoreLoading=!0,await this.getAPIMeta(),!this.id)return;Promise.all([this.getMetaData(),this.getAllReleasesForVersion(),this.initRelations(),this.getAPIEditors(this.apiId)]).then((()=>{this.handleRealtimeEvents(this.apiId,this.id),(0,me.runInAction)((()=>{this.didStoreHydrateAtLeastOnce=!0}))})).catch((e=>{pm.logger.error("APIVersionItemStore~init",e,{context:Je}),this.didStoreHydrateAtLeastOnce&&$e.includes(["Request Timeout","Socket Disconnected"],$e.get(e,"error.type"))||this.setHasErrorState(!0)})).finally((()=>{this.ignoreLoading=!1,this.setIsOffline(!1)}))}else!this.didStoreHydrateAtLeastOnce&&(0,ve.resolveStoreInstance)(fe.default).isConsistentlyOffline&&this.setIsOffline(!0)}),{fireImmediately:!0}),(0,me.when)((()=>$e.get(this,"apiPermissionStore.canViewAPIRepositoryIntegration")&&(0,ve.resolveStoreInstance)(be.default).team),(()=>{this.fetchAPIRepoLinkInfo(t)})),this.getCollectionsFromRuntimeInterface()}async getCollectionsFromRuntimeInterface(){"builder"===this.apiMode.name&&(0,je.subscribePartialForAPI)(this.apiId).then((e=>{this.setCollectionStore(e)})).catch((e=>{pm.logger.error("APIVersionItemStore~getCollectionsFromRuntimeInterface failed to load collection with error: ",e)})).finally((()=>{this.setIsCollectionStoreLoaded(!0)}))}setCollectionStore(e){this.collectionStoreForAPI=e}setIsCollectionStoreLoaded(e){this.isCollectionStoreLoaded=e}async getAPIEditors(e){const t=(0,ve.resolveStoreInstance)(be.default).team,n=(0,ve.resolveStoreInstance)(be.default).isLoggedIn,o=(0,ve.resolveStoreInstance)(ze.default);if(!t||!n||"network"===this.mode)return Promise.resolve();const s=(await(0,Ue.fetchEntityRoles)("api",e)).userCurrentRoles,i=$e.chain(s).filter((e=>"API_EDITOR"===e.name)).map((({id:e})=>{const t=o.find(e);return{profilePicUrl:$e.get(t,"profilePicUrl"),id:e}})).value();this.setEditorsInfo(i)}get apiRepositoryStore(){return $e.get(this._workbenchController,"model.apiRepositoryStore")}fetchAPIRepoLinkInfo(e){const t=$e.get(this,"apiPermissionStore.canViewAPIRepositoryIntegration"),n=(0,ve.resolveStoreInstance)(be.default);t&&n.isLoggedIn&&n.team&&Me.default[this.mode].initAPIRepo;(0,me.when)((()=>$e.get(this._workbenchController,"model.apiRepositoryStore.apiVersionRepositoryInterface.isAvailable")),(()=>{(0,me.runInAction)((async()=>{this.apiRepositoryStore&&this.apiRepositoryStore.setVersionStore(this);const t=$e.get(this.apiRepositoryStore,"apiVersionRepositoryInterface.integrationType");if($e.get(this.apiRepositoryStore,"apiVersionRepositoryInterface.remoteGitConfigured")&&"v1Cloud"!==t&&"v1OnPrem"!==t){const t={name:"branch",value:$e.get(this.apiRepositoryStore,"apiVersionRepositoryInterface.git.branch"),view:"workspace"};this.setAPIMode(t);$e.get(e,"hydrateRepository",!1)&&await this.apiRepositoryStore.hydrate(!0),this.switchToFeatureBranch({name:$e.get(this.apiRepositoryStore,"apiVersionRepositoryInterface.git.branch")},!1)}else{const e={name:"builder",value:"",view:"workspace"};this.setAPIMode(e)}}))}))}get apiName(){const e=(0,ve.resolveStoreInstance)(ye.default)&&(0,ve.resolveStoreInstance)(ye.default).find(this.apiId);return 1===$e.get(e,"childEntities.values.length")?e.name:`${$e.get(e,"name")}: ${this.name}`}get schemaId(){const e=$e.get(this.relations,"schema");if(e){return $e.get(Object.values(e),"[0].id",null)}return null}get isEditable(){const e=(0,ve.resolveStoreInstance)(ye.default)&&(0,ve.resolveStoreInstance)(ye.default).find(this.apiId);return $e.get(e,"isEditable")}get collectionBasedRelations(){var e;const t=(0,ve.resolveStoreInstance)(ye.default)&&(0,ve.resolveStoreInstance)(ye.default).find(this.apiId);var n,o,s;if("builder"===(null===(e=this.apiMode)||void 0===e?void 0:e.name)&&$e.get(t,"isMigrated"))return(null===(n=this.collectionStoreForAPI)||void 0===n||null===(o=n.list)||void 0===o||null===(s=o.map)||void 0===s?void 0:s.call(o,(({id:e,name:t})=>({modelId:e,name:t}))))||[];let i=$e.get(this.relations,"test",{}),a=$e.get(this.relations,"documentation",{}),r=$e.get(this.relations,"unclassified",{});return i=$e.map($e.keys(i),(e=>$e.assign(i[e],{relationType:"tests"}))),a=$e.map($e.keys(a),(e=>$e.assign(a[e],{relationType:"documentations"}))),r=$e.map($e.keys(r),(e=>$e.assign(r[e],{relationType:"unclassified"}))),[...i,...a,...r]}get apiDefinitionId(){const e=$e.get(this.relations,"apiDefinition");if(e){return $e.get(Object.values(e),"[0].id",null)}return null}setHasErrorState(e){this.hasErrorState=e}setHasRelationsFetchFailed(e){this.hasRelationsFetchFailed=e}promoteTab(){$e.get(this._workbenchController,"_editorModel.isPreview")&&$e.get(this._workbenchController,"_editorModel.promoteEditor")&&this._workbenchController._editorModel.promoteEditor()}switchToFeatureBranch(e,t=!0){t&&this.apiRepositoryStore.switchBranch($e.isObject(e)?e.name:e),this.mode="feature"}setFeatureBranch(e){if(this.featureBranch&&this.featureBranch.dispose(),e.name===$e.get(this,"developmentBranchName"))return ke.default.addEventV2({category:"api_repo_integration",action:"switch_branch",label:"develop",value:1,entityId:this.id}),this.switchToBuildMode();ke.default.addEventV2({category:"api_repo_integration",action:"switch_branch",label:"non-develop",value:1,entityId:this.id});const t={...Se.default.getActiveQueryParams().get(),tab:Ve.OVERVIEW};Se.default.transitionTo("build.apiVersion",{apiId:this.apiId,versionId:this.id},t),this.mode=Le.FEATURE_BRANCH_MODE,this.featureBranch=new xe.default(this,e)}switchToBuildMode(){this.mode=Le.BUILD_MODE,this.featureBranch=null}reload(){const e=!(0,ve.resolveStoreInstance)(fe.default).isSocketConnected;return this.setHasErrorState(!1),e?Promise.resolve():Promise.all([this.getMetaData(),this.getAllReleasesForVersion(),this.initRelations(),this.fetchAPIRepoLinkInfo(),this.getAPIEditors(this.apiId)]).then((()=>{this.setIsMetaDataLoading(!1)})).catch((e=>{this.setHasErrorState(!0)}))}updateMetaData(e){$e.has(e,"id")&&(this.id=e.id),$e.has(e,"apiId")&&(this.apiId=e.apiId),$e.has(e,"isVisible")&&(this.isVisible=e.isVisible),$e.has(e,"name")&&(this.name=e.name),$e.has(e,"summary")&&(this.summary=e.summary),$e.has(e,"description")&&(this.description=e.description),$e.has(e,"team")&&(this.team=e.team),$e.has(e,"createdBy")&&(this.createdBy=$e.get(e,"createdBy",{})),$e.has(e,"createdAt")&&(this.createdAt=$e.get(e,"createdAt","")),$e.has(e,"isPublic")&&(this.isPublic=e.isPublic),$e.has(e,"stage")&&(this.stage=e.stage),$e.has(e,"visibility")&&(this.visibility=e.visibility),$e.has(e,"repositoryIntegration.lastCommit")&&this.updateLastCommitId($e.get(e,"repositoryIntegration.lastCommit")),$e.has(e,"repositoryIntegration.lastSyncedWithRepoAt")&&this.updateLastSyncedWithRepoAt($e.get(e,"repositoryIntegration.lastSyncedWithRepoAt")),$e.has(e,"repositoryIntegration.changesToPushCount")&&this.updateChangesToPushCount($e.get(e,"repositoryIntegration.changesToPushCount")),$e.has(e,"repositoryIntegration.changesToPullCount")&&this.updateChangesToPullCount($e.get(e,"repositoryIntegration.changesToPullCount"))}updateVersion(e){this.updateMetaData(e)}handleError(e,t){this.isLoadingAddVersion=!1,this.isLoadingRenameVersion=!1,this.isLoadingDeleteVersion=!1;const n=(0,ve.resolveStoreInstance)(ye.default).find(this.apiId);$e.get(n,"isAddedInV10")||this.isAPIAddedInV10;let o,s=$e.get(e,"error.details.message")||$e.get(e,"error.message")||t,i=$e.get(e,"error.title"),a=$e.get(e,"error.type");if("Socket Disconnected"!==a&&"Request Timeout"!==a||(i="Something went wrong",s="Unable to complete this action. Please try again."),403===$e.get(e,"status")&&"forbiddenError"===$e.get(e,"error.name")){let e="api",t=this.apiId;o={label:"Request Access",onClick:()=>Se.default.transitionTo(Ae.ACCESS_REQUEST_CREATE_BUILD_IDENTIFIER,null,{entityType:e,entityId:t,type:"grant_role",entityName:this.name})}}pm.toasts.error(s,{noIcon:!0,title:i,primaryAction:o})}renameAPIVersion(e){return this.isLoadingRenameVersion=!0,pe.default.renameAPIVersion(this.api,this.id,e).then((e=>{this.updateVersion(this.id,e),this.isLoadingRenameVersion=!1})).catch((e=>(this.handleError(e,"There was an unexpected error renaming this API version. Please try again."),Promise.reject())))}deleteAPIVersion(){return this.isLoadingDeleteVersion=!0,this.apiVersionListStore.deleteAPIVersion(this.apiId,this.id,this.name).catch((e=>(pm.logger.warn("APIVersionItemStore~deleteAPIVersion - Error deleting API Version",e),this.handleError(e,"There was an unexpected error while deleting this API version. Please try again."),Promise.reject())))}refreshVersionList(){const e=(0,ve.resolveStoreInstance)(ye.default).find(this.apiId);e.childEntities.refresh({isVisible:$e.get(e,"areChildEntitiesVisible",!1)})}setIsForbiddenErrorState(e){this.isForbiddenErrorState=e}getMetaData(){return this.ignoreLoading||(this.isMetaDataLoading=!0),pe.default.getVersion(this.apiId,this.id,"createdBy").then((e=>{this.updateMetaData(e),this.setIsMetaDataLoading(!1)})).catch((0,me.action)((e=>{const t=We()(this.apiId),n=We()(this.id);return 404!==e.status&&(400!==e.status||t&&n)||(this.setIsAPIVersionNotFound(!0),this.setIsAPIVersionDeleted(!0)),403===e.status&&this.setIsForbiddenErrorState(e),this.setIsMetaDataLoading(!1),Promise.reject(e)})))}setIsAPIAddedInV10(e){this.isAPIAddedInV10=e}getAPIMeta(){return pe.default.getAPI(this.apiId).then((e=>Promise.resolve(e))).catch((e=>{const t=We()(this.apiId);return(404===e.status||400===e.status&&!t)&&(this.setIsAPIVersionDeleted(!0),this.setIsAPIVersionNotFound(!0)),Promise.reject(e)}))}refreshVersion(){return pe.default.getVersion(this.apiId,this.id,"createdBy").then((e=>{this.updateMetaData(e)})).catch((0,me.action)((e=>{403!==e.status&&404!==e.status||(this.setIsAPIVersionDeleted(!0),this._workbenchController&&this._workbenchController.setStatus(we.DELETED,"This API version has been deleted"))})))}get isAPIVersionReady(){return!this.isOffline&&(!(this.hasErrorState||this.isAPIVersionDeleted||this.isAPIVersionDeleted)&&!this.isMetaDataLoading)}setIsAPIVersionNotFound(e){this.isAPIVersionNotFound=e}setIsAPIVersionDeleted(e){this.isAPIVersionDeleted=e}setIsOffline(e){this.isOffline=e}rename(e){return this.apiVersionListStore.renameAPIVersion(this.apiId,this.id,e).then((()=>{this.updateMetaData({name:e})})).catch((e=>(this.handleError(e,"There was an unexpected error updating this API Version. Please try again."),Promise.reject())))}get apiVersionListStore(){const e=(0,ve.resolveStoreInstance)(ye.default)&&(0,ve.resolveStoreInstance)(ye.default).find(this.apiId);return $e.get(e,"childEntities")}updateSummary(e){return pe.default.updateAPI(this.apiId,{summary:e}).then((0,me.action)((()=>{this.summary=e}))).catch((e=>{this.handleError(e,"There was an unexpected error while updating this API. Please try again.")}))}updateDescription(e){return pe.default.updateAPI(this.apiId,{description:e}).catch((e=>{this.handleError(e,"There was an unexpected error updating this API. Please try again.")}))}refreshMetaData(){return pe.default.getVersion(this.apiId,this.id,"createdBy").then((e=>{this.updateMetaData(e)})).catch((e=>{403!==e.status&&404!==e.status||(this.setIsAPIVersionNotFound(!0),this.setIsAPIVersionDeleted(!0),this._workbenchController&&this._workbenchController.setStatus(we.DELETED,"This API version has been deleted"))}))}toggleMode(){this.mode===Le.COMMENT_MODE?this.mode=Le.BUILD_MODE:this.mode=Le.COMMENT_MODE}updateVersionName(e){this.name=e}handleVersionStatusChange(e,t,n,o,s){this.apiVersionListStore.find(t).update({name:e,visibility:n,stage:o,summary:s});const i={name:e,visibility:n,stage:o,summary:s};this.updateMetaData(i)}editAPIVersion(e,t,n,o,s,i=!0){return this.isLoadingEditAPIVersion=!0,pe.default.editAPIVersion(this.apiId,t,{name:e,visibility:n,stage:o,summary:s}).then((a=>(this.apiVersionListStore&&this.apiVersionListStore.find(t).update({name:e,visibility:n,stage:o,summary:s}),this.refreshVersion().then((()=>(i&&pm.toasts.success(`API version ${$e.get(a,"name")} has been updated.`),this.updateMetaData(a),a)))))).catch((e=>(this.handleError(e,"There was an unexpected error editing this API version. Please try again."),Promise.reject())))}getAllReleasesForVersion(){return pe.default.getAllReleases(this.apiId,this.id,"gitTag").then((e=>(e=$e.chain(e).sortBy("createdAt").reverse().value(),this.initializeReleasesData(e),e))).catch((e=>403===$e.get(e,"status")?Promise.reject():((0,Fe.handleError)(e,"Failed to fetch all releases data."),Promise.reject(e))))}get relations(){return $e.get(this._workbenchController,"model.relationsStore.relations")}initializeReleasesData(e){this.releases=e,$e.forEach(this.releases,(e=>{const t=e.id;if(this.releaseSubscriptionMap.has(t))return;const n=this.subscribeRelease(t);n&&this.releaseSubscriptionMap.set(t,n)}))}unclassifiedCollectionsOnBranch(){const e=$e.get(this,"apiRepositoryStore"),t=$e.get(e,"config.relations",{});if(!e||!$e.get(e,"entityHandlers.collections.transientCollectionStores"))return[];const n=$e.keys($e.pickBy(e.entityHandlers.collections.transientCollectionStores,((e,n)=>!$e.has(t,n)))),o=$e.pick(e.entityHandlers.collections.transientCollectionStores,n);return $e.map(o,(e=>({id:e.model.id,modelId:e.model.uid,name:e.model.name})))}initRelations(){this.schema=new Ne.APIDefinitionProxyStore(this),this.mocks=new Oe.default(this,"mock","mock"),this.documentations=new Oe.default(this,"documentation","collection"),this.environments=new Oe.default(this,"environment","environment"),this.unclassified=new Oe.default(this,"unclassified","collection"),this.integrationTests=new Oe.default(this,"integrationtest","collection"),this.contractTests=new Oe.default(this,"contracttest","collection"),this.testSuites=new Oe.default(this,"testsuite","collection"),this.tests=new Oe.default(this,"test","collection"),this.monitors=new Oe.default(this,"monitor","monitor"),this.uptimeMonitors=new Oe.default(this,"uptimemonitor","uptimemonitor")}areChangesToBePulled(e){const t=$e.get(e,"schemas"),n=$e.get(e,"relations"),o=$e.get(e,"apiDefinition"),s=["destroys","updates","creates","conflicts"],i=t&&s.some((e=>!$e.isEmpty(t[e]))),a=o&&s.some((e=>!$e.isEmpty(o[e]))),r=s.some((e=>!$e.isEmpty(n[e]))),l=i||a;return Be.default.schema.types.includes($e.get(this.props,"model.schema.type"))?l:l||r}initAPIRepoStats(){if(this.repoLinkId)return pe.default.pullChangesFromRepository(this.apiId,this.id,$e.get(this,"developmentBranchName")).then((e=>{const t=this.areChangesToBePulled(e)?1:0;this.updateChangesToPullCount(t)})).then((()=>pe.default.fetchChangesToBePushed(this.apiId,this.id,$e.get(this,"developmentBranchName")))).then((e=>{e=$e.isObject(e)?e:{},this.updateChangesToPushCount(0),$e.map(Object.keys(e),(t=>{if($e.includes(Re.ALLOWED_ENTITIES_FOR_REPO_SYNC,t))return $e.map(Object.keys(e[t]),(n=>$e.map(e[t][n],(e=>{this.updateChangesToPushCount(1)}))))}))})).catch((e=>{this.handleError(e,"Failed to fetch outgoing and incoming changes.")}))}updateLastCommitId(e){e&&"string"==typeof e&&(e.length>7&&(e=e.substring(0,7)),this.lastCommitId=e)}updateLastSyncedWithRepoAt(e){e&&"string"==typeof e&&(this.lastSyncedWithRepoAt=e)}updateChangesToPushCount(e){this.changesToPushCount=e}updateChangesToPullCount(e){this.changesToPullCount=e}setRepositoryLinkDetails(e){const t=$e.get(e,"error");t?this.repoLinkId=t:(this.repoLinkId=$e.get(e,"id",null),this.tokenId=$e.get(e,"tokenId",null),this.developmentBranchName=$e.get(e,`userConfig.branches.${Re.DEVELOP_BRANCH_NAME}`,null),this.repositoryName=$e.get(e,"repository.name",null),this.repositoryLink=$e.get(e,"links.repository_url",null),this.developmentBranchLink=$e.get(e,"links.branch_url",null),this.repositoryCustomDomain=$e.get(e,"customDomain",null),this.repositoryService=$e.get(e,"service",null))}setIsFetchingAPIRepoLinkInfo(e){this.isFetchingAPIRepoLinkInfo=e}handleGetAPIRepolinkInfoErrors(e){const t=$e.get(e,"error.name");switch(this.setIsFetchingAPIRepoLinkInfo(!1),t){case"apiRepositoryNotFoundError":return void this.setRepositoryLinkDetails(null);case"invalidGitTokenError":return void this.setRepositoryLinkDetails({error:Re.API_REPO_INTEGRATION_TOKEN_EXPIRED_ERROR_STATE});default:this.setRepositoryLinkDetails({error:Re.API_REPO_INTEGRATION_ERROR_STATE}),this.handleError(e,"Failed to fetch repository integration info.")}}setRepositoryIntegrationState(e,t){e===Re.API_REPO_INTEGRATION_TOKEN_EXPIRED_ERROR_STATE||e===Re.API_REPO_INTEGRATION_INVALID_TOKEN_ERROR_STATE?this.repositoryIntegrationState=e:this.repositoryIntegrationState=t}getAPIRepoLinkInfo(){return this.setIsFetchingAPIRepoLinkInfo(!0),De.default.getAPIRepoLinkInfo(this.id).then((e=>{const t=$e.get(e,"repository.info"),n=$e.get(e,"repository.links"),o=$e.get(e,"state"),s=$e.get(e,"token_state"),i=$e(e).pick(["id","userConfig","tokenId"]).merge({repository:t,links:n,customDomain:$e.get(e,"repository.customDomain"),service:$e.get(e,"repository.service")}).value();this.setRepositoryLinkDetails(i),this.setRepositoryIntegrationState(s,o),this.setIsFetchingAPIRepoLinkInfo(!1)})).catch((e=>this.handleGetAPIRepolinkInfoErrors(e)))}setBranches(e){this.branches=e}fetchBranches(e){this.repoLinkId&&De.default.getBranches(e).then((e=>{this.setBranches(e)})).catch((e=>{this.handleError(e,"Something went wrong while trying to fetch branches. Please try again.")}))}unsetRepositoryLinkDetails(){ke.default.addEventV2({category:"api_repo_integration",action:"disconnect_repository",label:this.repositoryService,value:1,entityId:this.id}),this.repoLinkId=null,this.developmentBranchName=null,this.repositoryName=null,this.repositoryIntegrationState=null}setDeleteRepositoryIntegrationStatus(e){this.isDeletingRepositoryIntegration=e}unlinkRepositoryFromAPIVersion(){return this.setDeleteRepositoryIntegrationStatus(!0),pe.default.unlinkRepositoryFromAPIVersion(this.apiId,this.id).then((e=>(this.unsetRepositoryLinkDetails(),this.setDeleteRepositoryIntegrationStatus(!1),pm.toasts.success(`Integration on ${this.name} version deleted.`),pm.windowEvents.emit(`api-unlinked-from-repo-${this.apiId}`,{apiVersion:this.id}),Promise.resolve()))).catch((e=>{this.setDeleteRepositoryIntegrationStatus(!1),this.handleError(e,"There was an unexpected error while trying to unlink repository from this API. Please try again.")}))}addRelease(e){this.setIsLoadingAddRelease(!1),this.releases.unshift(e)}createRelease(e,t,n){return this.setIsLoadingAddRelease(!0),pe.default.createRelease(e,t,n).then((e=>(this.addRelease(e,t),e.id))).catch((e=>(this.handleError(e,"Something went wrong while trying to create a release. Please try again."),this.setIsLoadingAddRelease(!1),Promise.reject())))}setIsUpdatingRelease(e){this.isUpdatingRelease=e}setIsUpdatingReleases(e){this.isUpdatingReleases=e}updateRelease(e,t,n,o){return this.setIsUpdatingRelease(!0),pe.default.updateRelease(e,t,n,o).then((e=>{var t;const n=$e.cloneDeep(this.releases);$e.map(n,(t=>{t.id===$e.get(e,"id")&&(t.name=$e.get(e,"name"),t.description=$e.get(e,"description"))})),this.setReleases(n),this.setIsUpdatingRelease(!1);const o=null===(t=this.apiVersionListStore)||void 0===t?void 0:t.values[0],s=null==o?void 0:o.consumerViewModel;s&&s.updateReleaseProps(e)})).catch((e=>(this.setIsUpdatingRelease(!1),this.handleError(e,"Something went wrong while trying to update a release. Please try again."),Promise.reject())))}setIsDeletingRelease(e){this.isDeletingRelease=e}deleteRelease(e,t,n){return this.setIsDeletingRelease(!0),pe.default.deleteRelease(e,t,n).then((e=>{var t;this.setIsDeletingRelease(!1),this.getAllReleasesForVersion();const o=null===(t=this.apiVersionListStore)||void 0===t?void 0:t.values[0],s=null==o?void 0:o.consumerViewModel;s&&s.removeRelease(n)})).catch((e=>(this.setIsDeletingRelease(!1),this.handleError(e,"Something went wrong while trying to delete a release. Please try again."),Promise.reject())))}setIsLoadingAddRelease(e){this.isLoadingAddRelease=e}async syncWithRepository(){try{this.setIsSyncingWithRepo(!0);try{const e=(0,ve.resolveStoreInstance)(ge.default),t=await pe.default.pullChangesFromRepository(this.apiId,this.id,$e.get(this,"developmentBranchName"));if(ke.default.addEventV2({category:"api_repo_integration",action:"pull_initiated",label:this.developmentBranchName,value:1,entityId:this.id}),$e.map(Object.keys(t||{}),(e=>{$e.includes(Re.ALLOWED_ENTITIES_FOR_REPO_SYNC,e)&&$e.map(Object.keys(t[e]),(n=>{if("conflicts"===n&&0!==t[e][n].length)throw this.setIsPullChangesModalOpen(!0),{name:"ConflictErr",message:"We found some conflicts while trying to sync,\n                      please pull changes to resolve conflicts"};if((0,Re.IS_RELATION_CREATE)(e,n)&&0!==t[e][n].length)throw this.setIsPullChangesModalOpen(!0),{name:"relationCreateErr",message:"Please select a relation type for the collections present in repository"};if((0,Re.IS_SCHEMA_CREATE)(e,n)&&0!=t[e][n].length)throw this.setIsPullChangesModalOpen(!0),{name:"schemaCreateErr",message:"Please select a schema to be synced with repository"};if((0,Re.IS_API_DEFINITION_CREATE)(e,n)&&0!=t[e][n].length)throw this.setIsPullChangesModalOpen(!0),{name:"apiDefinitionCreateErr",message:"Please select definition files to import into Postman."}}))})),$e.get(this.schema,"isSchemaCreated"))throw this.setIsPushChangesModalOpen(!0),{name:"schemaCreateErr",message:"Please select a name for postman schema"};!$e.has(t,"lastCommit")&&(t.lastCommit={}),!$e.has(t,"lastCommit.commitedBy")&&(t.lastCommit.commitedBy=null);const n=await pe.default.acceptPullFromRepository(this.apiId,this.id,e.id,t,$e.get(this,"developmentBranchName"));this.updateChangesToPullCount($e.get(n,"changesToPullCount")),ke.default.addEventV2({category:"api_repo_integration",action:"confirm_pull",label:this.developmentBranchName,value:1,entityId:this.id})}catch(e){if("directoryNotFoundError"!==$e.get(e,"name"))throw e}const e={commitMessage:Re.FIRST_SYNC_COMMIT_MSG},t=await pe.default.commitAndPushToRepository(this.apiId,this.id,e,$e.get(this,"developmentBranchName"));this.updateChangesToPushCount($e.get(t,"changesToPushCount")),ke.default.addEventV2({category:"api_repo_integration",action:"confirm_push",label:this.developmentBranchName,value:1,entityId:this.id}),pm.toasts.success("Synced with repository."),this.reload()}catch(e){if("relationCreateErr"===e.name||"schemaCreateErr"===e.name)return;(0,Fe.handleError)(e,"Something went wrong while syncing changes with repository")}finally{this.setIsSyncingWithRepo(!1)}}setIsSyncingWithRepo(e){this.isSyncingWithRepo=e}setIsPullChangesModalOpen(e){this.isPullChangesModalOpen=e}setIsPushChangesModalOpen(e){this.isPushChangesModalOpen=e}setIsCreateReleaseModalOpen(e){this.isCreateReleaseModalOpen=e}setIsCreateLocalGitModalOpen(e){this.isCreateLocalGitModalOpen=e}get apiModel(){return(0,ve.resolveStoreInstance)(ye.default).find(this.apiId)}}).prototype,"mode",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=Ye(r.prototype,"name",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=Ye(r.prototype,"team",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=Ye(r.prototype,"createdAt",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=Ye(r.prototype,"isVisible",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Ye(r.prototype,"description",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=Ye(r.prototype,"summary",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=Ye(r.prototype,"createdBy",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=Ye(r.prototype,"isPublic",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=Ye(r.prototype,"isForbiddenErrorState",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=Ye(r.prototype,"activeDocumentation",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=Ye(r.prototype,"isNotFound",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Ye(r.prototype,"isMetaDataLoading",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=Ye(r.prototype,"isOffline",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=Ye(r.prototype,"isLoadingAddVersion",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=Ye(r.prototype,"isLoadingRenameVersion",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=Ye(r.prototype,"isLoadingDeleteVersion",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=Ye(r.prototype,"isAPIVersionDeleted",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=Ye(r.prototype,"isAPIVersionNotFound",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Ye(r.prototype,"hasErrorState",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=Ye(r.prototype,"hasRelationsFetchFailed",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=Ye(r.prototype,"editors",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=Ye(r.prototype,"tag",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=Ye(r.prototype,"lastCommitId",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=Ye(r.prototype,"lastSyncedWithRepoAt",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=Ye(r.prototype,"repoLinkId",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=Ye(r.prototype,"tokenId",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=Ye(r.prototype,"isFetchingAPIRepoLinkInfo",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=Ye(r.prototype,"developmentBranchName",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=Ye(r.prototype,"developmentBranchLink",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=Ye(r.prototype,"repositoryName",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=Ye(r.prototype,"repositoryLink",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=Ye(r.prototype,"stage",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Pe.IN_PLANNING}}),U=Ye(r.prototype,"visibility",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"public"}}),z=Ye(r.prototype,"summary",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H=Ye(r.prototype,"changesToBePushed",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Ye(r.prototype,"changesToBePulled",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=Ye(r.prototype,"changesToPullCount",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=Ye(r.prototype,"changesToPushCount",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=Ye(r.prototype,"isDeletingRepositoryIntegration",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=Ye(r.prototype,"repositoryIntegrationState",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Ye(r.prototype,"isAPIAddedInV10",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=Ye(r.prototype,"branches",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=Ye(r.prototype,"releases",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=Ye(r.prototype,"featureBranch",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=Ye(r.prototype,"isLoadingAddRelease",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=Ye(r.prototype,"isUpdatingRelease",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),te=Ye(r.prototype,"isUpdatingReleases",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=Ye(r.prototype,"isDeletingRelease",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=Ye(r.prototype,"isPullChangesModalOpen",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=Ye(r.prototype,"isPushChangesModalOpen",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ie=Ye(r.prototype,"isCreateLocalGitModalOpen",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ae=Ye(r.prototype,"isSyncingWithRepo",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=Ye(r.prototype,"isCreateReleaseModalOpen",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=Ye(r.prototype,"didStoreHydrateAtLeastOnce",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=Ye(r.prototype,"apiMode",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"builder",value:"",view:"workspace"}}}),Ye(r.prototype,"setReleases",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setReleases"),r.prototype),Ye(r.prototype,"setAPIMode",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setAPIMode"),r.prototype),Ye(r.prototype,"isCommentMode",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"isCommentMode"),r.prototype),Ye(r.prototype,"setEditorsInfo",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setEditorsInfo"),r.prototype),Ye(r.prototype,"setActiveDocumentation",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setActiveDocumentation"),r.prototype),Ye(r.prototype,"setIsMetaDataLoading",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsMetaDataLoading"),r.prototype),de=Ye(r.prototype,"collectionStoreForAPI",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=Ye(r.prototype,"isCollectionStoreLoaded",[me.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye(r.prototype,"setCollectionStore",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setCollectionStore"),r.prototype),Ye(r.prototype,"setIsCollectionStoreLoaded",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsCollectionStoreLoaded"),r.prototype),Ye(r.prototype,"apiRepositoryStore",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"apiRepositoryStore"),r.prototype),Ye(r.prototype,"apiName",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"apiName"),r.prototype),Ye(r.prototype,"schemaId",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"schemaId"),r.prototype),Ye(r.prototype,"isEditable",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"isEditable"),r.prototype),Ye(r.prototype,"collectionBasedRelations",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"collectionBasedRelations"),r.prototype),Ye(r.prototype,"apiDefinitionId",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"apiDefinitionId"),r.prototype),Ye(r.prototype,"setHasErrorState",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setHasErrorState"),r.prototype),Ye(r.prototype,"setHasRelationsFetchFailed",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setHasRelationsFetchFailed"),r.prototype),Ye(r.prototype,"switchToFeatureBranch",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"switchToFeatureBranch"),r.prototype),Ye(r.prototype,"setFeatureBranch",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setFeatureBranch"),r.prototype),Ye(r.prototype,"switchToBuildMode",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"switchToBuildMode"),r.prototype),Ye(r.prototype,"reload",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"reload"),r.prototype),Ye(r.prototype,"updateMetaData",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"updateMetaData"),r.prototype),Ye(r.prototype,"updateVersion",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"updateVersion"),r.prototype),Ye(r.prototype,"handleError",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"handleError"),r.prototype),Ye(r.prototype,"renameAPIVersion",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"renameAPIVersion"),r.prototype),Ye(r.prototype,"deleteAPIVersion",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"deleteAPIVersion"),r.prototype),Ye(r.prototype,"setIsForbiddenErrorState",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsForbiddenErrorState"),r.prototype),Ye(r.prototype,"getMetaData",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"getMetaData"),r.prototype),Ye(r.prototype,"setIsAPIAddedInV10",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsAPIAddedInV10"),r.prototype),Ye(r.prototype,"refreshVersion",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"refreshVersion"),r.prototype),Ye(r.prototype,"isAPIVersionReady",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"isAPIVersionReady"),r.prototype),Ye(r.prototype,"setIsAPIVersionNotFound",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsAPIVersionNotFound"),r.prototype),Ye(r.prototype,"setIsAPIVersionDeleted",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsAPIVersionDeleted"),r.prototype),Ye(r.prototype,"setIsOffline",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsOffline"),r.prototype),Ye(r.prototype,"rename",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"rename"),r.prototype),Ye(r.prototype,"apiVersionListStore",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"apiVersionListStore"),r.prototype),Ye(r.prototype,"updateSummary",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"updateSummary"),r.prototype),Ye(r.prototype,"updateDescription",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"updateDescription"),r.prototype),Ye(r.prototype,"refreshMetaData",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"refreshMetaData"),r.prototype),Ye(r.prototype,"toggleMode",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"toggleMode"),r.prototype),Ye(r.prototype,"updateVersionName",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"updateVersionName"),r.prototype),Ye(r.prototype,"handleVersionStatusChange",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"handleVersionStatusChange"),r.prototype),Ye(r.prototype,"editAPIVersion",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"editAPIVersion"),r.prototype),Ye(r.prototype,"relations",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"relations"),r.prototype),Ye(r.prototype,"initializeReleasesData",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"initializeReleasesData"),r.prototype),Ye(r.prototype,"initRelations",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"initRelations"),r.prototype),Ye(r.prototype,"initAPIRepoStats",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"initAPIRepoStats"),r.prototype),Ye(r.prototype,"updateLastCommitId",[o],Object.getOwnPropertyDescriptor(r.prototype,"updateLastCommitId"),r.prototype),Ye(r.prototype,"updateLastSyncedWithRepoAt",[s],Object.getOwnPropertyDescriptor(r.prototype,"updateLastSyncedWithRepoAt"),r.prototype),Ye(r.prototype,"updateChangesToPushCount",[i],Object.getOwnPropertyDescriptor(r.prototype,"updateChangesToPushCount"),r.prototype),Ye(r.prototype,"updateChangesToPullCount",[a],Object.getOwnPropertyDescriptor(r.prototype,"updateChangesToPullCount"),r.prototype),Ye(r.prototype,"setRepositoryLinkDetails",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setRepositoryLinkDetails"),r.prototype),Ye(r.prototype,"setIsFetchingAPIRepoLinkInfo",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsFetchingAPIRepoLinkInfo"),r.prototype),Ye(r.prototype,"setRepositoryIntegrationState",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setRepositoryIntegrationState"),r.prototype),Ye(r.prototype,"setBranches",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setBranches"),r.prototype),Ye(r.prototype,"fetchBranches",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"fetchBranches"),r.prototype),Ye(r.prototype,"unsetRepositoryLinkDetails",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"unsetRepositoryLinkDetails"),r.prototype),Ye(r.prototype,"setDeleteRepositoryIntegrationStatus",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setDeleteRepositoryIntegrationStatus"),r.prototype),Ye(r.prototype,"addRelease",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"addRelease"),r.prototype),Ye(r.prototype,"createRelease",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"createRelease"),r.prototype),Ye(r.prototype,"setIsUpdatingRelease",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsUpdatingRelease"),r.prototype),Ye(r.prototype,"setIsUpdatingReleases",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsUpdatingReleases"),r.prototype),Ye(r.prototype,"updateRelease",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"updateRelease"),r.prototype),Ye(r.prototype,"setIsDeletingRelease",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsDeletingRelease"),r.prototype),Ye(r.prototype,"deleteRelease",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"deleteRelease"),r.prototype),Ye(r.prototype,"setIsLoadingAddRelease",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsLoadingAddRelease"),r.prototype),Ye(r.prototype,"setIsSyncingWithRepo",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsSyncingWithRepo"),r.prototype),Ye(r.prototype,"setIsPullChangesModalOpen",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsPullChangesModalOpen"),r.prototype),Ye(r.prototype,"setIsPushChangesModalOpen",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsPushChangesModalOpen"),r.prototype),Ye(r.prototype,"setIsCreateReleaseModalOpen",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsCreateReleaseModalOpen"),r.prototype),Ye(r.prototype,"setIsCreateLocalGitModalOpen",[me.action],Object.getOwnPropertyDescriptor(r.prototype,"setIsCreateLocalGitModalOpen"),r.prototype),Ye(r.prototype,"apiModel",[me.computed],Object.getOwnPropertyDescriptor(r.prototype,"apiModel"),r.prototype),r)},"./api-dev/stores/FeatureBranchStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y,v,I,E,_,S=n("../../node_modules/mobx/lib/mobx.module.js"),C=n("./api-dev/services/IntegrationService.js"),T=n("./api-dev/util/error.js"),j=n("./api-dev/constants/APIRepositoryConstants.js"),A=n("../../packages/api-design/schema-editor/index.js"),w=n("./runtime-repl/transient-collection/_api/TransientCollectionInterface.ts"),O=n("./runtime-repl/transient-collection/_api/TransientCollectionListModel.ts"),N=n("./js/modules/services/AnalyticsService.js"),D=n("./api-dev/configs/APIActionsBlockList.js"),R=n("./api-dev/navigation/constants.js"),P=n("./appsdk/workbench/TabService.js"),M=n("./api-dev/stores/api-sidebar/config/Registry.ts"),L=n("./node_modules/lodash/lodash.js");function x(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function k(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let F=(s=k((o=class{constructor(e,t){x(this,"collections",s,this),x(this,"schemas",i,this),x(this,"isLoading",a,this),x(this,"branchName",r,this),x(this,"branchLink",l,this),x(this,"apiVersionId",c,this),x(this,"apiId",d,this),x(this,"lastCommit",u,this),x(this,"isPullChangesModalOpen",p,this),x(this,"isCommitFeatureBranchChangesModalOpen",m,this),x(this,"schemaStore",h,this),x(this,"transientCollections",g,this),x(this,"collectionListModel",f,this),x(this,"nextBranch",b,this),x(this,"__versionStore",y,this),x(this,"isCollectionSyncDisabled",v,this),x(this,"collectionsToBePushedCount",I,this),x(this,"changesToBePulledCount",E,this),x(this,"shouldCloseTab",_,this),this.apiVersionId=e.id,this.branchName=t.name,this.branchLink=t.link,this.apiId=e.apiId,this.__versionStore=e,this.init(this.apiVersionId,t.name)}setIsCollectionSyncDisabled(e){this.isCollectionSyncDisabled=e}setIsCommitFeatureBranchChangesModalOpen(e){this.isCommitFeatureBranchChangesModalOpen=e}setCollectionsToBePushedCount(e){this.collectionsToBePushedCount=e}hasDirtyChanges(){if(L.get(this.schemaStore,"isDirty"))return!0;for(const e of Object.keys(this.collections))if(this.collections[e].isDirty)return!0;return!1}get changesToBePushedCount(){return L.get(this.schemaStore,"isDirty")?1:this.collectionsToBePushedCount}get hasDirtyTabs(){return L.reduce(this.transientCollections,((e,t)=>e||t.hasDirtyTabs),!1)}async init(e,t){try{this.isLoading=!0,this.collections={},this.schemas={},this.setSchemaStore(null),this.transientCollections=[],this.setCollectionListModel(null);let n=await C.default.getAPIRepoLinkInfo(e),o=!1;for(const e of Object.keys(L.get(n,"userConfig.branches")))e===t&&(o=!0);o||await C.default.updateAPIRepoLinkInfo(e,{branches:{[t]:t}});const{schemas:s,collections:i,commitId:a}=await this.fetchFiles();this.setLastCommit(a),this.setChangesToBePulledCount(0),this.collections=i,this.schemas=s;const r=new A.FeatureBranchSchemaStore(this.apiId,this.apiVersionId,this.branchName);this.setSchemaStore(r);const l=L.get(this.schemas[L.head(Object.keys(this.schemas))],"contents");this.schemaStore.addSchema(l,s,i),this.schemaTypeReactionDisposer=(0,S.reaction)((()=>this.schemaStore.type),(async e=>{if(!e)return;this.schemaTypeReactionDisposer&&this.schemaTypeReactionDisposer();D.default.schema.types.includes(e)&&(this.setIsCollectionSyncDisabled(!0),this.collections={});for(const e of Object.keys(this.collections))try{const t=(0,S.toJS)(this.collections[e].contents),n=await w.default.create(t,{type:"readWrite"},{onUpdate:(t,n)=>{n&&(this.collections[e].contents=t,this.collections[e].isDirty=!0,this.setCollectionsToBePushedCount(1))},onDelete:()=>{delete this.collections[e]}});this.transientCollections.push(n),this.collections[e].transientCollection=n}catch(e){(0,T.handleError)(e,"There was an unexpected error parsing the collection",void 0,void 0,{component:"FeatureBranchStore",method:"init"})}const t=new O.default(this.transientCollections,{initialDepth:M.API_CHILD_SIDEBAR_INDENTATION},{type:"api",id:this.apiId,apiVersionId:this.apiVersionId});this.setCollectionListModel(t),await this.collectionListModel.init()}),{fireImmediately:!0})}catch(e){return(0,T.handleError)(e,"There was an unexpected error while switching to this feature branch. Please try again.",void 0,void 0,{component:"FeatureBranchStore",method:"init"}),Promise.reject()}finally{this.isLoading=!1}}async silentSchemaUpdate(e){if("push"===e){const e=(0,S.toJS)(this.schemaStore.schema);this.schemaStore.addSchema(e)}const{commitId:t}=await this.fetchFiles();this.setLastCommit(t),this.setChangesToBePulledCount(0)}async acceptPullChanges(e,t){try{let t=null,n=!0;N.default.addEventV2({category:"api_repo_integration",action:"confirm_pull",label:this.branchName,value:1,entityId:this.apiVersionId}),L.map(e,(e=>"schemas"===e.entityType&&(t=e.name))),L.map(e,(e=>{(e=>L.get(e,"sourceToRetain.id")===j.CONFLICT_OPTIONS[0].id)(e)&&"collections"===L.get(e,"entityType")&&(n=!1)})),n?this.setCollectionsToBePushedCount(0):this.setCollectionsToBePushedCount(1),e=L.filter(e,(e=>L.get(e,"sourceToRetain.id")!==j.CONFLICT_OPTIONS[0].id));const o=e=>e.changeType===j.DESTROYS||"delete"===e.conflictType,s=L.filter(e,(e=>!o(e))),i=L.map(s,(e=>!o(e)&&e.path)),a=i&&i.length&&await C.default.getContents(this.apiVersionId,this.branchName,{files:i});for(const e of L.get(a,"files",[])){const n=await this._getFileContent(e.file);if(L.get(e,"file.name")===t){const t=n;this.schemaStore.addSchema(t),this.schemas[L.get(e,"file.name")]={contents:t,isDirty:!1}}else try{const t=JSON.parse(n);this.collections[L.get(e,"file.name")]={...this.collections[L.get(e,"file.name")],contents:t,isDirty:!1}}catch(e){(0,T.handleError)(null,"Collection file is not a valid JSON",void 0,void 0,{component:"FeatureBranchStore",method:"acceptPullChanges"})}}for(const t of e)if(o(t))if("schemas"!==t.entityType)"collections"!==t.entityType||delete this.collections[t.name];else{delete this.schemas[t.name];const e=new A.FeatureBranchSchemaStore(this.apiId,this.apiVersionId,this.branchName);this.setSchemaStore(e)}this.dispose(),this.setCollectionListModel(null),this.transientCollections=[];for(const e of Object.keys(this.collections))try{const t=(0,S.toJS)(this.collections[e].contents),n=await w.default.create(t,{type:"readWrite"},{onUpdate:(t,n)=>{n&&(this.collections[e].contents=t,this.collections[e].isDirty=!0,this.setCollectionsToBePushedCount(1))},onDelete:()=>{delete this.collections[e]}});this.transientCollections.push(n),this.collections[e].transientCollection=n}catch(e){(0,T.handleError)(e,"There was an unexpected error parsing the collection",void 0,void 0,{component:"FeatureBranchStore",method:"acceptPullChanges"})}const r=new O.default(this.transientCollections,{initialDepth:M.API_CHILD_SIDEBAR_INDENTATION},{parent:{type:"api",id:this.apiId,apiVersionId:this.apiVersionId}});this.setCollectionListModel(r),await this.collectionListModel.init(),await this.silentSchemaUpdate()}catch(e){return(0,T.handleError)(e,"There was an unexpected error while pulling from feature branch. Please try again.",void 0,void 0,{component:"FeatureBranchStore",method:"acceptPullChanges"}),Promise.reject()}}async pullChangesFromBranch(){try{const e=[],t=await C.default.getDiffBetweenCommits(this.apiVersionId,this.branchName,this.lastCommit);this.isCollectionSyncDisabled&&L.has(t,"entities.collections.files")&&(t.entities.collections.files=[]);const n=L.get(t,"entities.schemas.files.length")>0,o=L.get(t,"entities.collections.files.length")>0,s=n||o?1:0;this.setChangesToBePulledCount(s);for(const n of L.get(t,"entities.collections.files",[])){const t=this.fileChangeTypeForPull(this.collections[n.name],n),o=L.get(t,"type");e.push({changeType:o,entityType:"collections",name:n.name,path:n.path,isConflicted:o===j.CONFLICTS,...o===j.CONFLICTS&&{sourceToRetain:j.CONFLICT_OPTIONS[1],conflictType:t.conflictType}})}for(const n of L.get(t,"entities.schemas.files",[])){if(!L.isEmpty(this.schemas)&&n.name!=Object.keys(this.schemas)[0])continue;const t=this.fileChangeTypeForPull(this.schemaStore,n),o=L.get(t,"type");e.push({changeType:o,entityType:"schemas",name:n.name,path:n.path,isConflicted:o===j.CONFLICTS,...o===j.CONFLICTS&&{sourceToRetain:j.CONFLICT_OPTIONS[1],conflictType:t.conflictType}})}return{changesToBePulled:e,commitId:L.get(t,"remote_head.sha",""),commitLink:L.get(t,"remote_head.link","")}}catch(e){return(0,T.handleError)(e,"There was an unexpected error while pulling from feature branch. Please try again.",void 0,void 0,{component:"FeatureBranchStore",method:"pullChangesFromBranch"}),Promise.reject()}finally{this.isLoading=!1}}fileChangeTypeForPull(e,t){return"added"!==L.get(t,"status")||L.get(e,"schema")?"modified"!==L.get(t,"status")||L.get(e,"isDirty")?"removed"!==L.get(t,"status")||L.get(e,"isDirty")?"modified"===L.get(t,"status")&&L.get(e,"isDirty")?{type:j.CONFLICTS,conflictType:"update"}:"removed"===L.get(t,"status")&&L.get(e,"isDirty")?{type:j.CONFLICTS,conflictType:"delete"}:void 0:{type:j.DESTROYS}:{type:j.UPDATES}:{type:j.CREATES}}setChangesToBePulledCount(e){this.changesToBePulledCount=e}setIsPullChangesModalOpen(e){this.isPullChangesModalOpen=e}setLastCommit(e){this.lastCommit=e}setSchemaStore(e){this.schemaStore=e}async getChangesToBePushed(){try{let{schemas:e,collections:t,commitId:n}=await this.fetchFiles(),o=[],s=!1;if(this.isCollectionSyncDisabled&&(t={}),n!==this.lastCommit&&(s=!0,this.isCollectionSyncDisabled)){const e=await C.default.getDiffBetweenCommits(this.apiVersionId,this.branchName,this.lastCommit);L.get(e,"entities.schemas.files.length")>0||(s=!1,this.setLastCommit(n))}for(let e of Object.keys({...this.collections,...t})){const n=this.collections[e],s=t[e],i=this.fileChangeTypeForCommit(n,s);i&&o.push({changeType:i,entityType:"collections",name:e,contents:n.contents})}if(L.isEmpty(this.schemas)&&this.schemaStore.isDirty){const e=`schema.${this.schemaStore.language||"yaml"}`;this.schemas={[e]:{contents:this.schemaStore.schema,isDirty:!1}}}for(let t of Object.keys({...this.schemas,...e})){this.schemas[t];const n=e[t],s=this.fileChangeTypeForCommit(this.schemaStore,n);s&&o.push({changeType:s,entityType:"schemas",name:t,contents:this.schemaStore.schema})}return{changesToBePushed:o,isPostmanBehindRepo:s}}catch(e){return(0,T.handleError)(e,"There was an unexpected error while getting changes. Please try again.",void 0,void 0,{component:"FeatureBranchStore",method:"getChangesToBePushed"}),Promise.reject()}}fileChangeTypeForCommit(e,t){return!e&&t?j.DESTROYS:e.isDirty&&!t?j.CREATES:e.isDirty&&t?j.UPDATES:void 0}async pushToBranch(e,t){try{N.default.addEventV2({category:"api_repo_integration",action:"confirm_push",label:this.branchName,value:1,entityId:this.apiVersionId});const n={},o={[j.UPDATES]:"update",[j.DESTROYS]:"delete",[j.CREATES]:"create"};n.commitMessage=t,n.lastCommit=this.lastCommit,n.actions={create:[],update:[],delete:[]};for(let t of e){const e="collections"===t.entityType?JSON.stringify(t.contents,null,4):t.contents,s=t.name,i=t.entityType,a={type:"raw",contents:e};n.actions[o[t.changeType]].push({entityType:i,entityName:s,file:a,contents:e})}const s=await C.default.setFiles(this.apiVersionId,this.branchName,n);this.setLastCommit(L.get(s,"commit.sha")),this.setChangesToBePulledCount(0),L.map(Object.keys(this.schemas),(e=>{this.schemas[e].isDirty=!1})),L.map(Object.keys(this.collections),(e=>{this.collections[e].isDirty=!1})),this.setCollectionsToBePushedCount(0),await this.silentSchemaUpdate("push");let i=(0,S.toJS)(this.nextBranch);this.shouldCloseTab&&(this.setShouldCloseTab(!1),this.closeAPIVersionTab()),this.setNextBranch(null),i&&this.__versionStore.setFeatureBranch(i)}catch(e){return this.setShouldCloseTab(!1),(0,T.handleError)(e,"There was an unexpected error while pushing to feature branch. Please try again.",void 0,void 0,{component:"FeatureBranchStore",method:"pushToBranch"}),Promise.reject()}}closeAPIVersionTab(){P.default.closeByRoute(R.OPEN_API_VERSION_URL,{apiId:this.apiId,versionId:this.apiVersionId})}setNextBranch(e){this.nextBranch=e}setShouldCloseTab(e){this.shouldCloseTab=e}async _getFileContent(e){try{if(e.download_url){const e=await fetch(e.download_url);return e.text()}if(e.contents)return e.contents}catch(e){(0,T.handleError)(e,"There was an unexpected error while trying to get the file contents. Please try again.",void 0,void 0,{component:"FeatureBranchStore",method:"_getFileContent"})}}async fetchFiles(){let e=null;try{e=await C.default.getFiles(this.apiVersionId,this.branchName)}catch(e){if("branchNotFoundError"===L.get(e,"error.name")){const e={error:{title:`Unable to find ${this.branchName} branch`}},t=!1,n={noIcon:!1,duration:5e3};(0,T.handleError)(e,"Make sure the branch exists in your repository and try again.",t,n,{component:"FeatureBranchStore",method:"fetchFiles"})}const t={name:this.__versionStore.developmentBranchName};this.__versionStore.switchToFeatureBranch(t)}const t=L.map(L.get(e,"collections.files"),(e=>e.path)),n={},o={};L.get(e,"schemas.files[0].path")&&t.push(e.schemas.files[0].path);const s=L.get(e,"schemas.files[0].name"),i=t&&t.length&&await C.default.getContents(this.apiVersionId,this.branchName,{files:t});for(const e of L.get(i,"files",[])){const t=await this._getFileContent(e.file);if(s&&e.file.name===s){const o=t;n[L.get(e,"file.name")]={contents:o,isDirty:!1}}else try{const n=JSON.parse(t);o[L.get(e,"file.name")]={contents:n,isDirty:!1}}catch(e){(0,T.handleError)(null,"Collection file is not a valid JSON",void 0,void 0,{component:"FeatureBranchStore",method:"fetchFiles"})}}return{commitId:L.get(e,"commit.sha"),schemas:n,collections:o}}setCollectionListModel(e){this.collectionListModel=e}dispose(){L.forEach(this.transientCollections,(e=>{e.dispose()}))}}).prototype,"collections",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=k(o.prototype,"schemas",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=k(o.prototype,"isLoading",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),r=k(o.prototype,"branchName",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=k(o.prototype,"branchLink",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=k(o.prototype,"apiVersionId",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=k(o.prototype,"apiId",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=k(o.prototype,"lastCommit",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=k(o.prototype,"isPullChangesModalOpen",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=k(o.prototype,"isCommitFeatureBranchChangesModalOpen",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=k(o.prototype,"schemaStore",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=k(o.prototype,"transientCollections",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=k(o.prototype,"collectionListModel",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=k(o.prototype,"nextBranch",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k(o.prototype,"__versionStore",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=k(o.prototype,"isCollectionSyncDisabled",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=k(o.prototype,"collectionsToBePushedCount",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=k(o.prototype,"changesToBePulledCount",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=k(o.prototype,"shouldCloseTab",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k(o.prototype,"setIsCollectionSyncDisabled",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsCollectionSyncDisabled"),o.prototype),k(o.prototype,"setIsCommitFeatureBranchChangesModalOpen",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsCommitFeatureBranchChangesModalOpen"),o.prototype),k(o.prototype,"setCollectionsToBePushedCount",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setCollectionsToBePushedCount"),o.prototype),k(o.prototype,"changesToBePushedCount",[S.computed],Object.getOwnPropertyDescriptor(o.prototype,"changesToBePushedCount"),o.prototype),k(o.prototype,"hasDirtyTabs",[S.computed],Object.getOwnPropertyDescriptor(o.prototype,"hasDirtyTabs"),o.prototype),k(o.prototype,"init",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"init"),o.prototype),k(o.prototype,"silentSchemaUpdate",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"silentSchemaUpdate"),o.prototype),k(o.prototype,"setChangesToBePulledCount",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setChangesToBePulledCount"),o.prototype),k(o.prototype,"setIsPullChangesModalOpen",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsPullChangesModalOpen"),o.prototype),k(o.prototype,"setLastCommit",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setLastCommit"),o.prototype),k(o.prototype,"setSchemaStore",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setSchemaStore"),o.prototype),k(o.prototype,"setNextBranch",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setNextBranch"),o.prototype),k(o.prototype,"setShouldCloseTab",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setShouldCloseTab"),o.prototype),k(o.prototype,"setCollectionListModel",[S.action],Object.getOwnPropertyDescriptor(o.prototype,"setCollectionListModel"),o.prototype),o)},"./api-dev/stores/ReleaseListStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,s,i,a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./js/stores/BaseListStore.js"),l=n("./api-dev/services/APIDevService.js"),c=n("./js/stores/StoreManager.js"),d=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),u=(n("./api-dev/constants/APITabModes.js"),n("./node_modules/lodash/lodash.js"));function p(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function m(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let h=(s=m((o=class{constructor(e){this.id=null,this.apiId=null,p(this,"releases",s,this),p(this,"isLoading",i,this),this.releaseSubscriptionMap=new Map,this.apiVersionSubscription=null,this.id=e.id,this.apiId=e.apiId,this.setIsLoading(!0),this.subscribeAPIVersion(),l.default.getAllReleases(this.apiId,this.id).then((e=>{const t=u.chain(e).sortBy("createdAt").reverse().value();this.setReleases(t)})).catch((e=>{this.remove(this.id)})).finally((()=>{this.setIsLoading(!1)}))}setReleases(e){this.releases=a.observable.map(),u.forEach(e||[],(e=>{if(this.releases.set(e.id,e),this.releaseSubscriptionMap.has(e.id))return;const t=this.subscribeRelease(e.id);this.releaseSubscriptionMap.set(e.id,t)}))}setIsLoading(e){this.isLoading=e}_refetchReleases(){l.default.getAllReleases(this.apiId,this.id).then((e=>{const t=u.chain(e).sortBy("createdAt").reverse().value();this.setReleases(t)})).catch(u.noop)}_removeRelease(e){this.releases.has(e)&&(this.releases.delete(e),this.releaseSubscriptionMap.get(e).unsubscribe(),this.releaseSubscriptionMap.delete(e))}subscribeAPIVersion(){this.apiVersionSubscription&&this.apiVersionSubscription.unsubscribe(),this.apiVersionSubscription=l.default.getAPIVersionRealtimeEvents(this.apiId,this.id).subscribe((e=>{const t=u.get(e,"meta.action"),n=u.get(e,"data");if("release"===u.get(e,"meta.model"))switch(t){case"create":this._refetchReleases();break;case"destroy":this._removeRelease(n.id)}}))}subscribeRelease(e){return l.default.getReleaseRealtimeEvents(this.apiId,this.id,e).subscribe((e=>{"update"===u.get(e,"meta.action")&&this._refetchReleases()}))}dispose(){for(let e of this.releaseSubscriptionMap.keys())this.releaseSubscriptionMap.get(e).unsubscribe();this.releaseSubscriptionMap.clear(),this.apiVersionSubscription&&this.apiVersionSubscription.unsubscribe(),this.remove(this.id)}}).prototype,"releases",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.observable.map()}}),i=m(o.prototype,"isLoading",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m(o.prototype,"setReleases",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setReleases"),o.prototype),m(o.prototype,"setIsLoading",[a.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsLoading"),o.prototype),o);class g extends r.default{constructor(){super(h),(0,a.reaction)((()=>(0,c.resolveStoreInstance)(d.default).id),(e=>{this.clear()}))}getReleases(e,t){var n;if(e&&t)return this.find(t)||this.add({id:t,apiId:e}),null===(n=this.find(t))||void 0===n?void 0:n.releases;pm.logger.error("ReleaseListStore~getReleases: apiId or apiVersionId is missing")}updateReleaseItem(e){var t;e&&(null===(t=this.find(e))||void 0===t||t._refetchReleases())}cleanUpChildItems(){u.forEach(this.values,(e=>{e.dispose()}))}clear(){this.cleanUpChildItems(),super.clear()}}},"./api-dev/stores/api-repository/PollingRemoteHeadDetailsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o,s,i,a,r,l=n("./js/stores/StoreManager.js"),c=n("./api-dev/stores/APIListStore.js"),d=n("../../node_modules/node-polyfill-webpack-plugin/node_modules/timers-browserify/main.js"),u=n("./onboarding/src/common/LaunchDarkly.js"),p=n("../../node_modules/mobx/lib/mobx.module.js"),m=n("./node_modules/lodash/lodash.js");function h(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function g(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const f="store";let b=(s=g((o=class{constructor(){h(this,"activePollingAPI",s,this),h(this,"timerObject",i,this),h(this,"apiSourceMap",a,this),h(this,"startPollingForAPI",r,this)}setActivePollingAPI(e){this.activePollingAPI=e}setTimerObject(e){this.timerObject=e}setSource(e,t){const n=this.apiSourceMap[e]||[];m.includes(n,t)||(n.push(t),this.apiSourceMap[e]=n)}clearSource(e,t){const n=this.apiSourceMap[e]||[];-1!==n.indexOf(t)&&(this.apiSourceMap[e]=m.filter(n,(e=>e!==t)))}clearAPIAndSources(e){delete this.apiSourceMap[e]}clear(){this.setTimerObject(null),this.setActivePollingAPI(null)}stopPolling(e,t){if(e&&t)if(this.activePollingAPI===e){const n=this.apiSourceMap[e];t===f||m.isEmpty(n)||1===m.size(n)&&n[0]===t?((0,d.clearInterval)(this.timerObject),this.clear(),this.clearAPIAndSources(e),pm.logger.info(`APIPollingStore~stopPolling: Stopped Polling for ${e}`)):this.clearSource(e,t)}else this.clearSource(e,t)}startPolling(e,t){e&&t&&(this.setSource(e,t),e!==this.activePollingAPI&&this.startPollingForAPI(e,t))}}).prototype,"activePollingAPI",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=g(o.prototype,"timerObject",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=g(o.prototype,"apiSourceMap",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g(o.prototype,"setActivePollingAPI",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"setActivePollingAPI"),o.prototype),g(o.prototype,"setTimerObject",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"setTimerObject"),o.prototype),g(o.prototype,"setSource",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"setSource"),o.prototype),g(o.prototype,"clearSource",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"clearSource"),o.prototype),g(o.prototype,"clearAPIAndSources",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"clearAPIAndSources"),o.prototype),g(o.prototype,"clear",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"clear"),o.prototype),g(o.prototype,"stopPolling",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"stopPolling"),o.prototype),r=g(o.prototype,"startPollingForAPI",[p.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.debounce((e=>{this.activePollingAPI&&this.stopPolling(this.activePollingAPI,f);const t=u.launchDarkly.getFlag("api-git-sync-status-pull-delay",0);if(0!==t){var n;this.setActivePollingAPI(e);const o=(0,l.resolveStoreInstance)(c.default).find(this.activePollingAPI),s=null===(n=m.head(o.childEntities.values))||void 0===n?void 0:n.id,i=o.childEntities.find(s);this.apiRepositoryStore=m.get(i,"apiRepositoryStore"),pm.logger.info(`APIPollingStore~startPolling: Started Polling for ${e}`),this.apiRepositoryStore.sourceControlStore.init();const a=(0,d.setInterval)((()=>{m.isFunction(this.apiRepositoryStore.sourceControlStore.getLatestRemoteHead)&&this.apiRepositoryStore.sourceControlStore.getLatestRemoteHead()}),t);this.setTimerObject(a)}}),2e3)}}),g(o.prototype,"startPolling",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"startPolling"),o.prototype),o)},"./api-dev/tools/collection-schema-sync/CollectionSchemaSyncContent/CollectionSchemaSyncContent.js":function(e,t,n){"use strict";n.r(t),n.d(t,{CreateDestroyDiff:function(){return I},DiffItemLabel:function(){return b},DiffItemSection:function(){return v},DiffItemTitle:function(){return y},ModifiedRequestDiff:function(){return E},default:function(){return S}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=n("./js/components/base/Inputs.js"),l=n("./runtime-repl/request-http/RequestIcon.js"),c=n("./js/utils/Collapsible.js"),d=n("./api-dev/util/collectionSchemaDiff.js"),u=n("./js/components/base/Tooltips.js"),p=n("./version-control/common/Diffstates/WordDiff.js"),m=n("./version-control/common/Diffstates/CodeDiff.js"),h=n("./version-control/common/Diffstates/TableDiff.js"),g=n("./version-control/common/Diffstates/SentencesDiff.js"),f=n("./node_modules/lodash/lodash.js");function b(e){const t=`icon-entity-${e.itemType}-stroke`;return"request"===e.itemType?o.createElement(l.default,{className:"collection-schema-sync-content__request",methodClassname:"collection-schema-sync-content__request-method",method:f.get(e.itemMeta,"method")||""}):o.createElement(a.default,{className:"pm-diff__label-icon",name:t,size:"large"})}function y(e){const t=e.expanded||e.isNavigatedTo;return o.createElement("div",{className:`collection-schema-sync-content__heading ${e.className}`},e.canExpand&&o.createElement("div",{onClick:()=>{e.isNavigatedTo?e.removeFromNavigatedList(`${e.itemType}-${e.itemId}`):"request"===e.itemType?e.addToNavigatedList(`request-${e.itemId}`):e.onClick()}},o.createElement(a.default,{className:"collection-schema-diff--toggle-icon",name:t?"icon-direction-down":"icon-direction-right",color:"content-color-secondary"})),o.createElement(b,{itemMeta:e.itemMeta,itemType:"response"===e.itemType?"example":e.itemType}),o.createElement("span",{className:"collection-schema-sync-content__element-title",title:e.itemName},e.itemName))}function v(e){const{diff:t}=e,n=(0,o.useRef)(null),[s,a]=(0,o.useState)(!1);return t&&"function"!=typeof t.getDiff?null:o.createElement("div",{className:"collection-schema-sync-content__section",id:`${t.property}-${e.itemId}`},o.createElement("div",{className:"collection-schema-sync-content__title"},o.createElement("span",{className:"push-half--right"},t.propertyName)),o.createElement("div",{className:"validation-message"},(0,d.getDiffDescription)(e.diffType,t.propertyName,t),":"),o.createElement("div",{className:"collection-schema-sync-content__section-inner"},"words"===t.type&&o.createElement(p.default,{diff:t}),"code"===t.type&&o.createElement(m.default,{diff:t}),"table"===t.type&&o.createElement(h.default,{diff:t,showDescriptionColumn:"variables"!==t.propertyName||"response headers"!==t.propertyName}),"sentences"===t.type&&o.createElement(g.default,{diff:t}),o.createElement("div",{className:"collection-schema-sync-content__section-inner__accept",ref:n,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1)},o.createElement(r.Checkbox,{checked:f.get(e.acceptedChanges,[e.itemId,t.property])||!1,onChange:()=>{e.onAcceptChange(e.itemId,t.property,e.parentId)},disabled:e.acceptDisabled}),o.createElement("span",{className:i()({"collection-schema-sync-content__section-inner__accept--label":!0,"is-disabled":e.acceptDisabled})},"Make this change to the request"),e.acceptDisabled&&o.createElement(u.Tooltip,{show:s,target:n.current,placement:"top",immediate:!0},o.createElement(u.TooltipBody,null,o.createElement("span",null,e.acceptTooltipContent))))))}function I(e){const t=(0,o.useRef)(null),[n,s]=(0,o.useState)(!1);return o.createElement("div",{className:"collection-schema-sync-content__sub-heading"},o.createElement("div",{className:"collection-schema-sync-content__sub-heading__message"},"deleted"===e.diffItem.type?o.createElement("span",{className:"message"},(0,d.getDiffDescription)(e.diffItem.type,e.diffItem.itemType)):o.createElement("span",{className:"message"},"Additional ",o.createElement("span",{className:"path"},e.diffItem.meta.endpoint)," found in schema. Selecting this update will add a request to the collection.")),o.createElement("div",{className:"collection-schema-sync-content__section-inner__accept",ref:t,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},o.createElement(r.Checkbox,{checked:f.get(e.acceptedChanges,[e.itemId,e.diffItem.type])||!1,onChange:()=>{e.onAcceptChange(e.itemId,e.diffItem.type)},disabled:e.acceptDisabled}),o.createElement("span",{className:i()({"collection-schema-sync-content__section-inner__accept--label":!0,"is-disabled":e.acceptDisabled})},{deleted:"Remove this request from the collection",added:"Add this request to the collection"}[e.diffItem.type]),e.acceptDisabled&&o.createElement(u.Tooltip,{show:n,target:t.current,placement:"top",immediate:!0},o.createElement(u.TooltipBody,null,o.createElement("span",null,e.acceptTooltipContent)))))}function E(e){const t=(0,o.useRef)(null),[n,s]=(0,o.useState)(!1);return o.createElement("div",{className:i()("collection-schema-sync-content__sub-heading",{collapsed:!e.expanded})},o.createElement("div",{className:"collection-schema-sync-content__sub-heading__message"},o.createElement("span",{className:"message"},"Request doesnt match schema when validated against ",o.createElement("span",{className:"path"},f.get(e,"diffItem.meta.endpoint")))),o.createElement("div",{className:"collection-schema-sync-content__section-inner__accept",ref:t,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1)},o.createElement(r.Checkbox,{checked:f.get(e.acceptedChanges,[e.itemId,"acceptAll"])||!1,onChange:()=>{e.onAcceptAll(e.itemId)},disabled:e.acceptDisabled}),o.createElement("span",{className:i()({"collection-schema-sync-content__section-inner__accept--label":!0,"is-disabled":e.acceptDisabled})},"Make all changes to this request"),e.acceptDisabled&&o.createElement(u.Tooltip,{show:n,target:t.current,placement:"top",immediate:!0},o.createElement(u.TooltipBody,null,o.createElement("span",null,e.acceptTooltipContent)))))}const _=(0,c.default)((({itemId:e,diffItem:t,expanded:n,toggleExpanded:s,onAcceptChange:a,acceptedChanges:r,parentId:l,diff:c,className:d,acceptDisabled:u,acceptTooltipContent:p,onAcceptAll:m,isNavigatedTo:h,removeFromNavigatedList:g,addToNavigatedList:b,navigatedList:S})=>{if(!t)return null;const C=!(n||h),T=i()({"collection-schema-sync-content__collapsible":!0,collapsed:C},d,t.itemType),j=!f.isEmpty(t.diff),A=!f.isEmpty(f.get(t,"meta.responses")),w="modified"===t.type&&(j||A),O=n||h;return o.createElement("div",{className:T,id:`${t.itemType}-${e}`},o.createElement(y,{className:"collection-schema-sync-content__toggle",itemId:e,itemMeta:t.meta,itemName:t.name,itemType:t.itemType,onClick:s,canExpand:w,expanded:n,removeFromNavigatedList:g,isNavigatedTo:h,addToNavigatedList:b}),("added"===t.type||"deleted"===t.type)&&o.createElement(I,{acceptDisabled:u,acceptedChanges:r,acceptTooltipContent:p,diffItem:t,itemId:e,onAcceptChange:a}),"modified"===t.type&&"request"===t.itemType&&o.createElement(E,{itemId:e,expanded:O,diffItem:t,acceptDisabled:u,acceptedChanges:r,acceptTooltipContent:p,onAcceptAll:m}),O&&(t.diff||[]).map(((n,s)=>o.createElement(v,{key:s,parentId:l,acceptDisabled:u,acceptedChanges:r,acceptTooltipContent:p,diff:n,diffType:t.type,itemId:e,itemType:t.itemType,onAcceptChange:a}))),O&&(t.meta.responses||[]).map((t=>{if(!c[t])return null;const n=f.find(S,(e=>e===`response-${t}`));return o.createElement(_,{acceptDisabled:u,acceptedChanges:r,acceptTooltipContent:p,className:i()({"collection-schema-sync-content__deleted":"deleted"===f.get(c,[t,"type"])},"collection-schema-sync-content__section"),diffItem:c[t],itemId:t,key:t,parentId:e,onAcceptChange:a,isNavigatedTo:n,removeFromNavigatedList:g,addToNavigatedList:b,navigatedList:S})})))}),!1);function S(e){const{diff:t={}}=e;return o.createElement("div",{className:"collection-schema-sync-content"},Object.keys(t).map(((n,s)=>{if("response"===t[n].itemType)return"";const i=["added","deleted"].includes(t[n].type)&&`collection-schema-sync-content__${t[n].type}`,a=f.find(e.navigatedList,(e=>e===`request-${n}`));return o.createElement(_,{acceptDisabled:e.acceptDisabled,acceptedChanges:e.acceptedChanges,acceptTooltipContent:e.acceptTooltipContent,className:i,diff:t,diffItem:t[n],itemId:n,key:s,onAcceptAll:e.onAcceptAll,onAcceptChange:e.onAcceptChange,isNavigatedTo:a,removeFromNavigatedList:e.removeFromNavigatedList,addToNavigatedList:e.addToNavigatedList,navigatedList:e.navigatedList})})))}},"./api-dev/tools/collection-schema-sync/CollectionSchemaSyncController.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o,s,i,a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/SyncStatusStore.js"),c=n("./appsdk/workbench/BaseWorkbenchController.js"),d=n("./api-dev/services/APIDevService.js"),u=n("./api-dev/util/collectionSchemaDiff.js"),p=n("./api-dev/constants/CollectionSchemaSyncConstants.js"),m=n("./node_modules/lodash/lodash.js");function h(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function g(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let f=(o=class extends c.default{constructor(...e){super(...e),this.diff=null,this.versionId=null,this.relationId=null,this.relationType=null,h(this,"status",s,this),this.fetchDataReactionDisposer=null,this.invalidateCache=e=>{if(!e)return;e.relationId===this.relationId&&this.fetchValidationData()},h(this,"updateStatus",i,this),this.fetchValidationData=()=>{let{apiId:e}=this._routeParams||{};return this.updateStatus(p.LOADING),d.default.fetchCollectionSchemaSyncData({apiId:e,versionId:this.versionId,relationType:this.relationType,relationId:this.relationId}).then((e=>{this.diff={parsedDiff:(0,u.parseCollectionDiff)({data:e}),meta:e.validationMeta},this.updateStatus(p.READY)})).catch((e=>{this.updateStatus(p.ERROR),pm.toasts.error("Couldn't validate API."),pm.logger.error(e)}))},this.updateCollection=e=>{let{apiId:t}=this._routeParams||{};return d.default.updateCollection({apiId:t,versionId:this.versionId,relationType:this.relationType,relationId:this.relationId},e).then((e=>{this.updateStatus(p.UPDATED)})).catch((e=>{this.updateStatus(p.ERROR),pm.toasts.error("Couldnt update collection."),pm.logger.error(e)}))}}didCreate({queryParams:e}){this.versionId=m.get(e,"version"),this.relationId=m.get(e,"relation"),this.relationType=m.get(e,"type"),this.fetchDataReactionDisposer=(0,a.reaction)((()=>(0,r.resolveStoreInstance)(l.default).isSocketConnected),(e=>{e&&this.fetchValidationData()}),{fireImmediately:!0}),pm.windowEvents.addListener("collection-validation-invalidate-cache",this.invalidateCache)}beforeDestroy(){this.fetchDataReactionDisposer&&this.fetchDataReactionDisposer(),pm.windowEvents.removeListener("collection-validation-invalidate-cache",this.invalidateCache)}didQueryParamsChange(e){this.versionId=e.version,this.relationId=e.relation,this.relationType=e.type,this.fetchValidationData()}},s=g(o.prototype,"status",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=g(o.prototype,"updateStatus",[a.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.status=e}}}),o)},"./api-dev/tools/collection-schema-sync/CollectionSchemaSyncHeader/CollectionSchemaSyncHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("./node_modules/postman-collection/index.js"),r=n("./js/components/base/Markdown.js"),l=n("./js/components/base/Buttons.js"),c=n("./js/components/base/Inputs.js"),d=n("./js/components/base/LoadingIndicator.js"),u=n("./api-dev/util/URLDomainValidation.js"),p=n("./node_modules/lodash/lodash.js");function m(e){const t=p.reduce(p.get(e,"description.variables"),((e,t,n)=>((0,u.validateUrlDomain)(t)?e[n]=t:e[n]="",e)),{});return o.createElement(o.Fragment,null,o.createElement("div",{className:"collection-schema-sync-view__header"},o.createElement("div",{className:"collection-schema-sync-view__header-title"},o.createElement("span",null,"Sync ",e.title," collection to schema")),o.createElement("div",{className:"collection-schema-sync-view__header-actions"},o.createElement("div",{className:"collection-schema-sync-view__header-actions__select-all-changes"},o.createElement(c.Checkbox,{checked:e.allAccepted,onChange:e.onAcceptAll,disabled:e.isCheckboxDisabled}),o.createElement("span",{className:i()({"collection-schema-sync-view__header-actions__select-all-changes--label":!0,"is-disabled":e.isCheckboxDisabled})},"Select all changes")),o.createElement(l.Button,{type:"primary",size:"small",className:"collection-schema-sync-view__header-actions__confirm",onClick:e.onUpdateCollection,disabled:e.isActionDisabled,tooltip:e.isActionDisabled&&e.disabledTooltip},e.isUpdating?o.createElement(d.default,null):o.createElement("span",null,"Confirm Changes to Collection")))),o.createElement(r.default,{className:"collection-schema-sync-view__description",source:a.Property.replaceSubstitutions(p.get(e,"description.template"),t)}))}},"./api-dev/tools/collection-schema-sync/CollectionSchemaSyncSidebar/CollectionSchemaSyncSidebar.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("./js/utils/Collapsible.js"),c=n("./api-dev/util/collectionSchemaDiff.js"),d=n("./runtime-repl/request-http/RequestIcon.js"),u=n("./js/utils/PluralizeHelper.js"),p=n("./node_modules/lodash/lodash.js");function m(e){return o.createElement("div",{className:i()({item__meta:!0,"is-property":!0,"is-response":"response"===e.parentType}),onClick:()=>e.jumpTo(e.href)},o.createElement("div",{className:"item__name"},p.capitalize(e.name)))}function h(e){const t=t=>i()(t,{"is-response":"response"===e.type});return o.createElement(o.Fragment,null,o.createElement("div",{className:t("item__toggle-icon-wrapper"),onClick:t=>{t.stopPropagation(),e.toggleExpanded()}},e.canExpand&&o.createElement(r.default,{className:"item__toggle-icon",name:e.expanded?"icon-direction-down":"icon-direction-right",color:"content-color-secondary"})),"request"===e.type&&o.createElement("div",{className:"item__icon"},o.createElement(d.default,{className:"item__request-icon-wrapper",methodClassname:"item__request-icon",method:e.requestMethod})),o.createElement("div",{className:t("item__meta")},"response"===e.type&&o.createElement("div",{className:"item__example-icon-wrapper"},o.createElement(r.default,{className:"item__example-icon",name:"icon-entity-example-stroke",color:"content-color-primary",size:"large"})),o.createElement("div",{className:"item__name",onClick:()=>e.jumpTo(e.href)},e.name)),"request"===e.type&&o.createElement("div",{className:"item__count"},o.createElement(a.default,{text:p.toString(e.count)||"1"})))}const g=(0,l.default)((({id:e,items:t,item:n,expanded:s,onEntityClick:i,toggleExpanded:a})=>{const r=!p.isEmpty(n.diff),l=!p.isEmpty(p.get(n,"meta.responses")),d="modified"===n.type&&(r||l);return o.createElement(o.Fragment,null,o.createElement(h,{expanded:s,type:n.itemType,name:n.name,href:`${n.itemType}-${e}`,count:(0,c.calculateItemHeaderDiffCount)(t,e),requestMethod:n.meta.method,canExpand:d,jumpTo:i,toggleExpanded:a}),s&&p.map(n.diff,(t=>o.createElement(m,{key:`${t.property}-${e}`,href:`${t.property}-${e}`,name:t.propertyName,jumpTo:i,parentType:n.itemType}))),s&&p.map(n.meta.responses,(e=>{const n=t[e];return n?o.createElement(g,{key:e,id:e,item:n,items:t,onEntityClick:i}):null})))}));function f(e){const{diff:t}=e,n=`${e.availableUpdatesCount} ${u.default.pluralize({count:e.availableUpdatesCount,plural:"issues",singular:"issue"})} found`;return o.createElement("div",{className:"collection-schema-sync-sidebar"},o.createElement("div",{className:"collection-schema-sync-sidebar__items-count"},n),o.createElement("div",{className:"collection-schema-sync-sidebar__items"},p.map(t,((n,s)=>"response"===n.itemType?null:o.createElement(g,{key:s,id:s,item:n,items:t,onEntityClick:e.onEntityClick})))))}},"./api-dev/tools/collection-schema-sync/CollectionSchemaSyncSummary/CollectionSchemaSyncSummary.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/components/common/EmptyState/EmptyState.js"),i=n("./js/components/base/Buttons.js"),a=n("./appsdk/components/link/Link.js"),r=n("./js/external-navigation/ExternalNavigationService.js"),l=n("./js/constants/AppUrlConstants.js"),c=n("./node_modules/lodash/lodash.js");function d(e){return o.createElement("div",{className:"collection-schema-update-summary__description"},function(e){let{allAccepted:t,availableUpdatesCount:n,acceptedUpdatesCount:o}=e||{};if(t)return"Your collection is now in sync with the schema.";let s=n-o,i="",a="";return i=o>1?`${o} changes were made to the collection.`:`${o} change was made to the collection.`,a=s>1?`There are ${s} issues remaining.`:`There is ${s} issue remaining.`,i+" "+a}(e.body))}function u(e){return o.createElement(o.Fragment,null,!e.allAccepted&&o.createElement(i.Button,{type:"secondary",onClick:e.onViewPendingUpdates},"View Remaining Issues"),o.createElement(a.default,{to:e.navigationIntentObject},o.createElement(i.Button,{type:"primary"},"View Updated Collection")))}function p(){return o.createElement("div",{className:"collection-schema-update-summary__feedback"},o.createElement("div",{className:"feedback-text"},"How was your experience updating this collection?"),o.createElement(i.Button,{type:"text",onClick:()=>(0,r.openExternalLink)(l.COLLECTION_SCHEMA_SYNC_FEEDBACK,"_blank")},o.createElement("span",null,"Send us your feedback!")))}class m extends o.Component{render(){return o.createElement("div",{className:"collection-schema-sync-update-summary"},o.createElement(s.default,{imageClass:"collection-schema-sync--success",title:"Collection updated",body:o.createElement(d,{body:this.props.summary}),action:o.createElement(u,{allAccepted:c.get(this.props,"summary.allAccepted"),navigationIntentObject:this.props.navigationIntentObject,onViewPendingUpdates:this.props.onViewPendingUpdates}),subText:o.createElement(p,null)}))}}},"./api-dev/tools/collection-schema-sync/CollectionSchemaSyncView/CollectionSchemaSyncView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./api-dev/util/collectionSchemaDiff.js"),r=n("./api-dev/tools/collection-schema-sync/CollectionSchemaSyncHeader/CollectionSchemaSyncHeader.js"),l=n("./api-dev/tools/collection-schema-sync/CollectionSchemaSyncContent/CollectionSchemaSyncContent.js"),c=n("./api-dev/tools/collection-schema-sync/CollectionSchemaSyncSummary/CollectionSchemaSyncSummary.js"),d=n("./api-dev/tools/collection-schema-sync/CollectionSchemaSyncSidebar/CollectionSchemaSyncSidebar.js"),u=n("./api-dev/constants/CollectionSchemaSyncConstants.js"),p=n("./node_modules/lodash/lodash.js");const m="You need editor access to make changes and update this collection.",h="Please select some changes to make in the collection.";let g=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={acceptedChanges:{},allAccepted:!1,showBanner:!1,isUpdating:!1,navigatedList:[],requestIdToChildElementsMap:{}},this.initializeAcceptedState=this.initializeAcceptedState.bind(this),this.mapRequestIdToChildElements=this.mapRequestIdToChildElements.bind(this),this.setAllAcceptedStatus=this.setAllAcceptedStatus.bind(this),this.acceptOneChange=this.acceptOneChange.bind(this),this.acceptAllChanges=this.acceptAllChanges.bind(this),this.areAllAccepted=this.areAllAccepted.bind(this),this.constructPayload=this.constructPayload.bind(this),this.updateCollection=this.updateCollection.bind(this),this.expandParent=this.expandParent.bind(this),this.jumpToId=this.jumpToId.bind(this),this.addToNavigatedList=this.addToNavigatedList.bind(this),this.removeFromNavigatedList=this.removeFromNavigatedList.bind(this)}componentDidMount(){this.initializeAcceptedState(),this.mapRequestIdToChildElements()}mapRequestIdToChildElements(){const e=p.get(this.props.diff,"parsedDiff");let t=this.state.requestIdToChildElementsMap;p.map(Object.keys(e),(n=>{const o=e[n];"request"===p.get(o,"itemType")&&(t[n]=[],p.map(p.get(o,"diff"),(e=>{p.get(e,"property")&&t[n].push(`${e.property}-${n}`)})),p.map(p.get(o,"meta.responses"),(e=>{t[n].push(`response-${e}`),t[n].push(`text-${e}`)})))})),this.setState({requestIdToChildElementsMap:t})}initializeAcceptedState(){this.setState((e=>({...e,...this.setAllAcceptedStatus(!1)})))}setAllAcceptedStatus(e){const{parsedDiff:t}=p.get(this.props,"diff");return{acceptedChanges:Object.keys(t).reduce(((n,o)=>["added","deleted"].includes(t[o].type)?(n[o]={[t[o].type]:e},n):(n[o]=t[o].diff.reduce(((t,n)=>(t[n.property]=e,t)),{}),"request"===t[o].itemType&&(n[o].acceptAll=e),n)),{})}}acceptOneChange(e,t,n){this.setState((o=>{let s;return s={acceptedChanges:{...o.acceptedChanges||{},[e]:{...p.get(o.acceptedChanges,[e],{}),[t]:!p.get(o.acceptedChanges,[e,t])}}},("acceptAll"in s.acceptedChanges[e]||n)&&(s.acceptedChanges[n||e].acceptAll=this.areAllAccepted(s,n||e)),{...o,...s,allAccepted:this.areAllAccepted(s)}}))}acceptAllChanges(e,t){if("string"==typeof e){this.setState((n=>{if(!n.acceptedChanges[e])return n;let o,s;const i=n.acceptedChanges[e];return o=t?!n.acceptedChanges[t].acceptAll:i.acceptAll,s={acceptedChanges:{...n.acceptedChanges,[e]:p.chain(n.acceptedChanges[e]).keys().reduce(((e,t)=>(e[t]=!o,e)),{}).value()}},{...n,...s,allAccepted:this.areAllAccepted(s)}}));const n=p.get(this.props.diff,["parsedDiff",e,"meta","responses"],[]);return p.forEach(n,(t=>{this.acceptAllChanges(t,e)}))}return this.setState((e=>({...e,...this.setAllAcceptedStatus(!e.allAccepted),allAccepted:!e.allAccepted})))}areAllAccepted(e,t){if(!e.acceptedChanges)return!1;const{parsedDiff:n}=p.get(this.props,"diff");if(t){return p.reduce(n[t].meta.responses,((t,n)=>t&&p.chain(e.acceptedChanges[n]).omit("acceptAll").reduce(((e,t)=>e=e&&t),!0).value()),!0)&&p.chain(e.acceptedChanges[t]).omit("acceptAll").reduce(((e,t)=>e=e&&t),!0).value()}return Object.keys(e.acceptedChanges).reduce(((t,n)=>t=t&&Object.values(e.acceptedChanges[n]).reduce(((e,t)=>e=e&&t),!0)),!0)}constructPayload(){const e={creates:{requests:[],responses:[]},updates:{requests:[],responses:[]},destroys:{requests:[],responses:[]}},t={added:"creates",deleted:"destroys",modified:"updates"},{parsedDiff:n}=p.get(this.props,"diff");return p.reduce(n,((e,n,o)=>{const s=t[n.type],i=n.itemType+"s";let a;return e[s]=e[s]||{},e[s][i]=e[s][i]||[],"deleted"===n.type&&this.state.acceptedChanges[o].deleted?(e[s][i].push(o),e):"added"===n.type&&this.state.acceptedChanges[o].added?(e[s][i].push(n.data),"requests"!==i||p.isEmpty(n.meta.responses)||(e[s].responses=e[s].responses||[],e[s].responses.push(...n.meta.responses)),e):(a=n.diff.reduce(((e,t)=>(this.state.acceptedChanges[o][t.property]&&(e.id=o,e[t.property]=t.source),e)),{}),p.isEmpty(a)||e[s][i].push(a),e)}),e),e}updateCollection(){let e=this.constructPayload();return this.setState({isUpdating:!0}),this.props.onUpdate(e).then((()=>this.setState({isUpdating:!1}))).catch((()=>this.setState({isUpdating:!1})))}waitForElementToLoadInDOM(e){return new Promise((t=>{if(document.querySelector(e))return t(document.querySelector(e));const n=new MutationObserver((()=>{document.querySelector(e)&&(t(document.querySelector(e)),n.disconnect())}));n.observe(document.body,{childList:!0,subtree:!0})}))}expandParent(e,t){Object.keys(this.state.requestIdToChildElementsMap).map((n=>{p.find(this.state.requestIdToChildElementsMap[n],(t=>t===e))&&this.jumpToId(`request-${n}`,t)}))}async jumpToId(e,t){if(e){const n=t.querySelector(`#${e}`);n?n.scrollIntoView({behavior:"smooth"}):(this.expandParent(e,t),await this.waitForElementToLoadInDOM(`#${e}`),this.jumpToId(e,t)),this.addToNavigatedList(e)}}addToNavigatedList(e){let t=this.state.navigatedList;p.find(this.state.navigatedList,(t=>t===e))||t.push(e);const n=e.substring(8,e.length);p.map(this.props.diff.parsedDiff[n],(e=>{p.map(e.responses,(e=>{p.find(this.state.navigatedList,(t=>t===e))||t.push(`response-${e}`)}))})),this.setState({navigatedList:t})}removeFromNavigatedList(e){let t=this.state.navigatedList;p.remove(t,(t=>t===e)),this.setState({navigatedList:t})}render(){const e=this.props.diff,t=p.get(e,"meta.collection.canUpdate"),n=(0,a.calculateCollectionUpdatesCount)(e.parsedDiff),o=(0,a.calculateAcceptedChangesCount)(this.state.acceptedChanges),i=!t||o<1||this.state.isUpdating,g=t?h:m,f={routeIdentifier:"collection.openWithWsSelect",routeParams:{cid:p.get(this.props,"diff.meta.collection.id")}};if(this.props.status===u.READY&&p.isEmpty(e.parsedDiff)){let e={acceptedUpdatesCount:o,allAccepted:!0,availableUpdatesCount:n};return s.createElement(c.default,{summary:e,navigationIntentObject:f})}if(this.props.status===u.UPDATED){let e={acceptedUpdatesCount:o,allAccepted:this.state.allAccepted,availableUpdatesCount:n};return s.createElement(c.default,{summary:e,navigationIntentObject:f,onViewPendingUpdates:this.props.onViewPendingUpdates})}return s.createElement("div",{className:"collection-schema-sync-view",ref:e=>this.contentWrapper=e},s.createElement(r.default,{title:p.get(e,"meta.title"),isUpdating:this.state.isUpdating,isCheckboxDisabled:!t,isActionDisabled:i,allAccepted:this.state.allAccepted,disabledTooltip:g,onAcceptAll:this.acceptAllChanges,onUpdateCollection:this.updateCollection,description:p.get(e,"meta.description")}),s.createElement("div",{className:"collection-schema-sync-view__content"},s.createElement(l.default,{acceptDisabled:!t,acceptedChanges:this.state.acceptedChanges,acceptTooltipContent:m,diff:p.get(e,"parsedDiff"),onAcceptAll:this.acceptAllChanges,onAcceptChange:this.acceptOneChange,navigatedList:this.state.navigatedList,removeFromNavigatedList:this.removeFromNavigatedList,addToNavigatedList:this.addToNavigatedList}),s.createElement(d.default,{availableUpdatesCount:n,diff:e.parsedDiff,onEntityClick:e=>this.jumpToId(e,this.contentWrapper)})))}})||o},"./api-dev/tools/collection-schema-sync/CollectionSchemaSyncViewContainer/CollectionSchemaSyncViewContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CheckInternetConnection.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/SyncStatusStore.js"),d=n("./js/components/base/LoadingIndicator.js"),u=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js"),p=n("./api-dev/tools/collection-schema-sync/CollectionSchemaSyncView/CollectionSchemaSyncView.js"),m=n("./api-dev/constants/CollectionSchemaSyncConstants.js");let h=(0,i.observer)(o=class extends s.Component{render(){const{status:e}=this.props.controller;return!(0,l.resolveStoreInstance)(c.default).isSocketConnected?s.createElement(u.default,{blankState:s.createElement(a.default,null),title:"No internet connection",description:"Check your internet connection and try again."}):e===m.ERROR?s.createElement(u.default,{blankState:s.createElement(r.default,null),title:"Could not load data.",description:"Something went wrong. Please try again."}):e===m.READY||e===m.UPDATED?s.createElement(p.default,{diff:this.props.controller.diff,status:e,onUpdate:this.props.controller.updateCollection,onViewPendingUpdates:this.props.controller.fetchValidationData}):s.createElement("div",{className:"collection-schema-sync-view is-loading"},s.createElement(d.default,null))}})||o},"./api-dev/util/RunMonitorActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{runMonitor:function(){return a}});var o=n("./monitors/stores/domain/MonitorStore.js"),s=n("./monitors/services/MonitorService.js"),i=n("./js/modules/services/AnalyticsService.js");const a=function(e){let t=new o.default(e);t.jobs.masterMonitorStore.loadActiveWorkspaceJobTemplates(),s.default.getPermissionsForJobTemplates([e]).then((n=>{n[0].run&&(t.jobs.createJob(e),i.default.addEventV2({category:"api_builder_integrations",action:"monitor_run",label:"run_button",value:1}),pm.windowEvents.emit(`${e}-run`))})).catch((()=>{pm.toasts.error("Failed to fetch permissions for the monitor!")}))}},"./api-dev/util/RunTestActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{getRunnerTab:function(){return c}});var o=n("./js/stores/StoreManager.js"),s=n("./js/stores/CurrentUserStore.js"),i=(n("./js/stores/ActiveWorkspaceStore.js"),n("./runtime-repl/runner/_api/RunnerInterface.js")),a=n("./runtime-repl/_common/uid-helper.ts"),r=n("./runtime-repl/transient-collection/datastores/stores/TransientCollectionStore.ts"),l=n("./js/services/NavigationService.js");n("./node_modules/lodash/lodash.js");const c=function(e){var t;const n=(0,o.resolveStoreInstance)(s.default).isLoggedIn,c=l.default.getCurrentRouteParams();if(!n){const e=new URL(window.location.href);return pm.mediator.trigger("showSignInModal",{type:"runTest",origin:"api_builder_run_test_button",continueUrl:e})}if(!e)return;const d=null===(t=(0,a.decomposeUID)(e))||void 0===t?void 0:t.modelId,u=r.default.find(d),p={preview:!1,isTransient:Boolean(u),apiId:null==c?void 0:c.apiId,shouldGetParentMeta:!1};(0,i.openCollectionInRunner)(e,p)}},"./api-dev/util/TooltipText.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("./js/stores/CurrentUserStore.js"),s=n("./js/stores/StoreManager.js"),i=n("./js/stores/SyncStatusStore.js"),a=n("./api-dev/constants/APITooltips.js"),r=n("./api-dev/constants/Permissions.js");function l(e,t,n){const l=!(0,s.resolveStoreInstance)(i.default).isSocketConnected;if((0,s.resolveStoreInstance)(o.default).isLoggedIn&&e)return l?a.IS_OFFLINE_TOOLTIP_MSG:n||(t?r.API_PERMISSION_ERROR:void 0)}},"./api-dev/util/URLDomainValidation.js":function(e,t,n){"use strict";n.r(t),n.d(t,{validateLearningCntrUrlDomain:function(){return r},validateMockServerUrlDomain:function(){return l},validateUrlDomain:function(){return a}});const o=new RegExp(/https:\/\/go\.postman(?:-beta|-stage)?\.co\//),s=new RegExp(/https:\/\/(\w+|-+)+\.mock(?:-beta|-stage)?\.pstmn\.io/),i=new RegExp(/https:\/\/go\.pstmn\.io\//);function a(e){if(!e)return pm.logger.info("URLDomainValidation~validateUrlDomain: Url not found"),!1;let t=o.test(e);return t||pm.logger.info("URLDomainValidation~validateUrlDomain: Url domain does not belong to Postman"),t}function r(e){if(!e)return pm.logger.info("URLDomainValidation~validateLearningCntrUrlDomain: Url not found"),!1;let t=i.test(e);return t||pm.logger.info("URLDomainValidation~validateLearningCntrUrlDomain: Url domain does not belong to Postman"),t}function l(e){if(!e)return pm.logger.info("URLDomainValidation~validateMockServerUrlDomain: Url not found"),!1;let t=s.test(e);return t||pm.logger.info("URLDomainValidation~validateMockServerUrlDomain: Url domain does not belong to Postman"),t}},"./api-dev/util/collectionSchemaDiff.js":function(e,t,n){"use strict";n.r(t),n.d(t,{calculateAcceptedChangesCount:function(){return d},calculateCollectionUpdatesCount:function(){return c},calculateDiffType:function(){return a},calculateItemHeaderDiffCount:function(){return l},calculateItemPropertyDiffCount:function(){return r},getDiffDescription:function(){return m},parseCollectionDiff:function(){return p}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./version-control/utils/pmDiff/index.js");function a(e){return s().isEmpty(e.base)?"added":s().isEmpty(e.source)?"destroyed":"modified"}function r(e){return s().isEmpty(e)?0:"response"!==e.itemType?1:s().size(e.diff)||1}function l(e,t){let n=0,o=0;return n=s().reduce(e[t].meta.responses,((t,n)=>t+r(e[n])),0),o=s().size(e[t].diff),"modified"!==e[t].type&&0===e[t].diff.length&&o++,o+n}function c(e){return s().reduce(e,((t,n,o)=>"response"===n.itemType?t:t+l(e,o)),0)}function d(e){return s().reduce(e,((e,t)=>e+=s().filter(Object.values(t)).length),0)}const u=["collection","request","response"];function p(e){const t=s().get(e,"data.diff");let n={};return u.forEach((e=>{Object.keys(s().get(t,[e,"create","objs"],{})).forEach((o=>{if("response"===e)return;const i=s().get(t,[e,"create","objs",o],{}),a=s().chain(t).get("response.create.objs").pick(i.responses).values().value();n[o]={name:i.name||e,diff:[],data:s().omit(i,"endpoint"),meta:{method:i.request.method,responses:a,endpoint:i.endpoint},type:"added",itemType:e}})),Object.keys(s().get(t,[e,"update","objs"],{})).forEach((o=>{const a=s().get(t,[e,"update","objs",o],{});!function(e,t,n,o,s){e[n]||(e[n]={name:t.name||o,diff:[],meta:{method:t.method,responses:t.responses,endpoint:t.endpoint},type:s,itemType:o}),e[n].diff=e[n].diff.concat((0,i.default)(o,s,t.diff||t))}(n,a,o,e,"modified")})),Object.keys(s().get(t,[e,"destroy","objs"],{})).forEach((o=>{const i=s().get(t,[e,"destroy","objs",o],{});n[o]={name:i.name||e,diff:[],meta:{method:i.method},type:"deleted",itemType:e}}))})),n}function m(e,t,n){if(!e)return void pm.logger.warn("CollectionSchemaDiffUtil~getDiffDescription: 'diffType' is required");if(!t)return void pm.logger.warn("CollectionSchemaDiffUtil~getDiffDescription: 'propertyName' is required");const o={"path variables":"don't",headers:"don't","response headers":"don't","query params":"don't"};switch(n&&(e=a(n)),e){case"added":return`Additional ${t} found in schema`;case"modified":return`${s().capitalize(t)} ${o[t]||"doesn't"} match schema`;case"deleted":return`${s().capitalize(t)} not found in schema. Selecting this change will remove this       ${t} from collection.`;case"destroyed":return`${s().capitalize(t)} not found in schema`;default:return""}}},"./api-dev/util/getConfigurationOptions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{checkAndOverrideDefaultValue:function(){return i},newDefaults:function(){return s}});var o=n("./node_modules/lodash/lodash.js");const s={raml:{requestParametersResolution:"Example"},openapi3:{requestParametersResolution:"Example"},swagger:{requestParametersResolution:"Example"}};function i(e,t){let n=pm.settings.getSetting(`import.options.${e.id}`),i={},a=t.map((t=>{let n=o.get(s,[e.type,t.id]);return!n||t.availableOption&&!o.includes(t.availableOption,n)?t:(i={[t.id]:n},{...t,default:n})}));return pm.settings.setSetting(`import.options.${e.id}`,{...n,...i}),a}},"./api-dev/util/versionNavigator.js":function(e,t,n){"use strict";n.r(t);var o=n("./js/services/NavigationService.js");t.default=(e,t)=>{o.default.transitionTo("build.apiVersion",{apiId:t,versionId:e})}},"./appsdk/contextbar/ContextBar.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ContextBarPane:function(){return E}});var o,s=n("../../node_modules/react/index.js"),i=n("./appsdk/contextbar/ContextBarService.js"),a=n("./appsdk/contextbar/ContextBarHeader.js"),r=n("./js/constants/Panes.js"),l=n("./js/components/base/Panes.js"),c=n("./node_modules/classnames/index.js"),d=n.n(c),u=n("./js/components/empty-states/AetherCrashHandler.js"),p=n("./js/components/base/XPaths/XPath.js"),m=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),h=n("./js/constants/AppSettingsDefaults.js"),g=n("../../node_modules/mobx/lib/mobx.module.js"),f=n("./appsdk/contextbar/ContextBarUtil.js"),b=n("./js/stores/StoreManager.js"),y=n("./js/stores/ActiveWorkspaceSessionStore.js"),v=n("./node_modules/lodash/lodash.js");const I="auto";let E=(0,m.observer)(o=class extends l.Pane{constructor(e){super(e),this.contextBarService=new i.ContextBarService,this.handleSelect=this.handleSelect.bind(this),this.handleContextChange=this.handleContextChange.bind(this),this.handleClose=this.handleClose.bind(this),this.state={...this.state,collapsedX:!0},this.isOpen=!1}getContextForUrlIdentifier(e){return this.props.allowedContexts.find((t=>this.contextBarService.getConfig(t).urlIdentifier===e))}getUrlIdentifierForContext(e){return this.contextBarService.getConfig(e).urlIdentifier}getDimensions(e){return super.getDimensions({...e,width:{collapsedByDefault:true,shouldResistResize:true,default:440,collapsed:48,uncollapsed:440,min:h.default.ui.CONTEXT_BAR_MIN_WIDTH,max:I}})}componentDidMount(){let e=this.getContextForUrlIdentifier(this.contextBarService.activeContextUrlIdentifier)||this.props.allowedContexts&&this.props.allowedContexts[0];this.lastActive=e;let t=v.get(this.props,"collapsedByDefault",!0),n=(0,b.resolveStoreInstance)(y.default).activeEditor;!t&&this.props.editorId===n&&(0,f.updateContextQueryParams)(this.getUrlIdentifierForContext(e)),this.activeContextAutoRun=(0,g.autorun)((()=>{const e=this.contextBarService.getContextBarQueryParam(this.props.editorId);let t=this.getContextForUrlIdentifier(e);t!==this.state.activeContext&&this.setContext(t,!!t)}))}componentWillUnmount(){this.props.allowedContexts.forEach((e=>{this.contextBarService.willDestroy(e)})),this.activeContextAutoRun&&this.activeContextAutoRun()}componentDidUpdate(){this.contextBarService.pruneControllers(this.props.allowedContexts),this.isOpen&&this.state.collapsedX?(this.isOpen=!this.state.collapsedX,(0,f.removeContextQueryParams)()):this.isOpen||this.state.collapsedX||(this.isOpen=!this.state.collapsedX,this.state.activeContext||(0,f.updateContextQueryParams)(this.getUrlIdentifierForContext(this.lastActive)))}handleSelect(e){this.setContext(e,!0)}handleContextChange(e){(0,f.updateContextQueryParams)(this.getUrlIdentifierForContext(e))}setContext(e,t=!1){let n=this.state.activeContext;return new Promise((o=>{this.setState({activeContext:e},(()=>Promise.all([this.contextBarService.getControllerFor(e,this.props.contextData),this.contextBarService.getViewFor(e)]).then((([t,s])=>{e===this.state.activeContext&&this.setState({activeController:t,ActiveView:s},(()=>(this.contextBarService.didDeactivate(n),this.contextBarService.didActivate(this.state.activeContext),o())))})).then((()=>{this.state.activeContext&&(this.lastActive=this.state.activeContext),t?this.unCollapse("x"):this.collapse("x")}))))}))}handleClose(){this.collapse("x"),this.props.onClose&&this.props.onClose()}render(){let e=this.state.ActiveView,t=this.props.allowedContexts||this.props.visibleContexts,n=this.contextBarService.getConfig(this.state.activeContext),o=this.state.activeController;const i=d()({pane:!0,resizableX:this.isResizable("x"),resizableY:this.isResizable("y"),collapsedX:this.state.collapsedX,collapsedY:this.state.collapsedY},"right-context-bar"),c={height:this.state.height,width:this.state.width,...this.props.style||{}};return s.createElement(p.default,{identifier:"contextBar"},s.createElement("div",{className:i,style:c},s.createElement(u.default,null,s.createElement(l.PaneHeader,{defaultLayout:r.PANE_LAYOUT_VERTICAL,verticalComponent:s.createElement(a.ContextBarHeader,{visibleContexts:t,onSelect:this.handleContextChange,contextBarService:this.contextBarService,activeContext:this.state.activeContext,width:this.state.width,contextData:this.props.contextData}),isCollapsedX:this.state.collapsedX,isCollapsedY:this.state.collapsedY,onCollapseToggle:this.handleCollapseToggle}),s.createElement(l.PaneContent,{isCollapsedX:this.state.collapsedX,isCollapsedY:this.state.collapsedY},this.state.width?s.createElement("div",{className:"right-context-bar-content-container"},e&&n&&s.createElement(u.default,{onClose:this.handleClose},s.createElement(e,{contextData:this.props.contextData,title:n.title,onClose:this.handleClose,controller:o,editorId:this.props.editorId}))):null))))}})||o;E.defaultProps={width:{collapsedByDefault:true,shouldResistResize:true,default:440,collapsed:48,uncollapsed:440,min:350,max:I}}},"./appsdk/contextbar/ContextBarHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ContextBarHeader:function(){return g}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),a=n("./js/components/base/Tooltips.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./node_modules/classnames/index.js"),c=n.n(l),d=n("./js/components/base/XPaths/XPath.js"),u=n("./growth/foundation/public/amplitude/AmplitudeService.js"),p=n("./api-dev/navigation/constants.js"),m=n("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/APISourceControlContextBarIcon.js"),h=n("./node_modules/lodash/lodash.js");let g=(0,r.observer)(o=class extends s.Component{constructor(e){super(e),this.state={},this.tooltipTargets={},this.handleShowTooltip=this.handleShowTooltip.bind(this),this.handleHideTooltip=this.handleHideTooltip.bind(this)}componentWillUnmount(){clearTimeout(this.titleTooltip)}handleShowTooltip(e){this.titleTooltip=setTimeout((()=>{this.setState({[e]:!0})}),500)}handleHideTooltip(e){clearTimeout(this.titleTooltip),this.state[e]&&this.setState({[e]:!1})}render(){let e=this.props.visibleContexts;const t=e=>e.name===p.SOURCE_CONTROL_NAV?s.createElement(m.default,{ref:t=>{this.tooltipTargets[e.name]=t},apiRepositoryStore:h.get(this.props,"contextData.apiRepositoryStore")||h.get(this.props,"contextData.model.apiRepositoryStore"),handleShowTooltip:this.handleShowTooltip.bind(null,e.name),handleHideTooltip:this.handleHideTooltip.bind(null,e.name)}):s.createElement("div",{className:`tabs__${e.name} icon-container`,ref:t=>{this.tooltipTargets[e.name]=t},onMouseEnter:this.handleShowTooltip.bind(null,e.name),onMouseLeave:this.handleHideTooltip.bind(null,e.name)},s.createElement(i.default,{name:e.icon}));return s.createElement("div",{className:"right-context-bar-options"},s.createElement("ul",null,e.map((e=>{let n=this.props.contextBarService.getConfig(e);return n?s.createElement(d.default,{key:n.name,identifier:n.name},s.createElement("li",{key:n.name,onClick:()=>{this.props.onSelect(n.name),u.Ampli.contextBarListItemClicked({item_name:n.name,...(0,u.getAmpliCTAProperties)({ctaType:"other"})})},className:c()({active:n.name===this.props.activeContext&&this.props.width>300})},s.createElement(s.Fragment,{key:n.name},t(n),s.createElement(a.Tooltip,{show:n&&this.state[n.name],target:n&&this.tooltipTargets[n.name],placement:"left",immediate:!0},s.createElement(a.TooltipBody,null,n&&n.title))))):null}))))}})||o},"./appsdk/contextbar/ContextBarService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ContextBarService:function(){return p}});var o,s=n("./appsdk/contextbar/ContextBarRegistry.js"),i=n("./js/services/NavigationService.js"),a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./js/utils/NavigationUtil.js"),l=n("./appsdk/contextbar/ContextBarUtil.js"),c=(n("./js/containers/scratchpad/ContextBarScratchPadSignInPromptContainer.js"),n("./appsdk/workbench/WorkbenchService.js")),d=n("./node_modules/lodash/lodash.js"),u=n("../../node_modules/console-browserify/index.js");let p=(m=(o=class{constructor(){this._contextBarRegistry=s.default,this._controllerCache=new Map}get activeContextUrlIdentifier(){let e=i.default.currentURL.get(),{queryString:t}=(0,r.getUrlParts)(e);const n=(0,r._getQueryStringParams)(t);return n&&n[l.CONTEXT_BAR_QUERY_STRING_KEY]?n[l.CONTEXT_BAR_QUERY_STRING_KEY]:null}getContextBarQueryParam(e){return c.default.getTabController(e).contextBarQueryParam}pruneControllers(e){let t=new Set(e);for(let e of this._controllerCache.keys())t.has(e)||(this.willDestroy(e),this._controllerCache.delete(e))}getConfig(e){return this._contextBarRegistry._store.get(e)}getControllerFor(e,t){if(this._controllerCache.has(e))return this._controllerCache.get(e);let n=this.getConfig(e);if(!n)return;let o=n.getController;return o&&d.isFunction(o)?o().then((n=>{let o=new(0,n.default);this._controllerCache.set(e,o);try{o.didCreate&&o.didCreate(t)}catch(t){u.warn("ContextBarService: There was an error in the didCreate lifecycle of "+e)}return o})):void 0}getViewFor(e){let t=this.getConfig(e);return t&&t.getView().then((e=>e.default))}didActivate(e){this._triggerLifecycleMethod("didActivate",e)}didDeactivate(e){this._triggerLifecycleMethod("didDeactivate",e)}willDestroy(e){this._triggerLifecycleMethod("willDestroy",e)}_triggerLifecycleMethod(e,t){let n=this._controllerCache.get(t);if(n)try{n[e]&&n[e]()}catch(n){u.warn(`ContextBarService: There was an error in the ${e} lifecycle of ${t}`)}}}).prototype,h="activeContextUrlIdentifier",g=[a.computed],f=Object.getOwnPropertyDescriptor(o.prototype,"activeContextUrlIdentifier"),b=o.prototype,y={},Object.keys(f).forEach((function(e){y[e]=f[e]})),y.enumerable=!!y.enumerable,y.configurable=!!y.configurable,("value"in y||y.initializer)&&(y.writable=!0),y=g.slice().reverse().reduce((function(e,t){return t(m,h,e)||e}),y),b&&void 0!==y.initializer&&(y.value=y.initializer?y.initializer.call(b):void 0,y.initializer=void 0),void 0===y.initializer&&(Object.defineProperty(m,h,y),y=null),o);var m,h,g,f,b,y},"./documentation/components/APIDocumentation/APIBuilder/Documentation.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n("../../node_modules/react/index.js"),s=n("./documentation/components/APIDocumentation/APIBuilder/DocumentationTab.js"),i=n("./documentation/components/APIDocumentation/APIBuilder/LegacyDocumentationTab.js"),a=n("./onboarding/src/common/LaunchDarkly.js"),r=n("./api-dev/constants/APITabModes.js"),l=n("./documentation/components/SchemaDocumentation/components/SchemaDocumentationLoader/index.js"),c=n("./documentation/utils/utils.js"),d=n("./node_modules/lodash/lodash.js");class u extends o.Component{constructor(e){super(e),this.state={isSchemaDocEnabled:!1,isFeatureEnabledForTeamOrUser:!1,isLoading:!0}}async componentDidMount(){if(a.launchDarkly.getFlag("documenter_3682_schemadoc_enabled_global",!1)){const e=await(0,c.isSchemaDocFeatureEnabledForTeamOrUser)();this.setState({isFeatureEnabledForTeamOrUser:e,isSchemaDocEnabled:!0,isLoading:!1})}else this.setState({isFeatureEnabledForTeamOrUser:!1,isSchemaDocEnabled:!1,isLoading:!1})}render(){const e=d.get(this.props,"model.mode");return e!==r.BUILD_MODE&&e!==r.NETWORK_MODE?null:this.state.isLoading?o.createElement(l.default,null):o.createElement(o.Fragment,null,this.state.isSchemaDocEnabled&&this.state.isFeatureEnabledForTeamOrUser?o.createElement(s.default,{mode:d.get(this.props,"model.mode"),model:this.props.model,promoteTab:this.promoteTab,isDirty:this.props.editor&&this.props.editor.isDirty}):o.createElement(i.default,{mode:d.get(this.props,"model.mode"),model:this.props.model,promoteTab:this.promoteTab}))}}},"./documentation/components/APIDocumentation/APIBuilder/DocumentationTab.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./documentation/components/APIDocumentation/APIDocumentation.js"),c=n("./documentation/components/SchemaDocumentation/components/SchemaDocumentationLoader/index.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoActivity.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),h=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),g=n("./js/modules/services/AnalyticsService.js"),f=n("../../packages/documentation/documentation-core/index.js"),b=n("./js/stores/StoreManager.js"),y=n("./js/stores/CurrentUserStore.js"),v=n("./js/stores/SyncStatusStore.js"),I=n("./api-dev/util/TooltipText.js"),E=n("./api-dev/constants/Permissions.js"),_=n("./appsdk/components/link/Link.js"),S=n("./api-dev/constants/APITabModes.js"),C=n("./api-dev/components/api-version/common/ValidationButton/ValidationButton.js"),T=n("./api-dev/services/APIDevService.js"),j=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),A=n("./documentation/components/SchemaDocumentation/index.js"),w=n("../../node_modules/mobx/lib/mobx.module.js"),O=n("./documentation/components/APIDocumentation/DocumentationTabSidebar/DocumentationTabSidebar.js"),N=n("./documentation/components/SchemaDocumentation/SchemaDocumentationStore.js"),D=n("./api-dev/services/APIPermissionService.js"),R=n("../../packages/documentation/mimir-editor/index.js"),P=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),M=n("./api-dev/constants/ExternalLinks.js"),L=n("./documentation/components/SchemaDocumentation/constants.js"),x=n("./js/components/base/Dropdowns.js"),k=n("./documentation/components/APIDocumentation/CreateDocumentationEntityModal/CreateDocumentationEntityModal.js"),F=n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),V=n("./node_modules/lodash/lodash.js");const B="Unable to load",U="Hit a snag while loading documentation. Please try again";async function z(){const e=await(0,T.getWorkspaceId)(),t=await(0,j.getMeta)(e);return V.chain(t).get("list").map((e=>V.pick(e,["id","name","forkLabel"]))).value()}let H=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.canUpdateSchema=()=>{const e=V.get(this.props,"model.apiPermissionStore.permissions");return D.default.hasPermission(e,"updateSchema","api",this.props.model.apiId)},this.state={showCreateDocumentationModal:!1,showAddEntityModal:!1,showDeleteModal:!1,relationToBeDeleted:null,isLoadingDeleteRelation:!1},this.dirtyReactionDisposer=null,this.schemaContentReactionDisposer=null,this.schemaValidationReactionDisposer=null,this.schemaTypeReactionDisposer=null,this.store=new N.default,this.openCreateDocumentationModal=this.openCreateDocumentationModal.bind(this),this.closeCreateDocumentationModal=this.closeCreateDocumentationModal.bind(this),this.addRelation=this.addRelation.bind(this),this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.handleCreate=this.handleCreate.bind(this),this.renderValidationButton=this.renderValidationButton.bind(this),this.getActionsMenuItems=this.getActionsMenuItems.bind(this),this.handleDropdownActionSelect=this.handleDropdownActionSelect.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.handleDeleteRelation=this.handleDeleteRelation.bind(this)}handleDropdownActionSelect(e,t){if(this.setState({relationToBeDeleted:e}),"remove-collection"===t)this.toggleDeleteModal()}handleDeleteRelation(){return this.setState({isLoadingDeleteRelation:!0}),this.props.model.documentations.deleteRelation(this.state.relationToBeDeleted).then((e=>{e&&this.toggleDeleteModal(),this.setState({isLoadingDeleteRelation:!1}),this.props.model.documentations.getAllRelations().then((()=>{this.store.showSchemaDocumentation||V.isEmpty(V.get(this.props.model,"documentations.relations.0"))?this.store.isAPISchemaEmpty||this.store.updateShowSchemaDocumentationState(!0):this.props.model.setActiveDocumentation(V.get(this.props.model,"documentations.relations.0"))}))}))}toggleDeleteModal(){this.setState((e=>({showDeleteModal:!e.showDeleteModal})))}getActionsMenuItems(){if(this.props.isReleaseDoc||"network"===this.props.mode||!V.get(this.props.model,"apiPermissionStore.canRemoveDocumentation"))return null;const e=this.getMenuItems();return i.createElement(x.DropdownMenu,{className:"api-dropdown-menu","align-right":!0},e)}getMenuItems(){let e=[{type:"remove-collection",label:"Remove",isDisabled:!1,hasPermission:V.get(this.props.model,"apiPermissionStore.canRemoveDocumentation")}];return V.chain(e).map((e=>i.createElement(x.MenuItem,{key:e.type,refKey:e.type,disabled:e.isDisabled},i.createElement("span",{className:"api-action-item"},i.createElement("div",{className:"dropdown-menu-item-label"},e.label))))).value()}async componentDidMount(){const{apiId:e,id:t,schema:n}=this.props.model;this.dirtyReactionDisposer=(0,w.reaction)((()=>this.props.isDirty),(e=>{this.store.updateDirtyWarningState(e)})),this.schemaContentReactionDisposer=(0,w.reaction)((()=>V.get(n,"content")),(e=>{this.store.getAPIMetaData(n)}),{fireImmediately:!0}),this.schemaValidationReactionDisposer=(0,w.reaction)((()=>n.isSchemaValid),(e=>{this.store.updateValidationWarningState(!e)})),this.schemaTypeReactionDisposer=(0,w.reaction)((()=>V.get(n,"type")),(o=>{this.store.reloadAPIDocumentation(e,t,n)})),await this.store.getOperations(e,t),await this.store.checkSchemaSyncState(n)}componentWillUnmount(){this.dirtyReactionDisposer&&this.dirtyReactionDisposer(),this.schemaContentReactionDisposer&&this.schemaContentReactionDisposer(),this.schemaValidationReactionDisposer&&this.schemaValidationReactionDisposer(),this.schemaTypeReactionDisposer&&this.schemaTypeReactionDisposer()}closeCreateDocumentationModal(){this.setState({showCreateDocumentationModal:!1})}handleCreate(e){return g.default.addEventV2({category:"documentation",action:"confirm_create",label:"create_documentation_from_schema",value:1,entityId:V.get(this.props,"model.documentations.apiId")}),V.get(this.props.model,"schema.isSchema")?Object.assign(e,{schemaId:V.get(this.props.model,"schema.schemaId")}):Object.assign(e,{apiDefinitionId:V.get(this.props.model,"schema.apiDefinitionId")}),V.get(this.props,"promoteTab")&&V.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.documentations.createAndAddRelationToAPIVersion(e)}openCreateDocumentationModal(){g.default.addEventV2({category:"documentation",action:"initiate_create",label:"api_develop",value:1,entityId:V.get(this.props,"model.documentations.apiId")}),this.setState({showCreateDocumentationModal:!0})}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal})}getAddDocumentationOptions(){const e=!(0,b.resolveStoreInstance)(v.default).isSocketConnected,t=V.get(this.props,"model.isAPIDeleted"),n=this.props.model&&this.props.model.apiPermissionStore&&this.props.model.apiPermissionStore.canAddDocumentation,o=V.get(this.props,"model.apiPermissionStore.canGenerateCollection",!1),s=e||!n,i=e||!o||!V.get(this.props,"model.schema.content")||!V.get(this.props,"model.schema.isSchemaValid");return[{className:"documentation-tab__generate-documentation",buttonType:"primary",action:"create_new",name:"Create documentation",isDisabled:i||t,hasPermission:o,tooltip:this.getDisabledText("create_new",i||t,!o)},{className:"documentation-tab__add-existing-documentation",buttonType:"outline",action:"add_existing",name:"Add existing documentation",isDisabled:s||t,hasPermission:n,tooltip:this.getDisabledText("add_existing",s||t,!n)}]}addRelation(e){return this.props.model.documentations.addRelation(e).then((e=>{V.get(this.props,"promoteTab")&&V.isFunction(this.props.promoteTab)&&this.props.promoteTab(),e&&this.handleToggleAddEntityModal()}))}isLoggedIn(){return(0,b.resolveStoreInstance)(y.default).isLoggedIn}handleOptionSelect(e){if(!this.isLoggedIn())return pm.mediator.trigger("showSignInModal",{type:"addDocumentation",origin:"api_builder_add_documentation_button",continueUrl:new URL(window.location.href)});"create_new"===e?this.openCreateDocumentationModal():this.handleToggleAddEntityModal()}getDisabledText(e,t,n){if(!t)return;const o=V.get(this.props,"model.isAPIDeleted")&&E.DELETED_API_DISABLED_TEXT;if("create_new"===e&&!n){if(!V.get(this.props,"model.schema.content"))return"To create new documentation, add a schema in your API";if(!V.get(this.props,"model.schema.isSchemaValid"))return"Add a valid schema to create new documentation from it."}return(0,I.default)(t,n,o)}renderValidationButton(){if("network"===this.props.mode)return null;const e=V.get(this.store,"activeCollectionId"),t=V.get(this.props.model,"documentations.relations"),n=V.find(t,(t=>t.modelId===e));return i.createElement(C.default,{cellInfo:n&&n.validation,entity:n,canValidateRelation:V.get(this.props,"model.apiPermissionStore.canValidateAPIRelation"),apiEditorUIStore:this.props.model.apiEditorUIStore,store:this.props.model.documentations,promoteTab:V.get(this.props,"promoteTab"),isAPIDeleted:V.get(this.props,"model.isAPIDeleted")})}renderEmptyDocumentationStateForBuildMode(){let e;return this.store.isAPISchemaEmpty?e=i.createElement(i.Fragment,null,"As soon as a collection is linked or",i.createElement(_.default,{to:M.SCHEMA_DOCUMENTATION_LINK,target:"_blank"},i.createElement(d.default,{type:"link-default"},"supported definition")),"is added ",i.createElement("br",null),"the documentation will appear here."):this.store.isOpenAPI3Schema||(e=i.createElement(i.Fragment,null,i.createElement(d.default,{type:"para",hasBottomSpacing:!0},"Documentation for the current API specification format is not supported at this time.",i.createElement(_.default,{to:M.SCHEMA_DOCUMENTATION_LINK,target:"_blank"},i.createElement(d.default,{type:"link-default"},"Learn more")),"about supported specifications."),"Alternatively, if a collection is linked, the documentation will show up here.")),i.createElement(f.EmptyDocumentationState,{illustration:i.createElement(u.default,null),heading:L.EMPTY_STATE_API_DOC_TITLE,description:e},Array.isArray(this.getAddDocumentationOptions())&&this.getAddDocumentationOptions().map((e=>i.createElement(p.default,{key:e.name,type:e.buttonType,className:e.className,text:e.name,onClick:()=>this.handleOptionSelect(e.action),isDisabled:e.isDisabled,tooltip:e.tooltip}))),i.createElement(k.default,{apiId:V.get(this.props.model,"documentations.apiId"),isOpen:this.state.showCreateDocumentationModal,onClose:this.closeCreateDocumentationModal,onCreate:this.handleCreate,schemaFormat:V.get(this.props,"model.schema.schemaFormat"),advancedOptions:V.get(this.props,"model.schema.advancedOptions")}),this.state.showAddEntityModal&&i.createElement(h.default,{apiId:V.get(this.props.model,"documentations.apiId"),apiVersionId:V.get(this.props.model,"documentations.versionId"),isOpen:this.state.showAddEntityModal,title:"Add a documentation to this API",type:"documentation",label:"Select documentation",buttonLabel:"Add Documentation",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,getEntities:z,isLoadingAddRelation:V.get(this.props.model,"documentations.isLoadingAddRelation"),placeholder:"Select a documentation",emptyStateText:"There are no collections in this workspace"}))}renderEmptyDocumentationState(e){switch(e){case S.BUILD_MODE:return this.renderEmptyDocumentationStateForBuildMode();case S.NETWORK_MODE:return i.createElement(f.EmptyDocumentationState,{illustration:i.createElement(m.default,null),heading:"",description:i.createElement(d.default,{color:"content-color-secondary"},"No documentation added.")});default:return null}}render(){if(this.store.isAPISchemaLoading||this.store.isOperationsLoading)return i.createElement(c.default,null);const e=V.get(this.props.model,"documentations.relations",[]);if(!e.length&&!this.store.showSchemaDocumentation)return this.renderEmptyDocumentationState(this.props.mode);const t=this.store.showSchemaDocumentation||this.store.activeCollectionId?"":V.head(V.map(V.orderBy(e,"createdAt"),"modelId")),n=V.get(this.props.model.schema,"schemaId");return i.createElement("div",{className:"documentation-tab-wrapper"},i.createElement("div",{className:"documentation-tab-sidebar"},i.createElement(P.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove documentation from API?",subTitle:V.get(this.props.model,"documentations.apiName"),content:i.createElement(F.default,{type:"relation",relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"documentation"}}),btnContent:"Remove Documentation",onSubmit:this.handleDeleteRelation,isLoading:this.state.isLoadingDeleteRelation}),i.createElement(O.default,{title:V.get(this.store,"title"),apiVersionId:V.get(this.props.model,"id"),isOpenAPI3Schema:V.get(this.store,"isOpenAPI3Schema",!0),handleCreate:this.handleCreate,tabProps:this.props,addRelation:this.addRelation,store:this.store,updateShowSchemaDocumentationState:this.store.updateShowSchemaDocumentationState.bind(this.store),updateActiveCollectionId:this.store.updateActiveCollectionId.bind(this.store),activeDocumentationId:t||(this.props.model.activeDocumentation?this.props.model.activeDocumentation.modelId:""),reloadAPIDocumentation:this.store.reloadAPIDocumentation,schemaFolders:this.store.getSchemaFolders(),isSchemaNotInSync:this.store.isSchemaNotInSync,isInvalidYamlOrJson:V.get(this.store,"isInvalidYamlOrJson"),isErrorState:this.store.isErrorState,canUpdateSchema:this.canUpdateSchema(),mode:this.props.mode,showAddEntityModal:this.state.showAddEntityModal,toggleShowAddEntityModal:this.handleToggleAddEntityModal,isLoadingAddRelation:V.get(this.props.model,"documentations.isLoadingAddRelation"),getActionsMenuItems:this.getActionsMenuItems,onActionsDropdownSelect:this.handleDropdownActionSelect,canCreateNewDocumentation:Array.isArray(this.getAddDocumentationOptions())&&this.getAddDocumentationOptions()[0]&&!this.getAddDocumentationOptions()[0].isDisabled,canCreateNewDocumentationTooltip:Array.isArray(this.getAddDocumentationOptions())&&this.getAddDocumentationOptions()[0]&&this.getAddDocumentationOptions()[0].tooltip,canAddExistingDocumentation:Array.isArray(this.getAddDocumentationOptions())&&this.getAddDocumentationOptions()[1]&&!this.getAddDocumentationOptions()[1].isDisabled,canAddExistingDocumentationTooltip:Array.isArray(this.getAddDocumentationOptions())&&this.getAddDocumentationOptions()[1]&&this.getAddDocumentationOptions()[1].tooltip,model:this.props.model,parentId:`documentation-tab-content-api-builder-${n}`,showSchemaDocumentation:this.store.showSchemaDocumentation})),i.createElement("div",{className:r()({"documentation-tab-content":!0,"documentation-tab-content__network":"network"===this.props.mode&&this.store.showSchemaDocumentation}),id:`documentation-tab-content-api-builder-${n}`},this.store.showSchemaDocumentation?i.createElement(A.default,{schemaId:`api-builder-${n}`,store:this.store,title:V.get(this.store,"title"),description:V.get(this.store,"description"),version:V.get(this.store,"version"),apiVersionId:V.get(this.props.model,"id"),servers:V.get(this.store,"servers"),operations:V.get(this.store,"operations"),activeEnvironmentVariables:V.get(this.store,"activeEnvironmentVariables"),schemaFolders:this.store.getSchemaFolders(),isErrorState:this.store.isErrorState,errorType:this.store.errorType,canUpdateSchema:this.canUpdateSchema(),activeServerIdx:V.get(this.store,"activeServerIdx"),mode:this.props.mode,isSchemaNotInSync:this.store.isSchemaNotInSync,updateIsSchemaNotInSync:this.store.updateIsSchemaNotInSync.bind(this.store),dirtyWarningState:V.get(this.store,"dirtyWarningState"),validationWarningState:V.get(this.store,"validationWarningState"),updateDirtyWarningState:this.store.updateDirtyWarningState.bind(this.store),updateValidationWarningState:this.store.updateValidationWarningState.bind(this.store)}):i.createElement(l.default,{mode:this.props.mode,collectionId:V.get(this.store,"activeCollectionId"),isSideNavOverridden:!1,validateButton:this.renderValidationButton(),enableEditing:"network"!==this.props.mode})))}})||o;t.default=(0,R.withErrorBoundary)(H,B,U)},"./documentation/components/APIDocumentation/APIBuilder/LegacyDocumentationTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./documentation/components/APIDocumentation/APIDocumentation.js"),r=n("./api-dev/components/api/APIEditors/APIEditor/APIEditorTopLoader.js"),l=n("./documentation/components/APIDocumentation/APIDocumentationDropdown/APIDocumentationDropdown.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoActivity.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("./documentation/components/APIDocumentation/CreateDocumentationEntityModal/CreateDocumentationEntityModal.js"),h=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),g=n("./js/modules/services/AnalyticsService.js"),f=n("../../packages/documentation/documentation-core/index.js"),b=n("./js/stores/StoreManager.js"),y=n("./js/stores/CurrentUserStore.js"),v=n("./js/stores/SyncStatusStore.js"),I=n("./api-dev/util/TooltipText.js"),E=n("./api-dev/constants/Permissions.js"),_=n("./appsdk/components/link/Link.js"),S=n("./api-dev/constants/APITabModes.js"),C=n("./api-dev/components/api-version/common/ValidationButton/ValidationButton.js"),T=n("./api-dev/constants/ExternalLinks.js"),j=n("./api-dev/services/APIDevService.js"),A=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),w=n("./node_modules/lodash/lodash.js");async function O(){const e=await(0,j.getWorkspaceId)(),t=await(0,A.getMeta)(e);return w.chain(t).get("list").map((e=>w.pick(e,["id","name","forkLabel"]))).value()}let N=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={activeDocumentation:"",showCreateDocumentationModal:!1,showAddEntityModal:!1},this.switchActiveDocumentation=this.switchActiveDocumentation.bind(this),this.openCreateDocumentationModal=this.openCreateDocumentationModal.bind(this),this.closeCreateDocumentationModal=this.closeCreateDocumentationModal.bind(this),this.addRelation=this.addRelation.bind(this),this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.handleCreate=this.handleCreate.bind(this),this.renderValidationButton=this.renderValidationButton.bind(this)}switchActiveDocumentation(e){this.props.model.setActiveDocumentation(e),this.setState({activeDocumentation:e})}closeCreateDocumentationModal(){this.setState({showCreateDocumentationModal:!1})}handleCreate(e){return g.default.addEventV2({category:"documentation",action:"confirm_create",label:"create_documentation_from_schema",value:1,entityId:w.get(this.props,"model.documentations.apiId")}),w.get(this.props.model,"schema.isSchema")?Object.assign(e,{schemaId:w.get(this.props.model,"schema.schemaId")}):Object.assign(e,{apiDefinitionId:w.get(this.props.model,"schema.apiDefinitionId")}),w.get(this.props,"promoteTab")&&w.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.documentations.createAndAddRelationToAPIVersion(e)}openCreateDocumentationModal(){g.default.addEventV2({category:"documentation",action:"initiate_create",label:"api_develop",value:1,entityId:w.get(this.props,"model.documentations.apiId")}),this.setState({showCreateDocumentationModal:!0})}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal})}getAddDocumentationOptions(){const e=!(0,b.resolveStoreInstance)(v.default).isSocketConnected,t=w.get(this.props,"model.isAPIDeleted"),n=this.props.model.apiPermissionStore.canAddDocumentation,o=w.get(this.props,"model.apiPermissionStore.canGenerateCollection"),s=e||!n;return[{className:"documentation-tab__generate-documentation",buttonType:"primary",action:"create_new",name:"Create documentation",isDisabled:e||!o||!w.get(this.props,"model.schema.content")||!w.get(this.props,"model.schema.isSchemaValid")||t,hasPermission:o},{className:"documentation-tab__add-existing-documentation",buttonType:"outline",action:"add_existing",name:"Add existing documentation",isDisabled:s||t,hasPermission:n}]}addRelation(e){return this.props.model.documentations.addRelation(e).then((e=>{w.get(this.props,"promoteTab")&&w.isFunction(this.props.promoteTab)&&this.props.promoteTab(),e&&this.handleToggleAddEntityModal()}))}isLoggedIn(){return(0,b.resolveStoreInstance)(y.default).isLoggedIn}handleOptionSelect(e){if(!this.isLoggedIn())return pm.mediator.trigger("showSignInModal",{type:"addDocumentation",origin:"api_builder_add_documentation_button",continueUrl:new URL(window.location.href)});"create_new"===e?this.openCreateDocumentationModal():this.handleToggleAddEntityModal()}getDisabledText(e,t,n){if(!t)return;const o=w.get(this.props,"model.isAPIDeleted")&&E.DELETED_API_DISABLED_TEXT;if("create_new"===e&&!n){if(!w.get(this.props,"model.schema.content"))return"To create new documentation, add a schema in your API";if(!w.get(this.props,"model.schema.isSchemaValid"))return"Add a valid schema to create new documentation from it."}return(0,I.default)(t,n,o)}renderValidationButton(){return"network"===this.props.mode?null:i.createElement(C.default,{cellInfo:w.get(this.state,"activeDocumentation.validation"),entity:this.state.activeDocumentation,canValidateRelation:w.get(this.props,"model.apiPermissionStore.canValidateAPIRelation"),apiEditorUIStore:this.props.model.apiEditorUIStore,store:this.props.model.documentations,promoteTab:w.get(this.props,"promoteTab"),isAPIDeleted:w.get(this.props,"model.isAPIDeleted")})}renderEmptyDocumentationStateForBuildMode(){return this.state.activeDocumentation&&this.switchActiveDocumentation(null),i.createElement(f.EmptyDocumentationState,{illustration:i.createElement(c.default,null),heading:"Increase your API adoption",description:i.createElement("div",null,"Add documentation to make your API easier to understand and use. Learn more about",i.createElement(_.default,{to:T.LEARN_ABOUT_DOCUMENTATION_LINK,target:"_blank"},i.createElement("u",null,"documentation")))},this.getAddDocumentationOptions().map((e=>i.createElement(d.default,{key:e.name,type:e.buttonType,className:e.className,text:e.name,onClick:()=>this.handleOptionSelect(e.action),isDisabled:e.isDisabled,tooltip:this.getDisabledText(e.action,e.isDisabled,!e.hasPermission)}))),i.createElement(m.default,{apiId:w.get(this.props.model,"documentations.apiId"),isOpen:this.state.showCreateDocumentationModal,onClose:this.closeCreateDocumentationModal,onCreate:this.handleCreate,schemaFormat:w.get(this.props,"model.schema.schemaFormat"),advancedOptions:w.get(this.props,"model.schema.advancedOptions")}),this.state.showAddEntityModal&&i.createElement(h.default,{apiId:w.get(this.props.model,"documentations.apiId"),apiVersionId:w.get(this.props.model,"documentations.versionId"),isOpen:this.state.showAddEntityModal,title:"Add a documentation to this API",type:"documentation",label:"Select documentation",buttonLabel:"Add Documentation",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,getEntities:O,isLoadingAddRelation:w.get(this.props.model,"documentations.isLoadingAddRelation"),placeholder:"Select a documentation",emptyStateText:"There are no collections in this workspace"}))}renderEmptyDocumentationState(e){switch(e){case S.BUILD_MODE:return this.renderEmptyDocumentationStateForBuildMode();case S.NETWORK_MODE:return i.createElement(f.EmptyDocumentationState,{illustration:i.createElement(u.default,null),heading:"",description:i.createElement(p.default,{color:"content-color-secondary"},"No documentation added.")});default:return null}}render(){const e=w.get(this.props.model,"documentations.relations"),t=w.get(this.state,"activeDocumentation.modelId");return w.get(this.props.model,"documentations.isRelationLoaded")?e.length?(e.length>0&&!this.state.activeDocumentation&&this.switchActiveDocumentation(w.get(this.props.model,"documentations.relations.0")),this.props.model.activeDocumentation&&this.state.activeDocumentation!==this.props.model.activeDocumentation&&this.switchActiveDocumentation(this.props.model.activeDocumentation),i.createElement("div",{className:"network"===this.props.mode?"":"documentation-tab-wrapper-legacy"},i.createElement(a.default,{mode:this.props.mode,collectionId:t,collectionDropdown:i.createElement(l.default,{mode:this.props.mode,activeCollection:this.state.activeDocumentation,entities:e,onClick:e=>this.switchActiveDocumentation(e),model:this.props.model,promoteTab:this.props.promoteTab}),validateButton:this.renderValidationButton(),enableEditing:"network"!==this.props.mode,isLegacyDocumentation:!0}))):this.renderEmptyDocumentationState(this.props.mode):i.createElement(r.default,null)}})||o},"./documentation/components/APIDocumentation/APIDocumentation.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("./documentation/constants.js"),i=n("./documentation/controllers/APIDocumentationController.js"),a=n("./documentation/components/entity/APIDocumentationTab/index.js"),r=n("./api-dev/interfaces/APIInterface.js"),l=n("./node_modules/lodash/lodash.js");class c extends o.Component{constructor(e){super(e),this.state={controller:null}}async componentDidMount(){var e;let t;var n;"version"===(null===(e=this.props.mode)||void 0===e?void 0:e.name)&&(t=await(0,r.getAPILinkedEntityTag)(this.props.apiId,null===(n=this.props.mode)||void 0===n?void 0:n.value,"collection",this.props.collectionId));if(this.props.collectionId){const e=t?new i.default(this.props.collectionId,t,this.props.mode):new i.default(this.props.collectionId,s.DOCUMENTATION_LATEST_VERSION_STRING,this.props.mode);this.setController(e)}}async componentDidUpdate(e){const t=["collectionId","mode","customEnvironmentVariables"];if(!l.isEqual(l.pick(e,t),l.pick(this.props,t))){var n;let e;var o;if("version"===(null===(n=this.props.mode)||void 0===n?void 0:n.name))e=await(0,r.getAPILinkedEntityTag)(this.props.apiId,null===(o=this.props.mode)||void 0===o?void 0:o.value,"collection",this.props.collectionId);const t=e?new i.default(this.props.collectionId,e,this.props.mode):new i.default(this.props.collectionId,s.DOCUMENTATION_LATEST_VERSION_STRING,this.props.mode);this.setController(t)}}componentWillUnmount(){l.get(this.state,"controller.detachTrackedState")&&this.state.controller.detachTrackedState()}setController(e){this.props.customEnvironmentVariables&&e.store.masterStore.setEnvironmentVariable(this.props.customEnvironmentVariables),this.setState({controller:e})}render(){const{validateButton:e,mode:t,isSideNavOverridden:n,environmentDropdown:s}=this.props;return o.createElement(o.Fragment,null,this.state.controller?o.createElement("div",{className:"api-documentation-wrapper",id:"api-documentation-container"},o.createElement(a.default,{controller:this.state.controller,environmentDropdown:s,validateButton:e,enableEditing:l.get(this.props,"enableEditing",!0),mode:t,isSideNavOverridden:n})):o.createElement(o.Fragment,null))}}},"./documentation/components/APIDocumentation/APIDocumentationDropdown/APIDocumentationDropdown.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./js/components/base/Buttons.js"),r=n("./js/components/base/Dropdowns.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),d=n("./api-dev/components/api-version/common/RemoveEntity/RemoveEntity.tsx"),u=n("./js/stores/StoreManager.js"),p=n("./js/stores/CurrentUserStore.js"),m=n("./js/stores/SyncStatusStore.js"),h=n("./api-dev/components/common/DeleteModal/DeleteModal.js"),g=n("./documentation/components/APIDocumentation/CreateDocumentationEntityModal/CreateDocumentationEntityModal.js"),f=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),b=n("./js/modules/services/AnalyticsService.js"),y=n("./api-dev/services/APIDevService.js"),v=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),I=n("./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx"),E=n("./node_modules/lodash/lodash.js");async function _(){const e=await(0,y.getWorkspaceId)(),t=await(0,v.getMeta)(e);return E.chain(t).get("list").map((e=>E.pick(e,["id","name","forkLabel"]))).value()}let S=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={isOpen:!1,showCreateDocumentationModal:!1,relationToBeDeleted:null,showDeleteModal:!1},this.switchCollection=this.switchCollection.bind(this),this.toggleDropdownArrowIcon=this.toggleDropdownArrowIcon.bind(this),this.openCreateDocumentationModal=this.openCreateDocumentationModal.bind(this),this.closeCreateDocumentationModal=this.closeCreateDocumentationModal.bind(this),this.handleToggleAddEntityModal=this.handleToggleAddEntityModal.bind(this),this.handleCreate=this.handleCreate.bind(this),this.addRelation=this.addRelation.bind(this),this.handleRemove=this.handleRemove.bind(this),this.handleDeleteRelation=this.handleDeleteRelation.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.handleOptionSelect=this.handleOptionSelect.bind(this),this.getDocumentationTabNavigationObject=this.getDocumentationTabNavigationObject.bind(this),this.isActiveDocumentation=this.isActiveDocumentation.bind(this)}isLoggedIn(){return(0,u.resolveStoreInstance)(p.default).isLoggedIn}addRelation(e){return this.props.model.documentations.addRelation(e).then((e=>{E.get(this.props,"promoteTab")&&E.isFunction(this.props.promoteTab)&&this.props.promoteTab(),e&&this.handleToggleAddEntityModal()}))}handleToggleAddEntityModal(){this.setState({showAddEntityModal:!this.state.showAddEntityModal})}handleCreate(e){return b.default.addEventV2({category:"documentation",action:"confirm_create",label:"create_documentation_from_schema",value:1,entityId:E.get(this.props,"model.documentations.apiId")}),E.get(this.props.model,"schema.isSchema")?Object.assign(e,{schemaId:E.get(this.props.model,"schema.schemaId")}):Object.assign(e,{apiDefinitionId:E.get(this.props.model,"schema.apiDefinitionId")}),E.get(this.props,"promoteTab")&&E.isFunction(this.props.promoteTab)&&this.props.promoteTab(),this.props.model.documentations.createAndAddRelationToAPIVersion(e)}closeCreateDocumentationModal(){this.setState({showCreateDocumentationModal:!1})}toggleDeleteModal(){this.setState((e=>({showDeleteModal:!e.showDeleteModal})))}handleRemove(e){this.setState({relationToBeDeleted:e}),this.toggleDeleteModal()}handleDeleteRelation(){return this.props.model.documentations.deleteRelation(this.state.relationToBeDeleted).then((e=>{e&&this.toggleDeleteModal(),this.props.model.documentations.getAllRelations().then((()=>{this.props.onClick(E.get(this.props.model,"documentations.relations.0"))}))}))}getDocumentationTabNavigationObject(e){return{routeIdentifier:"documentation.openWithWsSelect",routeParams:{collectionUid:e}}}openCreateDocumentationModal(){b.default.addEventV2({category:"documentation",action:"initiate_create",label:"api_develop",value:1,entityId:E.get(this.props,"model.documentations.apiId")}),this.setState({showCreateDocumentationModal:!0})}handleOptionSelect(e){return"create_new"!=e&&"add_existing"!=e?this.switchCollection(e):this.isLoggedIn()?void("create_new"===e?this.openCreateDocumentationModal():this.handleToggleAddEntityModal()):pm.mediator.trigger("showSignInModal",{type:"addDocumentation",origin:"api_builder_add_documentation_button",continueUrl:new URL(window.location.href)})}getConfigurations(){return{build:{itemActions:e=>i.createElement(d.default,{entity:e,onRemoveEntity:this.handleRemove,canRemoveEntity:E.get(this.props.model,"apiPermissionStore.canRemoveDocumentation"),isSmall:!0}),extraActions:()=>{const e=!(0,u.resolveStoreInstance)(m.default).isSocketConnected,t=E.get(this.props,"model.isAPIDeleted"),n=E.get(this.props.model,"apiPermissionStore.canAddDocumentation"),o=e||!n;return[{action:"create_new",name:"Create new documentation",isDisabled:o||!E.get(this.props,"model.schema.content")||!E.get(this.props,"model.schema.isSchemaValid")||t,hasPermission:n},{action:"add_existing",name:"Add existing documentation",isDisabled:o||t,hasPermission:n}]},isActiveDocumentation:(e,t)=>E.get(e,"modelId")===E.get(t,"modelId"),modals:i.createElement(i.Fragment,null,i.createElement(h.default,{isOpen:this.state.showDeleteModal,onRequestClose:this.toggleDeleteModal,headerTitle:"Remove documentation from API?",subTitle:E.get(this.props.model,"documentations.apiName"),content:i.createElement(I.default,{type:"relation",relation:{name:this.state.relationToBeDeleted?this.state.relationToBeDeleted.name:"",type:"documentation"}}),btnContent:"Remove Documentation",onSubmit:this.handleDeleteRelation,isLoading:E.get(this.props.model,"documentations.isLoadingDeleteRelation")}),i.createElement(g.default,{apiId:E.get(this.props.model,"documentations.apiId"),isOpen:this.state.showCreateDocumentationModal,onClose:this.closeCreateDocumentationModal,onCreate:this.handleCreate,schemaFormat:E.get(this.props,"model.schema.schemaFormat"),advancedOptions:E.get(this.props,"model.schema.advancedOptions")}),this.state.showAddEntityModal&&i.createElement(f.default,{apiId:E.get(this.props.model,"documentations.apiId"),apiVersionId:E.get(this.props.model,"documentations.versionId"),isOpen:this.state.showAddEntityModal,getEntities:_,title:"Add API documentation",type:"documentation",label:"Select documentation",buttonLabel:"Add Documentation",onAdd:this.addRelation,onCancel:this.handleToggleAddEntityModal,isLoadingAddRelation:E.get(this.props.model,"documentations.isLoadingAddRelation"),placeholder:"Select documentation",emptyStateText:"There are no collections in this workspace"}))},network:{itemActions:()=>!0,extraActions:()=>!0,isActiveDocumentation:(e,t)=>E.get(e,"modelId")===E.get(t,"modelId")},view:{itemActions:()=>!0,extraActions:()=>!0,isActiveDocumentation:(e,t)=>E.get(e,"entityId")===E.get(t,"entityId")}}}closeCreateDocumentationModal(){this.setState({showCreateDocumentationModal:!1})}switchCollection(e){this.props.onClick(e)}toggleDropdownArrowIcon(){this.setState((e=>({isOpen:!e.isOpen})))}isActiveDocumentation(e){return this.getConfigurations()[this.props.mode].isActiveDocumentation(e,this.props.activeCollection)?"is-selected":""}render(){const e=this.getConfigurations(),t=E.get(this.props,"activeCollection.name"),n=E.get(this.props.model,"apiPermissionStore.canAddDocumentation");return i.createElement(i.Fragment,null,i.createElement(r.Dropdown,{ref:"menu",onSelect:e=>this.handleOptionSelect(e),className:"api-documentation-dropdown",onToggle:this.toggleDropdownArrowIcon},i.createElement(r.DropdownButton,{dropdownStyle:"nocaret",type:"custom"},i.createElement(l.default,{type:"body-medium",color:"content-color-secondary"},"Collection"),i.createElement(a.Button,{className:"api-documentation-dropdown-button"},i.createElement(l.default,{isTruncated:!0,type:"body-medium",color:"content-color-primary",className:"api-documentation-dropdown__active-entity"},t),i.createElement("span",{ref:e=>this.versionOpenArrowRef=e,className:"api-documentation-dropdown-button-icon"},this.state.isOpen?i.createElement(c.default,{name:"icon-direction-up"}):i.createElement(c.default,{name:"icon-direction-down"})))),i.createElement(r.DropdownMenu,null,E.map(this.props.entities,(t=>i.createElement(r.MenuItem,{className:`api-documentation-dropdown-menu-item ${this.isActiveDocumentation(t)}`,refKey:t,key:t.id},i.createElement("div",{className:"api-documentation-item"},i.createElement(l.default,{isTruncated:!0,type:"body-medium"},E.get(t,"name"))),i.createElement("span",{className:"api-documentation-dropdown__more-actions"},e[this.props.mode].itemActions(t))))),n&&i.createElement("div",{className:"api-documentation-dropdown__divider"}),n&&E.map(e[this.props.mode].extraActions(),(e=>i.createElement(r.MenuItem,{className:"api-documentation-dropdown-menu-item",refKey:e.action,key:e.action,disabled:e.isDisabled},i.createElement("div",{className:"api-documentation-item"},e.name)))))),e[this.props.mode].modals)}})||o},"./documentation/components/APIDocumentation/CreateDocumentationEntityModal/CreateDocumentationEntityModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("./js/components/base/LoadingIndicator.js"),d=n("./js/components/base/Buttons.js"),u=n("./js/components/base/Inputs.js"),p=n("./js/components/base/Modals.js"),m=n("./api-dev/components/common/GenerationConfigOptions/GenerationConfigOptions.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/SyncStatusStore.js"),f=n("./js/external-navigation/ExternalNavigationService.js"),b=n("./api-dev/util/getConfigurationOptions.js"),y=n("./js/constants/AppUrlConstants.js"),v=n("./appsdk/components/link/Link.js"),I=n("./js/modules/services/ManageRolesModalService.js"),E=n("./node_modules/lodash/lodash.js");let _=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={collectionName:"",isCreating:!1,schemaFormat:"",generationOptions:[],optionsPreferences:{}},this.hydrateConfigOptions=this.hydrateConfigOptions.bind(this),this.handleOptionsChange=this.handleOptionsChange.bind(this),this.handleCollectionNameChange=this.handleCollectionNameChange.bind(this),this.handleCreate=this.handleCreate.bind(this),this.handleClose=this.handleClose.bind(this),this.renderContent=this.renderContent.bind(this)}renderContent(){return s.createElement("div",{className:"create-documentation-entity-wrapper"},s.createElement("div",{className:"intro-content-wrapper"},s.createElement("div",{className:"intro-title"},"Create a collection to document your API from the schema."),"Learn how to "," ",s.createElement(a.default,{type:"link-default"},s.createElement(v.default,{to:y.API_GENERATING_COLLECTION_FROM_SCHEMA,target:"_blank"},"generate collections from schema"))),s.createElement("div",{className:"collection-name-input-wrapper"},s.createElement("div",{className:"collection-name-input-header"},"Name your collection"),s.createElement("div",{className:"collection-name-input"},s.createElement(u.Input,{inputStyle:"box",ref:"collectionName",onChange:this.handleCollectionNameChange,value:this.state.collectionName,placeholder:"e.g. Payment API"}))),s.createElement(m.default,{options:this.state.generationOptions,preferences:this.state.optionsPreferences,onOptionsChange:this.handleOptionsChange}))}componentDidMount(){this.focusInput()}componentDidUpdate(e){this.props.isOpen&&this.props.isOpen!==e.isOpen&&(this.focusInput(),this.hydrateConfigOptions())}focusInput(){E.invoke(this.refs,"collectionName.focus")}hydrateConfigOptions(){let e=this.props.schemaFormat,t=this.props.advancedOptions;e&&!E.isEmpty(t)&&(t=(0,b.checkAndOverrideDefaultValue)(e,t),this.setState({schemaFormat:e.id,generationOptions:t,optionsPreferences:pm.settings.getSetting(`import.options.${e.id}`)||{}}))}openLearnMoreLink(e){e&&(0,f.openExternalLink)(e,"_blank")}handleCollectionNameChange(e){this.setState({collectionName:e})}handleOptionsChange(e){this.setState({optionsPreferences:e}),pm.settings.setSetting(`import.options.${this.state.schemaFormat}`,e)}handleCreate(){let e={configurations:{converter:{...this.state.optionsPreferences},collection:{name:this.state.collectionName}}};return this.setState({isCreating:!0}),this.props.onCreate(e).then((()=>{this.handleClose()})).catch((()=>{this.setState({isCreating:!1})}))}handleClose(){this.setState({collectionName:"",isCreating:!1,schemaFormat:"",generationOptions:[]}),E.invoke(this.props,"onClose")}applyCustomStyle(){return{margin:"auto",height:"60vh",maxHeight:"580px",minHeight:"580px",width:"700px"}}getPrimaryActionTooltip(e){return e?"Get online to perform this action":this.state.collectionName?void 0:"Give the collection a name to continue"}render(){const e=!(0,h.resolveStoreInstance)(g.default).isSocketConnected,t=e||!this.state.collectionName||this.state.isCreating,n=this.getPrimaryActionTooltip(e);return s.createElement(p.Modal,{className:"create-documentation-entity-modal",isOpen:this.props.isOpen,onRequestClose:this.handleClose,customStyles:this.applyCustomStyle()},s.createElement(p.ModalHeader,null,"Create documentation"),s.createElement(p.ModalContent,null,s.createElement(r.default,{direction:"column",width:"100%",justifyContent:"space-between",height:"100%",gap:"spacing-l"},this.renderContent(),s.createElement(a.default,null,"Note: This API documentation collection will inherit roles from the API. "," ",s.createElement(l.default,{onClick:()=>(0,I.manageRolesOnAPI)(this.props.apiId),type:"monochrome-plain",text:"View API roles"})))),s.createElement(p.ModalFooter,null,s.createElement("div",{className:"actions"},s.createElement(d.Button,{className:"action-button__cancel",type:"secondary",onClick:this.handleClose},"Cancel"),s.createElement(d.Button,{className:"action-button__generate",type:"primary",onClick:this.handleCreate,disabled:t,tooltip:n},this.state.isCreating?s.createElement(c.default,null):"Create Documentation"))))}})||o},"./documentation/components/APIDocumentation/DocumentationTabSidebar/DocumentationTabSidebar.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-api-stroke.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-collection-stroke.js"),m=n("./documentation/components/APIDocumentation/DocumentationTabSidebar/DocumentationTabSidebarItem.js"),h=n("./documentation/components/APIDocumentation/CreateDocumentationEntityModal/CreateDocumentationEntityModal.js"),g=n("./api-dev/components/api-version/common/AddEntityModal/AddEntityModal.js"),f=n("./documentation/utils/utils.js"),b=n("./documentation/constants.js"),y=n("./node_modules/nanoid/index.prod.js"),v=n("./api-dev/services/APIDevService.js"),I=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),E=n("./js/modules/services/AnalyticsService.js"),_=n("./api-dev/constants/ExternalLinks.js"),S=n("./appsdk/components/link/Link.js"),C=n("./node_modules/lodash/lodash.js");async function T(){const e=await(0,v.getWorkspaceId)(),t=await(0,I.getMeta)(e);return C.chain(t).get("list").map((e=>C.pick(e,["id","name","forkLabel"]))).value()}class j extends o.Component{constructor(e){super(e),this.handleRefresh=()=>{const{apiId:e,id:t,schema:n}=this.props.model;this.props.reloadAPIDocumentation&&this.props.reloadAPIDocumentation(e,t,n),E.default.addEventV2({category:b.DOCUMENTATION_ANALYTICS.CATEGORY,action:"refresh",label:(0,f.getClientEventLabelForSchemaDocumentation)(this.props.mode,this.props.isReleaseDoc),entityType:"api_version",entityId:this.props.apiVersionId})},this.state={showCreateDocumentationModal:!1,showAddEntityModal:!1},this.handleCreateToggle=this.handleCreateToggle.bind(this),this.handleAddExistingToggle=this.handleAddExistingToggle.bind(this),this.handleSidebarClick=this.handleSidebarClick.bind(this),this.handleEntityClick=this.handleEntityClick.bind(this),this.handleSchemaEntityClick=this.handleSchemaEntityClick.bind(this)}componentDidMount(){const{activeDocumentationId:e,updateShowSchemaDocumentationState:t,updateActiveCollectionId:n}=this.props;C.isEmpty(e)?t(!0):n(e)}componentDidUpdate(e){e.activeDocumentationId===this.props.activeDocumentationId||C.isEmpty(this.props.activeDocumentationId)||this.props.updateActiveCollectionId(this.props.activeDocumentationId)}handleEntityClick(e,t){e&&t&&(0,f.scrollToId)(`renderInViewport-${e}-${t}`,document)}handleSchemaEntityClick(e,t,n){(0,f.scrollToId)(`operation-overview-${t&&t.replace(/[./]/g,"-")}`,document.getElementById(this.props.parentId)),E.default.addEventV2({category:b.DOCUMENTATION_ANALYTICS.CATEGORY,action:"navigate",label:(0,f.getClientEventLabelForSchemaDocumentation)(this.props.mode,this.props.isReleaseDoc),entityType:e===b.DOCUMENTATION_ENTITY.FOLDER?"api_path":"api_operation",entityId:this.props.apiVersionId})}handleCreateToggle(){this.setState({showCreateDocumentationModal:!this.state.showCreateDocumentationModal})}handleAddExistingToggle(){this.props.toggleShowAddEntityModal()}handleSidebarClick(e,t){const{updateShowSchemaDocumentationState:n,updateActiveCollectionId:o}=this.props;t?(n(t),document.getElementById(this.props.parentId)&&(document.getElementById(this.props.parentId).scrollTop=0,document.getElementById(this.props.parentId).scrollLeft=0)):(C.isFunction(this.props.model.setActiveDocumentation)&&this.props.model.setActiveDocumentation(e),o(this.props.isReleaseDoc?C.get(e,"entityId"):C.get(e,"modelId")))}render(){const{title:e,handleCreate:t,addRelation:n,tabProps:f,store:v,schemaFolders:I,disableEditing:E,isReleaseDoc:j,showAddEntityModal:A,isLoadingAddRelation:w,isOpenAPI3Schema:O,isInvalidYamlOrJson:N,showSchemaDocumentation:D}=this.props,R=v.isAPISchemaEmpty,P=R||!O,M=j?C.get(f.model,"activeRelease.entities.documentations",[]):C.get(f.model,"documentations.relations",[]);let L;return R?L=o.createElement(s.default,{type:"para",className:"documentation-tab-sidebar-empty-state"},"No schema defined.",!j&&o.createElement(o.Fragment,null,"Add a definition to view the documentation here.",o.createElement(S.default,{to:_.SCHEMA_DOCUMENTATION_LINK,target:"_blank"},o.createElement(s.default,{type:"link-default"},"Learn more.")))):O||(L=o.createElement(s.default,{type:"para",className:"documentation-tab-sidebar-empty-state"},"Documentation for the current API specification format is not supported.",o.createElement(S.default,{to:_.SCHEMA_DOCUMENTATION_LINK,target:"_blank"},o.createElement(s.default,{type:"link-default"},"Learn more")),"about supported formats.")),o.createElement(o.Fragment,null,o.createElement(i.default,{justifyContent:"space-between",alignItems:"center",height:"32px"},o.createElement(s.default,{color:"content-color-primary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-bold",lineHeight:"line-height-xxl"},className:"documentation-tab-sidebar-heading"},"Schema Documentation"),"build"===this.props.mode?o.createElement(a.default,{type:"tertiary",icon:"icon-action-refresh-stroke",onClick:this.handleRefresh,className:"documentation-tab-sidebar-button"}):null),o.createElement(s.default,{type:"para",className:"schema-documentation-sidebar"},P?L:o.createElement(m.default,{name:N?"Couldnt load schema title":e,icon:o.createElement(u.default,{color:"content-color-primary"}),isSelected:v.showSchemaDocumentation,onClick:e=>this.handleSidebarClick("",!0),onEntityClick:this.handleEntityClick,onSchemaEntityClick:this.handleSchemaEntityClick,schemaFolders:I,showSchemaDocumentation:v.showSchemaDocumentation,isErrorState:this.props.isErrorState,isSchemaNotInSync:this.props.isSchemaNotInSync,mode:this.props.mode,canUpdateSchema:this.props.canUpdateSchema,dirtyWarningState:v.dirtyWarningState,validationWarningState:v.validationWarningState})),o.createElement("br",null),o.createElement(i.default,{justifyContent:"space-between",alignItems:"center",height:"32px"},o.createElement(s.default,{color:"content-color-primary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-bold",lineHeight:"line-height-xxl"},className:"documentation-tab-sidebar-heading"},"Collection Documentation"),!E&&"network"!==this.props.mode&&o.createElement(s.default,null,o.createElement(r.default,null,o.createElement(l.default,{isDisabled:!this.props.canCreateNewDocumentation&&!this.props.canAddExistingDocumentation,className:"documentation-tab-sidebar-button"},o.createElement(a.default,{isDisabled:!this.props.canCreateNewDocumentation&&!this.props.canAddExistingDocumentation,icon:"icon-action-add-stroke",type:"tertiary",tooltip:!this.props.canCreateNewDocumentation&&!this.props.canAddExistingDocumentation&&b.ADD_DOCUMENTATION_PERMISSION_ERROR,className:"documentation-tab-sidebar-button"})),o.createElement(c.default,null,o.createElement(d.default,{onClick:this.handleCreateToggle,isDisabled:!this.props.canCreateNewDocumentation,tooltip:this.props.canCreateNewDocumentationTooltip},"Create Documentation"),o.createElement(d.default,{onClick:this.handleAddExistingToggle,isDisabled:!this.props.canAddExistingDocumentation,tooltip:this.props.canAddExistingDocumentationTooltip},"Add Existing Documentation"))))),o.createElement(h.default,{apiId:C.get(f.model,"documentations.apiId"),isOpen:this.state.showCreateDocumentationModal,onClose:this.handleCreateToggle,onCreate:t,schemaFormat:C.get(f,"model.schema.schemaFormat"),advancedOptions:C.get(f,"model.schema.advancedOptions")}),o.createElement(g.default,{apiId:C.get(f.model,"documentations.apiId"),apiVersionId:C.get(f.model,"documentations.versionId"),isOpen:A,title:"Add a documentation to this API",type:"documentation",label:"Select documentation",buttonLabel:"Add Documentation",onAdd:n,onCancel:this.handleAddExistingToggle,isLoadingAddRelation:w,getEntities:T,placeholder:"Select a documentation",emptyStateText:"There are no collections in this workspace"}),(!M.length||0===M.length)&&("build"!==this.props.mode||E?o.createElement(s.default,{type:"para",className:"documentation-tab-sidebar-empty-state"},"No collections."):o.createElement(s.default,{type:"para",className:"documentation-tab-sidebar-empty-state"},"Create or add existing collection to this API to view its documentation.")),C.map(M,(e=>{const t=j?C.get(e,"entityId"):C.get(e,"modelId"),n=!D&&""!==v.activeCollectionId&&v.activeCollectionId===t;return o.createElement(m.default,{key:(0,y.nanoid)(6),icon:o.createElement(p.default,null),name:C.get(e,"name"),isSelected:n,onClick:t=>this.handleSidebarClick(e,!1),onEntityClick:this.handleEntityClick,onSchemaEntityClick:this.handleSchemaEntityClick,collectionId:t,showSchemaDocumentation:v.showSchemaDocumentation,isErrorState:this.props.isErrorState,moreActions:this.props.getActionsMenuItems?this.props.getActionsMenuItems():null,onActionsDropdownSelect:this.props.onActionsDropdownSelect?this.props.onActionsDropdownSelect.bind(this,e):null})})))}}},"./documentation/components/APIDocumentation/DocumentationTabSidebar/DocumentationTabSidebarItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-right.js"),c=n("./node_modules/lodash/lodash.js"),d=n.n(c),u=n("./js/containers/apps/requester/sidebar/SidebarListItem.js"),p=n("./documentation/components/APIDocumentation/DocumentationTabSidebar/CollectionDocumentationFolders.js"),m=n("./documentation/controllers/APIDocumentationController.js"),h=n("./documentation/constants.js"),g=n("./documentation/components/SchemaDocumentation/constants.js"),f=n("./documentation/utils/collection.js"),b=n("./api-dev/constants/APITabModes.js");let y=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.getStatusIndicators=()=>{const{mode:e,canUpdateSchema:t,dirtyWarningState:n,validationWarningState:o,isSchemaNotInSync:i,isErrorState:l}=this.props;if(l)return null;const c=e&&e===b.BUILD_MODE,d=e&&e===b.NETWORK_MODE,u=(o||i)&&(d||!t&&c);if(!((n||o||i)&&c&&t)&&!u)return null;let p;return this.props.dirtyWarningState?p=g.WARNING_TOOLTIP.DIRTY_STATE_SCHEMA:this.props.validationWarningState?p=u?g.WARNING_TOOLTIP.GENERIC_VIEWER_WARNING:g.WARNING_TOOLTIP.INVALID_SCHEMA:this.props.isSchemaNotInSync&&(p=u?g.WARNING_TOOLTIP.GENERIC_VIEWER_WARNING:g.WARNING_TOOLTIP.SCHEMA_NOT_IN_SYNC),s.createElement("span",{ref:this.tagRef,onMouseEnter:()=>this.setState({showWarningTooltip:!0}),onMouseLeave:()=>this.setState({showWarningTooltip:!1})},s.createElement(r.default,{name:"icon-state-warning-stroke-small",color:"base-color-warning",className:"doc-warning-icon"}),s.createElement(a.default,{isOpen:this.state.showWarningTooltip,triggerRef:this.tagRef.current,placement:"bottom",content:p}))},this.state={showTooltip:!1},this.tagRef=s.createRef()}renderFolderTree(){var e;const{collectionId:t,onEntityClick:n,onSchemaEntityClick:o,showSchemaDocumentation:i,schemaFolders:a,isErrorState:r}=this.props,l=!i&&new m.default(t,h.DOCUMENTATION_LATEST_VERSION_STRING,!0),c=null==l||null===(e=l.store)||void 0===e?void 0:e.entityData,u=Boolean(null==c?void 0:c.isLoading),g=null==c?void 0:c.data;if(!(d().isUndefined(i)||i&&r)){if(i&&d().isUndefined(t))return s.createElement(p.default,{data:a,onEntityClick:o,isSchemaDoc:!0});if(!u)return s.createElement(p.default,{data:(0,f.getNestedFoldersAndRequests)(g),onEntityClick:n})}}render(){const{name:e,icon:t,isSelected:n,onClick:o}=this.props;return s.createElement(s.Fragment,null,s.createElement(u.default,{icon:t||s.createElement(l.default,null),text:e,isSelected:n,onClick:o,statusIndicators:this.getStatusIndicators,moreActions:this.props.moreActions?this.props.moreActions:null,onActionsDropdownSelect:this.props.onActionsDropdownSelect,className:this.props.isInvalidYamlOrJson&&"schema-doc-invalid-yaml-json"}),n&&this.renderFolderTree())}})||o},"./documentation/components/APIDocumentation/ReleaseTab/DocumentationTab.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/mobx/lib/mobx.module.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/react/index.js"),r=n("./documentation/components/APIDocumentation/APIDocumentation.js"),l=n("./documentation/components/SchemaDocumentation/components/SchemaDocumentationLoader/index.js"),c=n("../../packages/documentation/documentation-core/index.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("./documentation/components/SchemaDocumentation/index.js"),m=n("./documentation/components/APIDocumentation/DocumentationTabSidebar/DocumentationTabSidebar.js"),h=n("./documentation/components/SchemaDocumentation/SchemaDocumentationStore.js"),g=n("../../packages/api-design/schema-service/index.js"),f=n("../../packages/documentation/mimir-editor/index.js"),b=n("../../packages/api-design/schema-editor/index.js"),y=n("./documentation/components/SchemaDocumentation/constants.js"),v=n("./node_modules/lodash/lodash.js");const I="Unable to load",E="Hit a snag while loading documentation. Please try again";let _=(0,i.observer)(o=class extends a.Component{constructor(e){super(e),this.store=new h.default,this.schemaEditorHelper=new b.SchemaEditorHelper,this.state={schema:{}}}componentDidMount(){this.getSchemaInfo(),(0,s.reaction)((()=>this.props.model.activeRelease.id),(async()=>{const e=v.get(this.props.model,"activeRelease.entities.documentations.0");await this.getSchemaInfo(),this.store.updateActiveCollectionId(e.entityId)}))}async getSchemaInfo(){this.store.updateOperationsLoadingState(!0);const{api:e,id:t}=this.props.model.apiVersion;if(v.isEmpty(v.get(this.props.model,"activeRelease.entities.schemas.0")))this.store.updateIsAPISchemaEmpty(!0),this.store.updateOperationsLoadingState(!1),this.store.updateIsAPISchemaLoadingState(!1);else{let{entityId:n,tag:o}=v.get(this.props.model,"activeRelease.entities.schemas.0"),s=await(0,g.getReleaseSchema)(n,o);this.setState({schema:s}),this.store.getAPIMetaData(s),this.store.getOperations(e,t,v.get(this.props.model.activeRelease,"id"))}}render(){const e=v.get(this.props.model,"activeRelease.entities.documentations"),t=v.get(v.find(e,(e=>e.entityId===v.get(this.store,"activeCollectionId"))),"tag","");if(this.store.isAPISchemaLoading||this.store.isOperationsLoading)return a.createElement(l.default,null);if(v.isEmpty(e)&&!this.store.showSchemaDocumentation)return a.createElement(c.EmptyDocumentationState,{illustration:a.createElement(d.default,null),heading:y.EMPTY_STATE_API_DOC_TITLE,description:a.createElement(u.default,{color:"content-color-secondary"},"View documentation for your definition here. (Or link a collection to view documentation)")});const n=this.store.isAPISchemaEmpty||!this.store.isOpenAPI3Schema?v.head(v.map(v.orderBy(e,"createdAt"),"entityId")):"",o=v.get(this.state.schema,"id");return a.createElement("div",{className:"documentation-tab-wrapper"},a.createElement("div",{className:"documentation-tab-sidebar"},a.createElement(m.default,{title:v.get(this.store,"title"),isOpenAPI3Schema:v.get(this.store,"isOpenAPI3Schema",!0),disableEditing:!0,tabProps:this.props.tabProps,store:this.store,isReleaseDoc:!0,mode:this.props.mode,updateShowSchemaDocumentationState:this.store.updateShowSchemaDocumentationState.bind(this.store),updateActiveCollectionId:this.store.updateActiveCollectionId.bind(this.store),activeDocumentationId:n,schemaFolders:this.store.getSchemaFolders(),parentId:`documentation-tab-content-release-${o}`,apiVersionId:v.get(this.props.model,"apiVersion.id"),showSchemaDocumentation:this.store.showSchemaDocumentation,isErrorState:this.store.isErrorState,errorType:this.store.errorType,model:this.props.model})),a.createElement("div",{className:"documentation-tab-content",id:`documentation-tab-content-release-${o}`},this.store.showSchemaDocumentation?a.createElement(p.default,{schemaId:`release-${o}`,store:this.store,title:v.get(this.store,"title"),description:v.get(this.store,"description"),version:v.get(this.store,"version"),servers:v.get(this.store,"servers"),operations:v.get(this.store,"operations"),activeEnvironmentVariables:v.get(this.store,"activeEnvironmentVariables"),activeServerIdx:v.get(this.store,"activeServerIdx"),isReleaseDoc:!0,apiVersionId:v.get(this.props.model,"apiVersion.id"),isErrorState:this.store.isErrorState,errorType:this.store.errorType}):a.createElement(r.default,{collectionId:v.get(this.store,"activeCollectionId"),tagId:t,validateButton:null,enableEditing:!1,isSideNavOverridden:!1})))}})||o;t.default=(0,f.withErrorBoundary)(_,I,E)},"./documentation/components/APIDocumentation/ReleaseTab/LegacyDocumentationTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/mobx/lib/mobx.module.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/react/index.js"),r=n("./documentation/components/APIDocumentation/APIDocumentation.js"),l=n("./documentation/components/APIDocumentation/APIDocumentationDropdown/APIDocumentationDropdown.js"),c=n("../../packages/documentation/documentation-core/index.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("./node_modules/lodash/lodash.js");let m=(0,i.observer)(o=class extends a.Component{constructor(e){super(e);const t=p.get(this.props.model,"activeRelease.entities.documentations.0");this.state={activeDocumentation:t},this.switchActiveDocumentation=this.switchActiveDocumentation.bind(this)}switchActiveDocumentation(e){this.setState({activeDocumentation:e})}render(){const e=p.get(this.props.model,"activeRelease.entities.documentations"),t=p.get(this.state,"activeDocumentation.entityId"),n=p.get(this.state,"activeDocumentation.tag");return(0,s.reaction)((()=>this.props.model.activeRelease.id),(()=>{const e=p.get(this.props.model,"activeRelease.entities.documentations.0");this.switchActiveDocumentation(e)})),p.isEmpty(e)?a.createElement(c.EmptyDocumentationState,{illustration:a.createElement(d.default,null),heading:"",description:a.createElement(u.default,{color:"content-color-secondary"},"No documentation added.")}):a.createElement(r.default,{collectionId:t,tagId:n,collectionDropdown:a.createElement(l.default,{mode:"view",activeCollection:this.state.activeDocumentation,entities:e,onClick:e=>this.switchActiveDocumentation(e)}),validateButton:null,isLegacyDocumentation:!0})}})||o},"./documentation/components/APIDocumentation/ReleaseTab/ReleaseDocumentation.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("./documentation/components/APIDocumentation/ReleaseTab/DocumentationTab.js"),i=n("./documentation/components/APIDocumentation/ReleaseTab/LegacyDocumentationTab.js"),a=n("./onboarding/src/common/LaunchDarkly.js"),r=n("./documentation/utils/utils.js"),l=n("./documentation/components/SchemaDocumentation/components/SchemaDocumentationLoader/index.js");class c extends o.Component{constructor(){super(),this.state={isSchemaDocEnabledForRelease:!1,isFeatureEnabledForTeamOrUser:!1,isLoading:!0}}async componentDidMount(){if(a.launchDarkly.getFlag("documenter_3682_schemadoc_enabled_release_tab",!1)){const e=await(0,r.isSchemaDocFeatureEnabledForTeamOrUser)();this.setState({isFeatureEnabledForTeamOrUser:e,isSchemaDocEnabledForRelease:!0,isLoading:!1})}else this.setState({isFeatureEnabledForTeamOrUser:!1,isSchemaDocEnabledForRelease:!1,isLoading:!1})}render(){return this.state.isLoading?o.createElement(l.default,null):o.createElement(o.Fragment,null,this.state.isSchemaDocEnabledForRelease&&this.state.isFeatureEnabledForTeamOrUser?o.createElement(s.default,{model:this.props.model,tabProps:this.props}):o.createElement(i.default,{model:this.props.model}))}}},"./documentation/components/APIDocumentationOverview/CollectionOverview.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/mobx/lib/mobx.module.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/prop-types/index.js"),r=n.n(a),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),d=n("./node_modules/lodash/lodash.js"),u=n.n(d),p=n("./runtime-repl/environment/datastores/ActiveEnvironmentStore.js"),m=n("./js/stores/StoreManager.js"),h=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),g=n("./documentation/utils/collection.js"),f=n("./documentation/constants.js"),b=n("./api-dev/interfaces/APIInterface.js"),y=n("./documentation/utils/utils.js"),v=n("./documentation/utils/withErrorHandler.js"),I=n("./documentation/components/APIDocumentationOverview/DocumentationOverview.js"),E=n("./documentation/components/APIDocumentationOverview/DocumentationOverviewHeader.js");const _=({overviewLabel:e,collectionUid:t,apiId:n,mode:i,renderActions:a,isExpanded:r,navigateToDocumentation:d})=>{const[v,_]=(0,o.useState)(!0),[S,C]=(0,o.useState)(null),[T,j]=(0,o.useState)([]),[A,w]=(0,o.useState)(r),O=async()=>{try{var e;_(!0),C(null);let o,a=await(0,y.isAPIMigratedAndGitLinked)(i,n);switch(i.name){case f.DOCUMENTATION_MODE.VERSION:o=await(0,b.getAPILinkedEntityModel)(n,i,"collection",t),o=o.model;break;case f.DOCUMENTATION_MODE.BRANCH:a?(o=await(0,b.getAPILinkedEntityModel)(n,i,"collection",t),o=o.model):o=await(0,h.getOne)(t);break;case f.DOCUMENTATION_MODE.BUILDER:case f.DOCUMENTATION_MODE.NETWORK:case f.DOCUMENTATION_MODE.WORKSPACE:o=await(0,h.getOne)(t);break;default:return null}let r="transientCollection"===(null===(e=o)||void 0===e?void 0:e.modelName)?(0,g.flattenTransientCollection)(o):(0,g.flattenV1Collection)(o);r=(0,s.toJS)(r),j(r),_(!1)}catch(e){C(e),_(!1),j([]),pm.logger.error("CollectionOverview~loadCollectionData: Error while fetching collection data ",e)}},N=()=>{w((e=>!e))};if((0,o.useEffect)((()=>{O()}),[]),t||(pm.logger.error("CollectionOverview: collectionUid not received via props"),C(!0)),u().isEmpty(i)&&(pm.logger.error("CollectionOverview: mode not received via props"),C(!0)),S)return o.createElement(l.default,{direction:"column"},o.createElement(E.default,{collectionName:u().get(T,"0.name",e),renderActions:a,isOpen:A,apiId:n,handleOverviewToggle:N,mode:i,hasError:S,collectionUid:t,navigateToDocumentation:d}),A&&o.createElement(I.default,{collectionData:T,hasError:S,loadCollectionData:O,collectionUid:t,apiId:n,mode:i}));if(v)return o.createElement(l.default,{direction:"column",gap:"spacing-xs"},u().isEmpty(u().get(T,"0.name",e))?o.createElement(l.default,{alignItems:"center",justifyContent:"center",padding:"spacing-s"},o.createElement(c.default,null)):o.createElement(E.default,{collectionName:u().get(T,"0.name",e),renderActions:a,isOpen:A,apiId:n,handleOverviewToggle:N,mode:i,collectionUid:t,navigateToDocumentation:d}),A&&o.createElement(I.default,{collectionData:T,isLoading:v,collectionUid:t,apiId:n,mode:i}));const D=(0,y.isCollectionEmpty)(T);if(D)return o.createElement(l.default,{direction:"column"},o.createElement(E.default,{collectionName:u().get(T,"0.name",e),renderActions:a,isOpen:A,apiId:n,handleOverviewToggle:N,mode:i,collectionUid:t,navigateToDocumentation:d}),A&&o.createElement(I.default,{isCollectionEmpty:D,collectionData:T,hasError:S,collectionUid:t,apiId:n,mode:i,navigateToDocumentation:d}));return(()=>{let s=(0,m.resolveStoreInstance)(p.default).enabledValues;return o.createElement(l.default,{direction:"column"},o.createElement(E.default,{activeEnvironmentVariables:s,collectionName:u().get(T,"0.name",e),renderActions:a,isOpen:A,apiId:n,collectionUid:t,handleOverviewToggle:N,mode:i,navigateToDocumentation:d}),A&&o.createElement(I.default,{collectionData:T,activeEnvironmentVariables:s,hasError:S,isLoading:v,collectionUid:t,apiId:n,mode:i,navigateToDocumentation:d}))})()};_.propTypes={overviewLabel:r().string,collectionUid:r().string,apiId:r().string,mode:r().object,renderActions:r().func,navigateToDocumentation:r().func},t.default=(0,v.default)((0,i.observer)(_))},"./documentation/components/APIDocumentationOverview/DocumentationOverview.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("./runtime-repl/environment/datastores/ActiveEnvironmentStore.js"),d=n("./js/stores/StoreManager.js"),u=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),p=n("./js/components/base/LoadingIndicator.js"),m=n("./appsdk/components/link/Link.js"),h=n("./documentation/components/entity/RuntimeEntity/index.js"),g=n("./documentation/constants.js"),f=n("./documentation/utils/withErrorHandler.js"),b=n("./js/modules/services/AnalyticsService.js"),y=n("./node_modules/lodash/lodash.js");t.default=(0,f.default)((0,s.observer)((({collectionData:e,hasError:t,isLoading:n,isCollectionEmpty:s,collectionUid:f,loadCollectionData:v,mode:I,apiId:E,navigateToDocumentation:_})=>{const S=I&&I.name==g.DOCUMENTATION_MODE.BRANCH?I.value:"",C=I&&I.name==g.DOCUMENTATION_MODE.VERSION?I.value:"",T=I&&("workspace"===I.view?"workbench":"network"),j=(0,i.useTheme)(),A=()=>{v(),b.default.addEventV2({category:g.DOCUMENTATION_ANALYTICS.CATEGORY,action:"overview_retry_click",label:`${g.DOCUMENTATION_ANALYTICS.LABEL.TAB}_${T}_${E?"api":"workspace"}`,entityType:g.DOCUMENTATION_ENTITY.COLLECTION,entityId:`${f}${E?`_${E}`:""}`})};if(t)return o.createElement(a.default,{className:"documentation-overview-container error-container",height:"auto",justifyContent:"center",alignItems:"center",padding:"var(--spacing-xl)"},o.createElement(r.default,{type:"para"},"Something went wrong while loading collection documentation.",o.createElement(l.default,{type:"monochrome-plain",onClick:A,text:"Retry"})));if(n)return o.createElement(a.default,{className:"documentation-overview-container",alignItems:"center",justifyContent:"center"},o.createElement(p.default,null));if(s)return o.createElement(a.default,{className:"documentation-overview-container empty-container",justifyContent:"center",alignItems:"center"},o.createElement("div",{className:"documentation-overview-container-content"},(null==I?void 0:I.name)===g.DOCUMENTATION_MODE.BRANCH||(null==I?void 0:I.name)===g.DOCUMENTATION_MODE.BUILDER?o.createElement(r.default,{type:"para"},o.createElement(m.default,{onClick:()=>{b.default.addEventV2({category:g.DOCUMENTATION_ANALYTICS.CATEGORY,action:"overview_add_description_click",label:`${g.DOCUMENTATION_ANALYTICS.LABEL.TAB}_${T}_${E?"api":"workspace"}`,entityType:g.DOCUMENTATION_ENTITY.COLLECTION,entityId:`${f}${E?`_${E}`:""}`})},to:{routeIdentifier:"build.apiDocumentation",routeParams:{apiId:E,collectionUid:f},queryParams:{branch:S,version:C}}},o.createElement(r.default,{type:"link-default"},"Add description")),"for this collection documentation"):o.createElement(r.default,null,"No description")));return(()=>{let t=(0,d.resolveStoreInstance)(c.default).enabledValues;return o.createElement(u.DocumentationProvider,{theme:null==j?void 0:j.name},o.createElement(u.DocumentationContainer,{className:"documentation-wrapper"},o.createElement(a.default,{className:"documentation-overview-container",direction:"column",padding:"spacing-l",alignItems:"center"},o.createElement("div",{className:"documentation-overview-container-content"},e.map(((e,n)=>{const{id:s,type:i}=e;if(n<=6)return o.createElement(h.default,{key:s,gitLinkedMode:I,apiId:E,type:i,entityData:e,source:g.DOCUMENTATION_ORIGIN.WORKBENCH_VIEW,editable:!1,store:{activeEnvironmentVariables:t},isOverview:!0})}))),o.createElement("div",{className:"documentation-overview-container-link"},y.isFunction(_)?o.createElement(m.default,{onClick:e=>{b.default.addEventV2({category:g.DOCUMENTATION_ANALYTICS.CATEGORY,action:"overview_full_documentation_click",label:`${g.DOCUMENTATION_ANALYTICS.LABEL.TAB}_${T}_${E?"api":"workspace"}`,entityType:g.DOCUMENTATION_ENTITY.COLLECTION,entityId:`${f}${E?`_${E}`:""}`}),e&&e.preventDefault(),_()}},o.createElement(r.default,{type:"link-primary",isExternal:!0},"View full documentation")):o.createElement(m.default,{onClick:()=>{b.default.addEventV2({category:g.DOCUMENTATION_ANALYTICS.CATEGORY,action:"overview_full_documentation_click",label:`${g.DOCUMENTATION_ANALYTICS.LABEL.TAB}_${T}_${E?"api":"workspace"}`,entityType:g.DOCUMENTATION_ENTITY.COLLECTION,entityId:`${f}${E?`_${E}`:""}`})},to:{routeIdentifier:"build.apiDocumentation",routeParams:{apiId:E,collectionUid:f},queryParams:{branch:S,version:C}}},o.createElement(r.default,{type:"link-primary",isExternal:!0},"View full documentation"))))))})()})))},"./documentation/components/APIDocumentationOverview/DocumentationOverviewHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-right.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-collection-stroke.js"),h=n("./documentation/constants.js"),g=n("../../packages/version-control/change-management/index.ts"),f=n("./appsdk/components/link/Link.js"),b=n("./runtime-repl/_common/NavigationConstants.js"),y=n("./api-dev/interfaces/APIInterface.js"),v=n("./node_modules/lodash/lodash.js");const I=(0,a.default)(r.default)`
  padding-left var(--spacing-xs);
  padding-right var(--spacing-xs);
`;let E=(0,i.observer)(o=class extends s.PureComponent{constructor(e){super(e),this.state={isLatestRelease:!1},this.fetchLatestVersion=this.fetchLatestVersion.bind(this)}componentDidCatch(e,t){pm.logger.error("DocumentationOverviewHeader~componentDidCatch: Error logged via props",this.props.errorMessage,e,t)}componentDidMount(){this.props.apiId&&this.fetchLatestVersion()}async fetchLatestVersion(){try{const e=await(0,y.isLatestReleaseActive)(v.get(this,"props.apiId"));this.setState({isLatestRelease:e})}catch(e){pm.logger.error("DocumentationOverviewHeader~Unable to fetch latest release",e)}}render(){const{renderActions:e,hasError:t,isLoading:n,collectionUid:o,isOpen:i,collectionName:a,handleOverviewToggle:r,mode:y,navigateToDocumentation:E,apiId:_}=this.props,S=y&&y.name==h.DOCUMENTATION_MODE.BRANCH?y.value:"",C=y&&y.name==h.DOCUMENTATION_MODE.VERSION?y.value:"",T={};return _&&S?(T.collection=o,T.branch=S):_&&C&&(T.collection=o,T.version=C),s.createElement(l.default,{direction:"row",alignItems:"center"},s.createElement(I,{onClick:r,type:"tertiary",size:"small",icon:i?s.createElement(u.default,null):s.createElement(p.default,null)}),s.createElement(l.default,{justifyContent:"space-between",grow:1,shrink:1,alignItems:"center"},s.createElement("div",{className:"documentation-overview-header__collection-name-wrapper",onClick:r},v.isEmpty(a)?t?s.createElement(c.default,null,"Couldnt load collection name"):n&&s.createElement(l.default,{className:"documentation-overview-container",alignItems:"center",justifyContent:"center"},s.createElement(d.default,null)):s.createElement(s.Fragment,null,v.isFunction(E)?s.createElement(f.default,{onClick:e=>{e&&e.preventDefault(),E()}},s.createElement(l.default,{gap:"spacing-xs",minWidth:"0px"},s.createElement(m.default,null),s.createElement(l.default,{shrink:1,minWidth:"0px"},s.createElement(c.default,{type:"link-subtle",isTruncated:!0},a)))):s.createElement(f.default,{to:{routeIdentifier:b.WORKFLOW_IDENTIFIER.OPEN_COLLECTION_IN_API_CONTEXT,routeParams:{apiId:_,cid:o},queryParams:T},onClick:e=>e.stopPropagation()},s.createElement(l.default,{gap:"spacing-xs",minWidth:"0px"},s.createElement(m.default,null),s.createElement(l.default,{shrink:1,minWidth:"0px"},s.createElement(c.default,{type:"link-subtle",isTruncated:!0},a)))))),s.createElement(l.default,{direction:"row",justifyContent:"end",alignItems:"center"},((null==y?void 0:y.name)===h.DOCUMENTATION_MODE.VERSION||(null==y?void 0:y.name)===h.DOCUMENTATION_MODE.NETWORK||(null==y?void 0:y.name)===h.DOCUMENTATION_MODE.WORKSPACE)&&this.state.isLatestRelease&&s.createElement(g.QuickForkContainer,{modelType:"collection",modelId:o,origin:h.DOCUMENTATION_ANALYTICS.CATEGORY,hideForkLabelInModal:!0}),e&&e())))}})||o},"./documentation/components/DocumentationIntersectionObserver/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{IntersectionObserverContext:function(){return o.IntersectionObserverContext},useIntersectionObserver:function(){return o.useIntersectionObserver}});var o=n("./documentation/components/DocumentationIntersectionObserver/DocumentationIntersectionObserver.js");t.default=o.default},"./documentation/components/DocumentationWorkbenchView/FolderAccordian.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-folder-stroke.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./documentation/utils/collection.js"),r=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js");t.default=(0,i.observer)((function e({data:t,activeEnvironmentVariables:n,collectionData:i,unsavedDescriptions:l,onEntityClick:c}){return o.createElement(o.Fragment,null,t.map((t=>{const d=l[`${t.type}-${t.item.id}`],u=function({entity:e,environmentVariables:t,collectionData:n}){return(0,a.resolveVariables)(e,t,null==n?void 0:n.variables)}({entity:{name:t.item.name},environmentVariables:n,collectionData:i}).name;var p;return t.type===r.DOCUMENTATION_ENTITY.FOLDER?o.createElement(r.Navigation.NavigationFolderRow,{key:t.item.id,RightContent:d&&o.createElement("div",{className:"documentation-list-item__marker documentation-list-item__marker--visible"}),icon:s.default,name:u,onClick:()=>c(`${t.type}-${t.item.id}`)},(null===(p=t.children)||void 0===p?void 0:p.length)>0&&o.createElement(e,{data:t.children,activeEnvironmentVariables:n,collectionData:i,unsavedDescriptions:l,onEntityClick:c})):t.type===r.DOCUMENTATION_ENTITY.REQUEST?o.createElement(r.Navigation.NavigationRequestRow,{RightContent:d&&o.createElement("div",{className:"documentation-list-item__marker documentation-list-item__marker--visible"}),requestMethod:t.item.method,name:u,onClick:()=>c(`${t.type}-${t.item.id}`)}):void 0})))}))},"./documentation/components/DocumentationWorkbenchView/LanguageDropdown.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("./documentation/constants.js"),r=n("./documentation/components/entity/Request/Examples/CodegenProvider.js"),l=n("../../packages/documentation/documentation-core/index.js");function c(e){let{languages:t}=(0,o.useContext)(r.CodegenContext),n=t.findIndex((t=>t.id===JSON.stringify({language:e.language,variant:e.variant})));return o.createElement(l.DropdownComponent,{className:"documentation-dropdown documentation-dropdown--config-bar language-dropdown",disabled:e.disableLanguageOptions,onSelectItem:e.onSelectLanguage,dropdownItems:t,dropdownLabel:e.isLargeScreen&&a.DOCUMENTATION_CONFIG_BAR.LANGUAGE_STRING,dropdownType:"search",initialSelectedIndex:n,searchPlaceholder:"Search by Language name",noSearchResultsPlaceholder:"No matching languages"})}c.propTypes={disableLanguageOptions:i().bool,onSelectLanguage:i().func.isRequired}},"./documentation/components/DocumentationWorkbenchView/RenderEntityInViewport.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./js/controllers/ShortcutsList.js"),i=n("./node_modules/lodash/lodash.js");let a=new Map,r=new Map;const l="safari"===(0,s.getBrowser)();t.default=({defaultHeight:e=300,visibleOffset:t=1e3,root:n=document.body,children:s,entityId:c,index:d,showLastFiveElements:u,visibleElements:p})=>{const[m,h]=(0,o.useState)(!1),g=(0,o.useRef)(e),f=(0,o.useRef)(null);return(0,o.useEffect)((()=>()=>{r.clear()}),[]),(0,o.useEffect)((()=>{!i.isEmpty(p)&&d>=p[1]&&d<=p[0]&&!m&&window.requestIdleCallback((()=>{h(!0),l&&r.set(d,!0)}),{timeout:1})}),[p,d,m]),(0,o.useEffect)((()=>{if(f.current){new IntersectionObserver((e=>{window.requestIdleCallback((()=>{!e[0].isIntersecting||m||r.get(d)||(h(e[0].isIntersecting),u(d))}),{timeout:1})}),{root:n,rootMargin:`${t}px 0px ${t}px 0px`,threshold:1e-4}).observe(f.current)}}),[f,m,t]),(0,o.useEffect)((()=>{f.current&&m&&(g.current=f.current.offsetHeight,a.set(c,g.current))}),[m,f,c]),o.createElement("div",{ref:f,id:c},m?o.createElement(o.Fragment,null,s):o.createElement("div",{style:{height:a.has(c)?a.get(c):g.current}}))}},"./documentation/components/DocumentationWorkbenchView/SideNavigationBar.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./documentation/utils/collection.js"),l=n("./documentation/components/DocumentationWorkbenchView/FolderAccordian.js"),c=n("./documentation/constants.js"),d=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),u=n("./node_modules/lodash/lodash.js");function p({data:e,store:t,unsavedDescriptions:n,onEntityClick:s}){let i=u.get(t,"activeEnvironmentVariables"),a="transientCollection"===(null==e?void 0:e.modelName)?(0,r.getNestedFoldersAndRequestsForTransientCollections)(e):(0,r.getNestedFoldersAndRequests)(e),p=(0,r.getCollectionDescriptionHeadings)(e,i);return o.createElement("div",{className:"side-navigation workbench-side-navigation"},o.createElement(d.Navigation.NavigationContainer,null,o.createElement(d.Navigation.NavigationTitle,null,"JUMP TO"),o.createElement(d.Navigation.NavigationHeading,{onClick:()=>{s(`${c.DOCUMENTATION_ENTITY.COLLECTION}-${e.id}`)},className:"documentation-core-list__item-name",RightContent:n[`${c.DOCUMENTATION_ENTITY.COLLECTION}-${e.id}`]&&o.createElement("div",{className:"documentation-list-item__marker documentation-list-item__marker--visible"})},"Introduction"),p.map((e=>o.createElement(d.Navigation.NavigationHeading,{key:e.slug,onClick:()=>{s(e.slug)},className:"documentation-core-list__item-name"},e.title))),o.createElement(l.default,{collectionData:e,data:a,activeEnvironmentVariables:i,onEntityClick:s,unsavedDescriptions:n})))}p.propTypes={data:i().object.isRequired,onEntityClick:i().func.isRequired,unsavedDescriptions:i().object},t.default=(0,a.observer)(p)},"./documentation/components/DocumentationWorkbenchView/StickySideNavigationBar.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("./node_modules/react-sticky-box/dist/es/index.js"),r=n("./documentation/components/DocumentationWorkbenchView/SideNavigationBar.js");function l({data:e,store:t,onEntityClick:n,unsavedDescriptions:s}){return o.createElement(a.default,{className:"sticky-navigation-bar__container",offsetTop:0},o.createElement(r.default,{data:e,store:t,onEntityClick:n,unsavedDescriptions:s}))}l.propTypes={data:i().object.isRequired,onEntityClick:i().func.isRequired,unsavedDescriptions:i().object}},"./documentation/components/SkeletonUnit.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s);const a=e=>{const t={height:e.height,width:e.width,top:e.top,left:e.left,borderRadius:e.borderRadius};return o.createElement("div",{className:"skeleton-unit",style:t})};a.propTypes={height:i().number,width:i().number,top:i().number,left:i().number,borderRadius:i().number},t.default=a},"./documentation/components/entity/APIDocumentationTab/APIDocumentationTab.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var o,s,i,a,r,l,c=n("../../node_modules/react/index.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),u=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),p=n("./node_modules/classnames/index.js"),m=n.n(p),h=n("../../node_modules/mobx/lib/mobx.module.js"),g=n("./js/stores/StoreManager.js"),f=n("../../packages/api-design/client-codegen/index.js"),b=n("./js/modules/controllers/ViewHierarchyController.js"),y=n("./js/modules/services/AnalyticsService.js"),v=n("./documentation/constants.js"),I=n("./documentation/utils/utils.js"),E=n("./documentation/utils/collection.js"),_=n("./documentation/utils/CodeGeneration.js"),S=n("./documentation/components/DocumentationError.js"),C=n("./documentation/utils/withErrorHandler.js"),T=n("./documentation/components/DocumentationIntersectionObserver/index.js"),j=n("./documentation/components/entity/SkeletonLoader/WorkbenchSkeletonLoader/WorkbenchSkeletonLoader.js"),A=n("./documentation/components/entity/Request/Examples/CodegenProvider.js"),w=n("./documentation/components/DocumentationWorkbenchView/StickySideNavigationBar.js"),O=n("./documentation/components/entity/APIDocumentationTab/FloatingSideNavigationBar.js"),N=n("./documentation/components/entity/RuntimeEntity/index.js"),D=n("./node_modules/lodash/lodash.js"),R=n.n(D),P=n("../../packages/documentation/documentation-core/index.js"),M=n("./documentation/components/DocumentationWorkbenchView/LanguageDropdown.js"),L=n("./documentation/components/DocumentationWorkbenchView/RenderEntityInViewport.js"),x=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js");function k(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function F(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let V=(0,C.default)(o=(0,u.observer)((s=class extends c.Component{constructor(...e){super(...e),k(this,"codegenStore",i,this),k(this,"userPreferredLanguage",a,this),k(this,"versions",r,this),k(this,"data",l,this),this.documentationContainer=null,this.resizeObserver=null,this.state={activeVersion:"latest",language:this.userPreferredLanguage.language,variant:this.userPreferredLanguage.variant,activeDescription:void 0,largeScreen:!0,visibleElements:[],theme:pm.settings.getSetting("postmanTheme")},this.contentWrapper=(0,c.createRef)(),this.handleApiDocContainerResize=e=>{e[0].contentRect.width>=860?this.setState({largeScreen:!0}):this.setState({largeScreen:!1})},this.handleLanguageChange=e=>{let t,n,o;R().get(this.props,"controller.entityId");if(e)try{o=JSON.parse(e),t=R().get(o,"language"),n=R().get(o,"variant"),(0,_.saveUserPreferredLanguage)(t,n),this.setState({language:t,variant:n})}catch(e){pm.logger.error(`Error JSON parsing selected language - ${e}`)}},this.handleUpdateName=(e,t,n)=>{this.props.controller.store.updateName(e,t,n)},this.handleUpdateDescription=async(e,t,n)=>{await this.props.controller.store.updateDescription(e,t,n)},this.openLanguageSettingsModal=()=>{let e={source:v.DOCUMENTATION_ANALYTICS.CATEGORY,collectionUid:R().get(this.props,"controller.params.collectionUid"),apiId:this.props.apiId,view:"network"};b.ModalViewManager.onMount((()=>{pm.mediator.trigger("openLanguageSettingsModel",{id:JSON.stringify({language:this.state.language,variant:this.state.variant})},e)}))},this.onEntityClick=e=>{let t,n,o=e.split(/-(.+)/),s=R().get(this.props,"controller.entityId");[v.DOCUMENTATION_ENTITY.FOLDER,v.DOCUMENTATION_ENTITY.REQUEST].includes(o[0])?(t=o[0],n=o[1]):(t="heading",n=s),(0,I.scrollToId)(`renderInViewport-${e}`,this.contentWrapper.current)},this.handleParentEntityClick=(e,t)=>{this.onEntityClick(`renderInViewport-${e}-${t}`)},this.handleEditableValueChange=(e,t,n,o,s)=>{if(n!==v.DOCUMENTATION_EDITABLE_FIELD.DESCRIPTION)return;o!==s?this.props.controller.trackDescriptionChange(e,t,o):this.props.controller.untrackDescriptionChange(e,t)},this.handleEditableValueSave=(e,t,n)=>{n===v.DOCUMENTATION_EDITABLE_FIELD.DESCRIPTION&&this.props.controller.untrackDescriptionChange(e,t)},this.handleEditCancel=(e,t,n)=>{n===v.DOCUMENTATION_EDITABLE_FIELD.DESCRIPTION&&this.props.controller.untrackDescriptionChange(e,t)},this.handleEditModeChange=(e,t,n)=>{n?this.setState({activeDescription:{type:e,id:t}}):this.setState({activeDescription:void 0})},this.setScrollPosition=()=>{const e=this.props.id,t=this.props.controller.scrollPositions[e];t&&(this.documentationContainer.scrollTop=t)},this.handleScroll=e=>{this.props.controller.handleScroll(e.target.scrollTop,this.props.id)}}showLastFiveElements(e){this.setState({visibleElements:[e-1,e-5]})}componentDidMount(){let e=this.props.controller.store,{entityType:t,entityUid:n}=e,o=this.props.apiId;this.setScrollPosition(),this.resizeObserver=new ResizeObserver(this.handleApiDocContainerResize),this.resizeObserver&&this.resizeObserver.observe(document.getElementById("api-documentation-container")),pm.settings.on("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})})),y.default.addEventV2({category:v.DOCUMENTATION_ANALYTICS.CATEGORY,action:"view",label:`${v.DOCUMENTATION_ANALYTICS.LABEL.PRIVATE_API_NETWORK}_network_${o?"api":"workspace"}`,entityType:v.DOCUMENTATION_ENTITY.COLLECTION,entityId:`${n}${o?`_${o}`:""}`})}componentDidUpdate(){let e=this.props.controller.store,{entityData:t}=e,n=R().get(e,"activeEnvironmentVariables");t=(0,h.computed)((()=>{const e=R().cloneDeep(t);return(0,E.resolveVariables)(e,n,t?t.variables:void 0)})).get(),R().has(t,"data.name")&&this.props.controller.setTitle(R().get(t,"data.name"))}componentWillUnmount(){this.resizeObserver instanceof ResizeObserver&&this.resizeObserver.disconnect(),pm.settings.off("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}get unsavedDescriptions(){if(this.props.controller.trackedState){let e=this.props.controller.trackedState.get("unsavedDescriptions"),t={};return e&&e.forEach((({id:e,type:n,value:o})=>{t[`${n}-${e}`]=o})),t}return{}}render(){let e,t,n,{store:o,tagId:s}=this.props.controller,{entityData:i,isEditable:a,isOffline:r}=o,{isLoading:l,error:u,data:p}=i,{mode:h}=this.props;if(a=a&&this.props.enableEditing,n=this.codegenStore.getSnippetOptions()[`${R().get(this.state,"language")}_${R().get(this.state,"variant")}`],!R().isEmpty(p))if(e="transientCollection"===p.modelName?(0,E.flattenTransientCollection)(p):(0,E.flattenV1Collection)(p),"transientCollection"===p.modelName){const{description:e,ownFolders:n,ownRequests:o}=p;t=R().get(this.props,"isSideNavOverridden",!0)&&(!R().isEmpty(e)||!R().isEmpty(n)||!R().isEmpty(o))}else{const{description:e,folders:n,requests:o}=p;t=R().get(this.props,"isSideNavOverridden",!0)&&(!R().isEmpty(e)||!R().isEmpty(n)||!R().isEmpty(o))}if(l)return c.createElement(j.default,null);if(u)return c.createElement(S.default,{title:u.title?u.title:v.DOCUMENTATION_ERROR.TITLE,message:u.message?u.message:v.DOCUMENTATION_ERROR.MESSAGE,fullView:!0},c.createElement(d.default,null));if(r&&this.props.controller.tagId!==v.DOCUMENTATION_LATEST_VERSION_STRING)return c.createElement(P.APIDocumentationOfflineState,null);if((0,I.isCollectionEmpty)(e))return c.createElement(P.EmptyDocumentationState,{heading:"No Documentation available yet",description:"As soon as content is added to the collection, it will show here."});const g=[this.props.environmentDropdown,c.createElement("div",{className:"dropdown-container",key:"language-dropdown"},c.createElement(M.default,{isLargeScreen:this.state.largeScreen,language:this.state.language,variant:this.state.variant,disableLanguageOptions:l||u,onSelectLanguage:this.handleLanguageChange}))];return c.createElement(x.DocumentationProvider,{theme:this.state.theme},c.createElement(T.default,null,(({rootRef:i})=>c.createElement("div",{className:m()({"documentation-workbench-view":!0,"documentation-workbench-view__network":!0,"is-loading":l}),ref:this.contentWrapper},c.createElement(A.default,null,R().isEmpty(p)?null:c.createElement(c.Fragment,null,c.createElement(P.SplitContainer,{leftDeck:g}),c.createElement("div",{className:m()({"documentation-body-wrapper":!0,"documentation-body-wrapper__network":!0}),ref:e=>{i(e),this.documentationContainer=e},onScroll:this.handleScroll,id:`documentation-body-wrapper-${p.owner}-${p.id}`},c.createElement("div",{className:m()({"documentation-body-container":!0})},c.createElement("div",{className:"documentation-body"},e.map(((e,t)=>{const{id:i,type:r}=e,l=R().get(this.state.activeDescription,"id")===i;return c.createElement(L.default,{key:i,entityId:`renderInViewport-${r}-${e.id}`,index:t,root:document.querySelector(`#documentation-body-wrapper-${p.owner}-${p.id}`),showLastFiveElements:this.showLastFiveElements.bind(this),visibleElements:this.state.visibleElements},c.createElement(N.default,{isRequestInteractive:s===v.DOCUMENTATION_LATEST_VERSION_STRING,type:r,key:i,entityData:e,store:o,onClose:this.props.onClose,source:v.DOCUMENTATION_ORIGIN.WORKBENCH_VIEW,onRequestAccess:this.requestEditAccess,onParentEntityClick:this.handleParentEntityClick,codegen:this.codegenStore.codegen,editable:this.state.activeVersion===v.DOCUMENTATION_LATEST_VERSION_STRING&&a,updateName:this.handleUpdateName,updateDescription:this.handleUpdateDescription,editorActive:l,onEditableValueChange:this.handleEditableValueChange,onEditableValueSave:this.handleEditableValueSave,onEditCancel:this.handleEditCancel,onEditModeChange:this.handleEditModeChange,unsavedDescription:R().get(this.unsavedDescriptions,`${r}-${i}`),parentCollectionData:p,language:this.state.language,variant:this.state.variant,snippetOptions:n,activeVersion:this.state.activeVersion,view:"network"}))}))),t?this.state.largeScreen&&c.createElement(w.default,{data:p,store:o,onEntityClick:this.onEntityClick,unsavedDescriptions:this.unsavedDescriptions}):null)))),t?!this.state.largeScreen&&c.createElement(O.default,{data:p,store:o,onEntityClick:this.onEntityClick,unsavedDescriptions:this.unsavedDescriptions,isFixed:!0}):null))))}},i=F(s.prototype,"codegenStore",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,g.resolveStoreInstance)(f.CodegenStore)}}),a=F(s.prototype,"userPreferredLanguage",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,_.getUserPreferredLanguage)()}}),r=F(s.prototype,"versions",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=F(s.prototype,"data",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),o=s))||o)||o},"./documentation/components/entity/APIDocumentationTab/FloatingSideNavigationBar.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("./documentation/components/DocumentationWorkbenchView/SideNavigationBar.js"),l=n("./node_modules/classnames/index.js"),c=n.n(l);function d({data:e,store:t,onEntityClick:n,unsavedDescriptions:i,isFixed:a}){const[l,d]=(0,o.useState)(!1);return o.createElement("div",{className:c()({"floating-navigation-bar":!0,"floating-navigation-bar__container":a,"floating-navigation-bar__container-api":!a})},l?o.createElement("div",{className:"floating-navigation-bar__content-container"},o.createElement(r.default,{data:e,store:t,onEntityClick:n,unsavedDescriptions:i})):null,o.createElement("button",{className:"floating-navigation-bar__toggle-button",onClick:function(){d((e=>!e))}},o.createElement(s.default,{name:l?"icon-action-close-stroke":"icon-descriptive-menu-stroke"})))}d.propTypes={data:a().object.isRequired,store:a().object.isRequired,onEntityClick:a().func.isRequired,unsavedDescriptions:a().object}},"./documentation/components/entity/APIDocumentationTab/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./documentation/components/entity/APIDocumentationTab/APIDocumentationTab.js");t.default=o.default},"./documentation/components/entity/DocumentationEntityTitle/DocumentationEntityTitle.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=n("../../packages/documentation/documentation-core/index.js"),l=n("./appsdk/contextbar/ContextBarViewHeader.js"),c=n("./documentation/constants.js"),d=n("./documentation/components/entity/Request/OpenRequestButton.js"),u=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}function m(e){let t,{editable:n,entityData:o,entityType:m,rawData:h,activeVersion:g,source:f,headingLevel:b="",showAuthIcon:y,onUpdate:v,isRequestInteractive:I=!0,store:E,view:_,apiId:S,...C}=e;const[T,j]=(0,i.useState)(!1);return f===c.DOCUMENTATION_ORIGIN.CONTEXT_VIEW?i.createElement(l.ContextBarViewHeader,{title:"Documentation",onClose:e.onClose}):s().get(h,"id")?(t=s().get(h,"id"),i.createElement(i.Fragment,null,m===c.DOCUMENTATION_ENTITY.REQUEST&&!T&&i.createElement(u.RequestName,{method:(null==h?void 0:h.method)||"",onEdit:()=>j(!0),name:(null==h?void 0:h.name)||"",editable:n,RightContent:I&&m===c.DOCUMENTATION_ENTITY.REQUEST&&g===c.DOCUMENTATION_LATEST_VERSION_STRING?i.createElement(d.default,p({view:_,apiId:S},e)):null}),m===c.DOCUMENTATION_ENTITY.FOLDER&&!T&&i.createElement(u.FolderName,{onEdit:()=>j(!0),name:(null==h?void 0:h.name)||"",editable:n}),m===c.DOCUMENTATION_ENTITY.COLLECTION&&!T&&i.createElement(u.DocumentationName,{overrideClass:"documentation-core-item-name__text",onEdit:()=>j(!0),name:(null==h?void 0:h.name)||"",editable:n,isApp:!0}),T&&i.createElement("div",{className:"context-bar-header"},i.createElement(r.ItemName,p({method:s().get(h,"method"),title:s().get(o,"name"),rawTitle:s().get(h,"name"),headingLevel:b,onUpdate:e=>{j(!1),"function"==typeof v&&v(e)},handleEditToggle:e=>{e||j(!1)},editable:n,entityType:m,entityId:t,source:f},C,{view:_,apiId:S})),y&&i.createElement(a.default,{className:"context-bar-header__auth-icon",name:"icon-action-lock-stroke",color:"content-color-primary"}),I&&m===c.DOCUMENTATION_ENTITY.REQUEST&&g===c.DOCUMENTATION_LATEST_VERSION_STRING&&i.createElement(d.default,p({view:_,apiId:S},e))))):null}},"./documentation/components/entity/DocumentationEntityTitle/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./documentation/components/entity/DocumentationEntityTitle/DocumentationEntityTitle.js");t.default=o.default},"./documentation/components/entity/EntityAuth/EntityAuth.js":function(e,t,n){"use strict";n.r(t),n.d(t,{EntityAuth:function(){return y}});var o,s,i=n("../../node_modules/react/index.js"),a=n("./node_modules/prop-types/index.js"),r=n.n(a),l=n("./node_modules/lodash/lodash.js"),c=n.n(l),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("./runtime-repl/auth/AuthConstants.js"),p=n("./documentation/utils/auth.js"),m=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),h=n("./documentation/utils/utils.js"),g=n("./documentation/utils/collection.js"),f=n("./documentation/constants.js"),b=n("./documentation/hocs/withErrorBoundary.js");let y=(0,d.observer)(((s=class extends i.Component{render(){let{entityData:e,parentCollectionData:t,store:n,onParentEntityClick:o}=this.props,{auth:s,id:a,type:r}=e,l=c().cloneDeep(s);!l&&e&&(l=(0,h.getInheritedAuth)(e,a,r)),l=(0,g.resolveVariables)(l,n.activeEnvironmentVariables,t?t.variables:void 0);let d=c().has(l,"entity"),f=c().get(l,"type"),b=u.AUTH_TYPE_LABEL_MAP[f],y=[];if(!d&&l){y=(0,p.segregateAuthInformation)(l[l.type],s[l.type],l.type).basic.map((({key:e,value:t,description:n})=>({key:e,value:null==t?void 0:t.toString(),description:n})))}return f&&f!==u.AUTH_TYPE_RAW_NO_AUTH?i.createElement("div",{className:"entity-authorization"},i.createElement(m.KeyValueDescriptionTableHeading,null,i.createElement("span",{className:"entity-authorization-core__label"},"Authorization "),i.createElement("span",{className:"entity-authorization-core__title"},b," ")),d?i.createElement("div",{className:"entity-authorization__content"},"This ",r," is using an authorization helper from ",c().get(l,"entity.type")," ",i.createElement("span",{className:"entity-authorization__link",onClick:()=>{o&&o(c().get(l,"entity.type"),c().get(l,"entity.id"))}},c().get(l,"entity.name"))):null,l?i.createElement(m.KeyValueDescriptionTable,{items:y}):null):null}}).propTypes={entityType:r().oneOf([f.DOCUMENTATION_ENTITY.COLLECTION,f.DOCUMENTATION_ENTITY.FOLDER,f.DOCUMENTATION_ENTITY.REQUEST]).isRequired,parentCollectionData:r().object,store:r().object.isRequired,onParentEntityClick:r().func.isRequired},o=s))||o;t.default=(0,b.withErrorBoundary)(y,f.DOCUMENTATION_ERROR_TYPE.ENTITY_AUTH.TITLE,f.DOCUMENTATION_ERROR_TYPE.ENTITY_AUTH.MESSAGE,{addIllustration:!0,containerStyles:f.ERROR_STYLES})},"./documentation/components/entity/EntityAuth/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./documentation/components/entity/EntityAuth/EntityAuth.js");t.default=o.default},"./documentation/components/entity/NextEntities/index.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("./js/modules/services/AnalyticsService.js"),d=n("./documentation/constants.js"),u=n("./documentation/utils/utils.js"),p=n("./runtime-repl/request-http/RequestIcon.js"),m=n("./documentation/utils/collection.js"),h=n("./js/components/base/XPaths/XPath.js"),g=n("./appsdk/components/link/Link.js"),f=n("./node_modules/lodash/lodash.js");function b({type:e,folders:t,requests:n,activeEnvironmentVariables:s,parentCollectionData:i,store:l}){let b=f.isEmpty(t)&&f.isEmpty(n);return o.createElement("div",{className:"documentation-list"},o.createElement("div",{className:"documentation-list__title"},b?"":`Next in this ${e}`),o.createElement(h.default,{identifier:"documentationEntitiesList"},o.createElement("div",{className:"documentation-list__items-container"},t?t.map(((e,t)=>{var n,p;const f=(0,m.resolveVariables)({name:e.name},s,i?i.variables:void 0);return o.createElement(o.Fragment,{key:e.id},o.createElement(h.default,{identifier:t,key:t},o.createElement(r.default,{name:"icon-entity-folder-stroke",className:"pm-icon pm-icon-xs list-icon documentation-list__item-icon with-padding",color:"content-color-secondary"}),o.createElement(g.default,{className:"documentation-list__item-name",to:(0,u.entityRouteConfig)(d.DOCUMENTATION_ENTITY.FOLDER,e.id,null,{apiId:null==l?void 0:l.apiId,parentCollectionUid:(null==l||null===(n=l.contextData)||void 0===n?void 0:n.parentCollectionUid)||(null==l||null===(p=l.contextData)||void 0===p?void 0:p.collectionUid),gitLinkedMode:null==l?void 0:l.gitLinkedMode}),onClick:()=>{c.default.addEventV2({category:d.DOCUMENTATION_ANALYTICS.CATEGORY,action:"navigate",label:`${d.DOCUMENTATION_ANALYTICS.LABEL.CONTEXTBAR}_workbench_${null!=l&&l.apiId?"api":"workspace"}`,entityType:d.DOCUMENTATION_ENTITY.FOLDER,entityId:`${e.id}${null!=l&&l.apiId?`_${null==l?void 0:l.apiId}`:""}`})}},o.createElement(a.default,{type:"link-subtle"},f.name))))})):null,n?n.map(((e,t)=>{var n,r;const f=(0,m.resolveVariables)({name:e.name},s,i?i.variables:void 0);return o.createElement(o.Fragment,{key:e.id},o.createElement(h.default,{identifier:t,key:t},o.createElement(p.default,{className:`request-method-list-item request-method-list-item--${e.method} documentation-list__item-icon next-entity-padding`,method:e.method,methodClassname:"request-method-list-item--text"}),o.createElement(g.default,{className:"documentation-list__item-name",to:(0,u.entityRouteConfig)(d.DOCUMENTATION_ENTITY.REQUEST,e.id,null,{apiId:null==l?void 0:l.apiId,parentCollectionUid:(null==l||null===(n=l.contextData)||void 0===n?void 0:n.parentCollectionUid)||(null==l||null===(r=l.contextData)||void 0===r?void 0:r.collectionUid),gitLinkedMode:null==l?void 0:l.gitLinkedMode}),onClick:()=>{c.default.addEventV2({category:d.DOCUMENTATION_ANALYTICS.CATEGORY,action:"navigate",label:`${d.DOCUMENTATION_ANALYTICS.LABEL.CONTEXTBAR}_workbench_${null!=l&&l.apiId?"api":"workspace"}`,entityType:d.DOCUMENTATION_ENTITY.FOLDER,entityId:`${e.id}${null!=l&&l.apiId?`_${null==l?void 0:l.apiId}`:""}`})}},o.createElement(a.default,{type:"link-subtle"},f.name))))})):null)))}t.default=(0,l.observer)(b),b.propTypes={type:i().oneOf([d.DOCUMENTATION_ENTITY.COLLECTION,d.DOCUMENTATION_ENTITY.FOLDER,d.DOCUMENTATION_ENTITY.REQUEST]).isRequired,folders:i().arrayOf(i().object).isRequired,requests:i().arrayOf(i().object).isRequired,activeEnvironmentVariables:i().arrayOf(i().object).isRequired,parentCollectionData:i().object.isRequired}},"./documentation/components/entity/Request/Body/RequestBody.js":function(e,t,n){"use strict";n.r(t),n.d(t,{RequestBody:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./documentation/constants.js"),l=n("./documentation/utils/snippet.js"),c=n("./documentation/utils/collection.js"),d=n("./documentation/hocs/withErrorBoundary.js"),u=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js");function h(e){if(!e.request)return null;const t=(0,a.useTheme)();let n,s=e.request,d=s.dataMode,h=s.headerData,g=i().get(s,["dataOptions",d,"language"],(0,l.getContentTypeLanguage)(h)),f=(s.name,null);const b=(0,c.resolveVariables)({headers:i().cloneDeep(i().get(s,"rawModeData",i().get(s,"graphqlModeData",i().get(s,"data",""))))},e.store.activeEnvironmentVariables,e.parentCollectionData?e.parentCollectionData.variables:void 0);switch(d){case r.DOCUMENTATION_BODY.BODY_TYPES.RAW:let e=b.headers?b.headers:i().get(s,"rawModeData",i().get(s,"data"),"");f=""===e?null:o.createElement(o.Fragment,null,o.createElement(u.KeyValueDescriptionTableHeading,{isBody:!0},o.createElement("span",null,"Body"),o.createElement("span",null,r.DOCUMENTATION_BODY.BODY_TYPES.RAW," ",g?`(${g})`:"")),o.createElement(u.CodeComponent,{content:e,language:g,modalName:`${r.DOCUMENTATION_BODY.BODY_TYPES.RAW} ${g?`(${g})`:""}`}));break;case r.DOCUMENTATION_BODY.BODY_TYPES.GRAPHQL.LABEL:const a=b.headers?b.headers.query:i().get(s,"graphqlModeData.query",i().get(s,"data.query"),""),l=b.headers?b.headers.variables:i().get(s,"graphqlModeData.variables",i().get(s,"data.variables"),"");f=o.createElement(u.RequestBodyContainer,{"data-entity-type":"request-body"},o.createElement(u.RequestBodyWrapper,null,a||l?o.createElement(u.KeyValueDescriptionTableHeading,{isBody:!0},o.createElement("span",null,"Body"),o.createElement("span",null,r.DOCUMENTATION_BODY.BODY_TYPES.GRAPHQL.LABEL)):null,a&&o.createElement(p.default,{direction:"column",gap:"spacing-s"},o.createElement(m.default,{color:"content-color-tertiary"},"Query"),o.createElement(u.CodeComponent,{content:a,modalName:r.DOCUMENTATION_BODY.BODY_TYPES.GRAPHQL.QUERY,language:r.DOCUMENTATION_BODY.BODY_TYPES.GRAPHQL.LANGUAGE_TYPE.QUERY,theme:t})),l&&o.createElement(p.default,{direction:"column",gap:"spacing-s"},o.createElement(m.default,{color:"content-color-tertiary"},"GraphQL Variables"),o.createElement(u.CodeComponent,{content:l,modalName:r.DOCUMENTATION_BODY.BODY_TYPES.GRAPHQL.VARIABLES,language:r.DOCUMENTATION_BODY.BODY_TYPES.GRAPHQL.LANGUAGE_TYPE.VARIABLES,theme:t}))));break;case r.DOCUMENTATION_BODY.BODY_TYPES.URL_ENCODED:n=b.headers&&Array.isArray(b.headers)&&b.headers.length>0?b.headers:i().get(s,"data",[]),0===n.length?f=null:(n=n.map((({key:e,value:t,description:n})=>({key:e,value:null==t?void 0:t.toString(),description:n}))),f=o.createElement("div",{className:"core-request-items-table"},o.createElement(u.KeyValueDescriptionTableHeading,{isBody:!0},o.createElement("span",{className:"core-title"},"Body"),o.createElement("span",null,r.DOCUMENTATION_BODY.BODY_TYPES.URL_ENCODED)),0!==n.length&&o.createElement(u.KeyValueDescriptionTable,{items:n})));break;case r.DOCUMENTATION_BODY.BODY_TYPES.FORM_DATA.DATA_MODE:n=b.headers&&Array.isArray(b.headers)&&b.headers.length>0?b.headers:i().get(s,"data",[]),0===n.length?f=null:(n=n.map((({key:e,value:t,description:n})=>({key:e,value:null==t?void 0:t.toString(),description:n}))),f=o.createElement("div",{className:"core-request-items-table"},o.createElement(u.KeyValueDescriptionTableHeading,{isBody:!0},o.createElement("span",{className:"core-title"},"Body"),o.createElement("span",null,r.DOCUMENTATION_BODY.BODY_TYPES.FORM_DATA.LABEL)),0!==n.length&&o.createElement(u.KeyValueDescriptionTable,{items:n})));break;case r.DOCUMENTATION_BODY.BODY_TYPES.BINARY.LABEL:f=o.createElement(u.KeyValueDescriptionTableHeading,{isBody:!0},o.createElement("span",null,"Body"),o.createElement("span",null,r.DOCUMENTATION_BODY.BODY_TYPES.BINARY.BODY_LABEL));break;default:return null}return o.createElement(o.Fragment,null,f)}t.default=(0,d.withErrorBoundary)(h,r.DOCUMENTATION_ERROR_TYPE.REQUEST.TITLE,r.DOCUMENTATION_ERROR_TYPE.REQUEST.MESSAGE,{addIllustration:!0,containerStyles:r.ERROR_STYLES})},"./documentation/components/entity/Request/Examples/CodegenProvider.js":function(e,t,n){"use strict";n.r(t),n.d(t,{CodegenContext:function(){return r},default:function(){return l},withCodegen:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("../../packages/api-design/client-codegen/index.js"),i=n("./documentation/components/entity/Request/Examples/SnippetGeneration.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}const r=(0,o.createContext)({codegen:void 0,languages:[]});function l({children:e}){let[t,n]=(0,o.useState)(void 0),[a,l]=(0,o.useState)([]);return(0,o.useEffect)((()=>{!async function(){const e=await(0,s.importCodeGenerators)(),t=(0,i.getLanguageList)(e).map((e=>({name:e.label.toLowerCase()===e.variant.toLowerCase()?e.variant:`${e.label} - ${e.variant}`,id:JSON.stringify({language:e.key,variant:e.variant}),syntaxMode:e.syntaxMode})));n(e),l(t)}()}),[]),o.createElement(r.Provider,{value:{codegen:t,languages:a}},e)}function c(e){class t extends o.Component{render(){return o.createElement(r.Consumer,null,(({codegen:t,languages:n})=>o.createElement(e,a({codegen:t,languages:n},this.props))))}}return t.displayName=`withCodegen(${e.displayName||e.name})`,t}},"./documentation/components/entity/Request/Examples/ExampleCodeSnippet.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./node_modules/postman-collection/index.js"),d=n.n(c),u=n("./node_modules/postman-collection-transformer/index.js"),p=n.n(u),m=n("./documentation/utils/collection.js"),h=n("./documentation/components/entity/Request/Examples/CodegenProvider.js"),g=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),f=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n("./node_modules/lodash/lodash.js");let y=(0,h.withCodegen)(o=(0,r.observer)(o=class extends s.Component{constructor(...e){super(...e),this.state={snippet:void 0},this.generateSnippet=()=>{const{codegen:e,selectedExample:t,store:n,parentCollectionData:o,language:s,variant:i,snippetOptions:a}=this.props;if(!e)return;const r=(0,m.resolveVariables)({requestObject:t.requestObject},n.activeEnvironmentVariables,o?o.variables:void 0);let l={};if("string"==typeof r.requestObject)try{l=JSON.parse(r.requestObject)}catch(e){pm.logger.error(`Error parsing the request body attached to the response with Id: ${t.id}`,e)}else l=r.requestObject;if(l=p().convertSingle(l,{inputVersion:"1.0.0",outputVersion:"2.0.0",retainIds:!0}),l=b.get(l,"request"),b.isNil(l))pm.logger.error(`Examples~generateSnippet: Error in converting to sdk request for example: ${t.id}`);else{l=new(d().Request)(l);try{e.convert(s,i,l,a,((e,n)=>{e?pm.logger.error(`Error in generating snippet for response ${t.id}`,e):this.setState({snippet:n})}))}catch(e){return pm.logger.error(`Error in generating snippet for response ${t.id}`,e),this.setState({snippet:null})}}}}componentDidMount(){this.generateSnippet(),this.selectedExampleReaction=(0,l.reaction)((()=>this.props.selectedExample.requestObject),(()=>{this.generateSnippet()}))}componentDidUpdate(e){let t=e.language!==this.props.language,n=e.variant!==this.props.variant,o=!b.isEqual(e.snippetOptions,this.props.snippetOptions),s=!e.codegen&&this.props.codegen;(t||n||o||s)&&this.generateSnippet()}componentWillUnmount(){"function"==typeof this.selectedExampleReaction&&this.selectedExampleReaction()}render(){const{snippet:e}=this.state,{selectedExample:t,language:n,variant:o,languages:i,store:a,parentCollectionData:r}=this.props;if(!e)return null;const l=i.find((e=>e.id===JSON.stringify({language:n,variant:o}))),c=l?l.syntaxMode:void 0,d=(0,m.resolveVariables)({name:t.name},a,r?r.variables:void 0);return s.createElement(g.CodeComponent,{modalName:d.name,content:e,language:null==l?void 0:l.name,syntaxMode:c,theme:this.props.theme,overrideClass:"documentation-examples__snippet"})}})||o)||o;t.default=(0,f.withTheme)(y),y.propTypes={selectedExample:a().object.isRequired,store:a().object.isRequired,parentCollectionData:a().object,language:a().string.isRequired,variant:a().string.isRequired,codegen:a().object,languages:a().array}},"./documentation/components/entity/Request/Examples/ExampleResponseBody.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./documentation/utils/collection.js"),l=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js");function c({selectedExample:e,store:t,parentCollectionData:n}){if(!e.text)return o.createElement("div",{className:"docs-example-response-body-empty"},o.createElement("div",{className:"docs-example-response-body-empty__title"},"No response body"),o.createElement("div",{className:"docs-example-response-body-empty__body"},"This request doesn't return any response body."));const s=(0,r.resolveVariables)({text:e.text,name:e.name},t.activeEnvironmentVariables,n?n.variables:void 0);return o.createElement(l.CodeComponent,{content:s.text,language:e.language,modalName:s.name})}c.propTypes={selectedExample:i().object.isRequired,store:i().object.isRequired,parentCollectionData:i().object},t.default=(0,a.observer)(c)},"./documentation/components/entity/Request/Examples/ExampleResponseHeader.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./documentation/utils/collection.js"),l=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js");function c({selectedExample:e,store:t,parentCollectionData:n}){if(!Array.isArray(e.headers)||0===e.headers.length)return o.createElement("div",{className:"docs-example-response-headers-empty"},o.createElement("div",{className:"docs-example-response-headers-empty__title"},"No response headers"),o.createElement("div",{className:"docs-example-response-headers-empty__body"},"This request doesn't return any response headers."));const s=(0,r.resolveVariables)({headers:e.headers},t.activeEnvironmentVariables,n?n.variables:void 0).headers.map((({key:e,value:t,description:n})=>({key:e,value:null==t?void 0:t.toString(),description:n})));return o.createElement(l.KeyValueDescriptionTable,{items:s})}c.propTypes={selectedExample:i().object.isRequired,store:i().object.isRequired,parentCollectionData:i().object},t.default=(0,a.observer)(c)},"./documentation/components/entity/Request/Examples/Examples.js":function(e,t,n){"use strict";n.r(t),n.d(t,{Examples:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tabs.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabList.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tab.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanels.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanel.js"),f=n("./documentation/constants.js"),b=n("./documentation/hocs/withErrorBoundary.js"),y=n("./documentation/components/entity/Request/Examples/ExampleCodeSnippet.js"),v=n("./documentation/components/entity/Request/Examples/ExampleResponseBody.js"),I=n("./documentation/components/entity/Request/Examples/ExampleResponseHeader.js");const E="transientRequest";let _=(0,r.observer)(o=class extends s.Component{constructor(e){var t,n,o,s,i;super(e),this.handleExampleSelect=e=>{this.setState({selectedExample:e})},this.handleTabChange=e=>{this.setState({activeTab:e})};const a=(null===(t=e.request)||void 0===t?void 0:t.modelName)===E?null===(n=e.request)||void 0===n?void 0:n.ownResponses:null===(o=e.request)||void 0===o?void 0:o.responses;this.state={selectedExample:e.request&&(null==a?void 0:a.length)>0?{value:null===(s=a[0])||void 0===s?void 0:s.id,label:null===(i=a[0])||void 0===i?void 0:i.name,...a[0]}:null,activeTab:0}}componentDidMount(){const{request:e}=this.props,t=(null==e?void 0:e.modelName)===E?null==e?void 0:e.ownResponses:null==e?void 0:e.responses;this.reaction=(0,l.reaction)((()=>t),(e=>{var t,n;e&&e.length>0&&null===this.state.selectedExample&&this.setState({selectedExample:{value:null===(t=e[0])||void 0===t?void 0:t.id,label:null===(n=e[0])||void 0===n?void 0:n.name,...e[0]}})}))}componentWillUnmount(){"function"==typeof this.reaction&&this.reaction()}render(){var e;const{request:t,store:n,parentCollectionData:o,language:i,variant:a,snippetOptions:r}=this.props,l=(null==t?void 0:t.modelName)===E?null==t?void 0:t.ownResponses:null==t?void 0:t.responses,{activeTab:f,selectedExample:b}=this.state;return 0!==(null==l?void 0:l.length)&&b?s.createElement(c.ExampleContainer,null,s.createElement(c.ExampleRequestHeading,null,s.createElement(c.ExampleTitle,null,"Example"),s.createElement(c.ExampleDropdown,{options:l.map((e=>({value:e.id,label:e.name,...e}))),value:b,onChange:this.handleExampleSelect,isSearchable:!1,triggerType:"tertiary",triggerWidth:"auto",triggerMaxWidth:200,menuPlacement:"bottom",isClearable:!1})),s.createElement(d.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-bold"}},"Request"),s.createElement(y.default,{selectedExample:b,store:n,parentCollectionData:o,language:i,variant:a,snippetOptions:r}),s.createElement(d.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-bold"}},"Response"),s.createElement(u.default,{activeTabIndex:f,onChange:this.handleTabChange,type:"primary"},s.createElement(p.default,null,s.createElement(m.default,{label:"Body"}),s.createElement(m.default,{label:`Headers (${(null==b||null===(e=b.headers)||void 0===e?void 0:e.length)||0})`})),s.createElement(h.default,null,s.createElement(g.default,null,s.createElement(v.default,{store:n,selectedExample:b,parentCollectionData:o})),s.createElement(g.default,null,s.createElement(I.default,{store:n,selectedExample:b,parentCollectionData:o}))))):null}})||o;_.propTypes={language:a().string.isRequired,variant:a().string.isRequired,snippetOptions:a().object,request:a().object.isRequired,store:a().object.isRequired,parentCollectionData:a().object},_.defaultProps={language:f.DOCUMENTATION_DEFAULT_LANGUAGE_SETTINGS.LANGUAGE,variant:f.DOCUMENTATION_DEFAULT_LANGUAGE_SETTINGS.VARIANT},t.default=(0,b.withErrorBoundary)(_,f.DOCUMENTATION_ERROR_TYPE.EXAMPLE.TITLE,f.DOCUMENTATION_ERROR_TYPE.EXAMPLE.MESSAGE,{addIllustration:!0,containerStyles:{minHeight:"300px",justifyContent:"center",alignItems:"center"}})},"./documentation/components/entity/Request/Examples/SnippetGeneration.js":function(e,t,n){"use strict";n.r(t),n.d(t,{getLanguageList:function(){return r},loadCodegenModule:function(){return a}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("../../packages/api-design/client-codegen/index.js");n("./node_modules/postman-collection/index.js");async function a(){return await(0,i.importCodeGenerators)()}function r(e){if(!e)return[];const t={text:"plaintext",c_cpp:"cpp",golang:"go",objectivec:"objective-c",ocaml:"fsharp",graphql_sdl:"graphql",dart:"powershell"};return s().flatMap(e.getLanguageList(),(e=>e.variants.map((n=>({key:e.key,label:e.label,variant:n.key,syntaxMode:t[e.syntax_mode]||e.syntax_mode})))))}},"./documentation/components/entity/Request/OpenRequestButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-forward-small.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=(n("./documentation/utils/utils.js"),n("./documentation/constants.js")),r=n("./js/modules/services/AnalyticsService.js"),l=n("./appsdk/components/link/Link.js"),c=n("./runtime-repl/_common/NavigationConstants.js"),d=n("./runtime-repl/_common/uid-helper.ts");function u(e){var t,n,u,p,m,h,g;const{rawData:f}=e,{owner:b}=(0,d.decomposeUID)(null===(t=e.store)||void 0===t?void 0:t.entityUid),y=null===(n=e.store)||void 0===n?void 0:n.gitLinkedMode,v=(null==y?void 0:y.name)===a.DOCUMENTATION_MODE.BRANCH||(null==y?void 0:y.name)===a.DOCUMENTATION_MODE.VERSION?`${b}-${f.id}`:f.id,I=y&&y.name==a.DOCUMENTATION_MODE.BRANCH?y.value:"",E=y&&y.name==a.DOCUMENTATION_MODE.VERSION?y.value:"",_={};var S;if(null!==(u=e.store)&&void 0!==u&&u.apiId&&I)_.collection=null===(S=e.store)||void 0===S?void 0:S.entityUid,_.branch=I;else if(null!==(p=e.store)&&void 0!==p&&p.apiId&&E){var C;_.collection=null===(C=e.store)||void 0===C?void 0:C.entityUid,_.version=E}const T=null!==(m=e.store)&&void 0!==m&&m.apiId?{rid:v,apiId:null===(h=e.store)||void 0===h?void 0:h.apiId}:{rid:v},j=null!==(g=e.store)&&void 0!==g&&g.apiId?c.WORKFLOW_IDENTIFIER.OPEN_REQUEST_IN_API_CONTEXT:"documentation.openRequestNavigation";return o.createElement(l.default,{to:{routeIdentifier:j,routeParams:T,queryParams:_},onClick:()=>{var t,n,o;t=f.id,n=e.view,o=e.apiId,r.default.addEventV2({category:a.DOCUMENTATION_ANALYTICS.CATEGORY,action:"open_request",label:`${a.DOCUMENTATION_ANALYTICS.LABEL.TAB}_${n}_${o?"api":"workspace"}`,entityType:a.DOCUMENTATION_ENTITY.REQUEST,entityId:`${t}${o?`_${o}`:""}`})}},o.createElement(i.default,{className:"open-request-button",type:"plain",text:"Open Request",icon:o.createElement(s.default,{color:"content-color-link"})}))}},"./documentation/components/entity/RequestInfo/index.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./documentation/constants.js"),l=n("./documentation/components/entity/Request/Examples/Examples.js"),c=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),d=n("./documentation/components/entity/Request/Body/RequestBody.js"),u=n("./documentation/utils/collection.js"),p=n("./node_modules/lodash/lodash.js");function m({entityData:e,parentCollectionData:t,store:n,source:s,language:i,variant:a,snippetOptions:m,codegen:h}){const g=(0,u.resolveVariables)({headers:p.cloneDeep(e.headerData),pathVariableData:p.cloneDeep(e.pathVariableData),queryParams:p.cloneDeep(e.queryParams)},n.activeEnvironmentVariables,t?t.variables:void 0);g.headers=Array.isArray(g.headers)&&g.headers.filter((e=>e.enabled));const f=e=>e.map((({key:e,value:t,description:n})=>({key:e,value:t,description:n})));return o.createElement(o.Fragment,null,g.headers&&Array.isArray(g.headers)&&g.headers.length>0?o.createElement("div",{className:"core-request-items-table"},o.createElement(c.KeyValueDescriptionTableHeading,null,o.createElement("span",{className:"core-title"},"Request Headers")),o.createElement(c.KeyValueDescriptionTable,{items:f(g.headers)})):null,g.queryParams&&Array.isArray(g.queryParams)&&g.queryParams.length>0?o.createElement("div",{className:"core-request-items-table"},o.createElement(c.KeyValueDescriptionTableHeading,null,o.createElement("span",{className:"core-title"},"Query Params")),o.createElement(c.KeyValueDescriptionTable,{items:f(g.queryParams)})):null,g.pathVariableData&&Array.isArray(g.pathVariableData)&&g.pathVariableData.length>0?o.createElement("div",{className:"core-request-items-table"},o.createElement(c.KeyValueDescriptionTableHeading,null,o.createElement("span",{className:"core-title"},"Path Variables")),o.createElement(c.KeyValueDescriptionTable,{items:f(g.pathVariableData)})):null,o.createElement(d.default,{request:e,parentCollectionData:t,store:n}),s===r.DOCUMENTATION_ORIGIN.WORKBENCH_VIEW&&o.createElement(l.default,{request:e,parentCollectionData:t,store:n,language:i,variant:a,snippetOptions:m,codegen:h}))}m.propTypes={entityData:i().object.isRequired,parentCollectionData:i().object,store:i().object.isRequired,source:i().oneOf([r.DOCUMENTATION_ORIGIN.WORKBENCH_VIEW,r.DOCUMENTATION_ORIGIN.CONTEXT_VIEW]).isRequired,language:i().string,variant:i().string,snippetOptions:i().object,codegen:i().object},t.default=(0,a.observer)(m)},"./documentation/components/entity/RuntimeEntity/RuntimeEntity.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-warning-stroke.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),m=n("./js/modules/services/AnalyticsService.js"),h=n("./js/modules/sync-helpers/sanitize-collection-model-from-sync.js"),g=n("./documentation/utils/analytics.js"),f=n("./documentation/utils/utils.js"),b=n("./documentation/utils/collection.js"),y=n("./documentation/constants.js"),v=n("./documentation/components/entity/EntityAuth/index.js"),I=n("../../packages/documentation/documentation-core/index.js"),E=n("./documentation/components/entity/NextEntities/index.js"),_=n("./documentation/components/entity/DocumentationEntityTitle/index.js"),S=n("./documentation/components/entity/RequestInfo/index.js"),C=n("./node_modules/lodash/lodash.js");function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},T.apply(this,arguments)}let j=(0,r.observer)(o=class extends s.Component{constructor(...e){super(...e),this.state={editMode:!1,isGitLinkedMode:!1,isAPIOnBranch:!1},this.descriptionEditorContainer=(0,s.createRef)(),this.handleEditButtonClick=()=>{var e;const{editable:t,onEditModeChange:n,type:o,entityData:s,source:i}=this.props,a=s.id,r=(null===(e=this.props.store)||void 0===e?void 0:e.apiId)||this.props.apiId,l=this.props.view;t&&(this.setState({editMode:!0}),n&&"function"==typeof n&&n(o,a,!0),m.default.addEventV2({category:y.DOCUMENTATION_ANALYTICS.CATEGORY,action:"initiate_edit_description",label:(0,g.getAnalyticsLabel)(i,l,r),entityType:o,entityId:`${a}${r?`_${r}`:""}`}),setTimeout((()=>{if(this.descriptionEditorContainer.current){let e=this.descriptionEditorContainer.current.getBoundingClientRect();Math.floor(e.height)>y.DESCRIPTION_EDITOR_MIN_HEIGHT&&(this.descriptionEditorContainer.current.classList.add("documentation-description__editor-container"),requestAnimationFrame((()=>{this.descriptionEditorContainer.current.scrollIntoView()})))}}),0))},this.handleSaveDescription=async e=>{var t;const{updateDescription:n,type:o,entityData:s,onEditableValueSave:i,onEditModeChange:a,source:r,updateUnsavedDescription:l,view:c}=this.props,d=s.id,u=(null===(t=this.props.store)||void 0===t?void 0:t.apiId)||this.props.apiId;if("function"==typeof n)try{await n(o,d,e),r===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW&&this.props.updateUnsavedDescription(null)}catch{const{addToast:e}=this.props;return e({description:"Couldn't update description. Please try again.",status:"error"}),void this.props.store.updateLoadingStateForEntity(d,!1)}i&&"function"==typeof i&&i(o,d,y.DOCUMENTATION_EDITABLE_FIELD.DESCRIPTION),a&&"function"==typeof a&&a(o,d,!1),this.setState({editMode:!1}),m.default.addEventV2({category:y.DOCUMENTATION_ANALYTICS.CATEGORY,action:"save_description",label:(0,g.getAnalyticsLabel)(r,c,u),entityType:o,entityId:`${d}${u?`_${u}`:""}`})},this.handleEditCancel=()=>{const{onEditCancel:e,onEditModeChange:t,type:n,entityData:o,source:s,updateUnsavedDescription:i}=this.props,a=o.id;this.setState({editMode:!1}),e&&"function"==typeof e&&e(n,a,y.DOCUMENTATION_EDITABLE_FIELD.DESCRIPTION),t&&"function"==typeof t&&t(n,a,!1),s===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW&&"function"==typeof i&&i(null)},this.handleDescriptionChange=e=>{const{onEditableValueChange:t,type:n,entityData:o,source:s,store:i,updateUnsavedDescription:a,isOffline:r}=this.props,l=o.id;t&&t(n,l,y.DOCUMENTATION_EDITABLE_FIELD.DESCRIPTION,e,o.description),s===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW&&"function"==typeof a&&a(e)},this.handleParentEntityClick=(e,t)=>C.has(this.props,"onParentEntityClick")&&"function"==typeof this.props.onParentEntityClick&&this.props.onParentEntityClick(e,t)}async componentDidMount(){var e,t;const n=(null===(e=this.props.store)||void 0===e?void 0:e.gitLinkedMode)||this.props.gitLinkedMode,o=(null===(t=this.props.store)||void 0===t?void 0:t.apiId)||this.props.apiId;if(o){const e=await(0,f.isAPIMigratedAndGitLinked)(n,o);e&&this.setState({isAPIOnBranch:!0}),(e||(null==n?void 0:n.name)===y.DOCUMENTATION_MODE.VERSION)&&this.setState({isGitLinkedMode:!0})}}handlePreviewClick(e,t){var n;const o=(null===(n=this.props.store)||void 0===n?void 0:n.apiId)||this.props.apiId,s=this.props.view,i=this.props.source;m.default.addEventV2({category:y.DOCUMENTATION_ANALYTICS.CATEGORY,action:"preview_description",label:(0,g.getAnalyticsLabel)(i,s,o),entityType:t,entityId:`${e}${o?`_${o}`:""}`})}getEditor(){var e,t;let{type:n,entityData:o,parentCollectionData:i,source:a,store:r,editable:l,unsavedDescription:c,isOffline:d}=this.props;const u=o.id,p=(null===(e=this.props.store)||void 0===e?void 0:e.apiId)||this.props.apiId,m={model:p?y.FILE_UPLOAD_MODELS.API_COLLECTION:r.entityType,modelId:p?null!=i&&null!==(t=i.id)&&void 0!==t&&t.startsWith(null==i?void 0:i.owner)?`${p}_${null==i?void 0:i.id}`:`${p}_${null==i?void 0:i.owner}-${null==i?void 0:i.id}`:r.entityUid};return s.createElement("div",{className:"description-editor-container",ref:this.descriptionEditorContainer},s.createElement(I.DescriptionEditor,{description:o.description||"",unsavedDescription:c,entityType:n,entityId:u,source:a,editable:l,onCancel:this.handleEditCancel,onSave:this.handleSaveDescription,onChange:this.handleDescriptionChange,placeholder:(0,f.getInlineEditPlaceholder)(n),onPreviewClick:()=>this.handlePreviewClick(u,n),createdAt:i.createdAt,showWysiwygOption:!0,store:r,isEntityLoading:r.isEntityLoading(u),isLoaderForDescriptionEnabled:!0,useDefaultEditorSetting:!0,isOffline:d,modelDetails:m}))}render(){var e;let{type:t,entityData:n,parentCollectionData:o,source:i,store:a,editable:r,editorActive:l,updateName:c,onRequestAccess:d,unsavedDescription:u,language:m,variant:g,snippetOptions:I,codegen:j,isRequestInteractive:w,activeVersion:O,isOffline:N,isOverview:D,gitLinkedMode:R}=this.props;const P=n.id,M=n.isEditable&&((null===(e=a.gitLinkedMode)||void 0===e?void 0:e.name)!==y.DOCUMENTATION_MODE.VERSION||(null==R?void 0:R.name)!==y.DOCUMENTATION_MODE.VERSION),{activeEnvironmentVariables:L}=a,x=(0,b.resolveVariables)({name:n.name,description:n.description,url:n.url},L,o?o.variables:void 0);(0,h.sanitizeNullNames)(x);const{editMode:k}=this.state;return"collection"===t?s.createElement(p.CollectionContainer,{id:`${t}-${P}`,className:"collection-container"},i!==y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW?s.createElement(_.default,T({},void 0!==w?{isRequestInteractive:w}:{},{entityData:x,entityType:t,rawData:n,source:i,headingLevel:"h1",activeVersion:O,editable:M&&r,onUpdate:e=>{"function"==typeof c&&c(t,P,e)},view:this.props.view,apiId:!0})):null,M&&k&&(i===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW||l)?this.getEditor():s.createElement(p.DocumentationDescription,{canEdit:M,onEdit:this.handleEditButtonClick,description:x.description,placeholder:(0,f.getInlineEditPlaceholder)(t),editable:r,entityType:t,showEmptyPlaceholder:!D&&(M||i===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW),isImageClickEnabled:!0,editIconClassname:"description-preview__edit-icon",containerClassName:"description-preview__markdown"}),!u||i!==y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW&&l?null:s.createElement(A,null),!k&&s.createElement(v.default,{entityData:n,parentCollectionData:o,store:a,entityType:t,onParentEntityClick:this.handleParentEntityClick}),k||i!==y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW?null:s.createElement(E.default,{type:t,folders:C.get(n,this.state.isGitLinkedMode?"ownFolders":"folders"),requests:C.get(n,this.state.isGitLinkedMode?"ownRequests":"requests"),activeEnvironmentVariables:L,parentCollectionData:o,store:a})):"folder"===t?s.createElement(p.FolderContainer,{id:`${t}-${P}`,className:"folder-container"},i!==y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW?s.createElement(_.default,T({},void 0!==w?{isRequestInteractive:w}:{},{entityData:x,entityType:t,rawData:n,source:i,headingLevel:"h2",activeVersion:O,editable:M&&r,onUpdate:e=>{"function"==typeof c&&c(t,P,e)}})):null,M&&k&&(i===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW||l)?this.getEditor():s.createElement(p.DocumentationDescription,{canEdit:M,onEdit:this.handleEditButtonClick,description:x.description,placeholder:(0,f.getInlineEditPlaceholder)(t),editable:r,entityType:t,showEmptyPlaceholder:!D&&(M||i===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW),isImageClickEnabled:!0,editIconClassname:"description-preview__edit-icon",containerClassName:"description-preview__markdown"}),!u||i!==y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW&&l?null:s.createElement(A,null),!k&&s.createElement(v.default,{entityData:n,parentCollectionData:o,store:a,entityType:t,onParentEntityClick:this.handleParentEntityClick}),k||i!==y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW?null:s.createElement(E.default,{type:t,folders:C.get(n,this.state.isGitLinkedMode?"ownFolders":"folders"),requests:C.get(n,this.state.isGitLinkedMode?"ownRequests":"requests"),activeEnvironmentVariables:L,parentCollectionData:o,store:a})):"request"===t?s.createElement(p.RequestContainer,{id:`${t}-${P}`,className:"request-container"},i!==y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW?s.createElement(_.default,T({},void 0!==w?{isRequestInteractive:w}:{},{entityData:x,entityType:t,rawData:n,source:i,headingLevel:"h3",activeVersion:O,editable:M&&r,onUpdate:e=>{"function"==typeof c&&c(t,P,e)}})):null,x.url&&s.createElement(p.RequestURI,{overrideClass:"request-url-core",request:{uri:x.url}}),M&&k&&(i===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW||l)?this.getEditor():s.createElement(p.DocumentationDescription,{canEdit:M,onEdit:this.handleEditButtonClick,description:x.description,x:!0,placeholder:(0,f.getInlineEditPlaceholder)(t),editable:r,entityType:t,showEmptyPlaceholder:!D&&(M||i===y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW),isImageClickEnabled:!0,editIconClassname:"description-preview__edit-icon",containerClassName:"description-preview__markdown"}),!u||i!==y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW&&l?null:s.createElement(A,null),!k&&s.createElement(v.default,{entityData:n,parentCollectionData:o,store:a,entityType:t,onParentEntityClick:this.handleParentEntityClick}),s.createElement(S.default,{entityData:n,parentCollectionData:o,store:a,source:i,language:m,variant:g,snippetOptions:I,codegen:j})):void 0}})||o;function A(){return s.createElement(d.default,{gap:"spacing-s",alignItems:"center",className:"unsaved-changes__message"},s.createElement(l.default,{color:"content-color-primary"}),s.createElement(u.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-s",lineHeight:"line-height-s",fontWeight:"text-weight-regular",fontFamily:"text-family-default"}},"Unsaved changes"))}j.propTypes={type:a().oneOf([p.DOCUMENTATION_ENTITY.COLLECTION,p.DOCUMENTATION_ENTITY.FOLDER,p.DOCUMENTATION_ENTITY.REQUEST]).isRequired,entityData:a().object.isRequired,source:a().oneOf([y.DOCUMENTATION_ORIGIN.WORKBENCH_VIEW,y.DOCUMENTATION_ORIGIN.CONTEXT_VIEW]).isRequired,store:a().object.isRequired,editable:a().bool,editorActive:a().bool,updateName:a().func,updateDescription:a().func,onEditableValueChange:a().func,onEditableValueSave:a().func,onEditCancel:a().func,onEditModeChange:a().func,onRequestAccess:a().func,unsavedDescription:a().string,updateUnsavedDescription:a().func,language:a().string,variant:a().string,snippetOptions:a().object,codegen:a().object,parentCollectionData:a().object.isRequired,onParentEntityClick:a().func.isRequired,isRequestInteractive:a().bool},t.default=(0,r.observer)((0,c.default)(j))},"./documentation/components/entity/RuntimeEntity/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./documentation/components/entity/RuntimeEntity/RuntimeEntity.js");t.default=o.default},"./documentation/components/entity/SkeletonLoader/WorkbenchSkeletonLoader/WorkbenchSkeletonLoader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("./documentation/components/SkeletonUnit.js"),i=n("./node_modules/lodash/lodash.js");function a(){const e=[{height:24,width:86,top:14,left:585,borderRadius:3},{height:24,width:96,top:14,left:685,borderRadius:3},{height:24,width:86,top:14,left:795,borderRadius:3},{height:20,width:76,top:124,left:612,borderRadius:3},{height:16,width:130,top:158,left:636,borderRadius:3},{height:16,width:130,top:190,left:636,borderRadius:3},{height:16,width:130,top:222,left:636,borderRadius:3},{height:16,width:130,top:254,left:636,borderRadius:3},{height:16,width:130,top:286,left:636,borderRadius:3},{height:24,width:120,top:14,left:16,borderRadius:3},{height:20,width:120,top:58,left:16,borderRadius:3},{height:20,width:120,top:58,left:160,borderRadius:3},{height:20,width:20,top:58,left:304,borderRadius:3},{height:40,width:464,top:124,left:84,borderRadius:3},{height:16,width:464,top:184,left:84,borderRadius:3},{height:16,width:464,top:216,left:84,borderRadius:3},{height:16,width:296,top:248,left:84,borderRadius:3},{height:32,width:267,top:304,left:84,borderRadius:3},{height:16,width:464,top:356,left:84,borderRadius:3},{height:16,width:464,top:388,left:84,borderRadius:3},{height:16,width:296,top:420,left:84,borderRadius:3},{height:32,width:267,top:476,left:84,borderRadius:3},{height:16,width:464,top:528,left:84,borderRadius:3},{height:16,width:464,top:560,left:84,borderRadius:3},{height:16,width:296,top:592,left:84,borderRadius:3}];return o.createElement("div",{className:"documentation-workbench-loader"},o.createElement("div",{className:"documentation-workbench-body"},i.map(e,((e,t)=>t>=9?o.createElement(s.default,{key:t,height:e.height,width:e.width,top:e.top,left:e.left,borderRadius:e.borderRadius}):null)),o.createElement("div",{className:"documentation-workbench-body--right"},i.map(e,((e,t)=>t<9?o.createElement(s.default,{key:t,height:e.height,width:e.width,top:e.top,left:e.left,borderRadius:e.borderRadius}):null)))))}},"./documentation/controllers/APIDocumentationController.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o,s,i,a,r=n("../../node_modules/mobx/lib/mobx.module.js"),l=n("./appsdk/workbench/BaseWorkbenchController.js"),c=n("./appsdk/tracked-state/ObservableTrackedState.js"),d=n("./documentation/stores/DocumentationWorkbenchViewStore.js"),u=n("./documentation/services/DocumentationService.js"),p=n("./documentation/constants.js"),m=n("./documentation/navigation.js");function h(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function g(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let f=(o=class extends l.default{constructor(e,t=p.DOCUMENTATION_LATEST_VERSION_STRING,n){let o;super(),this.store=null,h(this,"entityId",s,this),h(this,"tagId",i,this),this.trackedState=null,this.scrollPositions={},h(this,"setIds",a,this),this.handleScroll=(e,t)=>{this.scrollPositions[t]=e},this.setIds(e,t),this.store=new d.default(p.DOCUMENTATION_ENTITY.COLLECTION,e,t,n);try{o=(0,u.fetchCollectionExistenceInActiveWorkspace)(e)}catch(e){return}if(!o)return(0,m.handleCollectionNotPresentInWorkspace)(e);this.store.init(),this.beginTracking()}beginTracking(){this.trackedState=new c.ObservableTrackedState({unsavedDescriptions:[]}),this.attachTrackedState(this.trackedState,this.saveTrackedStates)}trackDescriptionChange(e,t,n){let o=this.trackedState.get("unsavedDescriptions"),s=o.find((n=>n.id===t&&n.type===e));s?s.value=n:this.trackedState.set({unsavedDescriptions:[...o,{id:t,type:e,value:n}]})}untrackDescriptionChange(e,t){let n=this.trackedState.get("unsavedDescriptions");this.trackedState.set({unsavedDescriptions:n.filter((n=>`${n.type}-${n.id}`!=`${e}-${t}`))})}async saveTrackedStates(){let e=this.trackedState.get("unsavedDescriptions");await Promise.all(e.map((e=>(0,u.updateData)(e.type,e.id,{description:e.value}))))}},s=g(o.prototype,"entityId",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=g(o.prototype,"tagId",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.DOCUMENTATION_LATEST_VERSION_STRING}}),a=g(o.prototype,"setIds",[r.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{this.entityId=e,this.tagId=t}}}),g(o.prototype,"trackDescriptionChange",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"trackDescriptionChange"),o.prototype),o)},"./documentation/stores/DocumentationMasterStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var o,s,i,a,r,l,c,d,u,p=n("../../node_modules/mobx/lib/mobx.module.js"),m=n("./js/stores/StoreManager.js"),h=n("./js/stores/CurrentUserStore.js"),g=n("./js/stores/SyncStatusStore.js"),f=n("./js/stores/ActiveWorkspaceStore.js"),b=n("./runtime-repl/environment/datastores/ActiveEnvironmentStore.js"),y=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),v=n("./documentation/constants.js"),I=n("./documentation/services/DocumentationService.js"),E=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),_=n("./runtime-repl/folder/_api/FolderStoreV2.js"),S=n("./runtime-repl/request-http/_api/RequestStoreV2.js"),C=n("./runtime-repl/collection/_api/CollectionInterfaceV2.ts"),T=n("./runtime-repl/folder/_api/FolderInterfaceV2.ts"),j=n("./runtime-repl/request-http/_api/RequestInterfaceV2.ts"),A=n("./runtime-repl/collection/datastores/models/CollectionPermissions.js"),w=n("./documentation/utils/utils.js"),O=n("./api-dev/interfaces/APIInterface.js"),N=n("./runtime-repl/transient-collection/datastores/stores/TransientFolderStore.ts"),D=n("./runtime-repl/transient-collection/datastores/stores/TransientRequestStore.ts"),R=n("./js/utils/uid-helper.js"),P=n("./node_modules/lodash/lodash.js");function M(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function L(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let x=(u=class e{constructor(){M(this,"collections",s,this),M(this,"folders",i,this),M(this,"requests",a,this),M(this,"loadingStateForEntity",r,this),M(this,"collectionInstance",l,this),M(this,"environmentVariables",c,this),M(this,"loadingPublishedStateForEntity",d,this),this.isAPIOnBranch={}}static getInstance(){return void 0===e.instance&&(e.instance=new e),e.instance}get isOffline(){return!(0,m.resolveStoreInstance)(g.default).isSocketConnected}get isEditable(){const e=(0,m.resolveStoreInstance)(h.default).isLoggedIn;return!this.isOffline&&e}setEnvironmentVariable(e){this.environmentVariables=e}get activeEnvironmentVariables(){return this.environmentVariables||(0,m.resolveStoreInstance)(b.default).enabledValues}get isUserMemberOfActiveWorkspace(){return(0,m.resolveStoreInstance)(f.default).isMember}getData(e,t={withPublishedData:!1}){const{uid:n,parentCollectionUid:o,type:s,versionTag:i=v.DOCUMENTATION_LATEST_VERSION_STRING,apiId:a,gitLinkedMode:r}=e,l=this._findItem(e),{withPublishedData:c,source:d}=t;if(l&&l.status===v.DOCUMENTATION_STATUS.LOADING)return l;(!l||"contextBar"!==d||a&&r)&&(!l&&this._createInitialState({uid:n,type:s,versionTag:i}),i===v.DOCUMENTATION_LATEST_VERSION_STRING||(null==r?void 0:r.name)===v.DOCUMENTATION_MODE.VERSION&&a?this._fetchDataFromInterface({uid:n,parentCollectionUid:o,type:s,source:d,apiId:a,gitLinkedMode:r,versionTag:i}):this._fetchDataFromSync({uid:n,type:s,versionTag:i}));let u=l||this._findItem(e);return s===v.DOCUMENTATION_ENTITY.COLLECTION&&i===v.DOCUMENTATION_LATEST_VERSION_STRING&&c&&u&&!u.publishedData&&this._fetchPublishedData(n,{apiId:a}),u}_findItem(e){const{uid:t,type:n,versionTag:o=v.DOCUMENTATION_LATEST_VERSION_STRING}=e;switch(n){case v.DOCUMENTATION_ENTITY.COLLECTION:return this.collections[`${t}:${o}`];case v.DOCUMENTATION_ENTITY.FOLDER:return this.folders[`${t}:${o}`];case v.DOCUMENTATION_ENTITY.REQUEST:return this.requests[`${t}:${o}`];default:throw new TypeError(`DocumentationMasterStore~_findItem: unknown entity type - ${n}`)}}_createInitialState(e){const{uid:t,type:n,versionTag:o=v.DOCUMENTATION_LATEST_VERSION_STRING}=e;switch(n){case v.DOCUMENTATION_ENTITY.COLLECTION:this.collections[`${t}:${o}`]={status:v.DOCUMENTATION_STATUS.LOADING,data:void 0};break;case v.DOCUMENTATION_ENTITY.FOLDER:this.folders[`${t}:${o}`]={status:v.DOCUMENTATION_STATUS.LOADING,data:void 0};break;case v.DOCUMENTATION_ENTITY.REQUEST:this.requests[`${t}:${o}`]={status:v.DOCUMENTATION_STATUS.LOADING,data:void 0};break;default:throw new TypeError(`DocumentationMasterStore~_createInitialState: unknown entity type - ${n}`)}}async _fetchDataFromInterface(e){var t;if(e.apiId&&void 0===this.isAPIOnBranch[e.apiId]){const t=await(0,w.isAPIMigratedAndGitLinked)(e.gitLinkedMode,e.apiId);this.isAPIOnBranch[e.apiId]=t}e.apiId&&(this.isAPIOnBranch[e.apiId]||(null===(t=e.gitLinkedMode)||void 0===t?void 0:t.name)===v.DOCUMENTATION_MODE.VERSION)?await this._fetchDataFromADPInterface(e):await this._fetchDataFromRuntimeInterface(e)}async _fetchDataFromADPInterface(e){const{uid:t,parentCollectionUid:n,type:o,apiId:s,gitLinkedMode:i,versionTag:a}=e,r={...e,versionTag:a};this._updateStatus(r,v.DOCUMENTATION_STATUS.LOADING);try{let e;switch(this.collectionInstance[n]=await(0,O.getAPILinkedEntityModel)(s,i,v.DOCUMENTATION_ENTITY.COLLECTION,n),o){case v.DOCUMENTATION_ENTITY.COLLECTION:var l;e=null===(l=this.collectionInstance[n])||void 0===l?void 0:l.model;break;case v.DOCUMENTATION_ENTITY.FOLDER:{const o=await this.collectionInstance[n].getFolder(t);e=null==o?void 0:o.model;break}case v.DOCUMENTATION_ENTITY.REQUEST:{const o=await this.collectionInstance[n].getRequest(t);e=null==o?void 0:o.model;break}default:throw new TypeError(`DocumentationMasterStore~_fetchDataFromADPInterface: unknown entity type - ${o}`)}e||pm.logger.error("DocumentationMasterStore~_fetchDataFromADPInterface: No data found for given entity"),this._updateData(r,e),this._updateStatus(r,v.DOCUMENTATION_STATUS.DATA_FETCHED)}catch(e){pm.logger.error("~_fetchDataFromADPInterface: Unable to fetch data",e),this._updateStatus(r,v.DOCUMENTATION_STATUS.ERROR)}}async _fetchDataFromRuntimeInterface(e){const{uid:t,parentCollectionUid:n,type:o}=e,s={...e,versionTag:v.DOCUMENTATION_LATEST_VERSION_STRING};this._updateStatus(s,v.DOCUMENTATION_STATUS.LOADING);try{let i,a;const r=E.getOne;switch(o){case v.DOCUMENTATION_ENTITY.COLLECTION:"contextBar"===e.source&&(a=["response","request"]),i=await r(t,{permissions:[A.CollectionPermissionConstants.PUBLISH,A.CollectionPermissionConstants.EDIT],exclude:a});break;case v.DOCUMENTATION_ENTITY.FOLDER:"contextBar"===e.source&&(a=["response","request"]),i=await(0,_.getOne)(t,n,{exclude:a});break;case v.DOCUMENTATION_ENTITY.REQUEST:"contextBar"===e.source&&(a=["response"]),i=await(0,S.getOne)(t,n,{exclude:a});break;default:throw new TypeError(`DocumentationMasterStore~_fetchDataFromRuntimeInterface: unknown entity type - ${o}`)}this._updateData(s,i),this._updateStatus(s,v.DOCUMENTATION_STATUS.DATA_FETCHED)}catch(e){pm.logger.error("~_fetchDataFromRuntimeInterface: Unable to fetch data",e),this._updateStatus(s,v.DOCUMENTATION_STATUS.ERROR)}}async _fetchDataFromSync(e){const{uid:t,type:n,versionTag:o}=e;if(this._updateStatus(e,v.DOCUMENTATION_STATUS.LOADING),this.isOffline)this._updateStatus(e,v.DOCUMENTATION_STATUS.DATA_NOT_AVAILABLE_OFFLINE);else try{const[s,...i]=t.split("-"),a=i.join("-"),r=(await(0,I.fetchData)(n,a,s,{populate:!0,versionTag:o})).body.data,l=this._transformData(r,n);this._updateData(e,l),this._updateStatus(e,v.DOCUMENTATION_STATUS.DATA_FETCHED)}catch(t){pm.logger.error("~_fetchDataFromSync: Unable to fetch data from sync",t),this._updateStatus(e,v.DOCUMENTATION_STATUS.ERROR)}}async _fetchPublishedData(e,t={}){try{if(this.loadingPublishedStateForEntity[e])return;const n=null==t?void 0:t.apiId;if(n&&await(0,O.hasAPIMigrated)(n))return;const o=P.get(this._findItem(i),"data");this.updateLoadingPublishStateForEntity(e,!0);let s=await(0,I.fetchPublishedData)(e);s=P.get(s,"body.collections");const i={uid:e,type:v.DOCUMENTATION_ENTITY.COLLECTION,versionTag:v.DOCUMENTATION_LATEST_VERSION_STRING};o&&(o.publishedData=s,this._updateData(i,o)),this.updateLoadingPublishStateForEntity(e,!1)}catch(t){this.updateLoadingPublishStateForEntity(e,!1),pm.logger.error(`DocumentationMasterStore~_fetchPublishedData: error in fetching published data for collection with uid - ${e}`)}}_transformData(e,t){const n=e.folders,o=e.requests,s=e.responses;function i(e){const t=n.find((t=>t.id===e)),o=t.folders_order.map((e=>i(e))),s=t.order.map((e=>a(e)));return{...t,folders:o,requests:s,type:v.DOCUMENTATION_ENTITY.FOLDER}}function a(e){const t=o.find((t=>t.id===e));return{...t,responses:t.responses,type:v.DOCUMENTATION_ENTITY.REQUEST}}return{...e,uid:e.id,folders:t!==v.DOCUMENTATION_ENTITY.REQUEST?e.folders_order.map((e=>i(e))):void 0,requests:t!==v.DOCUMENTATION_ENTITY.REQUEST?e.order.map((e=>a(e))):void 0,responses:t===v.DOCUMENTATION_ENTITY.REQUEST?s:void 0,type:v.DOCUMENTATION_ENTITY.COLLECTION}}_updateStatus(e,t){const{uid:n,type:o,versionTag:s}=e,i=`${n}:${s}`;let a;switch(o){case v.DOCUMENTATION_ENTITY.COLLECTION:a=this.collections;break;case v.DOCUMENTATION_ENTITY.FOLDER:a=this.folders;break;case v.DOCUMENTATION_ENTITY.REQUEST:a=this.requests;break;default:throw new TypeError(`DocumentationMasterStore~_updateStatus: unknown entity type - ${o}`)}if(!a[i])throw new Error(`DocumentationMasterStore~_updateStatus: entry found for uid - ${n}, type - ${o}, versionTag - ${s}. Initialize state using _createInitialState method.`);a[i].status=t}updateLoadingStateForEntity(e,t){this.loadingStateForEntity[e]=t}updateLoadingPublishStateForEntity(e,t){this.loadingPublishedStateForEntity[e]=t}_updateData(e,t){const{uid:n,type:o,versionTag:s}=e,i=`${n}:${s}`;let a;switch(o){case v.DOCUMENTATION_ENTITY.COLLECTION:a=this.collections;break;case v.DOCUMENTATION_ENTITY.FOLDER:a=this.folders;break;case v.DOCUMENTATION_ENTITY.REQUEST:a=this.requests;break;default:throw new TypeError(`DocumentationMasterStore~_updateData: unknown entity type - ${o}`)}if(!a[i])throw new Error(`DocumentationMasterStore~_updateData: no entry found for uid - ${n}, type - ${o}, versionTag - ${s}. Initialize state using _createInitialState method.`);a[i].data=t}updateName(e,t){const{type:n,uid:o,apiId:s,parentCollectionUid:i}=e;let a;switch(n){case v.DOCUMENTATION_ENTITY.COLLECTION:a=this.isAPIOnBranch[s]?this._findADPInstance(n,i,o):C.updateCollection;break;case v.DOCUMENTATION_ENTITY.FOLDER:a=this.isAPIOnBranch[s]?this._findADPInstance(n,i,o):T.updateFolder;break;case v.DOCUMENTATION_ENTITY.REQUEST:a=this.isAPIOnBranch[s]?this._findADPInstance(n,i,o):j.updateRequest;break;default:throw new TypeError(`DocumentationMasterStore~updateName: unknown entity type - ${n}`)}return a(o,{name:t})}_findADPInstance(e,t,n){let o=null;switch(e){case v.DOCUMENTATION_ENTITY.COLLECTION:o=this.collectionInstance[t];break;case v.DOCUMENTATION_ENTITY.FOLDER:{const{modelId:e}=(0,R.decomposeUID)(n);o=N.default.find(e);break}case v.DOCUMENTATION_ENTITY.REQUEST:{const{modelId:e}=(0,R.decomposeUID)(n);o=D.default.find(e);break}default:pm.logger.error(`DocumentationMasterStore~_findADPInstance: unknown entity type - ${e}`)}return o||pm.logger.error(`DocumentationMasterStore~_findADPInstance: Unable to find modelInstance for ${e}:${n}`),(e,t)=>o.update({...o.model,...t})}async updateDescription(e,t){const{type:n,uid:o,apiId:s,parentCollectionUid:i}=e;let a;switch(n){case v.DOCUMENTATION_ENTITY.COLLECTION:a=this.isAPIOnBranch[s]?this._findADPInstance(n,i,o):C.updateCollection;break;case v.DOCUMENTATION_ENTITY.FOLDER:a=this.isAPIOnBranch[s]?this._findADPInstance(n,i,o):T.updateFolder;break;case v.DOCUMENTATION_ENTITY.REQUEST:a=this.isAPIOnBranch[s]?this._findADPInstance(n,i,o):j.updateRequest;break;default:throw new TypeError(`DocumentationMasterStore~updateName: unknown entity type - ${n}`)}return a(o,{description:t})}get activeWorkspaceId(){return(0,m.resolveStoreInstance)(y.default).id}},u.instance=void 0,s=L((o=u).prototype,"collections",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=L(o.prototype,"folders",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=L(o.prototype,"requests",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=L(o.prototype,"loadingStateForEntity",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=L(o.prototype,"collectionInstance",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=L(o.prototype,"environmentVariables",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=L(o.prototype,"loadingPublishedStateForEntity",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),L(o.prototype,"isOffline",[p.computed],Object.getOwnPropertyDescriptor(o.prototype,"isOffline"),o.prototype),L(o.prototype,"isEditable",[p.computed],Object.getOwnPropertyDescriptor(o.prototype,"isEditable"),o.prototype),L(o.prototype,"setEnvironmentVariable",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"setEnvironmentVariable"),o.prototype),L(o.prototype,"_updateStatus",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"_updateStatus"),o.prototype),L(o.prototype,"updateLoadingStateForEntity",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingStateForEntity"),o.prototype),L(o.prototype,"updateLoadingPublishStateForEntity",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingPublishStateForEntity"),o.prototype),L(o.prototype,"_updateData",[p.action],Object.getOwnPropertyDescriptor(o.prototype,"_updateData"),o.prototype),L(o.prototype,"activeWorkspaceId",[p.computed],Object.getOwnPropertyDescriptor(o.prototype,"activeWorkspaceId"),o.prototype),o)},"./documentation/stores/DocumentationWorkbenchViewStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var o,s,i,a,r,l,c,d,u,p,m=n("./onboarding/src/common/LaunchDarkly.js"),h=n("../../node_modules/mobx/lib/mobx.module.js"),g=n("./js/stores/StoreManager.js"),f=n("./js/stores/SyncStatusStore.js"),b=n("./js/utils/uid-helper.js"),y=n("./documentation/constants.js"),v=n("./documentation/services/DocumentationService.js"),I=n("./documentation/stores/DocumentationMasterStore.js"),E=n("./api-dev/interfaces/APIInterface.js"),_=n("./billing/stores/PlanFeaturesStore.js"),S=n("./node_modules/lodash/lodash.js");function C(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function T(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let j=((p=class{constructor(e,t,n=y.DOCUMENTATION_LATEST_VERSION_STRING,o,p={}){var m;C(this,"versionTags",s,this),C(this,"activeVersion",i,this),C(this,"publishedData",a,this),C(this,"publishDataLoading",r,this),C(this,"mode",l,this),C(this,"publishRequestData",c,this),C(this,"isRepeatSpammer",d,this),C(this,"isLimitReachedForPublish",u,this),this.entityType=e,this.entityUid=t,this.activeVersion=n,this.mode=o,this.gitLinkedMode=null==p?void 0:p.gitLinkedMode,this.apiId=null==p?void 0:p.apiId,this.masterStore=I.default.getInstance(),this.apiId&&(null===(m=this.gitLinkedMode)||void 0===m?void 0:m.name)===y.DOCUMENTATION_MODE.VERSION&&this.updateActiveVersion()}init(){(0,h.reaction)((()=>m.launchDarkly.getFlag("documentation-new-tag-api",!1)),(()=>{this._fetchVersionTags()})),this._fetchVersionTags()}async fetchPublishRequestData(){try{await(0,g.resolveStoreInstance)(f.default).onSyncAvailable();let e=await(0,v.fetchRequestData)(this.entityUid);(0,h.runInAction)((()=>{this.publishRequestData=e}))}catch(e){pm.logger.error("Failed to fetch publish request data:",e),(0,h.runInAction)((()=>{this.publishRequestData=null}))}}async fetchPublisherSpamStatus(){try{await(0,g.resolveStoreInstance)(f.default).onSyncAvailable();let e=await(0,v.fetchPublisherSpamStatus)();(0,h.runInAction)((()=>{var t;this.isRepeatSpammer=null==e||null===(t=e.body)||void 0===t?void 0:t.spam}))}catch(e){pm.logger.error("DocumentationWorkbenchViewStore~fetchPublisherSpamStatus: Failed to fetch publisher spam status data:",e),this.isRepeatSpammer=!1}}async isPublishLimitReached(){try{let o;var e,t,n;if(await(0,g.resolveStoreInstance)(f.default).onSyncAvailable(),await _.default.onPlanFeaturesLoad(),S.get((0,h.toJS)(_.default.featureObject).features,"limit_publish_documentation.value",!1))o=await(0,v.isPublishLimitReached)(),o=null===(e=o)||void 0===e||null===(t=e.body)||void 0===t||null===(n=t.operation)||void 0===n?void 0:n.allowed;else o=!0;(0,h.runInAction)((()=>{this.isLimitReachedForPublish=!o}))}catch(e){this.isLimitReachedForPublish=!1,pm.logger.error("DocumentationWorkbenchViewStore~isPublishLimitReached: Failed to fetch the publish limit",e)}}async _fetchVersionTags(){try{await(0,g.resolveStoreInstance)(f.default).onSyncAvailable();let e=await(0,v.fetchAllTags)(this.entityUid);(0,h.runInAction)((()=>{this.versionTags=e}))}catch(e){(0,h.runInAction)((()=>{this.versionTags=[]})),pm.logger.error("Failed to fetch versions:",e)}}async _fetchPublishedDataForStore(){try{if(this.apiId&&await(0,E.hasAPIMigrated)(this.apiId))return;if(this.publishDataLoading[this.entityUid])return;(0,h.runInAction)((()=>{this.publishDataLoading[this.entityUid]=!0})),await(0,g.resolveStoreInstance)(f.default).onSyncAvailable();let e=await(0,v.fetchPublishedData)(this.entityUid);(0,h.runInAction)((()=>{this.publishedData=e,this.publishDataLoading[this.entityUid]=!1}))}catch(e){(0,h.runInAction)((()=>{this.publishDataLoading[this.entityUid]=!1})),pm.logger.error("Failed to fetch published data:",e)}}get entityId(){let{modelId:e}=(0,b.decomposeUID)(this.entityUid);return e}get owner(){let{owner:e}=(0,b.decomposeUID)(this.entityUid);return e}get entityData(){if(!this.entityType||this.entityType&&!y.DOCUMENTATION_ENTITY[this.entityType.toUpperCase()])return{isLoading:!1,error:null,data:null};let{data:e,status:t}=this.masterStore.getData({uid:this.entityUid,versionTag:this.activeVersion,type:this.entityType,mode:this.mode,apiId:this.apiId,parentCollectionUid:this.entityUid,gitLinkedMode:this.gitLinkedMode},{withPublishedData:!0});return{isLoading:t===y.DOCUMENTATION_STATUS.LOADING,error:t===y.DOCUMENTATION_STATUS.ERROR,data:e}}get isOffline(){return this.masterStore.isOffline}get isEditable(){return this.masterStore.isEditable}updateVersion(e){e!==this.activeVersion&&(this.activeVersion=e)}async updateActiveVersion(){var e;const t=await(0,E.getAPILinkedEntityTag)(this.apiId,null===(e=this.gitLinkedMode)||void 0===e?void 0:e.value,y.DOCUMENTATION_ENTITY.COLLECTION,this.entityUid);this.updateVersion(t)}updateName(e,t,n){this.masterStore.updateName({type:e,uid:t,parentCollectionUid:this.entityUid,apiId:this.apiId,gitLinkedMode:this.gitLinkedMode},n)}async updateDescription(e,t,n){this.masterStore.updateLoadingStateForEntity(t,!0),await this.masterStore.updateDescription({type:e,uid:t,apiId:this.apiId,gitLinkedMode:this.gitLinkedMode,parentCollectionUid:this.entityUid},n).then((()=>{this.masterStore.updateLoadingStateForEntity(t,!1)}))}get activeEnvironmentVariables(){return this.masterStore.activeEnvironmentVariables}get isUserMemberOfActiveWorkspace(){return this.masterStore.isUserMemberOfActiveWorkspace}get activeWorkspaceId(){return this.masterStore.activeWorkspaceId}isEntityLoading(e){return this.masterStore.loadingStateForEntity[e]}updateLoadingStateForEntity(e,t=!1){this.masterStore.updateLoadingStateForEntity(e,t)}}).masterStoreGetMethod={[y.DOCUMENTATION_ENTITY.COLLECTION]:"getCollection",[y.DOCUMENTATION_ENTITY.FOLDER]:"getFolder",[y.DOCUMENTATION_ENTITY.REQUEST]:"getRequest"},s=T((o=p).prototype,"versionTags",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=T(o.prototype,"activeVersion",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.DOCUMENTATION_LATEST_VERSION_STRING}}),a=T(o.prototype,"publishedData",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=T(o.prototype,"publishDataLoading",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=T(o.prototype,"mode",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=T(o.prototype,"publishRequestData",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=T(o.prototype,"isRepeatSpammer",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=T(o.prototype,"isLimitReachedForPublish",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T(o.prototype,"fetchPublishRequestData",[h.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchPublishRequestData"),o.prototype),T(o.prototype,"fetchPublisherSpamStatus",[h.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchPublisherSpamStatus"),o.prototype),T(o.prototype,"isPublishLimitReached",[h.action],Object.getOwnPropertyDescriptor(o.prototype,"isPublishLimitReached"),o.prototype),T(o.prototype,"_fetchPublishedDataForStore",[h.action],Object.getOwnPropertyDescriptor(o.prototype,"_fetchPublishedDataForStore"),o.prototype),T(o.prototype,"entityData",[h.computed],Object.getOwnPropertyDescriptor(o.prototype,"entityData"),o.prototype),T(o.prototype,"updateVersion",[h.action],Object.getOwnPropertyDescriptor(o.prototype,"updateVersion"),o.prototype),o)},"./documentation/utils/CodeGeneration.js":function(e,t,n){"use strict";n.r(t),n.d(t,{getUserPreferredLanguage:function(){return l},saveUserPreferredLanguage:function(){return c}});var o=n("./documentation/constants.js"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("./js/stores/StoreManager.js"),r=n("../../packages/api-design/client-codegen/index.js");function l(){const e=(0,a.resolveStoreInstance)(r.CodegenStore),t={language:o.DOCUMENTATION_DEFAULT_LANGUAGE_SETTINGS.LANGUAGE,variant:o.DOCUMENTATION_DEFAULT_LANGUAGE_SETTINGS.VARIANT};let n,s,l=e.getLanguagePreference();if(!l)return t;try{return l=JSON.parse(l),n=i().get(l,"language",o.DOCUMENTATION_DEFAULT_LANGUAGE_SETTINGS.LANGUAGE),s=i().get(l,"variant",o.DOCUMENTATION_DEFAULT_LANGUAGE_SETTINGS.VARIANT),{language:n,variant:s}}catch(e){return pm.logger.error(`getUserPreferredLanguage - ${e}`),t}}function c(e,t){(0,a.resolveStoreInstance)(r.CodegenStore).updateLanguagePreference(JSON.stringify({language:e,variant:t}))}},"./documentation/utils/auth.js":function(e,t,n){"use strict";n.r(t),n.d(t,{maskAuthCredentials:function(){return r},segregateAuthInformation:function(){return l}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./documentation/constants.js"),a=n("./runtime-repl/auth/AuthConstants.js");function r(e,t,n=!0){let{key:o,value:i}=e,a=s().startCase(o),{value:r}=t;if(!function(e){return"string"==typeof e&&e.startsWith("{{")&&e.endsWith("}}")}(r)&&n){return{key:a,value:`<${o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}>`}}return{key:a,value:i}}function l(e,t,n){let o=i.DOCUMENTATION_AUTH_KEYS[n];if(!o)return{basic:[],advanced:[]};let{basicKeys:l=[],advancedKeys:c=[]}=o,d=[],u=[];return l.forEach((o=>{let i=s().toArray(e).find((e=>e.key===o)),l=s().toArray(t).find((e=>e.key===o));if(i&&l){const e=r(i,l,!(n===a.AUTH_TYPE_RAW_APIKEY&&"key"===i.key));d.push(e)}})),c.forEach((n=>{let o=s().toArray(e).find((e=>e.key===n)),i=s().toArray(t).find((e=>e.key===n));o&&u.push(r(o,i))})),{basic:d,advanced:u}}},"./documentation/utils/withErrorHandler.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/empty-states/AetherCrashHandler.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js");function a(e){class t extends o.Component{render(){return o.createElement(s.default,{message:"There was an error while fetching the documentation for this item. If this problem persists, contact us at help@postman.com",illustration:o.createElement(i.default,null)},o.createElement(e,this.props))}}return t.displayName=`withErrorHandler(${e.displayName||e.name})`,t}},"./integrations/api-observability/components/AvailableObservabilityServices.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ServiceCard:function(){return b},default:function(){return f}});var o=n("../../node_modules/react/index.js"),s=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/empty-states/NoSearchResults.js"),i=n("./js/controllers/theme/ThemeManager.js"),a=n("./js/services/NavigationService.js"),r=n("./integrations/api-observability/constants.ts"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),d=n("./js/stores/StoreManager.js"),u=n("./integrations/api-observability/stores/APIObservabilityStore.js"),p=(n("./node_modules/classnames/index.js"),n("./integrations/constants/integrationsConstants.ts"),n("./appsdk/components/link/Link.js")),m=n("./integrations/navigation/constants.js"),h=n("./integrations/utils/CommonHelperMethods.ts"),g=n("./node_modules/lodash/lodash.js");function f(e){return g.isEmpty(e.integrationClasses)?o.createElement(s.default,{requestNewIntegration:!0}):o.createElement("div",{className:"observability-integrations-card-list"},g.compact(g.map(e.integrationClasses,(t=>{const n=g.get(t,"services.0",{});return g.isEmpty(n)?null:o.createElement(b,{key:n.id,serviceId:n.id,name:n.name,iconUrl:n.iconUrl,darkIconUrl:n.darkIconUrl,classId:g.get(t,"id"),instanceCreation:g.get(t,"instanceCreation",{}),model:e.model,promoteTab:e.promoteTab})}))))}class b extends o.Component{constructor(e){super(e),this.state={currentTheme:i.default.getCurrentTheme(),showFallbackIcon:!1,sanitizedQueryParams:{},sanitizedRouteParams:{}},this.store=(0,d.resolveStoreInstance)(u.default),this.handleThemeChange=this.handleThemeChange.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.setBaseRouteAndQueryParamsForAddIntegrationTab=this.setBaseRouteAndQueryParamsForAddIntegrationTab.bind(this)}componentDidMount(){this.setBaseRouteAndQueryParamsForAddIntegrationTab(),pm.mediator.on("themeChange",this.handleThemeChange),"dark"!==this.state.currentTheme||this.props.darkIconUrl||this.setState({showFallbackIcon:!0})}componentWillUnmount(){pm.mediator.off("themeChange",this.handleThemeChange)}setBaseRouteAndQueryParamsForAddIntegrationTab(){const{model:e}=this.props,t=e.apiId,n={apiId:t,versionId:e.id},o={tab:r.DEPLOYMENT_TAB,category:r.API_OBSERVABILITY};(0,h.getSanitizedRouteAndQueryParamsForV10APIUrls)(n,o,t).then((([e,t])=>{this.setState({sanitizedRouteParams:e,sanitizedQueryParams:t})}))}handleOnClick(e,t,n){const{sanitizedRouteParams:o,sanitizedQueryParams:s}=this.state;this.store.setSelectedServiceName(t);const i={service:e,name:t,rule:n};a.default.transitionTo(m.V10_API_ADD_DEPLOYMENT_INTEGRATION_NAV_IDENTIFIER,o,g.assign({},s,i))}handleThemeChange(e){this.setState({currentTheme:e}),"dark"===e?this.props.darkIconUrl||this.setState({showFallbackIcon:!0}):this.setState({showFallbackIcon:!1})}renderAvailableServices(){const{serviceId:e,name:t,iconUrl:n,darkIconUrl:s,model:i,promoteTab:a,classId:r,instanceCreation:l}=this.props,{sanitizedRouteParams:d,sanitizedQueryParams:u}=this.state,m=g.get(i,`apiPermissionStore.permissions.${i.apiId}:UPDATE_API_META.allowed`),h=g.get(l,"enabled",!1);return m&&h?o.createElement(p.default,{className:"observability-integrations-card-list-item",onClick:n=>{n.metaKey||n.ctrlKey||(n.preventDefault(),g.isFunction(a)&&a(),this.handleOnClick(e,t,r))}},o.createElement("div",{className:"observability-integrations-card-list-item-content-wrapper"},o.createElement("div",{className:"observability-integrations-card-list-item-icon-container"},!this.state.showFallbackIcon&&o.createElement("img",{className:"observability-integrations-card-list-item-icon",src:"dark"===this.state.currentTheme?s:n,onError:()=>this.setState({showFallbackIcon:!0})}),this.state.showFallbackIcon&&o.createElement("div",{className:"observability-integrations-card-list-item-fallback-icon"},o.createElement(c.default,{name:"icon-entity-api-stroke",color:"content-color-error"}))),o.createElement("div",{className:"observability-integrations-card-list-item-heading"},t))):o.createElement("div",{className:"observability-integrations-card-list-item list-item-disabled"},o.createElement("div",{className:"observability-integrations-card-list-item-content-wrapper"},o.createElement("div",{className:"observability-integrations-card-list-item-icon-container"},!this.state.showFallbackIcon&&o.createElement("img",{className:"observability-integrations-card-list-item-icon",src:"dark"===this.state.currentTheme?s:n,onError:()=>this.setState({showFallbackIcon:!0})}),this.state.showFallbackIcon&&o.createElement("div",{className:"observability-integrations-card-list-item-fallback-icon"},o.createElement(c.default,{name:"icon-entity-api-stroke",color:"content-color-error"}))),o.createElement("div",{className:"observability-integrations-card-list-item-heading"},t)))}render(){const{model:e,instanceCreation:t}=this.props,n=g.get(e,`apiPermissionStore.permissions.${e.apiId}:UPDATE_API_META.allowed`),s=g.get(t,"enabled",!1),i=n&&s,a=n?g.get(t,"description"):r.PERMISSION_ERROR;return o.createElement("div",null,i?this.renderAvailableServices():o.createElement(l.default,{content:a,placement:"bottom"},this.renderAvailableServices()))}}},"./integrations/api-observability/components/PostmanSourceItem.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./js/services/NavigationService.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-branch-stroke.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-versions-stroke.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-schemaOutline-stroke.js"),c=n("./integrations/api-observability/constants.ts"),d=n("./node_modules/lodash/lodash.js");t.default=function({source:e,model:t}){return"branch"===d.get(e,"type")?o.createElement(i.default,{color:"content-color-primary"},o.createElement("div",{className:"postman-source-item-container"},o.createElement("div",{className:"postman-source-item-container__icon"},o.createElement(a.default,{color:"content-color-primary"})),o.createElement("div",{className:"postman-source-item-container__content"},e.name))):"release"===d.get(e,"type")?o.createElement("span",{onClick:()=>{return n=e.releaseId,void s.default.transitionTo("build.release",{apiId:d.get(t,"apiId"),versionId:d.get(t,"id"),releaseId:n});var n}},o.createElement(i.default,{type:"link-primary"},o.createElement("div",{className:"postman-source-item-container"},o.createElement("div",{className:"postman-source-item-container__icon"},o.createElement(r.default,{color:"content-color-link"})),o.createElement("div",{className:"postman-source-item-container__content"},(e=>{const n=d.find(d.get(t,"releases"),{id:e});return n?n.name:"-"})(e.releaseId))))):"head"===d.get(e,"type")?o.createElement(i.default,{color:"content-color-primary"},o.createElement("div",{className:"postman-source-item-container"},o.createElement("div",{className:"postman-source-item-container__icon"},o.createElement(l.default,{color:"content-color-primary"})),o.createElement("div",{className:"postman-source-item-container__content"},c.API_DEFINITION))):o.createElement(i.default,{color:"content-color-primary"},"-")}},"./integrations/api-observability/components/base/CustomDropdown.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js");const s=(0,n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default)(o.default)`
  .aether-dropdown__value-container{
    >span {
      width: 100%;
    }
  }
`;t.default=s},"./integrations/api-observability/components/base/ImportSchemaActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("../../node_modules/react/index.js"),a=n("./appsdk/workbench/TabService.js"),r=n("../../packages/api-design/schema-service/index.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("./integrations/navigation/constants.js"),u=n("./js/services/NavigationService.js"),p=n("./api-dev/constants/APISubViews.js"),m=n("./integrations/api-observability/constants.ts"),h=n("./js/modules/services/AnalyticsService.js"),g=(n("../../packages/api-design/api-definition-service/index.js"),n("./node_modules/uuid/v4.js")),f=n.n(g),b=n("../../packages/api-design/api-definition-store/index.js"),y=(n("./js/stores/StoreManager.js"),n("./api-dev/services/APIDevService.js")),v=n("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),I=n("./api-dev/interfaces/APIInterface.js"),E=n("../../packages/api-design/api-definition-ui/index.js");class _ extends i.Component{constructor(e){super(e),this.state={isImporting:!1,errorImport:!1,apiRelationId:null,fileId:null},this.handleImport=this.handleImport.bind(this),this.handleNavigation=this.handleNavigation.bind(this),this.addSchema=this.addSchema.bind(this)}handleNavigation(){const{apiId:e,versionId:t}=s().get(this.props,"payload",{}),{formSource:n}=this.props;if(a.default.closeByRoute(d.V10_API_ADD_DEPLOYMENT_INTEGRATION_URL,{apiId:e}),s().isEqual(n,m.IMPORT_FORM_SOURCES.INTEGRATION_SETUP))u.default.transitionTo(m.API_BUILDER_ROUTE_IDENTIFIERS.API_VERSION,{apiId:e,versionId:t},{tab:p.DEPLOYMENT});else{let n=s().get(u.default.getActiveQueryParams().get(),"branch");setTimeout((()=>{u.default.transitionTo("build.apiDefinitionFile",{apiId:e,apiVersionId:t,apiDefinitionId:this.state.apiRelationId,fileId:this.state.fileId},n&&{branch:n})}),3e3)}}handleCancel(){const{apiId:e}=s().get(this.props,"payload",{});a.default.closeByRoute(d.V10_API_ADD_DEPLOYMENT_INTEGRATION_URL,{apiId:e})}async createOrReplaceApiDefinition(e,t,n,o){try{const n=f()(),i=b.APIDefinitionTypeService.getDefinitionTypeFromSchemaType(s().get(o,"type")),a=`${n}.${s().get(o,"language","json")}`,r=[{type:v.FILE,name:a,path:a,content:s().get(o,"content")}],l=await(0,E.createOrReplaceDefinition)({apiId:e,apiVersionId:t,items:r,options:{type:i}});let c=await l.getRedirectionFileId();return Promise.resolve({id:c})}catch(e){return Promise.reject(e)}}addSchema(){const{payload:e,apiDefinition:t}=this.props,n=s().get(e,"schemaContent",{}),o=s().get(e,"apiId"),i=s().get(e,"versionId");return y.default.getRelations(o,i).then((e=>{const a=s().get(e,"apiDefinition")&&s().get(s().keys(e.apiDefinition),0),l=s().get(e,"schema")&&s().get(s().keys(e.schema),0);return this.setState({apiRelationId:null!=a?a:l}),l?(0,r.updateSchema)(l,n):this.createOrReplaceApiDefinition(o,i,s().get(t,"id",a),n)}))}async handleImport(){const{onImport:e,rule:t,formSource:n,payload:o,onCancel:i}=this.props,{apiId:a}=o,r=(await(0,I.getAPI)(a)).version.apiRepositoryStore;if(!r.canEditAPISource.allowed)return i&&i(),void r.openEditDisabledModal();this.setState({isImporting:!0,errorImport:!1},(()=>{this.addSchema().then((o=>{h.default.addEventV2({category:"gateway-integration",action:`import-schema-${n}`,label:t,value:1}),this.setState({fileId:s().get(o,"id")},(()=>{this.handleNavigation()})),pm.toasts.success("Successfully imported definition."),this.setState({isImporting:!1,errorImport:!1}),s().isFunction(e)&&e()})).catch((e=>{pm.logger.error("Import definition via gateway error ~"+e),pm.toasts.error("Error occurred while importing definition"),this.setState({isImporting:!1,errorImport:e})}))}))}render(){const{disabled:e,tooltipText:t,formSource:n,isLoading:o}=this.props,{isImporting:a}=this.state,r=s().isEqual(n,m.IMPORT_FORM_SOURCES.DEPLOY_DASHBOARD),d=t||"Make sure that you have entered all the mandatory fields",u=!r&&"Maybe later";return i.createElement(l.default,{justifyContent:"flex-start",direction:r?"row-reverse":"row",grow:1,shrink:1,gap:"spacing-s"},i.createElement(c.default,{className:"deploy-form-container__segment__actions-container__deploy",type:"primary",size:"medium",text:"Import",onClick:this.handleImport,tooltip:e&&d,isDisabled:e||a||o,isLoading:a||o}),i.createElement(c.default,{className:"deploy-form-container__segment__actions-container__cancel",type:"secondary",size:"medium",text:u||"Cancel",onClick:()=>{s().isFunction(this.props.onCancel)&&this.props.onCancel(),this.handleCancel()},isDisabled:a}))}}},"./integrations/api-observability/components/base/TableEmptyState.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js");t.default=function({title:e,description:t,secondaryAction:n,illustration:i}){return o.createElement(s.default,{title:e,description:t,secondaryAction:n},i)}},"./integrations/api-observability/components/common/ErrorState.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnauthorizedError.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),a=n("./node_modules/lodash/lodash.js");class r extends o.Component{constructor(e){super(e)}render(){return o.createElement("div",{className:"team-integrations-error-state"},o.createElement("div",{className:"team-integrations-error-state__illustration-wrapper team-integrations-error-state__illustration-wrapper--collections"},function(e){let t=e.illustration||o.createElement(s.default,null);return a.isEqual(a.get(e,"error.name"),"instanceNotFoundError")&&(t=o.createElement(i.default,null)),t}(this.props.errorDetails)),o.createElement("div",{className:"team-integrations-error-state__title"},function(e){let t=e.title||"Something went wrong";return 404===e.status||400===e.status?t="We can't seem to find this page":"ESOCKETTIMEDOUT"===a.get(e,"error.details.code","")?t="Your request timed out":a.isEqual(a.get(e,"error.name"),"instanceNotFoundError")&&(t="Couldn't find the run log for this Integration"),t}(this.props.errorDetails)),o.createElement("div",{className:"team-integrations-error-state__subtitle"},function(e){let t=e.subtitle||"Try refreshing the page. If you keep getting this error, contact help@postman.com.";return 404===e.status||400===e.status?t="Looks like the page you're looking for doesn't exist.":a.isEqual(a.get(e,"error.name"),"instanceNotFoundError")&&(t="This integration may have been deleted or the URL maybe incorrect."),t}(this.props.errorDetails)))}}},"./integrations/api-observability/components/common/ImportSchemaBanner.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js");t.default=function({isSchemaPresent:e}){let t=e?"Importing a definition will replace the existing definition":"Importing a definition will create a new definition";return o.createElement(s.default,{status:"info"},o.createElement(i.default,null,t))}},"./integrations/api-observability/components/dashboard/apigee/ApigeeDashboard.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/stores/StoreManager.js"),c=n("./integrations/api-observability/stores/APIObservabilityStore.js"),d=n("./api-dev/stores/APIListStore.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),I=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),E=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),_=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-info-stroke-small.js"),S=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-openWeb-stroke.js"),C=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-refresh-stroke.js"),T=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),j=n("./js/services/NavigationService.js"),A=n("./api-dev/constants/APISubViews.js"),w=n("./appsdk/workbench/TabService.js"),O=n("./integrations/navigation/constants.js"),N=n("./js/modules/services/AnalyticsService.js"),D=n("./js/external-navigation/ExternalNavigationService.js"),R=n("./js/components/base/LoadingIndicator.js"),P=n("./integrations/components/error-states/ErrorIntegrations.js"),M=n("./integrations/api-observability/constants.ts"),L=n("./api-dev/constants/Permissions.js"),x=n("./integrations/utils/CommonHelperMethods.ts"),k=n("../../node_modules/mobx/lib/mobx.module.js");const F=({proxyEndpoints:e})=>{const t=a.useMemo((()=>e)),n=a.useMemo((()=>[{Header:"Name",accessor:"name",Cell:e=>a.createElement(u.default,{color:"content-color-secondary"},e.value),cellWidth:"278px"},{Header:"Base Paths",accessor:"basePath",Cell:e=>a.createElement(u.default,{color:"content-color-secondary"},e.value)}]));return a.createElement(p.default,{bodyMaxHeight:"220px",data:t,columns:n})},V=({environments:e})=>{const t=a.useMemo((()=>e)),n=a.useMemo((()=>[{Header:"Environments",accessor:"name",Cell:e=>a.createElement(u.default,{color:"content-color-secondary"},e.value),cellWidth:"11.97%"},{Header:"Description",accessor:"description",Cell:e=>e.value?a.createElement(u.default,{color:"content-color-secondary"},e.value):a.createElement(u.default,{color:"content-color-secondary"},"-"),cellWidth:"24.76%"},{Header:"Last Updated",accessor:"lastModifiedAt",Cell:e=>a.createElement(u.default,{color:"content-color-secondary"},(0,x.getFormattedDate)(e.value)),cellWidth:"17.25%"},{Header:()=>a.createElement("span",{className:"apigee-dashboard-container__content__environments__table__status"},a.createElement("span",null,"Status"),a.createElement("span",{className:"apigee-dashboard-container__content__environments__table__status__icon"},a.createElement(m.default,{content:M.STATUS_INFO,placement:"bottom"},a.createElement(_.default,null)))),accessor:"state",Cell:e=>e.value?"ACTIVE"!==e.value?a.createElement(h.default,{status:"neutral",className:"apigee-dashboard-container__content__environments__table__status__badge",text:"inactive"}):a.createElement(h.default,{status:"success",className:"apigee-dashboard-container__content__environments__table__status__badge",text:"active"}):null,cellWidth:"10%"},{Header:()=>a.createElement("span",{className:"apigee-dashboard-container__content__environments__table__status"},a.createElement("span",null,"Deployed Revision"),a.createElement("span",{className:"apigee-dashboard-container__content__environments__table__status__icon"},a.createElement(m.default,{content:M.DEPLOYED_REVISION_INFO,placement:"bottom"},a.createElement(_.default,null)))),id:"Deployed Revision",accessor:e=>e.revisionLink?a.createElement("div",null,a.createElement(u.default,{type:"link-default",isExternal:!0,className:"apigee-dashboard-container__header__latest-revision__id"},a.createElement("div",{onClick:()=>(0,D.openExternalLink)(e.revisionLink||"#","_blank")},"Revision ",e.revision)),e.errors&&a.createElement(m.default,{content:i().get(e,"errors[0].message"),placement:"bottom"},a.createElement(h.default,{status:"neutral",text:"Errored"}))):a.createElement("div",{className:"apigee-dashboard-container__header__latest-revision__id"},"Not deployed"),cellWidth:e=>e.errors?"18.30%":"15.49%"},{Header:"Deployment Date",accessor:e=>i().get(e,"deployStartTime")?(0,x.getFormattedDate)(e.deployStartTime):"-",Cell:e=>a.createElement(u.default,{color:"content-color-secondary"},e.value)}]));return a.createElement(p.default,{data:t,columns:n})};let B=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.getAPIName=()=>{const{apiId:e}=this.state,t=(0,k.toJS)(this.apiListStore.members),n=i().find(t,(t=>e===i().get(t,"id")));return i().get(n,"name")},this.store=(0,l.resolveStoreInstance)(c.default),this.apiListStore=(0,l.resolveStoreInstance)(d.default),this.state={organization:i().get(this.props.configuredIntegrations[0],"variables.organization"),environments:i().get(this.props.configuredIntegrations[0],"variables.environments")||[],apiId:i().get(this.props.configuredIntegrations[0],"variables.postman_api_id"),apiVersionId:i().get(this.props.configuredIntegrations[0],"executor"),integrationId:i().get(this.props.configuredIntegrations[0],"id"),rule:i().get(this.props.configuredIntegrations[0],"rule"),canUpdateIntegration:i().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${L.UPDATE_API_META}.allowed`),showModal:!1},this.fetchApiProxyMeta=this.fetchApiProxyMeta.bind(this),this.fetchDeployments=this.fetchDeployments.bind(this),this.fetchEnvironmentsMeta=this.fetchEnvironmentsMeta.bind(this),this.fetchLatestRevisionMeta=this.fetchLatestRevisionMeta.bind(this),this.getRevisionLink=this.getRevisionLink.bind(this),this.getApiMetricsLink=this.getApiMetricsLink.bind(this),this.bootstrap=this.bootstrap.bind(this),this.handleEditIntegration=this.handleEditIntegration.bind(this),this.handleDeleteIntegration=this.handleDeleteIntegration.bind(this),this.setShowModal=this.setShowModal.bind(this),this.renderDeleteModal=this.renderDeleteModal.bind(this),this.getDeploymentDetails=this.getDeploymentDetails.bind(this),this.navigateToDeploymentsTab=this.navigateToDeploymentsTab.bind(this),this.renderHeaderFirstRow=this.renderHeaderFirstRow.bind(this),this.renderHeaderSecondRow=this.renderHeaderSecondRow.bind(this),this.renderContainerContent=this.renderContainerContent.bind(this)}componentDidMount(){this.bootstrap()}bootstrap(){this.fetchApiProxyMeta(),this.fetchDeployments()}fetchApiProxyMeta(){this.setState({isContainerLoading:!0,isProxyTableLoading:!0});let e=this.state.integrationId,t=M.FETCH_API_PROXY_META;T.default.fetchPostConfigurationGatewayActionDetails(t,e,{}).then((e=>{let t,n,o,s,a,r,l,c;t=i().get(e,"body.data"),n=i().get(t,"name"),o=i().get(t,"revision"),o=i().map(o,(e=>parseInt(e))),s=i().isArray(o)&&!i().isEmpty(o)?i().max(o):"Not available",a=i().get(t,"metaData.createdAt"),r=i().get(t,"metaData.lastModifiedAt"),l=this.getRevisionLink(this.state.organization,n,s),c=this.getApiMetricsLink(this.state.organization,n,s),this.setState({isContainerLoading:!1,apiProxyId:n,latestRevision:s,createdAt:a,lastUpdatedAt:r,latestRevisionLink:l,apiMetricsLink:c}),s&&this.fetchLatestRevisionMeta(s)})).catch((e=>{this.setState({isContainerLoading:!1,isProxyTableLoading:!1,errorObject:{title:"Something went wrong",message:"Something went wrong while fetching Apigee details."}}),pm.logger.error(e)}))}fetchDeployments(){this.setState({isEnvironmentsTableLoading:!0});let{integrationId:e,environments:t}=this.state,n=M.FETCH_DEPLOYMENTS;T.default.fetchPostConfigurationGatewayActionDetails(n,e,{}).then((e=>{let n=i().get(e,"body.data.deployments"),o=t;i().map(n,(e=>{let t=i().get(e,"environment");i().isArray(o)&&!o.includes(t)&&o.push(t),e.revisionLink=this.getRevisionLink(this.state.organization,e.apiProxy,e.revision)})),this.setState({fetchedDeployments:n,environments:o})})).catch((e=>{this.setState({isEnvironmentsTableLoading:!1}),pm.logger.error(e)})).finally((()=>{this.fetchEnvironmentsMeta()}))}getDeploymentDetails(e){let t=this.state.fetchedDeployments,n={};return i().map(t,(t=>{i().get(t,"environment")===e&&(n=t)})),n}fetchEnvironmentsMeta(){let{integrationId:e,environments:t}=this.state,n=M.FETCH_ENVIRONMENTS_META;T.default.fetchPostConfigurationGatewayActionDetails(n,e,{environments:t}).then((e=>{let t=i().get(e,"body.data");i().map(t,(e=>{let t=this.getDeploymentDetails(i().get(e,"name"));e.revisionLink=i().get(t,"revisionLink",""),e.revision=i().get(t,"revision",""),e.deployStartTime=i().get(t,"deployStartTime","")})),this.setState({fetchedEnvironmentsMeta:t,isEnvironmentsTableLoading:!1})})).catch((e=>{this.setState({isEnvironmentsTableLoading:!1}),pm.logger.error(e)}))}fetchLatestRevisionMeta(e){this.setState({isProxyTableLoading:!0});let t=this.state.integrationId,n=M.FETCH_LATEST_REVISION_META;T.default.fetchPostConfigurationGatewayActionDetails(n,t,{revision:e}).then((e=>{let t=i().get(e,"body.data"),n=[],o=t.basepaths,s=t.proxyEndpoints,a=o.length;for(let e=0;e<a;e++)n.push({name:s[e],basePath:o[e]});this.setState({fetchedProxyEndpoints:n,isProxyTableLoading:!1})})).catch((e=>{this.setState({isProxyTableLoading:!1}),pm.logger.error(e)}))}getRevisionLink(e,t,n){return`https://apigee.google.com/platform/${e}/proxies/${t}/overview/${n}`}getApiMetricsLink(e,t,n){return`https://apigee.google.com/platform/${e}/proxies/${t}/performance/${n}`}handleEditIntegration(){j.default.transitionTo(O.V10_API_EDIT_DEPLOYMENT_INTEGRATION_NAV_IDENTIFIER,{apiId:this.state.apiId,integrationId:this.state.integrationId},{tab:M.DEPLOYMENT_TAB,category:M.API_OBSERVABILITY})}handleDeleteIntegration(){let{apiId:e,apiVersionId:t,rule:n}=this.state;this.setState({isDeletingIntegration:!0}),T.default.deleteIntegration(this.state.integrationId).then((e=>{this.setShowModal(!1),this.setState({isDeletingIntegration:!1}),N.default.addEventV2({category:"integrations",action:n+"_deleted_integration",label:"team_integrations_dashboard",value:1}),200===e.status?(pm.toasts.success("Integration deleted successfully."),this.navigateToDeploymentsTab()):pm.toasts.error("Something went wrong while deleting a new integration")})).catch((e=>{this.setState({isDeletingIntegration:!1}),pm.toasts.error("Something went wrong while deleting integration"),pm.logger.error("Something went wrong while deleting integration",e)}))}navigateToDeploymentsTab(){let{apiId:e,apiVersionId:t}=this.state,n={apiId:e,versionId:t},o={tab:A.DEPLOYMENT};w.default.closeByRoute(O.V10_API_ADD_DEPLOYMENT_INTEGRATION_URL,{apiId:e}),this.store.initializeApiObservabilityStore({apiId:e,apiVersionId:t,category:M.API_OBSERVABILITY}),j.default.transitionTo("build.apiVersion",n,o)}setShowModal(e){this.setState({showModal:e})}renderDeleteModal(){return a.createElement(g.Modal,{isOpen:this.state.showModal,onClose:()=>this.setShowModal(!1),className:"apigee-dashboard-container__header__options__delete__modal"},a.createElement(g.ModalHeader,{heading:"Delete Integration",className:"apigee-dashboard-container__header__options__delete__modal__title"}),a.createElement(g.ModalContent,{className:"apigee-dashboard-container__header__options__delete__modal__content"},"Deleting this integration will cease any actions it performs immediately. Are you sure you wish to continue?"),a.createElement(g.ModalFooter,null,a.createElement(f.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-s"},a.createElement(b.default,{type:"secondary",text:"Cancel",onClick:()=>this.setShowModal(!1),isDisabled:this.state.isDeletingIntegration}),a.createElement(b.default,{type:"destructive",text:"Delete Integration",onClick:()=>{this.handleDeleteIntegration()},isLoading:this.state.isDeletingIntegration}))))}renderHeaderFirstRow(){return a.createElement(f.default,{direction:"row",justifyContent:"space-between"},a.createElement(f.default,{direction:"row"},a.createElement(f.default,{direction:"column",justifyContent:"center",className:"apigee-dashboard-container__header__integration-name"},a.createElement("div",null,this.getAPIName())),a.createElement(f.default,{direction:"column",justifyContent:"center",className:"apigee-dashboard-container__header__api-proxy-id"},a.createElement("div",null,"Apigee API Proxy ID: ",this.state.apiProxyId))),a.createElement(f.default,{direction:"row"},a.createElement("div",{className:"apigee-dashboard-container__header__api-metrics"},a.createElement(b.default,{onClick:()=>{(0,D.openExternalLink)(this.state.apiMetricsLink||"#","_blank")},type:"tertiary",text:"API Metrics",icon:a.createElement(S.default,null)})),a.createElement(b.default,{onClick:()=>{this.bootstrap()},type:"tertiary",icon:a.createElement(C.default,null)}),a.createElement(y.default,null,a.createElement(v.default,null,a.createElement(b.default,{icon:"icon-action-options-stroke",type:"tertiary"})),a.createElement(I.default,null,a.createElement(E.default,{onClick:this.handleEditIntegration,isDisabled:!this.state.canUpdateIntegration},a.createElement(f.default,{alignItems:"center"},this.state.canUpdateIntegration?a.createElement(u.default,null,"Edit Integration"):a.createElement(m.default,{content:M.PERMISSION_ERROR,placement:"bottom"},a.createElement("div",null,"Edit Integration")))),a.createElement(E.default,{type:"destructive",onClick:()=>{this.setShowModal(!0)},isDisabled:!this.state.canUpdateIntegration},a.createElement(f.default,{alignItems:"center"},this.state.canUpdateIntegration?a.createElement(u.default,null,"Delete Integration"):a.createElement(m.default,{content:M.PERMISSION_ERROR,placement:"bottom"},a.createElement("div",null,"Delete Integration")))))),this.renderDeleteModal()))}renderHeaderSecondRow(){return a.createElement(f.default,{direction:"row",wrap:"wrap",justifyContent:"space-between",className:"apigee-dashboard-container__header__row2"},a.createElement(f.default,{direction:"row",className:"apigee-dashboard-container__header__latest-revision"},a.createElement("div",{className:"apigee-dashboard-container__header__latest-revision__text"},"Latest Revision:"),a.createElement("div",{className:"apigee-dashboard-container__header__latest-revision__id"},a.createElement(u.default,{type:"link-default",isExternal:!0},a.createElement("div",{onClick:()=>(0,D.openExternalLink)(this.state.latestRevisionLink||"#","_blank")},"Revision ",this.state.latestRevision))),a.createElement(f.default,{direction:"row",className:"apigee-dashboard-container__header__source"},a.createElement("div",{className:"apigee-dashboard-container__header__source__text"},"Source:"),"Apigee X")),a.createElement("div",null,a.createElement(f.default,{direction:"row"},a.createElement(f.default,{direction:"row",className:"apigee-dashboard-container__header__created-at"},a.createElement("div",{className:"apigee-dashboard-container__header__created-at__text"},"Created on:"),(0,x.getFormattedDate)(this.state.createdAt)),a.createElement(f.default,{direction:"row",className:"apigee-dashboard-container__header__last-updated"},a.createElement("div",{className:"apigee-dashboard-container__header__last-updated__text"},"Last updated:"),(0,x.getFormattedDate)(this.state.lastUpdatedAt)))))}renderContainerContent(){return a.createElement(f.default,{direction:"column"},this.renderHeaderFirstRow(),this.renderHeaderSecondRow(),a.createElement(f.default,{direction:"column",className:"apigee-dashboard-container__content__proxy-endpoints"},a.createElement("div",{className:"apigee-dashboard-container__content__proxy-endpoints__heading"},"Proxy Endpoints"),this.state.fetchedProxyEndpoints&&!this.state.isProxyTableLoading?a.createElement("div",{className:"apigee-dashboard-container__content__proxy-endpoints__table"},a.createElement(F,{proxyEndpoints:this.state.fetchedProxyEndpoints})):this.state.isProxyTableLoading?a.createElement(R.default,{className:"apigee-dashboard-container__content__proxy-endpoints__loading"}):a.createElement("div",{className:"apigee-dashboard-container__content__proxy-endpoints__no-data"},"No Proxy Endpoints found.")),a.createElement(f.default,{direction:"column",className:"apigee-dashboard-container__content__environments"},a.createElement("div",{className:"apigee-dashboard-container__content__environments__heading"},"Environments on Apigee"),this.state.fetchedEnvironmentsMeta&&!this.state.isEnvironmentsTableLoading?a.createElement("div",{className:"apigee-dashboard-container__content__environments__table"},a.createElement(V,{environments:this.state.fetchedEnvironmentsMeta})):this.state.isEnvironmentsTableLoading?a.createElement(R.default,{className:"apigee-dashboard-container__content__environments__loading"}):a.createElement("div",{className:"apigee-dashboard-container__content__environments__no-data"},"No environments found.")))}render(){let e;return e=this.state.apiProxyId&&!this.state.isContainerLoading?this.renderContainerContent():this.state.isContainerLoading?a.createElement(R.default,{className:"observability-loading-indicator"}):a.createElement("div",null,this.renderHeaderFirstRow(),this.state.errorObject&&a.createElement(P.default,{error:this.state.errorObject})),a.createElement("div",{className:"apigee-dashboard-container"},e)}})||o},"./integrations/api-observability/components/dashboard/aws-gateway/AwsDashboard.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return z}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/stores/StoreManager.js"),r=n("./integrations/api-observability/stores/APIObservabilityStore.js"),l=n("./js/stores/CurrentUserStore.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),f=n("./appsdk/components/link/Link.js"),b=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-close-stroke.js"),y=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-info-stroke-small.js"),v=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-openWeb-stroke.js"),I=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-refresh-stroke.js"),E=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-options-stroke.js"),_=n("./integrations/api-observability/components/dashboard/aws-gateway/DeploymentsListItem.js"),S=n("./integrations/api-observability/components/dashboard/aws-gateway/StageListItem.js"),C=n("./integrations/api-observability/services/index.js"),T=n("./node_modules/lodash/lodash.js"),j=n.n(T),A=n("./js/components/base/LoadingIndicator.js"),w=n("./integrations/api-observability/components/modals/DeleteIntegrationModal.js"),O=n("./integrations/api-observability/constants.ts"),N=n("./api-dev/constants/Permissions.js"),D=n("./js/services/NavigationService.js"),R=n("./integrations/navigation/constants.js"),P=n("./integrations/components/error-states/ErrorIntegrations.js"),M=n("./js/external-navigation/ExternalNavigationService.js"),L=n("./js/modules/services/AnalyticsService.js"),x=n("./integrations/api-observability/components/dashboard/aws-gateway/PostmanExportsTable.js"),k=n("./node_modules/classnames/index.js"),F=n.n(k),V=n("./integrations/api-observability/services/Helper.js"),B=n("./integrations/api-observability/containers/ImportSchema.js"),U=n("./js/stores/ActiveWorkspaceSessionStore.js");let z=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,a.resolveStoreInstance)(r.default),this.state={modalOpen:!1,viewTable:!0,isPopOverOpen:!1,filteredDeployments:[],deployments:[],postmanExports:[],loadingPostmanExports:!1,errorPostmanExports:!1,integration:{id:"",rule:"",variables:{project_slug:""}},loadingDeployments:!1,loadingMeta:!1,loadingStages:!1,loadingMetrics:!1,errorDeployments:!1,errorDeploymentsMessage:"",selectedStage:{},AWSMeta:{},constructInvokeURL:{},isDeploymentStatusAvailable:!1,isPostmanSourceAvailable:!1,showOnboardingTooltip:!1,showCloudWatchMetrics:!1,showCloudWatchBanner:!1,isOnboardingTooltipVisible:!0},this.scrollToViewMore=(0,s.createRef)(),this.dashboardWrapper=(0,s.createRef)(),this.moreOptionsWrapper=(0,s.createRef)(),this.fetchDeployments=this.fetchDeployments.bind(this),this.fetchAPIGatewayMeta=this.fetchAPIGatewayMeta.bind(this),this.fetchCloudWatchAggregateMetrics=this.fetchCloudWatchAggregateMetrics.bind(this),this.handleStageSelection=this.handleStageSelection.bind(this),this.fetchStages=this.fetchStages.bind(this),this.fetchPostmanExports=this.fetchPostmanExports.bind(this),this.handleViewMore=this.handleViewMore.bind(this),this.constructDashboardURL=this.constructDashboardURL.bind(this),this.constructLogsURL=this.constructLogsURL.bind(this),this.constructInvokeURL=this.constructInvokeURL.bind(this),this.bootstrap=this.bootstrap.bind(this),this.smoothScrollHandler=this.smoothScrollHandler.bind(this),this.handleDeleteModalAction=this.handleDeleteModalAction.bind(this),this.handleEditIntegration=this.handleEditIntegration.bind(this),this.renderIntegrationOptions=this.renderIntegrationOptions.bind(this),this.renderStageTableHeaders=this.renderStageTableHeaders.bind(this),this.renderCloudWatchMetricsColumns=this.renderCloudWatchMetricsColumns.bind(this),this.renderStageMetaInfoColumns=this.renderStageMetaInfoColumns.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this),this.getContextForDeployApi=this.getContextForDeployApi.bind(this),this.renderDeployAPIButton=this.renderDeployAPIButton.bind(this),this.configureOnboardingTooltip=this.configureOnboardingTooltip.bind(this),this.closeOnboardingTooltip=this.closeOnboardingTooltip.bind(this),this.currentUserStore=(0,a.resolveStoreInstance)(l.default),this.infoPopoverRef=s.createRef(),this.isDeployEnabled=this.isDeployEnabled.bind(this),this.handleDeployApiClick=this.handleDeployApiClick.bind(this),this.getStageUrl=this.getStageUrl.bind(this),this.onStageClick=this.onStageClick.bind(this),this.setShowCloudWatchOnboardingBanner=this.setShowCloudWatchOnboardingBanner.bind(this)}componentDidMount(){this.bootstrap(),this.configureOnboardingTooltip(),document.addEventListener("mouseup",this.handleClickOutside)}componentWillUnmount(){document.removeEventListener("mouseup",this.handleClickOutside)}handleClickOutside(e){this.moreOptionsWrapper&&!this.moreOptionsWrapper.current.contains(e.target)&&this.setState({isPopOverOpen:!1})}configureOnboardingTooltip(){let e=pm.settings.getSetting("DeploymentOnboardingTooltip")||[];!this.currentUserStore.id||e&&e.includes(this.currentUserStore.id)||(this.setState({showOnboardingTooltip:!0}),e.push(this.currentUserStore.id),pm.settings.setSetting("DeploymentOnboardingTooltip",e))}closeOnboardingTooltip(){this.setState({isOnboardingTooltipVisible:!1,showOnboardingTooltip:!1})}bootstrap(){const e=this.props.configuredIntegrations[0];this.fetchDeployments(e.id,e.rule),this.fetchAPIGatewayMeta(e.id,e.rule),this.fetchStages(e.id,e.rule),this.fetchPostmanExports(e.id,e.rule),this.setState({integration:e})}onStageClick(e){const t=this.props.configuredIntegrations[0],{apiId:n}=this.props,{availableStages:o}=this.state,s=(0,a.resolveStoreInstance)(U.default).activeEditor;e&&t&&(D.default.transitionTo(R.V10_API_DEPLOYMENT_DASHBOARD_NAV_IDENTIFIER,{apiId:n,integrationId:t.id},{stageName:e.label,stageId:e.value},{additionalContext:{integration:t,selectedStage:e,availableStages:o},tabOptions:{openIn:s}}),L.default.addEventV2({category:"gateway-integration",action:"click-stage",label:j().get(this.state.integration,"rule"),value:1}))}fetchCloudWatchAggregateMetrics(e,t){const{availableStages:n}=this.state;this.setState({loadingMetrics:!0,errorMetrics:!1}),Promise.all(j().map(n,(n=>C.default[t].fetchCloudWatchAggregateMetrics(e,n.label)))).then((e=>{let t=j().map(n,(t=>({...t,metrics:j().get(j().find(e,{stage:t.label}),"metrics")})));this.setState({availableStages:t,loadingMetrics:!1,errorMetrics:!1,showCloudWatchMetrics:!0,showCloudWatchBanner:!1})})).catch((e=>{pm.logger.error("Error occurred while fetching CloudWatch metrics",e),this.setState({loadingMetrics:!1,errorMetrics:!0,showCloudWatchMetrics:!1,showCloudWatchBanner:!pm.settings.getSetting(O.CLOUDWATCH_BANNER_SETTING)})}))}smoothScrollHandler(){this.scrollToViewMore.current.scrollIntoView({behavior:"smooth"})}fetchPostmanExports(e,t){this.setState({loadingPostmanExports:!0,errorPostmanExports:!1}),C.default[t].fetchPostmanExports(e).then((e=>{this.setState({loadingPostmanExports:!1,postmanExports:e})})).catch((e=>{pm.logger.error("Error occurred while fetching postman exports",e),this.setState({loadingPostmanExports:!1,errorPostmanExports:!0,errorObject:e.error})}))}fetchDeployments(e,t){this.setState({loadingDeployments:!0,errorDeployments:!1}),C.default[t].fetchDeployments(e).then((e=>{let t=j().orderBy(e,[e=>new Date(e.CreatedDate)],["desc"]),n=j().slice(t,0,O.DEPLOYMENTS_PER_PAGE);this.setState({deployments:t,filteredDeployments:n,loadingDeployments:!1});let o=!1,s=!1;j().map(t,(e=>{(e.DeploymentStatus||e.deploymentStatus)&&(o=!0),j().isEmpty(e.schemaSource)||(s=!0)})),this.setState({isDeploymentStatusAvailable:o,isPostmanSourceAvailable:s})})).catch((e=>{this.setState({errorDeployments:!0,loadingDeployments:!1,errorObject:e.error})}))}fetchAPIGatewayMeta(e,t){this.setState({loadingMeta:!0,errorMeta:!1}),C.default[t].fetchAPIGatewayMeta(e).then((e=>{this.setState({AWSMeta:e,loadingMeta:!1,bootstrapDone:!0},(()=>{this.constructDashboardURL()}))})).catch((e=>{this.setState({errorMeta:!0,loadingMeta:!1,errorObject:e.error})}))}getStageUrl(e){let{integration:t}=this.state;return j().get(t,"variables.aws_api_type")===O.API_GATEWAY_TYPES.REST?`https://console.aws.amazon.com/apigateway/home?region=${j().get(t,"variables.aws_region")}#/apis/${j().get(t,"variables.aws_api_gateway_id")}/stages/${e}`:`https://console.aws.amazon.com/apigateway/main/deploy/stages/?api=${j().get(t,"variables.aws_api_gateway_id")}&region=${j().get(t,"variables.aws_region")}&stage=${e}`}fetchStages(e,t){this.setState({loadingStages:!0,errorStages:!1}),C.default[t].fetchStages(e).then((n=>{let o=j().orderBy(n,[e=>new Date(e.CreatedDate)],["desc"]),s=j().map(o,(e=>({label:e.StageName||e.stageName,value:e.DeploymentId||e.deploymentId,stageUrl:this.getStageUrl(e.StageName||e.stageName),...e})));j().isEmpty(s)||this.handleStageSelection(s[0]),this.setState({availableStages:s,loadingStages:!1},(()=>{this.constructInvokeURL(),this.constructLogsURL(),this.fetchCloudWatchAggregateMetrics(e,t)}))})).catch((e=>{this.setState({errorStages:!0,loadingStages:!1,errorObject:e.error})}))}constructLogsURL(){let e,t,{selectedStage:n}=this.state;if(j().get(this.state.integration,"variables.aws_api_type")===O.API_GATEWAY_TYPES.REST){if(!n.accessLogSettings)return void this.setState({showLogsButton:!1});t=j().get(n.accessLogSettings,"destinationArn").split(":")}else{if(!n.AccessLogSettings)return void this.setState({showLogsButton:!1});t=j().get(n.AccessLogSettings,"DestinationArn").split(":")}t=t[t.length-1],e=`https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#logsV2:log-groups/log-group/${t}`,this.setState({constructedLogsUrl:e,showLogsButton:!0})}constructDashboardURL(){let e,{integration:t}=this.state;e=j().get(t,"variables.aws_api_type")===O.API_GATEWAY_TYPES.REST?`https://console.aws.amazon.com/apigateway/home?region=${j().get(t,"variables.aws_region")}#/apis/${j().get(t,"variables.aws_api_gateway_id")}/dashboard`:`https://console.aws.amazon.com/apigateway/main/monitor/metrics?api=${j().get(t,"variables.aws_api_gateway_id")}&region=${j().get(t,"variables.aws_region")}`,this.setState({constructedDashboardURL:e})}constructInvokeURL(){let e,{AWSMeta:t,currentStage:n,integration:o}=this.state;e=t.ApiEndpoint?{label:`${t.ApiEndpoint}/${n}`,value:`${t.ApiEndpoint}/${n}`}:{label:`${j().get(o,"variables.aws_api_gateway_id")}.execute-api.${j().get(o,"variables.aws_region")}.amazonaws.com/${n}`,value:`https://${j().get(o,"variables.aws_api_gateway_id")}.execute-api.${j().get(o,"variables.aws_region")}.amazonaws.com/${n}`},this.setState({constructedInvokeURL:e})}constructGatewayURL(){let{integration:e}=this.state;return j().get(e,"variables.aws_api_type")===O.API_GATEWAY_TYPES.REST?`https://console.aws.amazon.com/apigateway/home?region=${j().get(e,"variables.aws_region")}#/apis/${j().get(e,"variables.aws_api_gateway_id")}/resources`:`https://console.aws.amazon.com/apigateway/main/api-detail?api=${j().get(e,"variables.aws_api_gateway_id")}&region=${j().get(e,"variables.aws_region")}`}handleViewMore(){let e=this.state.deployments;this.state.filteredDeployments.length>=this.state.deployments.length&&(e=j().slice(e,0,O.DEPLOYMENTS_PER_PAGE)),this.setState({filteredDeployments:e},(()=>{this.smoothScrollHandler()})),L.default.addEventV2({category:"gateway-integration",action:"load-more-deployments",label:j().get(this.state.integration,"rule"),value:1})}handleStageSelection(e){this.setState({selectedStage:e,currentStage:e.label.toLowerCase()},(()=>{this.constructLogsURL(),this.constructInvokeURL(),this.constructDashboardURL()}))}handleDeleteModalAction(){let{showDeleteModal:e}=this.state;j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`)&&this.setState({showDeleteModal:!e,isPopOverOpen:!1})}renderIntegrationOptions(e){return e===O.EDIT_INTEGRATION.value?s.createElement("div",{className:j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`)?"observability-edit-integration":"observability-edit-integration-disabled",onClick:this.handleEditIntegration},O.EDIT_INTEGRATION.label):s.createElement("div",{className:j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`)?"observability-delete-integration":"observability-delete-integration-disabled",onClick:this.handleDeleteModalAction},O.DELETE_INTEGRATION.label)}handleViewDashboard(e){e&&(0,M.openExternalLink)(e,"_blank"),L.default.addEventV2({category:"gateway-integration",action:"view-dashboard",label:j().get(this.state.integration,"rule"),value:1})}handleEditIntegration(){let{model:e}=this.props,{integration:t}=this.state;j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`)&&this.setState({isPopOverOpen:!1},(()=>{D.default.transitionTo(R.V10_API_EDIT_DEPLOYMENT_INTEGRATION_NAV_IDENTIFIER,{apiId:e.apiId,integrationId:t.id},{tab:O.DEPLOYMENT_TAB,category:O.API_OBSERVABILITY})}))}getContextForDeployApi(){let e=j().get(this.props,"releaseContext"),t={branch:j().get(this.props,"model.featureBranch.branchName")||null};return j().isEmpty(e)||(t={...e}),t}handleDeployApiClick(){const e=j().get(this.state,"integration",{}),t=this.getContextForDeployApi(),n=j().get(t,"releaseId",null)?O.RELEASE_VIEW:O.DEPLOYMENT_VIEW;V.default.addDeployClickAnalytics(e,n),D.default.transitionTo(R.V10_API_DEPLOY_NAV_IDENTIFIER,{apiId:j().get(e,"variables.postman_api_id"),integrationId:j().get(e,"id")},null,{additionalContext:this.getContextForDeployApi()}),this.closeOnboardingTooltip()}renderDeployAPIButton(){let{integration:e,showOnboardingTooltip:t,isOnboardingTooltipVisible:n}=this.state,o=j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`);return this.isDeployEnabled(e)?s.createElement("div",{className:"observability-gateway-deploy-cta"},s.createElement(c.default,{placement:"left",isOpen:n&&t,onClickOutside:this.closeOnboardingTooltip,appendTo:"parent",trigger:s.createElement(d.default,{type:"secondary",text:"Deploy API",onClick:this.handleDeployApiClick,tooltip:o?null:O.PERMISSION_ERROR,isDisabled:!o,className:"observability-gateway-deploy-cta__deploy-button"})},s.createElement("div",{className:"observability-onboarding-tooltip-container"},s.createElement("div",{className:"observability-onboarding-tooltip-container__title"},s.createElement("div",{className:"observability-onboarding-tooltip-container__title__heading"},s.createElement(u.default,{type:"h5",text:"Deploy or Export to AWS Gateway"})),s.createElement("div",{className:"observability-onboarding-tooltip-container__title__close-icon",onClick:this.closeOnboardingTooltip},s.createElement(b.default,{color:"content-color-primary"}))),s.createElement("div",{className:"observability-onboarding-tooltip-container__content"},s.createElement(p.default,{color:"content-color-primary"},"You can deploy or export a definition from a version or release to this AWS API Gateway.")),s.createElement("div",{className:"observability-onboarding-tooltip-container__button"},s.createElement(d.default,{type:"secondary",text:"Got it",onClick:this.closeOnboardingTooltip}))))):s.createElement("div",{className:"observability-gateway-deploy-cta"})}renderStageTableHeaders(){const{showCloudWatchMetrics:e}=this.state;return s.createElement("div",{className:"observability-deployments-table-header"},this.renderStageMetaInfoColumns(),e?this.renderCloudWatchMetricsColumns():s.createElement("div",{className:"observability-deployments-table-header-cell-generic"},s.createElement(u.default,{type:"h6",text:""})))}renderStageMetaInfoColumns(){const{showCloudWatchMetrics:e}=this.state;return s.createElement(s.Fragment,null,s.createElement("div",{className:"observability-deployments-table-header-cell-dropdown"},s.createElement(u.default,{type:"h6"})),s.createElement("div",{className:"observability-deployments-table-header-cell-generic"},s.createElement(u.default,{type:"h6",text:"Stage"})),s.createElement("div",{className:"observability-deployments-table-header-cell-generic"},s.createElement(u.default,{type:"h6",text:"Active deployment"})),!e&&s.createElement("div",{className:"observability-deployments-table-header-cell-generic"},s.createElement(u.default,{type:"h6",text:"Created on"})),s.createElement("div",{className:"observability-deployments-table-header-cell-generic"},s.createElement(u.default,{type:"h6",text:"Last updated"})))}renderCloudWatchMetricsColumns(){return s.createElement(s.Fragment,null,s.createElement("div",{className:"observability-deployments-table-header-cell-generic"},s.createElement(m.default,{direction:"row",alignItems:"center",gap:"spacing-xs"},s.createElement(u.default,{type:"h6",text:"Latency"}),s.createElement(h.default,{content:O.CLOUDWATCH_METRICS_INFO.LATENCY,placement:"bottom"},s.createElement(y.default,{className:"observability-deployments-table-header-cell-generic__info"})))),s.createElement("div",{className:"observability-deployments-table-header-cell-generic"},s.createElement(m.default,{direction:"row",alignItems:"center",gap:"spacing-xs"},s.createElement(u.default,{type:"h6",text:"5xx error"}),s.createElement(h.default,{content:O.CLOUDWATCH_METRICS_INFO["5XX_ERROR"],placement:"bottom"},s.createElement(y.default,{className:"observability-deployments-table-header-cell-generic__info"})))),s.createElement("div",{className:"observability-deployments-table-header-cell-generic"},s.createElement(m.default,{direction:"row",alignItems:"center",gap:"spacing-xs"},s.createElement(u.default,{type:"h6",text:"4xx error"}),s.createElement(h.default,{content:O.CLOUDWATCH_METRICS_INFO["4XX_ERROR"],placement:"bottom"},s.createElement(y.default,{className:"observability-deployments-table-header-cell-generic__info"})))))}renderCloudWatchOnboardingBanner(){const e=j().get(this.state,"integration.variables.auth_type");return s.createElement("div",{className:"observability-gateway-banner"},s.createElement(g.default,{status:"info",title:O.CLOUDWATCH_METRICS_BANNER.title,onDismiss:()=>this.setShowCloudWatchOnboardingBanner(!1)},O.CLOUDWATCH_METRICS_BANNER.description,"  "," ",s.createElement(d.default,{type:"plain",text:"Learn more ",onClick:()=>{(0,M.openExternalLink)(O.CLOUDWATCH_METRICS_DOCS_LINK[e],"_blank")}})))}setShowCloudWatchOnboardingBanner(e){this.setState({showCloudWatchBanner:e}),pm.settings.getSetting(O.CLOUDWATCH_BANNER_SETTING)||pm.settings.setSetting(O.CLOUDWATCH_BANNER_SETTING,!0)}isDeployEnabled(){const{integration:e}=this.state;return!!(e&&C.default[e.rule]&&j().isFunction(C.default[e.rule].isDeployEnabled))&&C.default[e.rule].isDeployEnabled(e)}getDeploymentClassName(e,t){let n=e+"_short-col";return t?F()(e,n):F()(e)}render(){let{loadingDeployments:e,deployments:t,filteredDeployments:n,availableStages:o,loadingStages:i,errorStage:a,AWSMeta:r,loadingMeta:l,constructedDashboardURL:g,bootstrapDone:b,integration:y,showDeleteModal:C,showCloudWatchMetrics:T,isPopOverOpen:D,errorDeployments:R,errorMeta:M,errorObject:L,isDeploymentStatusAvailable:k,showCloudWatchBanner:F,errorPostmanExports:V,loadingPostmanExports:U,loadingMetrics:z,postmanExports:H,isPostmanSourceAvailable:G}=this.state;return R||M||a||V?s.createElement("div",{className:"observability-deployments-page-container"},F&&this.renderCloudWatchOnboardingBanner(),s.createElement(m.default,{padding:{paddingTop:"spacing-xl"},alignItems:"center",justifyContent:"space-between",wrap:"wrap",className:"observability-gateway-title-wrapper"},s.createElement(u.default,{type:"h4",text:r.Name||r.name||"AWS API Gateway"}),s.createElement(m.default,{padding:{paddingLeft:"spacing-xl"},grow:1,shrink:1,justifyContent:"flex-end",wrap:"wrap"},this.renderDeployAPIButton(),s.createElement("div",{className:"observability-gateway-import-cta"},s.createElement(B.default,{integrationId:j().get(y,"id"),rule:j().get(y,"rule"),apiId:j().get(y,"variables.postman_api_id"),versionId:j().get(y,"executor"),formSource:O.IMPORT_FORM_SOURCES.DEPLOY_DASHBOARD})),s.createElement("div",{className:"observability-gateway-dashboard-link"},s.createElement(d.default,{type:"tertiary",icon:s.createElement(v.default,null),text:"View Dashboard",onClick:()=>this.handleViewDashboard(g)})),s.createElement("div",{className:"observability-gateway-refresh-cta"},s.createElement(d.default,{onClick:this.bootstrap,type:"tertiary",icon:s.createElement(I.default,null)})),s.createElement("div",{className:"observability-gateway-more-options"},s.createElement(c.default,{maxWidth:300,isOpen:D,trigger:s.createElement("div",{className:"observability-gateway-more-options-icon-wrapper",ref:this.moreOptionsWrapper,onClick:()=>{this.setState({isPopOverOpen:!D})}},s.createElement(d.default,{onClick:()=>{},type:"tertiary",icon:s.createElement(E.default,null)}))},j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`)?this.renderIntegrationOptions(O.EDIT_INTEGRATION.value):s.createElement(h.default,{content:O.PERMISSION_ERROR,placement:"bottom"},this.renderIntegrationOptions(O.EDIT_INTEGRATION.value)),j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`)?this.renderIntegrationOptions(O.DELETE_INTEGRATION.value):s.createElement(h.default,{content:O.PERMISSION_ERROR,placement:"bottom"},this.renderIntegrationOptions(O.DELETE_INTEGRATION.value))),s.createElement(w.default,{model:this.props.model,size:"small",isOpen:C,handleCloseModal:this.handleDeleteModalAction,integrationId:y.id,ruleId:y.rule})))),s.createElement("div",{className:"observability-error"},s.createElement(P.default,{error:L}))):s.createElement("div",null,s.createElement("div",{className:"observability-deployments-page-container"},F&&this.renderCloudWatchOnboardingBanner(),b&&s.createElement(m.default,{padding:{paddingTop:"spacing-xl"},alignItems:"center",justifyContent:"space-between",wrap:"wrap",className:"observability-gateway-title-wrapper"},s.createElement(m.default,{alignItems:"baseline",padding:"spacing-s spacing-zero",shrink:1,wrap:"wrap"},s.createElement(u.default,{type:"h4",text:r.Name||r.name||"AWS API Gateway"}),s.createElement(p.default,{color:"content-color-tertiary"},""),s.createElement(p.default,null,"AWS Gateway ID:"),s.createElement(f.default,{to:this.constructGatewayURL(),target:"_blank"},s.createElement(p.default,{type:"link-subtle",isExternal:!0},r.ApiId||r.id||"-"))),s.createElement(m.default,{padding:{paddingLeft:"spacing-xl"},grow:1,shrink:1,wrap:"wrap",justifyContent:"flex-end"},this.renderDeployAPIButton(),s.createElement("div",{className:"observability-gateway-import-cta"},s.createElement(B.default,{integrationId:j().get(y,"id"),rule:j().get(y,"rule"),apiId:j().get(y,"variables.postman_api_id"),versionId:j().get(y,"executor"),formSource:O.IMPORT_FORM_SOURCES.DEPLOY_DASHBOARD})),s.createElement("div",{className:"observability-gateway-dashboard-link"},s.createElement(d.default,{type:"tertiary",icon:s.createElement(v.default,null),text:"View Dashboard",onClick:()=>this.handleViewDashboard(g)})),s.createElement("div",{className:"observability-gateway-refresh-cta"},s.createElement(d.default,{onClick:this.bootstrap,type:"tertiary",icon:s.createElement(I.default,null)})),s.createElement("div",{className:"observability-gateway-more-options"},s.createElement(c.default,{maxWidth:300,isOpen:D,trigger:s.createElement("div",{className:"observability-gateway-more-options-icon-wrapper",ref:this.moreOptionsWrapper,onClick:()=>{this.setState({isPopOverOpen:!D})}},s.createElement(d.default,{onClick:()=>{},type:"tertiary",icon:s.createElement(E.default,null)}))},j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`)?this.renderIntegrationOptions(O.EDIT_INTEGRATION.value):s.createElement(h.default,{content:O.PERMISSION_ERROR,placement:"bottom"},this.renderIntegrationOptions(O.EDIT_INTEGRATION.value)),j().get(this.props,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${N.UPDATE_API_META}.allowed`)?this.renderIntegrationOptions(O.DELETE_INTEGRATION.value):s.createElement(h.default,{content:O.PERMISSION_ERROR,placement:"bottom"},this.renderIntegrationOptions(O.DELETE_INTEGRATION.value))),s.createElement(w.default,{model:this.props.model,size:"small",isOpen:C,handleCloseModal:this.handleDeleteModalAction,integrationId:y.id,ruleId:y.rule})))),e||i||z||l||U?s.createElement(A.default,{className:"observability-loading-indicator"}):s.createElement("div",null,s.createElement("div",null,s.createElement(m.default,{padding:{paddingTop:"spacing-xl"}},s.createElement(u.default,{text:"Stages",type:"h5"})),j().isEmpty(o)?s.createElement("div",{className:"observability-stages-empty-state"},s.createElement(p.default,{color:"content-color-secondary"},"Stages are not available in this gateway.")):s.createElement("div",{className:"observability-deployments-table"},s.createElement("div",{className:"observability-deployments-table-success"},this.renderStageTableHeaders(),s.createElement("div",{className:"observability-deployments-table-row-wrapper"},j().map(o,(e=>s.createElement(S.default,{key:e.DeploymentId||e.id,stageDetails:e,length:o.length,AWSMeta:r,onClick:this.onStageClick,showCloudWatchMetrics:T,integration:y}))))))),this.isDeployEnabled()&&s.createElement("div",{className:"observability-gateway-postman-exports-container"},s.createElement(u.default,{text:"Exports from Postman",type:"h5"}),s.createElement("div",{className:"observability-gateway-postman-exports-container__content"},j().isEmpty(H)?s.createElement("div",{className:"observability-gateway-postman-exports-container__content__empty"},s.createElement(p.default,{color:"content-color-secondary"},"No API definition exported from Postman to AWS.")):s.createElement(x.default,{postmanExports:H,model:this.props.model}))),s.createElement("div",null,s.createElement(m.default,{padding:{paddingTop:"spacing-xxl"}},s.createElement(u.default,{text:"Deployments",type:"h5"})),j().isEmpty(t)?s.createElement("div",{className:"observability-stages-empty-state"},s.createElement(p.default,{color:"content-color-secondary"},"Deployments are not available in this gateway.")):s.createElement("div",null,s.createElement("div",{className:"observability-deployments-table observability-deployments-table-sourced"},s.createElement("div",{className:"observability-deployments-table-success"},s.createElement("div",{className:"observability-deployments-table-header"},s.createElement("div",{className:this.getDeploymentClassName("observability-deployments-table-header-cell-id",G)},s.createElement(u.default,{type:"h6",text:"ID"})),s.createElement("div",{className:this.getDeploymentClassName("observability-deployments-table-header-cell-description",G)},s.createElement(u.default,{type:"h6",text:"Deployment description"})),s.createElement("div",{className:this.getDeploymentClassName("observability-deployments-table-header-cell-date",G)},s.createElement(u.default,{type:"h6",text:"Created on"})),G&&s.createElement("div",{className:this.getDeploymentClassName("observability-deployments-table-header-cell-source",G)},s.createElement(u.default,{type:"h6",text:"Deployment source from Postman"}))),s.createElement("div",{className:"observability-deployments-table-row-wrapper"},j().map(n,(e=>s.createElement(_.default,{key:e.DeploymentId||e.id,deploymentDetails:e,length:n.length,isDeploymentStatusAvailable:k,isPostmanSourceAvailable:G,model:this.props.model})))))),t.length>O.DEPLOYMENTS_PER_PAGE&&s.createElement(m.default,{justifyContent:"center",padding:{paddingTop:"spacing-s",paddingBottom:"spacing-xxl"}},s.createElement(d.default,{type:"outline",onClick:this.handleViewMore,minWidth:"228px",text:n.length<t.length?"Show 5 More Deployments":"Show Less"}))))),s.createElement("div",{ref:this.scrollToViewMore})))}})||o},"./integrations/api-observability/components/dashboard/aws-gateway/DeploymentsListItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o,s=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("../../node_modules/react/index.js"),l=n("./integrations/utils/CommonHelperMethods.ts"),c=n("./integrations/api-observability/constants.ts"),d=n("./integrations/api-observability/components/PostmanSourceItem.js"),u=n("./node_modules/classnames/index.js"),p=n.n(u),m=n("./node_modules/lodash/lodash.js");let h=(0,a.observer)(o=class extends r.Component{constructor(e){super(e)}getDeploymentClassName(e,t){let n=e+"_short-col";return t?p()(e,n):p()(e)}render(){const{deploymentDetails:e,isDeploymentStatusAvailable:t,isPostmanSourceAvailable:n,model:o}=this.props,{DeploymentId:a,Description:u,CreatedDate:p,DeploymentStatus:h,id:g,description:f,createdDate:b,deploymentStatus:y,schemaSource:v}=e;return r.createElement("div",{className:"observability-deployments-table-row is-closed"},r.createElement("div",{className:this.getDeploymentClassName("observability-deployments-table-row-cell-id",n)},a||g,t&&!m.isEmpty(c.DEPLOYMENT_TO_STATUS[h||y])&&r.createElement(s.default,{status:c.DEPLOYMENT_TO_STATUS[h||y],text:h||y||"-"})),r.createElement("div",{className:this.getDeploymentClassName("observability-deployments-table-row-cell-description",n)},r.createElement(i.default,{isTruncated:!0},u||f||"-")),r.createElement("div",{className:this.getDeploymentClassName("observability-deployments-table-row-cell-date",n)},null===p||null===b?"Just Now":(0,l.formatUtcDate)(p||b)),n&&r.createElement("div",{className:this.getDeploymentClassName("observability-deployments-table-row-cell-source",n)},r.createElement(d.default,{source:v,model:o})))}})||o},"./integrations/api-observability/components/dashboard/aws-gateway/PostmanExportsTable.js":function(e,t,n){"use strict";n.r(t),n.d(t,{PostmanExportsTable:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),l=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/integrationRunsListing/utils/utils.js"),c=n("./integrations/api-observability/components/PostmanSourceItem.js");class d extends o.Component{constructor(e){super(e),this.columns=[{Header:"",accessor:"space",Cell:e=>o.createElement("div",null),cellWidth:"32px"},{Header:"Source of Export",accessor:"source",Cell:t=>o.createElement(c.default,{source:t.value,model:e.model})},{Header:"Exported at",accessor:"time",Cell:e=>o.createElement(a.default,{color:"content-color-secondary"},e.value)}],this.data=i().map(e.postmanExports,(e=>({source:i().get(e,"data.schemaSource"),time:l.default.format(i().get(e,"createdAt"),!0),space:""})))}render(){return o.createElement(r.default,{className:"observability-gateway-postman-exports-container__content__table",columns:this.columns,data:this.data,bodyMaxHeight:"225px"})}}t.default=d},"./integrations/api-observability/components/dashboard/aws-gateway/StageListItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o,s=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("../../node_modules/react/index.js"),l=n("./integrations/api-observability/constants.ts"),c=n("./js/external-navigation/ExternalNavigationService.js"),d=n("./integrations/utils/CommonHelperMethods.ts"),u=n("./node_modules/lodash/lodash.js");let p=(0,a.observer)(o=class extends r.Component{constructor(e){super(e),this.state={isInfoPanelOpen:!1,showLogsButton:!1,showCloudWatchMetrics:!0},this.constructInvokeURL=this.constructInvokeURL.bind(this),this.constructLogsURL=this.constructLogsURL.bind(this),this.handleStageOnClick=this.handleStageOnClick.bind(this),this.renderCloudWatchMetricsColumns=this.renderCloudWatchMetricsColumns.bind(this)}componentDidMount(){this.constructInvokeURL(),this.constructLogsURL()}constructLogsURL(){let e,t,{stageDetails:n}=this.props;if(u.get(this.state.integration,"variables.aws_api_type")===l.API_GATEWAY_TYPES.REST){if(!n.accessLogSettings)return void this.setState({showLogsButton:!1});t=u.get(n.accessLogSettings,"destinationArn").split(":")}else{if(!n.AccessLogSettings)return void this.setState({showLogsButton:!1});t=u.get(n.AccessLogSettings,"DestinationArn").split(":")}t=t[t.length-1],e=`https://console.aws.amazon.com/cloudwatch/home?region=us-east-1#logsV2:log-groups/log-group/${t}`,this.setState({constructedLogsURL:e,showLogsButton:!0})}constructInvokeURL(){let e,{AWSMeta:t,stageDetails:n,integration:o}=this.props;e=t.ApiEndpoint?{label:`${t.ApiEndpoint}/${n.label}`,value:`${t.ApiEndpoint}/${n.label}`}:{label:`${u.get(o,"variables.aws_api_gateway_id")}.execute-api.${u.get(o,"variables.aws_region")}.amazonaws.com/${n.label}`,value:`https://${u.get(o,"variables.aws_api_gateway_id")}.execute-api.${u.get(o,"variables.aws_region")}.amazonaws.com/${n.label}`},this.setState({constructedInvokeURL:e})}handleStageOnClick(){const{stageDetails:e,onClick:t,showCloudWatchMetrics:n}=this.props;n&&t(e)}renderCloudWatchMetricsColumns(){const{stageDetails:e}=this.props,{metrics:t}=e;return r.createElement(r.Fragment,null,r.createElement("div",{className:"observability-deployments-table-row-cell-generic"},t&&t.latency?`${u.round(t.latency,2)}ms`:"-"),r.createElement("div",{className:"observability-deployments-table-row-cell-generic"},t&&u.get(t,"errorRate.5XX","-")),r.createElement("div",{className:"observability-deployments-table-row-cell-generic"},t&&u.get(t,"errorRate.4XX","-")))}render(){const{stageDetails:e,showCloudWatchMetrics:t}=this.props,{label:n,value:o,createdDate:a,CreatedDate:l,lastUpdatedDate:p,LastUpdatedDate:m,description:h,Description:g,stageUrl:f}=e,{isInfoPanelOpen:b,constructedLogsURL:y,constructedInvokeURL:v,showLogsButton:I}=this.state;return r.createElement("div",null,r.createElement("div",{className:b?"observability-deployments-table-row":"observability-deployments-table-row is-closed"},r.createElement("div",{className:"observability-deployments-table-row-cell-dropdown",onClick:()=>this.setState({isInfoPanelOpen:!b})},b?r.createElement(i.default,{name:"icon-direction-down-large",color:"content-color-secondary",size:"small"}):r.createElement(i.default,{name:"icon-direction-right-large",color:"content-color-secondary",size:"small"})),r.createElement("div",{className:"observability-deployments-table-row-cell-generic",onClick:this.handleStageOnClick},t?r.createElement(s.default,{type:"link-subtle"},n):n),r.createElement("div",{className:"observability-deployments-table-row-cell-generic"},r.createElement("span",{className:"observability-deployments-id"},u.isEmpty(o)?"-":o)),!t&&r.createElement("div",{className:"observability-deployments-table-row-cell-generic"},null===l||null===a?"Just Now":(0,d.formatUtcDate)(l||a)),r.createElement("div",{className:"observability-deployments-table-row-cell-generic"},null===m||null===p?"Just Now":(0,d.formatUtcDate)(m||p)),t?this.renderCloudWatchMetricsColumns():r.createElement("div",{className:"observability-deployments-table-row-cell-generic observability-deployments-table-row-cell-stage-link"},r.createElement("span",{onClick:()=>(0,c.openExternalLink)(f,"_blank")},r.createElement(s.default,{type:"link-subtle",isExternal:!0},"View stage on AWS")))),b&&r.createElement("div",{className:"observability-stage-dropdown-wrapper"},r.createElement("div",{className:"observability-collapsed-content"},r.createElement("div",{className:"observability-gateway-url"},r.createElement("div",{className:"observability-gateway-url-title"},"Invoke URL:"),r.createElement("span",{className:"observability-gateway-url__link",onClick:()=>(0,c.openExternalLink)(u.get(v,"value",""),"_blank")},u.get(v,"label"))),r.createElement("div",{className:"observability-gateway-description"},g||h||"No description to show"),r.createElement("div",{className:"observability-gateway-logs-wrapper"},I&&r.createElement("div",{className:"observability-gateway-access-logs"},r.createElement("span",{onClick:()=>(0,c.openExternalLink)(y,"_blank")},"View Cloudwatch Logs"))))))}})||o},"./integrations/api-observability/components/dashboard/azure/AzureDashboard.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/stores/StoreManager.js"),r=n("./integrations/api-observability/stores/APIObservabilityStore.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Avatar/Avatar.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),f=n("./integrations/api-observability/services/index.js"),b=n("./node_modules/lodash/lodash.js"),y=n.n(b),v=n("./integrations/api-observability/components/modals/DeleteIntegrationModal.js"),I=n("./api-dev/constants/Permissions.js"),E=n("./js/services/NavigationService.js"),_=n("./integrations/navigation/constants.js"),S=n("./integrations/components/error-states/ErrorIntegrations.js"),C=n("./integrations/api-observability/components/dashboard/azure/ServicesTable.js"),T=n("./integrations/api-observability/constants.ts"),j=n("./integrations/api-observability/containers/ImportSchema.js");let A=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,a.resolveStoreInstance)(r.default),this.state={integration:e.configuredIntegrations[0],showDeleteModal:!1,isEditEnabled:y().get(e,`model.apiPermissionStore.permissions.${this.store.selectedAPI}:${I.UPDATE_API_META}.allowed`,!1)},this.handleEditIntegration=this.handleEditIntegration.bind(this),this.handleDeleteIntegration=this.handleDeleteIntegration.bind(this),this.getContextForExportApi=this.getContextForExportApi.bind(this)}componentDidMount(){this.bootstrap()}bootstrap(){const e=this.props.configuredIntegrations[0];this.setState({integration:e})}getContextForExportApi(){let e=y().get(this.props,"releaseContext"),t={branch:y().get(this.props,"model.featureBranch.branchName",null)};return y().isEmpty(e)||(t={...e}),t}isDeployEnabled(){const{integration:e}=this.state;return!!(e&&f.default[e.rule]&&y().isFunction(f.default[e.rule].isDeployEnabled))&&f.default[e.rule].isDeployEnabled(e)}handleEditIntegration(){E.default.transitionTo(_.V10_API_EDIT_DEPLOYMENT_INTEGRATION_NAV_IDENTIFIER,{apiId:this.props.apiId,integrationId:y().get(this.state.integration,"id")},{tab:T.DEPLOYMENT_TAB,category:T.API_OBSERVABILITY})}handleDeleteIntegration(){this.setState({showDeleteModal:!0})}render(){const{errorServices:e,integration:t,isEditEnabled:n}=this.state;return e?s.createElement("div",{className:"observability-deployments-page-container"},s.createElement("div",{className:"observability-error"},s.createElement(S.default,{error:e}))):s.createElement("div",{className:"observability-azure-dashboard-container"},s.createElement(v.default,{model:this.props.model,size:"small",isOpen:this.state.showDeleteModal,handleCloseModal:()=>this.setState({showDeleteModal:!1}),integrationId:t.id,ruleId:t.rule}),s.createElement("div",{className:"observability-azure-dashboard-container__header"},s.createElement("div",{className:"observability-azure-dashboard-container__header__left-section"},s.createElement("div",{className:"observability-azure-dashboard-container__header__left-section__title"},s.createElement(l.default,{type:"h3",text:"Deployments on Gateway"})),s.createElement("div",{className:"observability-azure-dashboard-container__header__left-section__source"},s.createElement("div",{className:"observability-azure-dashboard-container__header__left-section__source__title"},s.createElement(l.default,{type:"h6",text:"Source:"})),s.createElement("div",{className:"observability-azure-dashboard-container__header__left-section__source__icon"},s.createElement(c.default,{src:"https://static.getpostman.com/assets/azure-apim.svg",size:"xs"})),s.createElement("div",{className:"observability-azure-dashboard-container__header__left-section__source__service-name"},s.createElement(d.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",lineHeight:"line-height-s",fontWeight:"text-weight-regular",fontFamily:"text-family-default"}},"Azure")))),s.createElement("div",{className:"observability-azure-dashboard-container__header__right-section"},s.createElement("div",{className:"observability-azure-dashboard-container__header__right-section__import-button"},s.createElement(j.default,{integrationId:y().get(t,"id"),rule:y().get(t,"rule"),apiId:y().get(t,"variables.postman_api_id"),versionId:y().get(t,"executor"),formSource:T.IMPORT_FORM_SOURCES.DEPLOY_DASHBOARD})),s.createElement("div",{className:"observability-azure-dashboard-container__header__right-section__options-container"},s.createElement(u.default,null,s.createElement(p.default,null,s.createElement(m.default,{icon:"icon-action-options-stroke",type:"tertiary"})),s.createElement(h.default,null,s.createElement(g.default,{onClick:this.handleEditIntegration,isDisabled:!n,tooltip:!n&&T.PERMISSION_ERROR},"Edit Integration"),s.createElement(g.default,{type:"destructive",onClick:this.handleDeleteIntegration,isDisabled:!n,tooltip:!n&&T.PERMISSION_ERROR},"Delete Integration")))))),s.createElement("div",{className:"observability-azure-dashboard-container__content"},s.createElement("div",{className:"observability-azure-dashboard-container__content__source"},s.createElement(l.default,{type:"h4",text:"Services on Azure API Management"})),s.createElement("div",{className:"observability-azure-dashboard-container__content__services"},s.createElement(C.default,{integration:t,model:this.props.model,context:this.getContextForExportApi()}))))}})||o},"./integrations/api-observability/components/dashboard/azure/ServicesTable.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ServicesTable:function(){return _}});var o=n("../../node_modules/react/index.js"),s=n("./integrations/navigation/constants.js"),i=n("./integrations/api-observability/services/AzureService.js"),a=n("./js/services/NavigationService.js"),r=n("./integrations/api-observability/components/base/TableEmptyState.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItemGroup.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/InternalServerError.js"),b=n("./js/stores/StoreManager.js"),y=n("./js/stores/ActiveWorkspaceSessionStore.js"),v=n("./node_modules/lodash/lodash.js");const I=({value:e})=>o.createElement("div",{className:"azure-custom-cell"},o.createElement(l.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-m",fontFamily:"text-family-default"}},e)),E=({value:e,truncatedText:t,publicIPs:n,privateIPs:s})=>{let i=v.map(n||[],(e=>o.createElement(c.default,null,o.createElement(l.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-m",fontFamily:"text-family-default"}},e)))),a=v.map(s||[],(e=>o.createElement(c.default,null,o.createElement(l.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-m",fontFamily:"text-family-default"}},e))));return o.createElement("div",{className:"azure-custom-cell"},o.createElement(l.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-m",fontWeight:"text-weight-regular",lineHeight:"line-height-m",fontFamily:"text-family-default"}},e+"... "),o.createElement(d.default,null,o.createElement(u.default,null,o.createElement(p.default,{onClick:()=>{},type:"monochrome-plain",text:t,className:"azure-custom-cell__ip-address"})),o.createElement(m.default,{placement:"bottom-end"},n&&o.createElement(h.default,{title:"Public IPs"},i),s&&o.createElement(h.default,{title:"Private IPs"},a))))};class _ extends o.Component{constructor(e){super(e),this.state={loadingData:!1,services:{},errorData:!1,subscriptions:{},integration:v.get(e,"integration",{}),data:[],columns:[{Header:"",accessor:"dummy",cellWidth:"28px"},{Header:"Service",accessor:"service",Cell:({value:e})=>o.createElement("div",{className:"azure-custom-cell",onClick:()=>this.handleServiceClick(e)},o.createElement(l.default,{type:"link-subtle"},e.value))},{Header:"Resource Group",accessor:"resourceGroup",Cell:({value:e})=>o.createElement(I,{value:e})},{Header:"Location",accessor:"location",Cell:({value:e})=>o.createElement(I,{value:e})},{Header:"Subscription",accessor:"subscription",Cell:({value:e})=>o.createElement(I,{value:e})},{Header:"VIP",accessor:e=>{let t,n=v.get(e,"privateIPAddresses")||[],s=v.get(e,"publicIPAddresses")||[],i=n.length+s.length,a=s[0]||n[0]||"-";return i>1?(t=i-1+" more",o.createElement(E,{value:a,truncatedText:t,publicIPs:s,privateIPs:n})):o.createElement(I,{value:a})}}]},this.fetchServiceDetails=this.fetchServiceDetails.bind(this),this.fetchSubscriptionDetails=this.fetchSubscriptionDetails.bind(this),this.handleServiceClick=this.handleServiceClick.bind(this),this.bootstrap=this.bootstrap.bind(this)}componentDidMount(){this.setState({integration:this.props.integration}),this.bootstrap()}bootstrap(){let e=v.get(this.state,"integration.variables.linked_apis",[]),t=v.get(this.state,"integration.id");this.setState({loadingData:!0,errorData:!1}),Promise.all([this.fetchServiceDetails(e,t),this.fetchSubscriptionDetails(e,t)]).then((t=>{const n=t[0],o=t[1],s=v.map(e,(e=>({service:{value:e.azure_service_id,id:e.azure_api_path},resourceGroup:e.azure_resource_group_id,location:v.get(n[e.azure_service_path],"location"),subscription:v.get(o[e.azure_subscription_id],"name"),publicIPAddresses:v.get(n[e.azure_service_path],"publicIPAddresses"),privateIPAddresses:v.get(n[e.azure_service_path],"privateIPAddresses")})));this.setState({loadingData:!1,errorData:!1,data:s})})).catch((()=>{this.setState({loadingData:!1,errorData:"Error occurred while fetching services"})}))}fetchServiceDetails(e,t){return i.default.fetchServicesMeta(e,t).then((e=>(this.setState({services:e}),Promise.resolve(e)))).catch((e=>(pm.logger.error("Error occurred while fetching services meta",e),Promise.reject(e))))}fetchSubscriptionDetails(e,t){return i.default.fetchSubscriptionsMeta(e,t).then((e=>(this.setState({subscriptionsMeta:e}),Promise.resolve(e)))).catch((e=>(pm.logger.error("Error occurred while fetching subscriptions meta",e),Promise.reject(e))))}handleServiceClick(e){let{model:t,integration:n,context:o}=this.props,i=v.get(this.state,"servicesMeta"),r=v.get(this.state,"subscriptionsMeta"),l=(0,b.resolveStoreInstance)(y.default).activeEditor;a.default.transitionTo(s.V10_API_DEPLOYMENT_DASHBOARD_NAV_IDENTIFIER,{apiId:v.get(n,"variables.postman_api_id"),integrationId:v.get(n,"id")},{azure_api_path:e.id},{additionalContext:{integration:n,services:i,subscriptions:r,...o},tabOptions:{openIn:l}})}render(){const{loadingData:e,data:t,columns:n,errorData:s}=this.state;return o.createElement(g.default,{className:"observability-azure-services-table",data:t,columns:n,loader:{isLoading:e,skeletonRowCount:5,skeletonRowHeight:"44px"},blankState:{isEmpty:s&&s.length,component:o.createElement(r.default,{title:s||"Something went wrong",description:"Please try again",secondaryAction:o.createElement(p.default,{type:"outline",text:"Refresh",onClick:this.bootstrap}),illustration:o.createElement(f.default,null)})}})}}t.default=_},"./integrations/api-observability/components/dashboard/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./integrations/api-observability/components/dashboard/aws-gateway/AwsDashboard.js"),s=n("./integrations/api-observability/components/dashboard/apigee/ApigeeDashboard.js"),i=n("./integrations/api-observability/components/dashboard/azure/AzureDashboard.js");t.default={api_gateway_aws:o.default,api_gateway_apigee:s.default,api_management_azure:i.default}},"./integrations/api-observability/components/import-schema/APIGatewayAWS.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke-small.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-import-stroke.js"),b=n("./integrations/api-observability/constants.ts"),y=n("./integrations/api-observability/services/ApiGatewayService.js"),v=n("./integrations/api-observability/services/GatewayIntegrationsService.js"),I=n("./integrations/api-observability/components/base/ImportSchemaActions.js"),E=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),_=n("./integrations/api-observability/components/common/ErrorState.js"),S=n("./js/services/NavigationService.js"),C=n("./appsdk/workbench/TabService.js"),T=n("./integrations/navigation/constants.js"),j=n("./api-dev/constants/APISubViews.js"),A=n("./integrations/api-observability/components/common/ImportSchemaBanner.js"),w=n("./integrations/api-observability/services/Helper.js");let O=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={errorStages:!1,loadingStages:!1,stages:[],loadingData:!1,errorData:!1,AWSApiType:i().get(this.props,"integration.variables.aws_api_type")||b.API_GATEWAY_TYPES.HTTP,integration:i().get(this.props,"integration",{}),loadingSchema:!1,errorFetchingSchema:!1,schemaContent:null,selectedStage:null,selectedAPIGateway:null,showImportModal:!1,isImportDisabled:!1,hasPermission:!1,loadingPermission:!1,errorPermission:!1,apiDetails:{},isGitIntegrationLinked:!1,apiDefinition:{},isSchemaPresent:!1},this.fetchStages=this.fetchStages.bind(this),this.fetchSchema=this.fetchSchema.bind(this),this.handleStageChange=this.handleStageChange.bind(this),this.renderFormInputs=this.renderFormInputs.bind(this),this.renderImportModal=this.renderImportModal.bind(this),this.bootstrap=this.bootstrap.bind(this),this.fetchIntegrationData=this.fetchIntegrationData.bind(this),this.renderSchemaActions=this.renderSchemaActions.bind(this),this.closeImportModal=this.closeImportModal.bind(this),this.handleNoSchema=this.handleNoSchema.bind(this),this.fetchRequiredPermission=this.fetchRequiredPermission.bind(this),this.renderTooltip=this.renderTooltip.bind(this)}componentDidMount(){this.bootstrap(),this.fetchRequiredPermission()}componentDidUpdate(e){i().isEqual(e.integrationId,this.props.integrationId)||this.bootstrap()}fetchRequiredPermission(){this.setState({loadingPermission:!0,errorPermission:!1}),w.default.hasEditPermissionOnAPI(this.props.apiId).then((e=>{this.setState({hasPermission:e,loadingPermission:!1})})).catch((e=>{this.setState({loadingPermission:!1,errorPermission:e}),pm.logger.error("Permission fetching error ~",e)}))}fetchStages(){this.setState({loadingStages:!0,errorStages:!1}),y.default.fetchStages(i().get(this.state,"integration.id")).then((e=>{let t=i().orderBy(e,[e=>new Date(e.CreatedDate)],["desc"]),n=i().map(t,(e=>({label:e.StageName||e.stageName,value:e.StageName||e.stageName})));this.setState({stages:n,loadingStages:!1},(()=>{this.handleNoSchema()}))})).catch((e=>{pm.logger.error("Error occurred while fetching stages",e),this.setState({errorStages:!0,loadingStages:!1,isImportDisabled:!1})}))}fetchSchema(){this.setState({loadingSchema:!0,errorFetchingSchema:!1});const{selectedStage:e,integration:t}=this.state;v.default.performAction(i().get(t,"id"),{stage:i().get(e,"label")},b.AWS_GATEWAY_ACTIONS.EXPORT_API).then((e=>{if(200!==e.status)throw new Error("Something went wrong while fetching schema");{const t=i().get(e,"body.data.versions.0.schemas.0"),n={content:i().get(t,"schema"),language:i().get(t,"language"),type:i().get(t,"type")};this.setState({schemaContent:n,loadingSchema:!1,errorFetchingSchema:!1})}})).catch((e=>{pm.logger.error("Error occurred while fetching Definition",e),pm.toasts.error("Error occurred while fetching Definition"),this.setState({loadingSchema:!1,errorFetchingSchema:e})}))}fetchIntegrationData(){const{integrationId:e=""}=this.props;return E.default.getIntegrationData(e&&e.toString()).then((e=>{const t=i().get(e,"body.data");return 200!==e.status||i().isEmpty(t)?new Error("Something went wrong while fetching integration"):Promise.resolve(t)})).catch((e=>Promise.reject("Something went wrong while fetching integration")))}bootstrap(){this.setState({loadingData:!0,errorData:!1,errorFetchingSchema:!1,formSource:this.props.formSource});const{apiId:e,versionId:t}=this.props;Promise.all([this.fetchIntegrationData(),w.default.fetchAPIDetails(e),w.default.isSchemaPresent(e,t)]).then((([e,t,n])=>{i().get(t,"isGitIntegrationLinked")&&(n=!i().isEmpty(i().get(t,"apiDefinition.fileTree.items.files"))||!i().isEmpty(i().get(t,"apiDefinition.fileTree.items.folders"))),this.setState({integration:e,...t,loadingData:!1,errorData:!1,isSchemaPresent:n},(()=>{this.fetchStages()}))})).catch((e=>{pm.logger.error("Error occurred while fetching data",e),this.setState({loadingData:!1,errorData:e})}))}handleNoSchema(){const{formSource:e,integrationId:t,apiId:n,versionId:o}=this.props,{stages:s}=this.state;!i().isEmpty(s)?this.setState({isImportDisabled:!1}):i().isEqual(e,b.IMPORT_FORM_SOURCES.INTEGRATION_SETUP)?(pm.toasts.warn("Skipping definition import as no stages found on linked API Gateway",{title:"Import Definition"}),C.default.closeByRoute(T.V10_API_ADD_DEPLOYMENT_INTEGRATION_URL,{apiId:n}),S.default.transitionTo("build.apiVersion",{apiId:n,versionId:o,integrationId:t},{tab:j.DEPLOYMENT})):this.setState({isImportDisabled:!0})}handleStageChange(e){this.setState({selectedStage:e},(()=>{this.fetchSchema()}))}closeImportModal(){this.setState({showImportModal:!1,stages:[],selectedStage:null})}renderTooltip(){const{isImportDisabled:e,loadingPermission:t,hasPermission:n,errorPermission:o}=this.state,s=(e?"No stages found on linked API Gateway":t&&"Fetching required permission")||o&&"Error occurred while fetching required permission. Please try again."||!n&&b.PERMISSION_ERROR||"Import definition from AWS";return a.createElement(l.default,{content:s,triggerEvent:"mouseenter"})}renderSchemaActions(){const{integration:e,loadingStages:t,errorStages:n,loadingSchema:o,errorFetchingSchema:s,selectedStage:r,loadingData:l,errorData:c,apiDetails:d,apiDefinition:u,isGitIntegrationLinked:p}=this.state,m={apiId:i().get(e,"variables.postman_api_id"),versionId:i().get(e,"executor"),integrationId:i().get(e,"id"),schemaContent:i().get(this.state,"schemaContent")},h=r&&!o&&!s&&i().isEmpty(i().get(m,"schemaContent.content"));return l||c?a.createElement("div",null):a.createElement(I.default,{payload:m,disabled:!r||o||s||n||t||h,tooltipText:o?"Fetching Definition":h&&"No Definition found on selected stage.",formSource:this.props.formSource,onCancel:this.closeImportModal,onImport:this.closeImportModal,isLoading:o,rule:i().get(e,"rule"),apiDetails:d,apiDefinition:u,isGitIntegrationLinked:p})}renderImportModal(){const{showImportModal:e}=this.state;return a.createElement(c.Modal,{isOpen:e,onClose:this.closeImportModal,className:"observability-import-schema-modal"},a.createElement(c.ModalHeader,{heading:"Import Definition"}),a.createElement(c.ModalContent,{className:"observability-import-schema-modal__content"},this.renderFormInputs()),a.createElement(c.ModalFooter,null,this.renderSchemaActions()))}renderFormInputs(){const{stages:e,loadingStages:t,loadingSchema:n,isSchemaPresent:o,selectedStage:s,loadingData:i,errorData:r,errorFetchingSchema:l}=this.state;return i?a.createElement("div",{className:"deploy-tab-container"},a.createElement(d.default,null)):r?a.createElement(_.default,{errorDetails:r}):a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement(A.default,{isSchemaPresent:o})),a.createElement("div",{className:"gateway-import-schema-form-container__segment"},a.createElement(u.default,{options:e||[],value:s,isLoading:t,isDisabled:n,isSearchable:!0,onChange:this.handleStageChange,label:"AWS stage"})),l&&a.createElement(p.default,{gap:"spacing-xs",alignItems:"center"},a.createElement("span",null,a.createElement(g.default,{color:"content-color-error"})),a.createElement("span",null,a.createElement(m.default,{color:"content-color-error"},"Error occurred while fetching Definition."," ",a.createElement("span",{onClick:this.fetchSchema},a.createElement(m.default,{type:"link-default"},"Retry"))))))}render(){const e=i().get(this.props,"formSource",b.IMPORT_FORM_SOURCES.DEPLOY_DASHBOARD),{isImportDisabled:t,loadingPermission:n,hasPermission:o,errorPermission:s}=this.state;return i().isEqual(e,b.IMPORT_FORM_SOURCES.DEPLOY_DASHBOARD)?a.createElement("div",null,this.renderImportModal(),a.createElement(h.default,{text:"Import Definition",type:"tertiary",icon:a.createElement(f.default,null),onClick:()=>{this.setState({showImportModal:!0}),this.bootstrap()},isDisabled:t||n||s||!o,tooltip:this.renderTooltip()})):a.createElement("div",{className:"gateway-import-schema-form-container"},this.renderFormInputs(),a.createElement("div",{className:"gateway-import-schema-form-container__segment"},this.renderSchemaActions()))}})||o},"./integrations/api-observability/components/import-schema/Azure.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke-small.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-import-stroke.js"),b=n("./integrations/api-observability/constants.ts"),y=n("./integrations/api-observability/services/AzureService.js"),v=n("./integrations/api-observability/components/base/ImportSchemaActions.js"),I=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),E=n("./integrations/api-observability/components/common/ErrorState.js"),_=n("./integrations/api-observability/components/common/ImportSchemaBanner.js"),S=n("./integrations/api-observability/services/Helper.js");let C=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={loadingData:!1,services:[],schemaTypes:b.SCHEMA_TYPES,selectedSchemaType:b.SCHEMA_TYPES[0],errorData:!1,integration:i().get(this.props,"integration",{}),loadingSchema:!1,errorFetchingSchema:!1,schemaContent:null,selectedService:null,showImportModal:!1,hasPermission:!1,loadingPermission:!1,errorPermission:!1,apiDetails:{},isGitIntegrationLinked:!1,apiDefinition:{},isSchemaPresent:!1},this.fetchSchema=this.fetchSchema.bind(this),this.fetchServices=this.fetchServices.bind(this),this.handleServiceChange=this.handleServiceChange.bind(this),this.handleSchemaTypeChange=this.handleSchemaTypeChange.bind(this),this.renderFormInputs=this.renderFormInputs.bind(this),this.renderImportModal=this.renderImportModal.bind(this),this.bootstrap=this.bootstrap.bind(this),this.fetchIntegrationData=this.fetchIntegrationData.bind(this),this.renderSchemaActions=this.renderSchemaActions.bind(this),this.closeImportModal=this.closeImportModal.bind(this),this.fetchRequiredPermission=this.fetchRequiredPermission.bind(this),this.renderTooltip=this.renderTooltip.bind(this)}componentDidMount(){this.fetchRequiredPermission(),this.bootstrap(),this.setState({selectedService:this.props.selectedService})}componentDidUpdate(e){i().isEqual(e.integrationId,this.props.integrationId)||this.bootstrap(),i().isEqual(i().get(this.props,"selectedService.value.azure_api_path"),i().get(e,"selectedService.value.azure_api_path"))||this.setState({selectedService:this.props.selectedService})}fetchRequiredPermission(){this.setState({loadingPermission:!0,errorPermission:!1}),S.default.hasEditPermissionOnAPI(this.props.apiId).then((e=>{this.setState({hasPermission:e,loadingPermission:!1})})).catch((e=>{this.setState({loadingPermission:!1,errorPermission:e}),pm.logger.error("Permission fetching error ~",e)}))}fetchServices(){const{integration:e}=this.state,t=i().get(e,"variables.linked_apis",[]),n=i().map(t,(e=>({label:i().get(e,"azure_service_id"),value:e})));this.setState({services:n},(()=>{i().isArray(n)&&1===n.length&&this.handleServiceChange(n[0])}))}handleSchemaTypeChange(e){this.setState({selectedSchemaType:e},(()=>{this.state.selectedService&&this.fetchSchema()}))}fetchSchema(){this.setState({loadingSchema:!0,errorFetchingSchema:!1});const{integration:e,selectedSchemaType:t,selectedService:n}=this.state;y.default.fetchSchema(i().get(e,"id"),n.value,t.value).then((e=>{this.setState({schemaContent:e,loadingSchema:!1,errorFetchingSchema:!1})})).catch((e=>{pm.logger.error("Error occurred while fetching Definition",e),this.setState({loadingSchema:!1,errorFetchingSchema:e})}))}fetchIntegrationData(){const{integrationId:e=""}=this.props;return I.default.getIntegrationData(e&&e.toString()).then((e=>{const t=i().get(e,"body.data");if(200===e.status&&!i().isEmpty(t))return Promise.resolve(t);throw e})).catch((e=>Promise.reject(e)))}bootstrap(){this.setState({loadingData:!0,errorData:!1,errorFetchingSchema:!1,formSource:this.props.formSource});const{apiId:e,versionId:t}=this.props;Promise.all([this.fetchIntegrationData(),S.default.fetchAPIDetails(e),S.default.isSchemaPresent(e,t)]).then((([e,t,n])=>{i().get(t,"isGitIntegrationLinked")&&(n=!i().isEmpty(i().get(t,"apiDefinition.fileTree.items.files"))||!i().isEmpty(i().get(t,"apiDefinition.fileTree.items.folders"))),this.setState({integration:e,...t,loadingData:!1,errorData:!1,isSchemaPresent:n},(()=>{this.fetchServices()}))})).catch((e=>{pm.logger.error("Error occurred while fetching data",e),this.setState({loadingData:!1,errorData:e})}))}handleServiceChange(e){e&&this.setState({selectedService:e},(()=>{this.fetchSchema()}))}closeImportModal(){this.setState({showImportModal:!1,services:[],selectedService:null,selectedSchemaType:b.SCHEMA_TYPES[0]})}renderTooltip(){const{loadingPermission:e,hasPermission:t,errorPermission:n}=this.state,o=(e?"Fetching required permission":n&&"Error occurred while fetching required permission. Please try again.")||!t&&b.PERMISSION_ERROR||"Import definition from Azure";return a.createElement(l.default,{content:o,triggerEvent:"mouseenter"})}renderSchemaActions(){const{integration:e,errorStages:t,loadingSchema:n,errorFetchingSchema:o,selectedService:s,loadingData:r,errorData:l,selectedSchemaType:c,apiDetails:d,apiDefinition:u,isGitIntegrationLinked:p}=this.state,m={apiId:i().get(e,"variables.postman_api_id"),versionId:i().get(e,"executor"),integrationId:i().get(e,"id"),schemaContent:i().get(this.state,"schemaContent")};return r||l?a.createElement("div",null):a.createElement(v.default,{payload:m,disabled:!s||!c||n||o||t,tooltipText:n&&"Fetching Definition",formSource:this.props.formSource,onCancel:this.closeImportModal,onImport:this.closeImportModal,isLoading:n,rule:i().get(e,"rule"),apiDetails:d,apiDefinition:u,isGitIntegrationLinked:p})}renderImportModal(){const{showImportModal:e}=this.state;return a.createElement(c.Modal,{isOpen:e,onClose:this.closeImportModal,className:"observability-import-schema-modal"},a.createElement(c.ModalHeader,{heading:"Import Definition"}),a.createElement(c.ModalContent,{className:"observability-import-schema-modal__content"},this.renderFormInputs()),a.createElement(c.ModalFooter,null,this.renderSchemaActions()))}renderFormInputs(){const{services:e,loadingSchema:t,schemaTypes:n,selectedSchemaType:o,selectedService:s,loadingData:r,errorData:l,errorFetchingSchema:c,isSchemaPresent:h}=this.state,f=i().isEmpty(this.props.selectedService);return r?a.createElement("div",{className:"deploy-tab-container"},a.createElement(d.default,null)):l?a.createElement(E.default,{errorDetails:l}):a.createElement(a.Fragment,null,a.createElement("div",null,a.createElement(_.default,{isSchemaPresent:h})),a.createElement("div",{className:"gateway-import-schema-form-container__segment"},a.createElement(u.default,{options:n,value:o,isDisabled:t,isSearchable:!0,isClearable:!1,onChange:this.handleSchemaTypeChange,label:"Definition type"})),f&&a.createElement("div",{className:"gateway-import-schema-form-container__segment"},a.createElement(u.default,{options:e,value:s,isDisabled:t,isSearchable:!0,onChange:this.handleServiceChange,label:"Azure service"})),c&&a.createElement(p.default,{gap:"spacing-xs",alignItems:"center"},a.createElement("span",null,a.createElement(g.default,{color:"content-color-error"})),a.createElement("span",null,a.createElement(m.default,{color:"content-color-error"},"Error occurred while fetching Definition."," ",a.createElement("span",{onClick:this.fetchSchema},a.createElement(m.default,{type:"link-default"},"Retry"))))))}render(){const e=i().get(this.props,"formSource",b.IMPORT_FORM_SOURCES.DEPLOY_DASHBOARD),{loadingPermission:t,hasPermission:n,errorPermission:o}=this.state;return i().isEqual(e,b.IMPORT_FORM_SOURCES.DEPLOY_DASHBOARD)?a.createElement("div",null,this.renderImportModal(),a.createElement(h.default,{text:"Import Definition",type:"tertiary",icon:a.createElement(f.default,null),onClick:()=>{this.handleServiceChange(this.props.selectedService),this.setState({showImportModal:!0}),this.bootstrap()},isDisabled:t||!n||o,tooltip:this.renderTooltip()})):a.createElement("div",{className:"gateway-import-schema-form-container"},this.renderFormInputs(),a.createElement("div",{className:"gateway-import-schema-form-container__segment"},this.renderSchemaActions()))}})||o},"./integrations/api-observability/components/import-schema/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./integrations/api-observability/components/import-schema/APIGatewayAWS.js"),s=n("./integrations/api-observability/components/import-schema/Azure.js");t.default={api_gateway_aws:o.default,api_management_azure:s.default}},"./integrations/api-observability/components/import/ImportGatewayServiceConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{API_MANAGEMENT_AZURE:function(){return s},AWS_API_GATEWAY:function(){return o},CREATE_API_MODAL:function(){return y},DEFAULT_SERVICE_NAME:function(){return a},DEFINITION:function(){return h},DISABLED_IMPORT_BUTTON_TOOLTIP_TEXT:function(){return d},FILE:function(){return g},GATEWAY_SERVICES_LIST:function(){return i},GENERIC_CREATE_INTEGRATION_ERROR:function(){return u},IMPORT_ANALYTICS_ACTION:function(){return I},IMPORT_ANALYTICS_CATEGORY:function(){return v},SERVICE_CARD_DESCRIPTION:function(){return l},SERVICE_CARD_TITLE:function(){return r},SERVICE_NOT_SUPPORTED:function(){return c},SUCCESS_IMPORT_MESSAGE:function(){return m},SUCCESS_IMPORT_SCHEMA_MESSAGE:function(){return b},SUCCESS_IMPORT_SCHEMA_TITLE:function(){return f},SUCCESS_IMPORT_TITLE:function(){return p}});const o="api_gateway_aws",s="api_management_azure",i={[o]:{serviceId:"api_gateway_aws",classId:"api_gateway_aws",serviceName:"AWS API Gateway",iconUrl:"https://static.getpostman.com/assets/aws_api_gateway.svg",darkIconUrl:"https://static.getpostman.com/assets/aws_api_gateway.svg",featureFlag:""},[s]:{serviceId:"api_management_azure",classId:"api_management_azure",serviceName:"Azure API Management",iconUrl:"https://static.getpostman.com/assets/azure-apim.svg",darkIconUrl:"https://static.getpostman.com/assets/azure-apim.svg",featureFlag:"land-646-azure-apim-integration",authType:"oauth2"}},a="API Gateway",r="Import from API Gateway",l="Select an API Gateway to import an API.",c="Postman has encountered an error. If you can't find what you're looking for, contact us at help@postman.com",d="Make sure that you have entered all the mandatory fields.",u="Your API is imported successfully but something went wrong while adding an integration.",p="Imported API successfully",m="Your API is imported in current workspace successfully.",h="Definition",g="file",f="Imported API definition successfully",b="Your API definition has been successfully imported in the current API.",y="build.api.new",v="import",I="import_by_api_gateway"},"./integrations/api-observability/components/modals/DeleteIntegrationModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./js/components/base/Modals.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=(n("./js/components/base/LoadingIndicator.js"),n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts")),c=(n("./js/services/NavigationService.js"),n("./js/stores/StoreManager.js")),d=n("./integrations/api-observability/stores/APIObservabilityStore.js"),u=n("./js/stores/IntegrationsStore.js"),p=n("./integrations/api-observability/constants.ts"),m=n("./api-dev/util/navigationHelper.js"),h=n("./node_modules/lodash/lodash.js");let g=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={isDeleting:!1,apiId:this.props.model.apiId,apiVersionId:this.props.model.id},this.store=(0,c.resolveStoreInstance)(d.default),this.integrationsStore=(0,c.resolveStoreInstance)(u.default),this.handleReset=this.handleReset.bind(this)}handleReset(){let{apiId:e,apiVersionId:t}=this.state,n={apiId:e,apiVersionId:t,category:p.API_OBSERVABILITY};pm.windowEvents.emit(`${p.API_OBSERVABILITY}-integration-deleted`,{apiId:n.apiId,apiVersionId:n.apiVersionId}),(0,m.transitionToAPI)({apiId:e,apiVersionId:t},{view:p.DEPLOYMENTS_VIEW})}render(){const{integrationId:e,ruleId:t}=this.props,{isDeleting:n,apiVersionId:o}=this.state;return i.createElement("div",null,i.createElement(a.Modal,{isOpen:this.props.isOpen,onRequestClose:this.props.handleCloseModal,className:"observability-modal"},i.createElement(a.ModalHeader,null,"Delete Integration"),i.createElement(a.ModalContent,null,"Deleting this integration will cease any actions it performs immediately. Are you sure you wish to continue?"),i.createElement(a.ModalFooter,null,i.createElement(r.default,{text:"Delete Integration",className:"observability-modal__delete-button",type:"destructive",isDisabled:n,isLoading:n,onClick:()=>{this.setState({isDeleting:!0}),l.default.deleteIntegration(e).then((e=>{this.setState({isDeleting:!1}),200===e.status?(pm.toasts.success("Integration deleted successfully."),this.props.handleCloseModal(),this.integrationsStore.refetchTeamIntegrations(),this.integrationsStore.setRuleSpecificTeamIntegrations(t,null),this.handleReset(),this.store.removeIntegrationInstances(o),h.isFunction(this.props.onSuccessfulDelete)&&this.props.onSuccessfulDelete()):(pm.toasts.error("Something went wrong while deleting your integration. Please try again later."),pm.logger.error("Something went wrong while deleting your integration",e))})).catch((e=>{this.setState({isDeleting:!1}),pm.toasts.error(e.error.details&&e.error.details.message||e.error.message||"Something went wrong while deleting your integration"),pm.logger.error("Error occurred while deleting integration",e)}))}}),i.createElement(r.default,{text:"Cancel",className:"observability-modal__cancel-button",isDisabled:n,type:"secondary",onClick:this.props.handleCloseModal}))))}})||o},"./integrations/api-observability/configs/Integrations.js":function(e,t,n){"use strict";n.r(t),t.default={api_management_azure:{name:"Azure API Management",icon_url:"https://static.getpostman.com/assets/azure-apim.svg",dark_icon_url:"https://static.getpostman.com/assets/azure-apim.svg"}}},"./integrations/api-observability/containers/ImportSchema.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o,s=n("../../node_modules/react/index.js"),i=(n("./node_modules/lodash/lodash.js"),n("../../node_modules/mobx-react/dist/mobx-react.module.js")),a=n("./integrations/api-observability/components/import-schema/index.js");function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}let l=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}render(){const{integrationId:e="",rule:t="",formSource:n,apiId:o,versionId:i}=this.props,l=a.default[t];return l?s.createElement("div",{className:"gateway-import-schema-tab-container"},s.createElement(l,r({},this.props,{formSource:n,integrationId:e,apiId:o,versionId:i}))):s.createElement("div",null,"Rule not found")}})||o},"./integrations/api-observability/containers/ObservabilityContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/lodash/lodash.js"),a=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/IntegrationsStore.js"),u=n("./integrations/api-observability/stores/APIObservabilityStore.js"),p=n("./integrations/api-observability/components/AvailableObservabilityServices.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/MergeConditions.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),y=n("./integrations/api-observability/constants.ts"),v=n("./integrations/utils/CommonHelperMethods.ts"),I=n("./integrations/components/error-states/ErrorIntegrations.js"),E=n("./integrations/api-observability/components/dashboard/index.js");let _=(0,r.observer)(o=class extends s.Component{constructor(e){super(e),this.apiObservabilityStore=(0,c.resolveStoreInstance)(u.default),this.state={apiId:a().get(this.props.model,"apiId"),apiVersionId:a().get(this.props.model,"id"),selectedApiVersion:this.apiObservabilityStore.selectedAPIVersion,updatingApiVersion:!1,errorObject:{status:500},apiPermissions:a().get(this.props,"model.apiPermissionStore.permissions")},this.observabilityBootstrap=this.observabilityBootstrap.bind(this),this.integrationsStore=(0,c.resolveStoreInstance)(d.default)}componentDidMount(){pm.windowEvents.addListener(`${y.API_OBSERVABILITY}-integration-added`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${y.API_OBSERVABILITY}-integration-edited`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${y.API_OBSERVABILITY}-integration-deleted`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${y.API_OBSERVABILITY}-deploy-triggered`,this.onIntegrationEventCaptured.bind(this)),this.observabilityBootstrap()}observabilityBootstrap(){this.apiObservabilityStore.initializeApiObservabilityStoreV2({apiId:a().get(this.props.model,"apiId"),apiVersionId:a().get(this.props.model,"id")||this.apiObservabilityStore.selectedApiVersion,category:y.API_OBSERVABILITY})}onIntegrationEventCaptured(e){let{apiId:t,apiVersionId:n}=this.state;e.apiId===t&&e.apiVersionId===n&&this.observabilityBootstrap()}render(){let{apiId:e,apiVersionId:t,updatingApiVersion:n}=this.state,o=(0,l.toJS)(this.apiObservabilityStore.configuredIntegrations[a().get(this.props.model,"id")]),i=this.integrationsStore.getIntegrationClasses(),r=this.integrationsStore.loadingIntegrationClasses,c=(0,v.filterIntegrationClassesByClientCategory)(i,y.API_OBSERVABILITY);if(a().get(this.props.model,"id")!==t&&this.setState({apiVersionId:a().get(this.props.model,"id"),updatingApiVersion:!0},(()=>{a().isEmpty(o)&&this.apiObservabilityStore.updateSelectedAPIVersion(a().get(this.props.model,"id")),this.setState({updatingApiVersion:!1})})),r||this.apiObservabilityStore.loadingConfiguredIntegrations[a().get(this.props.model,"id")]||n)return s.createElement(m.default,{className:"observability-loading-indicator"});if(this.apiObservabilityStore.errorConfiguredIntegrations[a().get(this.props.model,"id")])return s.createElement("div",{className:"observability-error"},s.createElement(I.default,null));if(a().isEmpty(o))return s.createElement(h.default,{direction:"column",padding:"spacing-xxl spacing-l spacing-xxxl spacing-l",alignItems:"center",className:"observability-service-details-view-container-wrapper"},s.createElement(h.default,{padding:"spacing-xxl spacing-l spacing-l",alignItems:"center"},s.createElement(g.default,null)),s.createElement(f.default,{type:"h4",text:"Stay on top of your API deployments",hasBottomSpacing:!0}),s.createElement(b.default,{type:"para",className:"monitoring-illustrator-description",hasBottomSpacing:!0},"Connect your API gateway to view deployment status and deploy APIs directly from Postman."),s.createElement("div",{className:"observability-available-integrations"},s.createElement(p.default,{integrationClasses:c,model:this.props.model,promoteTab:this.props.promoteTab})));const d=a().get(o,"0.rule",null),u=d&&E.default[d];return u?s.createElement(u,{model:this.props.model,configuredIntegrations:o,releaseContext:this.props.releaseContext,apiId:e,apiVersionId:t}):s.createElement("div",{className:"observability-error"},s.createElement(I.default,null))}})||o},"./integrations/api-observability/containers/ReleaseDeploymentContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./integrations/api-observability/containers/ObservabilityContainer.js"),r=n("./node_modules/lodash/lodash.js");let l=(0,s.observer)(o=class extends i.Component{constructor(e){super(e)}render(){const{model:e}=this.props;return i.createElement(a.default,{model:{apiId:r.get(e,"api.id"),name:r.get(e,"apiVersion.name"),id:r.get(e,"apiVersion.id"),releases:r.get(e,"releases"),apiPermissionStore:r.get(e,"apiPermissionStore")},releaseContext:{releaseId:r.get(e,"activeRelease.id"),releaseName:r.get(e,"activeRelease.name"),schemaId:r.get(e,"activeRelease.entities.schemas[0].entityId"),tagId:r.get(e,"activeRelease.entities.schemas[0].tag")}})}})||o},"./integrations/api-observability/gateway-actions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{FETCH_API_GATEWAY_META:function(){return s},FETCH_AWS_GATEWAY_APIS:function(){return o},FETCH_EXTERNAL_ID:function(){return a},FETCH_STAGES:function(){return i}});const o="fetch-aws-gateway-apis",s="fetch-api-gateway-meta",i="fetch-stages",a="fetch-external-id"},"./integrations/api-observability/services/ApiGatewayService.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=(n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),n("./integrations/api-observability/services/GatewayIntegrationsService.js")),a=n("./integrations/api-observability/constants.ts"),r=n("./integrations/api-observability/gateway-actions.js");t.default={fetchApiGateways:e=>i.default.performPreConfigAction(s().get(e,"rule"),e,r.FETCH_AWS_GATEWAY_APIS).then((e=>{if(e.status&&200===e.status)return Promise.resolve(s().get(e.body,"data.Items")||s().get(e.body,"data.items"));throw e})).catch((e=>Promise.reject(e))),fetchApiGatewaysUsingIntegrationId:e=>i.default.performAction(e,{},r.FETCH_AWS_GATEWAY_APIS).then((e=>{if(e.status&&200===e.status)return Promise.resolve(s().get(e.body.data,"Items")||s().get(e.body.data,"items"));throw e})).catch((e=>Promise.reject(e))),fetchDeployments:e=>i.default.listDeployments(e).then((e=>{if(e.status&&200===e.status){let t=s().get(e,"body.data.items")||s().get(e,"body.data.Items")||[];return t.sort(((e,t)=>{let n=e.CreatedDate||e.createdDate,o=t.CreatedDate||t.createdDate;return new Date(o)-new Date(n)})),Promise.resolve(t.splice(0,a.AWS_TOTAL_DEPLOYMENTS))}return Promise.reject({statusCode:e.status,...e.body})})).catch((e=>Promise.reject(e))),fetchAPIGatewayMeta:e=>i.default.performAction(e,{},r.FETCH_API_GATEWAY_META).then((e=>e.status&&200===e.status?Promise.resolve(s().get(e.body,"data")):Promise.reject({statusCode:e.status,...e.body}))).catch((e=>Promise.reject(e))),fetchStages:e=>i.default.performAction(e,{},r.FETCH_STAGES).then((e=>{if(e.status&&200===e.status)return Promise.resolve(s().get(e.body,"data.Items")||s().get(e.body,"data.item"));throw e})).catch((e=>Promise.reject(e))),fetchCloudWatchAggregateMetrics:(e,t)=>new Promise(((n,o)=>{i.default.performAction(e,{stage:t},a.FETCH_CLOUDWATCH_AGGREGATE_METRICS).then((e=>{n(s().get(e,"body.data"))})).catch((e=>{o(e)}))})),fetchCloudWatchTimeSeriesMetrics:(e,t)=>i.default.performAction(e,t,a.FETCH_CLOUDWATCH_TIMESERIES_METRICS),fetchExternalId:e=>new Promise(((t,n)=>{i.default.performPreConfigAction(s().get(e,"rule"),e,r.FETCH_EXTERNAL_ID).then((e=>{t(s().get(e,"body.data.externalId"))})).catch((e=>{n(e)}))})),deploySchema:(e,t)=>i.default.createDeployment(e,t),fetchPostmanExports:e=>i.default.listDeployments(e,!1,!0).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body.data);throw e})).catch((e=>Promise.reject(e))),isDeployEnabled:(e,t)=>s().get(e,"variables.aws_api_type")===a.API_GATEWAY_TYPES.HTTP,isOverviewEnabled:e=>!0,fetchDeployOptionString:e=>i.default.performAction(e,{},r.FETCH_API_GATEWAY_META).then((e=>{if(e.status&&200===e.status)return Promise.resolve(`Deploy Schema on ${s().get(e,"body.data.Name")||s().get(e,"body.data.name")}`);throw e})).catch((e=>Promise.reject(e)))}},"./integrations/api-observability/services/AzureService.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts"),a=n("./integrations/api-observability/services/GatewayIntegrationsService.js"),r=n("./integrations/api-observability/constants.ts"),l=n("./integrations/utils/CommonHelperMethods.ts");t.default={fetchServicesMeta:(e=[],t)=>Promise.all(s().map(e,(e=>{const{azure_resource_group_id:n,azure_subscription_id:o,azure_service_id:s}=e,i={azure_subscription_id:o,azure_resource_group_id:n,azure_service_id:s};return a.default.performAction(t,i,r.AZURE_GATEWAY_ACTIONS.GET_SERVICE_META)}))).then((e=>{const t={};return s().each(e,(e=>{if(200!==e.status)throw e;{const n=s().get(e,"body.data");t[s().get(e,"body.data.id")]={id:s().get(n,"id"),name:s().get(n,"name"),location:s().get(n,"location"),gatewayUrl:s().get(n,"properties.gatewayUrl"),developerPortalUrl:s().get(n,"properties.developerPortalUrl"),publicIPAddresses:s().get(n,"properties.publicIPAddresses"),privateIPAddresses:s().get(n,"properties.privateIPAddresses")}}})),Promise.resolve(t)})).catch((e=>Promise.reject(e))),fetchApiMeta:(e,t)=>{const{azure_resource_group_id:n,azure_subscription_id:o,azure_service_id:i,azure_api_id:l}=e,c={azure_subscription_id:o,azure_resource_group_id:n,azure_service_id:i,azure_api_id:l};return a.default.performAction(t,c,r.AZURE_GATEWAY_ACTIONS.GET_API_META).then((e=>{if(200===e.status){const t=s().get(e,"body.data"),n={id:s().get(t,"id"),name:s().get(t,"properties.displayName"),version:s().get(t,"properties.apiVersion")};return Promise.resolve(n)}throw e})).catch((e=>Promise.reject(e)))},fetchServiceMeta:(e,t)=>{const{azure_resource_group_id:n,azure_subscription_id:o,azure_service_id:i}=e,l={azure_subscription_id:o,azure_resource_group_id:n,azure_service_id:i};return a.default.performAction(t,l,r.AZURE_GATEWAY_ACTIONS.GET_SERVICE_META).then((e=>{if(200===e.status){const t=s().get(e,"body.data"),n={id:s().get(t,"id"),name:s().get(t,"name"),location:s().get(t,"location"),gatewayUrl:s().get(t,"properties.gatewayUrl"),developerPortalUrl:s().get(t,"properties.developerPortalUrl"),publicIPAddresses:s().get(t,"properties.publicIPAddresses"),privateIPAddresses:s().get(t,"properties.privateIPAddresses")};return Promise.resolve(n)}throw e})).catch((e=>Promise.reject(e)))},fetchSubscriptionMeta:(e,t)=>{const{azure_subscription_id:n}=e,o={azure_subscription_id:n};return a.default.performAction(t,o,r.AZURE_GATEWAY_ACTIONS.GET_SUBSCRIPTION_META).then((e=>{if(200===e.status){const t=s().get(e,"body.data"),n={id:s().get(t,"subscriptionId"),name:s().get(t,"displayName")};return Promise.resolve(n)}throw e})).catch((e=>Promise.reject(e)))},fetchSubscriptionsMeta:(e=[],t)=>Promise.all(s().map(e,(e=>{const{azure_subscription_id:n}=e,o={azure_subscription_id:n};return a.default.performAction(t,o,r.AZURE_GATEWAY_ACTIONS.GET_SUBSCRIPTION_META)}))).then((e=>{const t={};return s().each(e,(e=>{if(200!==e.status)throw e;{const n=s().get(e,"body.data");t[s().get(e,"body.data.subscriptionId")]={id:s().get(n,"subscriptionId"),name:s().get(n,"displayName")}}})),Promise.resolve(t)})).catch((e=>Promise.reject(e))),fetchChangelog:(e,t)=>{const{azure_resource_group_id:n,azure_subscription_id:o,azure_service_id:i,azure_api_id:c}=e,d={azure_subscription_id:o,azure_resource_group_id:n,azure_service_id:i,azure_api_id:c};return a.default.performAction(t,d,r.AZURE_GATEWAY_ACTIONS.LIST_API_RELEASES).then((e=>{if(200===e.status){const t=s().get(e,"body.data"),n=s().map(t.value,(e=>({createdAt:(0,l.formatUtcDate)(s().get(e,"properties.createdDateTime")),updatedAt:(0,l.formatUtcDate)(s().get(e,"properties.updatedDateTime")),description:s().get(e,"properties.notes")})));return Promise.resolve(n)}throw e})).catch((e=>Promise.reject(e)))},fetchExports:(e,t)=>i.HTTPGatewayService.request({data:{service:"integrations",method:"get",path:`/gateway-integrations/${t}/list`,query:{exportOnly:!0,internal:!0,azure_api_path:s().get(e,"azure_api_path")}}}).then((e=>{if(200==e.status&&s().get(e,"body.data")){const t=s().map(e.body.data,(e=>({createdAt:(0,l.formatUtcDate)(e.createdAt),azure_api_path:s().get(e,"data.azure_api_path"),azure_revision_id:s().get(e,"data.azure_revision_id"),schemaSource:s().get(e,"data.schemaSource")})));return Promise.resolve(t)}throw e})).catch((e=>Promise.reject(e))),fetchRevisions:(e,t)=>{const{azure_resource_group_id:n,azure_subscription_id:o,azure_service_id:i,azure_api_id:c}=e,d={azure_subscription_id:o,azure_resource_group_id:n,azure_service_id:i,azure_api_id:c};return a.default.performAction(t,d,r.AZURE_GATEWAY_ACTIONS.LIST_API_REVISIONS).then((e=>{if(200===e.status){const t=s().get(e,"body.data"),n=(s().map(t.value,(e=>({azure_revision_id:s().get(e,"apiRevision"),createdAt:(0,l.formatUtcDate)(s().get(e,"createdDateTime")),description:s().get(e,"description"),privateUrl:s().get(e,"privateUrl"),isOnline:{value:s().get(e,"isOnline"),azure_revision_id:s().get(e,"apiRevision"),isDisabled:!1,disabledText:e.isCurrent&&"Current revision cannot be made offline."},isCurrent:{value:s().get(e,"isCurrent"),azure_revision_id:s().get(e,"apiRevision"),isDisabled:!1,disabledText:e.isCurrent&&"Current revision cannot be disabled."}})))||[]).reduce(((e,t)=>t.isCurrent.value?[t,...e]:[...e,t]),[]);return Promise.resolve(n||[])}throw e})).catch((e=>Promise.reject(e)))},toggleOnlineRevision:(e,t,n=!1,o)=>{const{azure_resource_group_id:s,azure_subscription_id:i,azure_service_id:l,azure_api_id:c,azure_api_path:d}=e,u={azure_subscription_id:i,azure_resource_group_id:s,azure_service_id:l,azure_api_id:c,azure_api_path:d,azure_revision_id:t,azure_revision_action_type:"toggle-revision-status",azure_revision_online:n};return a.default.performAction(o,u,r.AZURE_GATEWAY_ACTIONS.PERFORM_REVISION_ACTION).then((e=>{if(200===e.status)return Promise.resolve(e);throw e})).catch((e=>Promise.reject(e)))},toggleCurrentRevision:(e,t,n,o)=>{const{azure_resource_group_id:s,azure_subscription_id:i,azure_service_id:l,azure_api_id:c,azure_api_path:d}=e,u={azure_subscription_id:i,azure_resource_group_id:s,azure_service_id:l,azure_api_id:c,azure_api_path:d,azure_revision_id:t,azure_release_notes:n,azure_revision_action_type:"make-revision-current"};return a.default.performAction(o,u,r.AZURE_GATEWAY_ACTIONS.PERFORM_REVISION_ACTION).then((e=>{if(200===e.status)return Promise.resolve(e);throw e})).catch((e=>Promise.reject(e)))},fetchRevisionMapping:(e,t,n)=>{const o=s().map(t,(e=>e.azure_revision_id)),{azure_api_path:i}=e,l={azure_api_path:i,azure_revisions:o,integrationId:n};return a.default.performAction(n,l,r.AZURE_GATEWAY_ACTIONS.GET_REVISION_SOURCE_MAPPING).then((e=>{if(200===e.status)return Promise.resolve(s().get(e,"body.data"));throw e})).catch((e=>Promise.reject(e)))},isDeployEnabled:(e,t)=>t!==r.RELEASE_CONTEXTBAR,deploySchema:(e,t)=>a.default.createDeployment(e,t),fetchSubscriptions:(e,t,n)=>new Promise(((o,i)=>{a.default.performPreConfigAction(e,t,n).then((e=>{let t=s().get(e,"body.data.value",[]),n=s().map(t,(e=>({label:e.displayName,value:e.subscriptionId})));o(n)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Subscriptions"),pm.logger.error("Something went wrong while fetching Azure Subscriptions",e),i(e)}))})),fetchSubscriptionsWithIntegrationId:(e,t,n)=>new Promise(((o,i)=>{a.default.performAction(e,t,n).then((e=>{let t=s().get(e,"body.data.value",[]),n=s().map(t,(e=>({label:e.displayName,value:e.subscriptionId})));o(n)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Subscriptions",e),i(e)}))})),fetchResourceGroups:(e,t,n)=>new Promise(((o,i)=>{a.default.performPreConfigAction(e,t,n).then((e=>{let t=s().get(e,"body.data.value",[]),n=s().map(t,(e=>({label:e.name,value:e.name})));o(n)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Resource Groups"),pm.logger.error("Something went wrong while fetching Azure Resource Groups",e),i(e)}))})),fetchResourceGroupsWithIntegrationId:(e,t,n)=>new Promise(((o,i)=>{a.default.performAction(e,t,n).then((e=>{let t=s().get(e,"body.data.value",[]),n=s().map(t,(e=>({label:e.name,value:e.name})));o(n)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Resource Groups",e),i(e)}))})),fetchServices:(e,t,n)=>new Promise(((o,i)=>{a.default.performPreConfigAction(e,t,n).then((e=>{let t=s().get(e,"body.data.value",[]),n=s().map(t,(e=>({label:e.name,value:e.name,path:e.id})));o(n)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Services"),pm.logger.error("Something went wrong while fetching Azure Services",e),i(e)}))})),fetchServicesWithIntegrationId:(e,t,n)=>new Promise(((o,i)=>{a.default.performAction(e,t,n).then((e=>{let t=s().get(e,"body.data.value",[]),n=s().map(t,(e=>({label:e.name,value:e.name,path:e.id})));o(n)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Services",e),i(e)}))})),fetchApis:(e,t,n)=>new Promise(((o,i)=>{a.default.performPreConfigAction(e,t,n).then((e=>{let t=s().get(e,"body.data.value",[]),n=s().filter(t,(e=>!s().get(e,"properties.type")||"http"===s().get(e,"properties.type"))),i=s().map(n,(e=>({label:e.name,value:e.name,path:e.id})));o(i)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure APIs"),pm.logger.error("Something went wrong while fetching Azure APIs",e),i(e)}))})),fetchApisWithIntegrationId:(e,t,n)=>new Promise(((o,i)=>{a.default.performAction(e,t,n).then((e=>{let t=s().get(e,"body.data.value",[]),n=s().filter(t,(e=>!s().get(e,"properties.type")||"http"===s().get(e,"properties.type"))),i=s().map(n,(e=>({label:e.name,value:e.name,path:e.id})));o(i)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure APIs",e),i(e)}))})),fetchSchema:(e,t,n)=>{const{azure_resource_group_id:o,azure_subscription_id:i,azure_service_id:l,azure_api_id:c}=t,d={azure_subscription_id:i,azure_resource_group_id:o,azure_service_id:l,azure_api_id:c,azure_export_format:n};return a.default.performAction(e,d,r.AZURE_GATEWAY_ACTIONS.EXPORT_API).then((e=>{if(200===e.status){const t=s().get(e,"body.data.versions.0.schemas.0"),n={content:s().get(t,"schema",""),language:s().get(t,"language"),type:s().get(t,"type")};return Promise.resolve(n)}throw new Error("Something went wrong while fetching schema")})).catch((e=>Promise.reject(e)))}}},"./integrations/api-observability/services/GatewayIntegrationsService.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts");t.default={createDeployment:(e,t)=>o.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/${e}/deploy`,body:t}}),listDeployments:(e,t=!1,n=!1)=>{const s={};return t&&(s.exportOnly=!0,s.internal=!0),n&&(s.internal=!0),o.HTTPGatewayService.request({data:{service:"integrations",method:"get",path:`/gateway-integrations/${e}/list`,query:{...s}}})},performAction:(e,t,n)=>o.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/${e}/actions/${n}`,body:t}}),performPreConfigAction:(e,t,n)=>o.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/actions/${n}`,body:{...t,classId:e}}})}},"./integrations/api-observability/services/Helper.js":function(e,t,n){"use strict";n.r(t);var o=n("./integrations/api-observability/services/index.js"),s=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),i=n("./integrations/api-observability/constants.ts"),a=n("./js/modules/services/AnalyticsService.js"),r=n("./node_modules/async/dist/async.js"),l=n.n(r),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/SyncStatusStore.js"),u=n("./js/stores/CurrentUserStore.js"),p=n("./onboarding/src/common/LaunchDarkly.js"),m=n("./api-dev/constants/Permissions.js"),h=n("./api-dev/services/APIPermissionService.js"),g=n("./api-dev/interfaces/APIInterface.js"),f=n("./api-dev/services/APIDevService.js"),b=n("./node_modules/lodash/lodash.js");t.default={shouldRenderDeploy:(e,t)=>!!(e&&e.rule&&o.default[e.rule]&&b.isFunction(o.default[e.rule].isDeployEnabled))&&o.default[e.rule].isDeployEnabled(e,t),getDeployOptionContext:(e,t)=>{if(!e)return t("API version missing");l().waterfall([function(t){return s.default.getConfiguredIntegrationsByEntityAndClientCategory("apiversion",e,[i.API_OBSERVABILITY]).then((e=>e[i.API_OBSERVABILITY].length>0?t(null,e[i.API_OBSERVABILITY][0]):t(null,null))).catch((e=>t(e)))},function(e,t){return e&&e.rule?o.default[e.rule]&&b.isFunction(o.default[e.rule].fetchDeployOptionString)?o.default[e.rule].fetchDeployOptionString(e.id).then((n=>t(null,{integration:e,deployString:n}))).catch((n=>t(null,{integration:e,deployString:"Deploy Schema"}))):t(null,{integration:e,deployString:"Deploy Schema"}):t(null,{integration:null,deployString:"Deploy Schema"})}],((e,n)=>(e&&(pm.logger.error("Error occurred while fetching configured integration",e),pm.toasts.error("Error occurred while fetching configured integration")),t(e,n))))},shouldRenderGatewayIntegration:e=>{const t=(0,c.resolveStoreInstance)(u.default).isLoggedIn||!1,n=b.get(e,"apiPermissionStore.canViewAPIIntegrations",!1),o=p.launchDarkly.getFlag("api-deployments-tab-enabled",!1);return!!(t&&n&&o)},truncate:e=>e.length>35?e.substring(0,35)+"...":e,addDeployClickAnalytics:(e,t)=>{e&&e.rule&&a.default.addEventV2({category:"gateway-integration",action:t,label:e.rule,value:1})},hasEditPermissionOnAPI:e=>e?(0,c.resolveStoreInstance)(d.default).onSyncAvailable({timeout:8e3}).then((()=>{const t=(0,c.resolveStoreInstance)(u.default).id,n=[m.UPDATE_API_META],o=h.default.getAPIPermissionQueryObject(n,[{id:e}],t);return h.default.fetchPermissions(o).then((t=>Promise.resolve(b.get(t,`${e}:UPDATE_API_META.allowed`)))).catch((e=>{throw e}))})).catch((e=>Promise.reject(e))):Promise.reject("API id is required to fetch permissions"),fetchAPIDetails:async e=>{if(!e)return{};try{let t=await(0,g.getAPI)(e),n=await(0,g.isAPIGitLinked)(e),o={apiDetails:t,isGitIntegrationLinked:n,apiDefinition:{}};if(n){const t=await(0,g.getAPILinkedEntityModel)(e,{name:"branch"},"apiDefinition","");return o=b.merge({},o,{apiDefinition:t}),o}return o}catch(e){return Promise.reject(e)}},isSchemaPresent:(e,t)=>f.default.getRelations(e,t).then((e=>{const t=b.get(e,"apiDefinition")&&b.get(b.keys(e.apiDefinition),0),n=b.get(e,"schema")&&b.get(b.keys(e.schema),0);return!b.isEmpty(t)||!b.isEmpty(n)})).catch((e=>Promise.reject(e))),addAzureServicesAnalytics:e=>{const t=b.get(e,"rule",""),n=b.get(e,"variables.linked_apis",[]),o=b.size(n)||0;a.default.addEventV2({category:i.GATEWAY_INTEGRATION_ANALYTICS_EVENT_CATEGORY,action:i.AZURE_APIM.SERVICE_ANALYTICS_ACTION,label:t,value:o})}}},"./integrations/api-observability/services/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./integrations/api-observability/services/ApiGatewayService.js"),s=n("./integrations/api-observability/services/AzureService.js");t.default={api_gateway_aws:o.default,api_management_azure:s.default}},"./integrations/api-observability/stores/APIObservabilityStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y,v,I,E,_,S,C,T,j=n("../../node_modules/mobx/lib/mobx.module.js"),A=n("./node_modules/lodash/lodash.js"),w=n.n(A),O=n("./js/stores/StoreManager.js"),N=n("./js/stores/SyncStatusStore.js"),D=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),R=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts"),P=n("./integrations/api-observability/stores/fallbackCategoryIntegrations.js"),M=n("./integrations/api-observability/configs/Integrations.js"),L=n("./js/stores/IntegrationsStore.js"),x=n("./integrations/api-observability/constants.ts");function k(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function F(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let V=(s=F((o=class{constructor(){k(this,"isHydrating",s,this),k(this,"availableIntegrations",i,this),k(this,"configuredIntegrations",a,this),k(this,"categoryIntegrations",r,this),k(this,"builds",l,this),k(this,"activeRule",c,this),k(this,"activeService",d,this),k(this,"errorAvailableIntegrations",u,this),k(this,"errorConfiguredIntegrations",p,this),k(this,"loadingAvailableIntegrations",m,this),k(this,"loadingConfiguredIntegrations",h,this),k(this,"selectedAPI",g,this),k(this,"selectedAPIVersion",f,this),k(this,"selectedService",b,this),k(this,"selectedServiceName",y,this),k(this,"selectedIntegration",v,this),k(this,"selectedRule",I,this),k(this,"category",E,this),k(this,"isAdding",_,this),k(this,"integrationInstance",S,this),k(this,"integrationClass",C,this),k(this,"loadingIntegrationInstanceAndClass",T,this),this.integrationsStore=(0,O.resolveStoreInstance)(L.default)}initializeApiObservabilityStore(e){(0,O.resolveStoreInstance)(N.default).onSyncAvailable({timeout:x.SYNC_STATUS_TIMEOUT}).then((()=>{this.updateIsHydrating(!0);const{apiId:t,apiVersionId:n,category:o}=e;this.setSelectedAPI(t),this.setSelectedAPIVersion(n),this.setActiveCategory(o),this.fetchAvailableIntegrations(),this.fetchConfiguredIntegrations(n,x.categoryToEntityType[o],[x.categoryToClientCategory[o]])})).catch((()=>{this.updateLoadingAvailableIntegrations(!1)})).finally((()=>{this.updateIsHydrating(!1)}))}initializeApiObservabilityStoreV2(e){(0,O.resolveStoreInstance)(N.default).onSyncAvailable({timeout:x.SYNC_STATUS_TIMEOUT}).then((()=>{this.updateIsHydrating(!0);const{apiId:t,apiVersionId:n,category:o}=e;this.setSelectedAPI(t),this.setSelectedAPIVersion(n),this.setActiveCategory(o),this.fetchConfiguredIntegrations(n,x.categoryToEntityType[o],[x.categoryToClientCategory[o]])})).catch((e=>{pm.logger.error("APIObservabilityStore~InitializeApiObservabilityStoreV2~Error while initialising API Observability Store: ",e)})).finally((()=>{this.updateIsHydrating(!1)}))}clearStore(e){this.loadingAvailableIntegrations[e.apiVersionId]=void 0,this.loadingConfiguredIntegrations[e.apiVersionId]=void 0,this.configuredIntegrations[e.apiVersionId]=void 0}setActiveCategory(e){this.category=e}setSelectedIntegration(e){this.selectedIntegration[this.category]=e}setActiveService(e){this.activeService=e}setSelectedServiceName(e){this.selectedServiceName=e}setActiveRule(e){this.activeRule=e}setSelectedAPI(e){this.selectedAPI=e}setSelectedAPIVersion(e){this.selectedAPIVersion=e}setSelectedRule(e){this.selectedRule=e}setSelectedService(e){this.selectedService=e}updateLoadingAvailableIntegrations(e){this.loadingAvailableIntegrations[this.selectedAPIVersion]=e}updateLoadingConfiguredIntegrations(e){this.loadingConfiguredIntegrations[this.selectedAPIVersion]=e}updateErrorAvailableIntegrations(e){this.errorAvailableIntegrations[this.selectedAPIVersion]=e}updateErrorConfiguredIntegrations(e){this.errorConfiguredIntegrations[this.selectedAPIVersion]=e}updateAvailableIntegrations(e){this.availableIntegrations=[...e]}updateSelectedAPIVersion(e){this.selectedAPIVersion=e,this.fetchConfiguredIntegrations(this.selectedAPIVersion,x.categoryToEntityType[this.category],[x.categoryToClientCategory[this.category]])}getAvailableIntegrations(){return(0,j.toJS)(this.availableIntegrations)}getSelectedIntegration(){return this.selectedIntegration[this.category]}getSelectedAPIVersion(){return this.selectedAPIVersion}updateConfiguredIntegrations(e){this.configuredIntegrations[this.selectedAPIVersion]=[...e]}updateCategoryIntegrations(e){w().isEmpty(e)?this.categoryIntegrations=[...P.fallbackCategoryIntegrations]:this.categoryIntegrations=[...e]}getConfiguredIntegrations(e){return(0,j.toJS)(this.configuredIntegrations[e])}getCategoryIntegrations(){return(0,j.toJS)(this.categoryIntegrations)}updateIsHydrating(e){this.isHydrating=e}updateIsAdding(e){this.isAdding=e}findIntegrationsByCategory(){const e=[],t=x.categoryToClientCategory[this.category];w().forEach((0,j.toJS)(this.availableIntegrations),(n=>{const o={},s=n.integrations[n.id];w().forEach(s,((e,n)=>{e.client_categories.includes(t)&&(o[n]=e)})),w().isEmpty(o)||(n.integrations[n.id]={...o},e.push(n))})),this.updateCategoryIntegrations(w().map(e,(e=>e.id&&!w().isEmpty(M.default[e.id])?{...e,...M.default[e.id]}:e)))}fetchAvailableIntegrations(){return this.updateLoadingAvailableIntegrations(!0),this.updateErrorAvailableIntegrations(!1),D.default.getAvailableIntegrations().then((e=>{const t=w().get(e,"body.services",[]);if(200!==e.status||w().isEmpty(t))throw e;this.updateAvailableIntegrations(w().map(t,((e,t)=>({id:t,...e})))),this.category&&this.findIntegrationsByCategory(),this.updateLoadingAvailableIntegrations(!1)})).catch((e=>{this.updateErrorAvailableIntegrations(e),this.updateLoadingAvailableIntegrations(!1),pm.logger.error("Error occurred while fetching the available integrations")}))}fetchConfiguredIntegrations(e,t,n){this.updateLoadingConfiguredIntegrations(!0),this.updateErrorConfiguredIntegrations(!1),D.default.getConfiguredIntegrationsByEntityAndClientCategory(t,e,n).then((e=>{this.updateConfiguredIntegrations(e[n[0]]),this.updateLoadingConfiguredIntegrations(!1)})).catch((e=>{this.updateErrorConfiguredIntegrations(e),this.updateLoadingConfiguredIntegrations(!1),pm.logger.error("Error occurred while fetching the configured integrations")}))}async fetchIntegrationInstance(e,t){this.setLoadingIntegrationInstancesAndClass(t,!0);try{const n=await R.default.getConfiguredIntegrationsForAnEntity(e,t,[x.API_OBSERVABILITY]);let o=w().get(n,"body.data",[]),s=w().map(o,"class"),i=[];if(!w().isEmpty(s)){const e=this.integrationsStore.getIntegrationClasses(),t=s[0];i=w().find(e,(e=>e.id===t))}this.updateIntegrationClass([i],t),this.updateIntegrationInstance(o,t),this.setLoadingIntegrationInstancesAndClass(t,!1)}catch(e){pm.logger.error("APIObservabilityStore ~ Error in fetching integration instance details",t,e),this.setLoadingIntegrationInstancesAndClass(t,!1)}}setLoadingIntegrationInstancesAndClass(e,t){this.loadingIntegrationInstanceAndClass[e||this.selectedAPIVersion]=t}updateIntegrationInstance(e,t){this.integrationInstance[t||this.selectedAPIVersion]=e}updateIntegrationClass(e,t){this.integrationClass[t||this.selectedAPIVersion]=e}getIntegrationInstance(e){return this.integrationInstance[e]}getIntegrationClass(e){return this.integrationClass[e]}resetPowerUpVariables(e){const{apiVersionId:t}=e;this.setLoadingIntegrationInstancesAndClass(t,!0),this.updateIntegrationClass([],t),this.updateIntegrationInstance([],t)}removeIntegrationInstances(e){this.integrationClass[e]=[],this.integrationInstance[e]=[]}}).prototype,"isHydrating",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=F(o.prototype,"availableIntegrations",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=F(o.prototype,"configuredIntegrations",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=F(o.prototype,"categoryIntegrations",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.fallbackCategoryIntegrations}}),l=F(o.prototype,"builds",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=F(o.prototype,"activeRule",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=F(o.prototype,"activeService",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=F(o.prototype,"errorAvailableIntegrations",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=F(o.prototype,"errorConfiguredIntegrations",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=F(o.prototype,"loadingAvailableIntegrations",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=F(o.prototype,"loadingConfiguredIntegrations",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g=F(o.prototype,"selectedAPI",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=F(o.prototype,"selectedAPIVersion",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=F(o.prototype,"selectedService",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=F(o.prototype,"selectedServiceName",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=F(o.prototype,"selectedIntegration",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),I=F(o.prototype,"selectedRule",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=F(o.prototype,"category",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=F(o.prototype,"isAdding",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=F(o.prototype,"integrationInstance",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C=F(o.prototype,"integrationClass",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T=F(o.prototype,"loadingIntegrationInstanceAndClass",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),F(o.prototype,"initializeApiObservabilityStore",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"initializeApiObservabilityStore"),o.prototype),F(o.prototype,"clearStore",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"clearStore"),o.prototype),F(o.prototype,"setActiveCategory",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveCategory"),o.prototype),F(o.prototype,"setSelectedIntegration",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedIntegration"),o.prototype),F(o.prototype,"setActiveService",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveService"),o.prototype),F(o.prototype,"setSelectedServiceName",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedServiceName"),o.prototype),F(o.prototype,"setActiveRule",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveRule"),o.prototype),F(o.prototype,"setSelectedAPI",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedAPI"),o.prototype),F(o.prototype,"setSelectedAPIVersion",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedAPIVersion"),o.prototype),F(o.prototype,"setSelectedRule",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedRule"),o.prototype),F(o.prototype,"setSelectedService",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedService"),o.prototype),F(o.prototype,"updateLoadingAvailableIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingAvailableIntegrations"),o.prototype),F(o.prototype,"updateLoadingConfiguredIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingConfiguredIntegrations"),o.prototype),F(o.prototype,"updateErrorAvailableIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateErrorAvailableIntegrations"),o.prototype),F(o.prototype,"updateErrorConfiguredIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateErrorConfiguredIntegrations"),o.prototype),F(o.prototype,"updateAvailableIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateAvailableIntegrations"),o.prototype),F(o.prototype,"updateSelectedAPIVersion",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateSelectedAPIVersion"),o.prototype),F(o.prototype,"getAvailableIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"getAvailableIntegrations"),o.prototype),F(o.prototype,"getSelectedIntegration",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"getSelectedIntegration"),o.prototype),F(o.prototype,"getSelectedAPIVersion",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"getSelectedAPIVersion"),o.prototype),F(o.prototype,"updateConfiguredIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateConfiguredIntegrations"),o.prototype),F(o.prototype,"updateCategoryIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateCategoryIntegrations"),o.prototype),F(o.prototype,"getConfiguredIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"getConfiguredIntegrations"),o.prototype),F(o.prototype,"getCategoryIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"getCategoryIntegrations"),o.prototype),F(o.prototype,"updateIsHydrating",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIsHydrating"),o.prototype),F(o.prototype,"updateIsAdding",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIsAdding"),o.prototype),F(o.prototype,"findIntegrationsByCategory",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"findIntegrationsByCategory"),o.prototype),F(o.prototype,"fetchAvailableIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchAvailableIntegrations"),o.prototype),F(o.prototype,"fetchConfiguredIntegrations",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchConfiguredIntegrations"),o.prototype),F(o.prototype,"fetchIntegrationInstance",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchIntegrationInstance"),o.prototype),F(o.prototype,"setLoadingIntegrationInstancesAndClass",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"setLoadingIntegrationInstancesAndClass"),o.prototype),F(o.prototype,"updateIntegrationInstance",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIntegrationInstance"),o.prototype),F(o.prototype,"updateIntegrationClass",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIntegrationClass"),o.prototype),F(o.prototype,"resetPowerUpVariables",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"resetPowerUpVariables"),o.prototype),F(o.prototype,"removeIntegrationInstances",[j.action],Object.getOwnPropertyDescriptor(o.prototype,"removeIntegrationInstances"),o.prototype),o)},"./integrations/api-observability/stores/fallbackCategoryIntegrations.js":function(e,t,n){"use strict";n.r(t),n.d(t,{fallbackCategoryIntegrations:function(){return o}});const o=[{id:"api_gateway_aws",categories:["Deployment"],name:"AWS API Gateway",icon:"pm-icon-aws-api-gateway",icon_url:"https://static.getpostman.com/assets/aws_api_gateway.png",dark_icon_url:null,description:"Stay on top of your API Deployments",extended_description:"Observe deployments inside Postman",integrations:{api_gateway_aws:{api_gateway_aws:{name:"Observe API deployments",description:"Connect to AWS API Gateway to view deployments from across all stages, logs and metrics inside Postman",categories:["Deployment"],summary:"",client_categories:["api-gateway-observability"],type:"multiple",entity:"apiversion",scope:"user",sync_data:[],variables:[],auth_type:"token",canCreateIntegration:!0}}},setup_details:"",service_data:[],summary:"",misc:"",oauth_initiator_host:null}]},"./integrations/ci-cd/buildUtils.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-console-stroke.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-collection-stroke.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-schemaOutline-stroke.js"),p=n("./integrations/ci-cd/timeUtils.js"),m=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),h=n("./appsdk/components/link/Link.js"),g=n("./integrations/ci-cd/services/index.ts"),f=n("./integrations/ci-cd/components/CIStatusBadge.js"),b=n("./integrations/ci-cd/constants.ts"),y=n("./js/utils/PluralizeHelper.js"),v=n("./runtime-repl/runner/_api/RunnerInterface.js"),I=n("./js/modules/services/AnalyticsService.js"),E=n("./js/stores/StoreManager.js"),_=n("./js/stores/CurrentUserStore.js"),S=n("./integrations/ci-cd/helpers.js"),C=n("./runtime-repl/runner/workbench/common.js"),T=n("./node_modules/lodash/lodash.js");const j="Cancel",A=(0,m.default)(h.default)`
  display: flex;
  align-items: center;
  min-width: 0px;
`,w=(0,m.default)(s.default)`
    margin-left: 0px;
    text-transform: capitalize;
  `,O=(e,t)=>{const[n,s]=(0,o.useState)(j),[l,c]=(0,o.useState)(!1),{addToast:d}=(0,i.default)(),u=T.get(e,"outcome"),p=T.get(t,"rule"),m=T.includes(T.get(b.CANCELLABLE_OUTCOMES,p),u)&&T.isFunction(T.get(g.default,[p,"cancelBuild"]));return o.createElement(a.default,{direction:"row",gap:"spacing-s"},o.createElement(f.default,{status:u}),m&&o.createElement(r.default,{type:"monochrome-plain",text:n,isDisabled:l,onClick:()=>{s("Cancelling"),c(!0),((e,t,n)=>{const o=T.get(g.default,[e,"cancelBuild"]);return new Promise(((e,s)=>{T.isFunction(o)?o(t,n).then((t=>{e(t)})).catch((e=>{s(e)})):e(!1)}))})(t.rule,t.id,e).then((e=>{let t,n;e?(n={title:"Build Cancelled",status:"success",description:"Build successfully cancelled."},t="Cancelled"):(n={title:"Error",status:"error",description:"Something went wrong while cancelling the build! Please refresh the page"},c(!1),t=j),d(n),s(t)})).catch((e=>{pm.logger.error("CIBuild ~ cancelRunningBuild : Error occurred while cancelling builds",e),d({title:"Error",status:"error",description:"Something went wrong while cancelling the build! Please refresh the page"}),c(!1),s(j)}))}}))};t.default={getTableColumns:function(e,t){let n=t?[{Header:"",accessor:"empty",Cell:e=>o.createElement(o.Fragment,null),disableSortBy:!0,cellWidth:"32px"}]:[];return n=T.concat(n,[{Header:"Name",accessor:e=>({buildName:T.get(e,"build_num"),buildUrl:T.get(e,"build_url"),rowData:e}),Cell:({value:t})=>{const{buildName:n,buildUrl:s,rowData:i}=t;return o.createElement("div",{id:(0,S.getRowIdForBuildsTable)(i)},o.createElement(a.default,{direction:"row",alignItems:"center"},o.createElement(c.default,{color:"content-color-primary"}),o.createElement(A,{to:s,target:"_blank",onClick:()=>{var t;const n=(0,E.resolveStoreInstance)(_.default);I.default.addEventV2({action:"open-build-url",entityId:null==e||null===(t=e.variables)||void 0===t?void 0:t.api_id,entityType:"api",integrationId:null==e?void 0:e.id,rule:null==e?void 0:e.rule,userId:n.id,teamId:n.teamId,category:"postman-cli-api-builder"})}},o.createElement(l.default,{type:"link-subtle",isExternal:!0,isTruncated:!0,className:"build-row-text-with-icon"},n))))}},{Header:"Branch",accessor:"branch",Cell:e=>o.createElement(l.default,{isTruncated:!0},e.value)},{Header:"Timestamp",accessor:"start_time",Cell:e=>`${p.default.timeSince(e.value)}`},{Header:"Duration",accessor:"duration",cellWidth:"15%",Cell:e=>`${p.default.getFormattedDuration(e.value)}`},{Header:"Status",accessor:e=>e,cellWidth:"25%",Cell:({value:t})=>O(t,e)}]),n},getBuildStepsExpandColumns:function(e){return[{Header:"",accessor:"empty",Cell:e=>o.createElement(o.Fragment,null),disableSortBy:!0,cellWidth:"24px"},{Header:"Name",accessor:"name",Cell:e=>o.createElement(l.default,null,e.value),disableSortBy:!0,cellWidth:"30%"},{Header:"Duration",accessor:"duration",Cell:e=>`${p.default.getFormattedDuration(e.value)}`,disableSortBy:!0,cellWidth:"30%"},{Header:"Status",accessor:"status",Cell:e=>o.createElement(f.default,{status:T.get(e,"value")}),disableSortBy:!0},{Header:"",id:"a4042383-8033-4aad-a904-9e84c5cf7724",accessor:"empty",Cell:e=>o.createElement(l.default,null,e.value),disableSortBy:!0}]},getCollectionRunsExpandColumns:function(e){return[{id:"Collection Name",accessor:"name",Cell:e=>o.createElement(a.default,{direction:"row"},o.createElement(d.default,{color:"content-color-primary"}),o.createElement(l.default,{isTruncated:!0,className:"build-row-text-with-icon"},e.value)),disableSortBy:!0},{id:"Status",accessor:e=>{var t;const{status:n,internalLink:o,metrics:s}=e;return[n,o,null==s||null===(t=s.find((e=>"Assertions"===(null==e?void 0:e.name))))||void 0===t?void 0:t.status]},Cell:e=>{const[t,n,i]=e.value,a=(0,m.default)(s.default)`
              margin-left: 0px;
            `,{failedCount:r,totalCount:c}=i||{},d=0!==r?`${r}/${c} failed`:`${c}/${c} passed`,u=(0,C.getAPIParentMetaFromUrl)();return o.createElement("div",null,o.createElement(a,{status:t.status,text:d}),o.createElement("span",{onClick:()=>{(0,v.openRunInTab)(n.split("/").pop(),{preview:!1,activeTestTab:"all"},u)}},o.createElement(h.default,null,o.createElement(l.default,{type:"link-default"},"View Report"))))},disableSortBy:!0,cellWidth:"200px"}]},getSpecificCollectionRunDetailsColumns:function(){return[{Header:"",accessor:"empty",Cell:e=>o.createElement(o.Fragment,null),disableSortBy:!0,cellWidth:"32px"},{Header:"",accessor:"name",Cell:e=>o.createElement(l.default,{isTruncated:!0},e.value),disableSortBy:!0,cellWidth:"60%"},{Header:"",accessor:"status",Cell:e=>{let{failedCount:t,totalCount:n,failedRequests:i}=T.get(e,"value",{}),r=0!==t?"critical":"success",c=0!==t?`${t}/${n} failed`:`${n}/${n} passed`;return 0===n?o.createElement(s.default,{text:"N/A",status:"neutral"}):T.isEmpty(i)?o.createElement(s.default,{text:c,status:r}):o.createElement(a.default,{direction:"column"},o.createElement(s.default,{text:c,status:r}),T.map(i,(e=>o.createElement(h.default,{to:e.link,target:"_blank"},o.createElement(l.default,{type:"link-default",isTruncated:!0,isExternal:!0},e.link)))))},disableSortBy:!0},{Header:"",accessor:"empty3",Cell:e=>o.createElement(o.Fragment,null),disableSortBy:!0}]},getSchemaColumns:function(e){return[{Header:"Schema Name",accessor:"empty",Cell:t=>o.createElement(a.default,{direction:"row"},o.createElement(u.default,{color:"content-color-primary"}),o.createElement(l.default,{isTruncated:!0,className:"build-row-text-with-icon"},e)),disableSortBy:!0},{Header:"Status",accessor:e=>{const{warnings:t}=e;return[t]},cellWidth:"200px",Cell:e=>{const[t]=e.value,n=T.size(t),s=y.default.pluralize({count:n,singular:"Rule violation",plural:"Rule violations"});return o.createElement("div",null,n>0?o.createElement(w,{status:"warning",text:`${n} ${s}`}):o.createElement(w,{status:"success",text:"No rule violation"}))},disableSortBy:!0}]},getSpecificSchemaWarningDetailsColumns:function(){return[{Header:"",accessor:"empty",Cell:e=>o.createElement(o.Fragment,null),disableSortBy:!0,cellWidth:"24px"},{Header:"Warning Message",accessor:"message",Cell:e=>o.createElement(l.default,{isTruncated:!0,className:"build-row-text-with-icon"},e.value),disableSortBy:!0},{Header:"Type",accessor:"type",Cell:e=>o.createElement(l.default,{isTruncated:!0},T.capitalize(e.value)),cellWidth:"40%",disableSortBy:!0},{Header:"Learn more",accessor:"possibleFixUrl",Cell:e=>{if(!e.value)return null;const t=(0,m.default)(l.default)`
            padding-left: var(--spacing-s);
          `;return o.createElement(h.default,{to:e.value,target:"_blank"},o.createElement(t,{type:"link-default",isExternal:!0,isTruncated:!0},"Learn more"))},disableSortBy:!0,cellWidth:"200px"}]}}},"./integrations/ci-cd/components/AvailableCIServices.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o=n("../../node_modules/react/index.js"),s=n("./js/services/NavigationService.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("./js/modules/services/AnalyticsService.js"),l=n("./integrations/ci-cd/helpers.js"),c=n("./integrations/api-observability/constants.ts"),d=n("./node_modules/prop-types/index.js"),u=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),p=n("./js/stores/StoreManager.js"),m=n("./api-dev/stores/APIListStore.js"),h=n("./integrations/ci-cd/stores/APIIntegrationsStore.js"),g=(n("./appsdk/components/link/Link.js"),n("./integrations/services/OneClickIntegrationCreateService.js")),f=n("./integrations/navigation/constants.js"),b=n("./integrations/utils/CommonHelperMethods.ts"),y=n("./js/stores/ActiveWorkspaceSessionStore.js"),v=n("./node_modules/lodash/lodash.js");const I=(0,u.default)(i.default)`
  row-gap: var(--spacing-m);
`;function E(e,t,n,o=!1){const i={originalTabId:(0,p.resolveStoreInstance)(y.default).activeEditor};if(!o)return void s.default.transitionTo(f.V10_API_ADD_CI_INTEGRATION_NAV_IDENTIFIER,e,t,{additionalContext:i});const{model:a,ruleId:r,serviceId:l,serviceName:c,defaultIntegrationName:d,setDisableIntegrationCreateButton:u}=n,m=v.get(a,"apiId"),b=v.get(a,"id");return u(!0),g.default.createFromApi(m,b,r,d).then((({body:e})=>{const t=v.get(e,"data.id");return pm.toasts.success("Your API is connected to "+c),(0,p.resolveStoreInstance)(h.default).fetchIntegrationInstance("apiversion",b),s.default.transitionTo(f.V10_API_CI_INTEGRATION_BUILDS_NAV_IDENTIFIER,{apiId:m,integrationId:t})})).catch((n=>{if(pm.logger.error("Error occurred while one-click-creating integration",n),!n.message)return pm.toasts.error("Something went wrong when trying to create the integration with the saved auth. Please create the integration using the form instead."),s.default.transitionTo(f.V10_API_ADD_CI_INTEGRATION_NAV_IDENTIFIER,e,t,{additionalContext:i});pm.toasts.error(n.message)}))}function _(e){const{model:t,promoteTab:n,integrationClasses:s,oneClickFlow:i=!1}=e,[d,u]=(0,o.useState)({addIntegrationRouteParams:{},addIntegrationQueryParams:{}}),[h,g]=(0,o.useState)(!1),{addIntegrationRouteParams:f,addIntegrationQueryParams:y}=d,_=v.get(t,`apiPermissionStore.permissions.${t.apiId}:UPDATE_API_META.allowed`);return(0,o.useEffect)((()=>{const e=v.get(t,"apiId"),n={apiId:e,versionId:v.get(t,"id")};(0,b.getSanitizedRouteAndQueryParamsForV10APIUrls)(n,{},e).then((([e,t])=>{u({addIntegrationRouteParams:e,addIntegrationQueryParams:t})}))}),[]),o.createElement(I,{wrap:"wrap",alignItems:"center",justifyContent:"flex-start",gap:"spacing-m"},v.map(s,(e=>{const s=v.get(e,"services.0",{}),d=s.id,u=v.get(e,"id"),b=v.get(e,"displayName"),I=v.get(e,"instanceCreation"),S=v.get(I,"enabled",!1)&&_,C=S?"":_?v.get(I,"description"):c.PERMISSION_ERROR,T=function(e,t){const n=v.get(t,"apiId"),o=(0,p.resolveStoreInstance)(m.default)&&(0,p.resolveStoreInstance)(m.default).find(n),s=v.get(o,"name");return s?`${e}-${s}`:null}(b,t),j=v.assign({rule:u,service:d,defaultIntegrationName:T},y),A={model:t,ruleId:u,serviceName:s.name,serviceId:d,defaultIntegrationName:T,setDisableIntegrationCreateButton:g};return o.createElement(a.default,{key:u,"data-testid":"integrations-configure-ci-integartion-button",type:"outline",icon:(0,l.getIconForCIIntegration)(u),tooltip:C,text:b,isDisabled:!S||h,onClick:e=>{if(i)return e.preventDefault(),void E(f,j,A,i);e.metaKey||e.ctrlKey||(e.preventDefault(),v.isFunction(n)&&n(),r.default.addEventV2({category:"ci_integrations",action:"card-click"+(i?"-shared-auth":""),label:"api_builder_initiated",type:u,value:1}),E(f,j,A))}})})))}_.propTypes={model:d.PropTypes.object.isRequired,promoteTab:d.PropTypes.func.isRequired,integrationClasses:d.PropTypes.object.isRequired}},"./integrations/ci-cd/components/BuildsTable.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),s=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("./integrations/ci-cd/components/CIEmptyTableView.js"),l=n("./integrations/ci-cd/buildUtils.js"),c=n("./integrations/ci-cd/components/ExpandedBuildRow.js"),d=n("./js/stores/StoreManager.js"),u=n("./integrations/ci-cd/stores/APIRunInfoStore.js"),p=n("./integrations/ci-cd/helpers.js"),m=n("./integrations/ci-cd/customHooks/useAPIName.js"),h=n("./node_modules/lodash/lodash.js");const g=e=>{const t=(0,m.default)(h.get(e,"apiId","")),[n,i]=(0,s.useState)(!0),[a,g]=(0,s.useState)({[h.get(e,"branchAndBuildIdIdentifier")]:!0});(0,s.useEffect)((()=>{const{data:t,branchAndBuildIdIdentifier:o}=e;if(n){const e=h.find(t,(e=>o===(0,p.getRowIdForBuildsTable)(e))),n=e&&document.getElementById((0,p.getRowIdForBuildsTable)(e));n&&n.scrollIntoView({behavior:"smooth"}),i(!1),g({})}return()=>{(0,d.resolveStoreInstance)(u.default).cleanUp(h.get(e,"integration.id"))}}));const{data:f,integration:b,showConfigureNewmanButtonOnEmptyState:y,apiId:v,apiVersionId:I}=e,E=h.get(b,"rule"),_=h.get(f,"0.showCollectionRuns"),S=h.get(f,"0.showBuildSteps"),C=_||S,T={className:"table-content",data:f,blankState:{isEmpty:h.isEmpty(f),component:s.createElement(r.default,{showConfigureNewmanButton:y,integrationData:b,apiId:v,apiVersionId:I})},getRowId:p.getRowIdForBuildsTable,columns:l.default.getTableColumns(b,!C),sorting:!0},j=e=>s.createElement(c.default,{rule:E,rowData:e,integration:b,apiName:t});return C&&(T.rowExpanded={subComponent:j,initialExpansionState:a}),"gitlab_ci"===E&&(T.columns=h.reject(T.columns,{accessor:"duration"})),s.createElement(o.default,T)};g.propTypes={data:a().arrayOf(a().object).isRequired,integration:a().object.isRequired,showConfigureNewmanButtonOnEmptyState:a().bool,apiId:a().string,apiVersionId:a().string,buildId:a().string,branchAndBuildIdIdentifier:a().string},t.default=g},"./integrations/ci-cd/components/CIEmptyTableView.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),c=n("./integrations/ci-cd/constants.ts"),d=n("./js/stores/StoreManager.js"),u=n("./api-dev/stores/APIListStore.js"),p=n("./js/modules/services/AnalyticsService.js"),m=n("./integrations/ci-cd/configurePostmanCLIInterfaces.js"),h=n("./node_modules/lodash/lodash.js");const g=e=>{const{entityName:t="builds",apiId:n,apiVersionId:s,integrationData:i,showConfigureNewmanButton:g,description:f,title:b}=e,y=h.get(i,"id"),v=h.get(i,"rule"),I=h.get(i,"service"),E=h.get(c.RULE_TO_SERVICE,v,"");return o.createElement(a.default,{title:b||`No ${t} found`,description:f||`There are no ${t} on ${E}. You can run your Postman Collections on ${E} by configuring Postman CLI.`,secondaryAction:g&&o.createElement(r.default,{type:"outline",text:"Configure Postman CLI","data-testid":"integrations-configure-newman-button",onClick:()=>{const e=(0,d.resolveStoreInstance)(u.default).find(n);p.default.addEventV2({category:"ci-integration",action:"configure-postman-cli",label:v,value:1}),(0,m.openConfigurePostmanCLIInTab)({isMigrated:null==e?void 0:e.isMigrated,apiId:n,versionId:s,queryParams:{integration:y,rule:v,service:I}})}})},o.createElement(l.default,null))};g.propTypes={entityName:i().string,title:i().string,description:i().string,showConfigureNewmanButton:i().bool,integrationData:i().shape({id:i().string.isRequired,rule:i().string.isRequired,service:i().string.isRequired}),apiId:i().string,apiVersionId:i().string},t.default=g},"./integrations/ci-cd/components/CIStatusBadge.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("./integrations/ci-cd/constants.ts"),l=n("./node_modules/lodash/lodash.js");const c=e=>{const{status:t}=e,n=l.lowerCase(t)||"-",i=l.get(r.BUILD_STATUS_TO_BADGE_TYPE_MAP,n,r.AETHER_BADGE_STATUS.NEUTRAL);return o.createElement(s.default,{status:i,text:n})};c.propTypes={status:a().string.isRequired},t.default=c},"./integrations/ci-cd/components/CommonCIComponents.js":function(e,t,n){"use strict";n.r(t),n.d(t,{IntegrationEditDeleteMenu:function(){return P},ProjectHeader:function(){return M},RefreshBuildsButton:function(){return D},TriggerBuild:function(){return R}});var o=n("../../node_modules/react/index.js"),s=n("./js/modules/services/AnalyticsService.js"),i=n("./js/services/NavigationService.js"),a=n("./integrations/navigation/constants.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-refresh-stroke.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-run-stroke.js"),b=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-options-stroke.js"),y=n("./integrations/ci-cd/modals/RunBuildsModal.js"),v=n("./integrations/ci-cd/modals/DeleteIntegrationModal.js"),I=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),E=n("./integrations/ci-cd/constants.ts"),_=n("./integrations/ci-cd/services/index.ts"),S=n("./node_modules/prop-types/index.js"),C=n("./integrations/api-observability/constants.ts"),T=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),j=n("./js/stores/StoreManager.js"),A=n("./js/stores/CurrentUserStore.js"),w=n("./node_modules/lodash/lodash.js");const O=T.default.div`
    display: flex;
    align-items: center;
    text-overflow: ellipsis;
  `,N=(0,T.default)(r.default)`
    padding-top: calc(var(--spacing-xs) / 2);
  `,D=e=>{const{onClick:t,iconSize:n}=e;return o.createElement(l.default,{onClick:t,icon:o.createElement(g.default,null),type:"tertiary",size:"medium",tooltip:"Refresh your build runs"})},R=e=>{const[t,n]=(0,o.useState)(!1),{iconSize:i,rule:a,integrationId:r,branches:c,refreshBuilds:d}=e,u=_.default[a];return(null==u?void 0:u.triggerBuild)?o.createElement(o.Fragment,null,o.createElement(l.default,{onClick:()=>{n(!0),s.default.addEventV2({category:"ci-integration",action:"run-build-initiated",label:a,value:1})},icon:o.createElement(f.default,null),text:"Run Build",type:"tertiary",size:"medium",tooltip:"Trigger a build manually"}),t&&o.createElement(y.default,{isOpen:t,handleCloseModal:()=>{n(!1)},integrationId:r,rule:a,branches:c,refreshBuilds:d})):o.createElement(o.Fragment,null)},P=e=>{const{integrationId:t,rule:n,menuButtonSize:r,canUpdateIntegration:m,canDeleteIntegration:h,apiId:g,apiVersionId:f,onIntegrationDelete:y}=e,[_,S]=(0,o.useState)(!1),[T,O]=(0,o.useState)(!m),[N,D]=(0,o.useState)(!h);return(0,o.useEffect)((()=>{w.every([m,h],w.isBoolean)||I.default.getIntegrationData(t).then((e=>{200===e.status?(O(!w.get(e,"body.meta.allowedActions.update",!1)),D(!w.get(e,"body.meta.allowedActions.delete",!1))):pm.logger.error("CICDIntegrationComponents~CommonCIComponents~IntegrationEditDeleteMenu ~ Error occurred while loading integration details",e,{errorContext:E.errorContext})})).catch((e=>{pm.logger.error("CICDIntegrationComponents~CommonCIComponents~IntegrationEditDeleteMenu ~ Error occurred while loading integration details",e,{errorContext:E.errorContext})}))}),[m,h]),o.createElement(o.Fragment,null,o.createElement(c.default,null,o.createElement(d.default,null,o.createElement(l.default,{icon:o.createElement(b.default,null),type:"tertiary",tooltip:"View more actions",size:r})),o.createElement(u.default,null,o.createElement(p.default,{onClick:()=>{const o=(0,j.resolveStoreInstance)(A.default);s.default.addEventV2({action:"open-edit-ci-integration"+(e.source?`-${e.source}`:""),entityId:g,entityType:"api",integrationId:t,rule:n,userId:o.id,teamId:o.teamId,category:"postman-cli-api-builder"}),i.default.transitionTo(a.V10_API_EDIT_CI_INTEGRATION_NAV_IDENTIFIER,{apiId:g,integrationId:t},{version:f})},isDisabled:T,tooltip:T&&C.PERMISSION_ERROR},"Edit Integration"),o.createElement(p.default,{type:"destructive",onClick:()=>{const o=(0,j.resolveStoreInstance)(A.default);s.default.addEventV2({action:"init-delete-ci-integration"+(e.source?`-${e.source}`:""),entityId:g,entityType:"api",integrationId:t,rule:n,userId:o.id,teamId:o.teamId,category:"postman-cli-api-builder"}),S(!0)},isDisabled:N,tooltip:N&&C.PERMISSION_ERROR},"Delete Integration"))),o.createElement(v.default,{isOpen:_,handleCloseModal:()=>{S(!1)},onDelete:()=>{const o=(0,j.resolveStoreInstance)(A.default);s.default.addEventV2({action:"delete-ci-integration"+(e.source?`-${e.source}`:""),entityId:g,entityType:"api",integrationId:t,rule:n,userId:o.id,teamId:o.teamId,category:"postman-cli-api-builder"})},integrationId:t,ruleId:n,handleBack:y,apiVersionId:f}))},M=e=>{const{projectName:t,readableServiceName:n}=e;return o.createElement(O,null,o.createElement(m.default,{type:"h4",text:t}),o.createElement(r.default,{padding:"spacing-s"},o.createElement(h.default,{color:"content-color-tertiary"},"")),o.createElement(N,{inline:!0,justifyContent:"center",alignItems:"center"},o.createElement(h.default,null,"Source:"),o.createElement(h.default,{type:"body-medium",color:"content-color-secondary"},n)))};D.propTypes={onClick:S.PropTypes.func.isRequired,iconSize:S.PropTypes.string},D.defaultProps={iconSize:"small"},R.propTypes={rule:S.PropTypes.string.isRequired,integrationId:S.PropTypes.string.isRequired,branches:S.PropTypes.array.isRequired,refreshBuilds:S.PropTypes.func.isRequired,iconSize:S.PropTypes.string},R.defaultProps={iconSize:"small"},P.propTypes={rule:S.PropTypes.string.isRequired,integrationId:S.PropTypes.string.isRequired,onIntegrationDelete:S.PropTypes.func.isRequired,menuButtonSize:S.PropTypes.string,canUpdateIntegration:S.PropTypes.boolean,canDeleteIntegration:S.PropTypes.boolean,integrationService:S.PropTypes.string,apiId:S.PropTypes.string,apiVersionId:S.PropTypes.string},P.defaultProps={menuButtonSize:"medium"},M.propTypes={projectName:S.PropTypes.string.isRequired,readableServiceName:S.PropTypes.string.isRequired}},"./integrations/ci-cd/components/CompactBuilds.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./js/stores/StoreManager.js"),l=n("./integrations/ci-cd/stores/APIIntegrationsStore.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),h=n("./api-dev/stores/APIListStore.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-console-stroke.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-setting-stroke.js"),b=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-warning-stroke.js"),y=n("./integrations/ci-cd/services/index.ts"),v=n("./js/services/NavigationService.js"),I=n("./integrations/ci-cd/constants.ts"),E=n("./api-dev/constants/APISubViews.js"),_=n("./js/modules/services/AnalyticsService.js"),S=n("./integrations/components/error-states/IntegrationNotSupported.js"),C=n("./integrations/ci-cd/components/CommonCIComponents.js"),T=n("./integrations/components/api-builder/CompactViewContainer.js"),j=n("./integrations/ci-cd/components/BuildsTable.js"),A=n("./integrations/utils/CommonHelperMethods.ts"),w=n("./integrations/ci-cd/helpers.js"),O=n("./integrations/ci-cd/components/ErrorStates/AuthenticationExpiredBanner.js"),N=n("./integrations/navigation/constants.js"),D=n("./appsdk/components/link/Link.js"),R=n("./js/stores/CurrentUserInfoStore.js"),P=n("./integrations/ci-cd/configurePostmanCLIInterfaces.js"),M=n("./js/stores/ActiveWorkspaceSessionStore.js"),L=n("./node_modules/lodash/lodash.js");a.default.div`
    margin-left: var(--spacing-xxl);
  `;const x=a.default.div`
    margin-left: var(--spacing-xl);
    border-top: var(--border-width-default) var(--border-style-solid) var(--border-color-default);
  `;a.default.div`
    margin: var(--spacing-s) var(--spacing-xl);
    padding: var(--spacing-zero) calc(var(--spacing-l) + var(--spacing-xs));
    display: flex;
    color: var(--content-color-secondary);
    font-size: var(--text-size-m);
  `;let k=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.store=(0,r.resolveStoreInstance)(l.default);const t=L.first(L.get(e,"configuredIntegrations",[{}]));this.state={builds:[],integration:t,project:(0,w.getProjectName)(t),triggerBranches:[],filteredBranches:[],branchOptions:[],loadingBuilds:!1,errorBuilds:""},this.fetchBuilds=this.fetchBuilds.bind(this),this.handleViewMoreBuilds=this.handleViewMoreBuilds.bind(this),this.populateBranches=this.populateBranches.bind(this),this.populateFilteredBranches=this.populateFilteredBranches.bind(this),this.getReAuthenticationBanner=this.getReAuthenticationBanner.bind(this),this._reauthorizationCompletedCallback=this._reauthorizationCompletedCallback.bind(this),this.currentUserInfo=(0,r.resolveStoreInstance)(R.default)}componentDidMount(){const{integration:e}=this.state,t=L.get(this.props,"model.apiId"),n=L.get(e,"id"),o=L.get(e,"rule");this.fetchBuilds(n,o),pm.windowEvents.addListener(`api-oauth-integration-re-authenticated-${t}`,this._reauthorizationCompletedCallback)}componentWillUnmount(){L.get(this.props,"model.apiId");pm.windowEvents.removeListener(`api-oauth-integration-re-authenticated-${this.apiId}`,this._reauthorizationCompletedCallback)}_reauthorizationCompletedCallback(){const{integration:e}=this.state;this.setState({authenticationExpired:!1},(()=>{this.fetchBuilds(e.id,e.rule)}))}getReAuthenticationBanner(e,t){const n=L.get(this.props,"model.apiId"),o=L.get(this.props,"model.id");return i.createElement(c.default,{padding:"spacing-s"},i.createElement(O.default,{serviceId:e,tokenId:t,reauthQueryParamData:{apiId:n,eventName:`api-oauth-integration-re-authenticated-${n}`,apiVersionId:o}}))}fetchBuilds(e,t){let n=[],o=y.default[t];this.setState({loadingBuilds:!0,errorBuilds:""}),o&&L.isFunction(o.getBuilds)?o.getBuilds({integrationId:e,offset:I.COMPACT_VIEW_DEFAULT_OFFSET,limit:I.COMPACT_VIEW_BUILDS_LIMIT}).then((e=>{L.isEmpty(e)&&this.setState({loadingBuilds:!1,errorBuilds:"",noMoreBuilds:!0}),n=L.concat(n,e),this.setState({builds:n,loadingBuilds:!1,errorBuilds:""},(()=>{this.populateBranches(n)}))})).catch((e=>{const t={loadingBuilds:!1},n=L.get(e,"error.details.statusCode",-1);e.status>=500&&e.status<600?t.errorBuilds="Unable to load builds":401===n||403===n?(t.authenticationExpired=!0,t.errorBuilds="Unable to load builds"):pm.toasts.error("Something went wrong while fetching builds, please try again"),pm.logger.error("Error occurred while fetching builds",e),this.setState(t)})):this.setState({loadingBuilds:!1,errorBuilds:!0,integrationNotFound:!0})}handleViewMoreBuilds(){const e=this.state.integration,t=e.rule,n=(0,r.resolveStoreInstance)(M.default).activeEditor;_.default.addEventV2({category:"ci-integration",action:"click-all-builds",label:t,value:1}),v.default.transitionTo(N.V10_API_CI_INTEGRATION_BUILDS_NAV_IDENTIFIER,{apiId:e.variables.api_id,integrationId:e.id},null,{tabOptions:{openIn:n}})}populateBranches(e){const{branchOptions:t}=this.state;let n=[...t],o=[];L.forEach(e,(e=>{let t=0;L.forEach(n,(n=>{n==e.branch&&(t=1)})),0===t&&(n.push(e.branch),o.push(e.branch))})),this.setState({branchOptions:[...n]},(()=>this.setState({triggerBranches:L.map(this.state.branchOptions,(e=>({label:e,value:e})))}))),this.populateFilteredBranches(o)}populateFilteredBranches(e){const t=[...this.state.filteredBranches];L.forEach(e,(e=>{t.push({name:e,selected:!1})})),this.setState({filteredBranches:t})}render(){const{builds:e,integration:t,errorBuilds:n,triggerBranches:o,project:s,integrationNotFound:a,loadingBuilds:l,authenticationExpired:y}=this.state,v=L.get(t,"rule"),O=L.get(I.RULE_TO_SERVICE,v),N=L.get(t,"id"),R=L.get(this.props,"model.apiId"),M=L.get(this.props,"model.id"),k=L.get(t,"service"),F=L.get(I.RULE_TO_OAUTH_SERVICE_MAPPING,v),V=i.createElement(i.Fragment,null,i.createElement(c.default,{gap:"spacing-xs",alignItems:"center",padding:{paddingLeft:"spacing-xl"},grow:0,justifyContent:"flex-start",shrink:1,wrap:"wrap"},i.createElement(C.TriggerBuild,{rule:v,integrationId:N,branches:o,refreshBuilds:()=>{this.fetchBuilds(N,v)}}),i.createElement(d.default,{type:"tertiary",text:"Run on Local Environment",icon:i.createElement(g.default,null),onClick:()=>{const e=(0,r.resolveStoreInstance)(h.default).find(R);_.default.addEventV2({action:"open-run-local-environment",entityId:R,entityType:"api",rule:"local",integrationId:N,userId:this.currentUserInfo.id,teamId:this.currentUserInfo.teamId,category:"postman-cli-api-builder"}),(0,P.openConfigurePostmanCLIInTab)({isMigrated:null==e?void 0:e.isMigrated,apiId:R,versionId:M,queryParams:{rule:"local"}})}}),i.createElement(d.default,{type:"tertiary",text:"CI Configuration",icon:i.createElement(f.default,null),onClick:()=>{const{model:e}=this.props,t=(0,r.resolveStoreInstance)(h.default).find(R);_.default.addEventV2({action:"open-ci-environment-config",entityId:R,entityType:"api",rule:v,integrationId:N,userId:this.currentUserInfo.id,teamId:this.currentUserInfo.teamId,category:"postman-cli-api-builder"}),(0,P.openConfigurePostmanCLIInTab)({isMigrated:null==t?void 0:t.isMigrated,apiId:R,versionId:M,queryParams:{rule:v,integration:N,service:k}})}}),i.createElement(C.RefreshBuildsButton,{onClick:()=>{this.fetchBuilds(N,v)}}),i.createElement(C.IntegrationEditDeleteMenu,{rule:v,integrationId:N,onIntegrationDelete:()=>{this.store.initializeApiIntegrationsStore({apiId:R,apiVersionId:M,category:I.CI_CD_BUILDS})},menuButtonSize:"medium",integrationService:k,apiId:R,apiVersionId:M})));let B=null;if(a)return i.createElement(S.default,{apiId:R,apiVersionId:M,tab:E.TEST});B=l?i.createElement(c.default,{justifyContent:"center",alignItems:"center",padding:"spacing-xl"},i.createElement(u.default,null)):n?i.createElement("div",null,y&&F?this.getReAuthenticationBanner(F,(0,A.getTokenIdFromIntegration)(t)):null,i.createElement("div",{className:"ci-cd-builds-table"},i.createElement("div",{className:"error-compact-builds"},i.createElement(b.default,null)," ","Couldn't load the recent build runs from ",O,". Try refreshing the page or check back in some time."))):i.createElement("div",{className:"ci-cd-builds-page-container"},i.createElement(x,null,i.createElement(j.default,{data:e,integration:t,apiId:R,apiVersionId:M,showConfigureNewmanButtonOnEmptyState:!L.size(e)})),L.size(e)>0&&i.createElement("div",{className:"ci-cd-view-all-builds"},i.createElement(D.default,{onClick:this.handleViewMoreBuilds},i.createElement(p.default,{type:"link-primary"},"View all builds "))));const U=i.createElement(c.default,{gap:"spacing-s",alignItems:"center"},i.createElement(m.default,{type:"h4",text:this.state.project}),i.createElement(p.default,{color:"content-color-tertiary"},""),i.createElement(c.default,{gap:"spacing-xs",alignItems:"center"},(0,w.getIconForCIIntegration)(v),i.createElement(p.default,{type:"body-medium"},O)));return i.createElement(T.default,{containerTitle:U,containerBody:B,rightSectionComponent:V})}})||o},"./integrations/ci-cd/components/ErrorStates/AuthenticationExpiredBanner.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./js/services/NavigationService.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("./integrations/constants/integrationsConstants.ts"),l=n("./node_modules/prop-types/index.js"),c=n.n(l),d=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./node_modules/lodash/lodash.js");const p=d.default.div`
    display: inline;
  `,m=e=>{const{serviceId:t,tokenId:n,reauthQueryParamData:l}=e,c=u.get(r.SERVICE_OAUTH_CONFIG,u.upperCase(t)),d=u.get(c,"userFriendlyServiceName");return o.createElement(i.default,{status:"error"},"Authentication for ",d," is expired, please"," ",o.createElement(p,{onClick:()=>{s.default.transitionTo("build.oauthReauthenticate",{tokenId:n,serviceId:t},l)}},o.createElement(a.default,{type:"link-default"},"reauthenticate")),".")};m.propTypes={serviceId:c().string.isRequired,tokenId:c().string.isRequired,reauthQueryParamData:c().object},t.default=m},"./integrations/ci-cd/components/ExpandedBuildRow.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./node_modules/prop-types/index.js"),r=n.n(a),l=n("./node_modules/lodash/lodash.js"),c=n.n(l),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),g=n("./integrations/ci-cd/buildUtils.js"),f=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n("./integrations/ci-cd/services/index.ts"),y=n("./js/stores/StoreManager.js"),v=n("./integrations/ci-cd/stores/APIRunInfoStore.js"),I=n("./js/modules/services/AnalyticsService.js");(0,f.default)(d.default)`
  align-items: center;
`;let E=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={isBuildStepsExpanded:!1,isCollectionRunsExpanded:!1,loadingBuildSteps:!1,loadingAPIScanResults:!0,apiScanResults:null,loadingCollectionRuns:!1,errorCollectionRuns:"",buildSteps:[]},this.toggleArrowBuilds=this.toggleArrowBuilds.bind(this),this.toggleArrowCollections=this.toggleArrowCollections.bind(this),this.getExpandedRowBuildInformation=this.getExpandedRowBuildInformation.bind(this)}componentDidMount(){const{rule:e,rowData:t,integration:n}=this.props;this.getExpandedRowBuildInformation(e,t,c().get(n,"id")),this.getAPIWarningsDetails()}getExpandedRowBuildInformation(e,t,n){const o=c().get(b.default,[e,"getBuildSteps"]),{addToast:s}=this.props;this.setState({loadingBuildSteps:!0}),c().isFunction(o)?o(n,t).then((e=>{this.setState({buildSteps:e,loadingBuildSteps:!1})})).catch((e=>{this.setState({loadingBuildSteps:!1}),s({title:"Error",description:"Something went wrong while fetching build steps, please try again",status:"error"}),pm.logger.error("Error occurred while fetching build steps",e)})):this.setState({loadingBuildSteps:!1})}getAPIWarningsDetails(){const{rowData:e,integration:t}=this.props,n=(0,y.resolveStoreInstance)(v.default);this.setState({loadingAPIScanResults:!0}),n.fetchAPISchemaScanResults(c().get(t,"id"),c().get(e,"buildIdentifier"),c().get(e,"branch")).then((e=>{this.setState({apiScanResults:c().get(e,"0.apis",[]),loadingAPIScanResults:!1})})).catch((e=>{pm.logger.error("Error occurred while fetching api scan details",e),this.setState({loadingAPIScanResults:!1})}))}toggleArrowBuilds(){const{isBuildStepsExpanded:e}=this.state;e||I.default.addEventV2({category:"ci-integration",action:"expand-build-steps",label:this.props.rule,value:1}),this.setState((e=>({isBuildStepsExpanded:!e.isBuildStepsExpanded})))}toggleArrowCollections(){const{isCollectionRunsExpanded:e}=this.state;e||I.default.addEventV2({category:"ci-integration",action:"expand-collection-run",label:this.props.rule,value:1}),this.setState((e=>({isCollectionRunsExpanded:!e.isCollectionRunsExpanded})))}getEmptyStateMessage(){const{loadingAPIScanResults:e,apiScanResults:t}=this.state,{showCollectionRuns:n,collectionRunDetails:o}=this.props.rowData;return c().isEmpty(o)&&c().isEmpty(t)&&n&&!e?"No collection runs or API linting results for the build.":c().isEmpty(t)&&!e?"No API linting results for the build.":n&&c().isEmpty(o)?"No collection runs for the build.":""}render(){const{isBuildStepsExpanded:e,isCollectionRunsExpanded:t,loadingBuildSteps:n,loadingCollectionRuns:o,buildSteps:s}=this.state,{rule:a,rowData:r,apiName:l}=this.props,{showCollectionRuns:h,showBuildSteps:f}=this.props.rowData,b=this.getEmptyStateMessage();return i.createElement("div",{className:"build-expand-table-wrapper"},i.createElement("div",{className:"build-expand-table"},i.createElement(u.default,{data:r.collectionRunDetails,className:"table-without-head",columns:g.default.getCollectionRunsExpandColumns(a),rowExpanded:{subComponent:e=>i.createElement(u.default,{columns:g.default.getSpecificCollectionRunDetailsColumns(),data:e.metrics,className:"table-without-head",loader:{isLoading:o,skeletonRowCount:1}}),autoResetExpanded:!1}})),b?i.createElement(d.default,{direction:"row",padding:"spacing-l",justifyContent:"center"},i.createElement(p.default,{type:"para"},b)):null,c().isEmpty(this.state.apiScanResults)?this.state.loadingAPIScanResults?i.createElement(d.default,{className:"expanded_row",padding:"spacing-s spacing-l spacing-l spacing-xxxl",border:{borderBottom:"border-width-default"},justifyContent:"center"},i.createElement(m.default,{description:"Loading schema scan details"})):null:i.createElement("div",{className:"build-expand-table"},i.createElement(u.default,{className:"table-without-head",data:this.state.apiScanResults,columns:g.default.getSchemaColumns(l),rowExpanded:{subComponent:e=>i.createElement(u.default,{columns:g.default.getSpecificSchemaWarningDetailsColumns(),data:e.warnings,className:"table-without-head"}),autoResetExpanded:!1}})))}})||o;E.propTypes={rule:r().string.isRequired,rowData:r().object.isRequired,integration:r().object.isRequired,apiName:r().string.isRequired},t.default=(0,h.default)(E)},"./integrations/ci-cd/components/Jenkins/CompactBuilds.js":function(e,t,n){"use strict";n.r(t),n.d(t,{IntegrationMetaAndActionsJenkins:function(){return X},default:function(){return Z}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./js/stores/StoreManager.js"),l=n("./integrations/ci-cd/stores/APIIntegrationsStore.js"),c=n("./integrations/ci-cd/helpers.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),I=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),E=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),_=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-up.js"),S=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-run-stroke.js"),C=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-console-stroke.js"),T=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-setting-stroke.js"),j=n("./integrations/ci-cd/modals/DeleteIntegrationModal.js"),A=n("./integrations/ci-cd/modals/RunBuildsModal.js"),w=n("./integrations/ci-cd/components/CIEmptyTableView.js"),O=n("./integrations/ci-cd/components/CommonCIComponents.js"),N=n("./integrations/ci-cd/services/JenkinsCI.js"),D=n("./js/modules/services/AnalyticsService.js"),R=n("./js/external-navigation/ExternalNavigationService.js"),P=n("./js/services/NavigationService.js"),M=n("./api-dev/stores/APIListStore.js"),L=n("./integrations/ci-cd/stores/APIRunInfoStore.js"),x=n("./integrations/api-observability/constants.ts"),k=n("./integrations/ci-cd/constants.ts"),F=n("./integrations/ci-cd/components/Jenkins/constants.js"),V=n("./integrations/ci-cd/components/ExpandedBuildRow.js"),B=n("./integrations/navigation/constants.js"),U=n("./integrations/ci-cd/configurePostmanCLIInterfaces.js"),z=n("./integrations/ci-cd/customHooks/useAPIName.js"),H=n("./node_modules/lodash/lodash.js");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},G.apply(this,arguments)}const W=(0,a.default)(d.default)`
    margin-left: var(--spacing-xs);
  `,$=(0,a.default)(u.default)`
    margin: 0 var(--spacing-s);
  `,q=e=>{const{projectType:t}=e,n=`Couldn't load ${t===F.PROJECT_TYPES.MULTI_BRANCH_PIPELINE?"branches":"recent runs"} from Jenkins. Try refreshing the page or check back in some time`;return i.createElement("div",{className:"ci-cd-builds-table"},i.createElement("div",{className:"error-compact-builds"},i.createElement(I.default,{name:"icon-state-warning-stroke"}),"",n))},Y=()=>i.createElement(p.default,{padding:"spacing-xxl",justifyContent:"center",alignItems:"center"},i.createElement(m.default,null)),K=e=>{const[t,n]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),{integration:a,triggeringBuild:d,triggerBuild:m,model:v,isTableCollapsed:I,toggleTable:w,projectBranches:N,refreshMultiBranchProjectBranches:R,getBranchSpecificBuild:L}=e,V=H.get(v,`apiPermissionStore.permissions.${v.apiId}:UPDATE_API_META.allowed`),z=H.get(a,"variables.project_type"),G=I?"Show":"Hide",q=I?i.createElement(E.default,null):i.createElement(_.default,null),Y=H.map(N,(e=>({label:e.name,value:e.name}))),K=H.get(a,"rule"),J=H.get(a,"id"),Z=H.get(a,"service"),X=H.get(k.RULE_TO_SERVICE,K),Q=H.get(v,"apiId"),ee=H.get(v,"id");return i.createElement("div",{className:"ci-cd-configured-test-header"},i.createElement(h.default,{onClick:w,tooltip:G,icon:q,className:"drop-icon"}),i.createElement(W,{type:"h4",text:(0,c.getProjectName)(e.integration)}),i.createElement($,{color:"content-color-tertiary"},""),i.createElement(p.default,{gap:"spacing-xs",alignItems:"center"},(0,c.getIconForCIIntegration)(K),i.createElement(u.default,{type:"body-medium"},X)),i.createElement(p.default,{gap:"spacing-xs",alignItems:"center",padding:{paddingLeft:"spacing-xl"},grow:1,justifyContent:"flex-end"},i.createElement(h.default,{onClick:()=>{D.default.addEventV2({category:"ci-integration",action:"run-build-initiated",label:a.rule,value:1}),z===F.PROJECT_TYPES.MULTI_BRANCH_PIPELINE?s(!0):m()},className:"run-build-btn",icon:i.createElement(S.default,null),isLoading:d,text:"Run Build",type:"tertiary",size:"medium"}),i.createElement(h.default,{type:"tertiary",text:"Run on Local Environment",icon:i.createElement(C.default,null),onClick:()=>{const e=(0,r.resolveStoreInstance)(M.default).find(Q);(0,U.openConfigurePostmanCLIInTab)({isMigrated:null==e?void 0:e.isMigrated,apiId:Q,versionId:ee,queryParams:{rule:"local"}})}}),i.createElement(h.default,{type:"tertiary",text:"CI Configuration",icon:i.createElement(T.default,null),onClick:()=>{const e=(0,r.resolveStoreInstance)(M.default).find(Q);(0,U.openConfigurePostmanCLIInTab)({isMigrated:null==e?void 0:e.isMigrated,apiId:Q,versionId:ee,queryParams:{rule:K,integration:J,service:Z}})}}),i.createElement(O.RefreshBuildsButton,{onClick:()=>{L()}})),i.createElement("div",{className:"integration-more-options"},i.createElement("div",{className:"integration-options"},i.createElement(g.default,null,i.createElement(f.default,null,i.createElement(h.default,{icon:"icon-action-options-stroke",type:"tertiary",size:"small"})),i.createElement(b.default,null,i.createElement(y.default,{onClick:()=>{P.default.transitionTo(B.V10_API_EDIT_CI_INTEGRATION_NAV_IDENTIFIER,{apiId:a.variables.api_id,integrationId:a.id},{version:a.executor})},isDisabled:!V,tooltip:!V&&x.PERMISSION_ERROR},"Edit Integration"),i.createElement(y.default,{type:"destructive",onClick:()=>n(!0),isDisabled:!V,tooltip:!V&&x.PERMISSION_ERROR},"Delete Integration"))))),i.createElement(j.default,{isOpen:t,handleCloseModal:()=>n(!1),integrationId:a.id,ruleId:a.rule,apiVersionId:a.executor,handleBack:()=>{n(!1),(0,r.resolveStoreInstance)(l.default).initializeApiIntegrationsStore({apiId:H.get(a,"variables.api_id"),apiVersionId:a.executor,category:k.CI_CD_BUILDS})}}),i.createElement("div",{className:"ci-cd-run-builds-modal"},i.createElement(A.default,{isOpen:o,handleCloseModal:()=>s(!1),integrationId:a.id,rule:a.rule,branches:Y,refreshBuilds:R,project:H.get(a,"variables.project")})))},J=e=>{const{integration:t,project:n,projectBranches:o,builds:s,showBranches:a,projectType:r,onViewMoreBuilds:l}=e,c=r===F.PROJECT_TYPES.MULTI_BRANCH_PIPELINE,d=(0,z.default)(H.get(t,"variables.api_id")),u=e=>i.createElement(V.default,{rule:F.RULE,rowData:e,integration:t,apiName:d});let p=s,m="runs",h=0===s.length,g=a?F.BUILDS_TABLE_COLUMNS:F.BUILDS_TABLE_COLUMNS_WITHOUT_BRANCH,f={};return h&&(g=H.reject(g,{accessor:"url"})),c?(p=o,m="branches",h=0===o.length,g=(0,F.getMultiBranchProjectTableColumns)({integration:t})):f.rowExpanded=u,i.createElement("div",null,i.createElement("div",{className:"ci-cd-builds-table"},i.createElement("div",{className:"ci-cd-builds-table-success"},i.createElement(v.default,G({data:p,columns:g,sorting:!0,blankState:{isEmpty:h,component:i.createElement(w.default,{entityName:m,integrationData:t,showConfigureNewmanButton:!0,apiId:H.get(t,"variables.api_id"),apiVersionId:H.get(t,"executor")})}},f)))),!h&&!c&&i.createElement("div",{className:"view-more-button",onClick:l},"View Builds"))};let Z=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={projectBranches:[],builds:[],showBranches:!1,errorFetchingData:!1,isTableCollapsed:!1,integration:H.get(e,"configuredIntegrations.0"),projectType:H.get(e,"configuredIntegrations.0.variables.project_type"),triggeringBuild:!1},this.getMultiBranchProjectBranches=this.getMultiBranchProjectBranches.bind(this),this.getBuilds=this.getBuilds.bind(this),this.triggerBuild=this.triggerBuild.bind(this),this.handleOpenExternalBuilds=this.handleOpenExternalBuilds.bind(this),this.handleViewMoreBuilds=this.handleViewMoreBuilds.bind(this),this.getBranchSpecificBuild=this.getBranchSpecificBuild.bind(this)}componentDidMount(){this.getBranchSpecificBuild()}getBranchSpecificBuild(){const{projectType:e}=this.state;e===F.PROJECT_TYPES.MULTI_BRANCH_PIPELINE?this.getMultiBranchProjectBranches():this.getBuilds()}getMultiBranchProjectBranches(){this.setState({loadingData:!0}),N.default.getProjectInfoByIntegrationId(this.state.integration.id).then((e=>{const t=H.map(e.jobs,(e=>({name:e.displayName,status:H.get(e,"lastBuild.result"),lastSuccess:H.get(e,"lastSuccessfulBuild.timestamp"),lastFailure:H.get(e,"lastFailedBuild.timestamp"),lastDuration:H.get(e,"lastBuild.duration"),lastTimestamp:H.get(e,"lastBuild.timestamp")})));this.setState({projectBranches:t,loadingData:!1})})).catch((e=>{this.setState({errorFetchingData:!0,loadingData:!1}),pm.toasts.error("Something went wrong while fetching branches for your Jenkins project"),pm.logger.error("CompactBuilds~getProjectBranches: Error occurred in fetching multi-branch project branches",e)}))}getBuilds(){this.setState({loadingData:!0}),N.default.getBuilds({integrationId:this.state.integration.id,offset:0,limit:5}).then((e=>{let t=!H.isEmpty(H.find(e,(e=>!H.isEmpty(e.branch))));this.setState({builds:e,showBranches:t,loadingData:!1})})).catch((e=>{this.setState({errorFetchingData:!0,loadingData:!1}),pm.toasts.error("Something went wrong while fetching builds for your project"),pm.logger.error("CompactBuilds~getBuilds: Error occurred in fetching builds",e)}))}triggerBuild(){const{integration:e}=this.state;this.setState({triggeringBuild:!0}),N.default.triggerBuild(e.id).then((t=>{this.setState({triggeringBuild:!1}),pm.toasts.success("New build triggered successfully! If you don't see the run try refreshing the page"),D.default.addEventV2({category:"ci-integration",action:"run-build-complete",label:e.rule,value:1}),this.getBuilds()})).catch((e=>{this.setState({triggeringBuild:!1}),pm.toasts.error("Something went wrong while triggering build, please try again"),pm.logger.error("Error occurred while fetching builds",e)}))}handleOpenExternalBuilds(e){const t=this.state.integration.rule;(0,R.openExternalLink)(e,"_blank"),D.default.addEventV2({category:"ci-integration",action:"click-build-details",label:t,value:1})}handleViewBranchDetails(e){const t=this.state.integration,n=t.rule;D.default.addEventV2({category:"ci-integration",action:"click-all-builds",label:n,value:1}),P.default.transitionTo(B.V10_API_CI_INTEGRATION_BUILDS_NAV_IDENTIFIER,{apiId:t.variables.api_id,integrationId:t.id},{},{additionalContext:e})}handleViewMoreBuilds(){const e=this.state.integration,t=e.rule;D.default.addEventV2({category:"ci-integration",action:"click-all-builds",label:t,value:1}),P.default.transitionTo(B.V10_API_CI_INTEGRATION_BUILDS_NAV_IDENTIFIER,{apiId:e.variables.api_id,integrationId:e.id})}componentWillUnmount(){(0,r.resolveStoreInstance)(L.default).cleanUp(H.get(this.state,"integration.id"))}render(){const{errorFetchingData:e,loadingData:t,triggeringBuild:n,isTableCollapsed:o,projectType:s,integration:a,builds:r,showBranches:l,projectBranches:c}=this.state;return i.createElement("div",null,i.createElement("div",{className:"ci-cd-builds-page-container"},t?i.createElement(Y,null):i.createElement(K,{integration:a,projectBranches:c,triggerBuild:this.triggerBuild,triggeringBuild:n,getBranchSpecificBuild:this.getBranchSpecificBuild,refreshMultiBranchProjectBranches:this.getMultiBranchProjectBranches,model:this.props.model,isTableCollapsed:o,toggleTable:()=>{this.setState((e=>({isTableCollapsed:!e.isTableCollapsed})))}}),!t&&e?i.createElement(q,{projectType:s}):!t&&!o&&i.createElement(J,{integration:a,project:H.get(a,"variables.project"),projectBranches:c,builds:r,showBranches:l,projectType:s,onViewMoreBuilds:this.handleViewMoreBuilds})))}})||o;const X=K},"./integrations/ci-cd/components/Jenkins/constants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{BUILDS_STATUS:function(){return v},BUILDS_TABLE_COLUMNS:function(){return E},BUILDS_TABLE_COLUMNS_WITHOUT_BRANCH:function(){return _},ON_DEMAND_TRIGGER_ACTIONS:function(){return j},PROJECT_TYPES:function(){return y},RULE:function(){return b},SERVICE_ACTIONS:function(){return C},SERVICE_ACTION_PAYLOAD:function(){return T},STATUS_BUILD_IN_PROGRESS:function(){return I},getMultiBranchProjectTableColumns:function(){return S}});var o=n("../../node_modules/react/index.js"),s=n("./appsdk/components/link/Link.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-console-stroke.js"),r=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./integrations/ci-cd/components/CIStatusBadge.js"),c=n("./integrations/ci-cd/timeUtils.js"),d=n("./js/modules/services/AnalyticsService.js"),u=n("./js/services/NavigationService.js"),p=n("./integrations/navigation/constants.js"),m=n("./integrations/ci-cd/helpers.js"),h=n("./node_modules/lodash/lodash.js");const g=r.default.div`
    display: flex;
    align-items: center;
  `,f=r.default.div`
    display: flex;
    align-items: center;
    margin-right: var(--spacing-s);
  `,b="jenkins_ci",y={FREESTYLE:"FreeStyleProject",WORKFLOW:"WorkflowJob",MULTI_BRANCH_PIPELINE:"WorkflowMultiBranchProject"},v=["SUCCESS","FAILURE","BUILDING","UNSTABLE","NOT BUILT","ABORTED"],I="BUILDING",E=[{Header:"Name",accessor:e=>({buildName:h.get(e,"name"),buildUrl:h.get(e,"url"),rowData:e}),Cell:({value:e})=>{const{buildName:t,buildUrl:n,rowData:r}=e;return o.createElement("div",{id:(0,m.getRowIdForBuildsTable)(r)},o.createElement(g,null,o.createElement(f,null,o.createElement(a.default,{color:"content-color-primary"})),o.createElement(s.default,{to:n,target:"_blank"},o.createElement(i.default,{type:"link-default",isExternal:!0,isTruncated:!0},t))))}},{Header:"Branch",accessor:"branch",Cell:e=>o.createElement(i.default,{isTruncated:!0},e.value)},{Header:"Timestamp",accessor:"timestamp",Cell:e=>`${c.default.timeSince(e.value)}`},{Header:"Duration",accessor:"duration",cellWidth:"100px",Cell:e=>`${c.default.getFormattedDuration(e.value)}`},{Header:"Status",accessor:"status",cellWidth:"200px",Cell:e=>o.createElement(l.default,{status:h.get(e,"value")}),align:"center"}],_=h.reject(E,{Header:"Branch"}),S=e=>[{Header:"",accessor:"empty",Cell:e=>o.createElement(o.Fragment,null),disableSortBy:!0,cellWidth:"32px"},{Header:"Branch",accessor:"name",Cell:t=>o.createElement(s.default,{onClick:()=>{const n=e.integration,o=n.rule;d.default.addEventV2({category:"ci-integration",action:"click-all-builds",label:o,value:1}),u.default.transitionTo(p.V10_API_CI_INTEGRATION_BUILDS_NAV_IDENTIFIER,{apiId:n.variables.api_id,integrationId:n.id},{},{additionalContext:{branch:t.value}})}},o.createElement(i.default,{type:"link-default",isExternal:!0,isTruncated:!0},t.value))},{Header:"Status",accessor:"status",Cell:e=>o.createElement(l.default,{status:h.get(e,"value")}),align:"center"},{Header:"Last runtime",accessor:"lastTimestamp",Cell:e=>`${c.default.timeSince(e.value)}`},{Header:"Last success",accessor:"lastSuccess",Cell:e=>`${c.default.timeSince(e.value)}`},{Header:"Last failure",accessor:"lastFailure",Cell:e=>`${c.default.timeSince(e.value)}`},{Header:"Last duration",accessor:"lastDuration",Cell:e=>`${c.default.getFormattedDuration(e.value)}`}],C={VALIDATE_USER:"validateUser",GET_PROJECTS:"getProjects",GET_PROJECT:"getProject",GET_NEWMAN_CONFIG:"getNewmanConfig"},T={type:"handleActions"},j={GET_PROJECTS:"get_projects",GET_PROJECT:"get_project",GET_BUILDS:"get_builds",TRIGGER_BUILD:"trigger_build"}},"./integrations/ci-cd/configurePostmanCLIInterfaces.js":function(e,t,n){"use strict";n.r(t),n.d(t,{openConfigurePostmanCLIInTab:function(){return r}});var o=n("./api-dev/interfaces/APIInterface.js"),s=n("./js/services/NavigationService.js"),i=n("./integrations/navigation/constants.js"),a=n("./node_modules/lodash/lodash.js");function r({isMigrated:e,apiId:t,versionId:n,queryParams:r}){e?s.default.transitionTo(i.OPEN_CONFIGURE_POSTMAN_CLI_IN_API_CONTEXT,{apiId:t},null!=r?r:{}):(0,o.migrateAPI)(t,n).catch(a.noop)}},"./integrations/ci-cd/containers/ApiIntegrationViewContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/lodash/lodash.js"),a=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/stores/StoreManager.js"),c=n("./integrations/ci-cd/stores/APIIntegrationsStore.js"),d=n("./js/stores/IntegrationsStore.js"),u=(n("./js/components/base/LoadingIndicator.js"),n("./integrations/ci-cd/containers/ServiceDetailsViewContainer.js")),p=n("./integrations/ci-cd/containers/CompactBuildsContainer.js"),m=n("./integrations/ci-cd/constants.ts"),h=n("./integrations/utils/CommonHelperMethods.ts"),g=n("../../node_modules/mobx/lib/mobx.module.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js");let y=(0,r.observer)(o=class extends s.Component{constructor(e){super(e),this.apiIntegrationsStore=(0,l.resolveStoreInstance)(c.default),this.integrationsStore=(0,l.resolveStoreInstance)(d.default),this.state={apiId:a().get(this.props.model,"apiEditorUIStore.apiId"),apiVersionId:a().get(this.props.model,"id"),updatingApiVersion:!1,errorObject:{status:500}},this.initializeApiIntegrationsStore=this.initializeApiIntegrationsStore.bind(this)}componentDidMount(){pm.windowEvents.addListener(`${m.CI_CD_BUILDS}-integration-added`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${m.CI_CD_BUILDS}-integration-edited`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${m.CI_CD_BUILDS}-integration-deleted`,this.onIntegrationEventCaptured.bind(this)),this.initializeApiIntegrationsStore()}initializeApiIntegrationsStore(){const e=a().get(this.props.model,"apiId");this.apiIntegrationsStore.initializeApiIntegrationsStoreV2({apiId:e,apiVersionId:a().get(this.props.model,"id"),category:m.CI_CD_BUILDS}),this.apiIntegrationsStore.fetchAuthenticationInstances(e)}onIntegrationEventCaptured(e){let{apiId:t,apiVersionId:n}=this.state;e.apiId===t&&e.apiVersionId===n&&this.initializeApiIntegrationsStore()}render(){const{apiVersionId:e,updatingApiVersion:t}=this.state,n=this.integrationsStore.loadingIntegrationClasses,o=this.integrationsStore.getIntegrationClasses(),i=(0,h.filterIntegrationClassesByClientCategory)(o,m.CI_CD_CLIENT_CATEGORY);return a().get(this.props.model,"id")!==e&&this.setState({apiVersionId:a().get(this.props.model,"id"),updatingApiVersion:!0},(()=>{a().isEmpty((0,g.toJS)(this.apiIntegrationsStore.configuredIntegrations[a().get(this.props.model,"id")]))&&this.apiIntegrationsStore.updateSelectedAPIVersion(a().get(this.props.model,"id")),this.setState({updatingApiVersion:!1})})),n||this.apiIntegrationsStore.loadingConfiguredIntegrations[a().get(this.props.model,"id")]||t?s.createElement(f.default,{padding:"spacing-xxl",justifyContent:"center",alignItems:"center"},s.createElement(b.default,null)):((this.integrationsStore.errorFetchingAvailableIntegrations||this.apiIntegrationsStore.errorConfiguredIntegrations[a().get(this.props.model,"id")])&&(this.apiIntegrationsStore.errorFetchingAvailableIntegrations?pm.logger.error("Error occurred while fetching available integrations",this.apiIntegrationsStore.errorAvailableIntegrations):pm.logger.error("Error occurred while fetching configured integration",this.apiIntegrationsStore.errorConfiguredIntegrations)),a().isEmpty((0,g.toJS)(this.apiIntegrationsStore.configuredIntegrations[a().get(this.props.model,"id")]))?this.apiIntegrationsStore.loadingAuthenticationInstances?s.createElement(f.default,{padding:"spacing-xxl",justifyContent:"center",alignItems:"center"},s.createElement(b.default,null)):s.createElement(u.default,{integrationClasses:i,model:this.props.model,promoteTab:this.props.promoteTab}):s.createElement(p.default,{model:this.props.model,configuredIntegrations:(0,g.toJS)(this.apiIntegrationsStore.configuredIntegrations[a().get(this.props.model,"id")])}))}})||o},"./integrations/ci-cd/containers/CompactBuildsContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./integrations/ci-cd/components/CompactBuilds.js"),r=n("./integrations/ci-cd/components/Jenkins/CompactBuilds.js"),l=n("./integrations/ci-cd/components/Jenkins/constants.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("./node_modules/lodash/lodash.js");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}const m={[l.RULE]:r.default};let h=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}render(){const e=this.props.configuredIntegrations[0],t=m[e.rule]||a.default,n=u.get(this.props,"model.apiRepositoryStore.branch");return s.createElement(t,p({selectedBranch:n},this.props))}})||o;h.propTypes={model:d().object,configuredIntegrations:d().array}},"./integrations/ci-cd/containers/ServiceDetailsViewContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s,i=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./js/stores/StoreManager.js"),l=n("./integrations/ci-cd/stores/APIIntegrationsStore.js"),c=n("./api-dev/stores/APIListStore.js"),d=(n("./js/services/NavigationService.js"),n("./integrations/services/OneClickIntegrationCreateService.js")),u=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("./integrations/ci-cd/components/AvailableCIServices.js"),f=n("./integrations/components/api-builder/CompactViewContainer.js"),b=n("./integrations/utils/CommonHelperMethods.ts"),y=(n("./integrations/navigation/constants.js"),n("./api-dev/interfaces/APIInterface.js"),n("./integrations/ci-cd/configurePostmanCLIInterfaces.js")),v=n("./node_modules/lodash/lodash.js");function I(e){return i.createElement(i.Fragment,null,i.createElement(u.default,{direction:"column",padding:{paddingLeft:"spacing-xs"}},i.createElement(p.default,{type:"para",hasBottomSpacing:!0},"Connect your CI tools to view your builds"),i.createElement(g.default,{integrationClasses:e.integrationClasses,model:e.model,promoteTab:e.promoteTab,addIntegrationRouteParams:e.addIntegrationRouteParams,addIntegrationQueryParams:e.addIntegrationQueryParams})))}let E=(0,a.observer)(o=class extends i.Component{constructor(e){super(e)}render(){const{authenticationInstance:e,integrationClasses:t,model:n,promoteTab:o,addIntegrationRouteParams:s,addIntegrationQueryParams:a}=this.props,r=e.service,{oneClickSupportedIntegrations:l,nonOneClickIntegrations:c}=function(e,t){return v.reduce(e,((e,n)=>{const o=n.id;return v.includes(d.default.SUPPORTED_CLASSES,o)&&v.some(n.services,["id",t])?e.oneClickSupportedIntegrations.push(n):e.nonOneClickIntegrations.push(n),e}),{oneClickSupportedIntegrations:[],nonOneClickIntegrations:[]})}(t,r),m=v.find(v.get(l,"0.services"),["id",r]);return d.default.isOneClickCreationEnabled()&&!v.isEmpty(l)&&v.get(n,"apiRepositoryStore.apiVersionRepositoryInterface.remoteGitConfigured",!0)?i.createElement(i.Fragment,null,i.createElement(u.default,{direction:"column",padding:"spacing-xs",gap:"spacing-m"},i.createElement(p.default,{type:"para",lineLengthType:"none"},"You are authenticated with ",m.name,". Complete setup of ",l[0].name," to view builds from within Postman."),i.createElement(g.default,{integrationClasses:l,model:n,promoteTab:o,addIntegrationRouteParams:s,addIntegrationQueryParams:a,oneClickFlow:!0})),c.length&&i.createElement(i.Fragment,null,i.createElement(u.default,{direction:"column",padding:"spacing-xs",gap:"spacing-m"},i.createElement(p.default,{type:"para"},"Other CI providers:"),i.createElement(g.default,{integrationClasses:c,model:n,promoteTab:o,addIntegrationRouteParams:s,addIntegrationQueryParams:a})))):i.createElement(I,{integrationClasses:t,model:n,promoteTab:o,addIntegrationRouteParams:s,addIntegrationQueryParams:a})}})||o,_=(0,a.observer)(s=class extends i.Component{constructor(e){super(e),this.state={sanitizedRouteParams:{},sanitizedQueryParams:{}},this.store=(0,r.resolveStoreInstance)(l.default)}setBaseRouteAndQueryParamsForAddIntegration(){const{model:e}=this.props,t=v.get(e,"apiId"),n={apiId:t,versionId:v.get(e,"id")};(0,b.getSanitizedRouteAndQueryParamsForV10APIUrls)(n,{},t).then((([e,t])=>{this.setState({sanitizedRouteParams:e,sanitizedQueryParams:t})}))}render(){const e=v.get(this.store.authenticationInstances,"0"),t=v.isEmpty(e)?I:E,{sanitizedRouteParams:n,sanitizedQueryParams:o}=this.state;return i.createElement("div",{className:"service-details-view-container-wrapper"},i.createElement(f.default,{containerTitle:i.createElement(i.Fragment,null,"Automate"),containerBody:i.createElement(i.Fragment,null,i.createElement(u.default,{direction:"column",padding:"spacing-xs spacing-xl",gap:"spacing-xl"},i.createElement(u.default,{direction:"column",padding:"spacing-l spacing-l spacing-zero spacing-xs",border:{borderTop:"border-width-default"},grow:1},i.createElement(p.default,{type:"para",hasBottomSpacing:!0},"Generate a snippet to run your tests on the Postman CLI, locally or on your CI tool."),i.createElement(m.default,null,i.createElement(h.default,{type:"outline",text:"Run on Local Environment",onClick:()=>{const{model:e}=this.props,t=(0,r.resolveStoreInstance)(c.default).find(e.apiId);(0,y.openConfigurePostmanCLIInTab)({isMigrated:null==t?void 0:t.isMigrated,apiId:e.apiId,versionId:e.id,queryParams:{rule:"local"}})}}),i.createElement(h.default,{type:"outline",text:"Generate CI Configuration",onClick:()=>{const{model:e}=this.props,t=(0,r.resolveStoreInstance)(c.default).find(e.apiId);(0,y.openConfigurePostmanCLIInTab)({isMigrated:null==t?void 0:t.isMigrated,apiId:e.apiId,versionId:e.id})}}))),i.createElement(t,{integrationClasses:this.props.integrationClasses,authenticationInstance:e,model:this.props.model,promoteTab:this.props.promoteTab,addIntegrationRouteParams:n,addIntegrationQueryParams:o})))}))}})||s},"./integrations/ci-cd/customHooks/useAPIName.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("./api-dev/interfaces/APIInterface.js"),i=n("./integrations/ci-cd/constants.ts");function a(e){const[t,n]=(0,o.useState)(i.API_SCHEMA_DEFAULT_NAME);return(0,o.useEffect)((()=>{(0,s.getAPI)(e).then((({name:e})=>{n(e||i.API_SCHEMA_DEFAULT_NAME)})).catch((t=>{pm.logger.error(`BuildsTable~getAPI- Error while fetching API name for ${e} from getAPI`,t),n(i.API_SCHEMA_DEFAULT_NAME)}))}),[e]),t}},"./integrations/ci-cd/helpers.js":function(e,t,n){"use strict";n.r(t),n.d(t,{convertNewmanRunMetrics:function(){return v},getActiveBranchNameFromApiId:function(){return C},getBuildFilterStatus:function(){return f},getCollectionRunStatusSummary:function(){return y},getFilterInlineLabel:function(){return _},getFilteredBuilds:function(){return b},getIconForCIIntegration:function(){return S},getProjectName:function(){return I},getRowIdForBuildsTable:function(){return j},getSanitizedSelectedBranchName:function(){return T},getUniqueItemsFromBuilds:function(){return E}});var o=n("../../node_modules/react/index.js"),s=n("./integrations/ci-cd/constants.ts"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-bitbucket.js"),a=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-travisci.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-gitlab.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-github.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-circleci.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-jenkins.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-devops.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-api-stroke.js"),m=n("./js/stores/StoreManager.js"),h=n("./api-dev/stores/APIListStore.js"),g=n("./node_modules/lodash/lodash.js");function f(e){return g.get(s.BUILD_STATUS_TO_FILTER_STATUS_MAP,g.lowerCase(e),s.BUILD_FILTER_STATUS.DEFAULT)}function b(e,t,n){return g.filter(e,(e=>!(!g.isEmpty(t)&&!g.includes(t,e.branch))&&!(!g.isEmpty(n)&&!g.includes(n,e.filterStatus))))}function y(e){if(g.isEmpty(e))return{status:"neutral",text:"N/A"};let t=g.size(e),n=g(e).filter((e=>"critical"===g.get(e,"status.status"))).size();return 0===n?{status:"success",text:`${t}/${t} passed`}:{status:"critical",text:`${n}/${t} failed`}}function v(e){let t=g.get(e,"runOverview"),n=g.get(t,"totalDataReceivedInBytes",""),o=g.get(t,"averageResponseTimeInMiliseconds","")+" ms",s=g.get(t,"runDurationInMiliseconds","");n=n<=1024?"1 KB":g.round(n/1024)+" KB",s<1e3?s+=" ms":s=g.round(s/1e3)+" s";const i={name:g.get(t,"collectionName","Collection"),data:n,internalLink:g.get(t,"newmanRunUrl",""),responseTime:o,duration:s,metrics:[{name:"Iterations",status:{totalCount:g.get(t,"statistics.iterations.total",0),failedCount:g.get(t,"statistics.iterations.failed",0)}},{name:"Requests",status:{totalCount:g.get(t,"statistics.requests.total",0),failedCount:g.get(t,"statistics.requests.failed",0)}},{name:"Pre-request Scripts",status:{totalCount:g.get(t,"statistics.prerequestScripts.total",0),failedCount:g.get(t,"statistics.prerequestScripts.failed",0)}},{name:"Test Scripts",status:{totalCount:g.get(t,"statistics.testScripts.total",0),failedCount:g.get(t,"statistics.testScripts.failed",0)}},{name:"Assertions",status:{totalCount:g.get(t,"statistics.assertions.total",0),failedCount:g.get(t,"statistics.assertions.failed",0)}}]};return g.some(g.map(i.metrics,"status.failedCount"),(e=>0!==e))?i.status={status:"critical",text:"Failure"}:i.status={status:"success",text:"Success"},i}function I(e){switch(g.get(e,"rule")){case s.BITBUCKET_PIPELINES_CLASS_ID:case s.TRAVIS_CLASS_ID:return g.get(e,["variables","repository_name"]);case s.GITLAB_SELF_HOSTED_CLASS_ID:case s.GITLAB_CI_CLASS_ID:return g.get(e,["variables","project_name"]);case s.GITHUB_CI_CLASS_ID:return g.get(e,["variables","repository"]);case s.JENKINS_CLASS_ID:return g.get(e,["variables","project"]);case s.DEVOPS_CI_CLASS_ID:return g.get(e,["variables","repository_name"]);case s.CIRCLE_CI_CLASS_ID:const t=g.get(e,["variables","project_slug"]);return g.last(g.split(t,"/"))||""}}function E(e,t){return g(e).map((e=>{const n=g.get(e,t);return{label:n,value:n}})).uniqBy((e=>g.get(e,"value"))).value()}function _(e,t){const n=g.size(e);return 0===n?"":1===n?g.get(g.first(e),"value"):`${n} ${t}`}function S(e){switch(e){case s.BITBUCKET_PIPELINES_CLASS_ID:return o.createElement(i.default,null);case s.TRAVIS_CLASS_ID:return o.createElement(a.default,null);case s.GITLAB_SELF_HOSTED_CLASS_ID:case s.GITLAB_CI_CLASS_ID:return o.createElement(r.default,null);case s.GITHUB_CI_CLASS_ID:return o.createElement(l.default,null);case s.CIRCLE_CI_CLASS_ID:return o.createElement(c.default,null);case s.JENKINS_CLASS_ID:return o.createElement(d.default,null);case s.DEVOPS_CI_CLASS_ID:return o.createElement(u.default,null);default:return o.createElement(p.default,null)}}function C(e){const t=(0,m.resolveStoreInstance)(h.default).find(e),n=g.head(g.get(t,"childEntities.values"));return g.get(n,"apiRepositoryStore.branch")}function T(e,t){let n=t;return t&&g.forEach(e,(e=>{const o=g.split(e,"/");if(e===t)return!1;if(g.size(o)>1){if(g.join(g.slice(o,1),"/")===t)return n=e,!1}})),n}function j(e){return`${g.get(e,"branch")}-${g.get(e,"buildIdentifier")}`}},"./integrations/ci-cd/modals/DeleteIntegrationModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./js/components/base/Modals.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=(n("./js/components/base/LoadingIndicator.js"),n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts")),c=n("./js/stores/IntegrationsStore.js"),d=n("./js/stores/StoreManager.js"),u=n("./integrations/ci-cd/stores/APIIntegrationsStore.js");n("./js/stores/CurrentUserStore.js"),n("./js/modules/services/AnalyticsService.js");let p=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={isDeleting:!1},this.store=(0,d.resolveStoreInstance)(u.default),this.integrationsStore=(0,d.resolveStoreInstance)(c.default),this.handleReset=this.handleReset.bind(this)}handleReset(){this.props.handleBack()}render(){const{integrationId:e,ruleId:t,apiVersionId:n}=this.props,{isDeleting:o}=this.state;return i.createElement("div",null,i.createElement(a.Modal,{isOpen:this.props.isOpen,size:"small",onRequestClose:this.props.handleCloseModal},i.createElement(a.ModalHeader,null,"Delete Integration"),i.createElement(a.ModalContent,null,"Deleting this integration will cease any actions it performs immediately. Are you sure you wish to continue?"),i.createElement(a.ModalFooter,null,i.createElement(r.default,{text:"Delete Integration",className:"ci-cd-modal__delete-button",type:"destructive",isDisabled:o,isLoading:o,onClick:()=>{this.setState({isDeleting:!0}),l.default.deleteIntegration(e).then((e=>{var o,s;null===(o=this.props)||void 0===o||null===(s=o.onDelete)||void 0===s||s.call(o),this.setState({isDeleting:!1}),200===e.status?(pm.toasts.success("Integration is deleted successfully."),this.integrationsStore.refetchTeamIntegrations(),this.store.removeIntegrationInstances(n),this.integrationsStore.setRuleSpecificTeamIntegrations(t,null),this.handleReset()):(pm.toasts.error("Something went wrong while deleting your integration."),pm.logger.error("Something went wrong while deleting your integration",e)),this.props.handleCloseModal()})).catch((e=>{this.setState({isDeleting:!1}),pm.toasts.error(e.error.details&&e.error.details.message||e.error.message||"Something went wrong while deleting your integration"),pm.logger.error("Error occurred while deleting integration",e),this.props.handleCloseModal()}))}}),i.createElement(r.default,{text:"Cancel",className:"ci-cd-modal__cancel-button",isDisabled:o,type:"secondary",onClick:this.props.handleCloseModal}))))}})||o},"./integrations/ci-cd/modals/RunBuildsModal.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),d=n("./integrations/ci-cd/services/index.ts"),u=n("./js/modules/services/AnalyticsService.js"),p=n("./integrations/ci-cd/components/Jenkins/constants.js"),m=n("./node_modules/lodash/lodash.js");let h=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={showModal:!0,loadingBranches:!1,errorBranches:"",selectedBranch:null,owner_name:"",repo_name:""},this.triggerBuild=this.triggerBuild.bind(this),this.handleBranch=this.handleBranch.bind(this),this.getTriggerBuildFnAndPayload=this.getTriggerBuildFnAndPayload.bind(this)}handleBranch(e){this.setState({selectedBranch:e})}getTriggerBuildFnAndPayload(e,t,n){let o="triggerBuild",s={branch:{name:n}};return e===p.RULE&&(o="triggerMultiBranchProjectBuild",s={project:`${t}/job/${n}`}),{fn:o,payload:s}}triggerBuild(){this.setState({loadingTriggerBuild:!0,errorTriggerBuild:""});let{integrationId:e,rule:t,project:n,addToast:o}=this.props,{fn:s,payload:i}=this.getTriggerBuildFnAndPayload(t,n,this.state.selectedBranch.value);d.default[t][s](e,i).then((e=>{o({description:"New build triggered successfully! If you don't see the run try refreshing the page",status:"success"}),this.setState({loadingTriggerBuild:!1,errorTriggerBuild:""}),u.default.addEventV2({category:"ci-integration",action:"run-build-complete",label:t,value:1}),this.props.refreshBuilds(),this.props.handleCloseModal()})).catch((e=>{const t=m.get(e,"error.title",""),n=m.get(e,"error.message");o({title:t,description:n||"Something went wrong while triggering build, please try again",status:"error"}),pm.logger.error("Error occurred while fetching builds",e),this.setState({errorTriggerBuild:"Unable to load builds",loadingTriggerBuild:!1}),this.props.handleCloseModal()}))}render(){const{branches:e,loadingBranches:t,errorBranches:n,handleCloseModal:o}=this.props;return s.createElement("div",null,s.createElement(a.Modal,{isOpen:this.props.isOpen,size:"small",onClose:o,className:"rb-modal"},s.createElement(a.ModalHeader,{heading:"Run Build"}),s.createElement(a.ModalContent,{className:"rb-modal__content"},s.createElement("div",{className:"ci-cd-run-builds-modal__dropdown"},s.createElement(r.default,{isClearable:!0,allowCreateNewOption:!0,label:"Branch",placeholder:"Select option",options:e,error:n,isLoading:t,value:this.state.selectedBranch,onChange:this.handleBranch,helperText:"Build run will be triggered on the selected branch"}))),s.createElement(a.ModalFooter,{className:"rb-modal__footer"},s.createElement(l.default,{type:"secondary",size:"medium",onClick:o,className:"run-build-modal-button",text:"Cancel"}),s.createElement(l.default,{type:"primary",size:"medium",isDisabled:!this.state.selectedBranch,isLoading:this.state.loadingTriggerBuild,onClick:this.triggerBuild,className:"run-build-modal-button",text:"Run Build"}))))}})||o;t.default=(0,c.default)(h)},"./integrations/ci-cd/services/BitbucketCI.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),s=n("./api-dev/services/IntegrationService.js"),i=n("./integrations/ci-cd/helpers.js"),a=n("./node_modules/lodash/lodash.js");const r="list_pipelines",l="run_pipeline",c="stop_pipeline",d="list_pipeline_steps",u="newman_template";function p(e){let t="PENDING",n=a.get(e,"name");return n?t=a.get(e,"result.name"):"IN_PROGRESS"===n&&(t="PAUSED"===a.get(e,"stage.name")?"SUCCESSFUL":a.get(e,"stage.name")),t}t.default={fetchRepositories:e=>new Promise(((t,n)=>{s.default.getRepositories(e.tokenId,e.workspaceSlug).then((e=>{if(a.get(e,"repositories")){const n=a.map(e.repositories,(e=>({label:e.name,value:{workspace_uuid:e.owner.id,repo_uuid:e.id,repo_name:e.name}})));return t(n)}return n(e)})).catch((e=>n(e)))})),fetchWorkspaces:e=>new Promise(((t,n)=>{s.default.getOrgs(e).then((e=>{if(a.get(e,"orgs")){const n=a.map(e.orgs,(e=>({label:e.name,value:{workspace_uuid:e.id,workspace_name:e.name}})));return t(n)}return n(e)})).catch((e=>n(e)))})),fetchAPIRepoLinkDetails:e=>{let t={};return new Promise(((n,o)=>{s.default.getAPIRepoLinkInfo(e).then((e=>{if(e){const{repository:o,tokenId:s,tokenType:i}=e;"bitbucket"===a.get(o,"service")&&"integration_oauth"===i&&(t={project:{slug:a.get(o,"info.id"),name:a.get(o,"info.name")},workspace:{slug:a.get(o,"info.owner.id"),name:a.get(o,"info.owner.name")}}),n(t)}o()})).catch(o)}))},getBranches:e=>Promise.resolve([]),getBuilds:e=>new Promise(((t,n)=>{const s=a.assign({},{inputs:{limit:a.get(e,"limit")}});o.default.triggerIntegrationOnDemand(e.integrationId,r,s).then((e=>{if(e.status&&200===e.status){let n,o=a.get(e,"body.builds",[]),s=a.get(e,"body.showCollectionRuns",!1),r=a.get(e,"body.showBuildSteps",!1),l=a.map(o,(e=>{const t=a.get(e,"collectionRunMetrics")||a.map(a.get(e,"collectionRunData",[]),i.convertNewmanRunMetrics);let o="CREATED";return"COMPLETED"===a.get(e,"state.name")?o=a.get(e,"state.result.name"):"IN_PROGRESS"===a.get(e,"state.name")&&(o="PAUSED"===a.get(e,"state.stage.name")?"SUCCESSFUL":a.get(e,"state.stage.name")),"branch"===a.get(e,"target.ref_type")&&(n=a.get(e,"target.ref_name")),{showCollectionRuns:s,showBuildSteps:r,collectionRunSummary:(0,i.getCollectionRunStatusSummary)(t),collectionRunDetails:t,build_num:"Build "+e.build_number,start_time:e.created_on,branch:n,duration:1e3*e.duration_in_seconds,outcome:o,filterStatus:(0,i.getBuildFilterStatus)(o),pipeline_uuid:e.uuid,buildIdentifier:e.build_number,build_url:`https://bitbucket.org/${e.repository.full_name}/addon/pipelines/home#!/results/${e.build_number}`}}));return t(l)}return n(e)})).catch(n)})),triggerBuild:(e,t)=>new Promise(((n,s)=>{const i=a.assign({},{inputs:{branch:a.get(t,"branch.name")}});o.default.triggerIntegrationOnDemand(e,l,i).then((e=>e.status&&200===e.status?n(e):s(e))).catch(s)})),getNewmanConfig:e=>new Promise(((t,n)=>{o.default.triggerIntegrationOnDemand(e,u).then((e=>e.status&&200===e.status?t(a.get(e,"body")):n(e))).catch(n)})),getBuildSteps:(e,t)=>new Promise(((n,s)=>{const i=a.assign({},{inputs:{pipelineUuid:a.get(t,"pipeline_uuid")}});o.default.triggerIntegrationOnDemand(e,d,i).then((e=>{if(e.status&&200===e.status){const t=a.get(e,"body",[]),o=a.map(t,(e=>({name:a.get(e,"name"),status:p(a.get(e,"state")),duration:1e3*a.get(e,"duration_in_seconds")})));return n(o)}return s(e)})).catch(s)})),cancelBuild:(e,t)=>new Promise(((n,s)=>{const i=a.assign({},{inputs:{pipelineUuid:a.get(t,"pipeline_uuid")}});o.default.triggerIntegrationOnDemand(e,c,i).then((e=>e.status&&200===e.status?n(!0):s(!1))).catch(s)}))}},"./integrations/ci-cd/services/Circleci.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),s=n("./integrations/ci-cd/helpers.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/ServiceActionsService.ts"),a=n("./node_modules/lodash/lodash.js");const r="list_builds",l="trigger_build",c="cancel_build",d="newman_template",u=e=>{let t=a.get(e,"subject",null),n=a.get(e,"workflows.job_name",null),o=a.get(e,"workflows.workflow_name",null),s=a.get(e,"build_num"),i=t||s;return n?i+=": "+n:o&&(i+=": "+o),i};t.default={triggerBuild:(e,t)=>new Promise(((n,s)=>{const i=a.assign({},{inputs:{branchName:a.get(t,"branch.name")}});o.default.triggerIntegrationOnDemand(e,l,i).then((e=>e.status&&200===e.status?n(e):s(e))).catch(s)})),fetchProjects:(e,t,n)=>{const o=t.options,s=a.reduce(a.get(o,"inputs",[]),((t,n,o)=>(t[o]=a.get(e,n,""),t)),{});return new Promise(((e,r)=>{i.default.runServiceAction(o.service,o.serviceActionId,s,t.integrationClass,t.id,n||null).then((t=>{const n=a.get(t,"body",[]),o=a.map(n,(e=>{const t=a.get(e,"username"),n=a.get(e,"vcs_type"),o=a.get(e,"reponame");return{label:`${t}/${o}`,value:`${n}/${t}/${o}`}}));return e(o)})).catch((e=>(pm.logger.error("CircleCI.fetchProjects ~ Error occurred while fetching projects",e),r(e))))}))},getBuilds:e=>new Promise(((t,n)=>{const i={inputs:{offset:e.offset,limit:e.limit}};o.default.triggerIntegrationOnDemand(e.integrationId,r,i).then((e=>{if(e.status&&200===e.status){const n=a.get(e,"body.builds",[]).map((t=>{const n=a.get(t,"status",""),o=a.get(t,"build_num",""),i=a.get(t,"build_url",""),r=a.get(t,"branch",""),l=a.get(t,"start_time",""),c=a.map(a.get(t,"collectionRunData",[]),s.convertNewmanRunMetrics),d=a.get(t,"build_time_millis");return{showCollectionRuns:a.get(e,"body.showCollectionRuns",!1),showBuildSteps:a.get(e,"body.showBuildSteps",!1),collectionRunSummary:(0,s.getCollectionRunStatusSummary)(c),collectionRunDetails:c,build_num:u(t),branch:r,start_time:l,outcome:n,filterStatus:(0,s.getBuildFilterStatus)(n),duration:d,build_url:i,buildNumber:o,buildIdentifier:o}}));return t(n)}return n(e)})).catch((e=>n(e)))})),getNewmanConfig:e=>new Promise(((t,n)=>{o.default.triggerIntegrationOnDemand(e,d).then((e=>e.status&&200===e.status?t(a.get(e,"body")):n(e))).catch(n)})),getBranches:e=>Promise.resolve([]),cancelBuild:(e,t)=>new Promise(((n,s)=>{const i=a.assign({},{inputs:{buildNumber:a.get(t,"buildNumber")}});o.default.triggerIntegrationOnDemand(e,c,i).then((e=>e.status&&200===e.status?n(!0):s(!1))).catch(s)}))}},"./integrations/ci-cd/services/GitLabCI.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),s=n("./api-dev/services/IntegrationService.js"),i=n("./integrations/ci-cd/helpers.js"),a=n("./node_modules/lodash/lodash.js");const r="list_pipeline",l="run_pipeline",c="stop_pipeline",d="list_pipeline_jobs",u="newman_template";t.default={fetchRepositories:e=>new Promise(((t,n)=>{s.default.getRepositories(e.tokenId,e.workspaceId,e.domain).then((e=>{if(a.get(e,"repositories")){const n=a.map(a.get(e,"repositories"),(e=>({label:e.name,value:{workspaceId:a.toString(a.get(e,"owner.id")),repoId:a.toString(a.get(e,"id")),repoName:a.get(e,"name")}})));return t(n)}return n(e)})).catch((e=>n(e)))})),fetchWorkspaces:(e,t)=>new Promise(((n,o)=>{s.default.getOrgs(e,t).then((e=>{if(a.get(e,"orgs")){const t=a.map(e.orgs,(e=>({label:a.get(e,"name"),value:{workspaceId:a.toString(a.get(e,"id")),workspaceName:a.get(e,"name")}})));return n(t)}return o(e)})).catch((e=>o(e)))})),fetchAPIRepoLinkDetails:e=>new Promise(((t,n)=>{s.default.getAPIRepoLinkInfo(e).then((e=>{if(e){let{repository:n}=e,o=null;"gitlab"===a.get(n,"service")&&(o={project:{id:a.get(n,"info.id"),name:a.get(n,"info.name")},workspace:{id:a.get(n,"info.owner.id"),name:a.get(n,"info.owner.name")}}),t(o)}})).catch(n)})),getBranches:e=>Promise.resolve([]),getBuilds:e=>new Promise(((t,n)=>{const s=a.assign({},{inputs:{limit:a.get(e,"limit")}});o.default.triggerIntegrationOnDemand(e.integrationId,r,s).then((e=>{if(e.status&&200===e.status){let n=a.get(e,"body.builds",[]),o=a.get(e,"body.showCollectionRuns",!1),s=a.get(e,"body.showBuildSteps",!1),r=a.map(n,(e=>{const t=a.get(e,"status","created"),n=a.map(a.get(e,"collectionRunData",[]),i.convertNewmanRunMetrics);return{showCollectionRuns:o,showBuildSteps:s,collectionRunSummary:(0,i.getCollectionRunStatusSummary)(n),collectionRunDetails:n,build_num:"Build "+a.get(e,"iid"),start_time:a.get(e,"created_at"),branch:a.get(e,"ref"),duration:1e3*a.get(e,"duration",0),outcome:t,filterStatus:(0,i.getBuildFilterStatus)(t),pipelineId:a.get(e,"id"),build_url:a.get(e,"web_url"),buildIdentifier:a.get(e,"id")}}));return t(r)}return n(e)})).catch(n)})),triggerBuild:(e,t)=>new Promise(((n,s)=>{const i=a.assign({},{inputs:{target_branch:a.get(t,"branch.name")}});o.default.triggerIntegrationOnDemand(e,l,i).then((e=>e.status&&200===e.status?n(e):s(e))).catch(s)})),getNewmanConfig:e=>new Promise(((t,n)=>{o.default.triggerIntegrationOnDemand(e,u).then((e=>e.status&&200===e.status?t(a.get(e,"body")):n(e))).catch(n)})),getBuildSteps:(e,t)=>new Promise(((n,s)=>{const i=a.assign({},{inputs:{pipelineId:a.get(t,"pipelineId")}});o.default.triggerIntegrationOnDemand(e,d,i).then((e=>{if(e.status&&200===e.status){const t=a.get(e,"body",[]),o=a.map(t,(e=>({name:a.get(e,"name"),status:a.get(e,"status"),duration:1e3*a.get(e,"duration")})));return n(o)}return s(e)})).catch(s)})),cancelBuild:(e,t)=>new Promise(((n,s)=>{const i=a.assign({},{inputs:{pipelineId:a.get(t,"pipelineId")}});o.default.triggerIntegrationOnDemand(e,c,i).then((e=>e.status&&200===e.status?n(!0):s(!1))).catch(s)}))}},"./integrations/ci-cd/services/GithubCI.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),s=n("./api-dev/services/IntegrationService.js"),i=n("./integrations/ci-cd/helpers.js"),a=n("./node_modules/moment/moment.js"),r=n.n(a),l=n("./node_modules/lodash/lodash.js");const c="list_workflow_runs",d="get_workflow_jobs",u="cancel_workflow_run",p="newman_template",m=e=>l.get(e,"conclusion")?l.get(e,"created_at")?r()(l.get(e,"updated_at")).diff(r()(l.get(e,"created_at"))):l.get(e,"started_at")?r()(l.get(e,"completed_at")).diff(r()(l.get(e,"started_at"))):void 0:0,h=e=>"workflow_dispatch"==l.get(e,"event")?l.get(e,"name")+" #"+l.get(e,"run_number"):l.get(e,["head_commit","message"])+" - "+l.get(e,"name")+" #"+l.get(e,"run_number");t.default={fetchRepositories:e=>new Promise(((t,n)=>{const{tokenId:o,workspace:i,domain:a}=e;s.default.getRepositories(o,i,a).then((e=>{if(l.get(e,"repositories")){const n=l.map(l.get(e,"repositories"),(e=>({label:e.name,value:e.id})));return t(n)}return n(e)})).catch((e=>n(e)))})),fetchWorkspaces:(e,t)=>new Promise(((n,o)=>{s.default.getOrgs(e,t).then((e=>{if(l.get(e,"orgs")){const t=l.map(e.orgs,(e=>({label:l.get(e,"name"),value:l.get(e,"name")})));return n(t)}return o(e)})).catch((e=>o(e)))})),fetchAPIRepoLinkDetails:e=>new Promise(((t,n)=>{s.default.getAPIRepoLinkInfo(e).then((e=>{if(e){let{repository:n}=e,o=null;"github"===l.get(n,"service")&&(o={project:{id:l.get(n,"info.id"),name:l.get(n,"info.name")},workspace:{id:l.get(n,"info.owner.id"),name:l.get(n,"info.owner.name")}}),t(o)}})).catch(n)})),getBranches:e=>Promise.resolve([]),getBuilds:({limit:e,integrationId:t})=>new Promise(((n,s)=>{const a=l.assign({},{inputs:{limit:e}});o.default.triggerIntegrationOnDemand(t,c,a).then((e=>{if(e.status&&200===e.status){let t=l.get(e,"body.workflow_runs",[]),o=l.get(e,"body.showCollectionRuns",!1),s=l.get(e,"body.showBuildSteps",!1),a=l.map(t,(e=>{const t=l.get(e,"conclusion")||l.get(e,"status"),n=l.map(l.get(e,"collectionRunData",[]),i.convertNewmanRunMetrics);return{showCollectionRuns:o,showBuildSteps:s,collectionRunSummary:(0,i.getCollectionRunStatusSummary)(n),collectionRunDetails:n,build_num:h(e),start_time:l.get(e,"created_at"),branch:l.get(e,"head_branch"),duration:m(e),outcome:t,filterStatus:(0,i.getBuildFilterStatus)(t),runId:l.get(e,"id"),build_url:l.get(e,"html_url"),buildIdentifier:l.get(e,"run_number")}}));return n(a)}return s(e)})).catch(s)})),getBuildSteps:(e,{runId:t})=>new Promise(((n,s)=>{const i=l.assign({},{inputs:{runId:t}});o.default.triggerIntegrationOnDemand(e,d,i).then((e=>{if(e.status&&200===e.status){const t=l.get(e,"body.jobs",[]),o=l.map(t,(e=>({name:l.get(e,"name"),status:l.get(e,"conclusion")||l.get(e,"status"),duration:m(e)})));return n(o)}return s(e)})).catch(s)})),getNewmanConfig:e=>new Promise(((t,n)=>{o.default.triggerIntegrationOnDemand(e,p).then((e=>e.status&&200===e.status?t(l.get(e,"body")):n(e))).catch(n)})),cancelBuild:(e,{runId:t})=>new Promise(((n,s)=>{const i=l.assign({},{inputs:{runId:t}});o.default.triggerIntegrationOnDemand(e,u,i).then((e=>e.status&&200===e.status?n(!0):s(!1))).catch(s)}))}},"./integrations/ci-cd/services/JenkinsCI.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),a=n("./js/modules/services/AnalyticsService.js"),r=n("./integrations/ci-cd/components/Jenkins/constants.js"),l=n("./integrations/ci-cd/helpers.js");t.default={validateUser:e=>new Promise(((t,n)=>{const o=s().assign({},r.SERVICE_ACTION_PAYLOAD,{action:r.SERVICE_ACTIONS.VALIDATE_USER,rule:r.RULE},s().pick(e,["host_url","username","auth_token"]));i.default.fetchActionDetailsWithoutIntegration(o).then((e=>200===e.status?t():n(e))).catch(n)})),getProjects:e=>new Promise(((t,n)=>{const o=s().assign({},r.SERVICE_ACTION_PAYLOAD,{action:r.SERVICE_ACTIONS.GET_PROJECTS,rule:r.RULE},s().pick(e,["host_url","username","auth_token"]));i.default.fetchActionDetailsWithoutIntegration(o).then((e=>{if(200===e.status&&s().get(e,"body")){const n=s().map(e.body,(e=>({label:e.name,value:e.name,type:s()(e._class).split(".").last()})));return t(n)}return a.default.addEventV2({category:"ci_integrations",action:"fetch-projects",label:"fetch_projects_error",value:1}),n(e)})).catch((e=>(a.default.addEventV2({category:"ci_integrations",action:"fetch-projects",label:"fetch_projects_error",value:1}),n(e))))})),getProjectsByIntegrationId:e=>new Promise(((t,n)=>{i.default.triggerIntegrationOnDemand(e,r.ON_DEMAND_TRIGGER_ACTIONS.GET_PROJECTS).then((e=>{if(200===e.status&&s().get(e,"body")){const n=s().map(e.body,(e=>({label:e.name,value:e.name,type:s()(e._class).split(".").last()})));return t(n)}return n(e)})).catch(n)})),getProjectInfo:e=>new Promise(((t,n)=>{const o=s().assign({},r.SERVICE_ACTION_PAYLOAD,{action:r.SERVICE_ACTIONS.GET_PROJECT,rule:r.RULE},s().pick(e,["host_url","username","auth_token","project"]));i.default.fetchActionDetailsWithoutIntegration(o).then((e=>200===e.status&&s().get(e,"body")?t(s().get(e,"body")):(a.default.addEventV2({category:"ci_integrations",action:"fetch-projects",label:"fetch_projects_error",value:1}),n(e)))).catch((e=>(a.default.addEventV2({category:"ci_integrations",action:"fetch-projects",label:"fetch_projects_error",value:1}),n(e))))})),getProjectInfoByIntegrationId:e=>new Promise(((t,n)=>{i.default.triggerIntegrationOnDemand(e,r.ON_DEMAND_TRIGGER_ACTIONS.GET_PROJECT).then((e=>e.status&&200===e.status?t(s().get(e,"body")):n(e))).catch(n)})),getBuilds:e=>new Promise(((t,n)=>{i.default.triggerIntegrationOnDemand(e.integrationId,r.ON_DEMAND_TRIGGER_ACTIONS.GET_BUILDS,{inputs:s().pick(e,["offset","limit"])}).then((e=>{const o=s().get(e,"body.showCollectionRuns",!1),i=s().get(e,"body.showBuildSteps",!1);if(200===e.status&&s().get(e,"body")){const n=s().map(s().get(e,"body.builds",[]),(e=>{const t=e.result||(e.building?r.STATUS_BUILD_IN_PROGRESS:""),n=s().get(e,"collectionRunMetrics")||s().map(s().get(e,"collectionRunData",[]),l.convertNewmanRunMetrics);return s().assign({},{name:"Build "+e.id,status:t,filterStatus:(0,l.getBuildFilterStatus)(t),url:e.url+"console",collectionRunSummary:(0,l.getCollectionRunStatusSummary)(n),collectionRunDetails:n,showCollectionRuns:o,showBuildSteps:i,buildIdentifier:e.number},s().pick(e,["branch","timestamp","duration"]))}));return t(n)}return n(e)})).catch(n)})),getMultiBranchProjectBuilds:(e,t)=>new Promise(((n,o)=>{i.default.triggerIntegrationOnDemand(e,r.ON_DEMAND_TRIGGER_ACTIONS.GET_BUILDS,{inputs:s().pick(t,["project","offset","limit"])}).then((e=>{const t=s().get(e,"body.showCollectionRuns",!1),i=s().get(e,"body.showBuildSteps",!1);if(200===e.status&&s().get(e,"body")){const o=s().map(s().get(e,"body.builds",[]),(e=>{const n=e.result||(e.building?r.STATUS_BUILD_IN_PROGRESS:"");return s().assign({},{name:"Build "+e.id,status:n,filterStatus:(0,l.getBuildFilterStatus)(n),url:e.url+"console",collectionRunSummary:(0,l.getCollectionRunStatusSummary)(s().get(e,"collectionRunMetrics")),collectionRunDetails:s().get(e,"collectionRunMetrics"),showCollectionRuns:t,showBuildSteps:i,buildIdentifier:e.number},s().pick(e,["branch","timestamp","duration"]))}));return n(o)}return o(e)})).catch(o)})),triggerBuild:e=>new Promise(((t,n)=>{i.default.triggerIntegrationOnDemand(e,r.ON_DEMAND_TRIGGER_ACTIONS.TRIGGER_BUILD).then((e=>e.status&&200===e.status?t(e):n(e))).catch(n)})),triggerMultiBranchProjectBuild:(e,t)=>new Promise(((n,o)=>{i.default.triggerIntegrationOnDemand(e,r.ON_DEMAND_TRIGGER_ACTIONS.TRIGGER_BUILD,{inputs:s().pick(t,["project"])}).then((e=>e.status&&200===e.status?n(e):o(e))).catch(o)})),getNewmanConfig:e=>new Promise(((t,n)=>{const o=s().assign({},r.SERVICE_ACTION_PAYLOAD,{action:r.SERVICE_ACTIONS.GET_NEWMAN_CONFIG});i.default.fetchActionDetails(e,o).then((e=>{if(e.status&&200===e.status){let n=s().get(e,"body.data",[]);return t(n)}return n(e)})).catch(n)})),getBranches:e=>Promise.resolve([])}},"./integrations/ci-cd/services/TravisCI.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),s=n("./integrations/ci-cd/helpers.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/ServiceActionsService.ts"),a=n("./node_modules/moment/moment.js"),r=n.n(a),l=n("./node_modules/lodash/lodash.js");const c="list_builds",d="list_build_jobs",u="cancel_build",p="trigger_build",m="newman_template";t.default={triggerBuild:(e,t)=>{const n={inputs:{branchName:l.get(t,"branch.name")}};return o.default.triggerIntegrationOnDemand(e,p,n).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e);throw e})).catch((e=>Promise.reject(e)))},getBuilds:e=>{const t={inputs:{offset:e.offset,limit:e.limit}};return o.default.triggerIntegrationOnDemand(e.integrationId,c,t).then((e=>{const t=l.get(e,"body.showBuildSteps",!1),n=l.get(e,"body.showCollectionRuns",!1);if(e.status&&200===e.status){const o=l.get(e,"body.builds",[]),i=l.map(o,(e=>{const o=l.get(e,"commit.message",""),i=l.map(l.get(e,"collectionRunData",[]),s.convertNewmanRunMetrics),a=l.get(e,"id",""),r=l.get(e,"branch.name",""),c=l.get(e,"started_at",""),d=l.get(e,"state",""),u=1e3*l.get(e,"duration",0),p=`https://app.travis-ci.com/${l.get(e,"repository.slug","")}/build/${l.get(e,"id")}`;return{buildId:a,collectionRunSummary:(0,s.getCollectionRunStatusSummary)(i),collectionRunDetails:i,build_num:o,branch:r,start_time:c,outcome:d,filterStatus:(0,s.getBuildFilterStatus)(d),duration:u,build_url:p,showBuildSteps:t,showCollectionRuns:n,buildIdentifier:l.get(e,"number","")}}));return Promise.resolve(i)}throw e})).catch((e=>Promise.reject(e)))},getBuildSteps:(e,t)=>new Promise(((n,s)=>{const i=l.assign({},{inputs:{buildId:l.get(t,"buildId")}});o.default.triggerIntegrationOnDemand(e,d,i).then((e=>{if(e.status&&200===e.status){const t=l.get(e,"body.jobs",[]),o=l.map(t,(e=>{const t=l.get(e,"number",""),n=l.get(e,"started_at",""),o=l.get(e,"finished_at",""),s=n&&o?r()(o)-r()(n):null,i=l.get(e,"stage.name","");return{name:i?`${i} - ${t}`:t,status:l.get(e,"state"),duration:s}}));return n(o)}return s(e)})).catch(s)})),getNewmanConfig:e=>new Promise(((t,n)=>{o.default.triggerIntegrationOnDemand(e,m).then((e=>e.status&&200===e.status?t(l.get(e,"body")):n(e))).catch(n)})),cancelBuild:(e,t)=>new Promise(((n,s)=>{const i=l.assign({},{inputs:{buildId:l.get(t,"buildId")}});o.default.triggerIntegrationOnDemand(e,u,i).then((e=>e.status&&200===e.status?n(!0):s(!1))).catch(s)})),fetchProjects:(e,t,n)=>{e.travisci_domain=e.travisci_domain||"com";const o=t.options,s=l.reduce(l.get(o,"inputs",[]),((t,n,o)=>(t[o]=l.get(e,n,""),t)),{});return new Promise(((e,a)=>{i.default.runServiceAction(o.service,o.serviceActionId,s,t.integrationClass,t.id,n||null).then((t=>{const n=l.get(t,"body.repositories",[]),s=l.map(n,(e=>({label:l.get(e,l.get(o,"labelPath","")),value:l.toString(l.get(e,l.get(o,"valuePath","")))})));return e(s)})).catch((e=>(pm.logger.error("TravisCI.fetchProjects ~ Error occurred while fetching projects",e),a(e))))}))},getBranches:e=>Promise.resolve([])}},"./integrations/ci-cd/stores/APIIntegrationsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y,v,I,E,_,S,C,T,j,A,w,O,N,D,R,P,M,L,x=n("../../node_modules/mobx/lib/mobx.module.js"),k=n("./node_modules/lodash/lodash.js"),F=n.n(k),V=n("./js/stores/StoreManager.js"),B=n("./js/stores/SyncStatusStore.js"),U=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),z=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts"),H=n("./js/stores/IntegrationsStore.js"),G=n("./integrations/ci-cd/constants.ts"),W=n("./integrations/ci-cd/services/index.ts"),$=n("./node_modules/async/dist/async.js"),q=n.n($),Y=n("./integrations/services/AuthenticationInstanceService.ts");function K(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function J(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const Z={[G.CI_CD_BUILDS]:"apiversion"},X={[G.CI_CD_BUILDS]:"continuous-integration"};let Q=(s=J((o=class{constructor(){K(this,"isHydrating",s,this),K(this,"availableIntegrations",i,this),K(this,"configuredIntegrations",a,this),K(this,"categoryIntegrations",r,this),K(this,"activeRule",l,this),K(this,"activeService",c,this),K(this,"errorAvailableIntegrations",d,this),K(this,"errorConfiguredIntegrations",u,this),K(this,"loadingAvailableIntegrations",p,this),K(this,"loadingConfiguredIntegrations",m,this),K(this,"isAuthenticationError",h,this),K(this,"selectedAPI",g,this),K(this,"selectedAPIVersion",f,this),K(this,"selectedService",b,this),K(this,"selectedRule",y,this),K(this,"category",v,this),K(this,"isAdding",I,this),K(this,"builds",E,this),K(this,"loadingBuilds",_,this),K(this,"errorBuilds",S,this),K(this,"branches",C,this),K(this,"loadingBranches",T,this),K(this,"errorBranches",j,this),K(this,"loadingBuildsPage",A,this),K(this,"errorBuildsPage",w,this),K(this,"isIntegrationSupported",O,this),K(this,"authenticationInstances",N,this),K(this,"loadingAuthenticationInstances",D,this),K(this,"errorAuthenticationInstances",R,this),K(this,"integrationInstance",P,this),K(this,"integrationClass",M,this),K(this,"loadingIntegrationInstanceAndClass",L,this),this.integrationsStore=(0,V.resolveStoreInstance)(H.default)}initializeApiIntegrationsStore(e){(0,V.resolveStoreInstance)(B.default).onSyncAvailable({timeout:8e3}).then((()=>{this.updateIsHydrating(!0);const{apiId:t,apiVersionId:n,category:o}=e;this.setSelectedAPI(t),this.setSelectedAPIVersion(n),this.setActiveCategory(o),this.fetchAvailableIntegrations(),this.fetchConfiguredIntegrations(n,Z[o],[X[o]])})).catch((()=>{this.updateLoadingAvailableIntegrations(!1)})).finally((()=>{this.updateIsHydrating(!1)}))}initializeApiIntegrationsStoreV2(e){(0,V.resolveStoreInstance)(B.default).onSyncAvailable({timeout:8e3}).then((()=>{this.updateIsHydrating(!0);const{apiId:t,apiVersionId:n,category:o}=e;this.setSelectedAPI(t),this.setSelectedAPIVersion(n),this.setActiveCategory(o),this.fetchConfiguredIntegrations(n,Z[o],[X[o]])})).catch((e=>{pm.logger.error("APIObservabilityStore~initializeApiIntegrationsStoreV2~Error while initialising APIObservabilityStore: ",e)})).finally((()=>{this.updateIsHydrating(!1)}))}setActiveCategory(e){this.category=e}setActiveService(e){this.activeService=e}setActiveRule(e){this.activeRule=e}setSelectedAPI(e){this.selectedAPI=e}setSelectedAPIVersion(e){this.selectedAPIVersion=e}setSelectedRule(e){this.selectedRule=e}setSelectedService(e){this.selectedService=e}updateLoadingAvailableIntegrations(e){this.loadingAvailableIntegrations[this.selectedAPIVersion]=e}updateLoadingConfiguredIntegrations(e){this.loadingConfiguredIntegrations[this.selectedAPIVersion]=e}updateErrorAvailableIntegrations(e){this.errorAvailableIntegrations[this.selectedAPIVersion]=e}updateErrorConfiguredIntegrations(e){this.errorConfiguredIntegrations[this.selectedAPIVersion]=e}updateAvailableIntegrations(e){this.availableIntegrations=[...e]}updateSelectedAPIVersion(e){this.selectedAPIVersion=e,this.fetchConfiguredIntegrations(this.selectedAPIVersion,Z[this.category],[X[this.category]])}getAvailableIntegrations(){return(0,x.toJS)(this.availableIntegrations)}updateConfiguredIntegrations(e){this.configuredIntegrations[this.selectedAPIVersion]=[...e]}updateCategoryIntegrations(e){this.categoryIntegrations=e}getConfiguredIntegrations(e){return(0,x.toJS)(this.configuredIntegrations[e])}getCategoryIntegrations(){return(0,x.toJS)(this.categoryIntegrations)}updateIsHydrating(e){this.isHydrating=e}updateIsAdding(e){this.isAdding=e}findIntegrationsByCategory(){const e=[],t=X[this.category];F().forEach((0,x.toJS)(this.availableIntegrations),(n=>{const o={},s=n.integrations[n.id];F().forEach(s,((e,n)=>{e.client_categories.includes(t)&&(o[n]=e)})),F().isEmpty(o)||(n.integrations[n.id]={...o},e.push(n))})),this.updateCategoryIntegrations(e)}fetchAvailableIntegrations(e){this.updateLoadingAvailableIntegrations(!0),this.updateErrorAvailableIntegrations(!1),U.default.getAvailableIntegrations().then((t=>{const n=F().get(t,"body.services",[]);if(200!==t.status||F().isEmpty(n))throw t;this.updateAvailableIntegrations(F().map(n,((e,t)=>({id:t,...e})))),this.category&&this.findIntegrationsByCategory(),this.updateLoadingAvailableIntegrations(!1),F().isFunction(e)&&e(null)})).catch((t=>{this.updateErrorAvailableIntegrations((0,x.toJS)(t)),this.updateLoadingAvailableIntegrations(!1),pm.logger.error("Error occurred while fetching the available integrations"),F().isFunction(e)&&e(t)}))}fetchConfiguredIntegrations(e,t,n,o){this.updateLoadingConfiguredIntegrations(!0),this.updateErrorConfiguredIntegrations(!1),U.default.getConfiguredIntegrationsByEntityAndClientCategory(t,e,n).then((e=>{this.updateConfiguredIntegrations(e[n[0]]),this.updateLoadingConfiguredIntegrations(!1),F().isFunction(o)&&o(null)})).catch((e=>{this.updateErrorConfiguredIntegrations(e),this.updateLoadingConfiguredIntegrations(!1),pm.logger.error("Error occurred while fetching the configured integrations"),F().isFunction(o)&&o(e)}))}updateBuildsStatus(e,t,n,o){t&&(this.builds[e]=t),this.errorBuilds=n,this.loadingBuilds=o}updateBranchesStatus(e,t,n){e&&(this.branches=e),this.errorBuilds=t,this.loadingBuilds=n}setIsAuthenticationError(e){this.isAuthenticationError=e}fetchBuilds(e,t,n){let o=W.default[t];if(!o||!F().isFunction(o.getBuilds)){let e=new Error;return e.name="integrationNotSupported",n(e)}this.updateBuildsStatus(e,[],null,!0),o.getBuilds({integrationId:e,offset:0,limit:100}).then((t=>{this.updateBuildsStatus(e,t||[],null,!1),this.setIsAuthenticationError(!1),F().isFunction(n)&&n(null)})).catch((t=>{const o=F().get(t,"error.details.statusCode",-1);401!==o&&403!==o||this.setIsAuthenticationError(!0),this.updateBuildsStatus(e,null,t,!1),F().isFunction(n)&&n(t)}))}fetchBranches(e,t,n){let o=W.default[t];if(!o||!F().isFunction(o.getBranches)){let e=new Error;return e.name="integrationNotSupported",n(e)}this.updateBranchesStatus([],null,!0),o.getBranches(e).then((e=>{this.updateBranchesStatus(e||[],null,!1),F().isFunction(n)&&n(null)})).catch((e=>{this.updateBranchesStatus(null,e,!1),F().isFunction(n)&&n(e)}))}clearBuilds(){this.builds=[],this.errorBuilds=null}clearBranches(){this.branches=[],this.errorBranches=null}updateStatusBuildsPage(e,t,n){this.loadingBuildsPage=t,this.errorBuildsPage=e,this.isIntegrationSupported=n}initialiseBuildsPage(e,t){this.updateStatusBuildsPage(null,!0),q().series([n=>{this.fetchBuilds(e,t,n)},n=>{this.fetchBranches(e,t,n)}],(e=>{"integrationNotSupported"===F().get(e,"name")?this.updateStatusBuildsPage(null,!1,!1):this.updateStatusBuildsPage(e,!1,!0)}))}setloadingAuthenticationInstances(e){this.loadingAuthenticationInstances=e}setErrorAuthenticationInstances(e){this.errorAuthenticationInstances=e}setAuthenticationInstances(e){this.authenticationInstances=e}fetchAuthenticationInstances(e){pm.logger.info("APIIntegrationsStore~Initializing fetching auth instances: ",e),this.setloadingAuthenticationInstances(!0),this.setErrorAuthenticationInstances(null),Y.default.listAuthenticationInstancesOnApi(e).then((({body:e})=>{F().isNil(e.data)?pm.logger.error("Error loading authentication instances! Received null response!",{body:e}):pm.logger.info("APIIntegrationsStore~Successfully fetched auth instances: ",e),this.setAuthenticationInstances(e.data||[]),this.setloadingAuthenticationInstances(!1)})).catch((e=>{pm.logger.error("APIIntegrationsStore~Something went wrong while fetching authentication instances: ",e),this.setloadingAuthenticationInstances(!1),this.setErrorAuthenticationInstances(e)}))}async fetchIntegrationInstance(e,t){this.setLoadingIntegrationInstancesAndClass(t,!0);try{const n=await z.default.getConfiguredIntegrationsForAnEntity(e,t,[G.CI_CD_CLIENT_CATEGORY]);let o=F().get(n,"body.data",[]),s=F().map(o,"class"),i=[];if(!F().isEmpty(s)){const e=this.integrationsStore.getIntegrationClasses(),t=s[0];i=F().find(e,(e=>e.id===t))}this.updateIntegrationClass([i],t),this.updateIntegrationInstance(o,t),this.setLoadingIntegrationInstancesAndClass(t,!1)}catch(e){pm.logger.error("APIIntegrationsStore ~ Error in fetching integration instance details",t,e),this.setLoadingIntegrationInstancesAndClass(t,!1)}}updateIntegrationInstance(e,t){this.integrationInstance[t||this.selectedAPIVersion]=e}updateIntegrationClass(e,t){this.integrationClass[t||this.selectedAPIVersion]=e}setLoadingIntegrationInstancesAndClass(e,t){this.loadingIntegrationInstanceAndClass[e||this.selectedAPIVersion]=t}getIntegrationInstance(e){return this.integrationInstance[e]}getIntegrationClass(e){return this.integrationClass[e]}resetPowerUpVariables(e){const{apiVersionId:t}=e;this.setLoadingIntegrationInstancesAndClass(t,!0),this.updateIntegrationClass([],t),this.updateIntegrationInstance([],t)}removeIntegrationInstances(e){this.integrationClass[e]=[],this.integrationInstance[e]=[]}}).prototype,"isHydrating",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=J(o.prototype,"availableIntegrations",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=J(o.prototype,"configuredIntegrations",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=J(o.prototype,"categoryIntegrations",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return n("./integrations/ci-cd/stores/fixture.json")}}),l=J(o.prototype,"activeRule",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=J(o.prototype,"activeService",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=J(o.prototype,"errorAvailableIntegrations",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=J(o.prototype,"errorConfiguredIntegrations",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=J(o.prototype,"loadingAvailableIntegrations",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=J(o.prototype,"loadingConfiguredIntegrations",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=J(o.prototype,"isAuthenticationError",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=J(o.prototype,"selectedAPI",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=J(o.prototype,"selectedAPIVersion",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=J(o.prototype,"selectedService",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=J(o.prototype,"selectedRule",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=J(o.prototype,"category",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=J(o.prototype,"isAdding",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=J(o.prototype,"builds",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_=J(o.prototype,"loadingBuilds",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=J(o.prototype,"errorBuilds",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=J(o.prototype,"branches",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=J(o.prototype,"loadingBranches",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=J(o.prototype,"errorBranches",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=J(o.prototype,"loadingBuildsPage",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=J(o.prototype,"errorBuildsPage",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=J(o.prototype,"isIntegrationSupported",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=J(o.prototype,"authenticationInstances",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=J(o.prototype,"loadingAuthenticationInstances",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=J(o.prototype,"errorAuthenticationInstances",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=J(o.prototype,"integrationInstance",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),M=J(o.prototype,"integrationClass",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),L=J(o.prototype,"loadingIntegrationInstanceAndClass",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),J(o.prototype,"initializeApiIntegrationsStore",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"initializeApiIntegrationsStore"),o.prototype),J(o.prototype,"setActiveCategory",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveCategory"),o.prototype),J(o.prototype,"setActiveService",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveService"),o.prototype),J(o.prototype,"setActiveRule",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveRule"),o.prototype),J(o.prototype,"setSelectedAPI",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedAPI"),o.prototype),J(o.prototype,"setSelectedAPIVersion",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedAPIVersion"),o.prototype),J(o.prototype,"setSelectedRule",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedRule"),o.prototype),J(o.prototype,"setSelectedService",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedService"),o.prototype),J(o.prototype,"updateLoadingAvailableIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingAvailableIntegrations"),o.prototype),J(o.prototype,"updateLoadingConfiguredIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingConfiguredIntegrations"),o.prototype),J(o.prototype,"updateErrorAvailableIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateErrorAvailableIntegrations"),o.prototype),J(o.prototype,"updateErrorConfiguredIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateErrorConfiguredIntegrations"),o.prototype),J(o.prototype,"updateAvailableIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateAvailableIntegrations"),o.prototype),J(o.prototype,"updateSelectedAPIVersion",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateSelectedAPIVersion"),o.prototype),J(o.prototype,"updateConfiguredIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateConfiguredIntegrations"),o.prototype),J(o.prototype,"updateCategoryIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateCategoryIntegrations"),o.prototype),J(o.prototype,"getConfiguredIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"getConfiguredIntegrations"),o.prototype),J(o.prototype,"updateIsHydrating",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIsHydrating"),o.prototype),J(o.prototype,"updateIsAdding",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIsAdding"),o.prototype),J(o.prototype,"findIntegrationsByCategory",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"findIntegrationsByCategory"),o.prototype),J(o.prototype,"fetchAvailableIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchAvailableIntegrations"),o.prototype),J(o.prototype,"fetchConfiguredIntegrations",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchConfiguredIntegrations"),o.prototype),J(o.prototype,"updateBuildsStatus",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateBuildsStatus"),o.prototype),J(o.prototype,"updateBranchesStatus",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateBranchesStatus"),o.prototype),J(o.prototype,"setIsAuthenticationError",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsAuthenticationError"),o.prototype),J(o.prototype,"fetchBuilds",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchBuilds"),o.prototype),J(o.prototype,"fetchBranches",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchBranches"),o.prototype),J(o.prototype,"clearBuilds",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"clearBuilds"),o.prototype),J(o.prototype,"clearBranches",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"clearBranches"),o.prototype),J(o.prototype,"updateStatusBuildsPage",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateStatusBuildsPage"),o.prototype),J(o.prototype,"initialiseBuildsPage",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"initialiseBuildsPage"),o.prototype),J(o.prototype,"setloadingAuthenticationInstances",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setloadingAuthenticationInstances"),o.prototype),J(o.prototype,"setErrorAuthenticationInstances",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setErrorAuthenticationInstances"),o.prototype),J(o.prototype,"setAuthenticationInstances",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setAuthenticationInstances"),o.prototype),J(o.prototype,"fetchAuthenticationInstances",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchAuthenticationInstances"),o.prototype),J(o.prototype,"fetchIntegrationInstance",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchIntegrationInstance"),o.prototype),J(o.prototype,"updateIntegrationInstance",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIntegrationInstance"),o.prototype),J(o.prototype,"updateIntegrationClass",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIntegrationClass"),o.prototype),J(o.prototype,"setLoadingIntegrationInstancesAndClass",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"setLoadingIntegrationInstancesAndClass"),o.prototype),J(o.prototype,"resetPowerUpVariables",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"resetPowerUpVariables"),o.prototype),J(o.prototype,"removeIntegrationInstances",[x.action],Object.getOwnPropertyDescriptor(o.prototype,"removeIntegrationInstances"),o.prototype),o)},"./integrations/ci-cd/stores/APIRunInfoStore.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/lodash/lodash.js");var o,s,i=n("../../node_modules/mobx/lib/mobx.module.js"),a=n("./js/utils/PostmanGatewayService.js");function r(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const l=pm.logger.getContext("APIRunInfoStore","api-governance");let c=(s=r((o=class{constructor(){!function(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}(this,"apiSchemaScanDetailsMap",s,this)}async fetchAPISchemaScanResults(e,t,n){try{const o=`${t}-${n}`;if(this.apiSchemaScanDetailsMap.has(e)&&this.apiSchemaScanDetailsMap.get(e).has(o))return Promise.resolve(this.apiSchemaScanDetailsMap.get(e).get(o));const s=await a.default.request("/ws/proxy",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:"/governance/ci/builds",service:"ruleset",method:"get",query:{branch:n,buildId:t,populate:"results",integrationId:e}})},{returnRawResponse:!0});if(!s.ok)return Promise.reject(await s.json());const i=await s.json();return this.apiSchemaScanDetailsMap.has(e)||this.apiSchemaScanDetailsMap.set(e,new Map),this.apiSchemaScanDetailsMap.get(e).set(o,i),i}catch(e){return pm.logger.error("APIRunInfoStore~fetchAPISchemaScanResults",e,{context:l}),[]}}cleanUp(e){e&&this.apiSchemaScanDetailsMap.delete(e)}}).prototype,"apiSchemaScanDetailsMap",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),r(o.prototype,"fetchAPISchemaScanResults",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchAPISchemaScanResults"),o.prototype),r(o.prototype,"cleanUp",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"cleanUp"),o.prototype),o);t.default=c},"./integrations/ci-cd/timeUtils.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/moment/moment.js"),s=n.n(o),i=n("./node_modules/lodash/lodash.js");t.default={timeDifference:function(e,t){var n=6e4,o=36e5,s=864e5,a=e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*n-e.getHours()*o-(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*n-t.getHours()*o);return 0==a/s?"Today":a/s==1?"Yesterday":i.round(a/s)+" days ago"},timeSince:function(e){if(!e)return"N/A";var t=new Date,n=new Date(e),o=n.getHours()%12||12,s=n.getMinutes()<10?`0${n.getMinutes()}`:n.getMinutes(),i=n.getHours()<12?"am":"pm";return`${this.timeDifference(t,n)}, ${o}:${s} ${i}`},getFormattedDuration:function(e){if(!e||"0"===e)return"N/A";e=parseInt(e);let t=s().duration(e),n=t.hours(),o=t.minutes(),i=t.seconds(),a="";return n>0&&(a+=`${n}h`),o>0&&(a+=` ${o}m`),i>0&&(a+=` ${i}s`),""===a&&(a+=e/1e3+"s"),a}}},"./integrations/components/ConfigurationsComponent.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("./js/components/base/ToggleSwitch.js"),r=n("./js/components/base/Inputs.js"),l=n("./js/components/base/Markdown.js"),c=n("./js/components/base/Dropdowns.js"),d=n("./js/components/base/Buttons.js"),u=n("./node_modules/classnames/index.js"),p=n.n(u),m=n("./node_modules/prop-types/index.js"),h=n.n(m);class g extends o.Component{constructor(e){super(e),this.state={},this.onSubmit=this.onSubmit.bind(this),this.onChange=this.onChange.bind(this),this.renderOptions=this.renderOptions.bind(this),this.getListItemClasses=this.getListItemClasses.bind(this),this.delayedSubmit=i().debounce(this.onSubmit,500)}componentDidMount(){var e=this.props.optionsPreference||{};(this.props.optionsArray||[]).forEach((t=>{this.setState({[t.id]:void 0!==e[t.id]?e[t.id]:t.default})}))}getListItemClasses(e){let t="item--"+e;return p()({"options-list-item":!0,[t]:!0})}onChange(e,t,n){if("positiveinteger"===t){let e=parseInt(n);n=isNaN(e)?0:e}this.setState({[e]:n}),this.delayedSubmit()}onSubmit(){this.props.onSubmit&&this.props.onSubmit(this.state)}renderOptions(){let e;return this.props.optionsArray.map((t=>{let n=t.id,s=t.name,i=t.type,u=t.description;switch(i="string"==typeof i?i.toLowerCase():i,i){case"boolean":e=o.createElement(a.default,{isActive:this.state[n],onClick:this.onChange.bind(this,n,i)});break;case"enum":e=o.createElement(c.Dropdown,{onSelect:this.onChange.bind(this,n,i)},o.createElement(c.DropdownButton,{type:"text"},o.createElement(d.Button,null,o.createElement("span",null,this.state[n]))),o.createElement(c.DropdownMenu,{"align-right":!0},t.availableOptions.map((e=>o.createElement(c.MenuItem,{refKey:e,key:e},o.createElement("span",null,e))))));break;default:e=o.createElement(r.Input,{inputStyle:"box",value:void 0!==this.state[n]?this.state[n]:t.default,onChange:this.onChange.bind(this,n,i)})}return o.createElement("div",{className:this.getListItemClasses(n),key:n},o.createElement("div",{className:"options-list-item-label-description"},o.createElement("div",{className:"options-list-item-label"},s),o.createElement("div",{className:"options-list-item-description"},o.createElement(l.default,{source:u,linkTarget:"_blank",className:"options-list-item-description-markdown"}))),o.createElement("div",{className:"options-list-item-value"},e))}))}render(){return o.createElement("div",{className:"options-wrapper"},o.createElement("div",{className:"options-list"},this.renderOptions()))}}g.propTypes={optionsArray:h().array,optionsPreference:h().object,onSubmit:h().func.isRequired},g.defaultProps={optionsArray:[],optionsPreference:{}}},"./integrations/components/DeleteIntegrationModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./js/components/base/Modals.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),c=n("./js/services/NavigationService.js"),d=n("./js/stores/StoreManager.js"),u=n("./integrations/monitoring/stores/APMIntegrationStore.js"),p=n("./js/stores/IntegrationsStore.js"),m=n("./api-dev/constants/APISubViews.js"),h=n("./js/modules/services/AnalyticsService.js"),g=n("./integrations/utils/CommonHelperMethods.ts");let f=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={isDeleting:!1},this.store=this.props.store,this.integrationsStore=(0,d.resolveStoreInstance)(p.default),this.apmIntegrationStore=(0,d.resolveStoreInstance)(u.default),this.handleReset=this.handleReset.bind(this)}handleReset(){let{payload:e,integrationId:t,category:n}=this.props;pm.windowEvents.emit(`${n}-integration-deleted`,{apiId:e.api_id,apiVersionId:e.executor,integrationId:t}),c.default.transitionTo("build.apiVersion",{apiId:e.api_id,versionId:e.executor},{tab:m.MONITORING})}render(){const{integrationId:e,ruleId:t,source:n,payload:o}=this.props,{isDeleting:s}=this.state;return i.createElement("div",null,i.createElement(a.Modal,{isOpen:this.props.isOpen,onRequestClose:this.props.handleCloseModal},i.createElement(a.ModalHeader,null,"Delete Integration"),i.createElement(a.ModalContent,null,"Deleting this integration will cease any actions it performs immediately. Are you sure you wish to continue?"),i.createElement(a.ModalFooter,null,i.createElement(r.default,{text:"Delete Integration",isLoading:this.state.isDeleting,type:"destructive",disabled:s,onClick:()=>{this.setState({isDeleting:!0}),l.default.deleteIntegration(e).then((e=>{this.setState({isDeleting:!1}),200===e.status?(pm.toasts.success("Integration deleted successfully."),n&&h.default.addEventV2({category:"integrations",action:t+"_edited_integration",label:n,value:1}),this.props.handleCloseModal(),this.integrationsStore.refetchTeamIntegrations(),this.integrationsStore.setRuleSpecificTeamIntegrations(t,null),this.apmIntegrationStore.fetchIntegrationInstance("apiversion",o.executor),this.props.handleReset?this.props.handleReset():this.handleReset()):(pm.toasts.error("Something went wrong while deleting your integration. Please try again later."),pm.logger.error("Something went wrong while deleting your integration",e))})).catch((e=>{this.setState({isDeleting:!1}),pm.toasts.error((0,g.getErrorMessage)(e,"Something went wrong while deleting your integration.")),pm.logger.error("Error occurred while deleting integration",e)}))}}),"",i.createElement(r.default,{text:"Cancel",type:"secondary",onClick:this.props.handleCloseModal}))))}})||o},"./integrations/components/api-builder/CompactViewContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-right.js");const p=s.default.div`
    display: flex;
    cursor: pointer;
    align-items: center;
    gap: var(--spacing-xs);
  `,m=(0,s.default)(r.default)`
    padding: var(--spacing-xs);
  `;class h extends o.Component{constructor(e){super(e),this.state={isBodyExpanded:!0}}render(){const{containerTitle:e,containerBody:t,rightSectionComponent:n}=this.props,{isBodyExpanded:s}=this.state;return o.createElement(l.default,{direction:"column",grow:1,padding:"spacing-l"},o.createElement(l.default,{grow:1,justifyContent:"space-between",alignItems:"center",padding:{paddingTop:"spacing-xs",paddingBottom:"spacing-xs"},wrap:"wrap"},o.createElement(p,{onClick:()=>{this.setState({isBodyExpanded:!s})}},s?o.createElement(m,{type:"tertiary",tooltip:"Hide",size:"small",icon:o.createElement(d.default,null)}):o.createElement(m,{type:"tertiary",tooltip:"Show",size:"small",icon:o.createElement(u.default,null)}),e&&o.createElement(c.default,{type:"h4",text:e})),n),s&&t)}}h.propTypes={containerTitle:a().string,containerBody:a().element.isRequired,rightSectionComponent:a().element}},"./integrations/components/api-builder/ShowDetailedView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("./node_modules/lodash/lodash.js");const l=s.default.div`
  width:20%;
  display:flex;
  color: var(--content-color-link);
  font-size: var(--text-size-m);
  padding: var(--spacing-zero) 20px;
  margin-left: var(--spacing-xxl);
  margin-top: var(--spacing-m);
  margin-bottom: var(--spacing-m);
  cursor: pointer;
`;class c extends o.Component{constructor(e){super(e)}render(){const{label:e,onClick:t}=this.props;return o.createElement(l,{onClick:e=>{r.isFunction(t)&&t(e)}}," ",e||"View More"," ")}}c.propTypes={onClick:a().func,label:a().string}},"./integrations/components/base/EditIntegration.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),r=n("./appsdk/workbench/TabService.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("./js/modules/services/AnalyticsService.js"),d=n("./js/stores/StoreManager.js"),u=n("./js/stores/IntegrationsStore.js"),p=n("./integrations/monitoring/stores/APMIntegrationStore.js"),m=n("./node_modules/lodash/lodash.js");function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h.apply(this,arguments)}let g=(0,l.observer)(o=class extends s.Component{constructor(e){super(e),this.store=this.props.store,this.state={isUpdating:!1},this.apmIntegrationStore=(0,d.resolveStoreInstance)(p.default)}render(){const{disabled:e,payload:t,integrationId:n,rule:o,service:l,route:p,client_category:g,redirect:f,alignLeft:b,generatePayload:y,...v}=this.props;return s.createElement("div",{className:"integrations-add-actions__button--container"},s.createElement(i.default,h({text:"Update",isLoading:this.state.isUpdating,type:"primary",isDisabled:e||this.state.isUpdating,tooltip:e?"Make sure that you have entered all the mandatory fields":"",onClick:()=>{this.setState({isUpdating:!0},(async()=>{let e=m.assign({},t);m.isFunction(y)&&(e=await y(t)),a.default.updateIntegration(n,e).then((e=>{200===e.status&&e.body.model_id?(pm.toasts.success(`You updated the ${m.get(e.body,"data.name")} integration`,{noIcon:!0,title:"Changes Saved"}),(0,d.resolveStoreInstance)(u.default).setRuleSpecificTeamIntegrations(o,null),this.apmIntegrationStore.fetchIntegrationInstance("apiversion",t.executor),c.default.addEventV2({category:"integrations",action:o+"_edited_integration",label:"team_integrations_edit_forms",value:1}),pm.windowEvents.emit(`${g}-integration-edited`,{apiId:t.api_id,apiVersionId:t.executor,integrationId:n}),r.default.closeByRoute(p,{apiId:t.api_id,integrationId:n}),f&&f()):(pm.toasts.error("Looks like this isn't working right now. Please try again later.",{noIcon:!0,title:"Unable to save changes"}),this.setState({isUpdating:!1}))})).catch((e=>{pm.toasts.error(e.error.details&&e.error.details.message||e.error.message||"Looks like this isn't working right now. Please try again later.",{noIcon:!0,title:"Unable to save changes"}),pm.logger.error("Something went wrong while updating a new integration",e)}))}))}},v)))}})||o},"./integrations/components/base/MonitorSelector.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/stores/ActiveWorkspaceStore.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("../../node_modules/mobx/lib/mobx.module.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),u=n("./js/modules/services/RemoteSyncRequestService.js"),p=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),m=n("./monitors/services/MonitorService.js"),h=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/DropdownOption.js"),g=n("./integrations/monitoring/constants.js"),f=n("./integrations/constants/integrationsConstants.ts"),b=n("./node_modules/lodash/lodash.js"),y=n.n(b),v=n("./node_modules/prop-types/index.js"),I=n.n(v);const E={collections:"Please select a collection",monitors:"Please select a monitor",apis:"Please select an API",apiversions:"Please select an API version"};let _=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={entities:[],entityVersions:[],loading:!1,error:!1,firstLoad:!0},this.store=(0,r.resolveStoreInstance)(l.default),this.workspaceStore=(0,r.resolveStoreInstance)(a.default),this.fetchAndAssignConstraints=this.fetchAndAssignConstraints.bind(this),this.fetchMonitorsLinkedToAPIVersion=this.fetchMonitorsLinkedToAPIVersion.bind(this),this.performEntityChecks=this.performEntityChecks.bind(this),this.fetchMonitors=this.fetchMonitors.bind(this),this.getEmptyStateError=this.getEmptyStateError.bind(this),this.updateSelectedEntity=this.updateSelectedEntity.bind(this),this.getFormattedResponse=this.getFormattedResponse.bind(this),this.customDropdownOption=this.customDropdownOption.bind(this)}componentDidMount(){let{selectedWorkspace:e}=this.props;e&&this.fetchMonitors(e.value),(0,c.reaction)((()=>this.workspaceStore.dependencies),(()=>{this.fetchMonitors(e.value)}))}getFormattedResponse(e){let t=!1,n=[];return n=e.map((e=>e.name&&e.id?{...e,label:y().get(e,"name"),value:y().get(e,"id")}:(t=!0,{}))),{newEntities:n,malformedResponse:t}}fetchMonitors(e){this.setState({loading:!0}),e?m.default.getJobTemplatesByWorkspace({workspaceId:e}).then((e=>{const t=y().get(e,"body.data",[]),{newEntities:n,malformedResponse:o}=this.getFormattedResponse(t);if(o)throw new Error("Malformed response");return n})).then((e=>{if(!this.props.integrationClassId||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.integrationClassId,"monitor",this.props.mode)})).then((e=>y().map(e,(e=>y().omit(e,["options"]))))).then((e=>this.performEntityChecks(e))).then((e=>{this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load monitors",loading:!1}),pm.toasts.error("Something went wrong while fetching monitors"),pm.logger.error("Error ocurred while fetching monitors",e)})):this.setState({loading:!1})}fetchAndAssignPermissions(e,t,n,o){return new Promise(((o,s)=>{const i=e.map((e=>({id:y().get(e,"id")})));let a=null;f.INTEGRATION_FORM_MODE.ADD,a=p.default.fetchCreatePermissions,a(t,n,i).then((t=>(y().forEach(y().zip(e,t.body),(e=>{const[t,n]=e;t.disabled=!n.hasPermission})),o(e)))).catch((e=>{pm.logger.error(e),s(e)}))}))}updateSelectedEntity(e){this.store.setSelectedEntity(y().find(e,{value:this.store.selectedEntity.value}))}fetchAndAssignConstraints(e,t,n){let o=`/apis/${t}/versions/${n}/relations/monitor/constraint-checks`,s=[];return s=y().map(e,(e=>e.id)),u.default.request(o,{method:"post",timeout:6e4,data:{entityIds:s}}).then((({body:t})=>(y().each(e,(e=>{let n=y().find(t.data,{entityId:e.id});e.disabled=!n.allowed,e.disabled&&(e.disabledMessage="This monitor is already linked to another API version.")})),Promise.resolve(e)))).catch((t=>(pm.logger.error("Error in fetching relation constraints.",t),Promise.resolve(e))))}fetchMonitorsLinkedToAPIVersion(e,t,n){let o=`/apis/${t}/versions/${n}/monitor`;return u.default.request(o,{method:"get"}).then((t=>{if(t&&200===t.status){let n=y().get(t.body,"data.monitor");return y().each(e,(e=>{y().find(n,{id:e.id})&&(e.disabled=!1)})),Promise.resolve(e)}throw t&&t.body||{error:"serverError",message:"Something went wrong while fetching the linked monitors"}})).catch((t=>(pm.logger.error("Error in fetching linked monitors",t),Promise.resolve(e))))}performEntityChecks(e){return this.fetchAndAssignConstraints(e,this.props.apiId,this.props.apiVersionId).then((e=>this.fetchMonitorsLinkedToAPIVersion(e,this.props.apiId,this.props.apiVersionId))).then((e=>(y().each(e,(e=>{e.disabled||y().find(this.props.configuredIntegrations,{executor:e.id,rule:this.props.integrationClassId})&&(e.disabled=!0,e.disabledMessage="Integration is already configured on this monitor.")})),e))).then((e=>{let t;return y().each(e,(async e=>{e.disabled||(t=await p.default.getConfiguredIntegrationsByEntityAndClientCategory(g.ENTITY,e.id,[g.API_MONITORING],!0).catch((e=>pm.logger.error("MonitorSelector~Error occurred while fetching the configured integrations",e))),t=y()(t).flatMap((e=>Object.values(e))).value(),y().find(t,{rule:this.props.integrationClassId})&&(e.disabled=!0,e.disabledMessage="Integration is already configured on this monitor."))})),Promise.resolve(e)}))}customDropdownOption(e){return s.createElement(h.default,{option:e,entityType:f.entityTypes.MONITORS,tooltipMessage:e.disabledMessage||this.props.tooltipMessage})}getEmptyStateError(){return E[f.entityTypes.MONITORS]?E[f.entityTypes.MONITORS]:""}render(){let{executor:e,onTargetSelect:t,title:n,description:o,disabled:i,optional:a,selectedWorkspace:r}=this.props,{selectedEntity:l}=this.store,{entities:c,loading:u,firstLoad:p,error:m}=this.state,h=!u&&c.length>0&&!l&&!p&&this.getEmptyStateError();return s.createElement("div",{className:"integrations-add-card__segment"},s.createElement("div",{className:"integrations-add-card__label-title-v2"},n," ",a?s.createElement("span",null,"(optional)"):""),s.createElement("div",{className:"integrations-add-card__label-description"},o),s.createElement("div",{className:"integrations-add-card__input"},s.createElement(d.default,{onChange:t,options:c,value:e,isLoading:u,isDisabled:i,emptyStateMessage:"No monitors found",customOptionComponent:this.customDropdownOption,isOptionDisabled:e=>e.disabled}),h?s.createElement("span",{className:"integrations-add-card__error"},h):m?s.createElement("span",{className:"integrations-add-card__error"},m+". ",s.createElement("span",{onClick:()=>{r&&this.fetchMonitors(r.value)},className:"integrations-add-card__error__btn"},"Retry")):""))}})||o;_.propTypes={executor:I().object.isRequired,selectedWorkspace:I().object.isRequired,title:I().string.isRequired,description:I().string.isRequired,disabled:I().bool.isRequired,onTargetSelect:I().func.isRequired,apiId:I().string.isRequired,apiVersionId:I().string.isRequired,configuredIntegrations:I().array.isRequired,integrationClassId:I().string.isRequired,mode:I().string.isRequired}},"./integrations/components/error-states/ErrorIntegrations.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/InternalServerError.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnauthorizedError.js");let c=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={error:{}}}componentDidMount(){let{error:e}=this.props;e?this.setState({statusCode:e.statusCode,title:e.title,message:e.message}):this.setState({title:"Something went wrong",message:"Something went wrong while performing this action. Please refresh the page and try again."})}render(){let{statusCode:e,title:t,message:n}=this.state;return i.createElement("div",null,i.createElement("div",{className:"team-integrations-error-state"},i.createElement("div",{className:"team-integrations-error-state__illustration-wrapper team-integrations-error-state__illustration-wrapper--collections"},(!e||e>499&&e<600)&&i.createElement(a.default,null),404===e&&i.createElement(r.default,null),e>399&&e<500&&404!==e&&i.createElement(l.default,null)),i.createElement("div",{className:"team-integrations-error-state__title"},t),i.createElement("div",{className:"team-integrations-error-state__subtitle"},n)))}})||o},"./integrations/components/error-states/IntegrationNotSupported.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/error-states/ErrorState.js"),a=n("../../node_modules/react/index.js"),r=n("./integrations/utils/CommonHelperMethods.ts"),l=n("./js/services/NavigationService.js"),c=n("./js/external-navigation/ExternalNavigationService.js"),d=n("./integrations/constants/integrationsConstants.ts");function u(e){let{apiId:t,apiVersionId:n,tab:s}=e,i={apiId:t,versionId:n},u={tab:s},p=(0,r.getURLFromBasePathAndRoute)(pm.artemisUrl,l.default.getURLForRoute("build.apiVersion",i,u));return a.createElement("div",{className:"unsupported-integrations-error-cta__subtitle"},"browser"===window.SDK_PLATFORM?a.createElement("span",null,d.INTEGRATION_NOT_SUPPORTED_SUBTITLE_WEB_APP):a.createElement("div",null,a.createElement("span",null,d.INTEGRATION_NOT_SUPPORTED_SUBTITLE_DESKTOP),a.createElement("span",{onClick:()=>(0,c.openExternalLink)(p||"#","_blank"),className:"unsupported-integrations-error-cta__subtitle__link"},a.createElement(o.default,{type:"link-primary",isExternal:!0},"web app"))))}function p(e){let t={title:"browser"===window.SDK_PLATFORM?d.INTEGRATION_NOT_SUPPORTED_TITLE_WEB_APP:d.INTEGRATION_NOT_SUPPORTED_TITLE_DESKTOP,subtitle:u(e)};return a.createElement("div",{className:"unsupported-integrations-error-cta"},a.createElement(s.default,{direction:"column",justifyContent:"center",alignItem:"center",alignSelf:"center"},a.createElement(i.default,{errorDetails:t})))}},"./integrations/connected-integrations/components/ConnectedIntegrationsCell.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./node_modules/classnames/index.js"),l=n.n(r),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-edit-stroke.js"),h=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke.js"),g=n("./js/external-navigation/ExternalNavigationService.js"),f=n("./js/services/NavigationService.js"),b=n("./integrations/components/DeleteIntegrationModal.js"),y=n("./integrations/connected-integrations/components/base/ActionItem.js"),v=n("./integrations/connected-integrations/constants/ConnectedIntegrationConstants.js"),I=n("./integrations/monitoring/constants.js"),E=n("./js/modules/services/AnalyticsService.js"),_=n("./js/controllers/theme/ThemeManager.js"),S=n("./integrations/navigation/constants.js"),C=n("./node_modules/lodash/lodash.js");function T(e){let{manifestItem:t,configuredIntegration:n,entity:o,model:i}=e;return s.createElement("div",{className:"connected-integrations-content-row "+(t.type===v.ITEM_TYPES.LINK?"is-hyperlink":""),onClick:()=>{t.type===v.ITEM_TYPES.LINK&&(E.default.addEventV2({category:"api_builder_integrations",action:"connected_integration_action",label:n.service+"-"+t.id,value:1}),(0,g.openExternalLink)(function(e,t,n,o){let{params:s}=t;return C.each(s,(t=>{e=t.entity===v.ACTION_SOURCE.INTEGRATION?C.replace(e,`$${t.label}`,n.variables[t.key]):C.replace(e,`$${t.label}`,o[t.key])})),e}(t.href,t,n,o),"_blank"))}},t.icon&&s.createElement("div",{className:l()({"connected-integrations-content-row-icon":!0,"is-spaced":!!t.label})},s.createElement(p.default,{name:t.icon,color:"content-color-secondary",size:"small"})),t.label&&s.createElement("div",{className:"connected-integrations-content-row-label"},t.type===v.ITEM_TYPES.LINK?s.createElement(c.default,{type:"link-default",isExternal:t.type===v.ITEM_TYPES.LINK},t.label):t.label),C.compact(C.map(t.actions,(e=>s.createElement(y.default,{action:e,configuredIntegration:n,entity:o,serviceName:n.service,model:i})))))}function j(e){let{model:t,integrationRule:n,configuredIntegration:o,entity:i,handleReset:r,handleEditIntegration:l}=e,c=(0,a.toJS)(C.get(t,"manifest",{}))[n],[u,p]=(0,s.useState)(!1),g=C.get(o,["allowedActions","update"]),f=C.get(o,["allowedActions","delete"]);return s.createElement("div",{className:"connected-integrations-content-wrapper"},s.createElement("div",{className:"connected-integrations-content-title"},`Connected with ${C.get(c,"name")}`),C.compact(C.map(C.get(c,"configured_tooltip.items"),(e=>{if(!C.isFunction(e.isHidden)||!e.isHidden(o,i))return s.createElement(T,{manifestItem:e,configuredIntegration:o,entity:i,model:t})}))),s.createElement("div",{className:"connected-integrations-actions"},s.createElement("div",{className:"connected-integrations-actions-edit",onClick:()=>{g&&l(o,c)}},s.createElement(d.default,{type:"tertiary",size:"small",isDisabled:!g,icon:s.createElement(m.default,{size:"small"}),tooltip:g?"Edit":"Only the integration creator can edit its configuration."})),s.createElement("div",{className:"connected-integrations-actions-delete",onClick:()=>{f&&(p(!u),E.default.addEventV2({category:"api_builder_integrations",action:"connected_integration_action_"+o.service,label:"delete",value:1}))}},s.createElement(d.default,{type:"tertiary",size:"small",isDisabled:!f,icon:s.createElement(h.default,{size:"small"}),tooltip:f?"Delete":"Only the integration creator can delete it."})),s.createElement(b.default,{size:"small",isOpen:u,handleCloseModal:p,integrationId:o.id,ruleId:n,category:I.API_MONITORING,handleReset:r,source:v.DELETE_SOURCE})))}let A=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.entity=this.props.entity,this.state={isDeleteModalOpen:!1,currentTheme:_.default.getCurrentTheme()},this.handleEditIntegration=this.handleEditIntegration.bind(this),this.toggleDeleteModal=this.toggleDeleteModal.bind(this),this.handleThemeChange=this.handleThemeChange.bind(this)}componentDidMount(){pm.mediator.on("themeChange",this.handleThemeChange)}componentWillUnmount(){pm.mediator.off("themeChange",this.handleThemeChange)}handleThemeChange(e){this.setState({currentTheme:e})}handleEditIntegration(e,t){let{model:n}=this.props;E.default.addEventV2({category:"api_builder_integrations",action:"connected_integration_action_"+e.service,label:"edit",value:1}),f.default.transitionTo(S.V10_API_EDIT_APM_INTEGRATION_NAV_IDENTIFIER,{apiId:C.get(n,"model.__version.apiId"),integrationId:C.get(e,"id")},{service:e.service},{additionalContext:{origin:"api_builder"}})}toggleDeleteModal(e){let{isDeleteModalOpen:t}=this.state;this.setState({isDeleteModalOpen:!t})}render(){let{entityIntegrations:e,model:t,entity:n,handleReset:o}=this.props,{currentTheme:i}=this.state,r=n.id,l=(0,a.toJS)(t.manifest);return s.createElement("div",{className:"connected-integrations-cell"},C(e[r]).flatMap(((e,a)=>C.map(e,(e=>{if(l[a])return s.createElement("div",{onMouseEnter:()=>{E.default.addEventV2({category:"api_builder_integrations",action:"hover_connected_integration",label:e.service,value:1})},onClick:()=>{E.default.addEventV2({category:"api_builder_integrations",action:"clicked_connected_integration",label:e.service,value:1})}},s.createElement(u.default,{placement:"bottom",trigger:s.createElement("div",{className:"connected-integrations-logo-wrapper"},s.createElement("img",{className:"connected-integrations-logo",src:"dark"===i&&C.get(l[a],"dark_icon_url")||C.get(l[a],"icon_url")})),appendTo:"parent",triggerEvent:"mouseenter click",className:"connected-integrations-tooltip"},s.createElement(j,{key:e.id,integrationRule:a,configuredIntegration:e,entity:n,model:t,handleEditIntegration:this.handleEditIntegration,handleReset:o})))})))).compact().value())}})||o},"./integrations/connected-integrations/components/base/ActionItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("./integrations/connected-integrations/constants/ConnectedIntegrationConstants.js"),c=n("./js/modules/services/AnalyticsService.js"),d=n("./node_modules/lodash/lodash.js");let u=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.entity=this.props.entity,this.state={isActionInvalid:!1,shouldPerformActionBootstrap:!1,actionPayloadBasedOnEntity:null,bootstrapInProgress:!1,bootstrapFailed:!1},this.validateActionItem=this.validateActionItem.bind(this),this.performActionBootstrap=this.performActionBootstrap.bind(this),this.updateActionPayload=this.updateActionPayload.bind(this)}componentDidMount(){let{action:e,configuredIntegration:t,entity:n}=this.props;this.validateActionItem(e,t,n)}updateActionPayload(e){this.setState({actionPayloadBasedOnEntity:e})}validateActionItem(e,t,n){let{model:o}=this.props;t.model=o,n.model=o,e.source===l.ACTION_SOURCE.INTEGRATION?this.setState({actionPayloadBasedOnEntity:t}):e.source===l.ACTION_SOURCE.ENTITY?this.setState({actionPayloadBasedOnEntity:n}):e.source===l.ACTION_SOURCE.HYBRID?this.setState({actionPayloadBasedOnEntity:{entity:n,configuredIntegration:t}}):(this.setState({isActionInvalid:!0}),pm.logger.error("ConnectedIntegrations~InvalidActionError",{details:"Please check if the source for the action is valid",action:e})),d.isFunction(e.getLabel)||(this.setState({isActionInvalid:!0}),pm.logger.error("ConnectedIntegrations~InvalidActionError",{details:"Function getLabel is missing for the action",action:e})),d.isEmpty(e.getLabel(undefined))&&this.setState({isActionInvalid:!0}),e.bootstrap&&d.isFunction(e.bootstrap)&&this.setState({shouldPerformActionBootstrap:!0},(()=>{this.performActionBootstrap(e)}))}performActionBootstrap(e){let{actionPayloadBasedOnEntity:t}=this.state;this.setState({bootstrapInProgress:!0},(()=>{e.bootstrap(t,((e,t)=>{e&&this.setState({bootstrapFailed:!0,bootstrapInProgress:!1}),this.setState({bootstrapInProgress:!1,actionPayloadBasedOnEntity:t})}))}))}render(){let{actionPayloadBasedOnEntity:e,bootstrapInProgress:t,bootstrapFailed:n,isActionInvalid:o}=this.state,{action:i,serviceName:u}=this.props;return t?s.createElement("div",{className:"connected-integrations-action-loading"},s.createElement(a.default,null)):n?s.createElement("div",{className:"connected-integrations-cell"},s.createElement("div",{className:"connected-integration-content-row-action"},s.createElement(r.default,{name:"icon-state-error-stroke",color:"base-color-error",size:"small"}),s.createElement("div",{className:"connected-integration-content-row-action-error "},"Unable to load"))):o?s.createElement("div",null):s.createElement("div",{className:"connected-integrations-cell"},s.createElement("div",{className:`connected-integration-content-row-action ${d.isEmpty(e)?"":l.ITEM_TYPE_CLASSNAMES[i.type]}`,onClick:()=>{d.isFunction(i.action)&&(c.default.addEventV2({category:"api_builder_integrations",action:"connected_integration_action_"+u,label:i.id,value:1}),i.action(e))}},i.getLabel(e)))}})||o},"./integrations/connected-integrations/constants/ConnectedIntegrationConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ACTION_SOURCE:function(){return s},DELETE_SOURCE:function(){return a},ITEM_TYPES:function(){return o},ITEM_TYPE_CLASSNAMES:function(){return i}});const o={LINK:"link",BUTTON:"button",DIV:"div"},s={INTEGRATION:"integration",ENTITY:"entity",HYBRID:"hybrid"},i={link:"is-action-link",button:"is-hyperlink",div:"is-div"},a="api_builder_delete_integration"},"./integrations/connected-integrations/constants/ConnectedIntegrationsDefaultTemplate.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("./js/services/NavigationService.js");t.default={type:"notification",configured_tooltip:{items:[{name:"info",type:"button",actions:[{name:"Integration Runs",type:"button",source:"integration",id:"integration-runs",getLabel:()=>o.createElement(s.default,{type:"link-default"},"View integration runs"),action:e=>{i.default.transitionTo("integrations.runLog",{integrationId:e.id})}}]}]},show_edit:!0,show_delete:!0}},"./integrations/connected-integrations/containers/ConnectedIntegrationsContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("./integrations/connected-integrations/components/ConnectedIntegrationsCell.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("./integrations/monitoring/constants.js"),d=n("./node_modules/lodash/lodash.js");let u=(0,l.observer)(o=class extends s.Component{constructor(e){super(e),this.renderType=this.props.type,this.state={isLoading:!1},this.handleReset=this.handleReset.bind(this),this.onMonitorRunTriggered=this.onMonitorRunTriggered.bind(this),this.refreshIntegrationStates=d.debounce(this.onMonitorRunTriggered,1e4)}componentDidMount(){pm.windowEvents.addListener(`${this.props.entity.id}-run`,this.refreshIntegrationStates)}onMonitorRunTriggered(){this.setState({isLoading:!0},(()=>{this.setState({isLoading:!1})}))}handleReset(){let{apiId:e,versionId:t}=this.props.model;pm.windowEvents.emit(`${c.API_MONITORING}-integration-deleted`,{apiId:e,apiVersionId:t})}render(){let{model:e,entity:t}=this.props,{isLoading:n}=this.state;return e.isLoading||n?s.createElement(i.default,null):d.isEmpty(e.configuredIntegrationsForRelation[t.id])?s.createElement("div",{className:"connected-integrations-empty-state"},"No apps configured.",s.createElement("div",{className:"connected-integrations-empty-state",onClick:()=>{pm.windowEvents.emit("add-integrations-cta-clicked")}},s.createElement("div",{className:"connected-integrations-empty-state-add-cta"},s.createElement(a.default,{type:"link-primary"},"Add")))):"cell"===this.renderType?s.createElement(r.default,{model:this.props.model,entity:this.props.entity,entityIntegrations:this.props.model.configuredIntegrationsForRelation,handleReset:this.handleReset}):void 0}})||o},"./integrations/connected-integrations/manifests/ConnectedIntegrationsManifest.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-copy-stroke-small.js"),l=n("./js/external-navigation/ExternalNavigationService.js"),c=n("./js/services/NavigationService.js"),d=n("./js/utils/ClipboardHelper.js"),u=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),p=n("./js/modules/services/AnalyticsService.js"),m=n("./integrations/navigation/constants.js"),h=n("./node_modules/lodash/lodash.js");t.default={monitor_run_datadog:{type:"metrics",configured_tooltip:{items:[{name:"Datadog dashboard link",type:"button",actions:[{name:"View dashboard",type:"div",source:"entity",id:"datadog-dashboard",getLabel:()=>o.createElement(s.default,{type:"link-default",isExternal:!0},"View dashboard"),action:e=>{let t=h(e.name).toLower().replaceAll(" ","_");(0,l.openExternalLink)(`https://app.datadoghq.com/screen/integration/30441/postman-monitor-overview?tpl_var_monitor_name=${t}`,"_blank")}}]},{name:"Datadog metrics link",type:"button",actions:[{name:"View metrics",type:"div",source:"hybrid",id:"datadog-metrics",getLabel:()=>o.createElement(s.default,{type:"link-default",isExternal:!0},"View metrics"),action:e=>{let t=h.get(e,"configuredIntegration.variables.new_metric"),n=h.get(e,"entity.name"),o=h(n).toLower().replaceAll(" ","_");t?(0,l.openExternalLink)(`https://app.datadoghq.com/metric/explorer?live=true&tile_size=s&exp_metric=postman.monitor.run.errors%2Cpostman.monitor.run.failed_tests%2Cpostman.monitor.run.passed_tests%2Cpostman.monitor.run.request_count%2Cpostman.monitor.run.total_latency%2Cpostman.monitor.run.http_status_2xx%2CPostmanMonitors_run_httpStatus5XX%2Cpostman.monitor.run.http_status_4xx%2Cpostman.monitor.run.http_status_5xx%2Cpostman.monitor.request.bytes%2Cpostman.monitor.request.latency%2Cpostman.monitor.request.failed_tests%2Cpostman.monitor.request.passed_tests&exp_agg=avg&exp_row_type=metric&exp_scope=monitor_name%3A${o}&from_ts=1643100643454&to_ts=1643705443454`,"_blank"):(0,l.openExternalLink)(`https://app.datadoghq.com/metric/explorer?live=true&tile_size=s&exp_metric=PostmanMonitors_errors%2CPostmanMonitors_failedTests%2CPostmanMonitors_passedTests%2CPostmanMonitors_requestCount%2CPostmanMonitors_request_bytes%2CPostmanMonitors_request_failedTests%2CPostmanMonitors_request_passedTests%2CPostmanMonitors_request_latency%2CPostmanMonitors_run_httpStatus2XX%2CPostmanMonitors_run_httpStatus4XX%2CPostmanMonitors_run_httpStatus5XX%2CPostmanMonitors_totalLatency&exp_agg=avg&exp_row_type=metric&exp_scope=monitor_name%3A${o}&from_ts=1643100643454&to_ts=1643705443454`,"_blank")}}]}]},show_edit:!0,show_delete:!0},monitor_run_slack:{type:"notification",configured_tooltip:{items:[{name:"info",type:"text",label:"Notifications sent to",actions:[{name:"Slack Channel",type:"link",source:"integration",id:"channel",getLabel:e=>{let t=h.get(e,"variables.channel");return`${h.startsWith(t,"@")||h.startsWith(t,"#")?"":"#"}${t}`},action:e=>{let t=h.get(e,"variables.channel");h.startsWith(t,"@")?(0,l.openExternalLink)(`https://slack.com/messages/${t}/`,"_blank"):(0,l.openExternalLink)(`https://slack.com/channels/${h.replace(t,/^#/,"")}/`,"_blank")}}]}]},show_edit:!0,show_delete:!0},monitor_run_microsoft_teams:{type:"notification",configured_tooltip:{items:[{name:"info",type:"button",actions:[{name:"Integration Runs",type:"button",source:"integration",id:"integration-runs",getLabel:()=>o.createElement(s.default,{type:"link-default"},"View integration runs"),action:e=>{c.default.transitionTo("integrations.runLog",{integrationId:e.id})}}]}]},show_edit:!0,show_delete:!0},monitor_run_custom_webhooks:{type:"notification",configured_tooltip:{items:[{name:"info",type:"text",label:"Notifications sent to",actions:[{name:"Webhook URL",type:"link",source:"integration",id:"webhook-url",getLabel:()=>"webhook",action:e=>{(0,l.openExternalLink)(`${h.get(e,"variables.webhook_url")}/`,"_blank")}},{name:"Copy Webhook",type:"button",source:"integration",id:"copy-webhook",getLabel:()=>o.createElement(i.default,{content:"Copy webhook URL",placement:"bottom"},o.createElement(r.default,{color:"content-color-secondary"})),action:e=>{d.default.copy(h.get(e,"variables.webhook_url")),pm.toasts.success("Webhook URL copied to clipboard!")}}]}]},show_edit:!0,show_delete:!0},monitor_run_opsgenie:{type:"alerts",configured_tooltip:{items:[{name:"Opsgenie Site Input",type:"text",label:"Note: You can now add OpsGenie site for easy redirection.",isHidden:(e,t)=>!h.isEmpty(h.get(e,"variables.opsgenie_site")),actions:[{name:"Add OpsGenie site",type:"link",source:"integration",id:"add_opsgenie_site",getLabel:e=>{if(!h.get(e,"variables.opsgenie_site"))return o.createElement(s.default,{type:"link-default"},"Add site")},action:e=>{h.get(e,"variables.opsgenie_site")||(p.default.addEventV2({category:"api_builder_integrations",action:"connected_integration_action_"+e.service,label:"edit",value:1}),c.default.transitionTo(m.V10_API_EDIT_APM_INTEGRATION_NAV_IDENTIFIER,{apiId:h.get(e,"model.model.__version.apiId"),integrationId:h.get(e,"id")},{service:e.service},{additionalContext:{origin:"api_builder"}}))}}]},{name:"Alerts Page",type:"text",actions:[{name:"Alerts Link",type:"div",source:"integration",id:"alerts-link",getLabel:e=>o.createElement(s.default,{type:"link-default",isExternal:!0},"View alerts"),action:e=>{h.get(e,"variables.opsgenie_site")?(0,l.openExternalLink)(`${h.get(e,"variables.opsgenie_site")}/alert/list`,"_blank"):(0,l.openExternalLink)("https://opsgenie.com/alert/list","_blank")}}]},{name:"Tags",type:"text",label:"Alert tags"},{name:"Tags",type:"text",actions:[{name:"Alerts Link",type:"div",source:"integration",getLabel:e=>h.isEmpty(h.get(e,"variables.tags"))?"(No tags configured!)":h.map(h.get(e,"variables.tags"),(e=>o.createElement(a.default,{status:"neutral",text:e.value,className:"connected-integration-row-action-tag"})))}]}]},show_edit:!0,show_delete:!0},monitor_run_statuspage:{type:"alerts",configured_tooltip:{items:[{name:"Linked Component",type:"text",label:"Connected component:",actions:[{name:"Component Name",type:"link",source:"integration",id:"linked-component",bootstrap:(e,t)=>{if(!h.get(e,"variables.component_id"))return t(null,{});u.default.fetchActionDetails(e.id,{type:"getComponent"}).then((e=>e.status&&200===e.status?t(null,h.get(e,"body.data")):t({bootstrapFailed:!0,details:h.get(e,"body")}))).catch((e=>t(e)))},getLabel:e=>h.isEmpty(e)?"(No connected components!)":h.get(e,"name",""),action:e=>{h.isEmpty(e)||(0,l.openExternalLink)(`https://manage.statuspage.io/pages/${h.get(e,"page_id")}/components/${h.get(e,"id")}/edit`,"_blank")}}]},{name:"Component Status",type:"text",label:"Status: ",actions:[{name:"Component Name",type:"icon",source:"integration",bootstrap:(e,t)=>{if(!h.get(e,"variables.component_id"))return t(null,{});u.default.fetchActionDetails(e.id,{type:"getComponent"}).then((e=>e.status&&200===e.status?t(null,h.get(e,"body.data")):t(e))).catch((e=>t(e)))},getLabel:e=>{if(h.isEmpty(e))return o.createElement(a.default,{status:"neutral",text:"NA"});switch(h.get(e,"status")){case"operational":return o.createElement(a.default,{status:"success",text:"operational"});case"partial_outage":return o.createElement(a.default,{status:"critical",text:"partial outage"});case"degraded_performance":return o.createElement(a.default,{status:"warning",text:"degraded performance"});case"under_maintenance":return o.createElement(a.default,{status:"info",text:"under maintenance"});case"major_outage":return o.createElement(a.default,{status:"critical",text:"major outage"});default:return o.createElement(a.default,{status:"neutral",text:"NA"})}}}]},{name:"View Incidents",type:"link",label:"View incidents",id:"view-incidents",href:"https://manage.statuspage.io/pages/$page_id/incidents",params:[{label:"page_id",key:"page_id",entity:"integration"}]}]},show_edit:!0,show_delete:!0},monitor_run_victorops:{type:"alerts",configured_tooltip:{items:[{name:"View Incidents",type:"link",label:"View incidents on Splunk On-Call",id:"view-incidents",href:"https://portal.victorops.com",params:[]}]}},monitor_run_new_relic:{type:"metrics",configured_tooltip:{items:[{name:"metrics",type:"link",label:"View metrics",id:"view-metrics",href:"https://one.newrelic.com/launcher/nr1-core.explorer?pane=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5saXN0aW5nIiwiZmF2b3JpdGVzIjp7InNlbGVjdGVkIjp0cnVlLCJ2aXNpYmxlIjp0cnVlfSwibGFzdFZpZXdlZCI6eyJzZWxlY3RlZCI6ZmFsc2UsInZpc2libGUiOnRydWV9fQ==&overlay=eyJuZXJkbGV0SWQiOiJkYXRhLWV4cGxvcmVyLmV4cGxvcmVyIiwiY29udGV4dE5lcmRsZXRJZCI6ImxvZ2dlci5ob21lIiwid29ya3NwYWNlIjp7ImRhdGFUeXBlIjoibWV0cmljIiwiY2hhcnRUeXBlIjoiTElORSIsImFjY291bnRJZCI6MzM5MjgxNSwiYXR0cmlidXRlU2VhcmNoIjoicG9zdG1hbiIsInF1ZXJ5Ijp7InNlbGVjdCI6eyJhdHRyaWJ1dGUiOiJwb3N0bWFuLm1vbml0b3IucmVxdWVzdC5yZXF1ZXN0Ynl0ZXMiLCJhZ2dyZWdhdG9yIjoibGF0ZXN0In0sImZhY2V0IjoiIiwiZmlsdGVycyI6W10sImV2ZW50VHlwZSI6Ik1ldHJpYyIsImxpbWl0IjoiIn0sInRpbWVSYW5nZSI6eyJiZWdpblRpbWUiOm51bGwsImVuZFRpbWUiOiJub3ciLCJkdXJhdGlvbiI6NjA0ODAwMDAwfX19&sidebars[0]=eyJuZXJkbGV0SWQiOiJucjEtY29yZS5jYXRlZ29yaWVzIiwicm9vdE5lcmRsZXRJZCI6Im5yMS1jb3JlLmxpc3RpbmciLCJmYXZvcml0ZXMiOnsic2VsZWN0ZWQiOnRydWUsInZpc2libGUiOnRydWV9LCJsYXN0Vmlld2VkIjp7InNlbGVjdGVkIjpmYWxzZSwidmlzaWJsZSI6dHJ1ZX19&state=7f0bbb83-1f93-b0fd-40c6-b9995b98e3dc",params:[]}]},show_edit:!0,show_delete:!0},monitor_run_coralogix:{type:"metrics",configured_tooltip:{items:[{name:"Coralogix Site Input",type:"text",label:"Note: You can now add Coralogix site for easy redirection.",isHidden:(e,t)=>!h.isEmpty(h.get(e,"variables.coralogix_site")),actions:[{name:"Add Coralogix site",type:"link",source:"integration",id:"add_coralogix_site",getLabel:e=>{if(!h.get(e,"variables.coralogix_site"))return o.createElement(s.default,{type:"link-default"},"Add site")},action:e=>{h.get(e,"variables.coralogix_site")||(p.default.addEventV2({category:"api_builder_integrations",action:"connected_integration_action_"+e.service,label:"edit",value:1}),c.default.transitionTo(m.V10_API_EDIT_APM_INTEGRATION_NAV_IDENTIFIER,{apiId:h.get(e,"model.model.__version.apiId"),integrationId:h.get(e,"id")},{service:e.service},{additionalContext:{origin:"api_builder"}}))}}]},{name:"dashboard",type:"button",actions:[{name:"Coralogix Link",type:"div",source:"integration",id:"coralogix-site",getLabel:e=>h.get(e,"variables.coralogix_site")?o.createElement(s.default,{type:"link-default",isExternal:!0},"View logs"):o.createElement(s.default,{type:"link-default",isExternal:!0},"View dashboard"),action:e=>{h.get(e,"variables.coralogix_site")?(0,l.openExternalLink)(`${h.get(e,"variables.coralogix_site")}/#/query-new/logs?query=(coralogix.metadata.applicationName%3A(%22postman%22))%20AND%20(coralogix.metadata.severity%3A(%221%22%20OR%20%222%22%20OR%20%223%22%20OR%20%224%22%20OR%20%225%22%20OR%20%226%22))&time=from:now-7d,to:now&page=0`,"_blank"):(0,l.openExternalLink)("https://dashboard.coralogix.com/#/login/user","_blank")}}]}]},show_edit:!0,show_delete:!0},monitor_run_pagerduty:{type:"metrics",configured_tooltip:{items:[{name:"incidents",type:"link",label:"View incidents",id:"view-incidents",href:"https://app.pagerduty.com",params:[]}]},show_edit:!0,show_delete:!0},monitor_run_bigpanda:{type:"metrics",configured_tooltip:{items:[{name:"incidents",type:"link",label:"View incidents",id:"view-incidents",href:"https://a.bigpanda.io",params:[]}]},show_edit:!0,show_delete:!0},monitor_run_keen_io:{type:"metrics",configured_tooltip:{items:[{name:"metrics",type:"link",label:"View metrics",id:"view-metrics",href:"https://keen.io/projects/$project_id/data_explorer?keen_explorer_state=eyJzYXZlZFF1ZXJ5Ijp7Im5hbWUiOiIiLCJkaXNwbGF5TmFtZSI6IiIsInRhZ3MiOltdLCJpc0Nsb25lZCI6ZmFsc2UsImNhY2hlZCI6ZmFsc2UsInJlZnJlc2hSYXRlIjowLCJleGlzdHMiOmZhbHNlLCJpc1F1ZXJ5RWRpdGFibGUiOnRydWUsImlzUXVlcnlMb2FkaW5nIjpmYWxzZSwiaXNDb25uZWN0ZWREYXNoYm9hcmRzTG9hZGluZyI6ZmFsc2UsImlzQ29ubmVjdGVkRGFzaGJvYXJkc0Vycm9yIjpmYWxzZSwiY29ubmVjdGVkRGFzaGJvYXJkcyI6bnVsbH0sInZpc3VhbGl6YXRpb24iOnsidHlwZSI6InRhYmxlIiwiY2hhcnRTZXR0aW5ncyI6eyJmb3JtYXRWYWx1ZSI6e30sImNvbHVtbnNOYW1lc01hcHBpbmciOnt9fSwid2lkZ2V0U2V0dGluZ3MiOnsidGl0bGUiOnsiY29udGVudCI6IiJ9LCJzdWJ0aXRsZSI6eyJjb250ZW50IjoiIn0sImxlZ2VuZCI6eyJlbmFibGVkIjp0cnVlLCJwb3NpdGlvbiI6InRvcCIsImFsaWdubWVudCI6ImxlZnQiLCJsYXlvdXQiOiJob3Jpem9udGFsIn0sImNhcmQiOnsiZW5hYmxlZCI6dHJ1ZSwiYmFja2dyb3VuZENvbG9yIjoidHJhbnNwYXJlbnQiLCJib3JkZXJSYWRpdXMiOjAsImJvcmRlciI6Im5vbmUiLCJoYXNTaGFkb3ciOmZhbHNlfX19LCJxdWVyeSI6eyJhbmFseXNpc190eXBlIjoiZXh0cmFjdGlvbiIsImV2ZW50X2NvbGxlY3Rpb24iOiJwb3N0bWFuX21vbml0b3JzIiwidGltZXpvbmUiOiJFdGMvVVRDIiwidGltZWZyYW1lIjoidGhpc18xNF9kYXlzIiwibGF0ZXN0IjoxMDAsImZpbHRlcnMiOltdfX0=",params:[{label:"project_id",key:"project_id",entity:"integration"}]}]},show_edit:!0,show_delete:!0},monitor_run_splunk:{type:"metrics",configured_tooltip:{items:[{name:"metrics",type:"link",label:"View metrics",id:"view-metrics",href:"$splunk_host/en-US/app/launcher/search?q=search%20sourcetype%3D%22Metrics%22",params:[{label:"splunk_host",key:"splunk_host",entity:"integration"}]}]},show_edit:!0,show_delete:!0}}},"./integrations/connected-integrations/stores/ConnectedIntegrationsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var o,s,i,a,r,l,c,d,u,p,m=n("../../node_modules/mobx/lib/mobx.module.js"),h=n("./js/stores/StoreManager.js"),g=n("./integrations/monitoring/stores/MonitorIntegrationStore.js"),f=n("./node_modules/lodash/lodash.js"),b=n.n(f),y=n("./integrations/connected-integrations/manifests/ConnectedIntegrationsManifest.js"),v=n("./integrations/connected-integrations/constants/ConnectedIntegrationsDefaultTemplate.js"),I=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),E=n("../../node_modules/console-browserify/index.js");function _(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function S(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let C=(s=S((o=class{constructor(e,t){_(this,"entity",s,this),_(this,"model",i,this),_(this,"entityIntegrationStore",a,this),_(this,"configuredIntegrations",r,this),_(this,"configuredIntegrationsPerEntity",l,this),_(this,"isHydrating",c,this),_(this,"manifest",d,this),_(this,"apiId",u,this),_(this,"versionId",p,this),this.entityStoreMap={monitor:(0,h.resolveStoreInstance)(g.default)},this.STATES={CONFIGURED_INTEGRATIONS:"configured-integrations",CONFIGURED_INTEGRATIONS_PER_ENTITY:"configured-integrations-per-entity",LOADING:"loading"},this.entity=t,this.model=e,this.entityIntegrationStore=this.entityStoreMap[t],this.manifest=y.default,this.versionId=this.model.__version.id,this.apiId=this.model.__version.apiId,this.setState(this.STATES.LOADING,!0),this.entityIntegrationStore&&(0,m.reaction)((()=>this.entityIntegrationStore.configuredIntegrations[this.model.__version.id]),(()=>{this.populateConnectedIntegrationsManifest(this.entityIntegrationStore.getAvailableIntegrations()),this.setState(this.STATES.CONFIGURED_INTEGRATIONS,this.entityIntegrationStore.configuredIntegrations),this.populateConfiguredIntegrations()}))}get configuredIntegrationsForRelation(){return(0,m.toJS)(this.configuredIntegrationsPerEntity)}get isLoading(){return this.isHydrating}async fetchPermissions(e){let t=(0,m.toJS)(this.configuredIntegrations[this.model.__version.id]);b().isEmpty(t)&&e(),b().each(t,((n,o)=>{I.default.getIntegrationData(n.id).then((s=>{200!==s.status||b().isEmpty(s.body.data)?e():n.allowedActions=b().get(s,["body","meta","allowedActions"]),o===t.length-1&&e(t)})).catch((e=>{E.log(e)}))}))}populateConfiguredIntegrations(){this.fetchPermissions((e=>{let t={};b().each(e,(e=>{let n=e.rule,o=e.executor;!t[o]&&(t[o]={}),t[o][n]=t[o][n]||[],t[o][n].push(e)})),this.setState(this.STATES.CONFIGURED_INTEGRATIONS_PER_ENTITY,t),this.setState(this.STATES.LOADING,!1)}))}populateConnectedIntegrationsManifest(e){b().forEach(e,(e=>{b().forEach(e.integrations[e.id],((t,n)=>{this.manifest[n]?this.manifest[n]=b().merge(this.manifest[n],{name:e.name,description:e.description,dark_icon_url:e.dark_icon_url,icon_url:e.icon_url,icon:e.icon}):this.manifest[n]=b().merge(v.default,{name:e.name,description:e.description,dark_icon_url:e.dark_icon_url,icon_url:e.icon_url,icon:e.icon})}))}))}setState(e,t){switch(e){case this.STATES.CONFIGURED_INTEGRATIONS:this.configuredIntegrations=t;break;case this.STATES.CONFIGURED_INTEGRATIONS_PER_ENTITY:this.configuredIntegrationsPerEntity=t;break;case this.STATES.LOADING:this.isHydrating=t}}}).prototype,"entity",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=S(o.prototype,"model",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=S(o.prototype,"entityIntegrationStore",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=S(o.prototype,"configuredIntegrations",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=S(o.prototype,"configuredIntegrationsPerEntity",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=S(o.prototype,"isHydrating",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=S(o.prototype,"manifest",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=S(o.prototype,"apiId",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=S(o.prototype,"versionId",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S(o.prototype,"configuredIntegrationsForRelation",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"configuredIntegrationsForRelation"),o.prototype),S(o.prototype,"isLoading",[m.computed],Object.getOwnPropertyDescriptor(o.prototype,"isLoading"),o.prototype),S(o.prototype,"fetchPermissions",[m.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchPermissions"),o.prototype),S(o.prototype,"populateConfiguredIntegrations",[m.action],Object.getOwnPropertyDescriptor(o.prototype,"populateConfiguredIntegrations"),o.prototype),S(o.prototype,"populateConnectedIntegrationsManifest",[m.action],Object.getOwnPropertyDescriptor(o.prototype,"populateConnectedIntegrationsManifest"),o.prototype),S(o.prototype,"setState",[m.action],Object.getOwnPropertyDescriptor(o.prototype,"setState"),o.prototype),o)},"./integrations/monitoring/add/Datadog/Datadog.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("./integrations/monitoring/stores/APMIntegrationStore.js"),d=n("./js/stores/StoreManager.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Stepper.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepHeader.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Step.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanels.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanel.js"),b=n("./integrations/navigation/constants.js"),y=n("./integrations/monitoring/constants.js"),v=n("./api-dev/constants/APISubViews.js"),I=n("./js/services/NavigationService.js"),E=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts"),_=n("./appsdk/workbench/TabService.js"),S=n("./js/modules/services/AnalyticsService.js"),C=n("./integrations/monitoring/add/Datadog/DatadogMonitorSetupForm.js"),T=n("./integrations/monitoring/add/Datadog/DatadogAPMSetupForm.js"),j=n("./integrations/monitoring/containers/helpers/DatadogAPMUtils.js"),A=n("./integrations/utils/CommonHelperMethods.ts");let w=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={nickname:"",activeStepIndex:0,stepperStatuses:["progress","pending"],isCreatingIntegration:!1,errorNickname:"",monitor:"",dashboardGuids:[],datadogAPM:{environments:j.default.getEmptyEnvironmentsList(),datadogAuthInfo:{apiKey:"",appKey:"",errorApiKey:!1,errorAppKey:!1,region:"us1"},datadogDashboardGuids:[]},monitorIntegrationStates:[{nickname:y.MONITOR_RUN_DATADOG_INTEGRATION_NAME,errorNickname:"",apiKey:"",errorApiKey:!1,executor:null,region:"us1",metrics:!0,events:!0}]},this.integrationsStore=(0,d.resolveStoreInstance)(l.default),this.apmIntegrationsStore=(0,d.resolveStoreInstance)(c.default),this.setActiveStepIndex=this.setActiveStepIndex.bind(this),this.renderSkipButton=this.renderSkipButton.bind(this),this.renderConnectButton=this.renderConnectButton.bind(this),this.client_category=y.API_MONITORING,this.setDatadogAPMEnvs=this.setDatadogAPMEnvs.bind(this),this.setDatadogAPMAuthInfo=this.setDatadogAPMAuthInfo.bind(this),this.setDatadogAPMDashboardGuids=this.setDatadogAPMDashboardGuids.bind(this),this.createDatadogAPMIntegrationInstance=this.createDatadogAPMIntegrationInstance.bind(this),this.getAPMSetupForm=this.getAPMSetupForm.bind(this),this.createIntegrationInstanceBulk=this.createIntegrationInstanceBulk.bind(this),this.prepareMonitorSetupPayload=this.prepareMonitorSetupPayload.bind(this),this.getMonitorSetupForm=this.getMonitorSetupForm.bind(this)}componentDidMount(){const e=i().find(this.apmIntegrationsStore.getConfiguredIntegrations(),{rule:y.DATADOG_APM_CLASS_ID}),t=!i().isEmpty(e);this.setActiveStepIndex(t?1:0)}setActiveStepIndex(e){let{stepperStatuses:t}=this.state,n=i().find(this.apmIntegrationsStore.getConfiguredIntegrations(),{rule:y.DATADOG_APM_CLASS_ID});t=i().map(t,((t,n)=>"completed"===t?"completed":n===e?"progress":"pending")),i().isEmpty(n)||(t[0]="completed"),this.setState({stepperStatuses:t,activeStepIndex:e})}renderSkipButton(e){let{apiId:t,apiVersionId:n,controller:o}=this.props;return a.createElement(u.default,{className:"integrations-add-actions__button--cancel",type:"secondary",text:y.SKIP_BUTTON_TEXT[e],onClick:()=>{"configureAPM"===e?this.setState({stepperStatuses:["pending","progress"],activeStepIndex:1}):(_.default.closeByRoute(b.V10_API_ADD_APM_INTEGRATION_URL,{apiId:t}),I.default.transitionTo("build.apiVersion",{apiId:t,versionId:n},{tab:v.MONITORING}))}})}renderConnectButton(e,t){let n,{isCreatingIntegration:o,datadogAPM:s,monitorIntegrationStates:r}=this.state,{controller:l}=this.props,{postman_api_id:c,apiversion:d}=t.inputs,{environments:p}=s,m=j.default.areEnvironmentsValid(p),{apiKey:h,appKey:g,region:f,errorApiKey:y,errorAppKey:E}=s.datadogAuthInfo;return"configureAPM"===e?n=o||!(h&&g&&f)||!m||y||E:i().forEach(r,(e=>{(i().isEmpty(e.apiKey)||i().isEmpty(e.executor)||!e.events&&!e.metrics)&&(n=!0)})),a.createElement(u.default,{type:"primary",text:"Connect",className:"integrations-add-actions__button--proceed",isLoading:o,isDisabled:n,tooltip:n&&"Fill in the details to continue",onClick:()=>{if("configureAPM"===e)this.setState({isCreatingIntegration:!0}),this.createDatadogAPMIntegrationInstance(t).then((()=>{this.setState({stepperStatuses:["completed","progress"],activeStepIndex:1,isCreatingIntegration:!1})})).catch((()=>{this.setState({isCreatingIntegration:!1})}));else{let e=this.prepareMonitorSetupPayload();this.setState({isCreatingIntegration:!0}),this.createIntegrationInstanceBulk(e).then((()=>{this.setState({isCreatingIntegration:!1}),_.default.closeByRoute(b.V10_API_ADD_APM_INTEGRATION_URL,{apiId:c}),I.default.transitionTo("build.apiVersion",{apiId:c,versionId:d},{tab:v.MONITORING})})).catch((()=>{this.setState({isCreatingIntegration:!1})}))}}})}setDatadogAPMDashboardGuids(e){this.setState((t=>({datadogAPM:{...t.datadogAPM,datadogDashboardGuids:e}})))}setDatadogAPMAuthInfo(e,t){const n=this.state.datadogAPM.datadogAuthInfo;n[e]=t,this.setState((e=>({datadogAPM:{...e.datadogAPM,datadogAuthInfo:n}})))}setDatadogAPMEnvs(e){this.setState((t=>({datadogAPM:{...t.datadogAPM,environments:e}})))}createDatadogAPMIntegrationInstance(e){const t=(0,A.getErrorContextObject)("Datadog APM Integration");let{name:n,inputs:o}=e,{postman_api_id:s,apiversion:i}=o;return new Promise(((e,a)=>{E.default.createIntegrationInstance(y.DATADOG_APM_CLASS_ID,n,o).then((t=>{200===t.status&&t.body.model_id?(pm.toasts.success("Added a new integration"),S.default.addEventV2({category:"integrations",action:y.DATADOG_APM_CLASS_ID+"_created_integration",label:"api_workbench_monitoring_tab",value:1}),pm.windowEvents.emit(`${y.API_MONITORING}-integration-added`,{apiId:s,apiVersionId:i}),this.apmIntegrationsStore.fetchIntegrationInstance("apiversion",i),e(t.body)):(pm.toasts.error("Something went wrong while adding a new integration"),this.setState({isCreatingIntegration:!1}),a(t&&t.body))})).catch((e=>{pm.toasts.error(e.error.details&&e.error.details.message||e.error.message||"Something went wrong while adding a new integration"),pm.logger.error("Monitoring Tab Add Form ~ Something went wrong while adding a new integration",e,{context:t}),this.setState({isCreatingIntegration:!1}),a(e)}))}))}getAPMSetupForm(){return a.createElement(T.default,{apiId:this.props.apiId,apiVersionId:this.props.apiVersionId,rule:y.DATADOG_APM_CLASS_ID,datadogAPM:this.state.datadogAPM,setDatadogAPMEnvs:this.setDatadogAPMEnvs,setDatadogAPMAuthInfo:this.setDatadogAPMAuthInfo,setDatadogAPMDashboardGuids:this.setDatadogAPMDashboardGuids})}createIntegrationInstanceBulk(e){const t=(0,A.getErrorContextObject)("Datadog Monitor Integration");return new Promise(((n,o)=>{E.default.createIntegrationInstanceBulk(e).then((t=>{200===t.status?(pm.toasts.success(`Added ${e.length} new integrations.`),S.default.addEventV2({category:"integrations",action:y.DATADOG_MONITOR_CLASS_ID+"_created_integration",label:"api_workbench_monitoring_tab",value:e.length}),n(t.body)):(pm.toasts.error("Something went wrong while adding a new integration"),this.setState({isCreatingIntegration:!1}),o(t&&t.body))})).catch((e=>{pm.toasts.error(e.error.details&&e.error.details.message||e.error.message||"Something went wrong while adding a new integration"),pm.logger.error("Monitoring Tab Add Form ~ Something went wrong while adding a new integration",e,{context:t}),this.setState({isCreatingIntegration:!1}),o(e)}))}))}prepareMonitorSetupPayload(){let e,{monitorIntegrationStates:t}=this.state;return e=i().map(t,(e=>{let t=e.events,n=e.metrics;return{name:e.nickname,class:y.DATADOG_MONITOR_CLASS_ID,inputs:[{key:"api_key",value:e.apiKey},{key:"region",value:e.region},{key:"monitor",value:i().get(e,"executor.value")},{key:"new_metric",value:!0},{key:"options",value:(t&&n?"both":t&&"events")||n&&"metrics"}]}})),e}getMonitorSetupForm(){return a.createElement(C.default,{selectedWorkspace:this.props.selectedWorkspace,apiId:this.props.apiId,apiVersionId:this.props.apiVersionId,controller:this.props.controller,setMonitorIntegrationStates:e=>{this.setState({monitorIntegrationStates:e})},monitorIntegrationStates:this.state.monitorIntegrationStates})}render(){const{activeStepIndex:e,stepperStatuses:t,datadogAPM:n}=this.state,{rule:o,apiId:s,apiVersionId:r}=this.props,{environments:l,datadogDashboardGuids:c,datadogAuthInfo:d}=n,{apiKey:u,appKey:b,region:v}=d,I=t[0],E=t[1];let _={name:y.APM_DATADOG_INTEGRATION_NAME,class:y.DATADOG_APM_CLASS_ID,inputs:{api_key:u,app_key:b,region:v,environments:i().map(l,(e=>({name:e.name,services:e.services}))),postman_api_id:s,apiversion:r,dashboard_guids:c}};return a.createElement(p.default,{activeStepIndex:e,onChange:this.setActiveStepIndex},a.createElement(m.default,null,a.createElement(h.default,{label:"Monitor API performance",status:I,isDisabled:"completed"===I}),a.createElement(h.default,{label:"Post monitoring results",status:E})),a.createElement(g.default,null,a.createElement(f.default,{className:"add-integration-step-panel",heading:"Monitor API Performance from Postman",description:"View Datadog metrics and graphs directly from Postman.",primaryAction:this.renderConnectButton("configureAPM",_),secondaryAction:this.renderSkipButton("configureAPM")},this.getAPMSetupForm()),a.createElement(f.default,{className:"add-integration-step-panel",heading:"Post monitoring results",description:"Send your Postman monitor run metrics and events to Datadog.",primaryAction:this.renderConnectButton("configureMonitoring",_),secondaryAction:this.renderSkipButton("configureMonitoring")},this.getMonitorSetupForm())))}})||o},"./integrations/monitoring/add/Datadog/DatadogAPMSetupForm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/IntegrationsStore.js"),d=n("./integrations/monitoring/services/index.js"),u=n("./integrations/monitoring/constants.js"),p=n("./node_modules/prop-types/index.js"),m=n.n(p),h=n("./node_modules/uuid/index.js"),g=n.n(h),f=n("./integrations/monitoring/containers/helpers/DatadogAPMUtils.js"),b=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/ServiceSetup/DatadogAPM/DatadogCommonConfigs.js"),y=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/ServiceSetup/DatadogAPM/DatadogDashboardsAndEnvironments.js");const v=(0,n("./integrations/utils/CommonHelperMethods.ts").getErrorContextObject)("Datadog APM Integration");let I=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={nickname:"",isCreatingIntegration:!1,authenticationFailed:!1,errorNickname:"",apiKey:"",appKey:"",errorApiKey:!1,errorAppKey:!1,selectedDashboards:[],availableDashboards:[],errorDashboards:!1,loadingDashboards:!1,region:"us1"},this.integrationsStore=(0,l.resolveStoreInstance)(c.default),this.onRegionSelectorChange=this.onRegionSelectorChange.bind(this),this.onServiceSelect=this.onServiceSelect.bind(this),this.handleApiKeyInput=this.handleApiKeyInput.bind(this),this.handleAppKeyInput=this.handleAppKeyInput.bind(this),this.onDashboardSelect=this.onDashboardSelect.bind(this),this.listDashboards=this.listDashboards.bind(this),this.resetSelectedDashboardsAndServices=this.resetSelectedDashboardsAndServices.bind(this),this.client_category=u.API_MONITORING,this.removeEnvironmentSelector=this.removeEnvironmentSelector.bind(this)}onServiceSelect(e){if(!i().isArray(e))return;let t=i().map(e,"value");this.setState({selectedServices:e,serviceNames:t})}onDashboardSelect(e){if(!i().isArray(e))return;let t=i().map(e,(e=>({label:e.title,link:e.url})));this.setState({selectedDashboards:e},(()=>{this.props.setDatadogAPMDashboardGuids(t)}))}onRegionSelectorChange(e){this.setState((t=>{if(e!==t.region)return this.props.setDatadogAPMAuthInfo("region",e),this.resetForm(),{region:e,apiKey:"",appKey:"",errorApiKey:!1,errorAppKey:!1}}))}resetForm(){this.props.setDatadogAPMAuthInfo("apiKey",""),this.props.setDatadogAPMAuthInfo("appKey",""),this.resetSelectedDashboardsAndServices()}resetSelectedDashboardsAndServices(){this.setState({selectedDashboards:[],availableDashboards:[],errorDashboards:!1,loadingDashboards:!1},(()=>{this.props.setDatadogAPMDashboardGuids([]),this.props.setDatadogAPMEnvs(f.default.getEmptyEnvironmentsList())}))}handleApiKeyInput(e){let t={apiKey:e.trim(),errorApiKey:!1};if(i().isEmpty(e.trim()))return t.errorApiKey=!0,this.setState(t),this.resetSelectedDashboardsAndServices(),void this.props.setDatadogAPMAuthInfo("apiKey",t.apiKey);t.apiKey!==i().get(this.props.datadogAPM,"datadogAuthInfo.apiKey")&&this.resetSelectedDashboardsAndServices(),this.props.setDatadogAPMAuthInfo("apiKey",t.apiKey),this.setState(t,(()=>{this.listDashboards()}))}handleAppKeyInput(e){let t={appKey:e.trim(),errorAppKey:!1};if(i().isEmpty(e.trim()))return t.errorAppKey=!0,this.setState(t),this.resetSelectedDashboardsAndServices(),void this.props.setDatadogAPMAuthInfo("appKey",t.appKey);t.appKey!==i().get(this.props.datadogAPM,"datadogAuthInfo.appKey")&&this.resetSelectedDashboardsAndServices(),this.props.setDatadogAPMAuthInfo("appKey",t.appKey),this.setState(t,(()=>{this.listDashboards()}))}removeEnvironmentSelector(e){const{environments:t}=this.props.datadogAPM;let n=i().cloneDeep(t);i()(n).splice(e,1).value(),this.props.setDatadogAPMEnvs(n)}async listDashboards(){this.integrationsStore.integrationClass||await this.integrationsStore.getIntegrationClassDetails(u.DATADOG_APM_CLASS_ID);const{rule:e}=this.props,{datadogDashboardGuids:t}=this.props.datadogAPM,{apiKey:n,appKey:o,region:s}=this.state,a=i().find(this.integrationsStore.integrationClass.inputs,{key:"dashboard_guids"}),r=i().get(a,"options.serviceActionId"),l=i().get(a,"id");if(i().isEmpty(n)||i().isEmpty(o)||!s)return void this.setState({authenticatingApiKey:!1,authenticationFailed:!1,errorApiKey:!i().isEmpty(o),errorAppKey:!i().isEmpty(n),errorDashboards:!1,loadingDashboards:!1,availableDashboards:[],selectedDashboards:[]});this.setState({authenticatingApiKey:!0,authenticationFailed:!1,errorApiKey:!1,errorAppKey:!1,loadingServices:!0,errorServices:!1,loadingDashboards:!0});const c={rule:e,api_key:n,app_key:o,region:s};d.default[e].listDashboards(c,null,r,l).then((e=>{this.setState({authenticatingApiKey:!1,errorApiKey:!1,errorAppKey:!1,loadingServices:!1});let n=i().map(i().get(e,"dashboards"),(e=>({...e,label:e.title,value:`${f.default.getDatadogHostname(s)}${e.url}`}))),o=i().filter(n,(e=>i().includes(i().map(t,"link"),e.url)));this.setState({availableDashboards:n,loadingDashboards:!1,selectedDashboards:o})})).catch((e=>{pm.logger.error("DatadogAPMSetupForm ~ Monitoring Tab Add Form ~ Error occurred while listing dashboards",e,{context:v}),this.resetSelectedDashboardsAndServices(),this.setState({authenticatingApiKey:!1,authenticationFailed:!0,errorApiKey:!0,errorAppKey:!0,errorDashboards:!1,loadingDashboards:!1,availableDashboards:[],selectedDashboards:[]}),pm.toasts.error("Double check if your API key and region are correct.",{title:"Authentication failed"})}))}render(){const{apiKey:e,appKey:t,region:n,errorApiKey:o,errorAppKey:s,loadingDashboards:r,selectedDashboards:l,availableDashboards:c,errorDashboards:d,authenticationFailed:p}=this.state,{environments:m}=this.props.datadogAPM,h=f.default.areEnvironmentsValid(m);return a.createElement(a.Fragment,null,a.createElement(b.default,{mode:u.ADD_MODE,handleOnApiKeyChange:e=>{this.setState({apiKey:e.target.value})},handleOnApiKeyBlur:()=>{this.handleApiKeyInput(e)},apiKey:e,apiKeyValidationStatus:o&&(p?"error":null),apiKeyValidationMessage:o&&(p?"Invalid API Key or APP key":i().isEmpty(e.trim())&&"Please enter the API key"),handleOnAppKeyChange:e=>{this.setState({appKey:e.target.value})},handleOnAppKeyBlur:()=>{this.handleAppKeyInput(t)},appKey:t,appKeyValidationStatus:s&&(p?"error":null),appKeyValidationMessage:s&&(p?"Invalid API Key or APP key":i().isEmpty(t.trim())&&"Please enter the Application key"),region:n,handleOnRegionChange:e=>{this.onRegionSelectorChange(e)}}),a.createElement(y.default,{mode:u.ADD_MODE,apiKey:e,appKey:t,selectedDashboards:l,availableDashboards:c,handleDashboardsChange:this.onDashboardSelect,isLoadingDashboards:r,errorDashboards:d,environments:m,rule:u.DATADOG_APM_CLASS_ID,onSelectEnvironmentServices:(e,t,n)=>{let o=m;o[n]={id:i().get(m[n],"id"),name:e,services:t},this.props.setDatadogAPMEnvs(o)},region:n,removeEnvironmentSelector:this.removeEnvironmentSelector,handleAddEnvironmentButtonClick:()=>{let e=m;m.push({name:"",services:[],id:g().v4()}),this.props.setDatadogAPMEnvs(e)},isAddEnvironmentButtonDisabled:!h}))}})||o;I.propTypes={apiId:m().string.isRequired,apiVersionId:m().string.isRequired,rule:m().string.isRequired,datadogAPM:m().object.isRequired,setDatadogAPMEnvs:m().func.isRequired,setDatadogAPMAuthInfo:m().func.isRequired,setDatadogAPMDashboardGuids:m().func.isRequired}},"./integrations/monitoring/add/Datadog/DatadogMonitorSetupForm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{APIKeyInputWrapper:function(){return w},default:function(){return O}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/IntegrationsStore.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBoxGroup/CheckboxGroup.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),v=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-clear-stroke-small.js"),I=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke-small.js"),E=n("./integrations/monitoring/constants.js"),_=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js"),S=n("./integrations/constants/integrationsConstants.ts"),C=n("./integrations/components/base/MonitorSelector.js"),T=n("./node_modules/prop-types/index.js"),j=n.n(T),A=n("./integrations/monitoring/containers/helpers/DatadogAPMUtils.js");const w=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default.div`
  display: flex;
  margin-bottom: var(--spacing-zero) !important;
`;let O=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={nickname:"",errorNickname:"",errorApiKey:!1},this.integrationsStore=(0,l.resolveStoreInstance)(c.default),this.toggle=this.toggle.bind(this),this.renderMonitorSetupForm=this.renderMonitorSetupForm.bind(this),this.addMonitorSetupForm=this.addMonitorSetupForm.bind(this),this.renderAddMonitorButton=this.renderAddMonitorButton.bind(this),this.onMonitorDataChange=this.onMonitorDataChange.bind(this),this.removeMonitorSetupForm=this.removeMonitorSetupForm.bind(this),this.getAPIKeyTextInput=this.getAPIKeyTextInput.bind(this)}toggle(e){this.setState((t=>({[e]:!t[e]})))}getAPIKeyTextInput(e,t,n,o,s,r){return a.createElement(d.default,{id:"datadog-api-key",type:"password",value:e,label:a.createElement(u.default,{text:"Datadog API Key",fieldType:"required"}),helperText:a.createElement(p.default,null,"Enter the API Key provided by Datadog or ",a.createElement(_.default,{extUrl:`${A.default.getDatadogHostname(t)}/organization-settings/api-keys`},"generate one here.")),onChange:e=>{n[r]=i().merge(o,{apiKey:e.target.value,errorApiKey:!1}),this.props.setMonitorIntegrationStates(n)},onBlur:()=>{n[r]=i().merge(o,{apiKey:e.trim(),errorApiKey:i().isEmpty(e.trim())}),this.props.setMonitorIntegrationStates(n)},validationStatus:s?"error":null,validationMessage:s?"Please enter an API key":""})}getInitialMonitorState(){return{nickname:E.MONITOR_RUN_DATADOG_INTEGRATION_NAME,errorNickname:"",apiKey:"",errorApiKey:!1,executor:"",region:"us1",metrics:!0,events:!0}}onMonitorDataChange(e,t,n){let o=this.props.monitorIntegrationStates,s=o[e],a={};a[t]=n,o[e]=i().merge(s,a),this.props.setMonitorIntegrationStates(o)}renderMonitorSetupForm(e){let{selectedWorkspace:t,apiId:n,apiVersionId:o,controller:s}=this.props,r=this.props.monitorIntegrationStates,l=r[e],{apiKey:c,executor:d,events:I,metrics:_,region:T}=l,j=i().get(r[e],"errorApiKey");return a.createElement(a.Fragment,null,r.length>1&&a.createElement(m.default,{justifyContent:"space-between",alignItems:"center"},a.createElement(p.default,{type:"strong"}," Setup Postman monitor to send run metrics "),a.createElement(h.default,{type:"tertiary",onClick:()=>this.removeMonitorSetupForm(e),text:"Remove",icon:a.createElement(v.default,null)})),a.createElement(g.default,{name:"Select Datadog site",value:T,direction:"column",onChange:t=>{this.onMonitorDataChange(e,"region",t),r[e]=i().merge(l,{apiKey:"",errorApiKey:!1}),this.props.setMonitorIntegrationStates(r)},label:a.createElement(u.default,{text:"Select Datadog region",type:"primary"}),helperText:"This helps us know what Datadog region to use."},a.createElement(f.default,{label:"US1 (datadoghq.com)",value:"us1"}),a.createElement(f.default,{label:"US3 (us3.datadoghq.com)",value:"us3"}),a.createElement(f.default,{label:"US5 (us5.datadoghq.com)",value:"us5"}),a.createElement(f.default,{label:"EU1 (datadoghq.eu)",value:"eu1"}),a.createElement(f.default,{label:"US1-FED (ddog-gov.com)",value:"us1-fed"})),this.getAPIKeyTextInput(c,T,r,l,j,e),a.createElement(C.default,{executor:d,selectedWorkspace:t,title:"Choose Monitor",description:"The results of the selected monitor will be sent to Datadog.",disabled:!t,onTargetSelect:t=>{this.onMonitorDataChange(e,"executor",t)},apiId:n,apiVersionId:o,configuredIntegrations:s.monitorIntegrationStore.getConfiguredIntegrations(),integrationClassId:E.DATADOG_MONITOR_CLASS_ID,mode:S.INTEGRATION_FORM_MODE.ADD}),a.createElement(m.default,{direction:"column",gap:"spacing-s"},a.createElement(b.default,{label:a.createElement(u.default,{type:"primary",text:"Datadog Events and Metrics"}),helperText:"Select at least one of the following options"},a.createElement(y.default,{label:"Send events for completed runs",isChecked:I,onChange:()=>{this.toggle("events"),this.onMonitorDataChange(e,"events",!l.events)}}),a.createElement(y.default,{label:"Send metrics for each run",isChecked:_,onChange:()=>{this.onMonitorDataChange(e,"metrics",!l.metrics)}}))))}addMonitorSetupForm(){let e=this.props.monitorIntegrationStates;e.push(this.getInitialMonitorState()),this.props.setMonitorIntegrationStates(e)}removeMonitorSetupForm(e){let t=this.props.monitorIntegrationStates;i()(t).splice(e,1).value(),this.props.setMonitorIntegrationStates(t)}renderAddMonitorButton(){let e,t=this.props.monitorIntegrationStates;return i().forEach(t,(t=>{(i().isEmpty(t.nickname)||i().isEmpty(t.apiKey)||i().isEmpty(t.executor)||!t.metrics&&!t.events)&&(e=!0)})),a.createElement(m.default,{width:"fit-content"},a.createElement(h.default,{type:"tertiary",onClick:()=>this.addMonitorSetupForm(),text:"Configure for another monitor",icon:a.createElement(I.default,null),isDisabled:e,tooltip:e&&"Fill in the details to add a new monitor",fullWidth:!1}))}render(){const e=this.props.monitorIntegrationStates;return a.createElement(a.Fragment,null,i().map(e,((e,t)=>this.renderMonitorSetupForm(t))),this.renderAddMonitorButton())}})||o;O.propTypes={controller:j().object.isRequired,apiId:j().string.isRequired,apiVersionId:j().string.isRequired,selectedWorkspace:j().string.isRequired,monitorIntegrationStates:j().array.isRequired,setMonitorIntegrationStates:j().func.isRequired}},"./integrations/monitoring/add/NewRelic.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("./js/stores/StoreManager.js"),d=n("./integrations/monitoring/stores/APMIntegrationStore.js"),u=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/index.js"),p=n("./integrations/components/base/MonitorSelector.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Stepper.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepHeader.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/Step.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanels.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Stepper/StepPanel.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),I=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),E=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),_=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),S=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),C=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),T=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-clear-stroke-small.js"),j=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke-small.js"),A=n("./integrations/monitoring/services/index.js"),w=n("./integrations/navigation/constants.js"),O=n("./integrations/monitoring/constants.js"),N=n("./api-dev/constants/APISubViews.js"),D=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js"),R=n("./js/services/NavigationService.js"),P=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts"),M=n("./appsdk/workbench/TabService.js"),L=n("./js/modules/services/AnalyticsService.js"),x=n("./integrations/constants/integrationsConstants.ts"),k=n("./integrations/monitoring/components/NewRelic/AddComponents.js"),F=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/ConnectedAccounts/IntegrationForms/FormHeader/ConnectedAccountsIntegrationFormHeader.js"),V=n("./integrations/services/AuthenticationInstanceService.ts"),B=n("./js/stores/CurrentUserStore.js"),U=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/UserService.ts"),z=n("./js/services/CurrentUserDetailsService.js");const H=pm.logger.getContext("NewRelicAdd","integrations");let G=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={nickname:"",apiKey:"",activeStepIndex:0,stepperStatuses:["progress","pending"],isCreatingIntegration:!1,authenticationFailed:!1,addNewRelicToTeam:!1,errorNickname:"",errorApiKey:"",monitor:"",region:O.NEW_RELIC_REGIONS.US,dashboardGuids:[],monitorIntegrationStates:[{nickname:O.MONITOR_RUN_NR_INTEGRATION_NAME,errorNickname:"",apiKey:"",errorApiKey:"",executor:""}],monitorIntegrationsToBeCreated:[],authenticationInstances:[],loadingAuthenticationInstances:!0,isUsingApiKeyInput:!1,installedAppFeatureFlag:!1},this.store=(0,c.resolveStoreInstance)(d.default),this.integrationsStore=(0,c.resolveStoreInstance)(l.default),this.toggle=this.toggle.bind(this),this.onRegionSelectorChange=this.onRegionSelectorChange.bind(this),this.onServiceSelect=this.onServiceSelect.bind(this),this.handleApiKeyInput=this.handleApiKeyInput.bind(this),this.listServices=this.listServices.bind(this),this.onDashboardSelect=this.onDashboardSelect.bind(this),this.setActiveStepIndex=this.setActiveStepIndex.bind(this),this.authenticateApiKey=this.authenticateApiKey.bind(this),this.renderSkipButton=this.renderSkipButton.bind(this),this.authenticateApiKeyDebounced=i().debounce(this.authenticateApiKey,1e3),this.renderMonitorSetupForm=this.renderMonitorSetupForm.bind(this),this.addMonitorSetupForm=this.addMonitorSetupForm.bind(this),this.prepareMonitorSetupPayload=this.prepareMonitorSetupPayload.bind(this),this.renderAddMonitorButton=this.renderAddMonitorButton.bind(this),this.onMonitorSelect=this.onMonitorSelect.bind(this),this.createNewRelicAPMIntegrationInstance=this.createNewRelicAPMIntegrationInstance.bind(this),this.removeMonitorSetupForm=this.removeMonitorSetupForm.bind(this),this.fetchAuthenticationInstances=this.fetchAuthenticationInstances.bind(this),this.reauthenticate=this.reauthenticate.bind(this),this.client_category=O.API_MONITORING,this.createAuthenticationInstance=this.createAuthenticationInstance.bind(this)}componentDidMount(){let{stepperStatuses:e}=this.state,t=i().find(this.store.getConfiguredIntegrations(),{rule:O.NEW_RELIC_APM_CLASS_ID}),n=(0,O.isFeatureFlagEnabled)(O.NEW_RELIC_APM_CLASS_ID);i().isEmpty(t)||(e[1]="progress",e[0]="completed",this.setState({stepperStatuses:e,activeStepIndex:1,isCreatingIntegration:!1,configuredAPMIntegration:t,hasAPMIntegrationConfigured:!0,region:i().get(t,"variables.region","us")})),n?(this.setState({installedAppFeatureFlag:n}),this.fetchAuthenticationInstances()):this.setState({isUsingApiKeyInput:!0,loadingAuthenticationInstances:!1})}fetchAuthenticationInstances(){const e=(0,c.resolveStoreInstance)(B.default);this.setState({loadingAuthenticationInstances:!0}),V.default.listAuthenticationInstances({scope:[{type:O.AUTHENTICATION_INSTANCE_SCOPES.TEAM,id:e.teamId}],authenticationClass:[O.AUTHENTICATION_CLASSES.NEW_RELIC_USER],service:[O.NEW_RELIC_SERVICE_ID]}).then((({body:e})=>{if(i().isNil(e.data))return pm.logger.error("BrowseIntegrations-AddNewRelic~Error loading authentication instances! Received null response!",{body:e},{context:H}),this.setState({loadingAuthenticationInstances:!1});if(i().isEmpty(e.data))return this.setState({isUsingApiKeyInput:!0,authenticationInstances:[],loadingAuthenticationInstances:!1});const t=i().head(e.data);U.default.fetchUserInfo(t.createdBy,((n,o)=>(n&&pm.logger.error("Error occurred while fetching user meta for authentication instance",n),t.createdByDetails=i().get(o,["body","users",t.createdBy]),this.setState({authenticationInstances:e.data,isUsingApiKeyInput:!1,loadingAuthenticationInstances:!1},(()=>{this.listServices(),this.listDashboards()})))))})).catch((e=>(pm.logger.error("APIBuilder-AddNewRelic~Error loading authentication instances!",e,{context:H}),this.setState({isUsingApiKeyInput:!0,loadingAuthenticationInstances:!1}))))}toggle(e){this.setState((t=>({[e]:!t[e]})))}onServiceSelect(e){if(!i().isArray(e))return;let t=i().map(e,(e=>e.value));this.setState({selectedService:e,serviceGuids:t})}onDashboardSelect(e){if(!i().isArray(e))return;let t=i().map(e,(e=>e.value));this.setState({selectedDashboard:e,dashboardGuids:t})}onRegionSelectorChange(e){this.setState({region:e})}handleApiKeyInput(e){this.setState({apiKey:e.trim(),errorApiKey:i().isEmpty(e.trim())?"Please enter an API key":""},(()=>{this.listServices(),this.listDashboards()}))}listServices(){const{rule:e}=this.props,{apiKey:t,region:n,isUsingApiKeyInput:o,authenticationInstances:s}=this.state,a={rule:e,type:"listServices"};o?(a.api_key=t,a.region=n):a.serviceAuth=i().head(s).id,this.setState({loadingServices:!0,errorServices:!1}),A.default[e].listServices(a).then((e=>{const t=i().map(i().get(e,"data.actor.entitySearch.results.entities"),(e=>({label:e.name,value:e.guid,...e})));this.setState({availableServices:t,loadingServices:!1})})).catch((e=>{this.setState({errorServices:!0,loadingServices:!1,availableServices:[],selectedService:[]})}))}listDashboards(){const{rule:e}=this.props,{apiKey:t,region:n,isUsingApiKeyInput:o,authenticationInstances:s}=this.state,a={rule:e,type:"listDashboards"};o?(a.api_key=t,a.region=n):a.serviceAuth=i().head(s).id,this.setState({loadingDashboards:!0,errorDashboards:!1}),A.default[e].listServices(a).then((e=>{let t=i().map(i().get(e,"data.actor.entitySearch.results.entities"),(e=>({label:e.name,value:e.guid,...e})));this.setState({availableDashboards:t,loadingDashboards:!1})})).catch((e=>{this.setState({errorDashboards:!0,loadingDashboards:!1,availableDashboards:[],selectedDashboard:[]})}))}createAuthenticationInstance(){const{apiKey:e,region:t}=this.state,n=[{type:O.AUTHENTICATION_INSTANCE_SCOPES.TEAM,id:z.default.teamId}],o={user_key:e,region:t},s=O.AUTHENTICATION_CLASSES.NEW_RELIC_USER;return new Promise(((e,t)=>{V.default.createAuthenticationInstance(s,n,o).then((n=>{const o=i().get(n,"body.data[0].id");o?e(o):t(n&&n.body)})).catch((e=>{t(e)}))}))}authenticateApiKey(){const{rule:e}=this.props,{apiKey:t,region:n}=this.state;this.setState({authenticatingApiKey:!0,authenticationFailed:!1,errorApiKey:!1,loadingServices:!0,errorServices:!1}),A.default[e].authenticateApiKey({rule:e,type:"getUserInfo",api_key:t,region:n}).then((e=>{this.setState({authenticatingApiKey:!1,errorApiKey:!1,loadingServices:!1},(()=>{this.listServices(),this.listDashboards()}))})).catch((e=>{this.setState({authenticatingApiKey:!1,authenticationFailed:!0,errorApiKey:!0,loadingServices:!1}),pm.toasts.error("Double check if your API key and region are correct.",{title:"Authentication failed"})}))}setActiveStepIndex(e){let{apmSetupStatus:t,monitorSetupStatus:n,hasAPMIntegrationConfigured:o}=this.state,s=[t,n];s=i().map(s,((t,n)=>"completed"===t?"completed":n===e?"progress":"pending")),o&&(s[0]="completed"),this.setState({stepperStatuses:s,activeStepIndex:e})}renderSkipButton(e){let{apiId:t,apiVersionId:n}=this.props;return a.createElement(m.default,{className:"integrations-add-actions__button--cancel",type:"secondary",text:O.SKIP_BUTTON_TEXT[e],onClick:()=>{"configureAPM"===e?this.setState({stepperStatuses:["pending","progress"],activeStepIndex:1}):(M.default.closeByRoute(w.V10_API_ADD_APM_INTEGRATION_URL,{apiId:t}),R.default.transitionTo("build.apiVersion",{apiId:t,versionId:n},{tab:N.MONITORING}))}})}createNewRelicAPMIntegrationInstance(e){let{name:t,inputs:n}=e,{postman_api_id:o,apiversion:s}=n;return new Promise(((e,i)=>{P.default.createIntegrationInstance(O.NEW_RELIC_APM_CLASS_ID,t,n).then((t=>{200===t.status&&t.body.model_id?(pm.toasts.success("Added a new integration"),L.default.addEventV2({category:"integrations",action:O.NEW_RELIC_APM_CLASS_ID+"_created_integration",label:"api_workbench_monitoring_tab",value:1}),pm.windowEvents.emit(`${O.API_MONITORING}-integration-added`,{apiId:o,apiVersionId:s}),this.store.fetchIntegrationInstance("apiversion",s),e(t.body)):(pm.toasts.error("Something went wrong while adding a new integration"),this.setState({isCreatingIntegration:!1}),i(t&&t.body))})).catch((e=>{pm.toasts.error(e.error.details&&e.error.details.message||e.error.message||"Something went wrong while adding a new integration"),pm.logger.error("Something went wrong while adding a new integration",e),this.setState({isCreatingIntegration:!1}),i(e)}))}))}createIntegrationInstanceBulk(e){return new Promise(((t,n)=>{P.default.createIntegrationInstanceBulk(e).then((o=>{200===o.status?(pm.toasts.success(`Added ${e.length} new integrations.`),L.default.addEventV2({category:"integrations",action:O.NEW_RELIC_MONITOR_CLASS_ID+"_created_integration",label:"api_workbench_monitoring_tab",value:e.length}),t(o.body)):(pm.toasts.error("Something went wrong while adding a new integration"),this.setState({isCreatingIntegration:!1}),n(o&&o.body))})).catch((e=>{pm.toasts.error(e.error.details&&e.error.details.message||e.error.message||"Something went wrong while adding a new integration"),pm.logger.error("Something went wrong while adding a new integration",e),this.setState({isCreatingIntegration:!1}),n(e)}))}))}async handleConnectAPMClick(e,t){let n;if(this.setState({isCreatingIntegration:!0}),t)try{n=await this.createAuthenticationInstance(),e.inputs.auth=n,delete e.inputs.api_key,delete e.inputs.region}catch(e){return this.setState({isCreatingIntegration:!1}),e.name===O.TEAM_AUTH_FORBIDDEN_ERROR?pm.toasts.error(O.ADD_NEW_RELIC_TO_TEAM_FORBIDDEN):pm.toasts.error(O.ERROR_ADDING_NEW_RELIC_TO_TEAM),void pm.logger.error("Error while adding authentication instance for New Relic",e,H)}this.createNewRelicAPMIntegrationInstance(e).then((()=>{this.setState({stepperStatuses:["completed","progress"],activeStepIndex:1,isCreatingIntegration:!1})})).catch((()=>{this.setState({isCreatingIntegration:!1})}))}handleConnectMonitoringClick(e){const{postman_api_id:t,apiversion:n}=e.inputs;let o=this.prepareMonitorSetupPayload();this.setState({isCreatingIntegration:!0}),this.createIntegrationInstanceBulk(o).then((()=>{this.setState({isCreatingIntegration:!1}),M.default.closeByRoute(w.V10_API_ADD_APM_INTEGRATION_URL,{apiId:t}),R.default.transitionTo("build.apiVersion",{apiId:t,versionId:n},{tab:N.MONITORING})})).catch((()=>{this.setState({isCreatingIntegration:!1})}))}renderConnectButton(e,t){let n,{apiKey:o,region:s,isCreatingIntegration:r,serviceGuids:l,monitorIntegrationStates:c,addNewRelicToTeam:d}=this.state,{auth:u}=t.inputs,p=!1;return(u||!i().isEmpty(o)&&s)&&(p=!0),"configureAPM"===e?n=r||!p||i().isEmpty(l):i().forEach(c,(e=>{(i().isEmpty(e.apiKey)||i().isEmpty(e.executor))&&(n=!0)})),a.createElement(m.default,{type:"primary",text:"Connect",className:"integrations-add-actions__button--proceed",isLoading:r,isDisabled:n,tooltip:n&&"Fill in the details to continue",onClick:async()=>{"configureAPM"===e?await this.handleConnectAPMClick(t,d):"configureMonitoring"===e&&this.handleConnectMonitoringClick(t)}})}renderMonitorSetupForm(e){let{monitorIntegrationStates:t}=this.state,{selectedWorkspace:n,apiId:o,apiVersionId:s,controller:r}=this.props,l=t[e],{nickname:c,errorNickname:d,apiKey:h,errorApiKey:g,executor:f}=l;return a.createElement(a.Fragment,null,e>0&&a.createElement(a.Fragment,null,a.createElement(k.MonitorSetupSectionSeparator,null),a.createElement(k.MonitoringSetupFormTitleContainer,null,a.createElement(k.MonitoringSetupFormTitle,null,`Monitor (${e+1}) Setup`),a.createElement(k.RemoveButtonContainer,null,a.createElement(m.default,{type:"tertiary",onClick:()=>this.removeMonitorSetupForm(e),text:"Remove",icon:a.createElement(T.default,null)})))),a.createElement(u.WorkspaceSelector,{description:"Select the workspace to which your monitor belongs to",selectedWorkspace:n}),a.createElement(u.SensitiveFieldSegmentV2,{title:"New Relic API Key",description:"Enter the Ingest-Licence Key provided by New Relic or ",customLink:a.createElement(D.default,{extUrl:"https://go.pstmn.io/docs-newrelic-insights-key"},"generate one here"),id:"new-relic-key",value:h,error:i().get(t[e],"errorApiKey"),onChange:n=>{t[e]=i().merge(l,{apiKey:n.target.value,errorApiKey:""}),this.setState({monitorIntegrationStates:t})},onBlur:()=>{t[e]=i().merge(l,{apiKey:h.trim(),errorApiKey:i().isEmpty(h.trim())?"Please enter an API key":""}),this.setState({monitorIntegrationStates:t})}}),a.createElement(p.default,{executor:f,selectedWorkspace:n,title:"Choose Monitor",description:"The results of the selected monitor will be sent to New Relic",disabled:!n,onTargetSelect:t=>{this.onMonitorSelect(e,t)},apiId:o,apiVersionId:s,configuredIntegrations:r.monitorIntegrationStore.getConfiguredIntegrations(),integrationClassId:O.NEW_RELIC_MONITOR_CLASS_ID,mode:x.INTEGRATION_FORM_MODE.ADD}))}addMonitorSetupForm(){this.setState((e=>{let{monitorIntegrationStates:t}=e;return t.push({nickname:O.MONITOR_RUN_NR_INTEGRATION_NAME,errorNickname:"",apiKey:"",errorApiKey:"",executor:""}),{monitorIntegrationStates:t}}))}removeMonitorSetupForm(e){this.setState((t=>{let{monitorIntegrationStates:n}=t;return i()(n).splice(e,1).value(),{monitorIntegrationStates:n}}))}prepareMonitorSetupPayload(){let e,{monitorIntegrationStates:t,region:n}=this.state;return e=i().map(t,(e=>({name:e.nickname,class:O.NEW_RELIC_MONITOR_CLASS_ID,inputs:[{key:"api_key",value:e.apiKey},{key:"region",value:n},{key:"monitor",value:i().get(e,"executor.value")}]}))),e}onMonitorSelect(e,t){this.setState((n=>{let{monitorIntegrationStates:o}=n,s=o[e];return o[e]=i().merge(s,{executor:t}),{monitorIntegrationStates:o}}))}renderAddMonitorButton(){let e,{monitorIntegrationStates:t}=this.state;return i().forEach(t,(t=>{(i().isEmpty(t.nickname)||i().isEmpty(t.apiKey)||i().isEmpty(t.executor))&&(e=!0)})),a.createElement(a.Fragment,null,a.createElement(k.MonitorSetupSectionSeparator,null),a.createElement(k.AddMonitorButtonContainer,null,a.createElement(m.default,{type:"tertiary",onClick:()=>this.addMonitorSetupForm(),text:"Add Monitor",icon:a.createElement(j.default,null),isDisabled:e,tooltip:e&&"Fill in the details to add a new monitor"})))}reauthenticate(){this.setState({isUsingApiKeyInput:!0,availableDashboards:[],loadingDashboards:!1,availableServices:[],loadingServices:!1,selectedService:[],selectedDashboard:[]})}render(){const{apiKey:e,region:t,errorApiKey:n,availableServices:o,selectedService:s,loadingServices:r,loadingDashboards:l,selectedDashboard:c,availableDashboards:d,serviceGuids:p,dashboardGuids:m,errorServices:T,errorDashboards:j,activeStepIndex:A,stepperStatuses:w,authenticationFailed:N,monitorIntegrationStates:R,authenticationInstances:P,loadingAuthenticationInstances:M,isUsingApiKeyInput:L,addNewRelicToTeam:x,installedAppFeatureFlag:k}=this.state,{rule:V,apiId:B,apiVersionId:U}=this.props,z=w[0],H=w[1];let G={name:O.APM_NR_INTEGRATION_NAME,class:V,inputs:{...L?{api_key:e,region:t}:{auth:P.length>0?i().head(P).id:""},postman_api_id:B,apiversion:U,service_guids:p,dashboard_guids:m}};return a.createElement(h.default,{activeStepIndex:A,onChange:this.setActiveStepIndex},a.createElement(g.default,null,a.createElement(f.default,{label:"Monitor API performance",status:z,isDisabled:"completed"===z}),a.createElement(f.default,{label:"Post monitoring results",status:H})),a.createElement(b.default,null,a.createElement(y.default,{className:"add-integration-step-panel",heading:"Monitor API Performance from Postman",description:"View New Relic metrics and statuses directly from Postman",primaryAction:this.renderConnectButton("configureAPM",G),secondaryAction:this.renderSkipButton("configureAPM")},L?a.createElement(u.SensitiveFieldSegmentV2,{title:"New Relic API Key",description:"Enter the User Key provided by New Relic or ",customLink:a.createElement(D.default,{extUrl:"https://go.pstmn.io/docs-newrelic-insights-key"},"generate one here"),id:"new-relic-key",value:e,error:n&&(N?"Invalid API Key":i().isEmpty(e.trim())&&"Please enter the API key"),onChange:e=>{this.setState({apiKey:e.target.value,errorApiKey:!1},(()=>this.authenticateApiKeyDebounced()))},onBlur:()=>{this.setState({apiKey:e.trim(),errorApiKey:!!i().isEmpty(e.trim()),authenticationFailed:!i().isEmpty(e.trim())})}}):a.createElement(F.default,{connectedAccount:i().head(P),isLoading:M,isUsingPersonalCredentials:L,reauthenticateCallback:this.reauthenticate,primarySuccessText:"Connected to an account on New Relic by "+i().get(i().head(P),"createdByDetails.name","your team member"),primaryOrphanedText:"Connected New Relic account was removed",reauthenticateText:"Connect to different New Relic account"}),a.createElement(v.default,{menuMaxHeight:"36vh",value:s,options:o,placeholder:"Select New Relic Services",label:a.createElement(I.default,{text:"Services",infoText:"New Relic Charts will be fetched via a public URL."}),onChange:this.onServiceSelect,isLoading:r,error:T&&"Unable to load services",emptyStateMessage:"No services found"}),a.createElement(v.default,{menuMaxHeight:"28vh",value:c,options:d,placeholder:"Select Dashboards",label:a.createElement(I.default,{text:"Link Dashboards (Optional)"}),onChange:this.onDashboardSelect,isLoading:l,error:j&&"Unable to load dashboards",emptyStateMessage:"No dashboards found"}),L?a.createElement(a.Fragment,null,a.createElement("div",{className:"push-double--bottom__add-to-team"},a.createElement(I.default,{text:"New Relic region",type:"primary"}),a.createElement(E.default,{type:"para"},"This helps us know what New Relic region to use"),a.createElement(_.default,{name:"Select New Relic site",value:this.state.region,direction:"column",onChange:e=>{this.onRegionSelectorChange(e)}},a.createElement(S.default,{label:"US (.com)",value:"us"}),a.createElement(S.default,{label:"EU (.eu)",value:"eu"}))),k&&!M&&i().isEmpty(P)?a.createElement("div",null,a.createElement(C.default,{isChecked:x,label:O.ADD_NEW_RELIC_TO_TEAM.LABEL,helperText:O.ADD_NEW_RELIC_TO_TEAM.HELPER_TEXT,onChange:()=>{this.setState({addNewRelicToTeam:!x})}})):null):null),a.createElement(y.default,{className:"add-integration-step-panel",heading:"Post monitoring results",description:"Send your monitor run metrics to New Relic.",primaryAction:this.renderConnectButton("configureMonitoring",G),secondaryAction:this.renderSkipButton("configureMonitoring")},i().map(R,((e,t)=>this.renderMonitorSetupForm(t))),this.renderAddMonitorButton())))}})||o},"./integrations/monitoring/components/AvailableMonitoringServices.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ServiceCard:function(){return D},default:function(){return N}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx/lib/mobx.module.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/empty-states/NoSearchResults.js"),l=n("./js/controllers/theme/ThemeManager.js"),c=n("./js/services/NavigationService.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),h=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-newrelic.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-brandLogo-datadog.js"),f=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n("./integrations/api-observability/constants.ts"),y=n("./integrations/monitoring/constants.js"),v=n("./js/stores/StoreManager.js"),I=n("./integrations/monitoring/stores/APMIntegrationStore.js"),E=n("./js/modules/services/AnalyticsService.js"),_=n("./integrations/navigation/constants.js"),S=n("./integrations/monitoring/customComponents.js"),C=n("./integrations/monitoring/sentry/constants.js"),T=n("./integrations/utils/CommonHelperMethods.ts"),j=n("./node_modules/lodash/lodash.js");const A=(0,T.getErrorContextObject)("APM Integration"),w=(0,f.default)(d.default)`
    margin:var(--spacing-s) var(--spacing-xxl);
    padding: 0 var(--spacing-m);
    row-gap: var(--spacing-m);
    column-gap: var(--spacing-m);
    justify-content: center;
    flex-wrap: wrap;
    align-items: center;
  `,O=(0,f.default)(d.default)`
  margin: var(--spacing-s) 0;
  row-gap: var(--spacing-m);
  column-gap: var(--spacing-m);
  flex-wrap: wrap;
  align-items: center;
  `;function N(e){const{addToast:t}=(0,u.default)(),n=(0,s.useCallback)(j.throttle((()=>{t({status:"error",description:"Something went wrong while setting up the integration. Try again.",onDismiss:()=>{n.cancel()}})}),5e3,{leading:!0,trailing:!1}),[]),o=j.isEmpty(e.configuredIntegrations)?w:O;return j.isEmpty(e.integrationClasses)?s.createElement(r.default,{requestNewIntegration:!0}):s.createElement(o,null,j.compact(j.map(e.integrationClasses,(t=>{const o=j.get(t,"services.0",{});return s.createElement(D,{key:o.id,serviceId:o.id,name:o.name,iconUrl:o.iconUrl,darkIconUrl:o.darkIconUrl,classId:j.get(t,"id"),description:j.get(t,"description"),instanceCreation:j.get(t,"instanceCreation",{}),model:e.model,promoteTab:e.promoteTab,throttledShowToast:n})}))))}let D=(0,a.observer)(o=class extends s.Component{constructor(e){super(e),this.state={currentTheme:l.default.getCurrentTheme(),showFallbackIcon:!1},this.aPMIntegrationStore=(0,v.resolveStoreInstance)(I.default),this.handleThemeChange=this.handleThemeChange.bind(this),this.handleOnClick=this.handleOnClick.bind(this),this.isSentryIntegrationConfigured=this.isSentryIntegrationConfigured.bind(this)}componentDidMount(){pm.mediator.on("themeChange",this.handleThemeChange),(0,i.reaction)((()=>this.aPMIntegrationStore.loadingAvailableIntegrations[j.get(this.props.model,"id")]),(()=>{this.setState({hasConfiguredAPMIntegrations:!0})}))}componentWillUnmount(){pm.mediator.off("themeChange",this.handleThemeChange)}handleOnClick(e,t,n,o){const s=n.apiId,i={apiId:s,versionId:n.id},a={service:e,name:t,rule:o},r={apiVersionItemStore:n};(0,T.getSanitizedRouteAndQueryParamsForV10APIUrls)(i,a,s).then((([e,n])=>{E.default.addEventV2({category:"api_builder_integrations",action:"connect_via_api",label:t,value:1}),c.default.transitionTo(_.V10_API_ADD_APM_INTEGRATION_NAV_IDENTIFIER,e,n,r)})).catch((e=>{const{throttledShowToast:t}=this.props;j.isFunction(t)&&t(),pm.logger.error("AddAPMIntegration ~ Error while navigating to create form for APM Integration",e,{context:A,routeParams:JSON.stringify(i),queryParams:JSON.stringify(a),apiId:s})}))}handleThemeChange(e){this.setState({currentTheme:e})}isSentryIntegrationConfigured(){return!j(this.aPMIntegrationStore.getConfiguredIntegrations()).flatMap("rule").filter((e=>e===C.INTEGRATION_CLASS_NAME)).isEmpty()}isDisabled(e,t,n){return!(j.get(e,`apiPermissionStore.permissions.${e.apiId}:UPDATE_API_META.allowed`)&&t)||n===C.SERVICE_ID&&this.isSentryIntegrationConfigured()||!j.has(S.serviceBasedCustomComponents,n)}getIcons(e){switch(e){case y.NEW_RELIC_APM_CLASS_ID:return s.createElement(h.default,null);case y.DATADOG_APM_CLASS_ID:return s.createElement(g.default,null);default:return s.createElement(IconEntityApiStroke,null)}}renderAvailableServices(){const{serviceId:e,name:t,model:n,promoteTab:o,instanceCreation:i,classId:a}=this.props,r=j.get(i,"enabled",!1),l=this.isDisabled(n,r,e);return s.createElement(p.default,{key:a,type:"outline",icon:this.getIcons(a),text:t,isDisabled:l,onClick:s=>{s.metaKey||s.ctrlKey||(s.preventDefault(),j.isFunction(o)&&o(),this.handleOnClick(e,t,n,a))}})}render(){const{serviceId:e,model:t,instanceCreation:n}=this.props,o=j.get(n,"enabled",!1);let i;return i=j.get(t,`apiPermissionStore.permissions.${t.apiId}:UPDATE_API_META.allowed`)?e===C.SERVICE_ID&&this.isSentryIntegrationConfigured()?C.ERROR_MESSAGES.ONLY_ONE_SENTRY_INTEGRATION_ALLOWED:j.has(S.serviceBasedCustomComponents,e)?j.get(n,"description"):y.SERVICE_NOT_SUPPORTED_ON_OLD_APP_ERROR:b.PERMISSION_ERROR,s.createElement(s.Fragment,null,this.isDisabled(t,o,e)?s.createElement(m.default,{content:i,placement:"bottom"},this.renderAvailableServices()):this.renderAvailableServices())}})||o},"./integrations/monitoring/components/DatadogMonitorStatus.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),r=(n("./js/external-navigation/ExternalNavigationService.js"),n("./integrations/monitoring/constants.js")),l=n("./node_modules/prop-types/index.js"),c=n.n(l);const{ALERT:d,WARN:u,NO_DATA:p,OK:m,NO_MONITORS:h,UNAVAILABLE:g}=r.DATADOG_MONITOR_STATUSES;function f(e){const t=e.numMonitors?`${e.numMonitors} `:"",n={[u]:o.createElement(s.default,{status:"warning",text:`${t+u}`,className:"health-status-badge"}),[d]:o.createElement(s.default,{status:"critical",text:`${t+d}`,className:"health-status-badge"}),[m]:o.createElement(s.default,{status:"success",text:`${t+m}`,className:"health-status-badge"}),[p]:o.createElement(s.default,{status:"neutral",text:`${t+p}`,className:"health-status-badge"}),[h]:o.createElement(i.default,{type:"para"},"No Monitors"),[g]:o.createElement(a.default,{size:"small"})};return n[e.alertSeverity]||n[h]}f.defaultProps={alertSeverity:h,numMonitors:0},f.propTypes={alertSeverity:c().string,numMonitors:c().number}},"./integrations/monitoring/components/HealthStatus.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("./appsdk/components/link/Link.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-info-stroke-small.js");const d={CRITICAL:o.createElement(s.default,{status:"critical",text:"Critical",className:"health-status-badge"}),WARNING:o.createElement(s.default,{status:"warning",text:"Warning",className:"health-status-badge"}),NOT_ALERTING:o.createElement(s.default,{status:"success",text:"Healthy",className:"health-status-badge"}),NOT_CONFIGURED:o.createElement(i.default,{triggerEvent:"click",placement:"bottom-start",padding:"spacing-s",trigger:o.createElement(a.default,{type:"muted-plain",text:"Alerts not configured",icon:o.createElement(c.default,null)})},o.createElement("div",{className:"alert-config-info-popover"},o.createElement(r.default,{type:"para",color:"content-color-primary"},"Learn how to configure",o.createElement(l.default,{to:"https://docs.newrelic.com/docs/alerts-applied-intelligence/new-relic-alerts/alert-policies/create-edit-or-find-alert-policy/",target:"_blank"},o.createElement(r.default,{type:"link-default",isExternal:!0},"alert policy")))))};function u(e){return d[e.alertSeverity]||d.NOT_CONFIGURED}},"./integrations/monitoring/components/NewRelic/AddComponents.js":function(e,t,n){"use strict";n.r(t),n.d(t,{AddMonitorButtonContainer:function(){return r},MonitorSetupSectionSeparator:function(){return a},MonitoringSetupFormTitle:function(){return i},MonitoringSetupFormTitleContainer:function(){return s},MultiSelectContainer:function(){return d},MultiSelectDiv:function(){return u},MultiSelectWrapper:function(){return c},RadioButtonDiv:function(){return p},RemoveButtonContainer:function(){return l}});var o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const s=o.default.div`
  display: flex;
  margin-bottom: var(--spacing-zero) !important;
`,i=o.default.div`
  color: var(--content-color-primary);
  font-weight: var(--text-weight-medium);
  font-size: var(--text-size-m);
  line-height: var(--line-height-m);
`,a=o.default.div`
  border-top: var(--border-width-default) var(--border-style-solid) var(--border-color-default);
`,r=o.default.div`width: fit-content;`,l=o.default.div`width: fit-content; float: right; margin-left: auto;`,c=o.default.div`display: flex; flex-direction: column; padding-right: 10px; padding-top: 16px`,d=o.default.div`display: flex; flex-direction: column`,u=o.default.div`padding: 10px`,p=o.default.div`margin-bottom: var(--spacing-l); padding-top: var(--spacing-l)`},"./integrations/monitoring/components/ServicesTableDatadog.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),r=n("./node_modules/lodash/lodash.js"),l=n.n(r),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=(n("./appsdk/components/link/Link.js"),n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"));n("./js/components/base/LoadingIndicator.js");const u=d.default.div`
    display: flex;
    aligh-items: center;
    width: 100%;
    `;t.default=(0,c.observer)((e=>{const[t,n]=(0,o.useState)(l().isEmpty(e.data)&&!e.loadingServiceMetrics);(0,o.useEffect)((()=>{n(l().isEmpty(e.data)&&!e.loadingServiceMetrics)}),[e.data,e.loadingServiceMetrics]);const r=[{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong",isTruncated:!0},"Services")),cellWidth:"30%",id:"serviceName",accessor:e=>[l().get(e,"serviceName"),e],Cell:({value:t})=>{const[n,s]=t;return o.createElement(u,{onClick:t=>{t.preventDefault(),e.onServiceClick(s)}},o.createElement(i.default,{type:"link-subtle",isTruncated:!0},n))},align:"left"},{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong",isTruncated:!0},"Environment")),cellWidth:"15%",id:"environment",accessor:e=>[l().get(e,"environment","none"),e],Cell:({value:e})=>{const[t,n]=e;return o.createElement(i.default,{isTruncated:!0},t)},align:"left"},{Header:()=>o.createElement(i.default,{type:"strong",isTruncated:!0},"Latency"),cellWidth:"10%",id:"latency",accessor:e=>[l().get(e,["metrics","latency"])],Cell:({value:e})=>{const[t]=e;return o.createElement(i.default,{isTruncated:!0},t)},align:"left"},{Header:()=>o.createElement(i.default,{type:"strong",isTruncated:!0},"Throughput"),cellWidth:"10%",id:"throughput",accessor:e=>[l().get(e,["metrics","throughput"])],Cell:({value:e})=>{const[t]=e;return o.createElement(i.default,{isTruncated:!0},t)},align:"left"},{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong",isTruncated:!0},"Error rate")),cellWidth:"10%",id:"errorRate",accessor:e=>[l().get(e,["metrics","errorRate"])],Cell:({value:e})=>{let[t]=e;return o.createElement(i.default,{isTruncated:!0},t)},align:"left"},{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong",isTruncated:!0},"Apdex")),cellWidth:"10%",id:"apdex",accessor:e=>[l().get(e,["metrics","apdexScore"])],Cell:({value:e})=>{const[t]=e;return o.createElement(i.default,{isTruncated:!0},t)},align:"left"},{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong",isTruncated:!0},"Datadog Monitor")),cellWidth:"15%",id:"healthStatus",accessor:e=>[e],Cell:({value:e})=>{const[t]=e;return t.healthStatus.component},align:"left"}];return o.createElement(o.Fragment,null,o.createElement(s.default,{className:"apm-services-table",width:"100%",direction:"column",gap:"spacing-m"},o.createElement(a.default,{data:e.data,columns:r,blankState:{isEmpty:t,component:o.createElement("div",{className:"api-monitoring-stats-empty-state"},"No services found.")},loader:{isLoading:e.loadingServiceMetrics,skeletonRowCount:3}})))}))},"./integrations/monitoring/components/ServicesTableNewRelic.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),r=n("./node_modules/lodash/lodash.js"),l=n.n(r),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=(n("./appsdk/components/link/Link.js"),n("../../node_modules/styled-components/dist/styled-components.browser.esm.js")),u=(n("./js/components/base/LoadingIndicator.js"),n("./integrations/monitoring/components/HealthStatus.js"));const p=d.default.div`
    display: flex;
    aligh-items: center;
    width: 100%;
    `;t.default=(0,c.observer)((e=>{const[t,n]=(0,o.useState)(l().isEmpty(e.data)&&!e.loadingServiceMetrics);(0,o.useEffect)((()=>{n(l().isEmpty(e.data)&&!e.loadingServiceMetrics)}),[e.data,e.loadingServiceMetrics]);const r=[{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong"},"Services")),cellWidth:"50px",id:"serviceName",accessor:e=>[l().get(e,"serviceName"),e],Cell:({value:t})=>{const[n,s]=t;return o.createElement(p,{onClick:t=>{t.preventDefault(),e.onServiceClick(s)}},o.createElement(i.default,{type:"link-subtle",isTruncated:!0},n))},align:"left"},{Header:()=>o.createElement(i.default,{type:"strong"},"Latency"),cellWidth:"35px",id:"latency",accessor:e=>[l().get(e,"latency")],Cell:({value:e})=>{let[t]=e;return"NaN ms"==t&&(t="-"),t},align:"left"},{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong"},"Error rate")),cellWidth:"35px",id:"errorRate",accessor:e=>[l().get(e,"errorRate")],Cell:({value:e})=>{let[t]=e;return"NaN%"===t&&(t="-"),t},align:"left"},{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong"},"Apdex")),cellWidth:"35px",id:"apdex",accessor:e=>[l().get(e,"apdex")],Cell:({value:e})=>{const[t]=e;return t||"-"},align:"left"},{Header:()=>o.createElement(s.default,{inline:!0,gap:"spacing-xs"},o.createElement(i.default,{type:"strong"},"Health status")),cellWidth:"45px",id:"healthStatus",accessor:e=>[e],Cell:({value:e})=>{const[t]=e;return o.createElement(u.default,{alertSeverity:t.alertSeverity})},align:"left"}];return o.createElement(o.Fragment,null,o.createElement(s.default,{className:"apm-services-table",width:"100%",direction:"column",gap:"spacing-m"},o.createElement(a.default,{data:e.data,columns:r,blankState:{isEmpty:t,component:o.createElement("div",{className:"api-monitoring-stats-empty-state"},"Unable to load services.")},loader:{isLoading:e.loadingServiceMetrics,skeletonRowCount:3}})))}))},"./integrations/monitoring/components/helpers/DashboardsQuickLinks.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),u=n("./node_modules/prop-types/index.js"),p=n.n(u),m=n("./node_modules/lodash/lodash.js"),h=n.n(m),g=n("./js/external-navigation/ExternalNavigationService.js"),f=n("./js/modules/services/AnalyticsService.js");let b=(0,i.observer)(o=class extends s.PureComponent{constructor(e){super(e),this.state={isPopOverOpen:!1},this.handleViewDashboard=this.handleViewDashboard.bind(this)}handleViewDashboard(e){e&&(0,g.openExternalLink)(e,"_blank"),f.default.addEventV2({category:"apm-integration",action:"view-dashboard",label:h().get(this.state.integration,"rule"),value:1})}render(){const{isPopOverOpen:e}=this.state,{loadingDashboards:t,linkedDashboards:n}=this.props;return s.createElement("div",{className:"monitoring-dashboard-links"},s.createElement(a.default,null,s.createElement(r.default,{text:"Dashboard Quick Links",type:"tertiary",onClick:()=>{this.setState({isPopOverOpen:!e})}}),t?s.createElement(l.default,null,s.createElement(c.default,null,s.createElement(d.default,null))):s.createElement(l.default,null,n.length>0?h().map(n,(e=>s.createElement(c.default,{className:"monitoring-dashboard-links__menu__item",onClick:()=>this.handleViewDashboard(e.link)},e.label," "))):s.createElement(c.default,null,"No dashboards configured"))))}})||o;b.propTypes={loadingDashboards:p().bool.isRequired,linkedDashboards:p().array.isRequired}},"./integrations/monitoring/components/helpers/MoreOptions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-options-stroke.js"),p=n("./node_modules/prop-types/index.js"),m=n.n(p),h=n("./integrations/monitoring/constants.js"),g=n("./integrations/api-observability/constants.ts"),f=n("./integrations/components/DeleteIntegrationModal.js"),b=n("./js/stores/StoreManager.js"),y=n("./integrations/monitoring/stores/APMIntegrationStore.js"),v=n("./js/services/NavigationService.js"),I=n("./integrations/navigation/constants.js"),E=n("./node_modules/lodash/lodash.js");let _=(0,i.observer)(o=class extends s.PureComponent{constructor(e){super(e),this.store=(0,b.resolveStoreInstance)(y.default),this.state={isPopOverOpen:!1,showDeleteModal:!1},this.handleDeleteModalAction=this.handleDeleteModalAction.bind(this),this.handleEditIntegration=this.handleEditIntegration.bind(this)}handleDeleteModalAction(){let e=!this.state.showDeleteModal;this.setState({showDeleteModal:e,isPopOverOpen:!1})}handleEditIntegration(){let{integration:e,selectedAPI:t}=this.props;this.setState({isPopOverOpen:!1},(()=>{v.default.transitionTo(I.V10_API_EDIT_APM_INTEGRATION_NAV_IDENTIFIER,{apiId:t,integrationId:E.get(e,"id")},{service:e.service||e.rule},{additionalContext:{origin:"services_container"}})}))}render(){const{isPopOverOpen:e,showDeleteModal:t}=this.state,{payload:n,integration:o}=this.props;return s.createElement("div",{className:"api-monitoring-more-options"},s.createElement(a.default,null,s.createElement(r.default,null,s.createElement(l.default,{className:"api-monitoring-more-options-icon-wrapper",type:"tertiary",onClick:()=>{this.setState({isPopOverOpen:!e})},icon:s.createElement(u.default,null)})),this.props.canEditIntegration?s.createElement(c.default,null,s.createElement(d.default,{onClick:this.handleEditIntegration},"Edit Integration"),s.createElement(d.default,{onClick:this.handleDeleteModalAction,type:"destructive"},"Delete Integration")):s.createElement(c.default,null,s.createElement(d.default,{isDisabled:!0,tooltip:g.PERMISSION_ERROR},"Edit Integration"),s.createElement(d.default,{isDisabled:!0,tooltip:g.PERMISSION_ERROR,type:"destructive"},"Delete Integration"))),s.createElement(f.default,{size:"small",store:this.store,category:h.API_PERFORMANCE_INTEGRATION,payload:n,isOpen:t,handleCloseModal:this.handleDeleteModalAction,integrationId:E.get(o,"id"),ruleId:E.get(o,"rule")}))}})||o;_.propTypes={showDeleteModal:m().bool,payload:m().object.isRequired,canEditIntegration:m().bool.isRequired,integration:m().object.isRequired,apiVersionId:m().string.isRequired,selectedAPI:m().string.isRequired}},"./integrations/monitoring/containers/APMContainerDropdown.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/lodash/lodash.js"),a=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./js/stores/StoreManager.js"),d=n("./integrations/monitoring/stores/APMIntegrationStore.js"),u=n("./js/components/base/LoadingIndicator.js"),p=n("./integrations/monitoring/constants.js"),m=n("./integrations/monitoring/containers/APMServicesContainer.js"),h=n("./integrations/monitoring/sentry/CompactView.js"),g=n("./integrations/monitoring/sentry/constants.js");let f=(0,r.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,c.resolveStoreInstance)(d.default),this.state={apiId:a().get(this.props.model,"apiId"),apiVersionId:a().get(this.props.model,"id"),selectedApiVersion:this.store.selectedAPIVersion,updatingApiVersion:!1,errorObject:{status:500}},this.monitoringBootstrap=this.monitoringBootstrap.bind(this)}componentDidMount(){pm.windowEvents.addListener(`${p.API_MONITORING}-integration-added`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${p.API_MONITORING}-integration-edited`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${p.API_MONITORING}-integration-deleted`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${p.API_MONITORING}-monitor-linked`,this.onIntegrationEventCaptured.bind(this)),pm.windowEvents.addListener(`${p.API_MONITORING}-monitor-unlinked`,this.onIntegrationEventCaptured.bind(this)),this.monitoringBootstrap()}monitoringBootstrap(){this.store.initializeApmIntegrationStoreV2({apiId:a().get(this.props.model,"apiId"),apiVersionId:a().get(this.props.model,"id"),category:p.API_PERFORMANCE_INTEGRATION})}onIntegrationEventCaptured(e){let{apiId:t,apiVersionId:n}=this.state;e.apiId===t&&e.apiVersionId===n&&this.monitoringBootstrap()}render(){const{apiId:e,apiVersionId:t,updatingApiVersion:n}=this.state,o=(0,l.toJS)(this.store.configuredIntegrations[a().get(this.props.model,"id")]),i=a().first(a().remove(o,{rule:g.INTEGRATION_CLASS_NAME}));return a().get(this.props.model,"id")!==t&&this.setState({apiVersionId:a().get(this.props.model,"id"),updatingApiVersion:!0},(()=>{a().isEmpty((0,l.toJS)(this.store.configuredIntegrations[a().get(this.props.model,"id")]))&&this.store.updateSelectedAPIVersion(a().get(this.props.model,"id")),this.setState({updatingApiVersion:!1})})),n?s.createElement(u.default,{className:"monitoring-loading-indicator"}):s.createElement(s.Fragment,null,n?s.createElement(u.default,{className:"monitoring-loading-indicator"}):a()(o).groupBy("rule").map(((e,t)=>s.createElement(m.default,{key:t,model:this.props.model,configuredAPMIntegrations:e,updatingApiVersion:n,apmClassID:t}))).value(),!a().isEmpty(i)&&s.createElement(h.default,{model:this.props.model,apiId:e,apiVersionId:t,integration:i}))}})||o},"./integrations/monitoring/containers/APMServicesContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n("../../node_modules/react/index.js"),s=n("./integrations/monitoring/containers/ServicesContainerNewRelic.js"),i=n("./integrations/monitoring/containers/ServicesContainerDatadog.js"),a=n("./node_modules/prop-types/index.js"),r=n.n(a),l=n("./api-dev/constants/APISubViews.js"),c=n("./integrations/components/error-states/IntegrationNotSupported.js"),d=n("./node_modules/lodash/lodash.js");const u={apm_datadog:i.default,apm_new_relic:s.default};class p extends o.Component{constructor(e){super(e),this.state={isIntegrationSupported:d.has(u,this.props.apmClassID)},this.renderServicesContainer=this.renderServicesContainer.bind(this)}renderServicesContainer(){const e=d.get(this.props.model,"id"),t=d.get(this.props.model,"apiId");if(d.isEmpty(this.props.configuredAPMIntegrations))return o.createElement(o.Fragment,null);if(this.state.isIntegrationSupported){const e=u[this.props.apmClassID];return o.createElement(e,{model:this.props.model,configuredIntegrations:this.props.configuredAPMIntegrations,updatingApiVersion:this.props.updatingApiVersion})}return o.createElement("div",null,o.createElement(c.default,{apiId:t,apiVersionId:e,tab:l.MONITORING}))}render(){return o.createElement(o.Fragment,null,this.renderServicesContainer())}}p.propTypes={model:r().object.isRequired,configuredAPMIntegrations:r().array.isRequired,updatingApiVersion:r().bool.isRequired,apmClassID:r().string.isRequired}},"./integrations/monitoring/containers/MonitoringContainerWrap.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("./integrations/monitoring/containers/ServiceCardListDropdown.js"),i=n("./integrations/monitoring/containers/APMContainerDropdown.js");const a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default.div`
  display: flex;
  flex-direction: column;
`;class r extends o.Component{render(){return o.createElement(a,null,o.createElement(i.default,{model:this.props.model,promoteTab:this.props.promoteTab}),o.createElement(s.default,{model:this.props.model,promoteTab:this.props.promoteTab}))}}},"./integrations/monitoring/containers/ServiceCardListDropdown.js":function(e,t,n){"use strict";n.r(t);var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/lodash/lodash.js"),a=n.n(i),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("./js/stores/StoreManager.js"),d=n("./integrations/monitoring/stores/APMIntegrationStore.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMonitor.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),b=n("./integrations/monitoring/components/AvailableMonitoringServices.js"),y=n("./integrations/utils/CommonHelperMethods.ts"),v=n("./integrations/monitoring/constants.js"),I=n("./js/stores/CurrentUserStore.js"),E=(n("./integrations/models/IntegrationClass.ts"),n("./integrations/utils/PowerUpSectionUtils.js"));function _(e){return s.createElement(s.Fragment,null,s.createElement(u.default,{type:"para",className:"monitoring-illustrator-description",hasBottomSpacing:!0},"Monitor API performance and send monitoring results to your APM provider."),s.createElement(b.default,{integrationClasses:e.integrationClasses,model:e.model,promoteTab:e.promoteTab}))}function S(e){const t=(0,c.resolveStoreInstance)(d.default),n=a().head(t.authenticationInstances).service,o=(0,E.filterAuthenticatedAPMClasses)(e.integrationClasses,n),i=(0,E.getAPMServiceData)(o,n),r=a().filter(o,(e=>a().includes(v.AUTH_SUPPORTED_CLASSES,e.id))),l=a().map(r,"id"),m=a().filter(e.integrationClasses,(e=>!a().includes(l,e.id)));return a().isEmpty(r)?s.createElement(MonitoringServicesView,{integrationClasses:e.integrationClasses,model:e.model,promoteTab:e.promoteTab}):s.createElement(s.Fragment,null,s.createElement(p.default,{direction:"column",alignItems:"center",padding:{paddingTop:"spacing-l",paddingBottom:"spacing-s"}},s.createElement(u.default,{type:"para",className:"monitoring-illustrator-description"},"Your team is authorized to ",i.name,"."),s.createElement(u.default,{type:"para",className:"monitoring-illustrator-description"},"Complete setup to view ",i.name," metric in Postman"),s.createElement(b.default,{integrationClasses:r,model:e.model,promoteTab:e.promoteTab})),s.createElement(u.default,{type:"para",className:"monitoring-illustrator-description"},"Other providers:"),s.createElement(b.default,{integrationClasses:m,model:e.model,promoteTab:e.promoteTab}))}let C=(0,r.observer)(o=class extends s.Component{constructor(e){super(e),this.integrationsStore=(0,c.resolveStoreInstance)(l.default),this.apmIntegrationStore=(0,c.resolveStoreInstance)(d.default),this.state={isDropdownOpen:!0,errorObject:{status:500}},this.addIntegrationsTooltip=(0,s.createRef)(),this.handleAddIntegrationsClicked=this.handleAddIntegrationsClicked.bind(this),this.openAddIntegrationsPopover=this.openAddIntegrationsPopover.bind(this),this.closeAddIntegrationsPopover=this.closeAddIntegrationsPopover.bind(this)}componentDidMount(){pm.windowEvents.addListener("add-integrations-cta-clicked",this.handleAddIntegrationsClicked),(0,v.isFeatureFlagEnabled)(v.NEW_RELIC_APM_CLASS_ID)&&this.apmIntegrationStore.fetchAuthenticationInstances(v.AUTHENTICATION_INSTANCE_SCOPES.TEAM,(0,c.resolveStoreInstance)(I.default).teamId,v.AUTHENTICATION_CLASSES.NEW_RELIC_USER,v.NEW_RELIC_APM_CLASS_ID)}componentWillUnmount(){pm.windowEvents.removeListener("add-integrations-cta-clicked",this.handleAddIntegrationsClicked)}handleAddIntegrationsClicked(e){this.openAddIntegrationsPopover(),setTimeout(this.closeAddIntegrationsPopover,5e3),this.addIntegrationsTooltip&&this.addIntegrationsTooltip.current.scrollIntoView()}openAddIntegrationsPopover(){this.setState({isAddIntegrationsPopoverOpen:!0,isDropdownOpen:!0})}closeAddIntegrationsPopover(){this.setState({isAddIntegrationsPopoverOpen:!1})}render(){const{isDropdownOpen:e,isAddIntegrationsPopoverOpen:t}=this.state,n=this.integrationsStore.loadingIntegrationClasses,o=this.integrationsStore.getIntegrationClasses(),i=(0,y.filterIntegrationClassesByClientCategory)(o,v.API_PERFORMANCE_INTEGRATION),r=this.apmIntegrationStore.getConfiguredIntegrations(this.props.model.id),l=this.apmIntegrationStore.loadingConfiguredIntegrations[this.props.model.id],c=this.apmIntegrationStore.loadingAuthenticationInstances,d=a().get(this.apmIntegrationStore.authenticationInstances,"0"),u=a().isEmpty(d)?_:S;return n||c||l?s.createElement(m.default,{className:"observability-loading-indicator"}):l||a().isEmpty(r)?a().isEmpty(r)?s.createElement(p.default,{direction:"column",padding:"spacing-xxl spacing-l spacing-xxxl spacing-l",alignItems:"center"},s.createElement(p.default,{padding:"spacing-xxl spacing-l spacing-l",alignItems:"center"},s.createElement(g.default,null)),s.createElement(h.default,{type:"h4",text:"Connect Postman to your monitoring workflows",hasBottomSpacing:!0}),s.createElement(u,{integrationClasses:i,model:this.props.model,promoteTab:this.props.promoteTab})):null:s.createElement(p.default,{direction:"column",padding:"spacing-xxl spacing-l spacing-xxxl spacing-xxxl"},s.createElement(h.default,{type:"h4",text:"Connect Postman to your monitoring workflows",hasBottomSpacing:!0}),s.createElement(b.default,{integrationClasses:i,model:this.props.model,promoteTab:this.props.promoteTab,configuredIntegrations:r}))}})||o;t.default=(0,f.default)(C)},"./integrations/monitoring/containers/ServicesContainerDatadog.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/stores/StoreManager.js"),r=n("./integrations/monitoring/stores/APMIntegrationStore.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-right.js"),d=n("./integrations/monitoring/services/index.js"),u=n("./node_modules/lodash/lodash.js"),p=n.n(u),m=n("./integrations/monitoring/constants.js"),h=n("./integrations/monitoring/components/ServicesTableDatadog.js"),g=n("./integrations/monitoring/components/helpers/DashboardsQuickLinks.js"),f=n("./integrations/monitoring/components/helpers/MoreOptions.js"),b=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),y=n("./js/services/NavigationService.js"),v=n("./integrations/navigation/constants.js"),I=n("./js/modules/services/AnalyticsService.js"),E=n("./node_modules/moment/moment.js"),_=n.n(E),S=n("./integrations/monitoring/components/DatadogMonitorStatus.js"),C=n("./integrations/monitoring/containers/helpers/DatadogAPMUtils.js"),T=n("./integrations/utils/CommonHelperMethods.ts"),j=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),A=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),w=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),O=n("./js/stores/ActiveWorkspaceSessionStore.js");const N=(0,T.getErrorContextObject)("Datadog APM Integration");let D=(0,i.observer)(o=class extends s.Component{constructor(e){if(super(e),this.apmIntegrationsStore=(0,a.resolveStoreInstance)(r.default),this.datadogStore=this.apmIntegrationsStore.find(m.DATADOG_APM_CLASS_ID),this.state={integration:{},loadingServiceMetrics:!1,loadingDashboards:!1,isDropdownOpen:!0,apiVersionId:p().get(this.props.model,"id"),selectedAPI:p().get(this.props.model,"apiId"),canEditIntegration:!1,linkedDashboards:[]},this.bootstrap=this.bootstrap.bind(this),this.fetchServiceMetrics=this.fetchServiceMetrics.bind(this),this.onServiceClick=this.onServiceClick.bind(this),!this.datadogStore){let e={},t={};e[this.state.apiVersionId]=[],t[this.state.apiVersionId]={},this.apmIntegrationsStore.add({id:m.DATADOG_APM_CLASS_ID,availableAPMServices:e,selectedAPMService:t}),this.datadogStore=this.apmIntegrationsStore.find(m.DATADOG_APM_CLASS_ID)}}componentDidMount(){this.bootstrap(),pm.windowEvents.addListener(`${m.API_MONITORING}-integration-edited`,this.bootstrap)}bootstrap(){const e=this.props.configuredIntegrations[0];this.setState({integration:e,linkedDashboards:p().get(e,"variables.dashboard_guids",[]),loadingServiceMetrics:!0}),b.default.getIntegrationData(e.id).then((t=>{if(200===t.status){let n=p().get(t.body,"data.executor"),o=p().get(t.body,"data.variables"),s=p().get(t.body,"data.rule");this.setState({executor:n,variables:o,rule:s,canEditIntegration:p().get(t,"body.meta.allowedActions.update"),linkedDashboards:o.dashboard_guids||[]},(()=>{this.fetchServiceMetrics(e.id,e.rule)}))}else pm.logger.error("ServicesContainerDatadog ~ Error occurred while loading integration details",p().get(t,"body"),{context:N})})).catch((e=>{pm.logger.error("ServicesContainerDatadog ~ Error occurred while loading integration details",e,{context:N})}))}fetchServiceMetrics(e,t){t===m.DATADOG_APM_CLASS_ID&&(this.setState({loadingServiceMetrics:!0}),d.default[t].fetchMetricsForLinkedServices(e).then((n=>{const{apiVersionId:o}=this.state;let i=[];p().forEach(n.servicesMetrics,((e,t)=>{const n=p().reduce(e,((e,n,o)=>{let i=`${Math.ceil(p().get(n,"rpm_score"))}`,a=`${parseFloat(p().get(n,"apdex_score")).toFixed(2)}`,r=`${(1e3*parseFloat(p().get(n,"latency"))).toFixed(2)}`,l=p().get(n,"error_rate_score");return e.push({label:o,value:o+t,environment:t,serviceName:o,metrics:{throughput:"NaN"===i?"-":`${i} hits/m`,errorRate:"NaN"===l?"-":`${l}%`,apdexScore:"NaN"===a?"-":a,latency:"NaN"===r?"-":`${r} ms`},embedGraphs:{apdex_graphs:{},error_rate_graphs:{},latency_graphs:{},throughput_graphs:{}},healthStatus:{status:"Unavailable",component:s.createElement(S.default,{alertSeverity:"Unavailable"})},link:`${C.default.getDatadogHostname(p().get(this.state,"variables.region"))}/apm/service/${o}/http.request?env=${t}&topGraphs=latency%3Alatency_by_version%2CbreakdownAs%3Apercentage%2Cerrors%3Acount%2Chits%3Acount&paused=false`}),e}),[]);i=p().concat(i,n)})),this.datadogStore.setAvailableAPMServices(o,i),this.datadogStore.setSelectedAPMService(o,i[0]),this.fetchServiceMonitorsStatus(e,t),this.setState({loadingServiceMetrics:!1})})).catch((e=>{pm.logger.error("ServicesContainerDatadog ~ Error while fetching metrics from datadog",e,{context:N}),this.setState({loadingServiceMetrics:!1})})))}fetchServiceMonitorsStatus(e,t){if(t!==m.DATADOG_APM_CLASS_ID)return;const{apiVersionId:n}=this.state,o=this.datadogStore.getAvailableAPMServices(n);p().forEach(o,(s=>{d.default[t].fetchServiceMonitorsStatus(e,s.label,s.environment).then((e=>{p().reduce(e.data.monitors,((e,t)=>("OK"!==t.status&&e.push({...t,timestamp:_()(p().get(t,"last_triggered_ts")).format(m.TIMESTAMP)}),e)),[]);const t=p().reduce(e.data.counts.status,((e,{name:t,count:n})=>(e[t]=n,e)),{}),i=C.default.getDatadogMonitorHealthStatusObject(t),a=p().map(o,(e=>{if(e.value===s.value){let o=e;return o.healthStatus=i,o.serviceStatuses=t,this.datadogStore.setSelectedAPMService(n,o),o}return e}));this.datadogStore.setAvailableAPMServices(n,a),this.setState({loadingServiceMetrics:!1})})).catch((e=>{this.setState({loadingServiceMetrics:!1}),pm.logger.error("ServicesContainerDatadog ~ Error while fetching monitor statuses from datadog",e,{context:N})}))}))}onServiceClick(e){const{integration:t,apiVersionId:n,selectedAPI:o}=this.state,s=(0,a.resolveStoreInstance)(O.default).activeEditor;pm.windowEvents.emit(`${m.API_MONITORING}-service-selected`,{selectedService:e,apiVersionId:n}),this.datadogStore.setSelectedAPMService(n,e),y.default.transitionTo(v.V10_API_APM_DATADOG_INTEGRATION_DASHBOARD_NAV_IDENTIFIER,{apiId:o,integrationId:t.id},null,{tabOptions:{openIn:s}}),I.default.addEventV2({category:"apm-integration",action:"view-service",label:p().get(this.state.integration,"rule"),value:1})}render(){let{integration:e,isDropdownOpen:t,linkedDashboards:n,loadingDashboards:o,loadingServiceMetrics:i,selectedAPI:a,apiVersionId:r,canEditIntegration:d}=this.state,u={api_id:a,executor:r},b=this.datadogStore.getAvailableAPMServices(r)||[];return n=p().map(n,(e=>({...e,link:`${C.default.getDatadogHostname(p().get(this.state,"variables.region"))}${e.link}`}))),s.createElement(j.default,{direction:"column",padding:"spacing-l"},s.createElement(j.default,{width:"100%",className:"api-entity-dropdown"},s.createElement(j.default,{alignItems:"center",justifyContent:"space-between",className:"api-entity-dropdown-trigger",grow:1,padding:{paddingRight:"spacing-xl"}},s.createElement(j.default,{gap:"spacing-xs",alignItems:"center"},s.createElement(A.default,{className:"api-entity-dropdown-icon-wrapper",type:"tertiary",size:"small",onClick:()=>this.setState({isDropdownOpen:!t}),icon:t?s.createElement(l.default,null):s.createElement(c.default,null)}),s.createElement("div",{onClick:()=>this.setState({isDropdownOpen:!t})},s.createElement(w.default,{type:"h4",text:m.RULE_TO_TITLE[m.DATADOG_APM_CLASS_ID]}))),s.createElement(j.default,{gap:"spacing-xs"},s.createElement(g.default,{linkedDashboards:n,loadingDashboards:o}),s.createElement(f.default,{integration:e,payload:u,canEditIntegration:d,apiVersionId:r,selectedAPI:a})))),t&&s.createElement("div",{className:"monitoring-services-table"},s.createElement("div",{className:"monitoring-services-table-success"},s.createElement("div",{className:"apm-services-table"},s.createElement(h.default,{loadingServiceMetrics:i,data:b,onServiceClick:this.onServiceClick})))))}})||o},"./integrations/monitoring/containers/ServicesContainerNewRelic.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./js/stores/StoreManager.js"),r=n("./integrations/monitoring/stores/APMIntegrationStore.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-right.js"),d=n("./integrations/monitoring/services/index.js"),u=(n("./js/utils/NavigationUtil.js"),n("./integrations/monitoring/constants.js")),p=n("./js/services/NavigationService.js"),m=n("./api-dev/constants/APISubViews.js"),h=n("./js/modules/services/AnalyticsService.js"),g=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),f=n("./integrations/components/error-states/IntegrationNotSupported.js"),b=n("./integrations/monitoring/components/helpers/DashboardsQuickLinks.js"),y=n("./integrations/monitoring/components/helpers/MoreOptions.js"),v=n("./integrations/monitoring/components/ServicesTableNewRelic.js"),I=n("./integrations/utils/CommonHelperMethods.ts"),E=n("./integrations/navigation/constants.js"),_=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),S=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),C=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),T=n("./js/stores/ActiveWorkspaceSessionStore.js"),j=n("./node_modules/lodash/lodash.js");const A=(0,I.getErrorContextObject)("New Relic APM Integration");let w=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,a.resolveStoreInstance)(r.default),this.state={loadingServiceMetrics:!1,isPopOverOpen:!1,isDropdownOpen:!0,showDeleteModal:!1,isMoreOptionsOpen:!1,formattedServiceMetrics:[],apiVersionId:j.get(this.props.model,"id"),selectedAPI:j.get(this.props.model,"apiId"),canEditIntegration:!1,linkedDashboards:[]},this.bootstrap=this.bootstrap.bind(this),this.fetchServiceMetrics=this.fetchServiceMetrics.bind(this),this.fetchLinkedDashboards=this.fetchLinkedDashboards.bind(this),this.onServiceClick=this.onServiceClick.bind(this)}componentDidMount(){this.bootstrap(),pm.windowEvents.addListener(`${u.API_MONITORING}-integration-edited`,this.onIntegrationUpdate.bind(this))}bootstrap(){const e=this.props.configuredIntegrations[0];this.setState({integration:e}),g.default.getIntegrationData(e.id).then((e=>{200===e.status?this.setState({canEditIntegration:j.get(e,"body.meta.allowedActions.update")}):pm.logger.error("Error occurred while loading integration details",j.get(e,"body"))})).catch((e=>{pm.logger.error("Error occurred while loading integration details",e)})),this.fetchServiceMetrics(e.id,e.rule),this.fetchLinkedDashboards(e.id,e.rule)}onServiceClick(e){const{integration:t,apiVersionId:n,selectedAPI:o}=this.state,s=(0,a.resolveStoreInstance)(T.default).activeEditor;pm.windowEvents.emit(`${u.API_MONITORING}-service-selected`,{selectedService:e,apiVersionId:n}),this.store.setSelectedAPMService(e),p.default.transitionTo(E.V10_API_APM_INTEGRATION_DASHBOARD_NAV_IDENTIFIER,{apiId:o,integrationId:t.id},null,{tabOptions:{openIn:s}}),h.default.addEventV2({category:"apm-integration",action:"view-service",label:j.get(this.state.integration,"rule"),value:1})}fetchServiceMetrics(e,t){this.setState({loadingServiceMetrics:!0}),d.default[t].fetchMetricsForLinkedServices(e).then((e=>{let t=j.map(j.get(e,"data.data.actor.entities"),(e=>({label:e.name,value:e.guid,serviceName:e.name,serviceGuid:e.guid,latency:`${j.round(1e3*j.get(e,"apmSummary.responseTimeAverage"),2)} ms`,errorRate:`${j.round(100*j.get(e,"apmSummary.errorRate"),2)}%`,apdex:j.get(e,"apmSummary.apdexScore"),link:j.get(e,"permalink"),alertSeverity:j.get(e,"alertSeverity")})));this.store.setAvailableAPMServices(t),this.setState({formattedServiceMetrics:t,loadingServiceMetrics:!1})})).catch((e=>{pm.logger.error("ServicesContainerNewRelic ~ error occurred while fetching metrics for linked services",e,{context:A}),this.setState({loadingServiceMetrics:!1})}))}fetchLinkedDashboards(e,t){this.setState({loadingDashboards:!0}),d.default[t].fetchLinkedDashboards(e).then((e=>{let t=j.map(j.get(e,"data.data.actor.entities"),(e=>({label:e.name,value:e.guid,link:e.permalink})));this.setState({linkedDashboards:t,loadingDashboards:!1})})).catch((e=>{pm.logger.error("ServicesContainerNewRelic ~ error occurred while fetching linked dashboards",e,{context:A}),this.setState({loadingDashboards:!1})}))}onIntegrationUpdate(){this.bootstrap()}render(){let{loadingServiceMetrics:e,formattedServiceMetrics:t,integration:n,loadingDashboards:o,linkedDashboards:i,isDropdownOpen:a,selectedAPI:r,apiVersionId:p,canEditIntegration:h}=this.state,g={api_id:r,executor:p};return j.has(d.default,j.get(n,"rule"))?s.createElement(_.default,{direction:"column",padding:"spacing-l"},s.createElement(_.default,{width:"100%",className:"api-entity-dropdown"},s.createElement(_.default,{alignItems:"center",justifyContent:"space-between",className:"api-entity-dropdown-trigger",grow:1,padding:{paddingRight:"spacing-xl"}},s.createElement(_.default,{gap:"spacing-xs",alignItems:"center"},s.createElement(S.default,{className:"api-entity-dropdown-icon-wrapper",type:"tertiary",size:"small",onClick:()=>this.setState({isDropdownOpen:!a}),icon:a?s.createElement(l.default,null):s.createElement(c.default,null)}),s.createElement("div",{onClick:()=>this.setState({isDropdownOpen:!a})},s.createElement(C.default,{type:"h4",text:u.RULE_TO_TITLE[j.get(n,"rule")]}))),s.createElement(_.default,{gap:"spacing-xs"},s.createElement(b.default,{linkedDashboards:i,loadingDashboards:o}),s.createElement(y.default,{integration:n,apiVersionId:p,selectedAPI:r,payload:g,canEditIntegration:h})))),a&&s.createElement("div",{className:"monitoring-services-table"},s.createElement("div",{className:"monitoring-services-table-success"},a&&s.createElement("div",{className:"apm-services-table"},s.createElement(v.default,{data:t,loadingServiceMetrics:e,onServiceClick:this.onServiceClick}))))):s.createElement("div",null,s.createElement(f.default,{apiId:r,apiVersionId:p,tab:m.MONITORING}))}})||o},"./integrations/monitoring/containers/helpers/DatadogAPMUtils.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./integrations/monitoring/components/DatadogMonitorStatus.js"),i=n("./integrations/monitoring/constants.js"),a=n("./node_modules/uuid/index.js"),r=n.n(a),l=n("./node_modules/lodash/lodash.js");t.default={getDatadogMonitorHealthStatusObject:function(e){const{ALERT:t,WARN:n,NO_DATA:a,OK:r,NO_MONITORS:c}=i.DATADOG_MONITOR_STATUSES;let d={status:c,component:o.createElement(s.default,{alertSeverity:c})};return l.get(e,t)>0?d={status:t,component:o.createElement(s.default,{numMonitors:l.get(e,t),alertSeverity:t})}:l.get(e,n)>0?d={status:n,component:o.createElement(s.default,{numMonitors:l.get(e,n),alertSeverity:n})}:l.get(e,a)>0?d={status:a,component:o.createElement(s.default,{numMonitors:l.get(e,a),alertSeverity:a})}:l.get(e,r)>0&&(d={status:r,component:o.createElement(s.default,{numMonitors:l.get(e,r),alertSeverity:r})}),d},getDatadogHostname:function(e){return"https://app.datadoghq"+("eu"===e?".eu":".com")},areEnvironmentsValid:function(e){const t=l.some(e,(e=>l.isEmpty(e.name)||l.isEmpty(e.services))),n=l(e).map("name").uniq().value().length!==e.length;return!t&&!n},getEmptyEnvironmentsList:function(){return[{name:"none",services:[],id:r().v4()}]}}},"./integrations/monitoring/customComponents.js":function(e,t,n){"use strict";n.r(t),n.d(t,{serviceBasedCustomComponents:function(){return r}});var o=n("./integrations/monitoring/add/Datadog/Datadog.js"),s=n("./integrations/monitoring/add/NewRelic.js"),i=n("./integrations/monitoring/edit/Datadog.js"),a=n("./integrations/monitoring/edit/NewRelic.js");const r={datadog:{customCreateComponent:o.default,customEditComponent:i.default,useLegacyDataFormat:!0},apm_datadog:{customCreateComponent:o.default,customEditComponent:i.default,useLegacyDataFormat:!0},apm_new_relic:{customCreateComponent:s.default,customEditComponent:a.default,useLegacyDataFormat:!0}}},"./integrations/monitoring/edit/Datadog.js":function(e,t,n){"use strict";n.r(t),n.d(t,{DatadogAPM:function(){return N},default:function(){return D}});var o,s,i=n("./node_modules/lodash/lodash.js"),a=n.n(i),r=n("../../node_modules/react/index.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("./js/stores/IntegrationsStore.js"),u=n("./js/stores/StoreManager.js"),p=n("./integrations/monitoring/stores/APMIntegrationStore.js"),m=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/index.js"),h=n("./integrations/components/base/EditIntegration.js"),g=n("./integrations/monitoring/services/index.js"),f=n("./integrations/navigation/constants.js"),b=n("./integrations/monitoring/constants.js"),y=n("./js/components/base/Buttons.js"),v=n("./js/services/NavigationService.js"),I=n("./appsdk/workbench/TabService.js"),E=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/Datadog.js"),_=n("./node_modules/uuid/index.js"),S=n.n(_),C=n("./integrations/monitoring/containers/helpers/DatadogAPMUtils.js"),T=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/ServiceSetup/DatadogAPM/DatadogCommonConfigs.js"),j=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/ServiceSetup/DatadogAPM/DatadogDashboardsAndEnvironments.js"),A=n("./integrations/utils/CommonHelperMethods.ts"),w=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/FormUpdateChecker.ts");const O=(0,A.getErrorContextObject)("Datadog APM Integration");let N=(0,c.observer)(o=class extends r.Component{constructor(e){super(e),this.listDashboardsWithIntegrationId=async e=>{this.integrationsStore.integrationClass||await this.integrationsStore.getIntegrationClassDetails(b.DATADOG_APM_CLASS_ID);const{rule:t}=this.props,{apiKey:n,appKey:o,region:s,dashboardGuids:i}=this.state,r=a().find(this.integrationsStore.integrationClass.inputs,{key:"dashboard_guids"}),l=a().get(r,"options.serviceActionId"),c=a().get(r,"id");this.setState({loadingDashboards:!0,errorDashboards:!1});const d={rule:t,type:"listDashboards",...n?{api_key:n}:{},...o?{app_key:o}:{},region:s};g.default[t].listDashboardsWithIntegrationId(d,e,l,c).then((e=>{let t=a().map(a().get(e,"dashboards"),(e=>({...e,label:e.title,value:`${C.default.getDatadogHostname(s)}${e.url}`}))),n=a().filter(t,(e=>a().includes(a().map(i,"link"),e.url)));this.setState({errorDashboards:!1,availableDashboards:t,selectedDashboards:n,loadingDashboards:!1,errorApiKey:!1,errorAppKey:!1})})).catch((e=>{pm.logger.error("Monitoring Tab Edit Form ~ Error occurred while listing dashboards",e,{context:O}),this.setState({errorDashboards:!0,loadingDashboards:!1,errorApiKey:!0,errorAppKey:!0,selectedDashboards:[],availableDashboards:[],dashboardGuids:[],environments:C.default.getEmptyEnvironmentsList()})}))},this.state={nickname:"",apiKey:"",appKey:"",errorApiKey:!1,errorAppKey:!1,errorNickname:"",dashboardGuids:[],selectedDashboards:[],availableDashboards:[],loadingDashboards:!1,errorDashboards:!1,environments:C.default.getEmptyEnvironmentsList(),region:"us1"},this.store=(0,u.resolveStoreInstance)(p.default),this.integrationsStore=(0,u.resolveStoreInstance)(d.default),this.toggle=this.toggle.bind(this),this.handleApiKeyInput=this.handleApiKeyInput.bind(this),this.handleAppKeyInput=this.handleAppKeyInput.bind(this),this.listDashboardsWithIntegrationId=this.listDashboardsWithIntegrationId.bind(this),this.onRegionSelectorChange=this.onRegionSelectorChange.bind(this),this.onDashboardSelect=this.onDashboardSelect.bind(this),this.client_category=b.API_MONITORING,this.removeEnvironmentSelector=this.removeEnvironmentSelector.bind(this),this.getInitialData=this.getInitialData.bind(this)}componentDidMount(){let{variables:e,origin:t,nickname:n}=this.props;this.setState({apiKey:e.api_key,appKey:e.app_key,region:"us"==e.region?"us1":"eu"==e.region?"eu1":e.region,apiId:e.postman_api_id,dashboardGuids:e.dashboard_guids,environments:a().map(e.environments,(e=>({...e,id:S().v4()}))),errorApiKey:!1,errorAppKey:!1,nickname:n,origin:t},(()=>{this.listDashboardsWithIntegrationId(this.props.integrationId)}))}getInitialData(){const{variables:e,name:t,rule:n}=this.props.controller.integrationData;return{name:t,rule:n,variables:a().pick(e,["api_key","app_key","region","environments","dashboard_guids"])}}onRegionSelectorChange(e){this.setState((t=>{if(e!==t.region)return{region:e,apiKey:"",appKey:"",errorApiKey:!1,errorAppKey:!1,selectedDashboards:[],availableDashboards:[],dashboardGuids:[],loadingDashboards:!1,errorDashboards:!1,environments:C.default.getEmptyEnvironmentsList()}}))}removeEnvironmentSelector(e){this.setState((t=>{let{environments:n}=t;return a()(n).splice(e,1).value(),{environments:n}}))}onDashboardSelect(e){if(!a().isArray(e))return;let t=a().map(e,(e=>({label:e.title,link:e.url})));this.setState({selectedDashboards:e,dashboardGuids:t})}handleApiKeyInput(e){let t={apiKey:e.trim(),errorApiKey:!1,dashboardGuids:[],environments:C.default.getEmptyEnvironmentsList()};a().isEmpty(e.trim())?this.setState(t,(()=>{this.listDashboardsWithIntegrationId(this.props.integrationId)})):this.setState((n=>n.apiKey!==e.trim()?t:{apiKey:e.trim(),errorApiKey:!1}),(()=>{this.listDashboardsWithIntegrationId(this.props.integrationId)}))}handleAppKeyInput(e){let t={appKey:e.trim(),errorAppKey:!1,dashboardGuids:[],environments:C.default.getEmptyEnvironmentsList()};a().isEmpty(e.trim())?this.setState(t,(()=>{this.listDashboardsWithIntegrationId(this.props.integrationId)})):this.setState((n=>n.appKey!==e.trim()?t:{appKey:e.trim(),errorAppKey:!1}),(()=>{this.listDashboardsWithIntegrationId(this.props.integrationId)}))}toggle(e){this.setState((t=>({[e]:!t[e]})))}render(){const{apiKey:e,appKey:t,region:n,errorNickname:o,environments:s,loadingDashboards:i,selectedDashboards:c,availableDashboards:d,dashboardGuids:u,errorDashboards:p,nickname:g,errorApiKey:E,errorAppKey:_}=this.state,{rule:A,apiId:O,apiVersionId:N,integrationId:D,variables:R}=this.props,P=C.default.areEnvironmentsValid(s);let M={name:g,rule:A,api_id:O,entity:"apiversion",executor:N,variables:{...e?{api_key:e}:{},...t?{app_key:t}:{},region:n,dashboard_guids:u,environments:a().map(s,(e=>({name:e.name,services:e.services})))}};return r.createElement("div",null,r.createElement(m.NicknameFieldSegment,{id:"datadog-nickname",value:g,error:o,onBlur:()=>{this.setState({nickname:g.trim(),errorNickname:a().isEmpty(g.trim())?"Please enter a nickname":""})},onChange:e=>{this.setState({nickname:e,errorNickname:""})}}),r.createElement(l.default,{direction:"column",gap:"spacing-l",padding:{paddingTop:"spacing-l"}},r.createElement(T.default,{mode:b.EDIT_MODE,handleOnApiKeyChange:e=>{this.setState({apiKey:e.target.value,errorApiKey:!1})},handleOnApiKeyBlur:()=>{this.handleApiKeyInput(e)},apiKey:e,apiKeyValidationStatus:E?"error":null,apiKeyValidationMessage:E?"Invalid API Key or APP key":null,handleOnAppKeyChange:e=>{this.setState({appKey:e.target.value,errorAppKey:!1})},handleOnAppKeyBlur:()=>{this.handleAppKeyInput(t)},appKey:t,appKeyValidationStatus:_?"error":null,appKeyValidationMessage:_?"Invalid API Key or APP key":null,region:n,handleOnRegionChange:this.onRegionSelectorChange}),r.createElement(j.default,{mode:b.EDIT_MODE,apiKey:e,appKey:t,integrationId:D,selectedDashboards:c,availableDashboards:d,handleDashboardsChange:this.onDashboardSelect,isLoadingDashboards:i,errorDashboards:p,environments:s,region:n,rule:A,onSelectEnvironmentServices:(e,t,n)=>{this.setState((o=>(o.environments[n]={id:a().get(o.environments[n],"id"),name:e,services:t},o)))},removeEnvironmentSelector:this.removeEnvironmentSelector,handleAddEnvironmentButtonClick:()=>{this.setState((e=>(e.environments.push({name:"",services:[],id:S().v4()}),e)))},isAddEnvironmentButtonDisabled:!P})),r.createElement(h.default,{type:"primary",disabled:a().isEmpty(g.trim())||E||_||!P||o||i||!(0,w.isFormUpdated)(this.getInitialData(),M),payload:M,store:this.store,rule:A,client_category:this.client_category,route:f.V10_API_EDIT_APM_INTEGRATION_URL,integrationId:D,redirect:()=>{v.default.transitionTo(f.V10_API_APM_DATADOG_INTEGRATION_DASHBOARD_NAV_IDENTIFIER,{apiId:O,integrationId:D})}},"Update"),r.createElement("div",{className:"integrations-add-actions__button--container"},r.createElement(y.Button,{className:"integrations-add-actions__button--cancel",type:"secondary",size:"small",onClick:()=>{I.default.closeByRoute(f.V10_API_EDIT_APM_INTEGRATION_URL,{apiId:O,integrationId:D})}},"Cancel")))}})||o,D=(0,c.observer)(s=class extends r.Component{render(){let{rule:e}=this.props;return e===b.DATADOG_APM_CLASS_ID?r.createElement(N,this.props):e===b.DATADOG_MONITOR_CLASS_ID?r.createElement(E.default,this.props):void 0}})||s},"./integrations/monitoring/edit/NewRelic.js":function(e,t,n){"use strict";n.r(t),n.d(t,{NewRelicAPM:function(){return L},default:function(){return x}});var o,s,i=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./js/stores/StoreManager.js"),l=n("./integrations/monitoring/stores/APMIntegrationStore.js"),c=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/index.js"),d=n("./integrations/components/base/EditIntegration.js"),u=n("./integrations/monitoring/services/index.js"),p=n("./integrations/monitoring/constants.js"),m=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js"),h=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/utils.js"),g=n("./js/components/base/Buttons.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),v=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),I=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),E=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),_=n("./js/services/NavigationService.js"),S=n("./appsdk/workbench/TabService.js"),C=n("./api-dev/constants/APISubViews.js"),T=n("./integrations/navigation/constants.js"),j=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/NewRelic.js"),A=n("./integrations/monitoring/components/NewRelic/AddComponents.js"),w=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/FormUpdateChecker.ts"),O=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/ConnectedAccounts/IntegrationForms/FormHeader/ConnectedAccountsIntegrationFormHeader.js"),N=n("./js/stores/CurrentUserStore.js"),D=n("./integrations/services/AuthenticationInstanceService.ts"),R=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/UserService.ts"),P=n("./node_modules/lodash/lodash.js");const M=pm.logger.getContext("NewRelicEdit","integrations");let L=(0,a.observer)(o=class extends i.Component{constructor(e){super(e),this.listDashboardsWithIntegrationId=e=>{const{rule:t}=this.props,{dashboardGuids:n}=this.state;this.setState({loadingDashboards:!0,errorDashboards:!1}),u.default[t].listDashboardsWithIntegrationId(e).then((e=>{let t=P.map(P.get(e,"data.actor.entitySearch.results.entities"),(e=>({label:e.name,value:e.guid,...e}))),o=P.map(t,(e=>{if(P.includes(n,e.value))return e}));o=P.compact(o),this.setState({availableDashboards:t,selectedDashboard:o,loadingDashboards:!1})})).catch((e=>{this.setState({errorDashboards:!0,loadingDashboards:!1,selectedDashboard:[],availableDashboards:[]})}))},this.listServiesWithIntegrationId=e=>{const{rule:t}=this.props,{serviceGuids:n}=this.state;this.setState({loadingServices:!0,errorServices:!1}),u.default[t].listSevicesWithIntegrationId(e).then((e=>{let t=P.map(P.get(e,"data.actor.entitySearch.results.entities"),(e=>({label:e.name,value:e.guid,...e}))),o=P.map(t,(e=>{if(P.includes(n,e.value))return e}));o=P.compact(o),this.setState({availableServices:t,selectedService:o,loadingServices:!1})})).catch((e=>{var t,n;this.setState({orphaned:403===(null===(t=e.error)||void 0===t?void 0:t.statusCode)&&"newRelicError"===(null===(n=e.error)||void 0===n?void 0:n.name),errorServices:!0,loadingServices:!1,selectedService:[],availableServices:[]})}))},this.state={nickname:"",apiKey:"",errorNickname:"",errorApiKey:"",monitor:"",region:p.NEW_RELIC_REGIONS.US,isUsingApiKeyInput:!0,loadingAuthenticationInstances:!0,authenticationInstances:[],addNewRelicToTeam:!1,installedAppFeatureFlag:!1,orphaned:!1,authToBeUsed:""},this.store=(0,r.resolveStoreInstance)(l.default),this.toggle=this.toggle.bind(this),this.onRegionSelectorChange=this.onRegionSelectorChange.bind(this),this.onServiceSelect=this.onServiceSelect.bind(this),this.handleApiKeyInput=this.handleApiKeyInput.bind(this),this.listServices=this.listServices.bind(this),this.onDashboardSelect=this.onDashboardSelect.bind(this),this.reauthenticate=this.reauthenticate.bind(this),this.client_category=p.API_MONITORING,this.getInitialState=this.getInitialState.bind(this),this.changeAuthenticationCallback=this.changeAuthenticationCallback.bind(this)}componentDidMount(){const{origin:e,variables:t}=this.props,n=(0,p.isFeatureFlagEnabled)(p.NEW_RELIC_APM_CLASS_ID);this.setState({...this.getInitialState(),isUsingApiKeyInput:!t.auth,installedAppFeatureFlag:n,origin:e},(()=>{this.listDashboardsWithIntegrationId(this.props.integrationId),this.listServiesWithIntegrationId(this.props.integrationId),n&&this.fetchAuthenticationInstance()}))}fetchAuthenticationInstance(){const e=(0,r.resolveStoreInstance)(N.default);this.setState({loadingAuthenticationInstances:!0}),D.default.listAuthenticationInstances({scope:[{type:p.AUTHENTICATION_INSTANCE_SCOPES.TEAM,id:e.teamId}],authenticationClass:[p.AUTHENTICATION_CLASSES.NEW_RELIC_USER],service:[p.NEW_RELIC_SERVICE_ID]}).then((({body:e})=>{if(P.isNil(e.data))return pm.logger.error("BrowseIntegrations-AddNewRelic~Error loading authentication instances! Received null response!",{body:e},{context:M}),this.setState({loadingAuthenticationInstances:!1});if(P.isEmpty(e.data))return this.setState({authenticationInstances:[],loadingAuthenticationInstances:!1});const t=P.head(e.data);R.default.fetchUserInfo(t.createdBy,((n,o)=>(n&&pm.logger.error("Error occurred while fetching user meta for authentication instance",n),t.createdByDetails=P.get(o,["body","users",t.createdBy]),this.setState({authenticationInstances:e.data,loadingAuthenticationInstances:!1}))))})).catch((e=>(pm.logger.error("APIBuilder-EditNewRelic~Error loading authentication instances!",e,{context:M}),this.setState({loadingAuthenticationInstances:!1}))))}getInitialState(){const{variables:e,nickname:t}=this.props;return{apiKey:e.api_key,region:e.region?e.region:p.NEW_RELIC_REGIONS.US,apiId:e.postman_api_id,serviceGuids:e.service_guids,dashboardGuids:e.dashboard_guids,nickname:t,addNewRelicToTeam:!1,authToBeUsed:e.auth}}toggle(e){this.setState((t=>({[e]:!t[e]})))}onServiceSelect(e){if(!P.isArray(e))return;let t=P.map(e,(e=>e.value));this.setState({selectedService:e,serviceGuids:t})}onDashboardSelect(e){if(!P.isArray(e))return;let t=P.map(e,(e=>e.value));this.setState({selectedDashboard:e,dashboardGuids:t})}onRegionSelectorChange(e){this.setState({region:e})}handleApiKeyInput(e){this.setState({apiKey:e.trim(),errorApiKey:P.isEmpty(e.trim())?"Please enter an API key":""},(()=>{this.listServices(),this.listDashboards()}))}listServices(){const{rule:e}=this.props,{apiKey:t,region:n,serviceGuids:o,isUsingApiKeyInput:s,authenticationInstances:i}=this.state,a={rule:e,type:"listServices"};s?(a.api_key=t,a.region=n):a.serviceAuth=P.head(i).id,this.setState({loadingServices:!0,errorServices:!1}),u.default[e].listServices(a).then((e=>{const t=P.map(P.get(e,"data.actor.entitySearch.results.entities"),(e=>({label:e.name,value:e.guid,...e})));let n=P.map(t,(e=>{if(P.includes(o,e.value))return e}));n=P.compact(n),this.setState({availableServices:t,selectedService:n,loadingServices:!1})})).catch((e=>{this.setState({errorServices:!0,loadingServices:!1,selectedService:[],availableServices:[]})}))}listDashboards(){const{rule:e}=this.props,{apiKey:t,region:n,dashboardGuids:o,isUsingApiKeyInput:s,authenticationInstances:i}=this.state,a={rule:e,type:"listDashboards"};s?(a.api_key=t,a.region=n):a.serviceAuth=P.head(i).id,this.setState({loadingDashboards:!0,errorDashboards:!1}),u.default[e].listServices(a).then((e=>{let t=P.map(P.get(e,"data.actor.entitySearch.results.entities"),(e=>({label:e.name,value:e.guid,...e}))),n=P.map(t,(e=>{if(P.includes(o,e.value))return e}));n=P.compact(n),this.setState({availableDashboards:t,selectedDashboard:n,loadingDashboards:!1})})).catch((e=>{this.setState({errorDashboards:!0,loadingDashboards:!1,selectedDashboard:[],availableDashboards:[]})}))}reauthenticate(){this.setState({isUsingApiKeyInput:!0,authToBeUsed:null})}changeAuthenticationCallback(){const{authenticationInstances:e}=this.state;this.setState({orphaned:!1,authToBeUsed:P.head(e).id},(()=>{this.listServices(),this.listDashboards()}))}render(){const{apiKey:e,region:t,errorApiKey:n,errorNickname:o,availableServices:s,selectedService:a,loadingServices:r,loadingDashboards:l,selectedDashboard:u,availableDashboards:j,serviceGuids:N,dashboardGuids:D,errorServices:R,errorDashboards:M,origin:L,nickname:x,orphaned:k,authToBeUsed:F,isUsingApiKeyInput:V,authenticationInstances:B,loadingAuthenticationInstances:U,addNewRelicToTeam:z,installedAppFeatureFlag:H}=this.state,{rule:G,apiId:W,apiVersionId:$,integrationId:q,variables:Y}=this.props,K=!U&&P.isEmpty(B)&&k,J=H&&!U&&P.isEmpty(B),Z=!P.isEmpty(B)&&F!==P.head(B).id,X=e||F;let Q={name:x,rule:G,api_id:W,entity:"apiversion",executor:$,variables:{...e&&V?{api_key:e}:{},...V?{region:t,auth:""}:{auth:F},postman_api_id:W,service_guids:N,dashboard_guids:D}};return i.createElement("div",null,i.createElement(c.NicknameFieldSegment,{id:"new-relic-nickname",value:x,error:o,onBlur:()=>{this.setState({nickname:x.trim(),errorNickname:P.isEmpty(x.trim())?"Please enter a nickname":""})},onChange:e=>{this.setState({nickname:e,errorNickname:""})}}),V?i.createElement(c.SensitiveFieldSegment,{title:i.createElement(f.default,{text:"New Relic API Key",type:"primary"}),maskedPlaceholderWhenEmpty:!0,description:"Enter the User Key provided by New Relic or ",customLink:i.createElement(m.default,{extUrl:"https://go.pstmn.io/docs-newrelic-insights-key"},"generate one here"),id:"new-relic-key",value:e,error:n,onBlur:()=>{this.handleApiKeyInput(e)},onChange:e=>{this.setState({apiKey:e,errorApiKey:""})}}):i.createElement(i.Fragment,null,i.createElement(O.default,{connectedAccount:P.head(B),isLoading:U,isUsingPersonalCredentials:V,reauthenticateCallback:this.reauthenticate,primarySuccessText:"Connected to an account on New Relic by "+P.get(P.head(B),"createdByDetails.name","your team member"),primaryOrphanedText:"Connected New Relic account was removed",reauthenticateText:"Connect to different New Relic account",orphaned:K,reauthenticateWithAnotherAccount:Z,primaryChangeAuthenticationText:"Connected New Relic account is changed by "+P.get(P.head(B),"createdByDetails.name","your team member"),changeAuthenticationText:"Setup services using this authenticated account",changeAuthenticationCallback:this.changeAuthenticationCallback}),Z?i.createElement(c.SensitiveFieldSegment,{title:i.createElement(f.default,{text:"New Relic API Key",type:"primary"}),maskedPlaceholderWhenEmpty:!0,description:"Enter the User Key provided by New Relic or ",customLink:i.createElement(m.default,{extUrl:"https://go.pstmn.io/docs-newrelic-insights-key"},"generate one here"),id:"new-relic-key",value:e,error:n,onBlur:()=>{this.handleApiKeyInput(e)},onChange:e=>{this.setState({apiKey:e,errorApiKey:""})}}):null),i.createElement(A.MultiSelectWrapper,null,i.createElement(b.default,{menuMaxHeight:"36vh",value:a,options:s,placeholder:"Select New Relic Services",label:i.createElement(f.default,{text:"Services",type:"secondary",infoText:"New Relic Charts will be fetched via a public URL."}),onChange:this.onServiceSelect,isLoading:r,error:R&&"Unable to load services",emptyStateMessage:"No services found"})),i.createElement(A.MultiSelectWrapper,null,i.createElement(b.default,{menuMaxHeight:"24vh",value:u,options:j,placeholder:"Select Dashboards",label:i.createElement(f.default,{text:"Link Dashboards (Optional)",type:"secondary"}),onChange:this.onDashboardSelect,isLoading:l,error:M&&"Unable to load dashboards",emptyStateMessage:"No dashboards found"})),V||Z?i.createElement(i.Fragment,null,i.createElement(A.RadioButtonDiv,null,i.createElement(f.default,{text:"New Relic region",type:"primary"}),i.createElement(y.default,{type:"para"},"This helps us know what New Relic region to use"),i.createElement(v.default,{name:"Select New Relic site",value:this.state.region,direction:"column",onChange:e=>{this.onRegionSelectorChange(e)}},i.createElement(I.default,{label:"US (.com)",value:"us"}),i.createElement(I.default,{label:"EU (.eu)",value:"eu"}))),J?i.createElement("div",null,i.createElement(E.default,{isChecked:z,label:p.ADD_NEW_RELIC_TO_TEAM.LABEL,helperText:p.ADD_NEW_RELIC_TO_TEAM.HELPER_TEXT,onChange:()=>{this.setState({addNewRelicToTeam:!z})}})):null):null,i.createElement(d.default,{type:"primary",disabled:P.isEmpty(x.trim())||!X||P.isEmpty(N)||!(0,w.isFormUpdated)(this.getInitialState(),this.state),payload:Q,generatePayload:z?h.default.createAndPopulateNewRelicAuthenticationInstance:null,store:this.store,rule:G,client_category:this.client_category,redirect:()=>{L===p.SERVICES_CONTAINER?_.default.transitionTo("build.apiVersion",{apiId:W,versionId:$},{tab:C.MONITORING}):_.default.transitionTo(T.V10_API_APM_INTEGRATION_DASHBOARD_NAV_IDENTIFIER,{apiId:W,integrationId:q})},route:T.V10_API_EDIT_APM_INTEGRATION_URL,integrationId:q},"Update"),i.createElement("div",{className:"integrations-add-actions__button--container"},i.createElement(g.Button,{className:"integrations-add-actions__button--cancel",type:"secondary",size:"small",onClick:()=>{S.default.closeByRoute(T.V10_API_EDIT_APM_INTEGRATION_URL,{apiId:W,integrationId:q})}},"Cancel")))}})||o,x=(0,a.observer)(s=class extends i.Component{render(){let{rule:e}=this.props;return e===p.NEW_RELIC_APM_CLASS_ID?i.createElement(L,this.props):e===p.NEW_RELIC_MONITOR_CLASS_ID?i.createElement(j.default,this.props):void 0}})||s},"./integrations/monitoring/sentry/CompactView.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("./integrations/components/api-builder/ShowDetailedView.js"),l=n("./js/services/NavigationService.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("./integrations/components/api-builder/CompactViewContainer.js"),p=n("./integrations/monitoring/sentry/components/MetaDetails.js"),m=n("./integrations/monitoring/sentry/constants.js"),h=n("./integrations/monitoring/sentry/components/IntegrationActionsMenu.js"),g=n("./integrations/monitoring/sentry/components/RefreshIssuesButton.js"),f=n("./integrations/monitoring/sentry/components/IssuesTable.js"),b=n("./js/modules/services/AnalyticsService.js"),y=n("./node_modules/lodash/lodash.js");let v=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.onEnvironmentChange=e=>{const t=y.get(e,"value","");this.setState({selectedEnvironment:t},(()=>{b.default.addEventV2({category:m.ANALYTICS_EVENT_CATEGORY,action:"update-environment",value:t,label:m.SOURCE.MONITORING_TAB})}))},this.onDurationChange=e=>{const t=y.get(e,"value","");this.setState({selectedDuration:t},(()=>{b.default.addEventV2({category:m.ANALYTICS_EVENT_CATEGORY,action:"update-duration",value:t,label:m.SOURCE.MONITORING_TAB})}))},this.state={selectedEnvironment:m.ALL_ENVIRONEMENT_OPTION_VALUE,selectedDuration:y.get(y.nth(m.DURATION_OPTIONS,m.DEFAULT_DURATION_INDEX),"value")},this.integrationId=y.get(this.props,["integration","id"]),this.openDetailedIssuesView=this.openDetailedIssuesView.bind(this),this.onEnvironmentChange=this.onEnvironmentChange.bind(this),this.onDurationChange=this.onDurationChange.bind(this),this.issuesTableRef=i.createRef()}openDetailedIssuesView(){const{apiId:e,apiVersionId:t}=this.props;b.default.addEventV2({category:m.ANALYTICS_EVENT_CATEGORY,action:"open-detailed-issues-page",label:m.SOURCE.MONITORING_TAB}),l.default.transitionTo(m.DETAILED_ISSUES_ROUTE_IDENTIFIER,{apiId:e,versionId:t,integrationId:this.integrationId})}render(){const{selectedEnvironment:e,selectedDuration:t}=this.state,{apiId:n,apiVersionId:o}=this.props,s=i.createElement(a.default,{direction:"row"},i.createElement(g.default,{onClick:()=>{b.default.addEventV2({category:m.ANALYTICS_EVENT_CATEGORY,action:"refresh-issues",label:m.SOURCE.MONITORING_TAB}),y.invoke(this.issuesTableRef,["current","refreshIssues"])}}),i.createElement(h.default,{integrationId:this.integrationId,apiId:n,apiVersionId:o})),l=i.createElement(i.Fragment,null,i.createElement("div",null,i.createElement(p.default,{integrationId:this.integrationId,onEnvironmentChange:this.onEnvironmentChange,onDurationChange:this.onDurationChange}),i.createElement(f.default,{ref:this.issuesTableRef,source:m.SOURCE.MONITORING_TAB,integrationId:this.integrationId,selectedEnvironment:e,selectedDuration:t,hideLoadmoreButton:!0,issuesLimit:5})),i.createElement(r.default,{label:"View all issues",onClick:this.openDetailedIssuesView}));return i.createElement(u.default,{containerTitle:"Sentry",containerBody:l,rightSectionComponent:s})}})||o;v.propTypes={integration:d().object.isRequired,apiId:d().string.isRequired,apiVersionId:d().string.isRequired}},"./integrations/monitoring/sentry/components/IntegrationActionsMenu.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),p=n("./js/stores/SyncStatusStore.js"),m=n("./js/stores/StoreManager.js"),h=n("./integrations/monitoring/stores/APMIntegrationStore.js"),g=n("./js/services/NavigationService.js"),f=n("./integrations/api-observability/constants.ts"),b=n("./integrations/monitoring/constants.js"),y=n("./integrations/components/DeleteIntegrationModal.js"),v=n("./integrations/utils/CommonHelperMethods.ts"),I=n("./integrations/monitoring/sentry/constants.js"),E=n("./integrations/navigation/constants.js");class _ extends o.Component{constructor(e){super(e),this.state={showDeleteModal:!1,canEditDeleteIntegration:!1},this.store=(0,m.resolveStoreInstance)(h.default)}componentDidMount(){const{apiId:e}=this.props;(0,m.resolveStoreInstance)(p.default).onSyncAvailable({timeout:I.SYNC_STATUS_TIMEOUT}).then((()=>(0,v.fetchApiPermissions)(e))).then((e=>{this.setState({canEditDeleteIntegration:e})}))}render(){const{showDeleteModal:e,canEditDeleteIntegration:t}=this.state,{apiId:n,apiVersionId:s,integrationId:i,menuButtonSize:p}=this.props,m=!t&&f.PERMISSION_ERROR;return o.createElement(a.default,{justifyContent:"center",alignItems:"center"},o.createElement(r.default,null,o.createElement(l.default,null,o.createElement(c.default,{icon:"icon-action-options-stroke",type:"tertiary",size:p||"small"})),o.createElement(d.default,null,o.createElement(u.default,{onClick:()=>{g.default.transitionTo(E.V10_API_EDIT_APM_INTEGRATION_NAV_IDENTIFIER,{apiId:n,integrationId:i},{service:I.SERVICE_ID,rule:I.INTEGRATION_CLASS_NAME})},isDisabled:!t,tooltip:m},"Edit Integration"),o.createElement(u.default,{type:"destructive",onClick:()=>{this.setState({showDeleteModal:!0})},isDisabled:!t,tooltip:m},"Delete Integration"))),o.createElement(y.default,{size:"small",store:this.store,category:b.API_MONITORING,payload:{api_id:n,executor:s},isOpen:e,handleCloseModal:()=>{this.setState({showDeleteModal:!1})},integrationId:i,ruleId:I.INTEGRATION_CLASS_NAME}))}}_.propTypes={integrationId:i().string.isRequired,apiId:i().string.isRequired,apiVersionId:i().string.isRequired,menuButtonSize:i().string}},"./integrations/monitoring/sentry/components/IssueDetails.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),u=n("./integrations/monitoring/sentry/service.js"),p=n("./node_modules/prop-types/index.js"),m=n.n(p),h=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),g=n("./integrations/monitoring/sentry/components/StackTraceItem.js"),f=n("./integrations/monitoring/sentry/constants.js"),b=n("./appsdk/components/link/Link.js"),y=n("./node_modules/lodash/lodash.js");const v=(0,h.default)(a.default)`
    background-color: var(--background-color-secondary);
    padding: var(--spacing-m) var(--spacing-m) var(--spacing-m) calc(var(--spacing-xxl) + var(--spacing-s));
  `,I=(0,h.default)(a.default)`
    row-gap: var(--spacing-xs);
  `;let E=(0,s.observer)(o=class extends i.Component{constructor(e){super(e),this.state={issueDetails:{},loadingDetails:!0},this.fetchIssueDetails=this.fetchIssueDetails.bind(this)}fetchIssueDetails(){this.setState({loadingDetails:!0});const{integrationId:e,issueId:t,sentryEnvironment:n}=this.props,o={inputs:{issue_id:t,sentryEnvironment:n}};u.default.fetchIssueDetails(e,o).then((e=>{this.setState({loadingDetails:!1,issueDetails:e})})).catch((e=>{pm.logger.error("Sentry.IssueDetails ~ Error in fetching issue details",e),this.setState({loadingDetails:!1})}))}componentDidMount(){this.fetchIssueDetails()}render(){const{issueDetails:e,loadingDetails:t}=this.state,n=y.get(e,["metadata","type"],""),o=y.get(e,["metadata","value"],""),s=y.get(e,"entries",[]),u=y.first(y.filter(s,{type:"exception"})),p=y.get(u,"data.values[0].stacktrace.frames",[]);return t?i.createElement(v,{justifyContent:"center",alignItems:"center"},i.createElement(r.default,{size:"small",description:f.LOADING_ISSUE_DETAILS})):y.isEmpty(e)?i.createElement(v,{justifyContent:"center",alignItems:"end"},i.createElement(l.default,null,f.ERROR_MESSAGES.UNABLE_TO_FETCH_ISSUES_DETAILS,""),i.createElement(b.default,{onClick:e=>{e.preventDefault(),this.fetchIssueDetails()}},i.createElement(l.default,{type:"link-default"},i.createElement(l.default,null,"Try again")))):i.createElement(v,{direction:"column"},i.createElement(a.default,{direction:"row"},i.createElement(a.default,{justifyContent:"center",alignItems:"flex-start"},i.createElement(c.default,{type:"h5",text:"Tags: "})),i.createElement(I,{justifyContent:"flex-start",alignItems:"center",wrap:"wrap",width:"100%"},y.map(e.tags,(e=>i.createElement(d.default,{type:"neutral",text:`${y.lowerCase(e.key)}: ${e.value}`}))))),(n||o)&&i.createElement(i.Fragment,null,i.createElement("br",null),i.createElement(c.default,{type:"h5",text:n}),i.createElement(l.default,null,o)),!y.isEmpty(p)&&i.createElement(i.Fragment,null,i.createElement("br",null),y.map(p,(e=>i.createElement(g.default,{traceFrameData:e})))),i.createElement("br",null))}})||o;E.propTypes={integrationId:m().string.isRequired,issueId:m().string.isRequired,sentryEnvironment:m().string}},"./integrations/monitoring/sentry/components/IssueFilters.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),u=n("./integrations/monitoring/sentry/service.js"),p=n("./integrations/monitoring/sentry/constants.js"),m=n("./node_modules/lodash/lodash.js");const h=(0,a.default)(r.default)`
    & .aether-dropdown__control {
      border: none;
    }
    & .aether-dropdown__control--is-focused, &:hover {
      border: none;
      box-shadow: none;
    }
  `;class g extends o.Component{constructor(e){super(e),this.handleEnvironmentChange=e=>{this.setState({selectedEnvironment:e},(()=>{this.props.onEnvironmentChange(e)}))},this.handleDurationChange=e=>{this.setState({selectedDuration:e},(()=>{this.props.onDurationChange(e)}))},this.state={environments:[],selectedDuration:m.nth(p.DURATION_OPTIONS,p.DEFAULT_DURATION_INDEX),selectedEnvironment:m.first(p.ENVIRONMENT_DEFAULT_OPTION),loadingEnvironments:!0},this.addToast=this.props.addToast,this.handleEnvironmentChange=this.handleEnvironmentChange.bind(this),this.handleDurationChange=this.handleDurationChange.bind(this)}componentDidMount(){const{integrationId:e}=this.props;u.default.fetchEnvironments(e).then((e=>{const t=m.map(e,(e=>({value:e.value,label:e.name})))||[];this.setState({loadingEnvironments:!1,environments:[...p.ENVIRONMENT_DEFAULT_OPTION,...t]})})).catch((e=>{pm.logger.error("sentry.IssueFilters ~ Error fetching environments",e),this.addToast({title:p.ENVIROMENT_LOADING_FAILED_TOAST.title,status:"error",description:p.ENVIROMENT_LOADING_FAILED_TOAST.description}),this.setState({loadingEnvironments:!1})}))}render(){const{loadingEnvironments:e,environments:t,selectedEnvironment:n,selectedDuration:s}=this.state;return o.createElement(l.default,{direction:"row"},o.createElement(l.default,{justifyContent:"center",alignItems:"center"},o.createElement(c.default,{color:"content-color-secondary"},"Environments:")),o.createElement(h,{triggerWidth:"auto",menuWidth:"auto",isClearable:!1,isLoading:e,onChange:this.handleEnvironmentChange,placeholder:"Select Environment",value:n,options:t}),o.createElement(l.default,{justifyContent:"center",alignItems:"center"},o.createElement(c.default,{color:"content-color-secondary"},"Duration:")),o.createElement(h,{triggerWidth:"auto",menuWidth:"auto",isClearable:!1,options:p.DURATION_OPTIONS,onChange:this.handleDurationChange,value:s,placeholder:"Select duration"}))}}g.propTypes={onEnvironmentChange:i().func.isRequired,onDurationChange:i().func.isRequired,integrationId:i().string.isRequired},t.default=(0,d.default)(g)},"./integrations/monitoring/sentry/components/IssuesTable.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/TestPass.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),g=n("./integrations/utils/CommonHelperMethods.ts"),f=n("./integrations/monitoring/sentry/constants.js"),b=n("./integrations/monitoring/sentry/service.js"),y=n("./integrations/monitoring/sentry/components/IssueDetails.js"),v=n("./js/external-navigation/ExternalNavigationService.js"),I=n("./js/modules/services/AnalyticsService.js"),E=n("./node_modules/lodash/lodash.js");const _=a.default.div`
    display: flex;
    aligh-items: center;
    width: 100%;
  `,S=a.default.div`
    margin: var(--spacing-m);
    overflow:hidden;
  `;class C extends o.Component{constructor(e){super(e),this.state={issuesList:[],loadingIssues:!0,nextCursor:"",errorFetchingIssues:!1},this.refreshIssues=this.refreshIssues.bind(this),this.issueRowSubComponent=this.issueRowSubComponent.bind(this),this.getEmptyTableComponent=this.getEmptyTableComponent.bind(this),this.getSentryTableColumns=this.getSentryTableColumns.bind(this)}componentDidMount(){this.refreshIssues()}componentDidUpdate(e){const{selectedEnvironment:t,selectedDuration:n}=this.props;e.selectedEnvironment===t&&e.selectedDuration===n||this.refreshIssues()}issueRowSubComponent(e){const{integrationId:t,selectedEnvironment:n}=this.props;return o.createElement(y.default,{integrationId:t,issueId:e.id,sentryEnvironment:n})}getSentryTableColumns(){const{source:e}=this.props;return[{Header:"Issues",accessor:e=>[E.get(e,"title"),E.get(e,"permalink")],Cell:({value:t})=>{const[n,s]=t;return o.createElement(_,{onClick:t=>{t.preventDefault(),I.default.addEventV2({category:f.ANALYTICS_EVENT_CATEGORY,action:"open-issue-on-sentry",label:e}),(0,v.openExternalLink)(s,"_blank")}},o.createElement(r.default,{type:"link-default",isExternal:!0,isTruncated:!0},n))}},{Header:"Level",accessor:"level",Cell:({value:e})=>(e||(e="N/A"),o.createElement(l.default,{alignItems:"center"},o.createElement(c.default,{status:E.get(f.LEVEL_TO_BADGE_STATUS_MAPPING,e,f.LEVEL_TO_BADGE_STATUS_MAPPING.default),text:e}))),cellWidth:"100px"},{Header:"Handled",accessor:"isUnhandled",Cell:({value:e})=>{const t=e?"No":"Yes";return o.createElement(l.default,{alignItems:"center"},o.createElement(c.default,{status:"neutral",text:t}))},cellWidth:"90px"},{Header:"First Seen",accessor:"firstSeen",Cell:e=>o.createElement(l.default,{alignItems:"center"},o.createElement(r.default,{isTruncated:!0},(0,g.getRelativeTime)(e.value))),cellWidth:"120px"},{Header:"Last Seen",accessor:"lastSeen",Cell:e=>o.createElement(l.default,{alignItems:"center"},o.createElement(r.default,{isTruncated:!0},(0,g.getRelativeTime)(e.value))),cellWidth:"120px"},{Header:"Events",accessor:"count",Cell:e=>o.createElement(l.default,{alignItems:"center"},o.createElement(r.default,{isTruncated:!0},E.toString(e.value))),cellWidth:"80px"},{Header:"Users",accessor:"userCount",Cell:e=>o.createElement(l.default,{alignItems:"center"},o.createElement(r.default,{isTruncated:!0},E.toString(e.value))),cellWidth:"80px"}]}getEmptyTableComponent(){const{errorFetchingIssues:e}=this.state;return e?o.createElement(d.default,{description:"Unable to load issues.",secondaryAction:o.createElement(u.default,{type:"outline",text:"Try Again",onClick:this.refreshIssues})},o.createElement(p.default,null)):o.createElement(d.default,{title:"Things look good!",description:"We couldnt find any issues.",secondaryAction:o.createElement(u.default,{type:"outline",text:"Refresh",onClick:this.refreshIssues})},o.createElement(m.default,null))}refreshIssues(e){const{integrationId:t,selectedEnvironment:n,selectedDuration:o,issuesLimit:s}=this.props,{cursor:i}=this.state;e?this.setState({loadingIssues:!0}):this.setState({loadingIssues:!0,issuesList:[]}),b.default.fetchIssues(t,{inputs:{sentryEnvironment:n,sentryDuration:o,cursor:i,limit:s||f.SINGLE_API_CALL_ISSUE_LIMIT}}).then((t=>{const n=E.get(t,"issues",[]),o=E.get(t,"nextCursor");let s=[];s=e?[...this.state.issuesList,...n]:n,this.setState({loadingIssues:!1,errorFetchingIssues:!1,issuesList:s,cursor:o})})).catch((e=>{pm.logger.error("Sentry.IssuesTable ~ Error fetching issues",e),this.setState({loadingIssues:!1,errorFetchingIssues:!0})}))}render(){const{issuesList:e,loadingIssues:t,cursor:n}=this.state,{hideLoadmoreButton:s}=this.props;return o.createElement(S,null,o.createElement(h.default,{data:e,columns:this.getSentryTableColumns(),sorting:!0,rowExpanded:this.issueRowSubComponent,loader:{isLoading:t,showLoadMoreButton:!s&&n,onLoadMore:()=>{this.refreshIssues(!0)}},blankState:{isEmpty:E.isEmpty(e)&&!t,component:this.getEmptyTableComponent()}}))}}C.propTypes={integrationId:i().string.isRequired,selectedEnvironment:i().string,selectedDuration:i().string,hideLoadmoreButton:i().bool,source:i().string,issuesLimit:i().number}},"./integrations/monitoring/sentry/components/MetaDetails.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o,s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/react/index.js"),a=n("./node_modules/prop-types/index.js"),r=n.n(a),l=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./integrations/monitoring/sentry/components/IssueFilters.js"),d=n("./integrations/monitoring/sentry/components/ProjectName.js");const u=l.default.div`
    margin-bottom: var(--spacing-xs) var(--spacing-s);
    padding: var(--spacing-zero) var(--spacing-l);
    height: var(--size-m);
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: var(--border-radius-default);
  `;let p=(0,s.observer)(o=class extends i.Component{constructor(e){super(e)}render(){const{onEnvironmentChange:e,onDurationChange:t,integrationId:n}=this.props;return i.createElement(u,null,i.createElement(d.default,{integrationId:n}),i.createElement(c.default,{onEnvironmentChange:e,onDurationChange:t,integrationId:n}))}})||o;p.propTypes={integrationId:r().string.isRequired,onEnvironmentChange:r().func.isRequired,onDurationChange:r().func.isRequired}},"./integrations/monitoring/sentry/components/ProjectName.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("./integrations/monitoring/sentry/service.js"),d=n("./integrations/monitoring/sentry/constants.js"),u=n("./node_modules/lodash/lodash.js");class p extends o.Component{constructor(e){super(e),this.state={projectName:"",loadingProjectName:!0}}componentDidMount(){const{integrationId:e}=this.props;c.default.fetchProjectDetails(e).then((e=>{this.setState({loadingProjectName:!1,projectName:u.get(e,"name")})})).catch((e=>{pm.logger.error("Sentry.ProjectName ~ Error in fetching project details",e),this.setState({loadingProjectName:!1,errorIssues:e})}))}render(){const{projectName:e,loadingProjectName:t}=this.state;return o.createElement(o.Fragment,null,t?o.createElement(a.default,{size:"small",description:d.LOADING_PROJECT_NAME_MESSAGE}):o.createElement(r.default,{direction:"row"},o.createElement(l.default,{color:"content-color-secondary"}," Project: ",e)))}}p.propTypes={integrationId:i().string.isRequired}},"./integrations/monitoring/sentry/components/RefreshIssuesButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-refresh-stroke.js");class l extends o.Component{constructor(e){super(e)}render(){const{onClick:e}=this.props;return o.createElement(a.default,{onClick:e,icon:o.createElement(r.default,null),text:"Refresh",type:"tertiary",size:"medium"})}}l.propTypes={onClick:i().func.isRequired}},"./integrations/monitoring/sentry/components/StackTraceItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-subtract-stroke-small.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke-small.js"),u=n("./node_modules/lodash/lodash.js");const p=(0,a.default)(r.default)`
    border-radius: var(--border-radius-default);
    border: var(--border-width-default) var(--border-style-solid) var(--border-color-default);
  `,m=a.default.div`
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: var(--border-width-default) var(--border-style-solid) var(--border-color-strong);
    background-color: var(--background-color-primary);
    padding: var(--spacing-xs) var(--spacing-m);
  `,h=a.default.div`
    background-color: var(--background-color-primary);
  `,g=a.default.pre`
    font-size: var(--text-size-m);
    padding: var(--spacing-xs) var(--spacing-m);
    margin: var(--spacing-zero);
  `,f=a.default.pre`
    font-size: var(--text-size-m);
    padding: var(--spacing-xs) var(--spacing-m);
    margin: var(--spacing-zero) var(--spacing-zero) var(--spacing-zero) var(--spacing-xs) !important;
    overflow: hidden;
    text-overflow: ellipsis;
  `,b=(0,a.default)(r.default)`
    background-color: var(--background-color-info);
  `;class y extends o.Component{constructor(e){super(e),this.state={showDetails:!1},this.getTraceTitle=this.getTraceTitle.bind(this),this.getTitleIcon=this.getTitleIcon.bind(this)}getTitleIcon(){const{showDetails:e}=this.state;return e?o.createElement(c.default,null):o.createElement(d.default,null)}getTraceTitle(e){const{filename:t,absPath:n,lineNo:s}=e,i=u.get(e,"function");return o.createElement(r.default,{direction:"row"},o.createElement(l.default,null,n||t,i&&o.createElement(o.Fragment,null,o.createElement(l.default,{color:"content-color-secondary"},"in"),i),s&&o.createElement(o.Fragment,null,o.createElement(l.default,{color:"content-color-secondary"},"at line"),s)))}render(){const{showDetails:e}=this.state,{traceFrameData:t}=this.props,n=u.get(t,"lineNo"),s=u.get(t,"context",[]);return o.createElement(p,{direction:"column"},o.createElement(m,{onClick:()=>{this.setState({showDetails:!e})}},this.getTraceTitle(t),this.getTitleIcon()),e&&o.createElement(h,null,u.map(s,(e=>{const t=u.nth(e,0),s=u.nth(e,1),i=o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(g,null,t)),o.createElement(f,null,s));return t===n?o.createElement(b,{direction:"row"},i):o.createElement(r.default,{direction:"row"},i)}))))}}y.propTypes={traceFrameData:i().object.isRequired}},"./integrations/monitoring/sentry/service.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),s=n("./integrations/monitoring/sentry/constants.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/ServiceActionsService.ts"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/DefaultFormInputs/inputs/utils.js"),r=n("./node_modules/lodash/lodash.js");function l(e){return r.get(e,["inputs","sentryEnvironment"],"")===s.ALL_ENVIRONEMENT_OPTION_VALUE&&(e.inputs.sentryEnvironment=""),e}t.default={fetchIssues:(e,t)=>(t=l(t),new Promise(((n,i)=>{o.default.triggerIntegrationOnDemand(e,s.SENTRY_ONDEMAND_TRIGGERS.FETCH_ISSUES,t).then((e=>e.status>=200&&e.status<300?n(r.get(e,"body",{})):i(e))).catch(i)}))),fetchIssueDetails:(e,t)=>(t=l(t),new Promise(((n,i)=>{o.default.triggerIntegrationOnDemand(e,s.SENTRY_ONDEMAND_TRIGGERS.FETCH_ISSUE_DETAILS,t).then((e=>e.status>=200&&e.status<300?n(r.get(e,"body",{})):i(e))).catch(i)}))),fetchEnvironments:e=>new Promise(((t,n)=>{o.default.triggerIntegrationOnDemand(e,s.SENTRY_ONDEMAND_TRIGGERS.FETCH_ENVIRONMENTS,{}).then((e=>e.status>=200&&e.status<300?t(r.get(e,"body",[])):n(e))).catch(n)})),fetchProjectDetails:e=>new Promise(((t,n)=>{o.default.triggerIntegrationOnDemand(e,s.SENTRY_ONDEMAND_TRIGGERS.FETCH_PROJECT_DETAILS,{}).then((e=>e.status>=200&&e.status<300?t(r.get(e,"body",{})):n(e))).catch(n)})),fetchProjects:(e,t,n)=>{if(!t)return new Promise;const o=t.options,s=r.reduce(r.get(o,"inputs",[]),((t,n,o)=>(t[o]=r.get(e,n,""),t)),{});return new Promise(((e,l)=>{i.default.runServiceAction(o.service,o.serviceActionId,s,t.integrationClass,t.id,n||null).then((t=>{const n=r.get(t,"body",[]),s=r.get(o,"labelPath"),i=r.get(o,"valuePath"),l=(0,a.convertObjectListToOptions)(n,s,i);return e(l)})).catch((e=>(pm.logger.error("Sentry.service.fetchProjects ~ Error occurred while fetching projects",e),l(e))))}))}}},"./integrations/monitoring/services/DatadogService.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/ServiceActionsService.ts"),r=n("./integrations/monitoring/constants.js"),l=n("./node_modules/async/dist/async.js"),c=n.n(l);function d(e,t,n,o){return new Promise(((i,l)=>{a.default.runServiceAction("datadog",n,e,r.DATADOG_APM_CLASS_ID,o,t).then((e=>{if(e.status&&200===e.status)return i(s().get(e,"body"));throw s().get(e,"body")})).catch((e=>l(e)))}))}function u(e,t,n,o){return new Promise(((i,l)=>{a.default.runServiceAction("datadog",n,e,r.DATADOG_APM_CLASS_ID,o,t).then((e=>{if(e.status&&200===e.status)return i(s().get(e,"body"));throw s().get(e,"body")})).catch((e=>l(e)))}))}t.default={listServices:e=>u(e,null),listDashboards:(e,t,n,o)=>d(e,t,n,o),listDashboardsWithIntegrationId:(e,t,n,o)=>d(e,t,n,o),listServicesWithIntegrationId:(e,t,n,o)=>u(e,t,n,o),authenticateApiKey:(e,t,n,o)=>d(e,t,n,o),fetchMetricsForLinkedServices:e=>{const t=Date.now()/1e3,n=t-1800;return i.default.triggerIntegrationOnDemand(e,"fetch_metrics_for_added_services",{inputs:{startTime:n,endTime:t}}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e.body})).catch((e=>Promise.reject(e)))},fetchGraphURLs:(e,t,n,o,a)=>{let r={};const l=(a,l,c)=>{i.default.triggerIntegrationOnDemand(e,l,{inputs:{timeFrame:t,service:n,environment:o}}).then((e=>{if(e.status&&200===e.status)return r[c]=s().get(e.body,"data"),a();throw e.body})).catch((e=>a(e)))};c().parallel([function(e){l(e,"fetch_apdex_graph_url","apdex_graphs")},function(e){l(e,"fetch_error_rate_graph_url","error_rate_graphs")},function(e){l(e,"fetch_latency_graph_url","latency_graphs")},function(e){l(e,"fetch_throughput_graph_url","throughput_graphs")}],(e=>e?a(e):a(null,r)))},fetchServiceMonitorsStatus:(e,t,n)=>i.default.triggerIntegrationOnDemand(e,"get_violations",{inputs:{service:t,environment:n}}).then((e=>{if(e&&200===e.status)return Promise.resolve(e.body);throw e.body})).catch((e=>Promise.reject(e)))}},"./integrations/monitoring/services/NewRelicService.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./node_modules/moment/moment.js"),a=n.n(i),r=n("./node_modules/async/dist/async.js"),l=n.n(r),c=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),d=n("./integrations/monitoring/constants.js");t.default={listServices:e=>c.default.fetchActionDetailsWithoutIntegration(e).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e))),listDashboards:e=>c.default.fetchActionDetailsWithoutIntegration(e).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e))),fetchChartUrls:(e,t,n,o)=>{let i={};l().parallel([function(o){c.default.fetchActionDetails(e,{type:"fetchWebTransactionsChartUrl",service_guid:t,time:n}).then((e=>{if(e.status&&200===e.status)return i.webTransactionsChartUrl=s().get(e.body,"data.data.actor.entity.nrdbQuery.embeddedChartUrl"),o();throw e})).catch((e=>o(e)))},function(o){c.default.fetchActionDetails(e,{type:"fetchApdexScoreChartUrl",service_guid:t,time:n}).then((e=>{if(e.status&&200===e.status)return i.apdexScoreChartUrl=s().get(e.body,"data.data.actor.entity.nrdbQuery.embeddedChartUrl"),o();throw e})).catch((e=>o(e)))},function(o){c.default.fetchActionDetails(e,{type:"fetchErrorRateChartUrl",service_guid:t,time:n}).then((e=>{if(e.status&&200===e.status)return i.errorRateChartUrl=s().get(e.body,"data.data.actor.entity.nrdbQuery.embeddedChartUrl"),o();throw e})).catch((e=>o(e)))},function(o){c.default.fetchActionDetails(e,{type:"fetchThroughputChartUrl",service_guid:t,time:n}).then((e=>{if(e.status&&200===e.status)return i.throughputChartUrl=s().get(e.body,"data.data.actor.entity.nrdbQuery.embeddedChartUrl"),o();throw e})).catch((e=>o(e)))}],(e=>e?o(e):o(null,i)))},fetchStatistics:(e,t,n,o)=>{let i={};l().parallel([function(n){c.default.fetchActionDetails(e,{type:"fetchDeployments",service_guid:t}).then((e=>{if(e.status&&200===e.status){let t=s().map(s().get(e.body,"data.data.actor.entity.deployments"),(e=>({...e,timestamp:a()(s().get(e,"timestamp")).format("MMM DD h:mm A")})));return i.deployments=t,n()}throw e})).catch((e=>n(e)))},function(n){c.default.fetchActionDetails(e,{type:"fetchViolationEvents",service_guid:t}).then((e=>{if(e.status&&200===e.status){let t=s().map(s().get(e.body,"data.data.actor.entities[0].recentAlertViolations"),(e=>({...e,openedAt:a()(s().get(e,"openedAt")).format("MMM DD h:mm A"),closedAt:s().get(e,"closedAt")?a()(s().get(e,"closedAt")).format("MMM DD h:mm A"):"-"})));return i.violationEvents=t,n()}throw e})).catch((e=>n(e)))},function(o){c.default.fetchActionDetails(e,{type:"fetchSlowestWebTransactions",service_guid:t,time:n}).then((e=>{if(e.status&&200===e.status){let t=s().map(s().get(e.body,"data.data.actor.entity.nrdbQuery.results"),(e=>({name:s().replace(e.name,"WebTransaction/Custom/",""),avg_time:`${s().round(e.avg_time,2)} ms`,error_rate:`${s().round(e.error_rate,1)}%`})));return i.slowestTransactions=t,o()}throw e})).catch((e=>o(e)))}],(e=>e?o(e):o(null,i)))},fetchMetricsForLinkedServices:e=>c.default.fetchActionDetails(e,{type:"fetchMetricsForLinkedServices"}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e))),fetchLinkedDashboards:e=>c.default.fetchActionDetails(e,{type:"fetchLinkedDashboards"}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e))),listSevicesWithIntegrationId:(e,t={})=>c.default.fetchActionDetails(e,{type:d.NEW_RELIC_SERVICE_ACTION_SLUGS.LIST_SERVICES,...t}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(s().get(e,"body.data"));throw e})).catch((e=>Promise.reject(e))),listDashboardsWithIntegrationId:(e,t={})=>c.default.fetchActionDetails(e,{type:d.NEW_RELIC_SERVICE_ACTION_SLUGS.LIST_DASHBOARDS,...t}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(s().get(e,"body.data"));throw e})).catch((e=>Promise.reject(e))),authenticateApiKey:e=>c.default.fetchActionDetailsWithoutIntegration(e).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e)))}},"./integrations/monitoring/services/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./integrations/monitoring/services/NewRelicService.js"),s=n("./integrations/monitoring/services/DatadogService.js");t.default={apm_new_relic:o.default,apm_datadog:s.default}},"./integrations/monitoring/stores/APMIntegrationStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y,v,I,E,_,S,C,T,j,A,w,O,N,D,R,P,M=n("../../node_modules/mobx/lib/mobx.module.js"),L=n("./node_modules/lodash/lodash.js"),x=n.n(L),k=n("./js/stores/StoreManager.js"),F=n("./js/stores/SyncStatusStore.js"),V=n("./js/stores/IntegrationsStore.js"),B=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),U=n("./integrations/monitoring/stores/fallbackCategoryIntegrations.js"),z=n("./js/stores/BaseListStore.js"),H=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts"),G=n("./integrations/monitoring/constants.js"),W=n("./integrations/monitoring/services/NewRelicService.js"),$=n("./integrations/services/AuthenticationInstanceService.ts"),q=n("./integrations/utils/CommonHelperMethods.ts");function Y(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function K(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const J="apiversion",Z=(0,q.getErrorContextObject)("APMIntegrationStore","integrations");let X=(s=K((o=class{constructor(e){this.id="",Y(this,"availableAPMServices",s,this),Y(this,"selectedAPMService",i,this),this.id=e.id,this.availableAPMServices=e.availableAPMServices||{},this.selectedAPMService=e.selectedAPMService||{},this.integrationsStore=(0,k.resolveStoreInstance)(V.default)}update(e){x().has(e,"id")&&(this.id=e.id),x().has(e,"availableAPMServices")&&(this.availableAPMServices=e.availableAPMServices),x().has(e,"selectedAPMService")&&(this.selectedAPMService=e.selectedAPMService)}setAvailableAPMServices(e,t){this.availableAPMServices[e]=t}getAvailableAPMServices(e){return(0,M.toJS)(this.availableAPMServices[e])}setSelectedAPMService(e,t){this.selectedAPMService[e]=t}getSelectedAPMService(e){return(0,M.toJS)(this.selectedAPMService[e])}}).prototype,"availableAPMServices",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=K(o.prototype,"selectedAPMService",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),K(o.prototype,"update",[M.action],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),K(o.prototype,"setAvailableAPMServices",[M.action],Object.getOwnPropertyDescriptor(o.prototype,"setAvailableAPMServices"),o.prototype),K(o.prototype,"setSelectedAPMService",[M.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedAPMService"),o.prototype),K(o.prototype,"getSelectedAPMService",[M.action],Object.getOwnPropertyDescriptor(o.prototype,"getSelectedAPMService"),o.prototype),o),Q=(a=class extends z.default{constructor(){super(X),this.id="",Y(this,"isHydrating",r,this),Y(this,"availableIntegrations",l,this),Y(this,"configuredIntegrations",c,this),Y(this,"categoryIntegrations",d,this),Y(this,"builds",u,this),Y(this,"activeRule",p,this),Y(this,"activeService",m,this),Y(this,"errorAvailableIntegrations",h,this),Y(this,"errorConfiguredIntegrations",g,this),Y(this,"loadingAvailableIntegrations",f,this),Y(this,"loadingConfiguredIntegrations",b,this),Y(this,"availableAPMServices",y,this),Y(this,"selectedAPMService",v,this),Y(this,"selectedAPI",I,this),Y(this,"selectedAPIVersion",E,this),Y(this,"selectedService",_,this),Y(this,"selectedServiceName",S,this),Y(this,"selectedIntegration",C,this),Y(this,"selectedRule",T,this),Y(this,"clientCategory",j,this),Y(this,"isAdding",A,this),Y(this,"integrationInstance",w,this),Y(this,"loadingIntegrationInstanceAndClass",O,this),Y(this,"integrationClass",N,this),Y(this,"authenticationInstances",D,this),Y(this,"loadingAuthenticationInstances",R,this),Y(this,"errorAuthenticationInstances",P,this),this.integrationsStore=(0,k.resolveStoreInstance)(V.default)}initializeApmIntegrationStore(e){return new Promise(((t,n)=>{(0,k.resolveStoreInstance)(F.default).onSyncAvailable({timeout:8e3}).then((()=>{this.updateIsHydrating(!0);const{apiId:n,apiVersionId:o,category:s}=e;this.setClientCategory(s||G.API_MONITORING),this.setSelectedAPI(n),this.setSelectedAPIVersion(o),this.fetchConfiguredIntegrations(o,J).then((()=>{this.fetchAvailableIntegrations(),t()}))})).catch((e=>{this.updateLoadingAvailableIntegrations(!1),n(e)})).finally((()=>{this.updateIsHydrating(!1)}))}))}initializeApmIntegrationStoreV2(e){return new Promise(((t,n)=>{(0,k.resolveStoreInstance)(F.default).onSyncAvailable({timeout:8e3}).then((()=>{this.updateIsHydrating(!0);const{apiId:n,apiVersionId:o,category:s}=e;this.setClientCategory(s||G.API_MONITORING),this.setSelectedAPI(n),this.setSelectedAPIVersion(o),this.fetchConfiguredIntegrations(o,J).then(t)})).catch(n).finally((()=>{this.updateIsHydrating(!1)}))}))}clearStore(e){this.loadingAvailableIntegrations[e.apiVersionId]=void 0,this.loadingConfiguredIntegrations[e.apiVersionId]=void 0,this.configuredIntegrations[e.apiVersionId]=void 0}setAvailableAPMServices(e){this.availableAPMServices[this.selectedAPIVersion]=e}setClientCategory(e){this.clientCategory=e}getAvailableAPMServices(){return(0,M.toJS)(this.availableAPMServices[this.selectedAPIVersion])}clearAvailableAPMServices(){this.availableAPMServices[this.selectedAPIVersion]=void 0}setSelectedAPMService(e){this.selectedAPMService[this.selectedAPIVersion]=e}getSelectedAPMService(){return(0,M.toJS)(this.selectedAPMService[this.selectedAPIVersion])}clearSelectedAPMService(){this.selectedAPMService[this.selectedAPIVersion]=void 0}setSelectedIntegration(e){this.selectedIntegration[this.clientCategory]=e}setActiveService(e){this.activeService=e}setSelectedServiceName(e){this.selectedServiceName=e}setActiveRule(e){this.activeRule=e}setSelectedAPI(e){this.selectedAPI=e}setSelectedAPIVersion(e){this.selectedAPIVersion=e}setSelectedRule(e){this.selectedRule=e}setSelectedService(e){this.selectedService=e}updateLoadingAvailableIntegrations(e){this.loadingAvailableIntegrations[this.selectedAPIVersion]=e}updateLoadingConfiguredIntegrations(e){this.loadingConfiguredIntegrations[this.selectedAPIVersion]=e}updateErrorAvailableIntegrations(e){this.errorAvailableIntegrations[this.selectedAPIVersion]=e}updateErrorConfiguredIntegrations(e){this.errorConfiguredIntegrations[this.selectedAPIVersion]=e}updateAvailableIntegrations(e){this.availableIntegrations=[...e]}updateSelectedAPIVersion(e){this.selectedAPIVersion=e,this.fetchConfiguredIntegrations(this.selectedAPIVersion,J)}getAvailableIntegrations(){return(0,M.toJS)(this.availableIntegrations)}getSelectedIntegration(){return this.selectedIntegration[this.clientCategory]}getSelectedAPI(){return this.selectedAPI}getSelectedAPIVersion(){return this.selectedAPIVersion}updateConfiguredIntegrations(e){this.configuredIntegrations[this.selectedAPIVersion]=[...e]}updateCategoryIntegrations(e){x().isEmpty(e)?this.categoryIntegrations=[...U.fallbackCategoryIntegrations]:this.categoryIntegrations=[...e]}getConfiguredIntegrations(e){return(0,M.toJS)(this.configuredIntegrations[e||this.selectedAPIVersion])}getCategoryIntegrations(){return(0,M.toJS)(this.categoryIntegrations)}updateIsHydrating(e){this.isHydrating=e}updateIsAdding(e){this.isAdding=e}findIntegrationsByClientCategory(){const e=[];x().forEach((0,M.toJS)(this.availableIntegrations),(t=>{const n={},o=t.integrations[t.id];x().forEach(o,((e,t)=>{e.client_categories.includes(this.clientCategory)&&(n[t]=e)})),x().isEmpty(n)||(t.integrations[t.id]={...n},e.push(t))})),this.updateCategoryIntegrations(e)}fetchAvailableIntegrations(){return this.updateLoadingAvailableIntegrations(!0),this.updateErrorAvailableIntegrations(!1),B.default.getAvailableIntegrations().then((e=>{const t=x().get(e,"body.services",[]);if(200!==e.status||x().isEmpty(t))throw e;this.updateAvailableIntegrations(x().map(t,((e,t)=>({id:t,...e})))),this.findIntegrationsByClientCategory(),this.updateLoadingAvailableIntegrations(!1)})).catch((e=>{this.updateErrorAvailableIntegrations(e),this.updateLoadingAvailableIntegrations(!1),pm.logger.error("Error occurred while fetching the available integrations")}))}fetchConfiguredIntegrations(e,t){return this.updateLoadingConfiguredIntegrations(!0),this.updateErrorConfiguredIntegrations(!1),B.default.getConfiguredIntegrationsByEntityAndClientCategory(t,e,[this.clientCategory]).then((e=>{this.updateConfiguredIntegrations(e[this.clientCategory]),this.updateLoadingConfiguredIntegrations(!1)})).catch((e=>{this.updateErrorConfiguredIntegrations(e),this.updateLoadingConfiguredIntegrations(!1),pm.logger.error("Error occurred while fetching the configured integrations")}))}async fetchIntegrationInstance(e,t){this.setLoadingIntegrationInstancesAndClass(t,!0);try{const n=await H.default.getConfiguredIntegrationsForAnEntity(e,t,[G.API_PERFORMANCE_INTEGRATION]);let o=x().get(n,"body.data",[]),s=[];if(s=x().map(o,"class"),s.includes(G.NEW_RELIC_APM_CLASS_ID)&&s.includes(G.DATADOG_APM_CLASS_ID)){const e=s.indexOf(G.NEW_RELIC_APM_CLASS_ID),t=s.indexOf(G.DATADOG_APM_CLASS_ID);s.splice(e<t?t:e,1)}let i=[];if(!x().isEmpty(s)){const e=this.integrationsStore.getIntegrationClasses(),t=s[0];i=x().find(e,(e=>e.id===t))}if(s.includes(G.NEW_RELIC_APM_CLASS_ID)){const e=x().find(o,(e=>e.class===G.NEW_RELIC_APM_CLASS_ID)),t=await this.updateNewRelicInstance(e);o=t?[t]:[]}this.updateIntegrationClass([i],t),this.updateIntegrationInstance(o,t),this.setLoadingIntegrationInstancesAndClass(t,!1)}catch(e){pm.logger.error("APMIntegrationStore ~ Error in fetching integration instance details",t,e),this.setLoadingIntegrationInstancesAndClass(t,!1)}}async updateNewRelicInstance(e){try{const t=await W.default.fetchMetricsForLinkedServices(e.id),n=x().map(x().get(t,"data.data.actor.entities"),(e=>e.name));e.services=n}catch(e){pm.logger.error("NewRelicService ~ error occurred while fetching metrics for linked services",e)}return e}updateIntegrationInstance(e,t){this.integrationInstance[t||this.selectedAPIVersion]=e}updateIntegrationClass(e,t){this.integrationClass[t||this.selectedAPIVersion]=e}setLoadingIntegrationInstancesAndClass(e,t){this.loadingIntegrationInstanceAndClass[e||this.selectedAPIVersion]=t}getIntegrationInstance(e){return this.integrationInstance[e]}getIntegrationClass(e){return this.integrationClass[e]}resetPowerUpVariables(e){const{apiVersionId:t}=e;this.setLoadingIntegrationInstancesAndClass(t,!0),this.updateIntegrationClass([],t),this.updateIntegrationInstance([],t)}setAuthenticationInstances(e){this.authenticationInstances=e}setErrorAuthenticationInstances(e){this.errorAuthenticationInstances=e}setLoadingAuthenticationInstances(e){this.loadingAuthenticationInstances=e}fetchAuthenticationInstances(e,t,n,o){pm.logger.info("APMIntegrationsStore~Initializing fetching auth instances: ",n),this.setLoadingAuthenticationInstances(!0),this.setErrorAuthenticationInstances(null),$.default.listAuthenticationInstances({scope:[{type:e,id:t}],authenticationClass:[n],service:[o]}).then((({body:e})=>{x().isNil(e.data)&&pm.logger.error("APMIntegrationsStore~fetchAuthenticationInstances: Error loading authentication instances! Received null response!",{body:e},Z),this.setAuthenticationInstances(e.data||[]),this.setLoadingAuthenticationInstances(!1)})).catch((e=>{pm.logger.error("APMIntegrationsStored~fetchAuthenticationInstances: Something went wrong while fetching authentication instances: ",e,Z),this.setLoadingAuthenticationInstances(!1),this.setErrorAuthenticationInstances(e)}))}},r=K(a.prototype,"isHydrating",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=K(a.prototype,"availableIntegrations",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=K(a.prototype,"configuredIntegrations",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=K(a.prototype,"categoryIntegrations",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.fallbackCategoryIntegrations}}),u=K(a.prototype,"builds",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=K(a.prototype,"activeRule",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=K(a.prototype,"activeService",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=K(a.prototype,"errorAvailableIntegrations",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g=K(a.prototype,"errorConfiguredIntegrations",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f=K(a.prototype,"loadingAvailableIntegrations",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=K(a.prototype,"loadingConfiguredIntegrations",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),y=K(a.prototype,"availableAPMServices",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),v=K(a.prototype,"selectedAPMService",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),I=K(a.prototype,"selectedAPI",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=K(a.prototype,"selectedAPIVersion",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=K(a.prototype,"selectedService",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=K(a.prototype,"selectedServiceName",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=K(a.prototype,"selectedIntegration",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T=K(a.prototype,"selectedRule",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=K(a.prototype,"clientCategory",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.API_MONITORING}}),A=K(a.prototype,"isAdding",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=K(a.prototype,"integrationInstance",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),O=K(a.prototype,"loadingIntegrationInstanceAndClass",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),N=K(a.prototype,"integrationClass",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),D=K(a.prototype,"authenticationInstances",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=K(a.prototype,"loadingAuthenticationInstances",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=K(a.prototype,"errorAuthenticationInstances",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K(a.prototype,"initializeApmIntegrationStore",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"initializeApmIntegrationStore"),a.prototype),K(a.prototype,"clearStore",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"clearStore"),a.prototype),K(a.prototype,"setAvailableAPMServices",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setAvailableAPMServices"),a.prototype),K(a.prototype,"setClientCategory",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setClientCategory"),a.prototype),K(a.prototype,"getAvailableAPMServices",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"getAvailableAPMServices"),a.prototype),K(a.prototype,"clearAvailableAPMServices",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"clearAvailableAPMServices"),a.prototype),K(a.prototype,"setSelectedAPMService",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setSelectedAPMService"),a.prototype),K(a.prototype,"getSelectedAPMService",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"getSelectedAPMService"),a.prototype),K(a.prototype,"clearSelectedAPMService",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"clearSelectedAPMService"),a.prototype),K(a.prototype,"setSelectedIntegration",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setSelectedIntegration"),a.prototype),K(a.prototype,"setActiveService",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setActiveService"),a.prototype),K(a.prototype,"setSelectedServiceName",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setSelectedServiceName"),a.prototype),K(a.prototype,"setActiveRule",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setActiveRule"),a.prototype),K(a.prototype,"setSelectedAPI",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setSelectedAPI"),a.prototype),K(a.prototype,"setSelectedAPIVersion",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setSelectedAPIVersion"),a.prototype),K(a.prototype,"setSelectedRule",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setSelectedRule"),a.prototype),K(a.prototype,"setSelectedService",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setSelectedService"),a.prototype),K(a.prototype,"updateLoadingAvailableIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateLoadingAvailableIntegrations"),a.prototype),K(a.prototype,"updateLoadingConfiguredIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateLoadingConfiguredIntegrations"),a.prototype),K(a.prototype,"updateErrorAvailableIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateErrorAvailableIntegrations"),a.prototype),K(a.prototype,"updateErrorConfiguredIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateErrorConfiguredIntegrations"),a.prototype),K(a.prototype,"updateAvailableIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateAvailableIntegrations"),a.prototype),K(a.prototype,"updateSelectedAPIVersion",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateSelectedAPIVersion"),a.prototype),K(a.prototype,"getAvailableIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"getAvailableIntegrations"),a.prototype),K(a.prototype,"getSelectedIntegration",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"getSelectedIntegration"),a.prototype),K(a.prototype,"getSelectedAPI",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"getSelectedAPI"),a.prototype),K(a.prototype,"getSelectedAPIVersion",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"getSelectedAPIVersion"),a.prototype),K(a.prototype,"updateConfiguredIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateConfiguredIntegrations"),a.prototype),K(a.prototype,"updateCategoryIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateCategoryIntegrations"),a.prototype),K(a.prototype,"getConfiguredIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"getConfiguredIntegrations"),a.prototype),K(a.prototype,"getCategoryIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"getCategoryIntegrations"),a.prototype),K(a.prototype,"updateIsHydrating",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateIsHydrating"),a.prototype),K(a.prototype,"updateIsAdding",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateIsAdding"),a.prototype),K(a.prototype,"findIntegrationsByClientCategory",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"findIntegrationsByClientCategory"),a.prototype),K(a.prototype,"fetchAvailableIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchAvailableIntegrations"),a.prototype),K(a.prototype,"fetchConfiguredIntegrations",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchConfiguredIntegrations"),a.prototype),K(a.prototype,"fetchIntegrationInstance",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchIntegrationInstance"),a.prototype),K(a.prototype,"updateIntegrationInstance",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateIntegrationInstance"),a.prototype),K(a.prototype,"updateIntegrationClass",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"updateIntegrationClass"),a.prototype),K(a.prototype,"setLoadingIntegrationInstancesAndClass",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setLoadingIntegrationInstancesAndClass"),a.prototype),K(a.prototype,"resetPowerUpVariables",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"resetPowerUpVariables"),a.prototype),K(a.prototype,"setAuthenticationInstances",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setAuthenticationInstances"),a.prototype),K(a.prototype,"setErrorAuthenticationInstances",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setErrorAuthenticationInstances"),a.prototype),K(a.prototype,"setLoadingAuthenticationInstances",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"setLoadingAuthenticationInstances"),a.prototype),K(a.prototype,"fetchAuthenticationInstances",[M.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchAuthenticationInstances"),a.prototype),a)},"./integrations/monitoring/stores/MonitorIntegrationStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y=n("../../node_modules/mobx/lib/mobx.module.js"),v=n("./node_modules/lodash/lodash.js"),I=n.n(v),E=n("./js/stores/StoreManager.js"),_=n("./js/stores/SyncStatusStore.js"),S=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),C=n("./integrations/monitoring/stores/fallbackCategoryIntegrations.js"),T=n("./api-dev/services/APIDevService.js");function j(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function A(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const w=["notifications-monitor","analytics-monitor"],O=["notifications-monitor","analytics-monitor","apm_api-observability"],N=[],D="jobTemplate";let R=(s=A((o=class{constructor(){j(this,"isHydrating",s,this),j(this,"availableIntegrations",i,this),j(this,"configuredIntegrations",a,this),j(this,"populatedConfiguredIntegrations",r,this),j(this,"categoryIntegrations",l,this),j(this,"builds",c,this),j(this,"errorAvailableIntegrations",d,this),j(this,"errorConfiguredIntegrations",u,this),j(this,"loadingAvailableIntegrations",p,this),j(this,"loadingConfiguredIntegrations",m,this),j(this,"selectedAPI",h,this),j(this,"selectedAPIVersion",g,this),j(this,"category",f,this),j(this,"isAdding",b,this)}initializeMonitoringIntegrationStore(e){return new Promise(((t,n)=>{(0,E.resolveStoreInstance)(_.default).onSyncAvailable({timeout:8e3}).then((()=>{this.updateIsHydrating(!0);const{apiId:n,apiVersionId:o}=e;this.setSelectedAPI(n),this.setSelectedAPIVersion(o),this.fetchAvailableIntegrations().then((()=>{this.fetchConfiguredIntegrations(o,D,O).then((()=>{t()}))}))})).catch((()=>{this.updateLoadingAvailableIntegrations(!1),n()})).finally((()=>{this.updateIsHydrating(!1)}))}))}clearStore(e){this.loadingAvailableIntegrations[e.apiVersionId]=void 0,this.loadingConfiguredIntegrations[e.apiVersionId]=void 0,this.configuredIntegrations[e.apiVersionId]=void 0}setAvailableIntegrations(e){this.availableIntegrations[this.selectedAPIVersion]=e}getAvailableIntegrations(){return(0,y.toJS)(this.availableIntegrations[this.selectedAPIVersion])}clearAvailableIntegrations(){this.availableIntegrations[this.selectedAPIVersion]=void 0}setSelectedAPI(e){this.selectedAPI=e}setSelectedAPIVersion(e){this.selectedAPIVersion=e}updateLoadingAvailableIntegrations(e){this.loadingAvailableIntegrations[this.selectedAPIVersion]=e}updateLoadingConfiguredIntegrations(e){this.loadingConfiguredIntegrations[this.selectedAPIVersion]=e}updateErrorAvailableIntegrations(e){this.errorAvailableIntegrations[this.selectedAPIVersion]=e}updateErrorConfiguredIntegrations(e){this.errorConfiguredIntegrations[this.selectedAPIVersion]=e}updateSelectedAPIVersion(e){return this.selectedAPIVersion=e,this.fetchConfiguredIntegrations(this.selectedAPIVersion,D,O)}getSelectedAPI(){return this.selectedAPI}getSelectedAPIVersion(){return this.selectedAPIVersion}updateConfiguredIntegrations(e){this.configuredIntegrations[this.selectedAPIVersion]=[...e],this.populatedConfiguredIntegrations=!0}updateCategoryIntegrations(e){I().isEmpty(e)?this.categoryIntegrations=[...C.fallbackCategoryIntegrations]:this.categoryIntegrations=[...e]}getConfiguredIntegrations(e){return(0,y.toJS)(this.configuredIntegrations[e||this.selectedAPIVersion])}getCategoryIntegrations(){return(0,y.toJS)(this.categoryIntegrations)}updateIsHydrating(e){this.isHydrating=e}updateIsAdding(e){this.isAdding=e}filterAvailableIntegrations(){const e=[];I().forEach(this.getAvailableIntegrations(),(t=>{if(![N].includes(t.id)){const n={},o=t.integrations[t.id];I().forEach(o,((e,t)=>{I().isEmpty(I().intersection(e.client_categories,w))||(n[t]=e)})),I().isEmpty(n)||(t.integrations[t.id]={...n},e.push(t))}})),this.updateCategoryIntegrations(e)}fetchAvailableIntegrations(){return this.updateLoadingAvailableIntegrations(!0),this.updateErrorAvailableIntegrations(!1),new Promise((e=>S.default.getAvailableIntegrations().then((t=>{const n=I().get(t,"body.services",[]);if(200!==t.status||I().isEmpty(n))throw t;this.setAvailableIntegrations(I().map(n,((e,t)=>({id:t,...e})))),this.filterAvailableIntegrations(),this.updateLoadingAvailableIntegrations(!1),e()})).catch((e=>{this.updateErrorAvailableIntegrations(e),this.updateLoadingAvailableIntegrations(!1),pm.logger.error("Error occurred while fetching the available integrations")}))))}fetchConfiguredIntegrations(e,t,n){return this.updateLoadingConfiguredIntegrations(!0),this.updateErrorConfiguredIntegrations(!1),new Promise(((e,o)=>{T.default.getRelations(this.selectedAPI,this.selectedAPIVersion,"monitor").then((s=>{if(s.monitor){let i=Object.values(s.monitor);Promise.all(I().map(i,(e=>S.default.getConfiguredIntegrationsByEntityAndClientCategory(t,e.id,n,!0)))).then((e=>{let t=I()(e).map((e=>Object.values(e))).flatten().flatten().value();this.updateConfiguredIntegrations(t),this.updateLoadingConfiguredIntegrations(!1)})).catch((e=>{this.updateErrorConfiguredIntegrations(e),this.updateLoadingConfiguredIntegrations(!1),pm.logger.error("Error occurred while fetching the configured integrations"),o()})).finally((()=>{e()}))}else this.updateConfiguredIntegrations([]),e()}))}))}}).prototype,"isHydrating",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=A(o.prototype,"availableIntegrations",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=A(o.prototype,"configuredIntegrations",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=A(o.prototype,"populatedConfiguredIntegrations",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=A(o.prototype,"categoryIntegrations",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.fallbackCategoryIntegrations}}),c=A(o.prototype,"builds",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=A(o.prototype,"errorAvailableIntegrations",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=A(o.prototype,"errorConfiguredIntegrations",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=A(o.prototype,"loadingAvailableIntegrations",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m=A(o.prototype,"loadingConfiguredIntegrations",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=A(o.prototype,"selectedAPI",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=A(o.prototype,"selectedAPIVersion",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=A(o.prototype,"category",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=A(o.prototype,"isAdding",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A(o.prototype,"initializeMonitoringIntegrationStore",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"initializeMonitoringIntegrationStore"),o.prototype),A(o.prototype,"clearStore",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"clearStore"),o.prototype),A(o.prototype,"setAvailableIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setAvailableIntegrations"),o.prototype),A(o.prototype,"getAvailableIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"getAvailableIntegrations"),o.prototype),A(o.prototype,"clearAvailableIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"clearAvailableIntegrations"),o.prototype),A(o.prototype,"setSelectedAPI",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedAPI"),o.prototype),A(o.prototype,"setSelectedAPIVersion",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedAPIVersion"),o.prototype),A(o.prototype,"updateLoadingAvailableIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingAvailableIntegrations"),o.prototype),A(o.prototype,"updateLoadingConfiguredIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateLoadingConfiguredIntegrations"),o.prototype),A(o.prototype,"updateErrorAvailableIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateErrorAvailableIntegrations"),o.prototype),A(o.prototype,"updateErrorConfiguredIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateErrorConfiguredIntegrations"),o.prototype),A(o.prototype,"updateSelectedAPIVersion",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateSelectedAPIVersion"),o.prototype),A(o.prototype,"getSelectedAPI",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"getSelectedAPI"),o.prototype),A(o.prototype,"getSelectedAPIVersion",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"getSelectedAPIVersion"),o.prototype),A(o.prototype,"updateConfiguredIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateConfiguredIntegrations"),o.prototype),A(o.prototype,"updateCategoryIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateCategoryIntegrations"),o.prototype),A(o.prototype,"getConfiguredIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"getConfiguredIntegrations"),o.prototype),A(o.prototype,"getCategoryIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"getCategoryIntegrations"),o.prototype),A(o.prototype,"updateIsHydrating",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIsHydrating"),o.prototype),A(o.prototype,"updateIsAdding",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIsAdding"),o.prototype),A(o.prototype,"filterAvailableIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"filterAvailableIntegrations"),o.prototype),A(o.prototype,"fetchAvailableIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchAvailableIntegrations"),o.prototype),A(o.prototype,"fetchConfiguredIntegrations",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchConfiguredIntegrations"),o.prototype),o)},"./integrations/monitoring/stores/fallbackCategoryIntegrations.js":function(e,t,n){"use strict";n.r(t),n.d(t,{fallbackCategoryIntegrations:function(){return o}});const o=[{id:"apm_new_relic",name:"New Relic",icon:"pm-icon-newrelic",description:"View New Relic metrics and statuses directly from Postman.",featureFlag:"apm-integrations-in-api-platform",icon_url:"https://static.getpostman.com/assets/newrelic-light.svg",dark_icon_url:"https://static.getpostman.com/assets/newrelic-dark.svg",extended_description:"New Relic provides a connected, real-time view of all your operational data in one place. This integration allows you to view New Relic data into Postman",categories:["Analytics"],integrations:{apm_new_relic:{apm_new_relic:{name:"Monitor API performance",description:"View New Relic metrics and statuses directly from Postman.",categories:["Analytics"],summary:"",client_categories:["apm_api-observability"],type:"multiple",entity:"apiversion",scope:"user",sync_data:[],variables:[],auth_type:"token",canCreateIntegration:!0}}},setup_details:"",service_data:[],summary:"",misc:"",oauth_initiator_host:null}]},"./integrations/monitors/runs/components/RunItem.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./integrations/monitors/runs/constants/MonitorRunConstants.js"),l=n("./node_modules/moment/moment.js"),c=n.n(l),d=n("./node_modules/classnames/index.js"),u=n.n(d),p=n("./node_modules/lodash/lodash.js");let m=(0,a.observer)(o=class extends s.Component{constructor(e){super(e),this.state={formattedRunsList:[]},this.renderPopoverContent=this.renderPopoverContent.bind(this)}renderMetricsTable(e,t){return s.createElement("div",{className:"linked-monitors-tooltip-metrics-row"},s.createElement("div",{className:"linked-monitors-tooltip-metrics-row-name"},r.METRIC_TITLES[e]),s.createElement("div",{className:"linked-monitors-tooltip-metrics-row-separator"}),s.createElement("div",{className:"linked-monitors-tooltip-metrics-row-value"},t))}getRunItemColor(e){if(e.status!==r.RUN_STATUS.RUNNING){let t=p.get(e,"results");return t.failedTests||t.errors?t.failedTests?{"run-item-failed":!0}:{"run-item-errored":!0}:{"run-item-successful":!0}}}renderPopoverContent(){let{runDetails:e}=this.props;switch(e.status){case r.RUN_STATUS.TRIGGERED:return s.createElement("div",{className:"linked-monitors-tooltip-wrapper"},s.createElement("div",{className:"linked-monitors-tooltip-date-wrapper"},s.createElement("div",{className:"linked-monitors-tooltip-date"},"Preparing run...")));case r.RUN_STATUS.RUNNING:return s.createElement("div",{className:"linked-monitors-tooltip-wrapper"},s.createElement("div",{className:"linked-monitors-tooltip-date-wrapper"},s.createElement("div",{className:"linked-monitors-tooltip-date"},"Running...")));default:return s.createElement("div",{className:"linked-monitors-tooltip-wrapper"},s.createElement("div",{className:"linked-monitors-tooltip-date-wrapper"},e.finishedAt&&s.createElement("div",{className:"linked-monitors-tooltip-date"},c()(e.finishedAt).format("h:mm A, DD MMM YYYY"),","),e.trigger===r.RUN_TRIGGER.SCHEDULE?s.createElement("div",{className:"linked-monitors-tooltip-trigger"},"Scheduled run"):s.createElement("div",{className:"linked-monitors-tooltip-trigger"},"Manual run")),s.createElement("div",{className:"linked-monitors-tooltip-metrics-wrapper"},p.map(p.keys(e.results),(t=>this.renderMetricsTable(t,e.results[t])))))}}render(){let{runDetails:e}=this.props;return s.createElement("div",{className:"linked-monitor-runs-item"},s.createElement(i.default,{placement:"bottom",trigger:s.createElement("div",{className:u()(p.merge({"linked-monitor-runs-item-run-candle":!0,[e.status]:!0},this.getRunItemColor(e)))}),appendTo:"parent",triggerEvent:"mouseenter click",className:"linked-monitor-runs-item-tooltip"},this.renderPopoverContent()))}})||o},"./integrations/monitors/runs/components/base/RunMonitorButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),a=n("./js/components/base/Buttons.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=(n("../../node_modules/mobx/lib/mobx.module.js"),n("./monitors/stores/domain/MonitorStore.js")),c=(n("./monitors/stores/domain/MonitorPermissionStore.js"),n("./monitors/services/MonitorService.js")),d=n("./js/modules/services/AnalyticsService.js");let u=(0,r.observer)(o=class extends s.Component{constructor(e){super(e),this.state={permissions:{}},this.store=new l.default(this.props.entity.id),this.handleMonitorRun=this.handleMonitorRun.bind(this)}componentDidMount(){this.store.jobs.masterMonitorStore.loadActiveWorkspaceJobTemplates(),c.default.getPermissionsForJobTemplates([this.props.entity.id]).then((e=>{this.setState({permissions:{...e[0]}})})).catch((()=>{this.setState({permissions:{run:!1}})}))}handleMonitorRun(){let{entity:e}=this.props;this.store.jobs.createJob(e.id),d.default.addEventV2({category:"api_builder_integrations",action:"monitor_run",label:"run_button",value:1}),pm.windowEvents.emit(`${e.id}-run`,{monitorId:e.id})}render(){let{permissions:e}=this.state;return s.createElement("div",{className:"monitor-run-button"},s.createElement(a.Button,{type:"secondary",size:"small",onClick:()=>{this.handleMonitorRun()},tooltip:e.run?"Run monitor":"You don't have permission to take this action",disabled:!e.run},this.store.jobs.creating?s.createElement(i.default,null):"Run"))}})||o},"./integrations/monitors/runs/constants/MonitorRunConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{MAX_RUN_CANDLES:function(){return i},METRIC_TITLES:function(){return u},RUNS_PAGINATION_LIMIT:function(){return p},RUN_STATUS:function(){return r},RUN_STATUS_LABEL:function(){return d},RUN_TRIGGER:function(){return l},SHRUNK_RUN_CANDLES:function(){return a},STATE_TO_RUN_STATUS:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js");const i=20,a=10,r={NEUTRAL:"run-neutral",SUCCESS:"run-success",FAILED:"run-failed",RUNNING:"run-running",TRIGGERED:"run-running"},l={SCHEDULE:"schedule"},c={starting:r.RUNNING,"finished:success":r.SUCCESS,"finished:error":r.FAILED,"triggered:schedule":r.TRIGGERED,"triggered:api":r.TRIGGERED,running:r.RUNNING,waiting:r.TRIGGERED,queued:r.TRIGGERED,started:r.RUNNING,finishing:r.RUNNING,"finished:failure":r.FAILED,"finished:abort":r.FAILED,retrying:r.RUNNING,"discontinued:error":r.FAILED,"discontinued:failure":r.FAILED,"discontinued:abort":r.FAILED},d={"run-neutral":o.createElement(s.default,{status:"neutral",text:"NA"}),"run-success":o.createElement(s.default,{status:"success",text:"successful"}),"run-failed":o.createElement(s.default,{status:"critical",text:"failed"}),"run-running":o.createElement(s.default,{status:"warning",text:"running"})},u={runs:"Regions",errors:"Errors",failedTests:"Failed Tests",passedTests:"Passed Tests",responseLatency:"Total Response Time",responseSize:"Total Response Size"},p=25},"./integrations/monitors/runs/containers/RunsContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./integrations/monitors/runs/services/MonitorRunsService.ts"),l=n("./integrations/monitors/runs/components/RunItem.js"),c=n("./integrations/monitors/runs/constants/MonitorRunConstants.js"),d=n("./monitors/stores/domain/MonitorStore.js"),u=n("../../node_modules/mobx/lib/mobx.module.js"),p=n("./node_modules/lodash/lodash.js");let m=(0,a.observer)(o=class extends s.Component{constructor(e){super(e),this.state={errorFetchingRuns:!1,isLoadingRuns:!1,runResults:[],formattedRunsList:[]},this.store=new d.default(this.props.entity.id),this.fetchRunsForMonitor=this.fetchRunsForMonitor.bind(this),this.formatMonitorRuns=this.formatMonitorRuns.bind(this),this.subscribeToMonitoringEvents=this.subscribeToMonitoringEvents.bind(this)}componentDidMount(){let{entity:e}=this.props;this.setState({monitor:e,isLoadingRuns:!0,runs:this.fetchRunsForMonitor(e)})}subscribeToMonitoringEvents(){(0,u.reaction)((()=>this.store.jobs.values),(()=>{this.formatMonitorRuns(this.store.jobs.values)}))}constructRunsArray(e,t){return e.length>t?p.drop(e,e.length-t):e}formatMonitorRuns(e){if(p.isEmpty(e))return;let t=p.compact(p.map(e,(e=>(e.results=(0,u.toJS)(e.results),e.status=(0,u.toJS)(e.status),{collection:{id:e.collection,url:e.collectionUrl},finishedAt:e.finishedAt,createdAt:e.startedAt,name:e.name,__status:e.state,status:c.STATE_TO_RUN_STATUS[p.get(e,"state")],trigger:e.trigger,results:{runs:p.get(e,"results.runCount"),errors:p.get(e,"results.errorCount"),failedTests:p.get(e,"results.failedTestCount"),passedTests:p.get(e,"results.passedTestCount"),responseLatency:`${p.round(p.get(e,"results.responseLatency")/1e3,2)} seconds`,responseSize:`${p.round(p.get(e,"results.responseSize")/1e3,2)} kB`}}))));t=p.orderBy(t,["createdAt"],["asc"]),this.setState({formattedRunsList:t,runResults:this.constructRunsArray(t,c.MAX_RUN_CANDLES)})}fetchRunsForMonitor(e){let t;r.default.getMonitorRuns(e.id).then((e=>{t=p.map(e.data,(e=>({collection:{id:e.collection,url:e.collectionUrl},finishedAt:e.finishedAt,createdAt:e.startedAt,name:e.name,__status:e.status,status:c.STATE_TO_RUN_STATUS[p.get(e,"status.state")],trigger:e.trigger,results:{runs:p.get(e,"results.runCount"),errors:p.get(e,"results.errorCount"),failedTests:p.get(e,"results.failedTestCount"),passedTests:p.get(e,"results.passedTestCount"),responseLatency:`${p.round(p.get(e,"results.responseLatency")/1e3,2)} seconds`,responseSize:`${p.round(p.get(e,"results.responseSize")/1e3,2)} kB`}}))),t=p.orderBy(t,["createdAt"],["asc"]),this.setState({formattedRunsList:t,runResults:this.constructRunsArray(t,c.MAX_RUN_CANDLES),isLoadingRuns:!1},(()=>{this.subscribeToMonitoringEvents()}))})).catch((e=>{e&&this.setState({errorFetchingRuns:!0,isLoadingRuns:!1})}))}render(){let{isLoadingRuns:e,errorFetchingRuns:t,runResults:n,formattedRunsList:o}=this.state,a=p.isEmpty(p.filter(n,(e=>!e.__empty)));return t?s.createElement("div",{className:"linked-monitor-runs-wrapper"},s.createElement("div",{className:"linked-monitor-runs-error"},"No runs to show")):e?s.createElement(i.default,null):a?s.createElement("div",{className:"linked-monitor-runs-wrapper"},s.createElement("div",{className:"linked-monitor-runs-error"},"No runs yet")):this.props.isWindowShrunk?s.createElement("div",{className:"linked-monitor-runs-wrapper linked-monitor-runs"},p.map(p.drop(n,n.length-c.SHRUNK_RUN_CANDLES),(e=>s.createElement(l.default,{runDetails:e})))):s.createElement("div",{className:"linked-monitor-runs-wrapper"},p.map(n,(e=>s.createElement(l.default,{runDetails:e}))))}})||o},"./integrations/services/OneClickIntegrationCreateService.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts"),s=n("./integrations/git/services/RemoteGitService.ts"),i=n("./integrations/services/AuthenticationInstanceService.ts"),a=n("./onboarding/src/common/LaunchDarkly.js"),r=n("./api-dev/constants/APIRepositoryConstants.js"),l=n("./integrations/ci-cd/constants.ts"),c=n("./node_modules/lodash/lodash.js");const d="apirepo",u="continuous-integration",p="api",m="api",h="apiVersion",g="repository.info.id",f="repository.info.name",b="repository.info.owner.id",y="repository.info.owner.name",v="tokenId",I={[l.BITBUCKET_PIPELINES_CLASS_ID]:{classId:l.BITBUCKET_PIPELINES_CLASS_ID,baseIntegrationType:d,service:r.GIT_SERVICES_LIST.BITBUCKET.serviceName,inputs:{api_id:m,apiversion:h,repo_slug:g,workspace_slug:b,repository_name:f,workspace_name:y,oauth_token_id:v},uniqueConstraint:{check:!0,clientCategories:[u],entityType:p}},[l.GITLAB_CI_CLASS_ID]:{classId:l.GITLAB_CI_CLASS_ID,clientCategories:[u],baseIntegrationType:d,service:r.GIT_SERVICES_LIST.GITLAB.serviceName,inputs:{api_id:m,apiversion:h,project_id:{path:g,sanitiseValue:e=>c.toString(e)},project_name:f,workspace_id:{path:b,sanitiseValue:e=>c.toString(e)},workspace_name:y,oauth_token_id:v},uniqueConstraint:{check:!0,clientCategories:[u],entityType:p}},[l.GITHUB_CI_CLASS_ID]:{classId:l.GITHUB_CI_CLASS_ID,clientCategories:[u],baseIntegrationType:d,service:r.GIT_SERVICES_LIST.GITHUB.serviceName,inputs:{api_id:m,apiversion:h,repository:{path:g,sanitiseValue:e=>c.toString(e)},workspace:{path:b,sanitiseValue:e=>c.toString(e)},oauth_token_id:v},uniqueConstraint:{check:!0,clientCategories:[u],entityType:p}},[l.DEVOPS_CI_CLASS_ID]:{classId:l.DEVOPS_CI_CLASS_ID,clientCategories:[u],baseIntegrationType:d,service:r.GIT_SERVICES_LIST.AZURE.serviceName,inputs:{api_id:m,apiversion:h,repository_id:{path:g,sanitiseValue:e=>c.toString(e)},repository_name:{path:f,sanitiseValue:e=>c.toString(e)},organization:{path:b,sanitiseValue:e=>e.split("/")[0]},project_name:{path:b,sanitiseValue:e=>e.split("/")[1]},oauth_token_id:v},uniqueConstraint:{check:!0,clientCategories:[u],entityType:p}}};function E(e){return c.get(I,e)&&I[e].baseIntegrationType===d}function _(e){return{name:"unsupportedClass",message:"One click creation is not supported for this integration class",context:e}}t.default={SUPPORTED_CLASSES:Object.keys(I),SUPPORTED_SERVICES:c.uniq(c.map(c.values(I),"service")),createFromApiAndServiceId(e,t,n,o=""){const s=c.find(I,["service",n]);return s&&s.baseIntegrationType===d?this.createFromApi(e,t,s.classId,o):Promise.reject({name:"unsupportedService",message:"One click creation is not supported for this service",context:{serviceId:n,apiId:e,apiVersionId:t}})},createFromApi(e,t,n,o=""){return E(n)?i.default.listAuthenticationInstancesOnApi(e).then((({body:i})=>{const a=i.data;return a.length?s.default.getAPIRepoLinkInfo(t).then((s=>{const i=c.find(a,["id",s.tokenId]);return c.isEmpty(i)?Promise.reject({name:"authInstanceMismatch",message:"We did not find a suitable saved auth for this integration class.",context:{integrationClassId:n,apiId:e,apiVersionId:t}}):this.createFromAPIRepoIntegration(s,n,o)})):Promise.reject({name:"authInstanceNotFound",message:"We did not find a saved auth for this integration class.",context:{integrationClassId:n,apiId:e,apiVersionId:t}})})):Promise.reject(_({integrationClassId:n,apiId:e,apiVersionId:t}))},createFromAPIRepoIntegration(e,t,n=""){if(!E(t))return Promise.reject(_({integrationClassId:t}));const s=I[t],i=c.reduce(s.inputs,((t,n,o)=>{const s=c.isString(n)?n:n.path,i=c.get(e,s);return c.isFunction(n.sanitiseValue)?t[o]=n.sanitiseValue(i):t[o]=i,t}),{}),a=c.get(e,f),r=n||(a?"CI/CD integration for "+a:c.capitalize(s.service)+" CI/CD integration");return c.get(e,"repository.service")!==s.service?Promise.reject({name:"serviceMismatch",message:"The linked repository is of a different service.",context:{integrationClassId:t,apiRepoIntegrationData:e}}):c.get(s,"uniqueConstraint.check")&&s.uniqueConstraint.entityType===p?o.default.getConfiguredIntegrationsForAnEntity(s.uniqueConstraint.entityType,e.api,s.uniqueConstraint.clientCategories).then((({body:n})=>{const o=n&&n.data;return!o||o.length>0?Promise.reject({name:"integrationExists",message:"This integration cannot be created due to there already being one of this kind.",context:{integrationClassId:t,apiRepoIntegrationData:e}}):Promise.resolve(!0)})).then((()=>o.default.createIntegrationInstance(t,r,i))):o.default.createIntegrationInstance(t,r,i)},isOneClickCreationEnabled:()=>a.launchDarkly.getFlag("IS-3640_shared_auth_UI",true)}},"./integrations/utils/PowerUpSectionUtils.js":function(e,t,n){"use strict";n.r(t),n.d(t,{filterAuthenticatedAPMClasses:function(){return l},findConfiguredClassAndInstance:function(){return a},getAPMServiceData:function(){return c},getNavigationParams:function(){return r}});var o=n("./integrations/monitoring/constants.js"),s=n("./api-dev/util/navigationHelper.js"),i=(n("./integrations/models/LinkToProps.ts"),n("./node_modules/lodash/lodash.js"));const a=(e,t,n)=>{const s=i.find(t,(t=>i.find(i.get(t,"clientCategories"),(t=>t.key===e)))),a=i.find(n,(e=>i.get(e,"class")===i.get(s,"id")));if(s&&a){if(i.get(a,"class")===o.DATADOG_APM_CLASS_ID){const e=i.find(i.get(a,"inputs"),(e=>"environments"===i.get(e,"key"))),t=i.get(e,"value",[]);i.isEmpty(t)||(a.services=i.get(t[0],"services",[]))}return{configuredClass:s,configuredInstance:a}}return null},r=(e,t,n)=>{const o=(0,s.buildQueryParams)(e);return(0,s.hasOnlyOneAPIVersion)(t)?{routeIdentifier:"build.api",routeParams:{apiId:t},queryParams:o}:{routeIdentifier:"build.apiVersion",routeParams:{apiId:t,versionId:n},queryParams:o}},l=(e,t)=>i.filter(e,(e=>i.find(e.services,["id",t])&&i.find(e.clientCategories,["key",o.API_PERFORMANCE_INTEGRATION]))),c=(e,t)=>i.find(i.get(e,"0.services"),["id",t])},"./js/components/base/Accordion/Accordion.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("./node_modules/lodash/lodash.js");class r extends o.Component{constructor(e){super(e),this.state={activeAccordions:[...e.defaultOpenAccordions]},this.handleAccordionClick=this.handleAccordionClick.bind(this)}handleAccordionClick(e){this.props.multiple?this.setState((t=>a.includes(t.activeAccordions,e)?{activeAccordions:a.without(t.activeAccordions,e)}:{activeAccordions:[...t.activeAccordions,e]})):this.setState((t=>a.includes(t.activeAccordions,e)?{activeAccordions:[]}:{activeAccordions:[e]}))}renderChildren(){return o.Children.map(this.props.children,((e,t)=>o.cloneElement(e,{isOpen:a.includes(this.state.activeAccordions,t),onAccordionClick:this.handleAccordionClick,itemKey:t})))}render(){return o.createElement("div",{className:"accordion"},this.renderChildren())}}r.propTypes={multiple:i().bool,defaultOpenAccordions:i().array},r.defaultProps={multiple:!1,defaultOpenAccordions:[0]}},"./js/components/base/Icons/MenuIcon.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/Icons/Icon.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}const a=o.createElement("svg",{width:"16",height:"13",viewBox:"0 0 16 16"},o.createElement("defs",null,o.createElement("path",{id:"menu",d:"M1.182 12.636h13.636a1.182 1.182 0 0 1 0 2.364H1.182a1.182 1.182 0 1 1 0-2.364zm0-5.318h13.636a1.182 1.182 0 1 1 0 2.364H1.182a1.182 1.182 0 1 1 0-2.364zm0-5.318h13.636a1.182 1.182 0 1 1 0 2.364H1.182a1.182 1.182 0 1 1 0-2.364z"})),o.createElement("use",{fill:"#A9A9A9",fillRule:"evenodd",xlinkHref:"#menu"}));function r(e){return o.createElement(s.default,i({},e,{icon:a}))}},"./js/components/base/PasswordInput.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("./js/components/base/Inputs.js"),r=n("./js/components/base/AutoSuggest/AutoSuggestInput.js"),l=n("./js/components/base/Buttons.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}class m extends o.Component{constructor(e){super(e),this.state={masked:!0,error:"",warning:""},this.handleToggle=this.handleToggle.bind(this)}UNSAFE_componentWillReceiveProps(e){this.handleValidationState(e)}handleToggle(){this.setState({masked:!this.state.masked})}handleValidationState(e){const{validation:t,value:n}=e;if(t){let o,s;for(let i=0;i<t.length;i++){const{validator:a,message:r,type:l}=t[i]||{};if("function"==typeof a&&!a(n,e)){o=l,s=r;break}}if(o)return this.state[o]!==s&&this.setState({[o]:s})}this.setState({error:"",warning:""})}getValidationIcon(){return this.state.error?o.createElement(l.Button,{type:"icon",className:"password-input__error-btn",tooltip:this.state.error},o.createElement(u.default,{name:"icon-state-error-stroke",size:"small"})):this.state.warning?o.createElement(l.Button,{type:"icon",className:"password-input__warning-btn",tooltip:this.state.warning},o.createElement(u.default,{name:"icon-state-warning-stroke",size:"small"})):void 0}getPasswordInput(e){return this.props.enableVariableSuggestions?this.state.masked?o.createElement(a.Input,p({},e,{type:"password"})):o.createElement(r.AutoSuggestInput,p({},e,{enableVariableSuggestions:!0,type:"text"})):o.createElement(a.Input,p({},e,{type:this.state.masked?"password":"text"}))}render(){let{className:e,...t}=this.props;return o.createElement("div",{className:i()("password-input",e)},this.getPasswordInput(t),o.createElement("div",{className:"password-input-message"},this.getValidationIcon()),o.createElement("div",{className:"password-input__toggle",onClick:this.handleToggle},this.state.masked?o.createElement(u.default,{name:"icon-action-hide-stroke",title:"Show"}):o.createElement(u.default,{name:"icon-action-view-stroke",title:"Hide"})))}}m.propTypes={className:d().string,inputStyle:d().oneOf(["box","line"]),size:d().oneOf(["huge"]),enableVariableSuggestions:d().bool,validation:d().arrayOf(d().shape({validator:d().func.isRequired,message:d().string,type:d().oneOf(["error","warning"])}))},m.defaultProps={enableVariableSuggestions:!1}},"./js/components/base/SelectDropdown.js":function(e,t,n){"use strict";n.r(t),n.d(t,{LoadingLabel:function(){return c},default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("./node_modules/react-select-v1/dist/react-select.es.js"),r=n("./js/components/base/LoadingIndicator.js");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}function c(e){return o.createElement(o.Fragment,null,e.loadingLabel||"Loading...",o.createElement("span",{className:"pm-select-loader"},o.createElement(r.default,null)))}class d extends o.Component{constructor(e){super(e)}render(){const{options:e,onValueClick:t,size:n,className:s,label:r,isClearable:d,isCreatable:u,autoBlur:p=!0}=this.props;return u?o.createElement(a.default.Creatable,l({},this.props,{value:!this.props.loading&&this.props.value,autoBlur:p,className:i()({"pm-select--block":this.props.block,"pm-select--loading":this.props.loading},"pm-select",`pm-select-${n}`,s),clearable:!!d,onBlurResetsInput:!0,onChange:t,options:e,placeholder:this.props.loading?o.createElement(c,this.props):r,scrollMenuIntoView:!1})):o.createElement(a.default,l({},this.props,{value:!this.props.loading&&this.props.value,autoBlur:p,className:i()({"pm-select--block":this.props.block,"pm-select--loading":this.props.loading},"pm-select",`pm-select-${n}`,s),clearable:!!d,onBlurResetsInput:!0,onChange:t,options:e,placeholder:this.props.loading?o.createElement(c,this.props):r,scrollMenuIntoView:!1}))}}d.defaultProps={size:"sm"},d.displayName="SelectDropdown"},"./js/components/base/Tag.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("./node_modules/classnames/index.js"),r=n.n(a);const l=e=>{const{type:t,tagName:n,className:s}=e,i=r()("tag",`tag-${t}`,s);return o.createElement("div",{className:i,title:n},o.createElement("span",null,n))};l.propTypes={type:i().oneOf(["info","success","warn","error"]),tagName:i().string},l.defaultProps={type:"info",className:""},t.default=l},"./js/components/base/ToggleSwitch.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s),a=n("./node_modules/prop-types/index.js"),r=n.n(a);class l extends o.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){!this.props.disabled&&this.props.onClick&&this.props.onClick(!this.props.isActive)}getClasses(){return i()({"toggle-switch":!0,"is-active":this.props.isActive})}getWrapperClasses(){return i()({"toggle-switch-container":!0,"is-disabled":this.props.disabled},this.props.className)}render(){return o.createElement("div",{className:this.getWrapperClasses(),onClick:this.handleClick},o.createElement("div",{className:this.getClasses()}),!this.props.hideLabel&&o.createElement("div",{className:"toggle-switch-text"},this.props.isActive?o.createElement("span",{className:"toggle-switch-text-on"},this.props.activeLabel):o.createElement("span",{className:"toggle-switch-text-off"},this.props.inactiveLabel)))}}l.defaultProps={activeLabel:"ON",inactiveLabel:"OFF",isActive:!1,disabled:!1},l.propTypes={isActive:r().bool,disabled:r().bool,hideLabel:r().bool,activeLabel:r().node,inactiveLabel:r().node,onClick:r().func}},"./js/components/base/WarningButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/Tooltips.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js");class l extends o.Component{constructor(e){super(e),this.state={isTooltipVisible:!1},this.showTooltip=this.showTooltip.bind(this),this.handleTooltipClose=this.handleTooltipClose.bind(this)}showTooltip(){this.setState({isTooltipVisible:!0})}handleTooltipClose(){this.state.isTooltipVisible&&this.setState({isTooltipVisible:!1})}render(){return o.createElement(o.Fragment,null,o.createElement("div",{ref:"tooltipTarget",onClick:this.showTooltip,className:"warning-button",onMouseOver:this.props.showTooltipOnHover&&this.showTooltip,onMouseLeave:this.props.showTooltipOnHover&&this.handleTooltipClose},o.createElement(r.default,{name:"icon-state-warning-stroke",size:"small",className:"warning-icon"})),o.createElement(s.Tooltip,{show:this.state.isTooltipVisible,target:this.refs.tooltipTarget,placement:this.props.tooltipPlacement,onClose:this.handleTooltipClose,closeOnClickOutside:!0,immediate:!0},o.createElement(s.TooltipBody,null,this.props.tooltip)))}}l.propTypes={tooltip:a().node,showTooltipOnHover:a().bool},l.defaultProps={tooltip:"Here is warning",tooltipPlacement:"right",showTooltipOnHover:!1}},"./js/components/base/data-editor/RowRenderer.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/react-dnd/lib/index.js"),i=n("../../node_modules/react-dom/index.js"),a=n("./node_modules/classnames/index.js"),r=n.n(a),l=n("./js/components/base/Icons/CloseIcon.js"),c=n("./js/components/base/Icons/MenuIcon.js"),d=n("./node_modules/prop-types/index.js"),u=n.n(d),p=n("./js/components/base/XPaths/XPath.js"),m=n("./node_modules/lodash/lodash.js");const h={beginDrag:e=>({index:e.index})},g=e=>{const t=(0,i.findDOMNode)(e).getBoundingClientRect();return t.top+t.height/2},f={hover(e,t,n){t.getItem().index!==e.index&&(t.getClientOffset().y>g(n)?n.setDropHoverBottom():n.setDropHoverTop())},drop(e,t,n){const o=t.getItem().index,s=e.index;o!==s&&(t.getClientOffset().y>g(n)?n.handleReorder&&n.handleReorder(o,s,"after"):n.handleReorder&&n.handleReorder(o,s,"before"))}};class b extends o.PureComponent{constructor(e){super(e),this.state={dropHoverBottom:!1,dropHoverTop:!1,isFocused:!1},this.handleFocus=this.handleFocus.bind(this),this.handleReorder=this.handleReorder.bind(this),this.handleDelete=this.handleDelete.bind(this)}componentDidMount(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}componentWillUnmount(){this.subscription.remove()}getClasses(){return r()({"data-editor__custom-row":!0,"is-focused":this.state.isFocused,"hover-top":this.state.dropHoverTop&&this.props.isDragOver,"hover-bottom":this.state.dropHoverBottom&&this.props.isDragOver})}handleFocus({node:e}){e!==this.props.nodeId||this.state.isFocused?this.state.isFocused&&e!==this.props.nodeId&&this.setState({isFocused:!1}):this.setState({isFocused:!0})}setDropHoverTop(){this.setState({dropHoverBottom:!1,dropHoverTop:!0})}setDropHoverBottom(){this.setState({dropHoverBottom:!0,dropHoverTop:!1})}handleReorder(e,t,n){this.props.onAction&&this.props.onAction("move",{sourceIndex:e,destinationIndex:t,position:n})}handleDelete(){this.props.onAction&&this.props.onAction("delete")}render(){const{connectDragSource:e,connectDropTarget:t,connectDragPreview:n}=this.props;return n(t(o.createElement("div",{className:this.getClasses(),"data-index":this.props.index,style:this.props.style},e(o.createElement("div",{className:"data-editor__reorder"},o.createElement(c.default,{className:"data-editor__reorder__icon",size:"xs"}))),o.createElement(p.default,{identifier:this.props.index},o.createElement("div",{className:"data-editor__cells"},this.props.children)),o.createElement("div",{className:"data-editor__row__actions"},o.createElement(l.default,{className:"data-editor__row__action--delete",onClick:this.handleDelete,size:"xs"})))))}}b.contextTypes={events:u().object},t.default=m.flow((0,s.DropTarget)("grid-renderer-row",f,((e,t)=>({connectDropTarget:e.dropTarget(),isDragOver:t.isOver({shallow:!0})}))),(0,s.DragSource)("grid-renderer-row",h,((e,t)=>({connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}))))(b)},"./js/components/base/data-editor/components/DEInputs.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/react-dom/index.js"),i=n("./js/components/base/keymaps/KeyMaps.js"),a=n("./js/components/base/AutoSuggest/AutoSuggestInput.js"),r=(n("./js/components/base/Inputs.js"),n("./node_modules/@postman/data-editor/lib/lib.js")),l=n("./node_modules/prop-types/index.js"),c=n.n(l),d=n("./node_modules/lodash/lodash.js");class u extends o.Component{constructor(e){super(e),this.handleFocus=this.handleFocus.bind(this),this.handleLeft=this.handleLeft.bind(this),this.handleRight=this.handleRight.bind(this),this.handleUp=this.handleUp.bind(this),this.handleDown=this.handleDown.bind(this),this.handleTab=this.handleTab.bind(this),this.handleShiftTab=this.handleShiftTab.bind(this)}componentDidMount(){this.subscription=this.context.events.addListener("focusCell",this.handleFocus)}componentWillUnmount(){this.subscription.remove()}shallowCompare(e,t){for(let n in e)if(e[n]!==t[n])return!1;return!0}shouldComponentUpdate(e,t){return this.props.value!==e.value||!this.shallowCompare(this.props.cellInfo,e.cellInfo)}getKeyMapHandlers(){return{left:pm.shortcuts.handle("left",this.handleLeft),right:pm.shortcuts.handle("right",this.handleRight),up:pm.shortcuts.handle("up",this.handleUp),down:pm.shortcuts.handle("down",this.handleDown),tab:pm.shortcuts.handle("tab",this.handleTab),shiftTabCell:pm.shortcuts.handle("shiftTabCell",this.handleShiftTab)}}handleFocus({node:e,column:t,direction:n}){e===this.props.cellInfo.node&&t===this.props.cellInfo.column&&(this.refs.input&&this.refs.input.focus(),"left"===n?this.setCursorPosition(1,1):"right"===n?this.setCursorPosition(0,0):"tab"!==n&&"shiftTab"!==n||this.setCursorPosition(0,1))}getCursorPosition(e,t){let n,o,s=d.isFunction(window.getSelection)&&window.getSelection(),i=null,a=null;return s&&s.rangeCount>0?(i=s.rangeCount&&s.getRangeAt(0),a=i&&i.cloneRange(),a.selectNodeContents(e),a.setEnd(i.startContainer,i.startOffset),n=a.toString().length,a.setEnd(i.endContainer,i.endOffset),o=a.toString().length,t?n:o):0}setCursorPosition(e,t){try{let n=(0,s.findDOMNode)(this).getElementsByClassName("public-DraftEditor-content")[0],o=document.createRange(),i=window.getSelection();i.removeAllRanges(),o.setStart(n,e),o.setEnd(n,t),i.addRange(o)}catch(e){}}handleLeft(e){0===this.getCursorPosition(e.target,"start")&&window.getSelection().isCollapsed&&(e&&e.preventDefault(),e&&e.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"left"}))}handleRight(e){let t=this.getCursorPosition(e.target,"end");e.target.textContent.length===t&&window.getSelection().isCollapsed&&(e&&e.preventDefault(),e&&e.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"right"}))}handleUp(e){if(this.props.suggestions&&!d.isEmpty(e.target.closest(".suggestions-expanded")))return;let t=this.getCursorPosition(e.target,"start");e.target.textContent.length;(e.target.offsetHeight<20||0===t)&&(e.preventDefault(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"up"}))}handleDown(e){if(this.props.suggestions&&!d.isEmpty(e.target.closest(".suggestions-expanded")))return;let t=this.getCursorPosition(e.target,"end"),n=e.target.textContent.length;(e.target.offsetHeight<20||n===t)&&(e.preventDefault(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"down"}))}handleTab(e){e&&e.preventDefault(),e&&e.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"tab"})}handleShiftTab(e){e&&e.preventDefault(),e&&e.stopPropagation(),this.context.events.emit("moveToCell",{node:this.props.cellInfo.node,column:this.props.cellInfo.column,direction:"shiftTab"})}render(){return o.createElement(i.default,{keyMap:pm.shortcuts.getShortcuts(),handlers:this.getKeyMapHandlers()},o.createElement("div",{className:"data-editor__cell__content"},o.createElement(a.AutoSuggestInput,{type:this.props.type,ref:"input",inputStyle:"cell",value:r.utils.getImmutablePathValue(this.props.value,["value"]),onChange:this.props.onAction,placeholder:this.props.placeholder,suggestions:this.props.suggestions,isReadOnly:this.props.isReadOnly})))}}u.contextTypes={events:c().object}},"./js/components/base/data-editor/components/HeaderActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o,s=n("../../node_modules/react/index.js"),i=n("./node_modules/@postman/react-click-outside/dist/index.js"),a=n.n(i),r=n("./js/components/base/Buttons.js"),l=n("./js/components/base/Icons/MoreIcon.js"),c=n("./js/components/base/Inputs.js"),d=n("./js/constants/MoreButtonTooltipConstant.js"),u=n("./node_modules/lodash/lodash.js");let p=a()(o=class extends s.Component{constructor(e){super(e),this.state={isOpen:!1},this.toggleColumn=this.toggleColumn.bind(this),this.handleToggle=this.handleToggle.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this)}toggleColumn(e,t){u.findIndex(this.props.config.columns,(t=>t.name===e));let n=u.filter(this.props.config.columns,(e=>!e.hidden));if(1===u.size(n)&&t)return;let o=u.find(this.props.config.columns,(t=>t.name===e)),s=o?o.width:0,i={...this.props.config,columns:u.map(this.props.config.columns,(o=>t?{...o,hidden:o.name===e||o.hidden,width:o.width+s/(u.size(n)-1)}:{...o,hidden:o.name!==e&&o.hidden,width:o.width-s/(u.size(n)+1)}))};this.handleToggle(),this.props.onColumnToggle&&this.props.onColumnToggle(i)}handleToggle(){this.setState({isOpen:!this.state.isOpen})}handleClickOutside(){this.state.isOpen&&this.setState({isOpen:!1})}render(){return s.createElement("div",{className:"data-editor-column-toggle"},s.createElement(r.Button,{className:"data-editor-column-toggle__button",type:"text",onClick:this.handleToggle,tooltip:d.ACTION_TYPE_VIEW_MORE_ACTIONS_TOOLTIP}," ",s.createElement(l.default,{className:"data-editor-column-toggle__button__icon"})),this.state.isOpen&&!this.props.columnGroups&&s.createElement("div",{className:"data-editor-column-toggle__menu"},s.createElement("div",{className:"data-editor-column-toggle__header"},"Show columns"),u.map(this.props.config.columns,((e,t)=>s.createElement("div",{key:t,className:`data-editor-column-toggle__column data-editor-column-toggle__column--${e.name}`,onClick:this.toggleColumn.bind(this,e.name,!e.hidden)},s.createElement(c.Checkbox,{checked:!e.hidden}),s.createElement("span",null,e.label||u.capitalize(e.name)))))),this.state.isOpen&&this.props.columnGroups&&s.createElement("div",{className:"data-editor-column-toggle__menu"},u.map(this.props.columnGroups,((e,t)=>s.createElement("div",{className:"data-editor-column-toggle__group",key:t},s.createElement("div",{className:"data-editor-column-toggle__header"},e.label),u.map(e.columns,((e,t)=>{let n=u.find(this.props.config.columns,(t=>t.name===e));return s.createElement("div",{key:t,className:`data-editor-column-toggle__column data-editor-column-toggle__column--${n.name}`,onClick:this.toggleColumn.bind(this,n.name,!n.hidden)},s.createElement(c.Checkbox,{checked:!n.hidden}),s.createElement("span",null,n.label||u.capitalize(n.name)))})))))))}})||o},"./js/components/new-button/CreationError.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/Buttons.js");class i extends o.Component{constructor(e){super(e)}render(){return o.createElement("div",{className:"creation-error"},this.props.blankState?o.createElement("div",{className:"creation-error__blank-state"},this.props.blankState):o.createElement("div",{className:"creation-error__icon"}),o.createElement("div",{className:"creation-error__title"},this.props.title||"Something went wrong"),o.createElement("div",{className:"creation-error__subtitle"},this.props.subtitle),this.props.onRetry&&o.createElement("div",{className:"creation-error__actions"},o.createElement(s.Button,{type:"primary",onClick:this.props.onRetry},this.props.actionName||"Retry Now")))}}},"./js/components/new-button/DataEditorRequestMethods.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/@postman/data-editor/lib/lib.js"),r=n("./js/stores/StoreManager.js"),l=n("./runtime-repl/request-http/datastores/RequestMethodsStore.js"),c=n("./js/components/base/XPaths/XPath.js"),d=n("./js/components/base/Dropdowns.js"),u=n("./js/components/base/Buttons.js"),p=n("./node_modules/lodash/lodash.js");let m=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.handleChange=this.handleChange.bind(this)}handleChange(e){this.props.onChange&&this.props.onChange(e)}render(){let e=(0,r.resolveStoreInstance)(l.default).methods;return s.createElement(c.default,{identifier:"method",key:"method"},s.createElement(d.Dropdown,{allowScroll:this.props.allowScroll,fullWidth:!0,onSelect:this.handleChange},s.createElement(d.DropdownButton,{size:"small",type:"secondary"},s.createElement(u.Button,null,s.createElement("span",null,a.utils.getImmutablePathValue(this.props.value,["value"])))),s.createElement(d.DropdownMenu,{fluid:!0},p.map(e,(e=>s.createElement(d.MenuItem,{key:e,refKey:e},s.createElement("span",null,e)))))))}})||o},"./js/constants/MonitorScheduleConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{TimeList:function(){return i},TimeOption:function(){return s},TimeType:function(){return o}});const o=[{name:"Minute timer",id:"minute-timer"},{name:"Hour timer",id:"hour-timer"},{name:"Week timer",id:"week-timer"}],s={"minute-timer":[{name:"Every 5 minutes",id:"*/5"},{name:"Every 10 minutes",id:"*/10"},{name:"Every 15 minutes",id:"*/15"},{name:"Every 20 minutes",id:"*/20"},{name:"Every 30 minutes",id:"*/30"}],"hour-timer":[{name:"Every hour",id:"*"},{name:"Every 2 hours",id:"*/2"},{name:"Every 3 hours",id:"*/3"},{name:"Every 4 hours",id:"*/4"},{name:"Every 6 hours",id:"*/6"},{name:"Every 12 hours",id:"*/12"}],"week-timer":[{name:"Every day",id:"*"},{name:"Every weekday (Monday-Friday)",id:"MON-FRI"},{name:"Every Monday",id:"MON"},{name:"Every Tuesday",id:"TUE"},{name:"Every Wednesday",id:"WED"},{name:"Every Thursday",id:"THU"},{name:"Every Friday",id:"FRI"},{name:"Every Saturday",id:"SAT"},{name:"Every Sunday",id:"SUN"}]},i=[{name:"12:00 AM",id:"0"},{name:"1:00 AM",id:"1"},{name:"2:00 AM",id:"2"},{name:"3:00 AM",id:"3"},{name:"4:00 AM",id:"4"},{name:"5:00 AM",id:"5"},{name:"6:00 AM",id:"6"},{name:"7:00 AM",id:"7"},{name:"8:00 AM",id:"8"},{name:"9:00 AM",id:"9"},{name:"10:00 AM",id:"10"},{name:"11:00 AM",id:"11"},{name:"12:00 PM",id:"12"},{name:"1:00 PM",id:"13"},{name:"2:00 PM",id:"14"},{name:"3:00 PM",id:"15"},{name:"4:00 PM",id:"16"},{name:"5:00 PM",id:"17"},{name:"6:00 PM",id:"18"},{name:"7:00 PM",id:"19"},{name:"8:00 PM",id:"20"},{name:"9:00 PM",id:"21"},{name:"10:00 PM",id:"22"},{name:"11:00 PM",id:"23"}]},"./js/constants/ShareFlowConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{API_ENTITY_TYPE:function(){return r},API_MANAGE_ROLES_ERROR:function(){return q},API_NOT_SHARED_ERROR:function(){return z},API_NOT_SHARED_INFO_TEXT:function(){return V},API_NO_PERMISSION_ERROR:function(){return X},COLLECTION_ENTITY_TYPE:function(){return c},COLLECTION_MANAGE_ROLES_ERROR:function(){return W},COLLECTION_NOT_SHARED_ERROR:function(){return B},COLLECTION_NOT_SHARED_INFO_TEXT:function(){return k},COLLECTION_NO_PERMISSION_ERROR:function(){return J},CORRECTION_FLOW_ENTITIES:function(){return Te},ENTITY_NOT_FOUND:function(){return Ie},ENVIRONMENT_ENTITY_TYPE:function(){return d},ENVIRONMENT_MANAGE_ROLES_ERROR:function(){return $},ENVIRONMENT_NOT_SHARED_ERROR:function(){return U},ENVIRONMENT_NOT_SHARED_INFO_TEXT:function(){return F},ENVIRONMENT_NO_PERMISSION_ERROR:function(){return Z},FETCH_FAILED_WORKSPACES:function(){return C},FETCH_PULL_REQUEST_SETTINGS_FAILED_COLLECTION:function(){return y},FETCH_ROLES_FAILED_API:function(){return E},FETCH_ROLES_FAILED_COLLECTION:function(){return v},FETCH_ROLES_FAILED_ENVIRONMENT:function(){return I},FETCH_ROLES_FAILED_MOCK:function(){return S},FETCH_ROLES_FAILED_MONITOR:function(){return _},FLAG_BASED_ACTIVITY_FEED_ENABLED_ENTITIES:function(){return je},MOCK_ENTITY_TYPE:function(){return u},MOCK_MANAGE_ROLES_ERROR:function(){return K},MOCK_MOVE_ONLY_MULTIPLE_WS_INFO_TEXT:function(){return ve},MOCK_NOT_SHARED_ERROR:function(){return H},MODEL_NAME:function(){return _e},MONITOR_ENTITY_TYPE:function(){return l},MONITOR_MANAGE_ROLES_ERROR:function(){return Y},MONITOR_NOT_SHARED_ERROR:function(){return G},MOVE_API_LABEL:function(){return ge},MOVE_API_TEXT:function(){return pe},MOVE_COLLECTION_LABEL:function(){return me},MOVE_COLLECTION_TEXT:function(){return de},MOVE_ENVIRONMENT_LABEL:function(){return he},MOVE_ENVIRONMENT_TEXT:function(){return ue},MOVE_FAILED_API:function(){return L},MOVE_FAILED_COLLECTION:function(){return P},MOVE_FAILED_ENVIRONMENT:function(){return M},MOVE_FAILED_MOCK:function(){return x},NOT_SHARED:function(){return p},NO_MANAGE_PERMISSION:function(){return g},NO_PERMISSION:function(){return m},NO_ROLES_TO_MANAGE:function(){return ee},NO_ROLES_TO_MANAGE_API:function(){return ne},NO_ROLES_TO_MANAGE_COLLECTION:function(){return te},NO_ROLES_TO_MANAGE_ENVIRONMENT:function(){return oe},NO_ROLES_TO_MANAGE_MOCK:function(){return se},NO_ROLES_TO_MANAGE_MONITOR:function(){return ie},NO_TEAM:function(){return h},NO_TEAM_FOUND_BODY:function(){return re},NO_TEAM_FOUND_TITLE:function(){return ae},ONLY_MOVE_SUPPORTED_ENTITIES:function(){return Ce},PERMISSION_DENIED_ERROR:function(){return Q},PUBLIC_SHARE_LABEL:function(){return Ee},REQUEST_ACCESS_BUTTON_LABEL:function(){return ce},REQUEST_ACCESS_TITLE:function(){return le},SHARE_API_LABEL:function(){return ye},SHARE_COLLECTION_LABEL:function(){return fe},SHARE_ENVIRONMENT_LABEL:function(){return be},SHARE_FAILED_API:function(){return R},SHARE_FAILED_COLLECTION:function(){return N},SHARE_FAILED_ENVIRONMENT:function(){return D},SHARE_UNSUPPORTED_ENTITIES:function(){return Se},SYNC_OFFLINE_MESSAGE_MANAGE:function(){return b},SYNC_OFFLINE_MESSAGE_SHARE:function(){return f},TEAM_ENTITY_TYPE:function(){return a},UPDATE_ROLES_FAILED_API:function(){return A},UPDATE_ROLES_FAILED_COLLECTION:function(){return T},UPDATE_ROLES_FAILED_ENVIRONMENT:function(){return j},UPDATE_ROLES_FAILED_MOCK:function(){return O},UPDATE_ROLES_FAILED_MONITOR:function(){return w},USER_ENTITY_TYPE:function(){return i},WORKSPACE_ENTITY_TYPE:function(){return s}});var o=n("./runtime-repl/extensible-collection/types/ExtensibleCollectionTypes.ts");const s="workspace",i="user",a="team",r="api",l="monitor",c="collection",d="environment",u="mock",p="notShared",m="noPermission",h="noTeam",g="noManagePermission",f="Make sure youre online if you want to share",b="Make sure youre online if you want to manage roles",y="Something went wrong while fetching pull request settings for this collection",v="Something went wrong while fetching roles for this collection",I="Something went wrong while fetching roles for this environment",E="Something went wrong while fetching roles for this API",_="Something went wrong while fetching roles for this monitor",S="Something went wrong while fetching roles for this mock server",C="Something went wrong while fetching the workspaces.",T="Something went wrong while updating roles for this collection",j="Something went wrong while updating roles for this environment",A="Something went wrong while updating roles for this API",w="Something went wrong while updating roles for this monitor",O="Something went wrong while updating roles for this mock server",N="Something went wrong while sharing this collection",D="Something went wrong while sharing this environment",R="Something went wrong while sharing this API",P="Something went wrong while sharing this collection and removing from the workspace",M="Something went wrong while sharing this environment and removing from the workspace",L="Something went wrong while sharing this API and removing from the workspace",x="Something went wrong while moving this mock server from the workspace.",k="This collection is in your personal workspace, which only you can access.",F="This environment is in your personal workspace, which only you can access.",V="This API is in your personal workspace, which only you can access.",B="To let others access it, move the collection to a team, private, or a public workspace.",U="To let others access it, move the environment to a team, private, or a public workspace.",z="To let others access it, move the API to a team, private, or a public workspace.",H="This mock server is in your personal workspace, which only you can access.",G="This monitor is in your personal workspace, which only you can access.",W="Get editor access to manage roles on this collection.",$="Get editor access to manage roles on this environment.",q="Get editor access to manage roles on this API.",Y="Get editor access to manage roles on this monitor.",K="You dont have access to edit and manage roles on this mock server.",J="You do not have permission to share this collection",Z="You do not have permission to share this environment",X="You do not have permission to share this API",Q="You dont have permission to perform this action",ee="No roles to manage",te="Only you have access to this collection",ne="Only you have access to this API",oe="Only you have access to this environment",se="Only you have access to this mock server",ie="Only you have access to this monitor",ae="API is not shared yet",re="Share this API to a team workspace to manage the roles",le="Looks like you dont have access",ce="Request Access",de="This will also remove all associated monitors from this workspace.",ue="Mocks, monitors and integrations in this workspace using this environment may not work as expected.",pe="The mock servers, documentation, environments, test suites and monitors linked to this API won't be affected.",me="Share and remove collection from current workspace",he="Share and remove environment from current workspace",ge="Share and remove API from current workspace",fe="Share collection",be="Share environment",ye="Share API",ve="Moving this mock server to the selected workspace will remove it from all other workspaces.",Ie={collection:"You can't share this collection. This might be because the collection is still being synced or might've been deleted. Please wait some time and try again",[o.EXTENSIBLE_COLLECTION]:"You can't share this collection. This might be because the collection has been deleted. Please wait some time and try again",api:"You can't share this API. This might be because the API is still being synced or might've been deleted. Please wait some time and try again",monitor:"You can't share this monitor. This might be because the monitor is still being synced or might've been deleted. Please wait some time and try again",environment:"You can't share this environment. This might be because the environment is still being synced or might've been deleted. Please wait some time and try again",mock:"You can't move this mock server as it has been deleted."},Ee={collection:"Sharing here will make the collection public",api:"Sharing here will make the API public",environment:"Sharing here will make the environment public",mock:"Moving here will make the mock server public."},_e={collection:"collection",[o.EXTENSIBLE_COLLECTION]:"collection",environment:"environment",api:"API",monitor:"monitor",workspace:"workspace",mock:"mock server"},Se=["mock","monitor","EXTENSIBLE_COLLECTION"],Ce=["mock"],Te=["mock"],je=["mock"]},"./js/containers/new-button/services/MonitorRegionsService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{fetchAvailableRegions:function(){return i}});var o=n("./js/modules/services/RemoteSyncRequestService.js"),s=n("./node_modules/lodash/lodash.js");function i(){return o.default.request("/ws/proxy",{method:"post",data:{service:"monitors",method:"get",body:{},path:"/agents"}}).then((e=>s.get(e,"body.data")))}},"./js/containers/new-button/services/VersionTagService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{fetchAllTags:function(){return r}});var o=n("./js/modules/services/RemoteSyncRequestService.js"),s=n("./js/stores/StoreManager.js"),i=n("./js/stores/CurrentUserStore.js"),a=n("./node_modules/lodash/lodash.js");async function r(e){if(!e.collectionUid)return Promise.reject(new Error("VersionTagService~fetchAllTags: collectionUid not found"));const t=(0,s.resolveStoreInstance)(i.default).id;let n=`/collections/${e.collectionUid}/tags?count=100&user_id=${t}`,r=[],l=null;do{try{const e=l?`${n}&pageId=${l}`:n,t=await o.default.request(e,{method:"get"}),s=a.get(t,"body.tags",[]);l=a.get(t,"body.nextPageId",null),r=r.concat(a.map(s,(e=>({id:a.get(e,"id"),name:a.get(e,"message")}))))}catch(e){return Promise.reject(e)}}while(l);return Promise.resolve(r)}},"./js/containers/scratchpad/ContextBarScratchPadSignInPromptContainer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("./appsdk/contextbar/ContextBarViewHeader.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),a=n("./js/components/base/Text.js"),r=n("./js/components/base/Buttons.js"),l=n("./js/services/ScratchpadService.js");class c extends o.Component{handleWorkspaceSwitch(){l.default.switchToWorkspace()}render(){return o.createElement("div",null,o.createElement(s.ContextBarViewHeader,{title:this.props.title,onClose:this.props.onClose}),o.createElement("div",{className:"contextbar-signin-prompt-state"},o.createElement("div",{className:"contextbar-signin-prompt-state__icon-container"},o.createElement(i.default,{className:"contextbar-signin-prompt-state__icon",size:"large",color:"content-color-tertiary",name:this.props.icon})),o.createElement("div",{className:"contextbar-signin-prompt-state__title"},o.createElement("h4",null,"Switch to a workspace to use this feature")),o.createElement("div",{className:"contextbar-signin-prompt-state__body"},o.createElement(a.default,{type:"body-medium",value:"This is an online feature and is only available in workspaces."})),o.createElement(r.Button,{className:"contextbar-signin-prompt-state__switch-action",size:"large",onClick:this.handleWorkspaceSwitch,type:"primary"},"Switch to Workspaces")))}}},"./js/models/Cron.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});class o{constructor(e){this.update(e)}update(e){return e?(this.empty=!1,"string"==typeof e&&(e=e.split(" ")),Array.isArray(e)&&e.length<6&&e.unshift("0"),this.second=e.second||e[0]||this.second||"0",this.minute=e.minute||e[1]||this.minute||"0",this.hour=e.hour||e[2]||this.hour||"*",this.date=e.date||e[3]||this.date||"*",this.month=e.month||e[4]||this.month||"*",this.weekday=e.weekday||e[5]||this.weekday||"*",this):(this.empty=!0,this)}reset(){return this.second="0",this.minute="0",this.hour="*",this.date="*",this.month="*",this.weekday="*",this}fromForm(e){let{schedule:t,minute:n,hour:o,weekday:s,time:i="0"}=e;return"minute-timer"===t?("0"===n&&(n="*/5"),o="*"):n="0","hour-timer"===t&&"*"!==o[0]&&(o="*"),"week-timer"===t?o=i:s="*",this.reset(),this.update({minute:n,hour:o,weekday:s}),this}toForm(){let e,{minute:t,hour:n,weekday:o}=this,s=""+((new Date).getHours()+1)%24;return"0"!==t?e="minute-timer":"*"===n[0]?e="hour-timer":(e="week-timer",s=n),{minute:"0"!==t?t:"*/5",hour:n,weekday:o,schedule:e,time:s}}toString(){return this.empty?"":[this.second,this.minute,this.hour,this.date,this.month,this.weekday].join(" ")}}},"./js/modules/services/RolesService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{fetchEntityRoles:function(){return T},getRolesData:function(){return S},getTeamDefaultRole:function(){return A},shouldOverrideRole:function(){return j},updateEntityRoles:function(){return C},validateRoleAssignment:function(){return w}});var o=n("./js/modules/services/SyncRemoteFetcherService.js"),s=n("./js/stores/StoreManager.js"),i=n("./js/stores/CurrentUserStore.js"),a=n("./js/constants/ShareFlowConstants.js"),r=n("./monitors/services/MonitorService.js"),l=n("./mocks/services/UpdateRolesService.js"),c=n("./js/modules/services/SyncRequestService.js"),d=n("./runtime-repl/extensible-collection/api/ExtensibleCollectionAPI.ts"),u=n("./runtime-repl/extensible-collection/types/ExtensibleCollectionTypes.ts"),p=n("./node_modules/lodash/lodash.js");const m="roles",h="collection",g="environment",f={collection:e=>_(a.COLLECTION_ENTITY_TYPE,e),[u.EXTENSIBLE_COLLECTION]:e=>_(u.EXTENSIBLE_COLLECTION,e),environment:e=>_(a.ENVIRONMENT_ENTITY_TYPE,e),api:e=>_(a.API_ENTITY_TYPE,e),monitor:e=>_(a.MONITOR_ENTITY_TYPE,e),mock:e=>_(a.MOCK_ENTITY_TYPE,e),workspace:e=>e?_(a.WORKSPACE_ENTITY_TYPE,e):E(a.WORKSPACE_ENTITY_TYPE)};function b(e,t,n){let{type:o,id:s,name:i}=e;return o&&s&&i?{entityType:o,entityId:s,roles:{[i]:{objects:[{objectType:t,objectId:n}]}}}:(pm.logger.error(`RolesService~_generateRoleObject: Role has information missing - Type: ${o} Id: ${s} Name: ${i}`),null)}function y(e,t){if(e){if(t)return o.default.remoteFetch(m,"object",{objectType:e,objectId:t}).then((e=>({roles:p.get(e,"listing",{})})));pm.logger.error("RolesService~fetchObjectRoles: No object ID provided")}else pm.logger.error("RolesService~fetchObjectRoles: No object type provided")}function v(e){if(e)return o.default.remoteFetch(m,"objectType",{objects:[e]}).then((e=>({roles:p.get(e,"objects",{}),rolesOrder:p.get(e,"roleOrder",{})})));pm.logger.error("RolesService~fetchObjectTypeRoles: No object type provided")}function I(e){if(e)return o.default.remoteFetch(m,"default",{objectType:e}).then((e=>({roles:p.get(e,"data.listing",{})})));pm.logger.error("RolesService~fetchObjectRoles: No object type provided")}async function E(e){if(!e)return void pm.logger.error("RolesService~fetchRoles: No object type specified to fetch roles");let t=await Promise.all([I(e),v(e)]),n=p.get(t,"[0].roles"),o=p.get(t,`[1].roles.${e}`),a=p.get(t,`[1].rolesOrder.${e}`,[]).reverse(),r=function(e,t){return p.reduce(t,((t,n,o)=>(t[o]=p.head(p.get(n,`${e}.roles`),[]),t)),{})}(e,n),l=function(e){if(p.isEmpty(e))return{};let t=p.transform(e,((e,t,n)=>{e[n]=p.map(p.get(t,"permissions",{}),"name")}),{});return p.transform(t,((e,n,o)=>{e[o]=p.transform(t,((e,t,s)=>{if(s===o)return e;p.isEmpty(p.difference(t,n))&&e.push(s)}),[])}),{})}(o),c=(0,s.resolveStoreInstance)(i.default),d=p.get(c,"id"),u=p.get(c,"team.id");return{rolesList:o,defaultRoles:r,superRoles:l,userCurrentRoles:{[d]:{type:"user",id:d,name:p.get(r,"user")}},teamCurrentRole:{[u]:{type:"team",id:u,name:p.get(r,"team")}},rolesOrder:a}}async function _(e,t){if(!e||!t)return void pm.logger.error("RolesService~fetchAssociatedRoles: No object type or id specified to fetch roles");let n=await Promise.all([E(e),y(e,t)]),o=p.get(n,"0.rolesList",{}),s=p.get(n,"0.rolesOrder",{}),i=p.get(n,"1.roles",{}),a=p.get(n,"0.defaultRoles"),r=p.get(n,"0.superRoles");return{defaultRoles:a,rolesList:o,userCurrentRoles:p.reduce(p.get(i,"user"),((e,t,n)=>(e[n]={type:"user",id:n,name:p.get(t,"roles.0")},e)),{}),teamCurrentRole:p.reduce(p.get(i,"team"),((e,t,n)=>(e[n]={type:"team",id:n,name:p.get(t,"roles.0")},e)),{}),groupCurrentRoles:p.reduce(p.get(i,"group"),((e,t,n)=>(e[n]={type:"group",id:n,name:p.get(t,"roles.0")},e)),{}),superRoles:r,rolesOrder:s}}async function S(e,t,n,o,s={}){let i,a={roles:p.chain(e).map((e=>b(e,n,o))).compact().value()};if(p.isEmpty(s)||(i=p.chain(s).map((e=>b(e,n,o))).compact().value(),!p.isEmpty(i)&&(a.roles=p.concat(a.roles,i))),!p.isEmpty(t)){let e=b(t,n,o);!p.isEmpty(e)&&a.roles.push(e)}return a}async function C(e,t,n,s,i){switch(e){case"collection":return async function(e,t,n,s){let i={id:s,data:await S(e,t,h,s,n),model:h};return o.default.remoteFetch(m,"collection",i)}(n,s,i,t);case u.EXTENSIBLE_COLLECTION:return async function(e,t,n,o){let s=await S(e,t,u.EXTENSIBLE_COLLECTION,o,n);return d.default.updateRoles(o,s)}(n,s,i,t);case"api":return async function(e,t,n,s){let i={id:s,data:await S(e,t,"api",s,n),model:"apis"};return o.default.remoteFetch(m,"api",i)}(n,s,i,t);case"monitor":return async function(e,t,n,o){let s=await S(e,t,"monitor",o,n);const i={roles:p.map(s.roles,(e=>({entityType:e.entityType,entityId:e.entityId,role:p.keys(e.roles)[0]})))};await r.default.updateMonitorRoles(o,i).then((e=>Promise.resolve(e))).catch((e=>Promise.reject(p.get(e,"error",{}))))}(n,s,i,t);case"environment":return async function(e,t,n,s){let i={id:s,data:await S(e,t,g,s,n),model:g};return o.default.remoteFetch(m,"environment",i)}(n,s,i,t);case"mock":return async function(e,t,n,o){let s=await S(e,t,"mock",o,n);return(0,l.updateRoles)(o,s)}(n,s,i,t);default:return Promise.reject(new Error(`RolesService~updateEntityRoles: Unsupported entity provided of type ${e}`))}}async function T(e,t){if(!f[e])return Promise.reject(new Error(`RolesService~updateEntityRoles: Unsupported entity provided of type ${e}`));let{defaultRoles:n,userCurrentRoles:o,teamCurrentRole:s,rolesList:i,superRoles:a,groupCurrentRoles:r,rolesOrder:l}=await f[e](t);return{rolesList:i,userCurrentRoles:o,teamCurrentRole:s,superRoles:a,defaultRoles:n,groupCurrentRoles:r,rolesOrder:l}}function j(e,t,n){return!(p.isEmpty(e)||!t||!n)&&p.includes(e[t],n)}function A(e){let t=p.get((0,s.resolveStoreInstance)(i.default),"team.id"),n=p.get(e,"team",{});return!t||p.isEmpty(e)||p.isEmpty(n)?{}:{[t]:{id:t,name:p.get(e,"team",""),type:"team"}}}async function w(e){try{const t=await(0,c.request)("/ws/proxy",{method:"POST",data:{service:"acs",method:"POST",path:"/api/validations/role-assignment",body:{validations:e}}});return p.get(t,"body.results")}catch(e){throw e}}},"./js/modules/tracked-state/TrackedState.js":function(e,t,n){"use strict";n.r(t),n.d(t,{TrackedState:function(){return s},bindTrackedStateToComponent:function(){return i}});var o=n("./node_modules/lodash/lodash.js");class s{constructor(e){if(!e)throw new Error("TrackedState: Could not create new TrackedState. Parameter initialState not provided");this._initialize(e)}_initialize(e){if(!e)throw new Error("TrackedState~_initialize: Could not initialize tracked state. Parameter initialState not provided");this._setInitialState(e),this._setUpdates({})}_setInitialState(e){if(!e)throw new Error("TrackedState~_setInitialState: Could not set initial state. Parameter initialState not provided");this._initialState=e}_setUpdates(e){if(!e)throw new Error("TrackedState~_setUpdates: Could not set updates. Parameter updates not provided");this._updates=e,this._cachedState=null,this._isDirty=null}set(e={}){this._setUpdates(Object.assign({},this._updates,e)),this.onChange&&this.onChange()}resetUpdates(){this._setUpdates({}),this.onChange&&this.onChange()}reset(e){if(!e)throw new Error("TrackedState~reset: Could not reset tracked state. Parameter newInitialState not provided");this._initialize(e),this.onChange&&this.onChange()}get(e){return null===this._cachedState&&(this._cachedState=o.cloneDeep(Object.assign({},this._initialState,this._updates))),e?e&&this._cachedState[e]:this._cachedState}getDirtyValues(){let e={};return o.forEach(this._updates,((t,n)=>{!o.isEqual(this._initialState[n],t)&&(e[n]=this.get(n))})),e}isDirty(){if(null===this._isDirty){let e=o.keys(this._updates),t=o.pick(this._initialState,e);this._isDirty=!o.isEqual(t,this._updates)}return this._isDirty}}function i(e,t){e&&t&&(e.onChange=()=>{t.forceUpdate()})}},"./js/stores/IntegrationsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ye}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y,v,I,E,_,S,C,T,j,A,w,O,N,D,R,P,M,L,x,k,F,V,B,U,z,H,G,W,$,q,Y,K,J,Z,X,Q,ee,te,ne,oe,se,ie=n("../../node_modules/mobx/lib/mobx.module.js"),ae=n("./integrations/constants/integrationsConstants.ts"),re=n("./js/stores/StoreManager.js"),le=n("./js/stores/SyncStatusStore.js"),ce=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),de=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationClassService.js"),ue=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/BrowseIntegrations/IntegrationsUtils.js"),pe=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts"),me=(n("./integrations/monitoring/services/NewRelicService.js"),n("./integrations/monitoring/constants.js"),n("./node_modules/lodash/lodash.js"));function he(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function ge(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const fe=3e5,be=8e3;let ye=(s=ge((o=class{constructor(){he(this,"activeIntegrationsView",s,this),he(this,"serviceId",i,this),he(this,"activeServiceDetailsId",a,this),he(this,"ruleId",r,this),he(this,"teamIntegrations",l,this),he(this,"availableIntegrations",c,this),he(this,"loadingAvailableIntegrations",d,this),he(this,"loadingIntegrationClasses",u,this),he(this,"loadingIntegrationServices",p,this),he(this,"errorFetchingAvailableIntegrations",m,this),he(this,"availableIntegrationsErrorDetails",h,this),he(this,"filteredAvailableIntegrations",g,this),he(this,"filterByCategoryAvailableIntegrations",f,this),he(this,"integrationCategories",b,this),he(this,"noTeamIntegrations",y,this),he(this,"loadingTeamIntegrations",v,this),he(this,"errorInFetchingTeamIntegrations",I,this),he(this,"errorDetails",E,this),he(this,"ruleSpecificTeamIntegrations",_,this),he(this,"ruleSpecificTeamIntegrationErrors",S,this),he(this,"serviceDetails",C,this),he(this,"ruleDetails",T,this),he(this,"noRuleSpecificTeamIntegrations",j,this),he(this,"isHydrating",A,this),he(this,"isAdding",w,this),he(this,"categoryFilter",O,this),he(this,"createFormActiveRuleId",N,this),he(this,"createFormActiveServiceId",D,this),he(this,"workspaces",R,this),he(this,"entities",P,this),he(this,"selectedWorkspace",M,this),he(this,"selectedEntity",L,this),he(this,"selectedEntityVersion",x,this),he(this,"authDetails",k,this),he(this,"errorFetchingAuthDetails",F,this),he(this,"authDetailsError",V,this),he(this,"runLogPageData",B,this),he(this,"loadingRunLogPage",U,this),he(this,"errorInFetchingRunLogPageData",z,this),he(this,"runLogPageErrorDetails",H,this),he(this,"sourceConflicting",G,this),he(this,"refreshingRunLog",W,this),he(this,"authType",$,this),he(this,"availableIntegrationClasses",q,this),he(this,"integrationCategories",Y,this),he(this,"availableIntegrationServices",K,this),he(this,"availableIntegrationServicesByCategory",J,this),he(this,"filteredIntegrationServices",Z,this),he(this,"preferredEntities",X,this),he(this,"integrationClass",Q,this),he(this,"loadingIntegrationClass",ee,this),he(this,"errorFetchingIntegrationClass",te,this),he(this,"integrationInstance",ne,this),he(this,"loadingIntegrationInstance",oe,this),he(this,"errorFetchingIntegrationInstance",se,this),this.initializeFetchingTeamIntegrations=me.debounce(this.initializeFetchingTeamIntegrations.bind(this),fe,{leading:!0,trailing:!1}),this.getAvailableIntegrationClasses=me.debounce(this.getAvailableIntegrationClasses.bind(this),fe,{leading:!0,trailing:!1}),this.getAvailableIntegrationServices=me.debounce(this.getAvailableIntegrationServices.bind(this),fe,{leading:!0,trailing:!1}),this.initializeRuleSpecificTeamIntegrations=((e,t,n)=>{const o={};return(...s)=>{const[i,a]=s;return"function"==typeof o[a]||(o[a]=me.debounce(e,t,{...n,leading:!0})),o[a](...s)}})(this.initializeRuleSpecificTeamIntegrations.bind(this),3e5,{leading:!0,trailing:!1})}setActiveIntegrationsView(e){this.activeIntegrationsView=e}readRuleSpecificTeamIntegrations(e){return(0,ie.toJS)(this.ruleSpecificTeamIntegrations[e])}readServiceDetails(e){return(0,ie.toJS)(this.serviceDetails[e])}readRuleDetails(e){return(0,ie.toJS)(this.ruleDetails[e])}setAuthType(e){this.authType=e}setRuleSpecificTeamIntegrations(e,t){this.ruleSpecificTeamIntegrations[e]=t}resetRuleSpecificTeamIntegrations(e){delete this.ruleSpecificTeamIntegrations[e]}setServiceDetails(e,t){this.serviceDetails[e]=t}setRuleDetails(e,t){this.ruleDetails[e]=t}resetServiceDetails(e){delete this.serviceDetails[e]}setActiveIntegrationRule(e,t){this.serviceId=e,this.ruleId=t}updateCategoryfilter(e){this.categoryFilter=e,this.updateIntegrationServicesPerCategory(e)}updateRuleSpecificTeamIntegrationsDataStatus(e,t,n,o){this.ruleSpecificTeamIntegrationErrors[o]={loading:e,error:t,errorDetails:n}}readRuleSpecificTeamIntegrationsDataStatus(e){return{loading:!0,...(0,ie.toJS)(this.ruleSpecificTeamIntegrationErrors[e])}}getRuleSpecificTeamIntegrationData(e,t){return this.updateRuleSpecificTeamIntegrationsDataStatus(!0,!1,"",t),Promise.all([de.default.fetchIntegrationClassDetails(t),de.default.fetchIntegrationServiceDetails(e),ce.default.getTeamIntegrationInstances(t)]).then((([n,o,s])=>{const i=me.get(s,"body.data",[]),a=me.get(n,"body.data",{}),r=me.get(o,"body.data",{});if(200!==n.status||200!==s.status||200!==o.status||me.isEmpty(a)||me.isEmpty(r)){let e={};(200!==n.status||me.isEmpty(a))&&(e.errorFetchingClassDetails=n),(200!==o.status||me.isEmpty(r))&&(e.errorFetchingServiceDetatils=o),200!==s.status&&(e.errorFetchingTeamIntegrations=s),this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!0,e,t)}else{if(me.isEmpty(i))this.setRuleSpecificTeamIntegrations(t,[]);else{let e=me.map(i,(e=>({id:e.id,name:e.name,userId:e.createdBy.id,userName:me.get(e,"createdBy.name")||me.get(e,"createdBy.username")||me.get(e,"createdBy.email")||"A user",isUserNameClickable:Boolean(me.get(e,"createdBy.name")||me.get(e,"createdBy.username")||me.get(e,"createdBy.email")),userProfileUrl:e.createdBy.profilePicUrl,status:e.status,apiDetails:e.entity.api,entityType:e.entity.type,entityId:e.entity.id,entityName:e.entity.name,lastRunAt:e.lastRunAt,clientCategories:e.clientCategories})));this.setRuleSpecificTeamIntegrations(t,e)}this.setServiceDetails(e,r),this.setRuleDetails(t,a),this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!1,"",t)}})).catch((n=>{this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!0,n,t),this.resetRuleSpecificTeamIntegrations(t),this.resetServiceDetails(e)}))}getTeamIntegrationsData(){return this.setLoadingIntegrationClasses(!0),this.setLoadingIntegrationServices(!0),Promise.all([de.default.fetchAvailableClasses(),de.default.fetchAvailableServices(),ce.default.getTeamIntegrations()]).then((([e,t,n])=>{const o=me.get(t,"body.data",[]),s=me.get(e,"body.data",[]),i=me.get(n,"body.data",[]);if(200!==e.status||200!==n.status||200!==t.status||me.isEmpty(o)||me.isEmpty(s)){let i={};(200!==t.status||me.isEmpty(o))&&(i.errorFetchingServices=t),(200!==e.status||me.isEmpty(s))&&(i.errorFetchingClasses=e),200!==n.status&&(i.errorFetchingTeamIntegrations=n),this.updateData(!1,[]),this.updateState(!1,!0,i)}else{if(me.isEmpty(i))this.updateData(!0,[]),this.updateState(!1,!1,"");else{const e=me.groupBy(i,"rule"),t=me.map(e,((e,t)=>{const n=e[0].service,i=me.find(s,(e=>e.id===t)),a=me.find(o,(e=>e.id===n));return{ruleName:me.get(i,"name"),ruleId:t,serviceId:n,serviceName:me.get(a,"name",""),serviceIconURL:me.get(a,"iconUrl",""),serviceDarkIconURL:me.get(a,"darkIconUrl",""),statusCount:me.countBy(e,(e=>e.status)),totalIntegrations:e.length}})),n=this.defaultSortTeamIntegrations(t);this.updateData(!1,n),this.updateState(!1,!1,"")}const e=this.addDisplayNameToIntegrationClasses(s);this.setAvailableIntegrationClasses(e),this.setAvailableIntegrationServices(o),this.getIntegrationCategoriesFromServices(),this.updateIntegrationServicesPerCategory(this.categoryFilter),this.updateFilteredIntegrationServices(this.availableIntegrationServicesByCategory)}this.setLoadingIntegrationServices(!1),this.setLoadingIntegrationClasses(!1),this.updateAvailableIntegrationsStatus(!1,!1,"")})).catch((e=>{pm.logger.error("Error in fetching team integrations",e),this.updateData(!1,[]),this.updateState(!1,!0,e),this.setLoadingIntegrationServices(!1),this.setLoadingIntegrationClasses(!1),this.updateAvailableIntegrationsStatus(!1,!0,e)}))}setIsHydrating(e){this.isHydrating=e}updateState(e,t,n){this.loadingTeamIntegrations=e,this.errorInFetchingTeamIntegrations=t,this.errorDetails=n}updateData(e,t){this.noTeamIntegrations=e,this.teamIntegrations=t}updateAvailableIntegrations(e){this.availableIntegrations=e}updateIntegrationCategories(){this.integrationCategories=ue.default.getAllCategories(this.availableIntegrations)}setAvailableIntegrationServices(e){this.availableIntegrationServices=e}addDisplayNameToIntegrationClasses(e){const t={};return me.forEach(e,(e=>{const n=me.get(e,"services",[]);me.forEach(n,(n=>{me.get(t,n.id)?t[n.id].push(e.id):t[n.id]=[e.id]}))})),me.forEach(e,(e=>{const n=me.get(e,"services.0",{});e.displayName=me.size(t[n.id])>1?e.name:n.name})),e}setAvailableIntegrationClasses(e){this.availableIntegrationClasses=e}getIntegrationCategoriesFromServices(){this.integrationCategories=ue.default.getAllIntegrationCategories(this.availableIntegrationServices)}updateIntegrationServicesPerCategory(e){let t=ue.default.filterByCategory(e,(0,ie.toJS)(this.availableIntegrationServices));me.isEmpty(t)&&!me.isEmpty((0,ie.toJS)(this.availableIntegrationServices))&&(this.updateCategoryfilter("all"),t=(0,ie.toJS)(this.availableIntegrationServices)),this.availableIntegrationServicesByCategory=t}updateFilteredIntegrationServices(e){this.filteredIntegrationServices=e}updateAvailableIntegrationsStatus(e,t,n){this.loadingAvailableIntegrations=e,this.errorFetchingAvailableIntegrations=t,this.availableIntegrationsErrorDetails=n}setLoadingIntegrationServices(e){this.loadingIntegrationServices=e}setLoadingIntegrationClasses(e){this.loadingIntegrationClasses=e}updateFilteredAvailableIntegrations(e){this.filteredAvailableIntegrations=e}updateFilterByCategoryAvailableIntegrations(e){let t=ue.default.filterByCategory(e,(0,ie.toJS)(this.availableIntegrations));me.isEmpty(t)&&!me.isEmpty((0,ie.toJS)(this.availableIntegrations))&&(this.updateCategoryfilter("all"),t=(0,ie.toJS)(this.availableIntegrations)),this.filterByCategoryAvailableIntegrations=t}initializeFetchingTeamIntegrations(){(0,re.resolveStoreInstance)(le.default).onSyncAvailable({timeout:be}).then((()=>(this.setIsHydrating(!0),this.getTeamIntegrationsData()))).catch((()=>{this.updateState(!1,!1,"")})).finally((()=>{this.setIsHydrating(!1)}))}initializeRuleSpecificTeamIntegrations(e,t){(0,re.resolveStoreInstance)(le.default).onSyncAvailable({timeout:be}).then((()=>this.getRuleSpecificTeamIntegrationData(e,t))).catch((e=>{this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!0,e,t)}))}refetchRuleSpecificTeamIntegrations(e,t){(0,re.resolveStoreInstance)(le.default).onSyncAvailable({timeout:be}).then((()=>this.getRuleSpecificTeamIntegrationData(e,t))).catch((e=>{this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!0,e,t)}))}refetchTeamIntegrations(){(0,re.resolveStoreInstance)(le.default).onSyncAvailable({timeout:be}).then((()=>(this.setIsHydrating(!0),this.getTeamIntegrationsData()))).catch((()=>{this.updateState(!1,!1,"")})).finally((()=>{this.setIsHydrating(!1)}))}getAvailableIntegrationClasses(){return this.setLoadingIntegrationClasses(!0),de.default.fetchAvailableClasses().then((e=>{const t=this.addDisplayNameToIntegrationClasses(me.get(e,"body.data",[]));this.setAvailableIntegrationClasses(t),this.updateAvailableIntegrationsStatus(!1,!1,""),this.setLoadingIntegrationClasses(!1)})).catch((e=>{this.updateAvailableIntegrationsStatus(!1,!0,e),this.setLoadingIntegrationClasses(!1),pm.logger.error("Error occurred while fetching available integration classes",e)}))}getAvailableIntegrationServices(){return this.setLoadingIntegrationServices(!0),de.default.fetchAvailableServices().then((e=>{this.setAvailableIntegrationServices(me.get(e,"body.data",[])),this.updateAvailableIntegrationsStatus(!1,!1,""),this.getIntegrationCategoriesFromServices(),this.updateIntegrationServicesPerCategory(this.categoryFilter),this.updateFilteredIntegrationServices(this.availableIntegrationServicesByCategory),this.setLoadingIntegrationServices(!1)})).catch((e=>{this.updateAvailableIntegrationsStatus(!1,!0,e),this.setLoadingIntegrationServices(!1),pm.logger.error("Error occurred while fetching available integration services",e)}))}populateIntegrationClasses(){return this.updateAvailableIntegrationsStatus(!0,!1,""),(0,re.resolveStoreInstance)(le.default).onSyncAvailable({timeout:be}).then((()=>(this.updateAvailableIntegrationsStatus(!0,!1,""),this.getAvailableIntegrationClasses()))).catch((()=>{this.updateAvailableIntegrationsStatus(!1,!1,"")}))}populateIntegrationServices(){return this.updateAvailableIntegrationsStatus(!0,!1,""),(0,re.resolveStoreInstance)(le.default).onSyncAvailable({timeout:be}).then((()=>(this.updateAvailableIntegrationsStatus(!0,!1,""),this.getAvailableIntegrationServices()))).catch((()=>{this.updateAvailableIntegrationsStatus(!1,!1,"")}))}setActiveIntegrationService(e){this.activeServiceDetailsId=e}setActiveIntegrationCreateForm(e,t){this.createFormActiveServiceId=e,this.createFormActiveRuleId=t}setSelectedWorkspace(e){this.selectedWorkspace=e}setSelectedEntity(e){this.selectedEntity=e}setSelectedEntityVersion(e){this.selectedEntityVersion=e}resetSelectedWorkspace(){this.selectedWorkspace=null}resetSelectedEntity(){this.selectedEntity=null}resetSelectedEntityVersion(){this.selectedEntityVersion=null}resetAddIntegrationDependencies(){this.resetSelectedEntityVersion(),this.resetSelectedEntity(),this.resetSelectedWorkspace()}updateIsAdding(e){this.isAdding=e}updateSourceConflicting(e){this.sourceConflicting=e}readTeamIntegrations(){return(0,ie.toJS)(this.teamIntegrations)}updateIdentityResponse(e){this.authDetails=me.get(e,"body.handover")}updateIdentityResponseStatus(e,t){this.errorFetchingAuthDetails=e,this.authDetailsError=t}setAuthDetails(e){this.authDetails=e}readAuthDetails(){return(0,ie.toJS)(this.authDetails)}defaultSortTeamIntegrations(e){const t=me.filter(e,(e=>!!e.statusCount.failed)),n=me.sortBy(t,(e=>me.toLower(e.ruleName))),o=me.sortBy(me.difference(e,n),(e=>me.toLower(e.ruleName)));return me.concat(n,o)}updateRunsPageResponseStatus(e,t,n){this.loadingRunLogPage=e,this.errorInFetchingRunLogPageData=t,this.runLogPageErrorDetails=n}updateRunsPageResponse(e){this.runLogPageData=e}readIntegrationRunLogData(){return(0,ie.toJS)(this.runLogPageData)}updateRefreshingRunLog(e){this.refreshingRunLog=e}addPreferredEntity(e,t){const n={entityType:e,entityId:t};me.some(this.preferredEntities,n)||this.preferredEntities.push(n)}getIntegrationClassDetails(e){return this.loadingIntegrationClass=!0,new Promise(((t,n)=>{de.default.fetchIntegrationClassDetails(e).then((e=>{const n=me.get(e,"body.data");200!==e.status||me.isEmpty(n)?this.errorFetchingIntegrationClass=e:(this.integrationClass=n,this.errorFetchingIntegrationClass=!1),this.loadingIntegrationClass=!1,t()})).catch((t=>{pm.logger.error("Error in fetching integration class details",e,t),this.errorFetchingIntegrationClass=t,this.loadingIntegrationClass=!1,n(t)}))}))}getIntegrationInstanceDetails(e){this.loadingIntegrationInstance=!0,pe.default.fetchIntegrationInstanceDetails(e).then((e=>{const t=me.get(e,"body.data");200!==e.status||me.isEmpty(t)?this.errorFetchingIntegrationInstance=e:(t.allowedActions=me.get(e,"body.meta.allowedActions"),this.integrationInstance=t,this.errorFetchingIntegrationInstance=!1),this.loadingIntegrationInstance=!1})).catch((t=>{pm.logger.error("Error in fetching integration instance details",e,t),this.errorFetchingIntegrationInstance=t,this.loadingIntegrationInstance=!1}))}getIntegrationClasses(){return me.isEmpty(this.availableIntegrationClasses)&&this.populateIntegrationClasses(),this.availableIntegrationClasses}getIntegrationServices(){return me.isEmpty(this.availableIntegrationServices)&&this.populateIntegrationServices(),this.availableIntegrationServices}}).prototype,"activeIntegrationsView",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.INTEGRATIONS_VIEW.TEAM}}),i=ge(o.prototype,"serviceId",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=ge(o.prototype,"activeServiceDetailsId",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),r=ge(o.prototype,"ruleId",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=ge(o.prototype,"teamIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=ge(o.prototype,"availableIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=ge(o.prototype,"loadingAvailableIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=ge(o.prototype,"loadingIntegrationClasses",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=ge(o.prototype,"loadingIntegrationServices",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m=ge(o.prototype,"errorFetchingAvailableIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=ge(o.prototype,"availableIntegrationsErrorDetails",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=ge(o.prototype,"filteredAvailableIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=ge(o.prototype,"filterByCategoryAvailableIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=ge(o.prototype,"integrationCategories",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=ge(o.prototype,"noTeamIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=ge(o.prototype,"loadingTeamIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=ge(o.prototype,"errorInFetchingTeamIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=ge(o.prototype,"errorDetails",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_=ge(o.prototype,"ruleSpecificTeamIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S=ge(o.prototype,"ruleSpecificTeamIntegrationErrors",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C=ge(o.prototype,"serviceDetails",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T=ge(o.prototype,"ruleDetails",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),j=ge(o.prototype,"noRuleSpecificTeamIntegrations",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=ge(o.prototype,"isHydrating",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=ge(o.prototype,"isAdding",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=ge(o.prototype,"categoryFilter",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"all"}}),N=ge(o.prototype,"createFormActiveRuleId",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=ge(o.prototype,"createFormActiveServiceId",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=ge(o.prototype,"workspaces",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=ge(o.prototype,"entities",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=ge(o.prototype,"selectedWorkspace",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=ge(o.prototype,"selectedEntity",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=ge(o.prototype,"selectedEntityVersion",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=ge(o.prototype,"authDetails",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),F=ge(o.prototype,"errorFetchingAuthDetails",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=ge(o.prototype,"authDetailsError",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),B=ge(o.prototype,"runLogPageData",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=ge(o.prototype,"loadingRunLogPage",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=ge(o.prototype,"errorInFetchingRunLogPageData",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=ge(o.prototype,"runLogPageErrorDetails",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=ge(o.prototype,"sourceConflicting",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=ge(o.prototype,"refreshingRunLog",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=ge(o.prototype,"authType",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=ge(o.prototype,"availableIntegrationClasses",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Y=ge(o.prototype,"integrationCategories",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=ge(o.prototype,"availableIntegrationServices",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=ge(o.prototype,"availableIntegrationServicesByCategory",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=ge(o.prototype,"filteredIntegrationServices",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=ge(o.prototype,"preferredEntities",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=ge(o.prototype,"integrationClass",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=ge(o.prototype,"loadingIntegrationClass",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=ge(o.prototype,"errorFetchingIntegrationClass",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=ge(o.prototype,"integrationInstance",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=ge(o.prototype,"loadingIntegrationInstance",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=ge(o.prototype,"errorFetchingIntegrationInstance",[ie.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge(o.prototype,"setActiveIntegrationsView",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveIntegrationsView"),o.prototype),ge(o.prototype,"setAuthType",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setAuthType"),o.prototype),ge(o.prototype,"setRuleSpecificTeamIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setRuleSpecificTeamIntegrations"),o.prototype),ge(o.prototype,"resetRuleSpecificTeamIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"resetRuleSpecificTeamIntegrations"),o.prototype),ge(o.prototype,"setServiceDetails",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setServiceDetails"),o.prototype),ge(o.prototype,"setRuleDetails",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setRuleDetails"),o.prototype),ge(o.prototype,"resetServiceDetails",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"resetServiceDetails"),o.prototype),ge(o.prototype,"setActiveIntegrationRule",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveIntegrationRule"),o.prototype),ge(o.prototype,"updateCategoryfilter",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateCategoryfilter"),o.prototype),ge(o.prototype,"updateRuleSpecificTeamIntegrationsDataStatus",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateRuleSpecificTeamIntegrationsDataStatus"),o.prototype),ge(o.prototype,"getRuleSpecificTeamIntegrationData",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"getRuleSpecificTeamIntegrationData"),o.prototype),ge(o.prototype,"getTeamIntegrationsData",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"getTeamIntegrationsData"),o.prototype),ge(o.prototype,"setIsHydrating",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setIsHydrating"),o.prototype),ge(o.prototype,"updateState",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateState"),o.prototype),ge(o.prototype,"updateData",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateData"),o.prototype),ge(o.prototype,"updateAvailableIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateAvailableIntegrations"),o.prototype),ge(o.prototype,"updateIntegrationCategories",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIntegrationCategories"),o.prototype),ge(o.prototype,"setAvailableIntegrationServices",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setAvailableIntegrationServices"),o.prototype),ge(o.prototype,"setAvailableIntegrationClasses",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setAvailableIntegrationClasses"),o.prototype),ge(o.prototype,"getIntegrationCategoriesFromServices",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"getIntegrationCategoriesFromServices"),o.prototype),ge(o.prototype,"updateIntegrationServicesPerCategory",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIntegrationServicesPerCategory"),o.prototype),ge(o.prototype,"updateFilteredIntegrationServices",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateFilteredIntegrationServices"),o.prototype),ge(o.prototype,"updateAvailableIntegrationsStatus",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateAvailableIntegrationsStatus"),o.prototype),ge(o.prototype,"setLoadingIntegrationServices",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setLoadingIntegrationServices"),o.prototype),ge(o.prototype,"setLoadingIntegrationClasses",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setLoadingIntegrationClasses"),o.prototype),ge(o.prototype,"updateFilteredAvailableIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateFilteredAvailableIntegrations"),o.prototype),ge(o.prototype,"updateFilterByCategoryAvailableIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateFilterByCategoryAvailableIntegrations"),o.prototype),ge(o.prototype,"initializeFetchingTeamIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"initializeFetchingTeamIntegrations"),o.prototype),ge(o.prototype,"initializeRuleSpecificTeamIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"initializeRuleSpecificTeamIntegrations"),o.prototype),ge(o.prototype,"refetchRuleSpecificTeamIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"refetchRuleSpecificTeamIntegrations"),o.prototype),ge(o.prototype,"refetchTeamIntegrations",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"refetchTeamIntegrations"),o.prototype),ge(o.prototype,"getAvailableIntegrationClasses",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"getAvailableIntegrationClasses"),o.prototype),ge(o.prototype,"getAvailableIntegrationServices",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"getAvailableIntegrationServices"),o.prototype),ge(o.prototype,"populateIntegrationClasses",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"populateIntegrationClasses"),o.prototype),ge(o.prototype,"populateIntegrationServices",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"populateIntegrationServices"),o.prototype),ge(o.prototype,"setActiveIntegrationService",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveIntegrationService"),o.prototype),ge(o.prototype,"setActiveIntegrationCreateForm",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setActiveIntegrationCreateForm"),o.prototype),ge(o.prototype,"setSelectedWorkspace",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedWorkspace"),o.prototype),ge(o.prototype,"setSelectedEntity",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedEntity"),o.prototype),ge(o.prototype,"setSelectedEntityVersion",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setSelectedEntityVersion"),o.prototype),ge(o.prototype,"resetSelectedWorkspace",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"resetSelectedWorkspace"),o.prototype),ge(o.prototype,"resetSelectedEntity",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"resetSelectedEntity"),o.prototype),ge(o.prototype,"resetSelectedEntityVersion",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"resetSelectedEntityVersion"),o.prototype),ge(o.prototype,"resetAddIntegrationDependencies",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"resetAddIntegrationDependencies"),o.prototype),ge(o.prototype,"updateIsAdding",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIsAdding"),o.prototype),ge(o.prototype,"updateSourceConflicting",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateSourceConflicting"),o.prototype),ge(o.prototype,"updateIdentityResponse",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIdentityResponse"),o.prototype),ge(o.prototype,"updateIdentityResponseStatus",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateIdentityResponseStatus"),o.prototype),ge(o.prototype,"setAuthDetails",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"setAuthDetails"),o.prototype),ge(o.prototype,"updateRunsPageResponseStatus",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateRunsPageResponseStatus"),o.prototype),ge(o.prototype,"updateRunsPageResponse",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateRunsPageResponse"),o.prototype),ge(o.prototype,"updateRefreshingRunLog",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"updateRefreshingRunLog"),o.prototype),ge(o.prototype,"addPreferredEntity",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"addPreferredEntity"),o.prototype),ge(o.prototype,"getIntegrationClassDetails",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"getIntegrationClassDetails"),o.prototype),ge(o.prototype,"getIntegrationInstanceDetails",[ie.action],Object.getOwnPropertyDescriptor(o.prototype,"getIntegrationInstanceDetails"),o.prototype),o)},"./js/utils/Collapsible.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r},toggleable:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/lodash/lodash.js");function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}function a(e,t={}){return class extends o.Component{constructor(e){super(e),this.state=t,this.methods={};for(let e of Object.keys(this.state))this.methods[`toggle${s.capitalize(e)}`]=()=>{this.state.hasOwnProperty(e)&&this.setState({[e]:!this.state[e]})}}render(){return o.createElement(e,i({},this.props,this.state,this.methods))}}}function r(e,t=!0){return a(e,{expanded:t})}},"./mocks/components/CustomMockError.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/Buttons.js");function i(e){return o.createElement("div",{className:"custom-mock-error"},e.illustration,o.createElement("div",{className:"custom-mock-error__title"},e.title||"Something went wrong"),o.createElement("div",{className:"custom-mock-error__subtitle"},e.subtitle),e.onRetry&&o.createElement("div",{className:"custom-mock-error__action"},o.createElement(s.Button,{type:"primary",onClick:e.onRetry},e.actionName||"Retry Now")))}},"./mocks/constants/MockFormConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{CollectionLabel:function(){return g},CreateNewEnvironmentVariableHelperText:function(){return T},CreateNewEnvironmentVariableLabel:function(){return C},CustomMockIdentifier:function(){return o},DefaultDisabledTooltipText:function(){return x},DurationMetric:function(){return p},DurationType:function(){return s},EnvironmentEmptyStateMessage:function(){return E},EnvironmentHelperText:function(){return _},EnvironmentLabel:function(){return v},EnvironmentLinkText:function(){return S},EnvironmentPlaceholder:function(){return I},HeadersChipInputWidth:function(){return d},HeadersHelperText:function(){return N},HeadersInfoText:function(){return O},HeadersInputPlaceholder:function(){return D},HeadersValidationMessage:function(){return R},InvalidDelay:function(){return H},InvalidDelayHeaderText:function(){return B},InvalidHeaders:function(){return z},InvalidName:function(){return U},InvalidNameDelayText:function(){return V},InvalidNameHeaderDelayText:function(){return k},InvalidNameHeaderText:function(){return F},MakeMockServerPrivateLabel:function(){return j},MakeMockServerPrivateLinkText:function(){return A},MockCreateModalFormElementsWidth:function(){return c},MockFormElementsWidth:function(){return a},MockFormEnvironmentMenuMaxHeight:function(){return r},MockFormMockServerPrivateTextWidth:function(){return l},MockServerNameLabel:function(){return m},MockSeverNameErrorMessage:function(){return h},NoDelayDurationType:function(){return i},RequestBodyInfoText:function(){return w},ResponseMatchingHeading:function(){return P},ResponseMatchingHelperText:function(){return M},SimulateNetworkDelayLabel:function(){return u},TagHelperText:function(){return y},TagInfoText:function(){return b},TagLabel:function(){return f},UpdateMockText:function(){return L}});const o="custom",s=[{id:o,name:"Custom",value:"custom",label:"Custom"}],i={id:null,name:"No delay selected",value:null,label:"No delay selected"},a=400,r=120,l=375,c=500,d=376,u="Simulate a fixed network delay",p="ms",m="Mock Server Name",h="Enter a name for this mock server",g="Collection",f="Tag",b="If the collection is not linked to an API, the mock server can only be created on the current tag.",y="Choose a collection tag for this mock server.",v="Environment",I="No Environment",E="No environments found",_="An environment is a group of variables useful for storing and reusing values.",S="Learn more",C="Save the mock server URL as an new environment variable",T="This will create a new environment containing URL.",j="Make mock server private",A="Postman API key",w="Matches the request body with the example request body before returning the response.",O="Define header keys here that the mock server should use for matching requests with examples.",N="You can enter multiple header keys.",D="eg: x-api-key, content-type",R="Enter header keys to enable header matching.",P="Response Matching",M="Choose what response is served by your mock server.",L="Update Mock Server",x="No new changes to save for this mock server",k="Enter mock name, valid fixed network delay, and header keys to update mock server.",F="Enter mock name and header keys to update mock server.",V="Enter a name and valid fixed network delay to update mock server.",B="Enter a valid fixed network delay and header keys to update mock server.",U="Enter a name for this mock server.",z="Enter header keys for response matching.",H="Enter a valid fixed network delay."},"./mocks/services/MockRealtimeRequestService.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/uuid/v4.js"),s=n.n(o),i=n("./js/modules/model-event.js"),a=n("./node_modules/rxjs/_esm5/internal/Observable.js"),r=n("./node_modules/rxjs/_esm5/internal/operators/share.js"),l=n("./node_modules/rxjs/_esm5/internal/operators/filter.js"),c=n("./node_modules/lodash/lodash.js");const d="NEXT",u="ERROR",p="COMPLETE";let m=new a.Observable((e=>{let t;if(!pm||!pm.eventBus)return void pm.logger.error("RemoteRealtimeRequestService~requestListener: Could not fetch. Missing event bus.");let n=n=>{t=n.name,t!==d&&t!==u&&t!==p||e.next(n)};return pm.windowEvents.addListener("realtime-requests",n),()=>{pm.windowEvents.removeListener("realtime-requests",n)}})).pipe((0,r.share)());t.default=function(e,t={},n,o={}){pm.eventBus.channel("realtime-requests");let r=s()();return new a.Observable((s=>{let a=!1;pm.windowEvents.emit("realtime-requests",(0,i.createEvent)("SUBSCRIBE","realtimeRequest",{id:r,subscriptionRequestObject:{subscriptionRequestUrl:e,subscriptionRequestOptions:t},unsubscriptionRequestObject:{unsubscriptionRequestUrl:n,unsubscriptionRequestOptions:o}}));let h=m.pipe((0,l.filter)((e=>c.get(e,"data.id")===r))).subscribe((e=>{e.name===d?s.next(c.get(e,"data.response")):e.name===u?s.error(new Error(c.get(e,"data.error"))):e.name===p&&(a=!0,h.unsubscribe(),s.complete())}),(e=>{s.error(e)}),(()=>{s.complete()}));return function(){a||(pm.windowEvents.emit("realtime-requests",(0,i.createEvent)("UNSUBSCRIBE","realtimeRequest",{id:r,unsubscriptionRequestObject:{unsubscriptionRequestUrl:n,unsubscriptionRequestOptions:o}})),h.unsubscribe())}}))}},"./mocks/services/MockService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{createMock:function(){return m},deleteMock:function(){return p},getAllRealtimeEvents:function(){return u},getMockConfigOptions:function(){return l},getMocks:function(){return c},updateMock:function(){return d}});var o=n("./node_modules/querystring-browser/querystring.js"),s=n.n(o),i=n("./js/modules/services/RemoteSyncRequestService.js"),a=n("./mocks/services/MockRealtimeRequestService.js"),r=n("./node_modules/lodash/lodash.js");function l(){return i.default.request("/ws/proxy",{method:"post",data:{method:"get",service:"mock",path:"/mocks/config"}}).then((({body:e})=>e))}function c(e={}){let t=`/mocks?${s().stringify(e)}`;return i.default.request("/ws/proxy",{method:"post",data:{service:"mock",method:"get",path:t}}).then((({body:e})=>Promise.resolve(e))).catch((({error:e})=>Promise.reject(e)))}function d(e={}){const t=`/mocks/${e.id}`,n=r.pick(e,["private","name","versionTag","environment"]);if(n.name&&(n.name=n.name.trim()),r.isUndefined(e.delay)||(n.config={delay:r.isNull(e.delay)?e.delay:{...e.delay,duration:Number(e.delay.duration)}}),!r.isUndefined(e.serverResponseId)){let t=n.config?n.config:{};n.config={...t,serverResponseId:e.serverResponseId}}if(!r.isUndefined(e.matchBody)){let t=n.config?n.config:{};n.config={...t,matchBody:e.matchBody}}if(!r.isUndefined(e.matchHeader)){let t=n.config?n.config:{};n.config={...t,matchHeader:e.matchHeader,headers:e.headers}}return i.default.request("/ws/proxy",{method:"post",data:{service:"mock",method:"put",body:n,path:t}}).then((({body:e})=>Promise.resolve(e))).catch((({error:e})=>Promise.reject(e)))}function u(e,t){if(!e&&!t)return void pm.logger.error("MockService~getAllRealtimeEvents: workspaceId or mockId not found");const n="/mocks/subscribe",o="/ws/proxy",s=r.isEmpty(e)?{mock:t}:{workspace:e},i="mock",l={method:"post",data:{body:s,path:n,service:i,method:"post"}},c={method:"post",data:{body:s,path:n,service:i,method:"delete"}};return(0,a.default)(o,l,o,c)}function p(e){if(!e)return void pm.logger.error("MockService~deleteMock: mockId not found");const t=`/mocks/${e}`;return i.default.request("/ws/proxy",{method:"post",data:{service:"mock",method:"delete",path:t}}).then((({body:e})=>Promise.resolve(e))).catch((({error:e})=>Promise.reject(e)))}function m(e,t,n=""){if(!e||!t)return void pm.logger.error("MockService~createMock: workspaceId or mockData not found");let o=`/mocks?workspace=${e}`;return t.name&&(t.name=t.name.trim()),"template"===n&&(o+="&source=template"),i.default.request("/ws/proxy",{method:"post",data:{service:"mock",method:"post",body:t,path:o}}).then((({body:e})=>Promise.resolve(e))).catch((({error:e})=>Promise.reject(e)))}},"./mocks/services/UpdateRolesService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{updateRoles:function(){return i}});var o=n("./js/modules/services/RemoteSyncRequestService.js"),s=n("./node_modules/lodash/lodash.js");function i(e,t){if(!e)return Promise.reject(new Error("UpdateRolesService~updateRoles: mockId not provided"));if(!t||s.isEmpty(t))return Promise.reject(new Error("UpdateRolesService~updateRoles: roles not provided"));let n=`/mocks/${e}/roles`;return o.default.request("/ws/proxy",{method:"post",data:{method:"put",service:"mock",path:n,body:t}}).then((e=>Promise.resolve(e))).catch((e=>Promise.reject(s.get(e,"error",{}))))}},"./monitors/components/common/EmptyState.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/classnames/index.js"),i=n.n(s);function a(e){const{imageSrc:t,title:n,body:s,action:a,subText:r,className:l,imageClass:c,illustration:d}=e;return o.createElement("div",{className:i()("empty-state",l)},d&&d,t&&o.createElement("img",{className:"empty-state__image",src:t}),c&&o.createElement("div",{className:i()("empty-state__image",c)}),n&&o.createElement("h3",{className:"pm-h3 empty-state__title"},n),s&&o.createElement("div",{className:"empty-state__body"},s),a&&o.createElement("div",{className:"empty-state__action"},a),r&&o.createElement("div",{className:"empty-state__subtext"},r))}},"./monitors/components/common/FileUploader.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("./node_modules/prop-types/index.js"),a=n.n(i),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js");const u=s.default.input.attrs({type:"file"})`
  height: 0.1px;
  opacity: 0;
  width: 0.1px;
  z-index: -1;
  &:focus + label {
    box-shadow: ${e=>e.theme["shadow-focus"]};
    outline: none;
  }
`,p=s.default.label`
  user-select: none;
  color: ${e=>e.isDisabled?e.theme["content-color-tertiary"]:e.theme["content-color-primary"]};
  font-size: ${e=>e.theme["text-size-m"]};
  width: max-content;
  height: ${e=>e.theme["size-m"]};
  vertical-align: middle;
  line-height: ${e=>`calc(${e.theme["line-height-xxl"]} - 2px)`};
  display: inline-block;
  padding: ${e=>`${e.theme["spacing-zero"]} ${e.theme["spacing-m"]}`};
  border: ${e=>e.theme["button-outline-border"]};
  border-color: ${e=>e.theme["button-outline-border-color"]};
  box-sizing: border-box;
  border-radius: ${e=>e.theme["border-radius-default"]};
  margin-top: ${e=>e.theme["spacing-s"]};
  &:hover {
    cursor: ${e=>e.isDisabled?"not-allowed":"pointer"};
    border-color: ${e=>!e.isDisabled&&e.theme["button-outline-hover-border-color"]};
  }
`,m=s.default.div`
  width: 320px;
  height: 32px;
  border-radius: ${e=>e.theme["border-radius-default"]};
  padding-left: ${e=>e.theme["spacing-m"]};
  display: flex;
  justify-content: space-between;
  align-items: 'center';
  background-color: ${e=>e.theme["background-color-secondary"]};
  & .aether-remove-uploaded-file-btn {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }
  color: ${e=>e.theme["content-color-primary"]};
`,h=s.default.div`
  display: flex;
  align-items: center;
  width: 258px;
`,g=o.forwardRef((function(e,t){const{label:n,infoText:s,helperText:i,actionLabel:a,id:g,name:f,className:b,isDisabled:y,multiple:v,onChange:I,accept:E,autoFocus:_,prevFileDetails:S,"data-testid":C,"data-click":T}=e,[j,A]=(0,o.useState)([]);let w=(0,o.useRef)(null);w=t||w;const O=(0,o.useRef)(null),N=e=>o.createElement(m,{className:"aether-file-list-wrapper","data-aether-id":"aether-fileUploader",key:e.name},o.createElement(h,null,o.createElement(r.default,{type:"body-medium",isTruncated:!0},e.name)),o.createElement(l.default,{className:"aether-remove-uploaded-file-btn",onClick:()=>{(e=>{const t=w.current&&w.current.files,n=new DataTransfer;for(let o=0;o<t.length;o+=1){const s=t[o];e!==s.name&&n.items.add(s)}A(j.filter((t=>e!==t.name))),w.current.files=n.files,I&&!y&&I(w.current.files)})(e.name)},type:"tertiary",icon:"icon-action-close-stroke"}));return o.createElement(c.default,{direction:"column"},o.createElement(d.default,{size:"medium",infoText:s},n),i&&o.createElement(r.default,{type:"body-small",color:"content-color-secondary",lineLengthType:"none"},i),o.createElement(u,{id:g,ref:w,onChange:e=>{const t=e.target,n=t&&t.files;0!==n.length?(A(Object.values(n).map((e=>({name:e.name})))),O.current=n,I&&!y&&I(n)):w.current.files=O.current},multiple:v,disabled:y,accept:E,name:f,className:b,"data-testid":C,"data-click":T,autoFocus:_}),o.createElement(p,{"data-aether-id":"aether-label",htmlFor:g,isDisabled:y},a),S&&!j.length&&o.createElement(c.default,{direction:"column",padding:{paddingTop:"spacing-l"},gap:"spacing-xs"},S.map(N)),j.length>0&&o.createElement(c.default,{direction:"column",padding:{paddingTop:"spacing-l"},gap:"spacing-xs"},j.map(N)))}));g.defaultProps={helperText:"",infoText:"",actionLabel:"Add Files",isDisabled:!1,multiple:!1,accept:"*",name:"",className:"",autoFocus:!1,"data-testid":"aether-file-uploader","data-click":""},g.propTypes={label:a().string.isRequired,infoText:a().string,onChange:a().func.isRequired,helperText:a().string,actionLabel:a().node,id:a().string.isRequired,name:a().string,className:a().string,isDisabled:a().bool,multiple:a().bool,accept:a().string,autoFocus:a().bool,prevFileDetails:a().array,"data-testid":a().string,"data-click":a().string},g.displayName="FileUploader",t.default=g},"./monitors/components/common/MonitorDependencyListItem.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./version-control/common/ForkLabel.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./node_modules/classnames/index.js"),l=n.n(r);const c=(0,a.observer)((({item:e,className:t,type:n,hideForkLabelTooltip:a=!0})=>{if(!e)return null;if(typeof e!=typeof{}||!e.name||!e.type)return pm.logger.error("MonitorDependencyListItem:Invalid Item Type",e),null;const{type:r,name:c,isForked:d,id:u,forkLabel:p}=e,m="create-monitor-collection-item",h={id:u,forkLabel:p,model:r},g={id:"environment"===r?e.baseEnvironmentUid:e.baseCollectionUid,model:r};return o.createElement("div",{className:l()({[t]:!!t,[m]:!0})},o.createElement("div",{className:`${m}__name`,title:c},"link"===n?o.createElement(i.default,{type:"link-subtle",className:`${m}__link`},c):c),d?o.createElement("div",{className:`${m}__qualifiers`},o.createElement(s.default,{hideForkLabelTooltip:a,className:`${m}__fork-label`,label:e.forkLabel,forkedEntity:h,baseEntity:g})):null)}));t.default=c},"./monitors/components/create-edit-form/MonitorForm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./onboarding/src/common/LaunchDarkly.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),y=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke-small.js"),v=n("./js/components/base/XPaths/XPath.js"),I=n("./js/utils/GetUniqueIdHelper.js"),E=n("./monitors/components/common/MonitorDependencyListItem.js"),_=n("./monitors/components/create-edit-form/MonitorScheduleSelector.js"),S=n("./js/components/base/Tooltips.js"),C=n("./js/components/base/Buttons.js"),T=n("./js/components/base/InfoButton.js"),j=n("./appsdk/components/link/Link.js"),A=n("./js/constants/AppUrlConstants.js"),w=n("./monitors/utils/messages/index.js"),O=n("./monitors/constants.js"),N=n("./monitors/components/create-edit-form/MonitorFormHelperFunctions.js"),D=n("./monitors/components/uptime/UptimeBanner.js"),R=n("./monitors/utils/messages/UptimeMessages.js"),P=n("./js/modules/services/AnalyticsService.js"),M=n("./monitors/components/common/FileUploader.js"),L=n("./node_modules/lodash/lodash.js");const x=i.default.div`
  width: ${e=>"tab"===e.type?"300px":"480px"};
  color: var(--content-color-secondary);
  font-size: 11px;
  line-height: var(--spacing-l);
  font-weight: 400;
`;const k=i.default.span`
  font-size: 11px;
`;let F=(0,a.observer)(o=class extends s.Component{constructor(e){super(e),this.RenderHelperText=(e,t,n)=>s.createElement(k,null,s.createElement(l.default,{type:"body-small"},e),s.createElement(l.default,{type:"link-subtle"},s.createElement(j.default,{to:n,target:"_blank"},t))),this.RenderCollection=e=>"create"===e?this.props.disableCollectionSelection?s.createElement(c.default,{isDisabled:!0,label:s.createElement(d.default,{text:w.MONITOR_FORM.collection}),className:"tab-disabled-input",value:this.props.getSelectedOptionName(this.props.ownCollections,this.props.selectedOptions.collectionId,w.MONITOR_FORM.collectionSelect,"id",!1)}):this.renderWithTooltip(this.props.isOffline,this.renderCollectionSelect()):s.createElement(c.default,{isDisabled:!0,label:s.createElement(d.default,{text:w.MONITOR_FORM.collection}),className:"tab-disabled-input",value:this.props.getSelectedOptionName(this.props.allWorkspaceCollections,this.props.selectedOptions.collectionId,"Select a collection","id",!1)}),this.ConfirmFormAction=e=>"create"===e?s.createElement(v.default,{identifier:"create"},s.createElement(C.Button,{type:"primary",className:"tab-button_cta--primary",onClick:this.props.createMonitor,disabled:this.props.invalidInput||this.props.isOffline||this.props.isSaving,tooltip:this.props.isOffline&&w.TOOLTIP_TEXT.isOffline},w.MONITOR_FORM.labels.button.create)):s.createElement(v.default,{identifier:"edit"},s.createElement(C.Button,{type:"primary",className:"tab-button_cta--primary",onClick:this.props.updateMonitor,disabled:this.props.invalidInput||this.props.isOffline,tooltip:this.props.isOffline&&w.TOOLTIP_TEXT.isOffline},w.MONITOR_FORM.labels.button.edit)),this.AdvancedSection=e=>s.createElement(u.default,{label:w.MONITOR_FORM.setDelay,isChecked:this.props.requestDelay.enabled,onChange:"create"===e?()=>this.props.onRequestDelayChange(!this.props.requestDelay.enabled):e=>this.props.onRequestDelayChange(e)}),this.RenderHeader=()=>"modal"===this.props.type?void 0:s.createElement(p.default,{type:"h1",text:this.props.isEditable?w.MONITOR_FORM.editMonitor:w.MONITOR_FORM.header,color:"content-color-primary",hasBottomSpacing:!0}),this.renderWithTooltip=(e,t,n=w.TOOLTIP_TEXT.isOffline)=>e?s.createElement(m.default,{placement:"bottom",content:n},s.createElement("div",null,t)):t,this.renderEnvironmentSelect=()=>{const{selectedOptions:{environmentId:e},ownEnvironments:t,collectionAndEnvironmentLoading:n,onSelectEnvironment:o,isOffline:i,isEditable:a}=this.props,r=L.find(t,[a?"uid":"id",e]);return s.createElement(h.default,{className:"create-new-monitor__body__field__dropdown",menuMaxHeight:w.MAX_DROPDOWN_SIZE,label:s.createElement(d.default,{text:w.MONITOR_FORM.environment}),isClearable:!0,isDisabled:i,placeholder:w.MONITOR_FORM.noEnvironment,isLoading:n,emptyStateMessage:w.MONITOR_FORM.warnings.noEnvironmentFound,options:L.map(t,(e=>({label:e.name,value:a?e.uid:e.id,environment:e}))),customOptionComponent:({environment:e})=>s.createElement("div",{className:"create-new-monitor__body__field__dropdown__collection-item-container"},s.createElement(E.default,{item:e})),value:e&&{label:r&&r.name?s.createElement(E.default,{item:r}):w.MONITOR_FORM.noEnvironment,value:e},onChange:e=>o(e&&e.value?e.value:null),helperText:this.RenderHelperText(w.MONITOR_FORM.environmentPlaceholder,w.MONITOR_FORM.learnMore,A.ENVIRONMENT_DOCS)})},this.renderCollectionSelect=()=>{const{selectedOptions:{collectionId:e},ownCollections:t,collectionAndEnvironmentLoading:n,onSelectCollection:o,isOffline:i}=this.props,a=L.find(t,["id",e]);return s.createElement(h.default,{label:s.createElement(d.default,{text:w.MONITOR_FORM.collection}),className:"create-new-monitor__body__field__dropdown",customOptionComponent:({collection:e})=>s.createElement("div",{className:"create-new-monitor__body__field__dropdown__collection-item-container"},s.createElement(E.default,{item:e})),menuMaxHeight:w.MAX_DROPDOWN_SIZE,isClearable:!1,isDisabled:i,isSearchable:!0,placeholder:w.MONITOR_FORM.collectionSelect,isLoading:n,emptyStateMessage:w.MONITOR_FORM.noCollections,options:L.map(this.props.ownCollections,(e=>({label:e.name,value:e.id,collection:e}))),value:a&&{label:s.createElement("div",{className:"create-new-monitor__body__field__dropdown__collection-item-container-selected"},s.createElement(E.default,{item:N.default.getSelectedOption(this.props.ownCollections,L.get(this.props,"selectedOptions.collectionId"))})),value:e},onChange:({collection:e})=>o(e)})},this.renderVersionSelect=()=>{const{onSelectVersion:e,getSelectedOptionName:t,ownVersions:n,selectedOptions:o}=this.props,i=t(n,L.get(o,"versionTag"),null,"id",!1),a=L.get(o,"versionTag");return s.createElement(h.default,{label:s.createElement(d.default,{text:w.MONITOR_FORM.collectionVersionTag}),className:"create-new-monitor__body__field__dropdown",isClearable:!1,onChange:({value:t})=>e(t),placeholder:w.MONITOR_FORM.selectVersionTag,options:L.map(this.props.ownVersions,(({id:e,name:t})=>({value:e,label:t}))),value:i?{label:i,value:a}:void 0,helperText:this.props.fetchVersionText(this.props.ownVersions.length)})},this.enterKeyHandler=(e,t)=>{"Enter"===t.key&&e()},this.validate=e=>{let t;const{invalidMonitorName:n,type:o,selectedOptions:s,isEditable:i,editFormLoading:a}=this.props;if("monitorName"===e)n&&s.nameValidationFailed?(t=!0,this.validationMessage=this.props.errors.name):("modal"===o&&n||L.isEmpty(s.name)&&i&&!a)&&(t=!0,this.validationMessage=w.MONITOR_FORM.noEmptyName);else t=!1;return t},this.isUptimeEnabled=e=>r.launchDarkly.getFlag(e,!1),this.state={uniqueName:I.default.generateUniqueId(),showRegionTooltip:!1,target:null}}componentDidMount(){P.default.addEventV2({category:O.MONITOR_ANALYTICS_CATEGORY,action:"view_create",label:this.props.type})}render(){const{isEditable:e,isOffline:t,selectedOptions:n,onMonitorNameChange:o,onMonitorScheduleChange:i,invalidInput:a}=this.props;return s.createElement("div",{className:N.default.getFormShellClass(this.props.type)},s.createElement("div",{className:"create-new-monitor__body__input-group create-new-monitor__body__input-group--name",id:"monitor-form-name-section"},s.createElement("div",{id:"monitor-form-header"},this.RenderHeader()),s.createElement("div",{className:"create-new-monitor__body__input"},s.createElement("div",{className:"create-new-monitor__body__field tab-form"},s.createElement(v.default,{identifier:"monitorName"},e||this.props.hideCollection?s.createElement(c.default,{label:s.createElement(d.default,{text:w.MONITOR_FORM.name}),onKeyDown:this.enterKeyHandler.bind(this,(()=>!a&&this.props.updateMonitor())),onChange:({target:{value:e}})=>{o(e)},value:n.name,validationStatus:this.validate("monitorName")&&"error",validationMessage:this.validationMessage,ref:"monitorName"}):s.createElement(c.default,{label:s.createElement(d.default,{text:w.MONITOR_FORM.name}),ref:"monitorName",value:n.name,validationStatus:this.validate("monitorName")&&"error",validationMessage:this.validationMessage,onChange:({target:{value:e}})=>o(e),onKeyDown:this.enterKeyHandler.bind(this,(()=>!a&&this.props.onCreateMonitor()))}))),"tab"===this.props.type&&!e&&this.isUptimeEnabled("monitor_2577_uptime_monitoring_beta")&&s.createElement("div",{className:"create-new-monitor__body__input__helptext monitor-form-help-text monitor-uptime-banner"},s.createElement(D.default,{text:R.BANNER_CARD_UPTIME.text,subText:R.BANNER_CARD_UPTIME.subText,badgeText:R.BANNER_CARD_UPTIME.badgeText,buttonText:R.BANNER_CARD_UPTIME.buttonText,isOffline:t,linkText:R.BANNER_CARD_UPTIME.linkText})))),!this.props.hideCollection&&s.createElement("div",{className:"create-new-monitor__body__input-group create-new-monitor__body__input-group--environment",id:"monitor-form-collection-section"},s.createElement("div",{className:"create-new-monitor__body__input"},s.createElement("div",{className:"create-new-monitor__body__field tab-form"},s.createElement(v.default,{identifier:"collection"},e?this.RenderCollection("edit"):this.RenderCollection("create"))))),"history_single"!==this.props.from&&"history_date_group"!==this.props.from&&(L.get(n,"collectionId")||L.get(n,"collectionUid"))&&s.createElement("div",{className:"create-new-monitor__body__input-group create-new-monitor__body__input-group--version-select",id:"monitor-form-version-section"},s.createElement("div",{className:"create-new-monitor__body__input"},s.createElement("div",{className:"create-new-monitor__body__field tab-form"},s.createElement(v.default,{identifier:"version"},this.renderWithTooltip(t,this.renderVersionSelect()))))),s.createElement("div",{className:"create-new-monitor__body__input-group create-new-monitor__body__input-group--environment",id:"monitor-form-environment-section"},s.createElement("div",{className:"create-new-monitor__body__input"},s.createElement("div",{className:"create-new-monitor__body__field tab-form"},s.createElement(v.default,{identifier:"environment"},this.renderWithTooltip(t,this.renderEnvironmentSelect()))))),s.createElement("div",{className:"create-new-monitor__body__input-group create-new-monitor__body__input-group--fileUpload"},s.createElement("div",{className:"create-new-monitor__body__input"},s.createElement("div",{className:"create-new-monitor__body__field tab-form monitor-file-upload"},s.createElement(M.default,{label:w.MONITOR_FORM.dataFile.selectLabel,infoText:w.MONITOR_FORM.dataFile.infoText,helperText:this.RenderHelperText(w.MONITOR_FORM.dataFile.helperText,w.MONITOR_FORM.learnMore,A.MONITORING_DATA_FILE_DOCS),id:"modal"===this.props.type?"monitor-form-file-uploader-in-modal":"monitor-form-file-uploader",accept:w.MONITOR_FORM.dataFile.acceptedFormats,onChange:this.props.handleFileUpload,actionLabel:this.props.existingDataFile?w.MONITOR_FORM.dataFile.updateLabel:w.MONITOR_FORM.dataFile.actionLabel,prevFileDetails:this.props.existingDataFile||this.props.selectedOptions.dataFile}),n.fileValidationFailed&&s.createElement("div",{className:"monitor-file-upload__error"},s.createElement(y.default,{className:"error-icon",color:"content-color-error"})," ",this.props.errors.dataFile&&this.props.errors.dataFile.message)))),s.createElement("div",{className:"create-new-monitor__body__input-group create-new-monitor__body__input-group--frequency",id:"monitor-form-scheduler-section"},s.createElement("div",{className:"create-new-monitor__body__label--schedule-selector"},s.createElement(d.default,{text:w.MONITOR_FORM.runMonitor,infoText:w.MONITOR_FORM.frequentRunsInfo}),s.createElement(x,{type:this.props.type},this.RenderHelperText(w.MONITOR_FORM.frequentRunsWarn,w.MONITOR_FORM.usageLimits,`${pm.appUrl}/dpxy/dashboard/usage`))),s.createElement("div",{className:"create-new-monitor__body__input"},s.createElement("div",{className:"create-new-monitor__body__field tab-form"},s.createElement(v.default,{identifier:"scheduler"},s.createElement(_.default,{interval:L.get(this.props.config,"interval","*"),intervalType:L.get(this.props.config,"intervalType","week-timer"),time:L.get(this.props.config,"time",String((new Date).getHours())),minuteTimerDisabled:!this.props.enableMinuteSelection,onChange:i,isOffline:t}))))),s.createElement("div",{className:"create-new-monitor__body__input-group create-new-monitor__body__input-group--regions",id:"monitor-form-advanced-section-with-regions"},s.createElement("div",{className:"create-new-monitor__body__input"},s.createElement("div",{className:"create-new-monitor__body__field tab-form modal-vertical"},s.createElement("div",{className:"create-new-monitor__body__select-group--regions"},s.createElement(v.default,{identifier:"auto"},s.createElement(g.default,{label:w.MONITOR_FORM.regions,name:this.state.uniqueName,direction:"column",value:this.props.selectedRegionMode,onChange:this.props.onRegionSelectorChange,helperText:this.RenderHelperText(w.MONITOR_FORM.regionSelect,w.MONITOR_FORM.learnMore,A.MONITORING_REGION_DOCS)},s.createElement(f.default,{label:w.MONITOR_FORM.regionAutoSelect,value:"auto"})))),s.createElement("div",{ref:"manualListing",onMouseOver:this.props.onShowTooltip,onMouseOut:this.props.onHideTooltip,className:"create-new-monitor__body__select-group--regions-manual"},s.createElement(v.default,{identifier:"manual"},s.createElement(g.default,{direction:"column",value:this.props.selectedRegionMode,onChange:this.props.onRegionSelectorChange},s.createElement(f.default,{label:w.MONITOR_FORM.regionManualSelect,value:"manual",isDisabled:!this.props.enableRegionSelection||L.isEmpty(this.props.regions)||this.props.isOffline})))))),!this.props.enableRegionSelection&&s.createElement(S.Tooltip,{show:this.props.showTooltip,target:this.refs.manualListing,placement:"right"},s.createElement(S.TooltipBody,null,w.MONITOR_FORM.upgrade)),s.createElement("div",{className:`create-new-monitor__body__input create-new-monitor__body__input--regions create-new-monitor__body__input-regions--${this.props.selectedRegionMode}`},s.createElement(v.default,{identifier:"regions"},s.createElement("div",{className:"create-new-monitor__body__field tab-form"},L.map(this.props.regions,(e=>s.createElement("div",{className:"create-new-monitor__body__input__checkbox tab-region-listing",key:e.id},s.createElement(u.default,{isDisabled:!e.enabled,onMouseEnter:()=>this.props.handleMouseOver(e),onMouseLeave:this.handleMouseOut,isChecked:L.includes(this.props.selectedOptions.regions,e.id),onChange:this.props.onRegionChange.bind(this,e.id),label:e.name}),s.createElement("div",null,e.ip?s.createElement("span",{onClick:e.enabled&&this.props.onRegionChange.bind(this,e.id)},": "+e.ip,s.createElement("span",{className:"create-new-monitor__body__input__checkbox-icon"},s.createElement(T.default,{tooltipPlacement:"right",tooltip:w.MONITOR_FORM.allowListIp}))):"")))),s.createElement(S.Tooltip,{show:this.state.showRegionTooltip,target:L.get(this.refs,this.state.target),placement:"right"},s.createElement(S.TooltipBody,null,w.MONITOR_FORM.upgradeStaticIp))))),s.createElement("div",{className:"create-new-monitor__body__show-more"},s.createElement("div",{className:"advanced-section"},s.createElement("div",{className:"advanced-section advanced-section--notifications"},s.createElement("div",{className:"advanced-section__checkbox"},s.createElement(u.default,{isChecked:this.props.notifications.enabled,onChange:()=>this.props.onNotificationChange(!this.props.notifications.enabled),label:w.MONITOR_FORM.email})),this.props.notifications.enabled&&s.createElement("div",{className:"advanced-section__field advanced-section__field--notifications"},L.map(L.size(this.props.notifications.recipients)<5?this.props.notifications.recipients.concat([""]):this.props.notifications.recipients,((e,t)=>{const n=L.get(this.props.errors,`recipients.${t}`);return s.createElement("div",{key:"recipient-text-box-div-"+t},!L.size(e)&&L.size(this.props.notifications.recipients)<5&&s.createElement("div",{className:"advanced-section__field__meta advanced-section__field--email-limit"},s.createElement(d.default,{type:"secondary",text:w.MONITOR_FORM.emailAdd,infoText:w.MONITOR_FORM.notification})),s.createElement(c.default,{className:"advanced-section__field__input",ref:"recipient-"+t,value:e,validationStatus:n&&"error",onChange:({target:{value:e}})=>this.props.onNotificationChange(!0,t,e)}),n&&s.createElement("div",{className:"create-new-monitor__body__input-error advanced-section__field__meta"},n.message))})),s.createElement("div",{className:"advanced-section__field__meta advanced-section__field--notification-limit"},s.createElement(b.default,{alignItems:"center"},s.createElement("span",null,w.MONITOR_FORM.stopNotification),s.createElement("div",{className:"monitor-notification-limit__input"},s.createElement(c.default,{validationStatus:!this.props.notificationLimit.isValid&&"error",value:this.props.notificationLimit.value,type:"number",min:0,max:this.props.maxNotificationLimit+1,onChange:({target:{value:e}})=>this.props.onNotificationLimitChange(e)})),s.createElement("span",null,w.MONITOR_FORM.consecutiveFailures)),!this.props.notificationLimit.isValid&&s.createElement("div",{className:"advanced-section__field-error"},w.MONITOR_FORM.consecutiveFailureInvalidRange," ",this.props.maxNotificationLimit+1)))),s.createElement("div",{className:"advanced-section advanced-section--retry"},s.createElement("div",{className:"advanced-section__checkbox"},s.createElement(u.default,{label:w.MONITOR_FORM.retryFail,isChecked:this.props.retry.enabled,onChange:()=>this.props.onRetryChange(!this.props.retry.enabled)}),s.createElement("span",{className:"advanced-section__checkbox__label advanced-section__checkbox-label-helper"},w.MONITOR_FORM.retryWarn)),this.props.retry.enabled&&s.createElement("div",{className:"advanced-section__select advanced-section__select--retry"},s.createElement("span",null,w.MONITOR_FORM.retry),this.renderWithTooltip(t,s.createElement(h.default,{className:"advanced-section__select__dropdown--retry",isClearable:!1,isSearchable:!1,isDisabled:t,onChange:({value:e})=>this.props.onRetryChange(!0,e),options:[...new Array(this.props.maxRetryAttempts)].map(((e,t)=>({value:t+1,label:t+1}))),value:{value:this.props.retry.attempts,label:this.props.retry.attempts}})),s.createElement("span",null,this.props.retry.attempts>1?"times":"time"),s.createElement(T.default,{tooltipPlacement:"right-top",tooltip:w.MONITOR_FORM.retryMonitorRun,disabled:this.props.isOffline}))),s.createElement("div",{className:"advanced-section advanced-section--timeout"},s.createElement("div",{className:"advanced-section__checkbox"},s.createElement(u.default,{label:w.MONITOR_FORM.setReqTimeout,isChecked:this.props.requestTimeout.enabled,onChange:this.props.onRequestTimeoutChange.bind(this,!this.props.requestTimeout.enabled,void 0)}),s.createElement(d.default,{type:"secondary",infoText:this.props.enablePremiumCluster?w.MONITOR_FORM.requestTimeoutInfo.paid:w.MONITOR_FORM.requestTimeoutInfo.free})),this.props.requestTimeout.enabled&&s.createElement("div",null,s.createElement("div",{className:"advanced-section__field advanced-section__field--timeout"},s.createElement("div",{className:"advanced-section__field__input"},this.renderWithTooltip(t,s.createElement(c.default,{type:"number",value:this.props.requestTimeout.timeout,validationStatus:(this.props.requestTimeout.timeout<1||this.props.requestTimeout.timeout>(this.props.enablePremiumCluster?w.MONITORING_CONSTANTS.requestTimeoutMaxValue.paid:w.MONITORING_CONSTANTS.requestTimeoutMaxValue.free))&&"error",isDisabled:this.props.isOffline,onChange:({target:{value:e}})=>this.props.onRequestTimeoutChange(!0,e)}))),s.createElement("span",null,"ms")),(this.props.requestTimeout.timeout<1||this.props.requestTimeout.timeout>(this.props.enablePremiumCluster?w.MONITORING_CONSTANTS.requestTimeoutMaxValue.paid:w.MONITORING_CONSTANTS.requestTimeoutMaxValue.free))&&s.createElement("div",{className:"advanced-section__field-error"},this.props.enablePremiumCluster?w.MONITOR_FORM.requestTimeoutValueRange.paid:w.MONITOR_FORM.requestTimeoutValueRange.free))),s.createElement("div",{className:"advanced-section advanced-section--delay"},s.createElement("div",{className:"advanced-section__checkbox"},e?this.AdvancedSection("edit"):this.AdvancedSection("create")),this.props.requestDelay.enabled&&s.createElement("div",null,s.createElement("div",{className:"advanced-section__field advanced-section__field--delay"},s.createElement("div",{className:"advanced-section__field__input"},this.renderWithTooltip(t,s.createElement(c.default,{type:"number",value:this.props.requestDelay.delay,isDisabled:this.props.isOffline,validationStatus:(this.props.requestDelay.delay<1||this.props.requestDelay.delay>(this.props.enablePremiumCluster?w.MONITORING_CONSTANTS.requestDelayMaxValue.paid:w.MONITORING_CONSTANTS.requestDelayMaxValue.free))&&"error",onChange:({target:{value:e}})=>this.props.onRequestDelayChange(!0,e)}))),s.createElement("span",null,"ms")),(this.props.requestDelay.delay<1||this.props.requestDelay.delay>(this.props.enablePremiumCluster?w.MONITORING_CONSTANTS.requestDelayMaxValue.paid:w.MONITORING_CONSTANTS.requestDelayMaxValue.free))&&s.createElement("div",{className:"advanced-section__field-error"},this.props.enablePremiumCluster?w.MONITOR_FORM.requestDelayValueRange.paid:w.MONITOR_FORM.requestDelayValueRange.free))),s.createElement("div",{className:"advanced-section advanced-section--redirects"},s.createElement("div",{className:"advanced-section__checkbox"},s.createElement(u.default,{label:w.MONITOR_FORM.redirects,isChecked:this.props.followRedirects,onChange:this.props.onFollowRedirectsChange.bind(this,this.props.followRedirects)}))),s.createElement("div",{className:"advanced-section advanced-section--ssl"},s.createElement("div",{className:"advanced-section__checkbox"},s.createElement(u.default,{label:w.MONITOR_FORM.sslValidation,isChecked:this.props.strictSSL,onChange:this.props.onStrictSSLChange.bind(this,this.props.strictSSL)})))))),this.props.showFormControls&&s.createElement("div",{className:"tab-footer"},s.createElement("div",{className:"tab-button_cta create-new-monitor__body"},s.createElement(C.Button,{type:"secondary",onClick:this.props.isEditable?this.props.cancelEditMonitor:this.props.cancelCreateMonitor,disabled:this.props.isOffline,tooltip:this.props.isOffline&&w.TOOLTIP_TEXT.isOffline},"Cancel"),e?this.ConfirmFormAction("edit"):this.ConfirmFormAction("create"))))}})||o},"./monitors/components/create-edit-form/MonitorFormComponent.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var o,s,i=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./node_modules/classnames/index.js"),l=n.n(r),c=n("./node_modules/moment-timezone/index.js"),d=n.n(c),u=n("../../node_modules/mobx/lib/mobx.module.js"),p=n("./node_modules/postman-collection/index.js"),m=n("./js/components/base/LoadingIndicator.js"),h=n("./js/components/new-button/CreationError.js"),g=n("./monitors/components/common/EmptyState.js"),f=n("./js/utils/util.js"),b=n("./js/utils/GetUniqueIdHelper.js"),y=n("./js/modules/controllers/UserController.js"),v=n("./collaboration/workspace/model/ActiveWorkspacePermissionStore.ts"),I=n("./js/stores/TeamStore.js"),E=n("./js/stores/SyncStatusStore.js"),_=n("./js/stores/StoreManager.js"),S=n("./js/stores/ActiveWorkspaceStore.js"),C=n("./js/models/Cron.js"),T=n("./js/modules/services/AnalyticsService.js"),j=n("./appsdk/workbench/TabService.js"),A=n("./monitors/services/UrlService.js"),w=n("./js/services/NavigationService.js"),O=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMonitor.js"),N=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),D=n("./runtime-repl/environment/_api/EnvironmentStoreV2.js"),R=n("./runtime-repl/collection/_api/CollectionInterfaceV2.ts"),P=n("./collaboration/workspace/interface/ActiveWorkspacePermissionInterface.ts"),M=n("./monitors/utils/messages/index.js"),L=n("./js/constants/MonitoringErrors.js"),x=n("./monitors/constants.js"),k=n("./monitors/components/create-edit-form/MonitorForm.js"),F=n("./monitors/components/create-edit-form/MonitorFormHelperFunctions.js"),V=n("./monitors/stores/domain/MasterMonitorStore.js"),B=n("./monitors/stores/domain/MonitorPermissionStore.js"),U=n("./node_modules/lodash/lodash.js");const z=/^[^@]+@[^.]+\..+$/,H=["history_single","history_multiple","history_date_group"];let G=(0,a.observer)(((s=class extends i.Component{constructor(e){super(e),this.loadWorkspaceCollectionsAndEnvironments=async()=>{let e,t;this.setState({collectionAndEnvironmentLoading:!0});try{[e,t]=await Promise.all([(0,N.subscribeMeta)(this.activeWorkspaceId,{permissions:this.constructor.collectionPermissions,parent:["workspace"]}),(0,D.subscribeMeta)(this.activeWorkspaceId,{parent:["workspace"]})])}catch(e){pm.logger.error("MonitorForm: Error loading collection and environments meta list",e),pm.toasts.error(M.LOADING_ERROR.collectionsAndEnvironments)}finally{this.setState({collections:e,environments:t,collectionAndEnvironmentLoading:!1})}},this.loadForm=e=>i.createElement("div",{className:l()({[`create-new-monitor-${e}__content`]:!0,[`step${this.props.activeStep}`]:!0})},this.renderForm()),this.loadOwnEnvironments=()=>{let e=this.state.environments.list,t=U.sortBy(e,(e=>e.name.toLowerCase())),n=U.concat({id:null,name:"No Environment"},t);this.setState({ownEnvironments:n})},this.handleCollectionFromContainer=()=>{switch(this.props.activeSourceFromContainer){case"new":this.setState({...this.state,selectedOptions:{...this.state.selectedOptions,collectionId:""}});break;case"workspace":const e=this.props.selectedOptions.collectionId,t=U.find(this.state.collections.list,{id:e}),n=U.get(this.props,"collectionFromContainer.name")||U.get(t,"name");this.setState({...this.state,selectedOptions:{...this.state.selectedOptions,name:U.isEmpty(n)?"":n,collectionId:e}})}y.default.get().then((e=>{this.setState({notifications:{enabled:!0,recipients:[e.email]}})})),this.setState({isLoadingRegions:!0}),this.loadRegions(),this.loadOwnEnvironments(),H.includes(this.props.from)||"workspace"!==this.props.activeSourceFromContainer||this.handleVersionFetchRetry(this.props.collectionId)},this.handleCollectionFromAPIContainer=()=>{switch(this.props.activeSourceFromContainer){case"generate-new":this.setState({...this.state,selectedOptions:{...this.state.selectedOptions}});break;case"use-existing":this.setState({...this.state,selectedOptions:{...this.state.selectedOptions,collectionName:"",collectionId:this.props.collectionFromContainer.collectionUid}}),this.handleVersionFetchRetry(this.props.collectionFromContainer.collectionUid)}y.default.get().then((e=>{this.setState({notifications:{enabled:!0,recipients:[e.email]}})})),this.setState({isLoadingRegions:!0}),this.loadRegions(),this.loadOwnEnvironments()},this.handleVersionFetchRetry=e=>{this.setState({isLoadingVersions:!0,errorFetchingVersions:!1},(()=>{F.default.loadOwnVersions({collectionUid:e||U.get(this.state,"selectedOptions.collectionId")}).then((e=>{this.setState({ownVersions:e,isLoadingVersions:!1,selectedOptions:{...this.state.selectedOptions,versionTag:U.get(e,"0.id")}})})).catch((e=>{this.setState({isLoadingVersions:!1,errorFetchingVersions:!0}),pm.logger.warn(M.VERSION_TAGS_ERROR.warn,e),pm.toasts.error(U.get(e,"message")||M.VERSION_TAGS_ERROR.error)}))}))},this.loadMonitorInfo=()=>{const e=this.props.store.data.collection,t=this.props.store.data.environment,n=this.props.store.data.files,o=this.props.store.data.versionTag;this.setState({editFormLoading:!0});let s=U.compact(this.props.store.data.notifications.map((e=>{if(e.userId){let t=(0,_.resolveStoreInstance)(I.default).allTeamMembers.reduce(((e,t)=>(e[t.id]=t,e)),{}),n=U.get(t,e.userId,{});if(n&&n.email)return n.email}if(e.address)return e.address}))),i=U.cloneDeep(this.props.store.data.options),a=[],r="auto";const l=U.get(this.props.store.data,"schedule.cronPattern",""),c=l?new C.default(l).toString():"0 0 * * * *";0!==this.props.store.data.distribution.length&&(a=this.props.store.data.distribution.map((e=>e)),r="manual"),(0,_.resolveStoreInstance)(E.default).onSyncAvailable().then((()=>{F.default.loadOwnVersions({collectionUid:this.props.store.data.collection}).then((l=>{this.setState((d=>({selectedRegionMode:r,notifications:{enabled:s.length>0,recipients:s},strictSSL:i.strictSSL,followRedirects:i.followRedirects,requestTimeout:{enabled:this.props.store.data.timeoutEnabled,timeout:isNaN(parseInt(i.requestTimeout))?0:parseInt(i.requestTimeout)},requestDelay:{enabled:this.props.store.data.delayEnabled,delay:isNaN(parseInt(i.requestDelay))?0:parseInt(i.requestDelay)},retry:{enabled:this.props.store.data.retriesEnabled,attempts:this.props.store.data.retry.attempts>0?this.props.store.data.retry.attempts:2},notificationLimit:{...d.notificationLimit,value:this.props.store.data.notificationLimit||this.state.notificationLimit.value},existingDataFile:n&&n.data,selectedOptions:{...d.selectedOptions,versionTag:o,collectionId:e,environmentId:t,name:this.props.store.data.name,regions:a,schedule:c},isLoadingVersions:!1,ownVersions:l,editFormLoading:!1})))})).catch((e=>{this.setState({isLoadingVersions:!1,errorFetchingVersions:!0}),pm.logger.warn(M.VERSION_TAGS_ERROR.warn,e),pm.toasts.error(U.get(e,"message")||M.VERSION_TAGS_ERROR.error)}))}))},this.handleRetry=async()=>{if(!(0,_.resolveStoreInstance)(E.default).isSocketConnected)return;let e=this.state.monitorStatus.error,t=this.state.collectionStatus.error,n=e||t;this.setState({collectionStatus:{error:t,loading:!0},monitorStatus:{error:e,loading:!0}});try{t&&await this.constructCollection(),t=!1,n&&await this.constructMonitor(),e=!1}catch(e){pm.logger.error("MonitorForm:Error creating monitor",e),this.setState({collectionStatus:{error:!0,loading:!1},monitorStatus:{error:!0,loading:!1}})}finally{this.setState({collectionStatus:{error:t,loading:!1},monitorStatus:{error:e,loading:!1}})}},this.handleCreate=async()=>{if(!(0,_.resolveStoreInstance)(E.default).isSocketConnected)return pm.toasts.error(M.MONITOR_ACTION_ERROR.create),void this.setState({isOffline:!0});if(!("modal"===this.props.monitorFormConfig.type&&(U.isEmpty(this.state.selectedOptions.name)&&this.setState({invalidMonitorName:!0}),this.validateFormFields())||U.isEmpty(this.state.selectedOptions.name)||U.isEmpty(this.state.selectedOptions.regions)||this.props.monitorFormConfig.preserveContext))if(this.props.monitorFormConfig.hideCollection){this.setState({loading:!0});try{U.isEmpty(this.state.selectedOptions.collectionId)&&await this.constructCollection(),await this.constructContainerMonitor()}catch(e){pm.logger.error("MonitorForm: Error creating monitor",e)}finally{this.setState({loading:!1})}}else U.isEmpty(this.state.selectedOptions.collectionId)&&pm.toasts.error(M.MONITOR_FORM.collectionSelect),await this.constructMonitor()},this.constructContainerMonitor=async()=>{let e=this.state.selectedOptions;this.setState({isSaving:!0});const t=this.state.notifications.enabled?U.map(this.state.notifications.recipients,(e=>({type:"email",address:e}))):[];let n={name:e.name.trim(),collection:e.collectionId,schedule:{cronPattern:e.schedule,timeZone:d().tz.guess()},options:{strictSSL:this.state.strictSSL,followRedirects:this.state.followRedirects,requestTimeout:this.state.requestTimeout.enabled?parseInt(this.state.requestTimeout.timeout):null,requestDelay:this.state.requestDelay.enabled?parseInt(this.state.requestDelay.delay):0},notifications:{onFailure:t,onError:t},retry:this.state.retry.enabled?{attempts:parseInt(this.state.retry.attempts)}:{}};"manual"===this.state.selectedRegionMode&&(n.distribution=U.map(e.regions,(e=>({region:e,runCount:1})))),n.versionTag=e.versionTag,(e.dataFile||null===e.dataFile)&&(n.files={data:e.dataFile}),this.state.notifications.enabled&&(n.notificationLimit=parseInt(this.state.notificationLimit.value)),U.isEmpty(e.environmentId)||(n.environment=e.environmentId),this.masterMonitorStore.saveMonitorConfiguration({data:n,workspaceId:(0,_.resolveStoreInstance)(S.default).id}).then((t=>{this.setState((e=>({isSaving:!1,monitorId:t&&t.id,monitorStatus:{...e.monitorStatus,loading:!1,error:!1},saveToActivity:!0})),(()=>{T.default.addEvent("monitor","confirm_create",this.state.from),t.action="monitorAdded",pm.eventBus.channel("monitor-updates").publish(t),A.default.gotoMonitorUrl({monitorId:this.state.monitorId,monitorName:e.name}),this.props.onClose&&this.props.onClose(),pm.toasts.success(M.MONITOR_ACTION_SUCCESS.create)}))})).catch((e=>(this.setState({loading:!1}),U.get(e,"name")===L.CREATION_CEILING_HIT_ERROR?pm.toasts.error(U.get(e,"message",M.MONITOR_ACTION_ERROR.ceilingError),{timeout:1e4}):U.get(e.error,"name")===L.VALIDATION_ERROR?this.handleValidationError(e.error.message):void this.setState((e=>({isSaving:!1,monitorStatus:{...e.monitorStatus,loading:!1,error:!0}}))))))},this.handleValidationError=e=>e.includes(255)||e.includes("name")?void this.setState({isSaving:!1,invalidMonitorName:!0,selectedOptions:{...this.state.selectedOptions,nameValidationFailed:!0},errors:{...this.state.errors,name:e}}):(this.setState({isSaving:!1,existingDataFile:void 0}),pm.toasts.error(e,{timeout:1e4})),this.handleCreationSelf=()=>{if(!(0,_.resolveStoreInstance)(E.default).isSocketConnected)return pm.toasts.error(M.MONITOR_ACTION_ERROR.create),void this.setState({isOffline:!0});"modal"===this.props.monitorFormConfig.type&&(U.isEmpty(this.state.selectedOptions.name)&&this.setState({invalidMonitorName:!0}),this.validateFormFields())||this.constructSelfCreationMonitor()},this.constructSelfCreationMonitor=()=>{let e=this.state.selectedOptions;this.setState({isSaving:!0});let t=this.state.selectedOptions.collectionId,n=this.state.notifications.enabled?U.map(this.state.notifications.recipients,(e=>({type:"email",address:e}))):[],o={monitorName:e.name.trim(),collectionUid:t,schedule:{cronPattern:e.schedule,timeZone:d().tz.guess()},options:{strictSSL:this.state.strictSSL,followRedirects:this.state.followRedirects,requestTimeout:this.state.requestTimeout.enabled?parseInt(this.state.requestTimeout.timeout):null,requestDelay:this.state.requestDelay.enabled?parseInt(this.state.requestDelay.delay):0},notifications:{onFailure:n,onError:n},retry:this.state.retry.enabled?{attempts:parseInt(this.state.retry.attempts)}:{}};"manual"===this.state.selectedRegionMode&&(o.distribution=U.map(e.regions,(e=>({region:e,runCount:1})))),o.versionTag=e.versionTag,(e.dataFile||null===e.dataFile)&&(o.files={data:e.dataFile}),this.state.notifications.enabled&&(o.notificationLimit=parseInt(this.state.notificationLimit.value)),U.isEmpty(e.environmentId)||(o.environment=e.environmentId),this.props.onCreateMonitor(o,e,this.state.notifications,this.state.selectedRegionMode,this.state.retry)},this.renderForm=()=>{let e=U.filter(this.state.collections&&this.state.collections.list,"isEditable"),t=this.state.collections&&this.state.collections.list,n=this.state.environments&&this.state.environments.list,o=U.sortBy(n,(e=>e.name.toLowerCase())),s=this.state.disableCollectionSelection&&!F.default.getSelectedOptionName(e,this.props.selectedOptions.collectionId,"","id"),a="tab"===this.props.monitorFormConfig.type,r=this.props.monitorFormConfig.isEditable,l=this.monitorPermissionStore.isUserLoggedIn(),c=(0,_.resolveStoreInstance)(v.default),d=c.permissions,u=c.workspaceLifecycle===P.ACTIVE_WORKSPACE_PERMISSIONS_LIFECYCLE.loading,p=d&&d.ADD_MONITOR_TO_WORKSPACE,h=a&&!r&&!p,f=a&&r&&l&&!this.monitorPermissionStore.can("edit",this.props.monitorId);if(r){if(!F.default.getSelectedOptionName(t,this.props.selectedOptions.collectionId,"","id",!1)||U.get(this.state,"isUpdating",!1))return i.createElement("div",{className:"edit-monitor-loader"},i.createElement(m.default,null))}else{if(this.props.monitorFormConfig.preserveContext&&(s||U.get(this.state,"isSaving",!1)||this.state.isLoadingVersions))return i.createElement("div",{className:"preserve-context-loader"},i.createElement(m.default,null));if(s||U.get(this.state,"isSaving",!1)||this.state.loading||a&&u)return i.createElement("div",{className:a?"edit-monitor-loader":"create-monitor-modal-loader"},i.createElement(m.default,null))}return h||f?i.createElement(g.default,{body:M.PERMISSION_TEXT.DEFAULT_DISABLED_MSG,className:"monitor-form__empty-state",illustration:i.createElement(O.default,null),title:r?M.EMPTY_STATE.editError:M.EMPTY_STATE.createError}):i.createElement(k.default,{ref:"content",onMonitorNameChange:this.handleMonitorNameChange,isOffline:this.masterMonitorStore.isOffline,disableCollectionSelection:this.state.disableCollection,selectedOptions:this.state.selectedOptions,existingDataFile:this.state.existingDataFile,onSelectCollection:this.handleSelectCollection,onSelectVersion:this.handleSelectVersion,ownVersions:this.state.ownVersions,onSelectEnvironment:this.handleSelectEnvironment,handleFileUpload:this.handleFileUpload,enableMinuteSelection:this.state.enableMinuteSelection,onMonitorScheduleChange:this.handleMonitorScheduleChange,selectedRegionMode:this.state.selectedRegionMode,onRegionSelectorChange:this.handleRegionSelectorChange,onShowTooltip:this.handleShowTooltip,onHideTooltip:this.handleHideTooltip,enableRegionSelection:this.state.enableRegionSelection,regions:this.state.availableRegions,showTooltip:this.state.showTooltip,onRegionChange:this.handleRegionChange,notifications:this.state.notifications,onNotificationChange:this.handleNotificationChange,errors:this.state.errors,notificationLimit:this.state.notificationLimit,onNotificationLimitChange:this.handleNotificationLimitChange,maxNotificationLimit:99,retry:this.state.retry,onRetryChange:this.handleRetryConfigChange,maxRetryAttempts:2,enablePremiumCluster:this.state.enablePremiumCluster,requestTimeout:this.state.requestTimeout,onRequestTimeoutChange:this.handleTimeoutChange,requestDelay:this.state.requestDelay,onRequestDelayChange:this.handleDelayChange,followRedirects:this.state.followRedirects,onFollowRedirectsChange:this.handleRedirectChange,strictSSL:this.state.strictSSL,onStrictSSLChange:this.handleStrictSSLChange,cancelCreateMonitor:this.handleCancelCreateMonitor,cancelEditMonitor:this.handleCancelEditMonitor,invalidInput:this.isInvalidInput(),isSaving:this.state.isSaving,ownEnvironments:o,fetchVersionText:F.default.fetchVersionText,getSelectedOptionName:this.props.monitorFormConfig.hideCollection?this.props.getSelectedOptionName:F.default.getSelectedOptionName,handleMouseOver:this.handleMouseOver,isEditable:r,onCreateMonitor:"modal"===this.props.monitorFormConfig.type?this.props.onCreateMonitor:this.handleCreate,createMonitor:this.handleCreate,collectionAndEnvironmentLoading:this.state.collectionAndEnvironmentLoading,ownCollections:e,allWorkspaceCollections:t,config:this.props.config,updateMonitor:this.handleUpdate,showFormControls:this.props.monitorFormConfig.showFormControls,hideCollection:this.props.monitorFormConfig.hideCollection,type:this.props.monitorFormConfig.type,from:this.props.from,invalidMonitorName:this.state.invalidMonitorName,editFormLoading:this.state.editFormLoading,onClose:this.props.onClose})},this.masterMonitorStore=new V.default,this.monitorPermissionStore=new B.default,this.handleMouseOver=this.handleMouseOver.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.loadRegions=this.loadRegions.bind(this),this.handleCollectionQueryParam=this.handleCollectionQueryParam.bind(this),this.enableFeatures=this.enableFeatures.bind(this),this.resetCollection=this.resetCollection.bind(this),this.handleSelectCollection=this.handleSelectCollection.bind(this),this.handleOfflineRetry=this.handleOfflineRetry.bind(this),this.constructMonitor=this.constructMonitor.bind(this),this.constructCollection=this.constructCollection.bind(this),this.isInvalidInput=this.isInvalidInput.bind(this),this.handleCancelEditMonitor=this.handleCancelEditMonitor.bind(this),this.handleCancelCreateMonitor=this.handleCancelCreateMonitor.bind(this),this.handleShowTooltip=this.handleToggleTooltip.bind(this,!0),this.handleHideTooltip=this.handleToggleTooltip.bind(this,!1),this.handleRegionChange=this.handleRegionChange.bind(this),this.handleNotificationChange=this.handleNotificationChange.bind(this),this.handleNotificationLimitChange=this.handleNotificationLimitChange.bind(this),this.handleRegionSelectorChange=this.handleRegionSelectorChange.bind(this),this.handleSelectEnvironment=this.handleSelectEnvironment.bind(this),this.handleFileUpload=this.handleFileUpload.bind(this),this.handleSelectVersion=this.handleSelectVersion.bind(this),this.handleMonitorNameChange=this.handleMonitorNameChange.bind(this),this.handleMonitorScheduleChange=this.handleMonitorScheduleChange.bind(this),this.handleRetryConfigChange=this.handleRetryConfigChange.bind(this),this.handleTimeoutChange=this.handleTimeoutChange.bind(this),this.handleDelayChange=this.handleDelayChange.bind(this),this.handleStrictSSLChange=this.handleStrictSSLChange.bind(this),this.handleRedirectChange=this.handleRedirectChange.bind(this),this.validateNotificationRecipients=this.validateNotificationRecipients.bind(this),this.handleUpdate=this.handleUpdate.bind(this),this.validateFormFields=this.validateFormFields.bind(this),this.state={monitorId:"",values:[],ownEnvironments:[],availableRegions:[],isOffline:!1,selectedRegionMode:"auto",existingDataFile:void 0,selectedOptions:{name:"",nameValidationFailed:!1,requests:[],tests:[{name:"Check Response code",code:"pm.response.to.have.status({{variable}});",enabled:!0,suggestions:F.default.getAllStatusList(),type:"number",placeholder:"Enter response code"},{name:"Check Response time",code:"pm.expect(pm.response.responseTime).to.be.below({{variable}});",enabled:!0,postfix:"ms",type:"number",placeholder:"Enter response time"}],collectionId:"",ownerId:"",environmentId:"",dataFile:void 0,fileValidationFailed:!1,versionTag:null,schedule:"0 0 0 * * *",regions:[]},from:"create_new_x",monitorStatus:{loading:!0,error:!1},collectionStatus:{loading:!0,error:!1},saveToActivity:!1,userStatus:{isSyncEnabled:!1,isLoggedIn:!1},notifications:{enabled:!1,recipients:[]},notificationLimit:{isValid:!0,value:3},followRedirects:!0,strictSSL:!0,requestTimeout:{enabled:!1,timeout:5e3},requestDelay:{enabled:!1,delay:1},retry:{enabled:!1,attempts:2},isLoadingRegions:!1,errorFetchingRegions:!1,isLoadingVersions:!1,errorFetchingVersions:!1,ownVersions:[],disableCollection:!1,enableMinuteSelection:!1,enableRegionSelection:!1,enablePremiumCluster:!1,isSaving:!1,errors:{},uniqueName:b.default.generateUniqueId(),showRegionTooltip:!1,target:null,isUpdating:!1,invalidMonitorName:!1,editFormLoading:!1,collections:[],environments:[]},this.activeWorkspaceId=(0,_.resolveStoreInstance)(S.default).id,this.isSocketConnected=(0,_.resolveStoreInstance)(E.default).isSocketConnected}async componentDidMount(){if("tab"===this.props.monitorFormConfig.type){this.props.collectionUid&&this.setState({disableCollection:!0}),y.default.get().then((e=>{let t=e.email;this.setState({notifications:{enabled:!0,recipients:[t]}})}))}"modal"===this.props.monitorFormConfig.type&&this.props.monitorFormConfig.hideCollection&&(0,u.when)((()=>this.state.collections&&this.state.collections.list),(()=>this.props.monitorFormConfig.preserveContext?this.handleCollectionFromAPIContainer():this.handleCollectionFromContainer())),!this.props.monitorFormConfig.isEditable&&this.loadRegions(),this.props.monitorFormConfig.isEditable&&((0,u.when)((()=>this.props.store.data.collection&&this.state.availableRegions.length),(()=>this.loadMonitorInfo())),this.loadRegions()),(0,u.when)((()=>pm.billing),(()=>this.enableFeatures())),this.handleCollectionQueryParam(),await this.loadWorkspaceCollectionsAndEnvironments()}componentWillUnmount(){U.invoke(this.state.collections,"unsubscribe"),U.invoke(this.state.environments,"unsubscribe"),this.collectionQueryParamReaction&&this.collectionQueryParamReaction()}handleMouseOver(e){e.enabled||this.setState({target:e.id,showRegionTooltip:!0})}handleMouseOut(){this.setState({target:null,showRegionTooltip:!1})}handleToggleTooltip(e){this.setState({showTooltip:e})}handleNotificationChange(e,t,n){if(U.isUndefined(t))return void this.setState({notifications:{enabled:e,recipients:this.state.notifications.recipients}});let o=[...U.slice(this.state.notifications.recipients,0,t),n,...U.slice(this.state.notifications.recipients,t+1)];o=U.compact(o),this.validateNotificationRecipients(o),this.setState({notifications:{enabled:e,recipients:o}})}handleNotificationLimitChange(e){this.setState({notificationLimit:{isValid:e>0&&e<=99,value:e}})}validateNotificationRecipients(e){const t={};e.forEach(((n,o)=>{let s=U.size(n)&&!z.test(n)?"invalid":e.indexOf(n)!==o&&"duplicate";t[o]=s&&{message:M.MONITOR_EMAIL_VALIDATION_ERROR[s],error:s}})),this.setState({errors:{...this.state.errors,recipients:t}})}isInvalidInput(){return this.state.requestTimeout.enabled&&(this.state.requestTimeout.timeout<1||this.state.requestTimeout.timeout>M.MONITORING_CONSTANTS.requestTimeoutMaxValue)||this.state.requestDelay.enabled&&(this.state.requestDelay.delay<1||this.state.requestDelay.delay>M.MONITORING_CONSTANTS.requestTimeoutMaxValue)||this.state.notifications.enabled&&U.some(this.state.errors.recipients)||U.isEmpty(this.state.selectedOptions.name)||U.isEmpty(this.state.selectedOptions.collectionId)||"manual"===this.state.selectedRegionMode&&U.isEmpty(this.state.selectedOptions.regions)||this.state.notifications.enabled&&!this.state.notificationLimit.isValid||this.state.selectedOptions.fileValidationFailed}validateFormFields(){return this.state.requestTimeout.enabled&&(this.state.requestTimeout.timeout<1||this.state.requestTimeout.timeout>M.MONITORING_CONSTANTS.requestTimeoutMaxValue)||this.state.requestDelay.enabled&&(this.state.requestDelay.delay<1||this.state.requestDelay.delay>M.MONITORING_CONSTANTS.requestTimeoutMaxValue)||this.state.notifications.enabled&&U.some(this.state.errors.recipients)||U.isEmpty(this.state.selectedOptions.name)||"manual"===this.state.selectedRegionMode&&U.isEmpty(this.state.selectedOptions.regions)||this.state.notifications.enabled&&!this.state.notificationLimit.isValid}handleMonitorNameChange(e){this.setState({invalidMonitorName:!1}),this.setState((t=>({selectedOptions:{...t.selectedOptions,name:e}})))}handleSelectVersion(e){this.setState((t=>({selectedOptions:{...t.selectedOptions,versionTag:e}})))}handleMonitorScheduleChange(e){this.setState((t=>({selectedOptions:{...t.selectedOptions,schedule:e}})))}handleRegionChange(e){let t=this.state.selectedOptions.regions;U.includes(t,e)?U.remove(t,(t=>t===e)):t.push(e),this.setState((e=>({selectedOptions:{...e.selectedOptions,regions:t}})))}handleRegionSelectorChange(e){this.setState({selectedRegionMode:e})}handleSelectEnvironment(e){this.setState((t=>({selectedOptions:{...t.selectedOptions,environmentId:e}})))}handleFileUpload(e){if(e&&e.length){const t=U.first(e),n=U.first(e).type?U.last(U.first(e).type.split("/")):U.last(U.first(e).name.split("."));if(!x.ACCEPTED_FILE_FORMATS.includes(n))return void this.setState({selectedOptions:{...this.state.selectedOptions,fileValidationFailed:!0},errors:{...this.state.errors,dataFile:{message:M.MONITOR_FORM.dataFile.incorrectFormat}}});if(t.size/1024/1024>1)return void this.setState({selectedOptions:{...this.state.selectedOptions,fileValidationFailed:!0},errors:{...this.state.errors,dataFile:{message:M.MONITOR_FORM.dataFile.incorrectSize}}});const o=new FileReader;o.readAsText(e[0],"UTF-8"),o.onload=e=>{this.setState((o=>({selectedOptions:{...o.selectedOptions,fileValidationFailed:!1,dataFile:[{name:U.get(t,"name",""),format:n,contents:e.target.result}]}})))}}else this.setState((e=>({selectedOptions:{...e.selectedOptions,fileValidationFailed:!1,dataFile:null},existingDataFile:void 0})))}handleRetryConfigChange(e,t=this.state.retry.attempts){this.setState({retry:{enabled:e,attempts:t}})}handleTimeoutChange(e,t=this.state.requestTimeout.timeout){!this.state.requestTimeout.enabled&&e&&t<1&&(t=5e3),t<0||this.setState({requestTimeout:{enabled:e,timeout:t}})}handleDelayChange(e,t=this.state.requestDelay.delay){!this.state.requestDelay.enabled&&e&&t<1&&(t=1),t<0||this.setState({requestDelay:{enabled:e,delay:t}})}handleStrictSSLChange(e){this.setState({strictSSL:!e})}handleRedirectChange(e){this.setState({followRedirects:!e})}loadRegions(){let e=[];return(0,_.resolveStoreInstance)(E.default).onSyncAvailable().then((()=>{this.masterMonitorStore.loadAgents().then((t=>{e.push(U.get(U.find(t,{default:!0}),"id")),this.setState({...this.state,availableRegions:t,selectedOptions:{...this.state.selectedOptions,regions:e},isLoadingRegions:!1})})).catch((e=>{this.setState({errorFetchingRegions:!0}),pm.logger.warn(M.REGION_FETCH_ERROR.warn,e),pm.toasts.error(U.get(e,"message")||M.REGION_FETCH_ERROR.error)}))}))}enableFeatures(){pm.billing.onPlanFeaturesLoad().then((()=>{this.setState({...this.state,enablePremiumCluster:U.get(pm.billing.plan.features,"monitor_premium_cluster_enabled.value",!1),enableMinuteSelection:U.get(pm.billing.plan.features,"monitor_resolution_enabled.value",!1),enableRegionSelection:U.get(pm.billing.plan.features,"monitor_region_selection_enabled.value",!1)})})).catch((()=>{pm.logger.warn(M.PLAN_FETCH_ERROR.warn),pm.toasts.error(M.PLAN_FETCH_ERROR.error)}))}handleSelectCollection(e){e.id?F.default.loadOwnVersions({collectionUid:e.id}).then((t=>{this.setState({selectedOptions:{...this.state.selectedOptions,collectionId:e.id,ownerId:e.owner,versionTag:U.get(t,"0.id")},isLoadingVersions:!1,ownVersions:t},(()=>{this.refs.content&&this.refs.content.onCollectionSelect&&this.refs.content.onCollectionSelect()}))})).catch((e=>{this.setState({isLoadingVersions:!1,errorFetchingVersions:!0}),pm.logger.warn(M.VERSION_TAGS_ERROR.warn,e),pm.toasts.error(U.get(e,"message")||M.VERSION_TAGS_ERROR.error)})):this.setState({isLoadingVersions:!1,selectedOptions:{...this.state.selectedOptions,collectionId:e.id,ownerId:e.owner}},(()=>{this.refs.content&&this.refs.content.onCollectionSelect&&this.refs.content.onCollectionSelect()}))}resetCollection(){this.setState({disableCollection:!1,selectedOptions:{...this.state.selectedOptions,collectionId:""}})}handleCollectionQueryParam(){this.collectionQueryParamReaction=(0,u.reaction)((()=>!this.props.monitorFormConfig.isEditable&&"tab"===this.props.monitorFormConfig.type&&this.state.collections&&this.state.collections.list&&""!==this.props.collectionUid&&this.state.selectedOptions.collectionId!==this.props.collectionUid),(()=>{const e=U.find(this.state.collections.list,{id:this.props.collectionUid});U.isEmpty(e)?this.resetCollection():(""===this.state.selectedOptions.name&&this.handleMonitorNameChange(e.name),this.handleSelectCollection(e))}))}async handleUpdate(){if(!(0,_.resolveStoreInstance)(E.default).isSocketConnected)return pm.toasts.error(M.MONITOR_ACTION_ERROR.update),void this.setState({isOffline:!0});if(this.state.requestTimeout.enabled&&0===parseInt(this.state.requestTimeout.timeout))return void pm.toasts.error(M.MONITOR_FORM.requestTimeout);if(this.state.requestDelay.enabled&&0===parseInt(this.state.requestDelay.delay))return void pm.toasts.error(M.MONITOR_FORM.requestDelay);this.setState({isUpdating:!0});let e=this.state.notifications.enabled?U.map(this.state.notifications.recipients,(e=>({type:"email",address:e}))):[],t=this.state.selectedOptions,n={name:t.name.trim(),environment:t.environmentId,versionTag:t.versionTag,options:{strictSSL:this.state.strictSSL,followRedirects:this.state.followRedirects,requestTimeout:this.state.requestTimeout.enabled?parseInt(this.state.requestTimeout.timeout):null,requestDelay:this.state.requestDelay.enabled?parseInt(this.state.requestDelay.delay):0},notifications:{onFailure:e,onError:e},retry:this.state.retry.enabled?{attempts:parseInt(this.state.retry.attempts)}:{},schedule:{cronPattern:t.schedule,timeZone:d().tz.guess()}};(t.dataFile||null===t.dataFile)&&(n.files={data:t.dataFile}),this.state.notifications.enabled&&(n.notificationLimit=parseInt(this.state.notificationLimit.value)),n.distribution="manual"===this.state.selectedRegionMode?U.map(t.regions,(e=>({region:e,runCount:1}))):null;const o=await this.props.store.updateMonitorConfiguration(this.props.monitorId,n);200===o.status?(w.default.transitionTo("build.monitor",{},{},{tabOptions:{openIn:this.props.getTabId}}),pm.toasts.success(M.MONITOR_ACTION_SUCCESS.updated)):(this.setState({isUpdating:!1}),o.error&&o.error.name===L.VALIDATION_ERROR&&this.handleValidationError(o.error.message))}handleOfflineRetry(){(0,_.resolveStoreInstance)(E.default).isSocketConnected&&this.handleCreate()}handleCancelCreateMonitor(){j.default.closeByRoute("monitor/create",{})}handleCancelEditMonitor(){w.default.transitionTo("build.monitor",{},{},{tabOptions:{openIn:this.props.getTabId}})}async constructMonitor(){let e=this.state.selectedOptions;this.setState({isSaving:!0});let t=this.state.notifications.enabled?U.map(this.state.notifications.recipients,(e=>({type:"email",address:e}))):[],n={name:e.name.trim(),collection:e.collectionId,schedule:{cronPattern:e.schedule,timeZone:d().tz.guess()},options:{strictSSL:this.state.strictSSL,followRedirects:this.state.followRedirects,requestTimeout:this.state.requestTimeout.enabled?parseInt(this.state.requestTimeout.timeout):null,requestDelay:this.state.requestDelay.enabled?parseInt(this.state.requestDelay.delay):0},notifications:{onFailure:t,onError:t},retry:this.state.retry.enabled?{attempts:parseInt(this.state.retry.attempts)}:{}};"manual"===this.state.selectedRegionMode&&(n.distribution=U.map(e.regions,(e=>({region:e,runCount:1})))),n.versionTag=e.versionTag,(e.dataFile||null===e.dataFile)&&(n.files={data:e.dataFile}),this.state.notifications.enabled&&(n.notificationLimit=parseInt(this.state.notificationLimit.value)),U.isEmpty(e.environmentId)||(n.environment=e.environmentId),this.masterMonitorStore.saveMonitorConfiguration({data:n,workspaceId:(0,_.resolveStoreInstance)(S.default).id}).then((t=>{this.setState((e=>({isSaving:!1,monitorId:t&&t.id,monitorStatus:{...e.monitorStatus,loading:!1,error:!1},saveToActivity:!0})),(()=>{T.default.addEvent("monitor","confirm_create",this.state.from),A.default.gotoMonitorUrl({monitorId:this.state.monitorId,monitorName:e.name},{tabOptions:{openIn:this.props.tabId}}),pm.toasts.success(M.MONITOR_ACTION_SUCCESS.create)}))})).catch((e=>U.get(e,"name")===L.CREATION_CEILING_HIT_ERROR?pm.toasts.error(U.get(e,"message",M.MONITOR_ACTION_ERROR.ceilingError),{timeout:1e4}):U.get(e.error,"name")===L.VALIDATION_ERROR?this.handleValidationError(e.error.message):void this.setState((e=>({isSaving:!1,monitorStatus:{...e.monitorStatus,loading:!1,error:!0}})))))}async constructCollection(){let e={name:this.state.selectedOptions.name},t=U.map(this.props.selectedOptions.requests,(t=>{let n=U.reduce(t.tests,((e,t,n)=>(this.props.selectedOptions.tests[n].enabled&&e.push("\t"+U.replace(this.props.selectedOptions.tests[n].code,"{{variable}}",parseInt(t))),e)),[]),o=U.join(["pm.test('Some test name', function () {",...n,"})"],"\n");return{id:f.default.guid(),url:t.url,method:t.method,data:t.body,dataMode:"raw",collection:e.id,name:t.url,description:t.description,time:(new Date).getTime(),events:new p.EventList({},[{listen:"test",script:o||""}]).toJSON()}})),n=U.map(t,"id");U.assign(e,{requests:t,order:n});try{const t=await(0,R.createCollection)(e,this.activeWorkspaceId,{analyticsOptions:{origin:(o=this.state.from,o.startsWith("history")?"history/monitor":"create_new_x"===o?"cnx":o)}});if(!U.isEmpty(U.get(t,"error")))return void pm.logger.error(M.MONITOR_ACTION_ERROR.creationError,t.error);this.setState((e=>({selectedOptions:{...e.selectedOptions,collectionId:t.uid,ownerId:t.owner},collectionStatus:{...e.collectionStatus,loading:!1,error:!1}})))}catch(e){pm.logger.error(M.MONITOR_ACTION_ERROR.pipelineError,e)}var o}render(){return this.props.monitorFormConfig.hideCollection?this.state.errorFetchingVersions?i.createElement("div",{className:"create-new-monitor__error"},i.createElement(h.default,{subtitle:"Please check your internet connection and try again.",onRetry:this.handleVersionFetchRetry})):this.loadForm(this.props.monitorFormConfig.type):this.props.monitorFormConfig.isEditable?this.state.errorFetchingVersions?i.createElement("div",{className:"create-new-monitor__error"},i.createElement(h.default,{subtitle:M.MONITOR_ACTION_ERROR.checkInternet,onRetry:this.handleVersionFetchRetry})):this.loadForm():this.state.collectionStatus.error||this.state.monitorStatus.error?i.createElement("div",{className:"create-new-monitor__error"},i.createElement(h.default,{subtitle:M.MONITOR_ACTION_ERROR.somethingWentWrong,onRetry:this.handleRetry})):this.state.errorFetchingVersions?i.createElement("div",{className:"create-new-monitor__error"},i.createElement(h.default,{subtitle:M.MONITOR_ACTION_ERROR.checkInternet,onRetry:this.handleVersionFetchRetry})):this.loadForm()}}).collectionPermissions=["edit"],s.defaultProps={isEditable:!1},o=s))||o},"./monitors/components/create-edit-form/MonitorFormHelperFunctions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{fetchVersionText:function(){return d},getAllStatusList:function(){return p},getFormShellClass:function(){return r},getSelectedOption:function(){return c},getSelectedOptionName:function(){return l},getSelectedOptionNameNoCollection:function(){return u},loadOwnVersions:function(){return m}});var o=n("./monitors/utils/messages/index.js"),s=n("./runtime-repl/request-http/httpstatuscodes.js"),i=n("./js/containers/new-button/services/VersionTagService.js"),a=n("./node_modules/lodash/lodash.js");function r(e){return"modal"===e?"create-new-monitor-modal__body step2":"create-new-monitor-form__body step2"}function l(e,t,n,o,s=!1){let i=a.find(e,[o,t]);if(!i)return n;let r=i.name;return s&&r.length>43&&(r=r.slice(0,40)+"..."),r}function c(e,t){return a.find(e,["id",t])||{}}function d(e){return 1==e?o.MONITOR_FORM.versionTagCurrentVersion:o.MONITOR_FORM.versionTagSelect}function u(e,t,n){let o=a.find(e,["id",t]);return o?o.name:n}function p(){return a.reduce(s.default,((e,t,n)=>(e.push({value:`${n} ${t.name}`}),e)),[])}function m(e){return(0,i.fetchAllTags)(e).then((e=>(a.set(a.find(e,{id:"latest"}),"id",null),e)))}const h={getSelectedOptionName:l,getSelectedOption:c,fetchVersionText:d,getFormShellClass:r,getSelectedOptionNameNoCollection:u,getAllStatusList:p,loadOwnVersions:m};t.default=h},"./monitors/components/create-edit-form/MonitorScheduleSelector.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o=n("../../node_modules/react/index.js"),s=n("./js/models/Cron.js"),i=n("./js/constants/MonitorScheduleConstants.js"),a=n("./monitors/utils/messages/index.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),u=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),p=n("./node_modules/lodash/lodash.js");function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(this,arguments)}const h=u.default.div`
  flex-grow: 1;
  min-width: fit-content;
`,g=(0,u.default)(r.default)`
  min-width: fit-content;
  justify-content: flex-start;
  width: inherit;
  align-items: center;
  gap: var(--spacing-xs);

  .aether-dropdown__control {
    width: inherit;
  }
`;function f({isInline:e,children:t}){return e?o.createElement(g,{direction:"row",width:"inherit"},t[0],2===t.length&&t[1]&&o.createElement(o.Fragment,null,o.createElement(l.default,null,a.SCHEDULE_SELECTOR.at),t[1])):t}class b extends o.Component{constructor(e){super(e),this.renderWithTooltip=(e,t,n)=>e?o.createElement(c.default,{placement:"auto",content:t},o.createElement("div",{className:"monitor-form-option-disabled-with-tooltip"},n)):n,this.state={time:"",timeType:"",timeOption:"",noChange:!0},this.getSelectedOptionName=this.getSelectedOptionName.bind(this),this.getSchedule=this.getSchedule.bind(this),this.handleTimeTypeChange=this.handleTimeTypeChange.bind(this),this.handleTimeOptionChange=this.handleTimeOptionChange.bind(this),this.handleTimeChange=this.handleTimeChange.bind(this)}static getDerivedStateFromProps(e,t){return t.timeType&&!0!==t.noChange?null:{timeType:e.intervalType,timeOption:e.interval,time:"week-timer"===e.intervalType?e.time:""}}getSelectedOptionName(e,t,n){let o=p.find(e,["id",t]);return o?o.name:n}getSchedule(){let e={schedule:this.state.timeType,minute:"*/5",hour:"*",weekday:"*",time:""+((new Date).getHours()+1)%24},t={};switch(this.state.timeType){case"minute-timer":t={minute:this.state.timeOption};break;case"hour-timer":t={hour:this.state.timeOption};break;case"week-timer":t={weekday:this.state.timeOption,time:this.state.time}}return p.merge(e,t)}handleTimeTypeChange(e){let t="",n="";"week-timer"===e?(t="0",n="*"):"minute-timer"===e?n="*/5":"hour-timer"===e&&(n="*"),this.setState({timeType:e,timeOption:n,time:t,noChange:!1},(()=>{this.props.onChange&&this.props.onChange((new s.default).fromForm(this.getSchedule()).toString())}))}handleTimeOptionChange(e){""==this.state.timeType&&this.setState({timeType:this.props.intervalType}),""==this.state.time&&"week-timer"==this.state.timeType&&this.setState({time:this.props.time}),this.setState({timeOption:e,noChange:!1},(()=>{this.props.onChange&&this.props.onChange((new s.default).fromForm(this.getSchedule()).toString())}))}handleTimeChange(e){""==this.state.timeOption&&this.setState({timeOption:this.props.interval}),""==this.state.timeType&&this.setState({timeType:this.props.intervalType}),this.setState({time:e,noChange:!1},(()=>{this.props.onChange&&this.props.onChange((new s.default).fromForm(this.getSchedule()).toString())}))}render(){let e=this.state.timeType||this.props.intervalType||"week-timer",t=this.state.timeOption||this.props.interval||"*",n=this.state.time||this.props.time||("week-timer"===e?String((new Date).getHours()):"");const s={isClearable:!1,isSearchable:!1,menuMaxHeight:a.MAX_DROPDOWN_SIZE,isOptionDisabled:({isDisabled:e})=>e,isDisabled:this.props.isOffline||this.props.isDisabled,className:"monitor-schedule-selector-dropdown"},r=p.find(i.TimeType,["id",e]),l=p.find(i.TimeOption[e],["id",t]),c=p.find(i.TimeList,["id",n]),{minuteTimerDisabled:u,isOffline:g}=this.props;return o.createElement("div",{className:"monitor-schedule-selector-tab tab-form"},this.renderWithTooltip(g,a.TOOLTIP_TEXT.isOffline,o.createElement(d.default,m({},s,{onChange:({value:e})=>{this.handleTimeTypeChange(e)},customOptionComponent:e=>this.renderWithTooltip(e.isDisabled,a.MONITOR_FORM.upgradeGeneric,e.label),value:{value:p.get(r,"id"),label:p.get(r,"name")},options:p.map(i.TimeType,(({id:e,name:t})=>({value:e,label:t,isDisabled:"minute-timer"===e&&u})))}))),o.createElement(f,{isInline:this.props.isInline},this.renderWithTooltip(g,a.TOOLTIP_TEXT.isOffline,o.createElement(h,null,o.createElement(d.default,m({},s,{onChange:({value:e})=>this.handleTimeOptionChange(e),value:{value:p.get(l,"id"),label:p.get(l,"name")},options:p.map(i.TimeOption[e],(({id:e,name:t})=>({value:e,label:t})))})))),!p.isEmpty(this.state.time)&&this.renderWithTooltip(g,a.TOOLTIP_TEXT.isOffline,o.createElement(h,null,o.createElement(d.default,m({},s,{onChange:({value:e})=>this.handleTimeChange(e),value:{value:p.get(c,"id"),label:p.get(c,"name")},options:p.map(i.TimeList,(({id:e,name:t})=>({value:e,label:t})))}))))))}}},"./monitors/components/uptime/Timeline/TimeSeriesPlot.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./monitors/utils/uptimeHelpers.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),c=n("./node_modules/moment/moment.js"),d=n.n(c),u=n("./node_modules/lodash/lodash.js");const p="down",m=a.default.div`
  width: 100%;
  position: relative;
  align-items: stretch;
  min-height: ${({height:e})=>e}px;
  height: ${({height:e})=>e}px;
  border-radius: var(--border-radius-s);
  overflow: hidden;
`,h=a.css`
  position: absolute;
  width: ${({span:e})=>100*e}%;
  left: ${({leftPadding:e})=>100*e}%;
`,g=a.css`
  ${h};
  cursor: pointer;
  height: inherit;
  -webkit-transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
  transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);

  :hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  }
`,f=a.css`
  ${h};
  height: inherit;
`,b=a.default.div`
  ${f};
  min-width:1px;
  background-color: #A4EEC4;
`,y=a.default.div`
  --block-fill-color: #EB2013;
  /*
  // Disable the click action till we have interactive states for error in the timeline
  ${g};
  :hover {
    // We are using transform: translate instead of scale because scale can grow large blocks outside viewport
    // Ideally we should have used transform: scale(1.125, 1.125); for better animation and visuals
    border-top: 2px solid var(--block-fill-color);
    border-bottom: 2px solid var(--block-fill-color);
  }
  */
  ${f};
  background-color: var(--block-fill-color);
  min-width:1px;
`,v=a.default.div`
  ${f};
  background-color: #A6A6A6;
`;function I(e,t){return u.get(e,"nodes.length")===u.get(t,"nodes.length")&&e.height===t.height&&e.viewStart===t.viewStart&&e.viewEnd===t.viewEnd}const E=(0,o.memo)((function({nodes:e,height:t,viewStart:n,viewEnd:s,getNodeSpanStartTimeStamp:i,getNodeSpanEndTimeStamp:a,getNodeState:c,showTooltip:u}){const h=s-n;let g=[],f=n;for(const t of e){const e=i(t),o=a(t);o&&e?e>=o||o>s||e<n?pm.logger.error("UptimeMonitor~TimeSeriesPlot: Encountered invalid data for state. Reference state API object: ",t):f>e?pm.logger.error("UptimeMonitor~TimeSeriesPlot: Encountered invalid data trying to render node before current pointer. ",t):(g.push({state:c(t),start:e,end:o}),f=o):pm.logger.error("UptimeMonitor~TimeSeriesPlot: Encountered NaN for state - endedAt or startedAt while rendering timeline. Reference state API object: ",t)}function I(e,t,n,s,i){let a,c;const m=(t-e)/i,h=(e-s)/i;switch(n){case"up":[c,a]=["Uptime",b];break;case p:[c,a]=["Downtime",y];break;default:[c,a]=["Unknown",v]}if(u){const n=o.useRef(),s=r.default.getDateAndTimeDifference(e,t,!0);return o.createElement(o.Fragment,{key:`frag-${e}`},o.createElement(a,{key:`state-block-${e}`,span:m,leftPadding:h,ref:n}),o.createElement(l.default,{pointer:!0,key:`popover-${e}`,triggerEvent:"mouseenter click",placement:"bottom",padding:"spacing-l",triggerRef:n},o.createElement("div",{className:"linked-monitors-tooltip-wrapper"},o.createElement("div",{className:"linked-monitors-tooltip-metrics-wrapper"},o.createElement("div",{className:"linked-monitors-tooltip-metrics-row uptime-monitors-tooltip-row"},o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-name"},c),o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-separator"}),o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-value"},s)),o.createElement("div",{className:"linked-monitors-tooltip-metrics-row uptime-monitors-tooltip-row"},o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-name"},"Start time"),o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-separator"}),o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-value"},d()(e).format("h:mm A, DD MMM YYYY"))),o.createElement("div",{className:"linked-monitors-tooltip-metrics-row uptime-monitors-tooltip-row"},o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-name"},"End time"),o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-separator"}),o.createElement("div",{className:"linked-monitors-tooltip-metrics-row-value"},d()(t).format("h:mm A, DD MMM YYYY")))))))}return o.createElement(o.Fragment,{key:`frag-${e}`},o.createElement(a,{key:`state-block-${e}`,span:m,leftPadding:h}))}return f<s&&g.push({state:c(),start:f,end:s}),o.createElement(m,{height:t},o.createElement(l.default,{pointer:!0,triggerEvent:"mouseenter click",placement:"bottom",padding:"spacing-l",trigger:o.createElement(v,{key:n,span:1,leftPadding:0})},o.createElement("div",{className:"linked-monitors-tooltip-wrapper"},o.createElement("div",null,"Unknown - The monitor is non-existent, paused or ",o.createElement("br",null),"our monitoring service had an exception."))),g.filter((e=>"up"===e.state)).map((({start:e,end:t,state:o})=>I(e,t,o,n,h))),g.filter((e=>e.state===p)).map((({start:e,end:t,state:o})=>I(e,t,p,n,h))))}),I);E.propTypes={nodes:i().array.isRequired,height:i().number.isRequired,viewStart:i().number.isRequired,viewEnd:i().number.isRequired,getNodeSpanStartTimeStamp:i().func.isRequired,getNodeSpanEndTimeStamp:i().func.isRequired,getNodeState:i().func.isRequired,showTooltip:i().bool},t.default=E},"./monitors/components/uptime/UptimeBanner.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoMonitor.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("./js/modules/services/AnalyticsService.js"),u=n("./appsdk/components/link/Link.js"),p=n("../../packages/monitoring/monitoring-actions/index.js"),m=n("./monitors/utils/messages/index.js"),h=n("./monitors/constants.js");const g=s.default.div`
  display: flex;
  box-sizing: border-box;
  padding: 16px;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 326px;
  height: 298px;
  border: 1px solid var(--background-color-tertiary);
  border-radius: 3px;
`,f=s.default.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 294px;
  pointer-events: auto;
`,b=s.default.div`
  display: flex;
  width: 300px;
  flex-direction: row;
  justify-content: flex-end;
  align-items: center;
`,y=s.default.div`
  height: ${({height:e})=>e}
`;function v({text:e,subText:t,badgeText:n,buttonText:s,isOffline:v,linkText:I}){return(0,o.useEffect)((()=>{d.default.addEventV2({category:h.MONITOR_ANALYTICS_CATEGORY,action:"discover_create",label:"uptime_beta_onramp"})}),[]),o.createElement(g,null,o.createElement(b,null,o.createElement(i.default,{status:"info",text:n})),o.createElement(a.default,null),o.createElement(y,{height:"32px"}),o.createElement(r.default,{type:"h4",text:e,hasBottomSpacing:!0}),o.createElement(f,null,o.createElement(l.default,{type:"body-medium",color:"content-color-secondary"},t),o.createElement(y,{height:"16px"}),o.createElement(c.default,{type:"secondary",onClick:()=>{p.default.openMonitorForm({type:h.UPTIME_MONITOR_TYPE,source:"UptimeBetaOnramp",previewMode:!1})},text:s,isDisabled:v,tooltip:v&&m.TOOLTIP_TEXT.isOffline}),o.createElement(y,{height:"12px"}),o.createElement(u.default,{to:h.UPTIME_MONITOR_DOCUMENTATION_LEARN_MORE,target:"_blank"},o.createElement(c.default,{type:"plain",text:I}))))}},"./monitors/stores/domain/MonitorAgentsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o,s,i,a,r=n("../../node_modules/mobx/lib/mobx.module.js"),l=n("./monitors/stores/domain/MasterMonitorStore.js"),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/SyncStatusStore.js"),u=n("./node_modules/lodash/lodash.js");function p(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function m(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let h=(s=m((o=class{constructor(e){p(this,"loading",s,this),p(this,"loaded",i,this),p(this,"error",a,this),this.monitorStore=e,this.masterMonitorStore=new l.default,this.hydrate()}get values(){return this.masterMonitorStore.getAgents().map((e=>({label:u.get(e,"name"),value:u.get(e,"id"),enabled:u.get(e,"enabled"),ip:u.get(e,"ip"),default:u.get(e,"default")})))}async getAgents(){this.update({loading:!0,loaded:!1});try{await this.masterMonitorStore.loadAgents(),this.update({loading:!1,loaded:!0})}catch(e){this.update({loading:!1,loaded:!1,error:e})}}getAgentById(e){return this.values.find((t=>t.value===e))}hydrate(){return(0,c.resolveStoreInstance)(d.default).onSyncAvailable().then((()=>this.getAgents()))}update(e){u.has(e,"loading")&&(this.loading=e.loading),u.has(e,"loaded")&&(this.loaded=e.loaded),u.has(e,"error")&&(this.error=e.error)}}).prototype,"loading",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=m(o.prototype,"loaded",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=m(o.prototype,"error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m(o.prototype,"values",[r.computed],Object.getOwnPropertyDescriptor(o.prototype,"values"),o.prototype),m(o.prototype,"getAgents",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"getAgents"),o.prototype),m(o.prototype,"hydrate",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"hydrate"),o.prototype),m(o.prototype,"update",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),o)},"./monitors/stores/domain/MonitorConfigurationStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o,s,i,a,r=n("../../node_modules/mobx/lib/mobx.module.js"),l=n("./js/models/Cron.js"),c=n("./monitors/stores/domain/MasterMonitorStore.js"),d=n("./monitors/constants.js"),u=n("./node_modules/lodash/lodash.js");function p(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function m(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let h=(s=m((o=class{constructor(e){p(this,"loading",s,this),p(this,"updating",i,this),p(this,"error",a,this),this.nonDerivedProperties=["id","name","active","schedule","notificationLimit","createdBy","createdAt","team","collection","options","files"],this.uptimeProperties=["status","targetURL","location"],this.monitorStore=e,this.masterMonitorStore=new c.default}get isOffline(){return this.masterMonitorStore.isOffline}get type(){return this.masterMonitorStore.getJobTemplateType(this.monitorStore.monitorId)||""}get monitorType(){return this.masterMonitorStore.fetchMonitorType(this.monitorStore.monitorId)}get data(){const e=this.masterMonitorStore.getJobTemplateConfiguration(this.monitorStore.monitorId);if(!e)return{};const t={type:e.type||this.type};return e.type===d.UPTIME_MONITOR_TYPE?Object.assign(t,u.pick(e,this.uptimeProperties)):Object.assign(t,{distribution:(e.distribution||[]).map((e=>e.region)),notifications:u.get(e,"notifications.onFailure",[]),versionTag:u.get(e,"versionTag",null),isHealthy:e._healthy,environment:e.environment?e.environment:null,retry:e.retry||{},retriesEnabled:u.get(e,"retry.attempts")>0,timeoutEnabled:Boolean(u.get(e,"options.requestTimeout")),delayEnabled:Boolean(u.get(e,"options.requestDelay"))}),Object.assign(t,u.pick(e,this.nonDerivedProperties)),e.type!==d.UPTIME_MONITOR_TYPE&&this.setIntervalProperties(t,e),t}get metadata(){return this.masterMonitorStore.getJobTemplateMetadata(this.monitorStore.monitorId)||{}}get isMonitorDeleted(){return!1===this.loading&&!this.updating&&!this.error&&!this.masterMonitorStore._configuration.has(this.monitorStore.monitorId)}setIntervalProperties(e,t){const n=u.get(t,"schedule.cronPattern","");if(u.isEmpty(n))e.intervalType="hour-timer",e.interval="*";else{const t=new l.default(n),o=t.hour,s=t.minute,i=t.weekday;"*"!==o[0]?(e.intervalType="week-timer",e.interval=i,e.time=o):"0"===s&&"*"===o[0]?(e.intervalType="hour-timer",e.interval=o):(e.intervalType="minute-timer",e.interval=s)}}updateMeta(e){u.has(e,"loading")&&(this.loading=e.loading),u.has(e,"updating")&&(this.updating=e.updating),u.has(e,"error")&&(this.error=e.error)}async getMonitorConfiguration(e,t=!0,n=[]){t&&this.updateMeta({loading:!0}),this.updateMeta({error:null});try{await this.masterMonitorStore.loadMonitorConfiguration(e,n),this.updateMeta({loading:!1})}catch(e){this.updateMeta({loading:!1,error:e})}}async updateMonitorConfiguration(e,t){this.updateMeta({updating:!0});const n=await this.masterMonitorStore.updateMonitorConfiguration({monitorId:e,body:t});return this.updateMeta({updating:!1}),n}}).prototype,"loading",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=m(o.prototype,"updating",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=m(o.prototype,"error",[r.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m(o.prototype,"isOffline",[r.computed],Object.getOwnPropertyDescriptor(o.prototype,"isOffline"),o.prototype),m(o.prototype,"type",[r.computed],Object.getOwnPropertyDescriptor(o.prototype,"type"),o.prototype),m(o.prototype,"data",[r.computed],Object.getOwnPropertyDescriptor(o.prototype,"data"),o.prototype),m(o.prototype,"metadata",[r.computed],Object.getOwnPropertyDescriptor(o.prototype,"metadata"),o.prototype),m(o.prototype,"isMonitorDeleted",[r.computed],Object.getOwnPropertyDescriptor(o.prototype,"isMonitorDeleted"),o.prototype),m(o.prototype,"updateMeta",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"updateMeta"),o.prototype),m(o.prototype,"getMonitorConfiguration",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"getMonitorConfiguration"),o.prototype),m(o.prototype,"updateMonitorConfiguration",[r.action],Object.getOwnPropertyDescriptor(o.prototype,"updateMonitorConfiguration"),o.prototype),o)},"./monitors/stores/domain/MonitorJobsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var o,s,i,a,r,l,c,d,u,p,m=n("../../node_modules/mobx/lib/mobx.module.js"),h=n("./monitors/stores/domain/MasterMonitorStore.js"),g=n("./monitors/utils/selectors.js"),f=n("./js/stores/StoreManager.js"),b=n("./js/stores/SyncStatusStore.js"),y=n("./monitors/constants.js"),v=n("./node_modules/lodash/lodash.js");function I(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function E(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let _=(o=m.action.bound,s=m.action.bound,a=E((i=class{constructor(e){I(this,"loading",a,this),I(this,"creating",r,this),I(this,"loaded",l,this),I(this,"error",c,this),I(this,"nextPage",d,this),I(this,"prevPage",u,this),I(this,"selectedJobId",p,this),this.masterMonitorStore=new h.default,this.monitorStore=e,this.monitorId=e.monitorId,this.hydrate(),this.offlineObserver=(0,m.reaction)((()=>(0,f.resolveStoreInstance)(b.default).isSocketConnected),(e=>{if(e&&(!1!==this.loaded||void 0!==this.loading)){const e=(0,g.getJobFiltersObject)(this.monitorStore.url.query,y.MONITOR_ENTITY);this.getJobs({monitorId:this.monitorId,clearPrevious:!0,...e})}}))}get selectedJob(){return this.selectedJobId&&this.find(this.selectedJobId)}get regionRunMap(){return this.selectedJob&&(0,g.getRegionRunMap)(this.selectedJob.runs)}get values(){return Object.values(this.masterMonitorStore.getJobsForMonitor(this.monitorId)).map(this.transformJob)}findRaw(e){return this.masterMonitorStore.getJobsForMonitor(this.monitorId)[e]}find(e){return this.transformJob(this.findRaw(e))}has(e){return Boolean(this.findRaw(e))}update(e){v.has(e,"loading")&&(this.loading=e.loading),v.has(e,"loaded")&&(this.loaded=e.loaded),v.has(e,"creating")&&(this.creating=e.creating),v.has(e,"error")&&(this.error=e.error),v.has(e,"nextPage")&&(this.nextPage=e.nextPage),v.has(e,"prevPage")&&(this.prevPage=e.prevPage)}async getJob(e){this.update({loading:!0,loaded:!1,error:null});try{await this.masterMonitorStore.loadJob(e),this.update({loading:!1,loaded:!0})}catch(e){this.update({loading:!1,error:e})}}get regions(){let e=[];return this.selectedJob&&this.selectedJob.runs&&this.selectedJob.runs.forEach((t=>{let n=!1;this.monitorStore.agents.values.forEach((o=>{t.region!==o.value&&t.agent!==o.value||(e.push({value:o.value,label:o.label}),n=!0)})),n||e.push({value:t.agent,label:""})})),e=v.uniqBy(e,"value"),e}get selectedRegion(){const e=this.monitorStore.runs.selectedRun;if(e){const t=e.region||e.agent;return v.find(this.regions,(e=>e.value===t))}return v.first(this.regions)}async getJobs({monitorId:e,goto:t,page:n,clearPrevious:o=!1,pageType:s,...i}){this.update({loading:!0,loaded:!1,error:null});try{const a=(0,g.getJobFiltersObject)(i,y.MONITOR_ENTITY),r=await this.masterMonitorStore.loadJobs({monitorId:e,goto:t,page:n,jobFilters:a,clearPrevious:o}),l=v.get(r,"body.meta",{}),c=(0,g.getJobTimeframe)(v.get(r,"body.data",{}));if(c&&this.monitorStore.metrics.values.length&&this.monitorStore.metrics.getMetrics(e,c),"prev"!==s&&this.update({nextPage:l.nextUrl?parseInt(l.nextUrl.split("page=")[1],10):null}),"next"!==s&&this.update({prevPage:l.prevUrl?parseInt(l.prevUrl.split("page=")[1],10):null}),this.update({loading:!1,loaded:!0}),t){const e=this.getGotoClosestJobId({goto:t,response:r});e&&(this.monitorStore.url.setQuery({job:e,goto:t,...a}),this.setSelectedJobId(e))}}catch(e){this.update({loading:!1,error:e})}}hydrate(){return(0,f.resolveStoreInstance)(b.default).onSyncAvailable().then((()=>this.getJobs({monitorId:this.monitorId})))}async createJob(e,t){this.update({creating:!0});try{const n=await this.masterMonitorStore.createJob(e),o=v.get(n,"body.data",{});t||(this.monitorStore.url.setQuery({...this.monitorStore.url.query,job:o.id}),this.setSelectedJobId(o.id)),this.update({creating:!1})}catch(e){this.update({creating:!1})}}transformJob(e){if(!e)return;const t=v.get(e,"results",{});return{id:e.id,name:e.name,jobTemplate:e.jobTemplate,options:e.options,trigger:e.trigger,createdAt:e.createdAt,startedAt:e.startedAt&&new Date(e.startedAt),finishedAt:e.finishedAt&&new Date(e.finishedAt),state:e.status&&e.status.state,results:t,failedTests:t.failedTestCount,passedTests:t.passedTestCount,responseTime:t.responseLatency,errors:t.errorCount,aborted:Boolean(t.abortedCount),runs:(e.runs||[]).map((e=>(e.agent&&!e.region&&(e.region=e.agent),e)))}}getGotoClosestJobId({goto:e,response:t}){let n,o=new Date(e),s=Number.MAX_SAFE_INTEGER;return v.get(t,"body.data",[]).forEach((e=>{const t=new Date(e.finishedAt),i=t-o;t>=o&&i<s&&(s=i,n=e.id)})),n}setSelectedJobId(e){this.selectedJobId=e,this.monitorStore.runs.setSelectedRunId(this.regionRunMap[v.get(this.selectedRegion,"value","")])}}).prototype,"loading",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=E(i.prototype,"creating",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=E(i.prototype,"loaded",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=E(i.prototype,"error",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=E(i.prototype,"nextPage",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=E(i.prototype,"prevPage",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=E(i.prototype,"selectedJobId",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E(i.prototype,"selectedJob",[m.computed],Object.getOwnPropertyDescriptor(i.prototype,"selectedJob"),i.prototype),E(i.prototype,"regionRunMap",[m.computed],Object.getOwnPropertyDescriptor(i.prototype,"regionRunMap"),i.prototype),E(i.prototype,"values",[m.computed],Object.getOwnPropertyDescriptor(i.prototype,"values"),i.prototype),E(i.prototype,"update",[m.action],Object.getOwnPropertyDescriptor(i.prototype,"update"),i.prototype),E(i.prototype,"getJob",[m.action],Object.getOwnPropertyDescriptor(i.prototype,"getJob"),i.prototype),E(i.prototype,"regions",[m.computed],Object.getOwnPropertyDescriptor(i.prototype,"regions"),i.prototype),E(i.prototype,"selectedRegion",[m.computed],Object.getOwnPropertyDescriptor(i.prototype,"selectedRegion"),i.prototype),E(i.prototype,"getJobs",[o],Object.getOwnPropertyDescriptor(i.prototype,"getJobs"),i.prototype),E(i.prototype,"hydrate",[m.action],Object.getOwnPropertyDescriptor(i.prototype,"hydrate"),i.prototype),E(i.prototype,"createJob",[m.action],Object.getOwnPropertyDescriptor(i.prototype,"createJob"),i.prototype),E(i.prototype,"setSelectedJobId",[s],Object.getOwnPropertyDescriptor(i.prototype,"setSelectedJobId"),i.prototype),i)},"./monitors/stores/domain/MonitorMetricsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o,s,i,a,r,l=n("../../node_modules/mobx/lib/mobx.module.js"),c=n("./monitors/stores/domain/MasterMonitorStore.js"),d=n("./monitors/constants.js"),u=n("./node_modules/lodash/lodash.js");function p(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function m(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let h=(o=l.action.bound,i=m((s=class{constructor(e){p(this,"loading",i,this),p(this,"loaded",a,this),p(this,"error",r,this),this.masterMonitorStore=new c.default,this.monitorStore=e}static async getMonitorMetricsForTeam(e){return(new c.default).getOrFetchMonitorsMetricsForTeam(e)}update(e){u.has(e,"loading")&&(this.loading=e.loading),u.has(e,"loaded")&&(this.loaded=e.loaded),u.has(e,"error")&&(this.error=e.error)}get values(){const e=this.masterMonitorStore.getJobTemplateType(this.monitorStore.monitorId),t=this.masterMonitorStore.getMetricsForMonitor(this.monitorStore.monitorId);if(e!==d.UPTIME_MONITOR_TYPE||u.isEmpty(t))return Object.values(t);{const e={};for(const n of Object.keys(t))e[n]=u.get(t,[n,"results","values","auto"],null);let n=u.get(e,"responseTime"),o=u.get(e,"uptime"),s=u.get(e,"incidents");return n=null===n?null:Number(n),e.responseTime=isNaN(n)||u.isNull(n)?n:n.toFixed(0),e.incidents=null===s?s:Number(s),e.uptime=null===o?o:parseFloat(o),e}}get metadata(){return this.masterMonitorStore.getJobTemplateType(this.monitorStore.monitorId)===d.UPTIME_MONITOR_TYPE?this.masterMonitorStore.getMetricsMetadataForMonitor(this.monitorStore.monitorId):{}}getMetrics(e,t){return this.update({loading:!0,loaded:!1}),this.masterMonitorStore.loadMetrics({monitorId:e,timeframe:t}).then((()=>{this.update({loading:!1,loaded:!0,error:null})})).catch((e=>{this.update({loading:!1,loaded:!1,error:e})}))}}).prototype,"loading",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=m(s.prototype,"loaded",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=m(s.prototype,"error",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m(s.prototype,"update",[l.action],Object.getOwnPropertyDescriptor(s.prototype,"update"),s.prototype),m(s.prototype,"values",[l.computed],Object.getOwnPropertyDescriptor(s.prototype,"values"),s.prototype),m(s.prototype,"metadata",[l.computed],Object.getOwnPropertyDescriptor(s.prototype,"metadata"),s.prototype),m(s.prototype,"getMetrics",[o],Object.getOwnPropertyDescriptor(s.prototype,"getMetrics"),s.prototype),s)},"./monitors/stores/domain/MonitorPermissionStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("./js/stores/StoreManager.js"),s=n("./js/stores/CurrentUserStore.js"),i=n("./monitors/stores/domain/MasterMonitorStore.js"),a=(n("./monitors/constants.js"),n("./node_modules/lodash/lodash.js"));class r{constructor(){return r.instance||(this.masterMonitorStore=new i.default,r.instance=this),r.instance}isUserLoggedIn(){return(0,o.resolveStoreInstance)(s.default).isLoggedIn}can(e,t){const n=this.masterMonitorStore.getJobTemplateMetadata(t);return!(!n||!n.permissions)&&a.get(n.permissions,e,!1)}}},"./monitors/stores/domain/MonitorRunsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var o,s,i,a,r,l,c,d,u,p,m,h,g,f,b,y=n("../../node_modules/mobx/lib/mobx.module.js"),v=n("./monitors/stores/domain/MasterMonitorStore.js"),I=n("./monitors/stores/domain/MonitorPermissionStore.js"),E=n("./node_modules/lodash/lodash.js");function _(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function S(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let C=(o=y.action.bound,s=y.action.bound,i=y.action.bound,a=y.action.bound,r=y.action.bound,l=y.action.bound,c=y.action.bound,u=S((d=class{constructor(e){_(this,"loading",u,this),_(this,"creating",p,this),_(this,"loaded",m,this),_(this,"error",h,this),_(this,"selectedRunId",g,this),_(this,"selectedRunIdLoading",f,this),_(this,"selectedRunIdLoaded",b,this),this.monitorStore=e,this.monitorPermissionStore=new I.default,this.masterMonitorStore=new v.default}get selectedRun(){return this.masterMonitorStore.getRun(this.selectedRunId)}updateLoadingStatus(){this.selectedRunIdLoading=this.loading.includes(this.selectedRunId),this.selectedRunIdLoaded=this.loaded.includes(this.selectedRunId)}startLoading(e){this.loading.push(e),this.loaded=this.loaded.filter((t=>t!==e)),this.updateLoadingStatus()}finishLoading(e){this.loaded.push(e),this.loading=this.loading.filter((t=>t!==e)),this.updateLoadingStatus()}update(e){E.has(e,"loading")&&(this.loading=e.loading),E.has(e,"loaded")&&(this.loaded=e.loaded),E.has(e,"error")&&(this.error=e.error)}async getRun(e,t){if(this.monitorPermissionStore.can("viewTestResults",this.monitorStore.monitorId)){this.startLoading(t),this.update({error:null});try{let n=await this.masterMonitorStore.loadRun(e,t),o=E.get(n,"body._embedded.run.0.id");this.finishLoading(o)}catch(e){this.update({loading:[],error:e})}}}async getRunAttempt(e,{runId:t,retryId:n}){this.startLoading(t),this.update({error:null});try{let o=await this.masterMonitorStore.loadRunAttempt({monitorId:e,runId:t,retryId:n}),s=E.get(o,"body._embedded.run.0.id");this.finishLoading(s)}catch(e){this.update({loading:[],error:e})}}setSelectedRunId(e){if(this.selectedRunId=e,!this.masterMonitorStore.isOffline){var t;const n=null===(t=this.monitorStore)||void 0===t?void 0:t.monitorId;this.getRun(n,e)}}}).prototype,"loading",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=S(d.prototype,"creating",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=S(d.prototype,"loaded",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=S(d.prototype,"error",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S(d.prototype,"selectedRunId",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=S(d.prototype,"selectedRunIdLoading",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=S(d.prototype,"selectedRunIdLoaded",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S(d.prototype,"selectedRun",[y.computed],Object.getOwnPropertyDescriptor(d.prototype,"selectedRun"),d.prototype),S(d.prototype,"updateLoadingStatus",[o],Object.getOwnPropertyDescriptor(d.prototype,"updateLoadingStatus"),d.prototype),S(d.prototype,"startLoading",[s],Object.getOwnPropertyDescriptor(d.prototype,"startLoading"),d.prototype),S(d.prototype,"finishLoading",[i],Object.getOwnPropertyDescriptor(d.prototype,"finishLoading"),d.prototype),S(d.prototype,"update",[a],Object.getOwnPropertyDescriptor(d.prototype,"update"),d.prototype),S(d.prototype,"getRun",[r],Object.getOwnPropertyDescriptor(d.prototype,"getRun"),d.prototype),S(d.prototype,"getRunAttempt",[l],Object.getOwnPropertyDescriptor(d.prototype,"getRunAttempt"),d.prototype),S(d.prototype,"setSelectedRunId",[c],Object.getOwnPropertyDescriptor(d.prototype,"setSelectedRunId"),d.prototype),d)},"./monitors/stores/domain/MonitorStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n("./monitors/stores/domain/MonitorAgentsStore.js"),s=n("./monitors/stores/domain/MonitorConfigurationStore.js"),i=n("./monitors/stores/domain/MonitorJobsStore.js"),a=n("./monitors/stores/domain/MonitorMetricsStore.js"),r=n("./monitors/stores/domain/MonitorRunsStore.js"),l=n("./monitors/stores/ui/MonitorUrlStore.js"),c=n("./monitors/stores/domain/MonitorUptimeIncidentStore.js"),d=n("./monitors/stores/domain/MasterMonitorStore.js");class u{constructor(e){this.monitorId=e,this.configuration=new s.default(this),this.jobs=new i.default(this),this.metrics=new a.default(this),this.runs=new r.default(this),this.agents=new o.default(this),this.url=new l.default(this),this.incidents=new c.default(this),this.masterMonitorStore=new d.default}async refreshIncidentsAndMetrics(){this.incidents.update({loading:!0});try{this.configuration.getMonitorConfiguration(this.monitorId,!1),await this.masterMonitorStore._loadAllIncidentsAndMetrics({monitorId:this.monitorId,timeInterval:this.url.timeInterval}),this.incidents.update({error:null}),this.metrics.update({error:null})}catch(e){}finally{this.incidents.update({loading:!1}),this.metrics.update({loading:!1})}}}},"./monitors/stores/domain/MonitorUptimeIncidentStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var o,s,i,a,r,l,c,d,u,p=n("../../node_modules/mobx/lib/mobx.module.js"),m=n("./monitors/stores/domain/MasterMonitorStore.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/SyncStatusStore.js"),f=n("./monitors/utils/uptimeHelpers.js"),b=n("./node_modules/moment/moment.js"),y=n.n(b),v=n("./monitors/constants.js"),I=n("./runtime-repl/request-http/httpstatuscodes.js"),E=n("./node_modules/lodash/lodash.js");function _(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function S(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const C="regional",T="summarized";let j=(o=p.action.bound,i=S((s=class{constructor(e){_(this,"loading",i,this),_(this,"selectedIncident",a,this),_(this,"nextPageCursor",r,this),_(this,"error",l,this),_(this,"since",c,this),_(this,"until",d,this),_(this,"loaded",u,this),this.masterMonitorStore=new m.default,this.monitorStore=e,this.monitorId=e.monitorId,this.updateTimeFrame()}subscribeStateChanges(){this.offlineObserver=(0,p.reaction)((()=>(0,h.resolveStoreInstance)(g.default).isConsistentlyOffline),(e=>{e||(this.update({loading:!0}),this.clearIncidentsForMonitor(),this.hydrate())})),this.stateChangeDisposer=(0,p.reaction)((()=>this.sortedIncidents.last.value),(e=>{e&&!this.loading&&(this.updateTimeFrame(),this.monitorStore.metrics.getMetrics(this.monitorId,this.monitorStore.url.timeInterval))}))}unsubscribeStateChanges(){E.invoke(this.offlineObserver),E.invoke(this.stateChangeDisposer)}updateTimeFrame(){const e=this.monitorStore.url.timeInterval;this.since=e.since,this.until=e.until}get isOffline(){return this.masterMonitorStore.isOffline}*hydrate(){yield(0,h.resolveStoreInstance)(g.default).onSyncAvailable(),yield this.getMonitorStatesWithContexts({since:this.since.toISOString()})}update({loading:e,error:t,loaded:n}){void 0!==e&&(this.loading=e),void 0!==t&&(this.error=t),void 0!==n&&(this.loaded=n)}*getMonitorStatesWithContexts({since:e}){!this.loading&&this.update({loading:!0,error:null});try{yield this.getSummarizedIncidents({since:e})}catch(e){this.update({error:e})}finally{this.update({loaded:!0}),this.loading&&this.update({loading:!1})}}*getSummarizedIncidents({nextCursor:e,since:t}){const n=(yield this.masterMonitorStore.loadSummarizedIncidentsForMonitor({monitorId:this.monitorId,since:t,nextCursor:e})).body.meta.nextCursor;n?(this.nextPageCursor.set(T,n),yield this.getSummarizedIncidents({nextCursor:n,since:t})):this.nextPageCursor.set(T,null)}get values(){return{[T]:A(this.summarizedIncidents.data,this.since,this.until),[C]:w(this.regionalIncidents,this.since,this.until)}}clearIncidentsForMonitor(){return this.nextPageCursor.set(C,null),this.nextPageCursor.set(T,null),this.masterMonitorStore.clearIncidentsForMonitor(this.monitorId)}get summarizedIncidents(){const e=this.masterMonitorStore.getSummarizedIncidentsForMonitor(this.monitorId);return{data:A(E.mapValues(e,(e=>({startedAt:e.window.start,endedAt:e.window.end,value:E.get(e,"name",v.UNKNOWN_STATE_NAME),summary:e.summary}))),this.since,this.until),metadata:this.masterMonitorStore.getSummarizedIncidentsMetadataForMonitor(this.monitorId)}}get tabularViewForSummarizedIncidents(){let e=[];function t(e){return e.isResponseReceived?e.isResponseTimeLimitExceeded?"Response Time Limit Exceeded":e.responseCode>299||e.responseCode<200?I.default[e.responseCode]?`${e.responseCode} ${I.default[e.responseCode].name}`:e.responseCode:"":"No Response Received"}const n=E.pickBy(this.values.summarized,(e=>e.value===v.DOWN_STATE_NAME));return Object.keys(n).map((o=>{let s=[],i=[];for(const e of E.get(n,`[${o}].summary`,[])){const t=Object.keys(e.byLocation);for(const n of t)s.includes(n)||E.get(e,`byLocation[${n}].state`)!==v.DOWN_STATE_NAME||s.push(n),i.push(E.get(e,`byLocation[${n}].context`,{}))}i=i.map(t).filter(Boolean),i=[...new Set(i)],e.push({startedAt:f.default.getDate(this.values.summarized[o].startedAt),duration:f.default.getDateDifference(this.values.summarized[o].startedAt,this.values.summarized[o].endedAt),error:i.join(", "),regions:s})})),e=e.sort((function(e,t){return new Date(t.startedAt)-new Date(e.startedAt)})),e}get sortedIncidents(){const e=Object.values(this.summarizedIncidents.data).sort((function(e,t){return new Date(e.startedAt)-new Date(t.startedAt)})),t=this.regionalIncidents;for(const e of Object.keys(t))t[e].nodes=t[e].nodes.sort((function(e,t){return new Date(e.startedAt)-new Date(t.startedAt)}));if(!Object.keys(t).length){const e=E.get(this,"monitorStore.configuration.data.location",[]);for(const{region:n}of e){const e=this.monitorStore.agents.getAgentById(n);t[n]={name:E.get(e,"label"),nodes:[]}}}const n=O(e,this.since,this.until),o=E.last(n),s=E.find(n,(({endedAt:e})=>E.isEmpty(e)));return{[T]:n,[C]:w(t,this.since,this.until),last:o,ongoing:s,isOngoing:o&&s&&o.id===s.id}}get regionalIncidents(){const e=this.masterMonitorStore.getSummarizedIncidentsForMonitor(this.monitorId),t={};for(const n of Object.values(e))for(const e of n.summary){if(y()(e.window.end).isBefore(this.since))continue;const n=Object.keys(E.get(e,"byLocation",{}));for(const o of n){if(!(o in t)){const e=this.monitorStore.agents.getAgentById(o);t[o]={name:E.get(e,"label"),nodes:[]}}t[o].nodes.push({startedAt:e.window.start,endedAt:e.window.end,value:e.byLocation[o].state})}}return w(t,this.since,this.until)}get statesForTimePeriod(){return{[T]:O(this.sortedIncidents.summarized,this.since,this.until),[C]:w(this.sortedIncidents.regional,this.since,this.until)}}}).prototype,"loading",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=S(s.prototype,"selectedIncident",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=S(s.prototype,"nextPageCursor",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.observable.map({})}}),l=S(s.prototype,"error",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=S(s.prototype,"since",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=S(s.prototype,"until",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=S(s.prototype,"loaded",[p.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S(s.prototype,"updateTimeFrame",[o],Object.getOwnPropertyDescriptor(s.prototype,"updateTimeFrame"),s.prototype),S(s.prototype,"isOffline",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"isOffline"),s.prototype),S(s.prototype,"hydrate",[N],Object.getOwnPropertyDescriptor(s.prototype,"hydrate"),s.prototype),S(s.prototype,"update",[p.action],Object.getOwnPropertyDescriptor(s.prototype,"update"),s.prototype),S(s.prototype,"getMonitorStatesWithContexts",[N],Object.getOwnPropertyDescriptor(s.prototype,"getMonitorStatesWithContexts"),s.prototype),S(s.prototype,"getSummarizedIncidents",[N],Object.getOwnPropertyDescriptor(s.prototype,"getSummarizedIncidents"),s.prototype),S(s.prototype,"values",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"values"),s.prototype),S(s.prototype,"clearIncidentsForMonitor",[p.action],Object.getOwnPropertyDescriptor(s.prototype,"clearIncidentsForMonitor"),s.prototype),S(s.prototype,"summarizedIncidents",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"summarizedIncidents"),s.prototype),S(s.prototype,"tabularViewForSummarizedIncidents",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"tabularViewForSummarizedIncidents"),s.prototype),S(s.prototype,"sortedIncidents",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"sortedIncidents"),s.prototype),S(s.prototype,"regionalIncidents",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"regionalIncidents"),s.prototype),S(s.prototype,"statesForTimePeriod",[p.computed],Object.getOwnPropertyDescriptor(s.prototype,"statesForTimePeriod"),s.prototype),s);function A(e,t,n){const o={};return Object.keys(e).map((s=>{O([e[s]],t,n).length&&(o[s]=e[s])})),o}function w(e,t,n){const o={};return Object.keys(e).forEach((s=>{o[s]={...e[s],nodes:O(e[s].nodes,t,n)}})),o}function O(e,t,n){return e&&e.filter((e=>{const o=new Date(e.startedAt).valueOf(),s=new Date(e.endedAt).valueOf();return s>=t&&s<=n||o>=t&&o<=n||o<=t&&(!s||s>=n)}))}function N(e,t,n){n.value&&(n.value=(0,p.flow)(n.value))}},"./monitors/stores/ui/MonitorUrlStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s,i,a=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./js/services/NavigationService.js"),l=n("./monitors/constants.js"),c=n("./node_modules/moment/moment.js"),d=n.n(c),u=n("./node_modules/lodash/lodash.js");function p(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let m=(o=a.action.bound,i=p((s=class{constructor(e){var t,n,o,s;t=this,n="query",s=this,(o=i)&&Object.defineProperty(t,n,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(s):void 0}),this.monitorStore=e,this.urlChangeReaction=(0,a.reaction)((()=>this.query),(e=>{!e.job&&this.monitorStore.jobs.getJobs({monitorId:this.monitorStore.monitorId,clearPrevious:!0,page:e.goto?null:1,...e})}))}get location(){return{pathname:`/monitors/${this.monitorStore.monitorId}`,query:this.query}}get params(){return{monitorId:this.monitorStore.monitorId}}setQuery(e){this.query=e}get viewFilters(){return r.default.getActiveQueryParams().get()}computeTimeFrame(e){let t=Number(e),n=u.find(l.UPTIME_MONITOR_FREQUENCY_OPTIONS,["value",e]);return u.isFinite(t)&&n||(t=l.DEFAULT_TIME_FRAME),{since:d()().utc().subtract(t,"minutes"),until:d().utc()}}get timeInterval(){const e=this.viewFilters[l.TIME_FRAME_PARAM];return{timePeriod:e,...this.computeTimeFrame(e)}}}).prototype,"query",[a.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p(s.prototype,"location",[a.computed],Object.getOwnPropertyDescriptor(s.prototype,"location"),s.prototype),p(s.prototype,"params",[a.computed],Object.getOwnPropertyDescriptor(s.prototype,"params"),s.prototype),p(s.prototype,"setQuery",[o],Object.getOwnPropertyDescriptor(s.prototype,"setQuery"),s.prototype),s)},"./monitors/utils/messages/UptimeMessages.js":function(e,t,n){"use strict";n.r(t),n.d(t,{BANNER_CARD_UPTIME:function(){return l},EMPTY_STATE:function(){return s},ERROR_STATE:function(){return i},LOADING_STATE:function(){return a},TIMELINE:function(){return r},UPTIME_MONITOR:function(){return o}});const o={runPlaceholderPerMinute:"Runs every minute",runPlaceholderPerHour:"Runs every hour",runPlaceholder:"Runs every",more_actions:"View more actions",feedback_msg:"Share your feedback",incidentsTitle:"Incidents",viewIncident:"View Incident",minutes:"minutes"},s={noDowntime:"Looking good!",noDowntimeText:"No incidents in the selected time period.",noDowntimeSubText:"Select a longer period to view past incidents."},i={blanketErrorText:"Couldn't load this monitor",blanketErrorSubText:"Try refreshing this tab or check back in some time.",noDowntime:"Couldn't load downtime incidents",noDowntimePlaceHolder:"Try refreshing the page or check back in sometime.",details:"Couldnt load monitor details",metrics:"Failed to load metrics."},a={metrics:"Loading metrics...",loading:"Loading..."},r={toggle:{summary:"Summary",regional:"Region"},header:{title:"Uptime",states:{up:"Up",down:"Down",unknown:"Unknown"},tooltip:{unknownState:"The monitor is non-existent, paused, or our monitoring service had an exception."}}},l={text:"Know when your service is down",subText:"Monitor uptime for a URL across regions and setup timely alerts without having to create a collection.",badgeText:"Beta",buttonText:"Create an Uptime Monitor",link:"#",linkText:"Learn more about uptime monitors"}},"./monitors/utils/uptimeHelpers.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/moment/moment.js"),s=n.n(o);let i={getDate:e=>e?s()(e).format("DD MMM YYYY, hh:mm A"):"N/A",getDateDifference:(e,t)=>{if(!t)return"Ongoing";const n=s()(e),o=s()(t);return function(e){let t=e/60,n=Math.floor(t),o=60*(t-n),s=Math.round(o);return n<1?s+"m":n>=1&&0==s?n+"h":n+"h "+s+"m"}(Math.max(o.diff(n,"minutes"),1))},getDateAndTimeDifference(e,t,n=!1){let o;const i=s().duration(s()(t).diff(s()(e))),a=Math.floor(i.asDays()),r=a?`${a}d`:"",l=i.hours(),c=`${l}h`,d=`${i.minutes()}m`;if(n){o=`${i.seconds()}s`}return!n||a||l?[r,c,d].join(" "):[d,o].join(" ")}};t.default=i},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/ConnectedAccounts/IntegrationForms/FormHeader/ConnectedAccountsIntegrationFormHeader.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-success-stroke.js"),d=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/DefaultFormInputs/inputs/utils.js"),u=n("./node_modules/lodash/lodash.js"),p=n.n(u);class m extends o.Component{componentDidMount(){const e=(0,d.getPreferredEntityId)(this.props.preferredEntities,"connectedAccount");e&&p().isFunction(this.props.onSelection)&&this.props.onSelection(e)}render(){const{connectedAccount:e,isLoading:t,isUsingPersonalCredentials:n,orphaned:d,reauthenticateCallback:u,primarySuccessText:p,primaryOrphanedText:m,reauthenticateText:h,reauthenticateWithAnotherAccount:g,primaryChangeAuthenticationText:f,changeAuthenticationText:b,changeAuthenticationCallback:y}=this.props;return t?o.createElement(s.default,null):g?o.createElement("div",{className:"integrations-connected-account__form__header"},o.createElement(i.default,{padding:"spacing-zero",direction:"row",gap:"spacing-xs",alignItems:"left"},o.createElement(l.default,{color:"content-color-primary"}),o.createElement(i.default,{direction:"column",padding:"spacing-zero",alignItems:"flex-start"},f,o.createElement("div",{className:"integrations-connected-account__form__header__helper"},o.createElement("span",{className:"integrations-connected-account__form__header__helper__btn",onClick:()=>y()}," ",b," "))))):d?o.createElement("div",{className:"integrations-connected-account__form__header"},o.createElement(i.default,{padding:"spacing-zero",direction:"row",gap:"spacing-xs",alignItems:"left"},o.createElement(l.default,{color:"base-color-error"}),o.createElement(i.default,{direction:"column",padding:"spacing-zero",alignItems:"flex-start"},m,o.createElement("div",{className:"integrations-connected-account__form__header__helper"},"To continue using this integration,",o.createElement("span",{className:"integrations-connected-account__form__header__helper__btn",onClick:()=>u()}," ",h," "))))):n||!e?null:o.createElement(o.Fragment,null,o.createElement("div",{className:"integrations-connected-account__form__header"},o.createElement(i.default,{padding:"spacing-zero",direction:"row",gap:"spacing-xs",alignItems:"left"},o.createElement(c.default,{color:"base-color-success"}),o.createElement(i.default,{direction:"column",padding:"spacing-zero",alignItems:"flex-start"},o.createElement(a.default,{styleAs:"h6",type:"h6",text:p,color:"content-color-secondary"}),o.createElement(r.default,{onClick:()=>u(),type:"plain",text:h})))))}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/DefaultFormInputs/inputs/utils.js":function(e,t,n){"use strict";n.r(t),n.d(t,{convertEntityListToOptions:function(){return i},convertObjectListToOptions:function(){return a},getInputError:function(){return p},getPreferredEntity:function(){return d},getPreferredEntityId:function(){return u},getServiceActionInputsMap:function(){return l},isBlockedOnAnotherInput:function(){return c},isEntityInputInEditFlow:function(){return m},isValidSetOfOptions:function(){return r}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o);function i(e){return a(e,"name","id")}function a(e,t="name",n="id"){return e?e.map((e=>({label:s().get(e,t),value:s().get(e,n)}))):[]}function r(e){return s().isArray(e)&&s().some(e,(e=>s().has(e,"label")&&s().has(e,"value")))}function l(e,t){return s().reduce(s().get(e,"inputs"),((e,n,o)=>(e[o]=s().get(s().find(t,["key",n]),"value"),e)),{})}function c(e,t){return s().some(e,(e=>{const n=s().find(t,["key",e]);return s().isEmpty(n)||s().isNil(n.value)||(s().isObject(n.value)||s().isString(n.value))&&s().isEmpty(n.value)||n.error}))}function d(e,t){return s().find(e,["entityType",t])||null}function u(e,t){return s().get(d(e,t),"entityId")}function p(e,t){const n=s().isNil(t)||(s().isObject(t)||s().isString(t))&&s().isEmpty(t);return e.mandatory&&n&&"This field is mandatory"}function m(e){return e.currentValue&&e.disabled}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/ServiceSetup/DatadogAPM/DatadogCommonConfigs.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});n("./node_modules/lodash/lodash.js");var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("./integrations/monitoring/containers/helpers/DatadogAPMUtils.js"),m=n("./node_modules/prop-types/index.js"),h=n.n(m),g=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js"),f=n("./integrations/monitoring/constants.js");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b.apply(this,arguments)}let y=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}render(){const{handleOnApiKeyChange:e,handleOnApiKeyBlur:t,apiKey:n,handleOnAppKeyChange:o,handleOnAppKeyBlur:i,appKey:m,region:h,handleOnRegionChange:y,mode:v,apiKeyValidationStatus:I,apiKeyValidationMessage:E,appKeyValidationStatus:_,appKeyValidationMessage:S}=this.props,C=v===f.ADD_MODE?{fieldType:"required"}:{};return s.createElement(s.Fragment,null,s.createElement(a.default,{direction:"column",gap:"spacing-l"},s.createElement(r.default,{name:"Select Datadog site",value:h,direction:"column",onChange:y,label:s.createElement(l.default,{text:"Select Datadog region",type:"primary"}),helperText:"This helps us know what Datadog region to use."},s.createElement(c.default,{label:"US1 (datadoghq.com)",value:"us1"}),s.createElement(c.default,{label:"US3 (us3.datadoghq.com)",value:"us3"}),s.createElement(c.default,{label:"US5 (us5.datadoghq.com)",value:"us5"}),s.createElement(c.default,{label:"EU1 (datadoghq.eu)",value:"eu1"}),s.createElement(c.default,{label:"US1-FED (ddog-gov.com)",value:"us1-fed"})),s.createElement(d.default,{id:"datadog-api-key",type:"password",label:s.createElement(l.default,b({text:"Datadog API Key"},C)),helperText:s.createElement(u.default,null,"Enter the API Key provided by Datadog or",s.createElement(g.default,{extUrl:`${p.default.getDatadogHostname(h)}/organization-settings/api-keys`},"generate one here.")),onChange:e,onBlur:t,value:n,validationStatus:I,validationMessage:E,placeholder:v===f.EDIT_MODE?"****************************":null}),s.createElement(d.default,{id:"datadog-app-key",type:"password",label:s.createElement(l.default,b({text:"Datadog Application Key"},C)),helperText:s.createElement(u.default,null,"Enter the Application Key provided by Datadog or",s.createElement(g.default,{extUrl:`${p.default.getDatadogHostname(h)}/organization-settings/application-keys`},"generate one here.")),value:m,onChange:o,onBlur:i,validationStatus:_,validationMessage:S,placeholder:v===f.EDIT_MODE?"****************************":null})))}})||o;y.propTypes={handleOnApiKeyChange:h().func.isRequired,handleOnApiKeyBlur:h().func.isRequired,apiKey:h().string.isRequired,apiKeyValidationStatus:h().string.isRequired,apiKeyValidationMessage:h().string.isRequired,handleOnAppKeyChange:h().func.isRequired,handleOnAppKeyBlur:h().func.isRequired,appKey:h().string.isRequired,appKeyValidationStatus:h().string.isRequired,appKeyValidationMessage:h().string.isRequired,region:h().string.isRequired,handleOnRegionChange:h().func.isRequired,mode:h().string.isRequired}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/ServiceSetup/DatadogAPM/DatadogDashboardsAndEnvironments.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});n("./node_modules/lodash/lodash.js");var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke-small.js"),u=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/ServiceSetup/DatadogAPM/DatadogEnvironmentsMap.js"),p=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),m=n("./node_modules/prop-types/index.js"),h=n.n(m);const g=p.default.div`
  width: fit-content;
`;let f=(0,i.observer)(o=class extends s.Component{constructor(e){super(e)}render(){const{apiKey:e,appKey:t,selectedDashboards:n,availableDashboards:o,handleDashboardsChange:i,isLoadingDashboards:p,errorDashboards:m,region:h,environments:f,rule:b,onSelectEnvironmentServices:y,removeEnvironmentSelector:v,handleAddEnvironmentButtonClick:I,isAddEnvironmentButtonDisabled:E,integrationId:_}=this.props;return s.createElement(a.default,{direction:"column",gap:"spacing-l",width:"100%"},s.createElement(u.default,{integrationId:_,mode:this.props.mode,apiKey:e,appKey:t,environments:f,region:h,rule:b,onSelectEnvironmentServices:y,removeEnvironmentSelector:v}),s.createElement(g,null,s.createElement(r.default,{type:"tertiary",onClick:I,text:"Add Environment",icon:s.createElement(d.default,null),isDisabled:E,tooltip:!E&&"Fill in the details to add a new environment."})),s.createElement(l.default,{value:n,options:o,placeholder:"Select Dashboards",label:s.createElement(c.default,{text:"Link Dashboards (Optional)",type:"secondary"}),onChange:i,isLoading:p,error:m&&"Unable to load dashboards",emptyStateMessage:"No dashboards found"}))}})||o;f.propTypes={mode:h().string.isRequired,apiKey:h().string.isRequired,appKey:h().string.isRequired,selectedDashboards:h().array.isRequired,availableDashboards:h().array.isRequired,handleDashboardsChange:h().func.isRequired,isLoadingDashboards:h().bool.isRequired,errorDashboards:h().bool.isRequired,region:h().string.isRequired,environments:h().array.isRequired,rule:h().string.isRequired,onSelectEnvironmentServices:h().func.isRequired,removeEnvironmentSelector:h().func.isRequired,handleAddEnvironmentButtonClick:h().func.isRequired,isAddEnvironmentButtonDisabled:h().bool.isRequired}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/ServiceSetup/DatadogAPM/DatadogEnvironmentsMap.js":function(e,t,n){"use strict";n.r(t),n.d(t,{DatadogEnvironmentSelector:function(){return E},default:function(){return I}});var o,s,i=n("./node_modules/lodash/lodash.js"),a=n.n(i),r=n("../../node_modules/react/index.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/IntegrationsStore.js"),u=n("./integrations/monitoring/constants.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),y=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-clear-stroke-small.js"),v=n("./integrations/monitoring/services/index.js");let I=(0,l.observer)(s=class extends r.Component{constructor(e){super(e)}render(){let{environments:e,apiKey:t,appKey:n,region:o,rule:s,integrationId:i}=this.props;return r.createElement(r.Fragment,null,a().map(e,((l,c)=>r.createElement(r.Fragment,null,r.createElement(p.default,{direction:"column",gap:"spacing-l"},r.createElement(p.default,{justifyContent:"space-between",alignItems:"center"},r.createElement(m.default,{type:"h4",text:"Select services for Environment",color:"content-color-primary"}),a().size(e)>1&&r.createElement(h.default,{type:"tertiary",onClick:()=>this.props.removeEnvironmentSelector(c),text:"Remove",icon:r.createElement(y.default,null)})),r.createElement(E,{integrationId:i,mode:this.props.mode,apiKey:t,appKey:n,environments:e,environment:l,key:l.id,region:o,rule:s,onSelectEnvironmentServices:this.props.onSelectEnvironmentServices,index:c}))))))}})||s,E=(0,l.observer)(o=class extends r.Component{constructor(e){super(e),this.state={environmentName:e.environment.name,selectedServices:a().map(e.environment.services,(e=>({label:e,value:e}))),availableServices:[],loadingServices:!1,errorServices:"",errorName:""},this.integrationsStore=(0,c.resolveStoreInstance)(d.default),this.onServiceSelect=this.onServiceSelect.bind(this),this.listServicesDebounce=a().debounce(this.listServices.bind(this),1e3)}componentDidMount(){this.listServices()}onServiceSelect(e){a().isArray(e)&&this.setState({selectedServices:e},(()=>{this.props.onSelectEnvironmentServices(this.state.environmentName,a().map(e,"value"),this.props.index)}))}async listServices(){this.integrationsStore.integrationClass||await this.integrationsStore.getIntegrationClassDetails(u.DATADOG_APM_CLASS_ID);const{rule:e,apiKey:t,appKey:n,region:o,integrationId:s,mode:i}=this.props,{environmentName:r}=this.state,l=a().find(this.integrationsStore.integrationClass.inputs,{key:"environments"}),c=a().get(l,"options.serviceActionId"),d=a().get(l,"id");if((a().isEmpty(t)||a().isEmpty(n))&&i===u.ADD_MODE)return;this.setState({loadingServices:!0,errorServices:!1});let p={};p=i&&i===u.EDIT_MODE?{rule:e,...t?{api_key:t}:{},...n?{app_key:n}:{},environment:r,region:o}:{rule:e,api_key:t,app_key:n,environment:r,region:o},v.default[e].listServicesWithIntegrationId(p,s||null,c,d).then((e=>{let t=a().map(a().keys(e),(e=>({label:e,value:e})));this.setState({availableServices:t,loadingServices:!1})})).catch((e=>{this.setState({errorServices:!0,loadingServices:!1,availableServices:[],selectedServices:[]})}))}render(){const{selectedServices:e,availableServices:t,loadingServices:n,errorServices:o,environmentName:s,errorName:i}=this.state;let{environments:l}=this.props;return r.createElement(p.default,{direction:"column",gap:"spacing-l"},r.createElement(g.default,{id:"apm-datadog-environment",label:r.createElement(f.default,{text:"Datadog Environment",infoText:"Enter the Datadog environment for the services."}),helperText:"This will be used as a filter on the environment tag on datadog.",value:s,isDisabled:a().size(e)>0,onChange:e=>{const t=e.target.value,n=a().find(l,(e=>e.name===t&&a().size(e.services)>0));n&&a().size(n.services)?this.setState({environmentName:t,errorName:"You cannot input multiple environments with the same name.",validationStatus:"error",selectedServices:[]}):this.setState({environmentName:t,errorName:"",validationStatus:null,selectedServices:[]},(()=>{this.listServicesDebounce()}))},validationStatus:this.state.validationStatus,validationMessage:"error"===this.state.validationStatus?i:null}),r.createElement(b.default,{value:e,options:t,placeholder:"Select Datadog APM Services",label:r.createElement(f.default,{text:"Services",type:"secondary",infoText:"Datadog Metric Graphs will be fetched via a public URL."}),onChange:this.onServiceSelect,isLoading:n,error:o&&"Unable to load services",isDisabled:!a().isEmpty(i)}))}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/AddIntegrationActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/CancelButton.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/AddButton.js"),a=n("./js/stores/StoreManager.js"),r=n("./js/stores/IntegrationsStore.js"),l=n("../../node_modules/mobx/lib/mobx.module.js");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}function d(e){let{disabled:t,workspaceId:n,payload:d,integrationFormActions:u,source:p,showDivider:m,...h}=e,g="basic_auth"!==(f=(0,l.toJS)((0,a.resolveStoreInstance)(r.default).authType))&&"token"!==f;var f;return p||(p="team_integrations_create_forms"),o.createElement("div",null,m&&o.createElement("hr",{className:"integration-add-actions-separator"}),o.createElement(i.default,c({disabled:t,workspaceId:n,payload:d},h,{redirect:e.redirect,integrationFormActions:u,source:p,alignLeft:g})),o.createElement(s.default,c({alignLeft:g,integrationFormActions:u,payload:d,source:p},h)))}d.defaultProps={showDivider:!0}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/AuthUserSegment.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var o=n("../../node_modules/react/index.js");function s(e){const{imageSrc:t,displayField:n}=e;return o.createElement("div",{className:"integrations-add-card__authed-user"},o.createElement("div",{className:"integrations-add-card__authed-user__text"},"Authenticated as"),t&&o.createElement("img",{src:t,className:"integrations-add-card__authed-user-image"}),o.createElement("span",{className:"integrations-add-card__authed-user__name"},n))}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/CustomLink.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var o=n("../../node_modules/react/index.js");function s(e){const{className:t,extUrl:n,target:s}=e;return o.createElement("a",{className:t,href:n,rel:"_blank"===s?"noopener noreferrer":"",target:s,onClick:e.onClick},e.children)}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/EntitySelector.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var o,s=n("../../node_modules/react/index.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SelectSegmentV2.js"),a=n("./js/stores/ActiveWorkspaceStore.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("./monitors/services/MonitorService.js"),d=n("./js/services/NavigationService.js"),u=n("./api-dev/services/APIDevService.js"),p=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),m=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),h=(n("./js/modules/services/RemoteSyncRequestService.js"),n("./integrations/constants/integrationsConstants.ts")),g=n("./runtime-repl/collection/_api/CollectionInterface.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),y=n("./js/external-navigation/ExternalNavigationService.js"),v=n("./api-dev/interfaces/APIInterface.js"),I=n("../../node_modules/mobx/lib/mobx.module.js"),E=n("./node_modules/lodash/lodash.js"),_=n.n(E);const S="Malformed response",C={collections:"Please select a collection",monitors:"Please select a monitor",apis:"Please select an API",apiversions:"Please select an API version"},T={collections:"You don't have access to this collection.",monitors:"You don't have access to this monitor.",apis:"You don't have access to this API.",apiversions:"You don't have access to this APIVersion."};let j=(0,p.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,r.resolveStoreInstance)(l.default),this.workspaceStore=(0,r.resolveStoreInstance)(a.default),this.state={entities:[],entityVersions:[],loading:!1,error:!1,firstLoad:!0},this.fetchEntities=this.fetchEntities.bind(this),this.fetchCollections=this.fetchCollections.bind(this),this.fetchMonitors=this.fetchMonitors.bind(this),this.fetchUptimeMonitors=this.fetchUptimeMonitors.bind(this),this.fetchAPIs=this.fetchAPIs.bind(this),this.fetchAPIVersions=this.fetchAPIVersions.bind(this),this.onTargetSelect=this.onTargetSelect.bind(this),this.getEmptyStateError=this.getEmptyStateError.bind(this),this.updateSelectedEntity=this.updateSelectedEntity.bind(this),this.getFormattedResponse=this.getFormattedResponse.bind(this),this.validateDropdownVisibility=this.validateDropdownVisibility.bind(this)}async componentDidMount(){const{entity:e,workspaceId:t}=this.props;(e===h.entityTypes.API_VERSIONS||t)&&(this.setState({shouldHideDropdown:e===h.entityTypes.API_VERSIONS}),await this.fetchEntities(),await this.validateDropdownVisibility()),(0,I.reaction)((()=>this.workspaceStore.dependencies),(async()=>{await this.fetchEntities(),await this.validateDropdownVisibility()}))}async componentDidUpdate(e){e.workspaceId===this.props.workspaceId&&e.apiId===this.props.apiId||(await this.fetchEntities(),await this.validateDropdownVisibility())}getFormattedResponse(e){let t=!1,n=[];return n=e.map((e=>e.name&&e.id?{...e,label:_().get(e,"name"),value:_().get(e,"id")}:(t=!0,{}))),{newEntities:n,malformedResponse:t}}updateSelectedEntity(e){this.store.setSelectedEntity(_().find(e,{value:this.store.selectedEntity.value}))}async fetchEntities(){this.setState({loading:!0,error:""}),this.props.entity===h.entityTypes.COLLECTIONS&&this.fetchCollections(this.props.workspaceId),this.props.entity===h.entityTypes.MONITORS&&this.fetchMonitors(this.props.workspaceId),this.props.entity===h.entityTypes.UPTIME_MONITORS&&this.fetchUptimeMonitors(this.props.workspaceId),this.props.entity===h.entityTypes.APIS&&this.fetchAPIs(this.props.workspaceId),this.props.entity===h.entityTypes.API_VERSIONS&&await this.fetchAPIVersions(this.props.apiId)}getEmptyStateError(){return C[this.props.entity]?C[this.props.entity]:""}fetchAndAssignPermissions(e,t,n,o){return new Promise(((o,s)=>{const i=e.map((e=>({id:_().get(e,"apiversion"===n?"api":"id")})));let a=null;h.INTEGRATION_FORM_MODE.ADD,a=m.default.fetchCreatePermissions,a(t,n,i).then((t=>(_().forEach(_().zip(e,t.body),(e=>{const[t,n]=e;t.disabled=!n.hasPermission})),o(e)))).catch((e=>{pm.logger.error(e),s(e)}))}))}fetchCollections(e){e?(0,g.getCollectionsInWorkspace)(e).then((e=>{const{newEntities:t,malformedResponse:n}=this.getFormattedResponse(e);if(n)throw new Error(S);return t})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.rule,"collection",this.props.mode)})).then((e=>{this.props.entity===h.entityTypes.COLLECTIONS&&this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load collections",loading:!1}),pm.toasts.error("Something went wrong while fetching collections"),pm.logger.error("Error while fetching collections",e)})):this.setState({loading:!1})}fetchMonitors(e){e?c.default.getJobTemplatesByWorkspace({workspaceId:e}).then((e=>{const t=_().get(e,"body.data",[]),{newEntities:n,malformedResponse:o}=this.getFormattedResponse(t);if(o)throw new Error(S);return n})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.rule,"monitor",this.props.mode)})).then((e=>this.props.performEntityChecks?this.props.performEntityChecks(e):e)).then((e=>{this.props.entity===h.entityTypes.MONITORS&&this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load monitors",loading:!1}),pm.toasts.error("Something went wrong while fetching monitors"),pm.logger.error("Error ocurred while fetching monitors",e)})):this.setState({loading:!1})}fetchUptimeMonitors(e){e?c.default.getMonitorsByWorkspace({workspaceId:e}).then((e=>{const t=_().get(e,"body.data",[]),{newEntities:n,malformedResponse:o}=this.getFormattedResponse(t);if(o)throw new Error(S);return n})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return e})).then((e=>this.props.performEntityChecks?this.props.performEntityChecks(e):e)).then((e=>{this.props.entity===h.entityTypes.UPTIME_MONITORS&&this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load uptime monitors",loading:!1}),pm.logger.error("Error ocurred while fetching uptime monitors",e)})):this.setState({loading:!1})}fetchAPIs(e){e?u.default.getWorkspaceAPIs(e).then((e=>{const{newEntities:t,malformedResponse:n}=this.getFormattedResponse(e);if(n)throw new Error(S);return t})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.rule,"api",this.props.mode)})).then((e=>{this.props.entity===h.entityTypes.APIS&&this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load APIs",loading:!1}),pm.toasts.error("Something went wrong while fetching APIs"),pm.logger.error("Error ocurred while fetching APIs",e)})):this.setState({loading:!1})}async fetchAPIVersions(e){if(this.setState({shouldHideDropdown:!0}),e)try{const t=await u.default.getVersions(e);let{newEntities:n,malformedResponse:o}=this.getFormattedResponse(t);if(o)throw new Error(S);if(this.props.rule&&this.props.mode){const e="apiversion";n=await this.fetchAndAssignPermissions(n,this.props.rule,e,this.props.mode)}this.props.entity===h.entityTypes.API_VERSIONS&&this.store.selectedEntityVersion&&this.store.setSelectedEntityVersion(_().find(n,{value:this.store.selectedEntityVersion.value})),this.setState({entityVersions:n,loading:!1})}catch(e){this.setState({error:"Unable to load API versions",loading:!1}),pm.toasts.error("Something went wrong while fetching API versions"),pm.logger.error("Error ocurred while fetching API versions",e)}else this.setState({loading:!1})}onTargetSelect(e){_().isEmpty(e)?(this.store.resetSelectedEntityVersion(),this.props.entity!==h.entityTypes.API_VERSIONS&&this.store.resetSelectedEntity(),this.setState({firstLoad:!1,loading:!1})):this.props.entity===h.entityTypes.API_VERSIONS?this.store.setSelectedEntityVersion(e):(this.store.resetSelectedEntityVersion(),this.store.setSelectedEntity(e))}renderCreateMonitor(){return s.createElement(f.default,{alignItems:"center",direction:"column"},s.createElement("div",null,"This workspace doesn't have any monitors."),s.createElement("div",{onClick:()=>{"workspace"===_().split(d.default.getCurrentURL(),"/",1)[0]?d.default.transitionTo("build.create-monitor",{wid:this.props.workspaceId}):(0,y.openExternalLink)(d.default.getBaseURL()+"/"+d.default.getURLForRoute("build.create-monitor",{wid:this.props.workspaceId}),"_blank")}},s.createElement(b.default,{type:"link-primary"},"Create a new monitor")))}renderEmptyStateOptions(){if(this.props.entity===h.entityTypes.MONITORS)return this.renderCreateMonitor()}async validateDropdownVisibility(){const{entity:e,apiId:t}=this.props,{entityVersions:n}=this.state;if(e===h.entityTypes.API_VERSIONS){const e=await(0,v.hasAPIMigrated)(t);this.setState({shouldHideDropdown:e}),e&&this.store.setSelectedEntityVersion(n[0])}else this.setState({shouldHideDropdown:!1})}render(){const{loading:e,error:t,entities:n,entityVersions:o,firstLoad:a,shouldHideDropdown:r}=this.state,{selectedEntity:l,selectedEntityVersion:c}=this.store;return r?null:s.createElement(i.default,{title:this.props.title,isClearable:!0,description:this.props.description,disabled:this.props.disabled||e,options:this.props.entity===h.entityTypes.API_VERSIONS?o:n,value:this.props.value||(this.props.entity===h.entityTypes.API_VERSIONS?c:l),entityType:this.props.entity,onTargetSelect:this.props.onTargetSelect||this.onTargetSelect,error:t,label:this.props.label,loading:e,tooltipMessage:this.props.tooltipMessage||_().get(T,this.props.entity),emptyStateError:!e&&(this.props.entity===h.entityTypes.API_VERSIONS?o.length>0&&!c:n.length>0&&!l)&&!a&&this.getEmptyStateError(),handleRetry:this.fetchEntities,noOptionsForDropdown:this.renderEmptyStateOptions(),workspaceId:this.props.workspaceId})}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/EntitySelectorV2.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var o,s=n("../../node_modules/react/index.js"),i=n("./js/stores/StoreManager.js"),a=n("./js/stores/IntegrationsStore.js"),r=n("./monitors/services/MonitorService.js"),l=n("./api-dev/services/APIDevService.js"),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),u=n("./integrations/constants/integrationsConstants.ts"),p=n("./runtime-repl/collection/_api/CollectionInterface.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),h=n("./js/components/base/LoadingIndicator.js"),g=n("./integrations/api-observability/components/base/CustomDropdown.js"),f=n("./node_modules/lodash/lodash.js");const b="Malformed response",y={collections:"Please select a collection",monitors:"Please select a monitor",uptimeMonitors:"Please select an uptime monitor",apis:"Please select an API",apiversions:"Please select an API version"},v={collections:"Select a collection",monitors:"Select a monitor",uptimeMonitors:"Select an uptime monitor",apis:"Select an API",apiversions:"Select an API version"};let I=(0,c.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,i.resolveStoreInstance)(a.default),this.state={entities:[],entityVersions:[],loading:!1,error:!1,firstLoad:!0},this.fetchEntities=this.fetchEntities.bind(this),this.fetchCollections=this.fetchCollections.bind(this),this.fetchMonitors=this.fetchMonitors.bind(this),this.fetchUptimeMonitors=this.fetchUptimeMonitors.bind(this),this.fetchAPIs=this.fetchAPIs.bind(this),this.fetchAPIVersions=this.fetchAPIVersions.bind(this),this.onTargetSelect=this.onTargetSelect.bind(this),this.getEmptyStateError=this.getEmptyStateError.bind(this),this.updateSelectedEntity=this.updateSelectedEntity.bind(this),this.getFormattedResponse=this.getFormattedResponse.bind(this)}componentDidMount(){(this.props.entity===u.entityTypes.API_VERSIONS||this.props.workspaceId)&&this.fetchEntities()}componentDidUpdate(e){e.workspaceId===this.props.workspaceId&&e.apiId===this.props.apiId||this.fetchEntities()}getFormattedResponse(e){let t=!1,n=[];return n=e.map((e=>e.name&&e.id?{...e,label:f.get(e,"name"),value:f.get(e,"id")}:(t=!0,{}))),{newEntities:n,malformedResponse:t}}updateSelectedEntity(e){this.store.setSelectedEntity(f.find(e,{value:this.store.selectedEntity.value})||[])}fetchEntities(){this.setState({loading:!0,error:""}),this.props.entity===u.entityTypes.COLLECTIONS&&this.fetchCollections(this.props.workspaceId),this.props.entity===u.entityTypes.MONITORS&&this.fetchMonitors(this.props.workspaceId),this.props.entity===u.entityTypes.UPTIME_MONITORS&&this.fetchUptimeMonitors(this.props.workspaceId),this.props.entity===u.entityTypes.APIS&&this.fetchAPIs(this.props.workspaceId),this.props.entity===u.entityTypes.API_VERSIONS&&this.fetchAPIVersions(this.props.apiId)}getEmptyStateError(){return y[this.props.entity]?y[this.props.entity]:""}fetchAndAssignPermissions(e,t,n,o){return new Promise(((o,s)=>{const i=e.map((e=>({id:f.get(e,"apiversion"===n?"api":"id")})));let a=null;u.INTEGRATION_FORM_MODE.ADD,a=d.default.fetchCreatePermissions,a(t,n,i).then((t=>(f.forEach(f.zip(e,t.body),(e=>{const[t,n]=e;t.disabled=!n.hasPermission})),o(e)))).catch((e=>{pm.logger.error(e),s(e)}))}))}fetchCollections(e){e?(0,p.getCollectionsInWorkspace)(e).then((e=>{const{newEntities:t,malformedResponse:n}=this.getFormattedResponse(e);if(n)throw new Error(b);return t})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.rule,"collection",this.props.mode)})).then((e=>{this.props.entity===u.entityTypes.COLLECTIONS&&this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load collections",loading:!1}),pm.toasts.error("Something went wrong while fetching collections"),pm.logger.error("Error while fetching collections",e)})):this.setState({loading:!1})}fetchMonitors(e){e?r.default.getJobTemplatesByWorkspace({workspaceId:e}).then((e=>{const t=f.get(e,"body.data",[]),{newEntities:n,malformedResponse:o}=this.getFormattedResponse(t);if(o)throw new Error(b);return n})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.rule,"monitor",this.props.mode)})).then((e=>{this.props.entity===u.entityTypes.MONITORS&&this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load monitors",loading:!1}),pm.toasts.error("Something went wrong while fetching monitors"),pm.logger.error("Error ocurred while fetching monitors",e)})):this.setState({loading:!1})}fetchUptimeMonitors(e){e?r.default.getMonitorsByWorkspace({workspaceId:e}).then((e=>{const t=f.get(e,"body.data",[]),{newEntities:n,malformedResponse:o}=this.getFormattedResponse(t);if(o)throw new Error(b);return n})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.rule,"uptimeMonitor",this.props.mode)})).then((e=>{this.props.entity===u.entityTypes.UPTIME_MONITORS&&this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load uptime monitors",loading:!1}),pm.logger.error("Error ocurred while fetching uptime monitors",e)})):this.setState({loading:!1})}fetchAPIs(e){e?l.default.getWorkspaceAPIs(e).then((e=>{const{newEntities:t,malformedResponse:n}=this.getFormattedResponse(e);if(n)throw new Error(b);return t})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.rule,"api",this.props.mode)})).then((e=>{this.props.entity===u.entityTypes.APIS&&this.store.selectedEntity&&this.updateSelectedEntity(e),this.setState({entities:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load APIs.",loading:!1}),pm.toasts.error("Something went wrong while fetching APIs"),pm.logger.error("Error ocurred while fetching APIs",e)})):this.setState({loading:!1})}fetchAPIVersions(e){e?l.default.getVersions(e).then((e=>{const{newEntities:t,malformedResponse:n}=this.getFormattedResponse(e);if(n)throw new Error(b);return t})).then((e=>{if(!this.props.rule||!this.props.mode)return e;return this.fetchAndAssignPermissions(e,this.props.rule,"apiversion",this.props.mode)})).then((e=>{this.props.entity===u.entityTypes.API_VERSIONS&&this.store.selectedEntityVersion&&this.store.setSelectedEntityVersion(f.find(e,{value:this.store.selectedEntityVersion.value})||[]),this.setState({entityVersions:e,loading:!1})})).catch((e=>{this.setState({error:"Unable to load API versions.",loading:!1}),pm.toasts.error("Something went wrong while fetching API versions"),pm.logger.error("Error ocurred while fetching API versions",e)})):this.setState({loading:!1})}onTargetSelect(e){f.isEmpty(e)?(this.store.setSelectedEntityVersion([]),this.props.entity!==u.entityTypes.API_VERSIONS&&this.store.setSelectedEntity([]),this.setState({firstLoad:!1,loading:!1})):this.props.entity===u.entityTypes.API_VERSIONS?this.store.setSelectedEntityVersion(e):(this.store.setSelectedEntityVersion([]),this.store.setSelectedEntity(e))}getValidationState(){const{loading:e,error:t,entities:n,entityVersions:o,firstLoad:i}=this.state,{selectedEntity:a,selectedEntityVersion:r}=this.store;return t||!e&&(this.props.entity===u.entityTypes.API_VERSIONS?o.length>0&&!f.get(r,"value"):n.length>0&&!f.get(a,"value"))&&!i?{status:"error",message:t?s.createElement("div",null,t,s.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchEntities()}},"Retry")):this.getEmptyStateError()}:{}}renderLoadingState(){return s.createElement(m.default,{justifyContent:"space-between"},s.createElement("div",null,"Loading..."),s.createElement(h.default,{className:"loading-indicator-aether__dropdown"}))}getPlaceHolder(){return v[this.props.entity]?v[this.props.entity]:""}render(){const{loading:e,entities:t,entityVersions:n}=this.state,{selectedEntity:o,selectedEntityVersion:i}=this.store;return s.createElement(g.default,{label:this.props.title,isClearable:!0,helperText:this.props.description,isDisabled:this.props.disabled||e,className:e?"dropdown-icon-remove":"",placeholder:e?this.renderLoadingState():this.getPlaceHolder(),options:this.props.entity===u.entityTypes.API_VERSIONS?n:t,value:this.props.entity===u.entityTypes.API_VERSIONS?i:o,onChange:this.onTargetSelect,validationState:this.getValidationState()})}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/FieldSegment.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/Inputs.js"),i=n("./node_modules/lodash/lodash.js"),a=n.n(i);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function l(e){const{description:t,title:n,optional:i,optionalText:l,id:c,disabled:d,error:u,...p}=e;return o.createElement("div",{className:"integrations-add-card__segment"},o.createElement("div",{className:"integrations-add-card__label-title"},n," ",i?o.createElement("span",null,"(",l||"optional",")"):""),o.createElement("div",{className:"integrations-add-card__label-description"},t),o.createElement("div",{className:"integrations-add-card__input"},o.createElement(s.Input,r({inputStyle:"box",type:"text",disabled:d,error:a().isEmpty(u)?"":"This is a mandatory field"},p)),a().isEmpty(u)?"":o.createElement("div",{className:"integrations-add-card__error"},u)))}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/NicknameFieldSegment.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/Inputs.js"),i=n("./node_modules/lodash/lodash.js"),a=n.n(i);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function l(e){const{id:t,error:n,...i}=e;return o.createElement("div",{className:"integrations-add-card__segment"},o.createElement("div",{className:"integrations-add-card__label-title"}," Nickname "),o.createElement("div",{className:"integrations-add-card__label-description"},"Helps in identifying the integrations."),o.createElement("div",{className:"integrations-add-card__input"},o.createElement(s.Input,r({id:t,inputStyle:"box",type:"text",error:a().isEmpty(n)?"":"This is a mandatory field"},i)),a().isEmpty(n)?"":o.createElement("div",{className:"integrations-add-card__error"},n)))}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/NicknameFieldSegmentV2.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=(n("./js/components/base/Inputs.js"),n("./node_modules/lodash/lodash.js")),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}function c(e){const{id:t,error:n,...s}=e;return o.createElement("div",{className:"integrations-add-card__segment"},o.createElement(a.default,l({id:t,label:o.createElement(r.default,{text:"Nickname"}),helperText:"Give a nickname to your integration.",validationStatus:i().isEmpty(n)?"":"error",validationMessage:i().isEmpty(n)?"":"This is a mandatory field"},s)))}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SelectSegment.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/InputSelectV2.js"),i=n("./js/components/base/SearchHighlighter.js"),a=n("./node_modules/lodash/lodash.js");class r extends o.Component{constructor(e){super(e),this.selectedTarget=this.selectedTarget.bind(this)}getFilteredList(e,t,n={}){return!t||n.firstRender?e:a.filter(e,(e=>e.id&&a.includes(e.name.toLowerCase(),t.toLowerCase())))}selectedTarget(){var e=this.props.filterItems,t=this.props.selectedTarget,n=a.find(e,(e=>e.id===t.id));return n||{id:"none",name:this.props.initialLabel||"No result found"}}getOption(e,t,n={}){const s=e.name,a=e.id;return t&&!n.firstRender?o.createElement("div",{className:"input-select-item",key:a},o.createElement(i.default,{source:s,query:t})):o.createElement("div",{className:"input-select-item",key:a},s)}render(){var{title:e,description:t,customLabel:n,showCustomLabel:i,filterItems:a}=this.props;return o.createElement("div",{className:"integrations-add-card__segment"},o.createElement("div",{className:"integrations-add-card__label-title"},e),o.createElement("div",{className:"integrations-add-card__label-description"},t),o.createElement("div",{className:"integrations-add-card__input"},o.createElement(s.InputSelectV2,{style:{width:"100%"},onSelect:this.props.onTargetSelect,getFilteredList:this.getFilteredList.bind(this,a),optionRenderer:this.getOption,selectedItem:this.selectedTarget(),placeholder:this.props.placeholder,ref:"inputSelect",disabled:this.props.disabled,menuClassName:"integrations-target-selector-menu",getInputValue:e=>e.name||""}),i?n:""))}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SelectSegmentV2.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/SelectDropdown.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/DropdownOption.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("./version-control/common/ForkLabel.js"),c=n("./node_modules/lodash/lodash.js");class d extends o.Component{constructor(e){super(e),this.optionRenderer=e=>o.createElement(i.default,{option:e,workspaceId:this.props.workspaceId,entityType:this.props.entityType,tooltipMessage:e.disabledMessage||this.props.tooltipMessage}),this.validateEmptyString=this.validateEmptyString.bind(this),this.selectedTarget=this.selectedTarget.bind(this),this.optionRenderer=this.optionRenderer.bind(this)}filterOnLabel(e,t){return!t||(e.label&&"string"==typeof e.label?!(!t||!e.label.toLowerCase().includes(t.toLowerCase())):!e.name||"string"!=typeof e.name||e.name.toLowerCase().includes(t.toLowerCase()))}validateEmptyString(e){const t=e&&e.label&&e.label.trim();return!c.isEmpty(t)}selectedTarget(){if(this.props.multi)return this.props.value;var e=this.props.options,t=this.props.value,n=null;if(t&&(n=c.find(e,(e=>c.isEqual(e.value,t.value)))),n){let e,t;var s,i,d,u,p;return n.isForked?(e={id:null===(s=n)||void 0===s?void 0:s.id,forkLabel:null===(i=n)||void 0===i?void 0:i.forkLabel,model:null===(d=n)||void 0===d?void 0:d.type},t={id:null===(u=n)||void 0===u?void 0:u.baseCollectionUid,model:null===(p=n)||void 0===p?void 0:p.type},n={...n,label:o.createElement(a.default,{alignItems:"center",direction:"row",gap:"spacing-xs",className:"input-select-item",width:"100%"},o.createElement(r.default,{isTruncated:!0,maxWidth:"80%",color:"content-color-primary"},n.label),o.createElement(l.default,{forkedEntity:e,baseEntity:t,label:n.forkLabel}))}):n}return null}promptTextForCreateOption(e,t=""){return`${t} "${e}" `}render(){var{title:e,description:t,options:n,error:i,isCreatable:a,isClearable:r,noResultsForSearch:l,optional:d,noOptionsForDropdown:u,loading:p,disabled:m,handleRetry:h,checkForValidInput:g,customInputMessage:f,emptyStateError:b,label:y}=this.props;return o.createElement("div",{className:"integrations-add-card__segment"},o.createElement("div",{className:"integrations-add-card__label-title"},e," ",d?o.createElement("span",null,"(optional)"):""),o.createElement("div",{className:"integrations-add-card__label-description"},t),o.createElement("div",{className:"integrations-add-card__input"},o.createElement(s.default,{isCreatable:a,isClearable:r,multi:this.props.multi,label:y,optionRenderer:this.optionRenderer,loading:p,className:(b||i)&&"is-error",disabled:m,value:this.selectedTarget(),onValueClick:this.props.onTargetSelect,filterOption:this.filterOnLabel,noResultsText:n&&0!==n.length?l:u,options:n,isValidNewOption:g||this.validateEmptyString,placeholder:this.props.placeholder,ref:"inputSelect",promptTextCreator:e=>this.promptTextForCreateOption(e,f),menuClassName:"integrations-target-selector-menu",getInputValue:e=>e.name||""}),b?o.createElement("span",{className:"integrations-add-card__error"},b):i?o.createElement("span",{className:"integrations-add-card__error"},i+". ",c.isFunction(h)&&o.createElement("span",{onClick:h,className:"integrations-add-card__error__btn"},"Retry")):""))}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SensitiveFieldSegment.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/PasswordInput.js"),i=n("./node_modules/lodash/lodash.js"),a=n.n(i),r=n("./node_modules/classnames/index.js"),l=n.n(r),c=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/InlineFormActions.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}const p=(e,t)=>l()(e,{"hide-toggle":!a().isEmpty(t)});function m(e){const{isInlineSaveVisible:t,inlineSaveButtonData:n,onSave:i,value:r}=e,{isSaveDisabled:l,integrationId:m,payload:h}=n||{};return o.createElement(d.default,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"616px"},o.createElement("div",{className:"integrations-form__segment__input__inline-token"},(e=>{const{description:t,title:n,optional:i,id:r,customLink:l,error:c,descriptionClass:d,maskedPlaceholderWhenEmpty:m,...h}=e;return o.createElement("div",{className:"integrations-add-card__segment"},o.createElement("div",{className:"integrations-add-card__label-title"},n," ",i?o.createElement("span",null,"(optional)"):""),o.createElement("div",{className:d||"integrations-add-card__label-description"},t," ",l),o.createElement("div",{className:"integrations-add-card__input"},o.createElement(s.default,u({inputStyle:"box",type:"text",error:a().isEmpty(c)?"":"This is a mandatory field",placeholder:m?"************":""},h,{className:p(e.className,e.error)})),a().isEmpty(c)?"":o.createElement("div",{className:"integrations-add-card__error"},c)))})(e)),t&&o.createElement(c.default,{isSaveDisabled:l,integrationId:m,payload:h,onSave:i,value:r}))}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SensitiveFieldSegmentV2.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=(n("./node_modules/classnames/index.js"),n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"));function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function l(e){const{description:t,title:n,optional:s,id:l,customLink:c,error:d,descriptionClass:u,maskedPlaceholderWhenEmpty:p,...m}=e;return o.createElement("div",{className:"integrations-add-card__segment"},o.createElement("div",{className:"integrations-add-card__label-title-v2"},n," ",s?o.createElement("span",null,"(optional)"):""),o.createElement("div",{className:u||"integrations-add-card__label-description"},t," ",c),o.createElement("div",{className:"integrations-add-card__input"},o.createElement(a.default,r({type:"password",placeholder:p?"************":""},m)),i().isEmpty(d)?"":o.createElement("div",{className:"integrations-add-card__error"},d)))}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/WorkspaceSelector.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("./collaboration/workspace/controller/WorkspaceController.ts"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SelectSegmentV2.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("./node_modules/async/dist/async.js"),u=n("./integrations/constants/integrationsConstants.ts"),p=n("./node_modules/lodash/lodash.js");let m=(0,c.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,r.resolveStoreInstance)(l.default),this.state={workspaces:[],loading:!1,error:"",firstLoad:!0,shouldDisableDropdown:!1},this.fetchAllWorkspaces=this.fetchAllWorkspaces.bind(this),this.onTargetSelect=this.onTargetSelect.bind(this)}componentDidMount(){let{selectedWorkspace:e}=this.props;e?this.setState({workspaces:[e],shouldDisableDropdown:!0},(()=>{this.store.setSelectedWorkspace(e),this.setState({firstLoad:!1})})):this.fetchAllWorkspaces()}fetchAllWorkspaces(){this.setState({loading:!0,error:""});let e,t=[];(0,d.doUntil)((n=>{i.default.findAll({limit:50,...e&&{cursor:e}}).then((o=>(e=p.get(o,"meta.nextCursor"),t=p.unionBy(t,o.data,"id"),n()))).catch((e=>n(e)))}),(()=>p.isEmpty(e)),(e=>{if(e)this.setState({error:"Unable to load workspaces",loading:!1}),pm.toasts.error("Something went wrong while fetching workspaces"),pm.logger.error("Could not find workspaces",e);else{let n=!1;const o=t.map((e=>e.id&&e.name?{...e,label:e.name,value:e.id}:(n=!0,{})));n&&(this.setState({error:"Unable to load workspaces",loading:!1}),pm.toasts.error("Something went wrong while fetching workspaces"),pm.logger.error("Received malformed responses while fetching workspaces",e)),this.setState({workspaces:o,loading:!1})}}))}onTargetSelect(e){this.store.resetSelectedEntity(),this.store.resetSelectedEntityVersion(),p.isEmpty(e)?(this.store.resetAddIntegrationDependencies(),this.setState({firstLoad:!1})):this.store.setSelectedWorkspace(e)}render(){const{loading:e,error:t,workspaces:n,firstLoad:o,shouldDisableDropdown:i}=this.state,{selectedWorkspace:r}=this.store;return!i&&s.createElement(a.default,{title:"Choose workspace",description:this.props.description,disabled:this.props.disabled||e||i,error:t,entityType:u.entityTypes.WORKSPACES,loading:e,label:this.props.label,isClearable:!0,handleRetry:()=>this.fetchAllWorkspaces(),emptyStateError:!e&&n.length>0&&!r&&!o&&"Please select a workspace",options:n,value:r,onTargetSelect:this.onTargetSelect})}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/WorkspaceSelectorV2.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o,s=n("../../node_modules/react/index.js"),i=n("./collaboration/workspace/controller/WorkspaceController.ts"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("./node_modules/async/dist/async.js"),u=n("./js/components/base/LoadingIndicator.js"),p=n("./integrations/api-observability/components/base/CustomDropdown.js"),m=n("./node_modules/lodash/lodash.js");let h=(0,c.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,r.resolveStoreInstance)(l.default),this.state={workspaces:[],loading:!1,error:"",firstLoad:!0,shouldDisableDropdown:!1},this.fetchAllWorkspaces=this.fetchAllWorkspaces.bind(this),this.onTargetSelect=this.onTargetSelect.bind(this)}componentDidMount(){let{selectedWorkspace:e}=this.props;e?this.setState({workspaces:[e],shouldDisableDropdown:!0},(()=>{this.store.setSelectedWorkspace(e),this.setState({firstLoad:!1})})):this.fetchAllWorkspaces()}fetchAllWorkspaces(){this.setState({loading:!0,error:""});let e,t=[];(0,d.doUntil)((n=>{i.default.findAll({limit:50,...e&&{cursor:e}}).then((o=>(e=m.get(o,"meta.nextCursor"),t=m.unionBy(t,o.data,"id"),n()))).catch((e=>n(e)))}),(()=>m.isEmpty(e)),(e=>{if(e)this.setState({error:"Unable to load workspaces.",loading:!1}),pm.toasts.error("Something went wrong while fetching workspaces"),pm.logger.error("Could not find workspaces",e);else{let n=!1;const o=t.map((e=>e.id&&e.name?{...e,label:e.name,value:e.id}:(n=!0,{})));n&&(this.setState({error:"Unable to load workspaces",loading:!1}),pm.toasts.error("Something went wrong while fetching workspaces"),pm.logger.error("Received malformed responses while fetching workspaces",e)),this.setState({workspaces:o,loading:!1})}}))}onTargetSelect(e){this.store.setSelectedEntity([]),this.store.setSelectedEntityVersion([]),m.isEmpty(e)?(this.store.resetSelectedWorkspace([]),this.setState({firstLoad:!1})):(this.store.setSelectedWorkspace(e),this.setState({firstLoad:!1}))}renderLoadingState(){return s.createElement(a.default,{justifyContent:"space-between"},s.createElement("div",null,"Loading..."),s.createElement(u.default,{className:"loading-indicator-aether__dropdown"}))}getValidationState(){let{error:e,firstLoad:t,loading:n,workspaces:o}=this.state,{selectedWorkspace:i}=this.store;return e||!n&&o.length>0&&!m.get(i,"value")&&!t?{status:"error",message:e?s.createElement("div",null,"Unable to load workspaces.",s.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchAllWorkspaces()}},"Retry")):"Please select a workspace."}:{}}render(){const{loading:e,workspaces:t,shouldDisableDropdown:n}=this.state,{selectedWorkspace:o}=this.store;return!n&&s.createElement(p.default,{label:this.props.label||"Choose workspace",helperText:this.props.description,isDisabled:this.props.disabled||n,placeholder:e?this.renderLoadingState():"Select Workspace",className:e?"dropdown-icon-remove":"",isClearable:!0,validationState:this.getValidationState(),options:t||[],value:o,onChange:this.onTargetSelect,emptyStateMessage:"No workspaces found"})}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/AddButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var o,s=n("../../node_modules/react/index.js"),i=n("./js/components/base/Buttons.js"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("./js/services/NavigationService.js"),d=n("./integrations/navigation/constants.js"),u=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),p=n("./js/modules/services/AnalyticsService.js"),m=n("./node_modules/classnames/index.js"),h=n.n(m),g=n("./js/components/base/LoadingIndicator.js"),f=n("./node_modules/lodash/lodash.js");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},b.apply(this,arguments)}let y=(0,u.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,r.resolveStoreInstance)(l.default)}render(){const{disabled:e,payload:t,workspaceId:n,rule:o,service:r,alignLeft:l,integrationFormActions:u,source:m,labels:y,...v}=this.props,I=(null==y?void 0:y.add)||"Add Integration";let E=m||"team_integrations_create_forms";return s.createElement("div",{"data-testid":"add-integration-button",className:h()("integrations-add-actions__button--container",{"align-left":l})},s.createElement(i.Button,b({type:"primary",className:"integrations-add-actions__button--save-changes",disabled:e||this.store.isAdding,tooltip:e?"Make sure that you have entered all the mandatory fields":"",size:"small",onClick:()=>{this.store.updateIsAdding(!0),this.props.handleAddIntegration?this.props.handleAddIntegration():a.default.createIntegration(n||null,t).then((e=>{if(this.store.updateIsAdding(!1),200===e.status&&f.get(e,"body.model_id"))if(pm.toasts.success("Added a new integration"),p.default.addEventV2({category:"integrations",action:o+"_created_integration",label:E,value:1}),u)u(t);else{if("api_github"===o&&"github"===r)c.default.transitionTo(d.EDIT_INTEGRATIONS_IDENTIFIER,{integrationId:f.get(e,"body.data.id")},{apiId:t.executor,workspaceId:n});else if(this.props.redirect){const{identifier:e,routeParams:t,queryParams:n}=this.props.redirect;c.default.transitionTo(e,t,n)}else c.default.transitionTo(d.TEAM_INTEGRATIONS_IDENTIFIER,{serviceId:r,ruleId:o});this.store.refetchTeamIntegrations(),this.store.resetAddIntegrationDependencies(),this.store.setRuleSpecificTeamIntegrations(o,null)}else pm.toasts.error("Something went wrong while adding a new integration")})).catch((e=>{this.store.updateIsAdding(!1),pm.toasts.error(f.get(e,"error.details.message")||f.get(e,"error.message")||"Something went wrong while adding a new integration"),pm.logger.error("Something went wrong while adding a new integration",e)}))}},v)," ",this.store.isAdding?s.createElement(g.default,null):I))}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/CancelButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("./js/stores/StoreManager.js"),a=n("./js/stores/IntegrationsStore.js"),r=n("./js/components/base/Buttons.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("./js/services/NavigationService.js"),d=n("./node_modules/classnames/index.js"),u=n.n(d);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}let m=(0,l.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,i.resolveStoreInstance)(a.default)}render(){const{onClickHandler:e,service:t,alignLeft:n,integrationFormActions:o,payload:i,labels:a,...l}=this.props,d=(null==a?void 0:a.cancel)||"Cancel";return s.createElement("div",{"data-testid":"cancel-integration-addition-button",className:u()("integrations-add-actions__button--container",{"align-left":n})},s.createElement(r.Button,p({className:"integrations-add-actions__button--cancel",disabled:this.store.isAdding,type:"secondary",size:"small",onClick:()=>{o?o(i,"cancel"):(c.default.back(),this.store.resetAddIntegrationDependencies())}},l)," ",d," "))}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/DropdownOption.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o=n("../../node_modules/react/index.js"),s=n("./js/components/base/Tooltips.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-collection-stroke.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-forkedCollection-stroke.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-api-stroke.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-monitor-stroke.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-versions-stroke.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),m=n("./integrations/constants/integrationsConstants.ts"),h=n("./collaboration/utils/util.js"),g=n("./version-control/common/ForkLabel.js"),f=n("./node_modules/lodash/lodash.js");class b extends o.Component{constructor(e){super(e),this.state={showTooltip:!1},this.setShowTooltip=this.setShowTooltip.bind(this)}setShowTooltip(e){this.setState({showTooltip:e})}render(){const{option:e,tooltipMessage:t,entityType:n,workspaceId:b}=this.props;let y,v;return e.isForked&&(y={id:e.id,forkLabel:e.forkLabel,model:e.type},v={id:e.baseCollectionUid,model:e.type}),o.createElement("div",{className:e.disabled?"disabled-option":"",ref:e=>this.optionRef=e,onMouseEnter:()=>this.setShowTooltip(!0),onMouseLeave:()=>this.setShowTooltip(!1)},t&&!f.isEmpty(t)&&e.disabled&&o.createElement(s.Tooltip,{show:this.state.showTooltip,target:this.optionRef,placement:"left"},o.createElement(s.TooltipBody,null,t)),o.createElement(i.default,{direction:"row",gap:"spacing-s",alignItems:"center",alignSelf:"auto",className:"target-input-flex"},((e,t)=>{let n=e.disabled?"content-color-tertiary":"",s={[m.entityTypes.COLLECTIONS]:o.createElement(r.default,{color:n}),[m.entityTypes.COLLECTIONS_FORKED]:o.createElement(l.default,{color:n}),[m.entityTypes.APIS]:o.createElement(c.default,{color:n}),[m.entityTypes.MONITORS]:o.createElement(d.default,{color:n}),[m.entityTypes.API_VERSIONS]:o.createElement(u.default,{color:n})};return t===m.entityTypes.WORKSPACES?o.createElement(p.default,{name:h.default.getWorkspaceIconName(e),color:"content-color-tertiary"}):t===m.entityTypes.COLLECTIONS&&e&&e.forkLabel?s[m.entityTypes.COLLECTIONS_FORKED]:s[t]})(e,n),o.createElement(i.default,{direction:"row",gap:"spacing-xs",className:"input-select-item",width:"100%"},o.createElement(a.default,{isTruncated:!0,maxWidth:"80%"},e.label),e.isForked&&o.createElement(g.default,{workspaceId:b,forkedEntity:y,baseEntity:v,label:e.forkLabel}))))}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("./js/external-navigation/ExternalNavigationService.js");function a(e){const{extUrl:t}=e;return o.createElement("span",{onClick:()=>(0,i.openExternalLink)(t,"_blank")},o.createElement(s.default,{type:"link-default",isExternal:!0},e.children))}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{AddIntegrationActions:function(){return m.default},AuthUserSegment:function(){return g.default},CustomLink:function(){return h.default},EntitySelector:function(){return u.default},EntitySelectorV2:function(){return p.default},FieldSegment:function(){return o.default},NicknameFieldSegment:function(){return s.default},NicknameFieldSegmentV2:function(){return i.default},SelectSegment:function(){return r.default},SelectSegmentV2:function(){return l.default},SensitiveFieldSegment:function(){return a.default},SensitiveFieldSegmentV2:function(){return f.default},WorkspaceSelector:function(){return c.default},WorkspaceSelectorV2:function(){return d.default}});var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/FieldSegment.js"),s=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/NicknameFieldSegment.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/NicknameFieldSegmentV2.js"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SensitiveFieldSegment.js"),r=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SelectSegment.js"),l=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SelectSegmentV2.js"),c=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/WorkspaceSelector.js"),d=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/WorkspaceSelectorV2.js"),u=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/EntitySelector.js"),p=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/EntitySelectorV2.js"),m=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/AddIntegrationActions.js"),h=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/CustomLink.js"),g=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/AuthUserSegment.js"),f=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/SensitiveFieldSegmentV2.js")},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/Datadog.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var o,s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/index.js"),c=n("./integrations/monitoring/containers/helpers/DatadogAPMUtils.js"),d=n("./js/components/base/Inputs.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),f=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/EntityService.js"),b=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/EditFormActions.js"),y=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js"),v=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/FormUpdateChecker.ts");let I=(0,r.observer)(o=class extends a.Component{constructor(e){super(e),this.state={name:"",variables:{},configuredOn:null,loadingMonitorMeta:!1,errorMonitorMeta:"",advanced:!1},this.toggle=this.toggle.bind(this),this.fetchMonitorMeta=this.fetchMonitorMeta.bind(this),this.onRegionSelectorChange=this.onRegionSelectorChange.bind(this),this.getInitialState=this.getInitialState.bind(this)}componentDidMount(){const{executor:e}=this.props.controller.integrationData;this.setState(this.getInitialState()),this.fetchMonitorMeta(e)}getInitialState(){const{name:e,executor:t,id:n,rule:o,serviceId:s,variables:i}=this.props.controller.integrationData,a={name:e,serviceId:s,executor:t,variables:i,ruleId:o,events:"both"===i.options||"events"==i.options,metrics:"both"===i.options||"metrics"==i.options,integrationId:n};return"us"===a.variables.region?a.variables.region="us1":"eu"===a.variables.region&&(a.variables.region="eu1"),a}fetchMonitorMeta(e){this.setState({loadingMonitorMeta:!0,errorMonitorMeta:""}),f.default.fetchMonitorMeta(e).then((t=>{t.id&&t.name?this.setState({configuredOn:{value:e,label:t.name},loadingMonitorMeta:!1}):this.setState({errorMonitorMeta:"Unable to load monitors",loadingMonitorMeta:!1})})).catch((e=>{e.status>=500&&e.status<600?this.setState({errorMonitorMeta:"Unable to load monitors"}):pm.toasts.error("Something went wrong while fetching monitors, please try again"),pm.logger.error("Error occurred while fetching monitors",e),this.setState({loadingMonitorMeta:!1})}))}toggle(e){this.setState((t=>({[e]:!t[e]})))}onRegionSelectorChange(e){this.setState({region:e})}render(){const{advanced:e,name:t,metrics:n,region:o,events:s,configuredOn:r,variables:f,executor:I,integrationId:E,ruleId:_,serviceId:S,errorMonitorMeta:C,loadingMonitorMeta:T}=this.state,{integrationFormActions:j,source:A}=this.props;let w={name:t,executor:I,variables:{region:f.region,options:(s&&n?"both":s&&"events")||n&&"metrics"||"none",...f.api_key?{api_key:f.api_key}:{}}};return a.createElement("div",null,a.createElement(l.NicknameFieldSegment,{id:"datadog-nickname",value:t,error:i().isEmpty(t)?"Please enter a nickname":"",onBlur:()=>{this.setState({name:t.trim()})},onChange:e=>{this.setState({name:e})}}),a.createElement(l.SelectSegmentV2,{disabled:!0,title:"Choose Monitor",description:"The results of the selected monitor will be sent to Datadog",value:r,options:r?[r]:[],error:C,loading:T,handleRetry:()=>this.fetchMonitorMeta(I)}),a.createElement(u.default,{padding:{paddingTop:"spacing-l"}},a.createElement(p.default,{name:"Select Datadog site",value:f.region,direction:"column",onChange:e=>{this.setState({variables:{...f,region:e,api_key:""}})},label:a.createElement(m.default,{text:"Select Datadog region",type:"primary"}),helperText:"This helps us know what Datadog region to use."},a.createElement(h.default,{label:"US1 (datadoghq.com)",value:"us1"}),a.createElement(h.default,{label:"US3 (us3.datadoghq.com)",value:"us3"}),a.createElement(h.default,{label:"US5 (us5.datadoghq.com)",value:"us5"}),a.createElement(h.default,{label:"EU1 (datadoghq.eu)",value:"eu1"}),a.createElement(h.default,{label:"US1-FED (ddog-gov.com)",value:"us1-fed"}))),a.createElement(l.SensitiveFieldSegment,{maskedPlaceholderWhenEmpty:!0,title:"Datadog API Key",description:"Enter the API Key provided by Datadog or",customLink:a.createElement(y.default,{extUrl:`${c.default.getDatadogHostname(f.region)}/organization-settings/api-keys`},"generate one here"),id:"datadog-key",value:f.api_key||"",onChange:e=>{this.setState({variables:{...f,api_key:e}})}}),a.createElement("h6",{className:"pm-h6 integrations-add-card__advanced",onClick:()=>{this.toggle("advanced")}},"Advanced Options",a.createElement(g.default,{className:"push-half--left",name:"icon-state-decrease",size:"small"})),e&&a.createElement("div",{className:"push-double--bottom"},a.createElement("div",{className:"integrations-checkbox__select-group--events"},a.createElement(d.Checkbox,{checked:s,onChange:()=>{this.toggle("events")}}),a.createElement("span",null,"Send events for completed runs")),a.createElement("div",{className:"integrations-checkbox__select-group--events"},a.createElement(d.Checkbox,{checked:n,onChange:()=>{this.toggle("metrics")}}),a.createElement("span",null,"Send metrics for each run"))),a.createElement(b.default,{disabled:!(r&&t&&f.region&&(s||n)&&(0,v.isFormUpdated)(this.getInitialState(),this.state)),integrationId:E,payload:w,rule:_,service:S,integrationFormActions:j,source:A}))}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/NewRelic.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o,s=n("../../node_modules/react/index.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=(n("../../node_modules/mobx/lib/mobx.module.js"),n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/index.js")),r=n("./node_modules/react-radio-group/lib/index.js"),l=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/EntityService.js"),c=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/EditFormActions.js"),d=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js"),u=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/FormUpdateChecker.ts"),p=n("./node_modules/lodash/lodash.js");let m=(0,i.observer)(o=class extends s.Component{constructor(e){super(e),this.state={name:"",variables:{},configuredOn:null,loadingMonitorMeta:!1,errorMonitorMeta:""},this.toggle=this.toggle.bind(this),this.fetchMonitorMeta=this.fetchMonitorMeta.bind(this),this.getInitialState=this.getInitialState.bind(this)}componentDidMount(){const{executor:e}=this.props.controller.integrationData;this.setState(this.getInitialState()),this.fetchMonitorMeta(e)}getInitialState(){const{name:e,executor:t,id:n,rule:o,serviceId:s,variables:i}=this.props.controller.integrationData;return{name:e,serviceId:s,executor:t,variables:i,ruleId:o,integrationId:n}}fetchMonitorMeta(e){this.setState({loadingMonitorMeta:!0,errorMonitorMeta:""}),l.default.fetchMonitorMeta(e).then((t=>{t.id&&t.name?this.setState({configuredOn:{value:e,label:t.name},loadingMonitorMeta:!1}):this.setState({errorMonitorMeta:"Unable to load monitors",loadingMonitorMeta:!1})})).catch((e=>{e.status>=500&&e.status<600?this.setState({errorMonitorMeta:"Unable to load monitors"}):pm.toasts.error("Something went wrong while fetching monitors, please try again"),pm.logger.error("Error occurred while fetching monitors",e),this.setState({loadingMonitorMeta:!1})}))}toggle(e){this.setState((t=>({[e]:!t[e]})))}render(){const{name:e,configuredOn:t,variables:n,executor:o,integrationId:i,ruleId:l,serviceId:m,errorMonitorMeta:h,loadingMonitorMeta:g,region:f}=this.state,{integrationFormActions:b,source:y}=this.props;let v={name:e,executor:o,variables:{region:n.region,...n.api_key?{api_key:n.api_key}:{}}};return s.createElement("div",null,s.createElement(a.NicknameFieldSegment,{id:"new-relic-nickname",value:e,error:p.isEmpty(e)?"Please enter a nickname":"",onBlur:()=>{this.setState({name:e.trim()})},onChange:e=>{this.setState({name:e})}}),s.createElement(a.SelectSegmentV2,{disabled:!0,title:"Choose Monitor",description:"The results of the selected monitor will be sent to New Relic",value:t,options:t?[t]:[],error:h,loading:g,handleRetry:()=>this.fetchMonitorMeta(o)}),s.createElement(a.SensitiveFieldSegment,{maskedPlaceholderWhenEmpty:!0,title:"New Relic API Key",description:"Enter the API Key provided by New Relic or ",customLink:s.createElement(d.default,{extUrl:"https://go.pstmn.io/docs-newrelic-insights-key"},"generate one here"),id:"new-relic-key",value:n.api_key||"",onChange:e=>{this.setState({variables:{...n,api_key:e}})}}),s.createElement("div",{className:"push-double--bottom"},s.createElement("label",null,s.createElement("h4",{className:"integrations-add-card__label-title"},"Select New Relic region"),s.createElement("p",{className:"integrations-add-card__label-description"},"This helps us know what New Relic region to use")),s.createElement(r.RadioGroup,{name:"Select New Relic site",selectedValue:n.region,onChange:e=>{this.setState({variables:{...n,region:e}})}},s.createElement("div",{className:"integrations-radio-button__select-group--regions"},s.createElement("label",null,s.createElement(r.Radio,{value:"us",className:"radio-button integrations-radio-button__select-group--regions__radio region-us"}),s.createElement("span",null,"US (.com)"))),s.createElement("div",{className:"integrations-radio-button__select-group--regions"},s.createElement("label",null,s.createElement(r.Radio,{value:"eu",className:"radio-button integrations-radio-button__select-group--regions__radio region-eu"}),s.createElement("span",null,"EU (.eu)"))))),s.createElement(c.default,{disabled:!(t&&e&&n.region&&(0,u.isFormUpdated)(this.getInitialState(),this.state)),integrationId:i,payload:v,rule:l,service:m,integrationFormActions:b,source:y}))}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/CancelButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o,s=n("../../node_modules/react/index.js"),i=n("./js/stores/StoreManager.js"),a=n("./js/stores/IntegrationsStore.js"),r=n("./js/components/base/Buttons.js"),l=n("./js/services/NavigationService.js");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c.apply(this,arguments)}let d=(0,n("../../node_modules/mobx-react/dist/mobx-react.module.js").observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,i.resolveStoreInstance)(a.default)}render(){const{integrationId:e,integrationFormActions:t}=this.props;return s.createElement("div",{className:"integrations-edit-actions__button--container"},s.createElement(r.Button,c({className:"integrations-edit-actions__button--cancel",disabled:this.store.isAdding,type:"secondary",size:"small",onClick:()=>{t?t(e,"cancel"):(l.default.back(),this.store.resetAddIntegrationDependencies())}},this.props)," Cancel "))}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/EditFormActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("../../node_modules/react/index.js"),s=(n("./node_modules/lodash/lodash.js"),n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/CancelButton.js")),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/SaveChangesButton.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function r(e){let{disabled:t,integrationId:n,payload:r,integrationFormActions:l,source:c,showDivider:d,...u}=e;return c||(c="team_integrations_edit_forms"),o.createElement("div",null,d&&o.createElement("hr",{className:"integration-edit-actions__separator"}),o.createElement("div",{className:"integration-edit-actions__button"},o.createElement(i.default,a({disabled:t,integrationId:n,payload:r,integrationFormActions:l,source:c},u)),o.createElement(s.default,a({integrationId:n,payload:r,integrationFormActions:l,source:c},u))))}r.defaultProps={showDivider:!0}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/InlineFormActions.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),r=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/constants/EditForm.js");function l(e){const{isSaveDisabled:t,integrationId:n,payload:l,value:c}=e,[d,u]=(0,o.useState)(!1);return o.createElement(s.default,{className:"integrations-edit-actions__button--container-inline"},o.createElement(i.default,{type:"secondary",text:"Cancel",isDisabled:d,onClick:()=>{e.onSave("",r.RESET)}}),o.createElement(i.default,{type:"primary",text:"Save",isDisabled:t,isLoading:d,onClick:()=>{u(!0),a.default.updateIntegration(n,l).then((t=>{e.onSave(c)})).catch((e=>{pm.toasts.error("Something went wrong while saving the changes. Please try again.",{title:"Unable to save changes"}),pm.logger.error("Something went wrong while saving the changes.",e)})).finally((()=>{u(!1)}))}}))}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/edit/common/SaveChangesButton.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var o,s=n("../../node_modules/react/index.js"),i=n("./js/components/base/Buttons.js"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/IntegrationsStore.js"),c=n("./js/services/NavigationService.js"),d=n("./integrations/navigation/constants.js"),u=n("./integrations/monitoring/constants.js"),p=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),m=n("./js/components/base/LoadingIndicator.js"),h=n("./js/modules/services/AnalyticsService.js"),g=n("./node_modules/lodash/lodash.js");function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},f.apply(this,arguments)}let b=(0,p.observer)(o=class extends s.Component{constructor(e){super(e),this.store=(0,r.resolveStoreInstance)(l.default)}render(){const{disabled:e,payload:t,integrationId:n,rule:o,service:r,source:l,integrationFormActions:p,generatePayload:b,...y}=this.props,v=l||"team_integrations_edit_forms";return s.createElement("div",{className:"integrations-edit-actions__button--container"},s.createElement(i.Button,f({type:"primary",className:"integrations-edit-actions__button--save-changes",disabled:e||this.store.isAdding,size:"small",tooltip:e?"Make sure that you have entered all the mandatory fields":"",onClick:async()=>{this.store.updateIsAdding(!0);let e=g.assign({},t);if(g.isFunction(b))try{e=await b(t)}catch(e){return this.store.updateIsAdding(!1),void pm.toasts.error(u.ERROR_ADDING_NEW_RELIC_TO_TEAM)}a.default.updateIntegration(n,e).then((e=>{this.store.updateIsAdding(!1),200===e.status&&e.body.model_id?(pm.toasts.success(`You updated the ${g.get(e.body,"data.name")} integration`,{noIcon:!0,title:"Changes Saved"}),h.default.addEventV2({category:"integrations",action:o+"_edited_integration",label:v,value:1}),p&&g.isFunction(p)?p(n):(c.default.transitionTo(d.TEAM_INTEGRATIONS_IDENTIFIER,{serviceId:r,ruleId:o}),this.store.setRuleSpecificTeamIntegrations(o,null),this.store.resetAddIntegrationDependencies())):pm.toasts.error("Looks like this isn't working right now. Please try again later.",{noIcon:!0,title:"Unable to save changes"})})).catch((e=>{this.store.updateIsAdding(!1),this.store.resetAddIntegrationDependencies(),pm.toasts.error(g.get(e,"error.details.message")||g.get(e,"error.message")||"Looks like this isn't working right now. Please try again later.",{noIcon:!0,title:"Unable to save changes"}),pm.logger.error("Something went wrong while updating a new integration",e)}))}},y)," ",this.store.isAdding?s.createElement(m.default,null):"Save Changes"))}})||o},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/empty-states/NoSearchResults.js":function(e,t,n){"use strict";n.r(t),n.d(t,{IntegrationDescription:function(){return r},default:function(){return l}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),i=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js");function a(e){return o.createElement("a",{className:"pm-link",href:"https://go.pstmn.io/new-integration-request",rel:"noopener noreferrer",target:"_blank"},e.children)}function r(){return o.createElement("span",{className:"team-integrations-no-search-results__subtext--body"},"If you can't find what you're looking for, head to GitHub and tell us what integrations you'd like to see.",o.createElement(a,null,"Request an Integration"),o.createElement(i.default,{name:"icon-action-openWeb-stroke",className:"external-link__icon"}))}class l extends o.Component{constructor(e){super(e)}render(){return o.createElement("div",{className:"team-integrations-no-search-results"},o.createElement("div",{className:"team-integrations-no-search-results__illustration-wrapper"},o.createElement(s.default,null)),o.createElement("div",{className:"team-integrations-no-search-results__label"},"No results found"),o.createElement("div",{className:"team-integrations-no-search-results__subtext"},this.props.requestNewIntegration?o.createElement(r,null):"We couldn't find anything matching that. Check the spelling or try using a different query."))}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/error-states/ErrorState.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnauthorizedError.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),l=n("./node_modules/lodash/lodash.js");class c extends o.Component{constructor(e){super(e)}render(){return o.createElement("div",{className:"team-integrations-error-state"},o.createElement("div",{className:"team-integrations-error-state__illustration-wrapper team-integrations-error-state__illustration-wrapper--collections"},function(e){let t=o.createElement(a.default,null);return"team_integrations_in_detail"===e.origin||l.isEqual(l.get(e,"error.name"),"instanceNotFoundError")&&(t=o.createElement(r.default,null)),t}(this.props.errorDetails)),o.createElement("div",{className:"team-integrations-error-state__title"},function(e){let t=e.title||"Something went wrong";return 404===e.status||400===e.status?t="We can't seem to find this page":"ESOCKETTIMEDOUT"===l.get(e,"error.details.code","")&&(t="Your request timed out"),"team_integrations_in_detail"===e.origin||l.isEqual(l.get(e,"error.name"),"instanceNotFoundError")&&(t="Couldn't find the run log for this Integration"),t}(this.props.errorDetails)),o.createElement("div",{className:"team-integrations-error-state__subtitle"},function(e){let t=e.subtitle||"Try refreshing the page. If you keep getting this error, contact help@postman.com.";return 404!==e.status&&400!==e.status||(t="Looks like the page you're looking for doesn't exist."),"team_integrations_in_detail"===e.origin||l.isEqual(l.get(e,"error.name"),"instanceNotFoundError")&&(t="This integration may have been deleted or the URL maybe incorrect."),t}(this.props.errorDetails)))}}c.propTypes={errorDetails:i().object,origin:i().string}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/integrationRunsListing/utils/utils.js":function(e,t,n){"use strict";function o(e,t,n){if("string"==typeof e&&e.length<t){let o="",s=t-e.length;for(;o.length<s;)o+=n;return o+e}return e}n.r(t),t.default={format:function(e,t,n={}){const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=new Date(e),a=n.padDate?o(i.getDate().toString(),2,"0"):i.getDate(),r=i.getMonth(),l=i.getFullYear(),c=i.getHours()%12||12,d=o(i.getMinutes().toString(),2,"0"),u=i.getHours()<12?"AM":"PM",p=t?`${c}:${d} ${u}, ${a} ${s[r]} ${l}`:`${a} ${s[r]}, ${l}`;return"NaN"===a.toString()?"string"==typeof e&&e.indexOf(" ")>-1?this.format(e.replace(" ","T"),t):"":p}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/constants/EditForm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{RESET:function(){return o}});const o="reset"},"./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationClassService.js":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts");const s="integrations";t.default={fetchIntegrationClassDetails(e,t){const n=`/integration-classes/${e}`;return o.HTTPGatewayService.request({data:{service:s,method:"get",path:n,query:t}})},fetchAvailableClasses:()=>o.HTTPGatewayService.request({data:{service:s,method:"get",path:"/integration-classes"}}),fetchAvailableServices:()=>o.HTTPGatewayService.request({data:{service:s,method:"get",path:"/services"}}),fetchIntegrationServiceDetails(e,t){const n=`/services/${e}`;return o.HTTPGatewayService.request({data:{service:s,method:"get",path:n,query:t}})}}},"./runtime-repl/request-http/datastores/RequestMethodsStore.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o,s,i=n("../../node_modules/mobx/lib/mobx.module.js"),a=n("./runtime-repl/request-http/datastores/controllers/RequestMethodsController.js"),r=n("./node_modules/lodash/lodash.js");function l(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}const c="requestmethod";let d=(s=l((o=class{constructor(){var e,t,n,o;this.modelEvents={namespace:c},e=this,t="methods",o=this,(n=s)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0}),this.defaultEventListeners={added(e){const t=r.get(e,c);this.update(t)},removed(e){const t=r.get(e,c);this.update(t)}},this.hydrate()}update(e){r.isArray(e)&&(this.methods=e)}hydrate(){a.default.getAllMethods().then((e=>{this.update(e)}))}getModelEventListeners(){if(this.modelEvents)return this.modelEvents.namespace?{[this.modelEvents.namespace]:this.defaultEventListeners}:void 0}}).prototype,"methods",[i.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l(o.prototype,"update",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),l(o.prototype,"hydrate",[i.action],Object.getOwnPropertyDescriptor(o.prototype,"hydrate"),o.prototype),o)},"./version-control/Watch/components/WatchButton/WatchButton.js":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/CounterButton.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-view-fill.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-view-stroke.js"),p=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),m=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),h=n("./version-control/Watch/components/WatchersList.js"),g=n("./version-control/Watch/components/WatchPreferences.js"),f=n("./version-control/common/ControlledComboButton/index.js"),b=n("./version-control/common/OutsideClick/index.js"),y=n("./version-control/utils/number.ts");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)}const I=m.createGlobalStyle`
  .watch-button__watch-preferences-popover {
    background-color: ${({theme:e})=>e["background-color-primary"]};
    width: 320px;
    border: none;
    padding: 0;
  }

  .watch-button__watch-preferences-popover .tooltip-wrapper {
    background-color: ${({theme:e})=>e["background-color-primary"]};
  }

  .watch-button__watch-preferences-popover.bs-tooltip-bottom {
    padding-bottom: 0;
  }

  .watch-button__watchers-popover {
    background-color: ${({theme:e})=>e["background-color-primary"]};
    width: 256px;
    border: none;
    padding: 0;
  }

  .watch-button__watchers-popover .tooltip-wrapper {
    background-color: ${({theme:e})=>e["background-color-primary"]};
    padding-bottom: 0;
  }

  .watch-button-wrapper {
    button {
      color: ${({theme:e})=>e["content-color-secondary"]};
      background-color: unset;
      min-width: unset;

      &:hover {
        color: ${({theme:e})=>e["content-color-primary"]};
        background-color: ${({theme:e})=>e["highlight-background-color-primary"]};
      }
    }

    &:hover {
      .controlled-combo-button__separator {
        border-left-color: transparent;
      }
    }
  }
`,E=m.default.div`
  display: flex;

  .model-watch-button {
    display: inline-flex;
    justify-content: space-between;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
    border-right: ${({theme:e})=>e["border-width-default"]}
      ${({theme:e})=>e["border-style-solid"]}
      ${({theme:e})=>e["border-color-strong"]};
    font-size: ${({theme:e})=>e["text-size-m"]};
    font-weight: ${({theme:e})=>e["text-weight-regular"]};
    color: ${({theme:e})=>e["content-color-primary"]};
    /**
     * Hacky fix to make button look like aether button.Replace with aether button
     * when it supports icon on the right and left together.
     */
    background-color: ${({theme:e})=>e["button-secondary-background-color"]};
  }

  .model-watch-button.is-active {
    background-color: ${({theme:e})=>e["button-secondary-background-color"]};
  }

  .watch-label {
    margin-left: ${({theme:e})=>e["spacing-s"]};
    font-size: ${({theme:e})=>e["text-size-m"]};
    font-weight: ${({theme:e})=>e["text-weight-regular"]};
  }

  .count-btn {
    min-width: ${({theme:e})=>e["size-m"]};
    padding: ${({theme:e})=>e["spacing-s"]};
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    font-size: ${({theme:e})=>e["text-size-m"]};
    font-weight: ${({theme:e})=>e["text-weight-regular"]};
    color: ${({theme:e})=>e["content-color-primary"]};
    /**
     * Hacky fix to make button look like aether button.Replace with aether button
     * when it supports icon on the right and left together.
     */
  }

  .count-btn.is-active {
    color: ${({theme:e})=>e["content-color-primary"]};
  }

  .caret {
    margin-left: ${({theme:e})=>e["spacing-s"]};
  }

  && svg > path[fill] {
    fill: ${({theme:e})=>e["content-color-secondary"]};
  }

  .is-disabled.is-disabled:hover {
    opacity: 0.4;
    color: ${({theme:e})=>e["content-color-primary"]};
  }
`;function _(e){const{className:t,style:n,model:s,isWatching:i,isFetchingWatchers:m,isFetchingMoreWatchers:_,isFetchingPreferences:S,disableCount:C,restrictPreferencesChange:T,isWatchToggleDisabled:j,isPreferencesEnabled:A,watchersCount:w,privateWatchersCount:O,watchersList:N,lastWatcherElementRef:D,preferences:R,watchPreferencesPopoverDescription:P,countBtnTooltip:M,watchersListFetchErr:L,watchToggleTooltip:x,currentUserId:k,hideLabel:F,onWatchersListOpen:V,onOpenPreferences:B,onClickWatchStateChangeTrigger:U,onPreferenceChange:z,reloadWatchers:H,resetPageId:G,renderWatchPreferencesTitle:W,toggleWatch:$,isProcessingWatchToggle:q,isFetchingModelWatchStatus:Y}=e,[K,J]=o.useState(!1),[Z,X]=o.useState(!1),[Q,ee]=o.useState(!1),[te,ne]=o.useState("watch-button__watchers-popover"),oe=o.useRef();(0,o.useEffect)((()=>{J(Q),Q?(B(),U()):Z&&V()}),[Q,Z]),(0,b.useOutsideClick)(oe,(()=>{X(!1),G&&G()}));const se=o.createElement(o.Fragment,null,i?o.createElement(d.default,{size:"small",color:"content-color-secondary"}):o.createElement(u.default,{color:"content-color-secondary",size:"small"}),!e.hideLabel&&o.createElement("div",{className:"watch-label"},i?"Watching":"Watch"),(K&&!T||i)&&o.createElement(p.default,{name:"icon-direction-down",className:"caret",color:"content-color-secondary"}));return o.createElement(o.Fragment,null,o.createElement(E,{className:t,style:n},A?(()=>{const e={primaryButtonText:se,primaryButtonIcon:i?"icon-action-view-fill":"icon-action-view-stroke",primaryButtonTextHide:F,onPrimaryButtonClick:Q?null:()=>{ee(!0),ne("watch-button__watch-preferences-popover")},isPrimaryButtonLoading:q,isPrimaryButtonDisabled:j,primaryButtonTooltip:j&&x,useCustomButton:!0,primaryButtonMinWidth:"88px",buttonIconSize:"small"},t={menuButtonText:w||0,isMenuButtonDisabled:C,menuButtonTooltip:C&&M,onMenuButtonClick:Z?null:()=>{X(!0),ne("watch-button__watchers-popover")}},n={isMenuOpen:Z||Q,renderMenuContent:()=>o.createElement(o.Fragment,null,Z&&o.createElement(h.default,{list:N,isLoading:m,isLoadingMore:_,count:w,error:L,reload:H,currentUserId:k,model:s}),!T&&Q&&o.createElement(g.default,{isLoading:S,preferences:R,onPreferenceChange:z,description:P,renderTitle:W})),onMenuClose:()=>{Z&&X(!1),Q&&ee(!1),G&&G()}};return o.createElement(f.default,v({},e,t,n,{className:"watch-button-wrapper",popoverClassName:te}))})():(()=>{const e={primaryButtonIcon:i?"icon-action-view-fill":"icon-action-view-stroke",primaryButtonTextHide:F,onPrimaryButtonClick:()=>$(!i),isPrimaryButtonLoading:q||Y,isPrimaryButtonDisabled:j,primaryButtonTooltip:j&&o.createElement(a.default,{placement:"bottom",content:x,openDelay:2e3}),primaryButtonMinWidth:"88px",buttonIconSize:"small"};F||(e.primaryButtonText=i?"Unwatch":"Watch"),!j&&F&&(e.primaryButtonTooltip=i?"Unwatch":"Watch");return o.createElement(r.default,{type:"primary",text:e.primaryButtonText,onClick:e=>{e.preventDefault(),e.stopPropagation(),$(!i)},count:(0,y.default)(w)||0,isDisabled:j,isLoading:e.isPrimaryButtonLoading,tooltip:e.primaryButtonTooltip,icon:i?"icon-action-view-fill":"icon-action-view-stroke",secondaryButton:o.createElement(l.default,{isDisabled:C,tooltip:M,ref:oe,onClick:e=>{e.preventDefault(),e.stopPropagation(),Z?(X(!1),G&&G()):X(!0)}})},o.createElement(c.default,{isOpen:Z,maxWidth:300,placement:"top",padding:"spacing-m",triggerRef:oe},o.createElement(h.default,{list:N,lastWatcherElementRef:D,isLoading:m,isLoadingMore:_,count:w,privateWatchersCount:O,error:L,reload:H,currentUserId:k,model:s})))})()),o.createElement(I,null))}_.propTypes={style:i().object,className:i().string,isWatching:i().bool.isRequired,watchersCount:i().number,privateWatchersCount:i().number,onWatchersListOpen:i().func.isRequired,watchersList:i().arrayOf(i().shape({name:i().string.isRequired,profileUrl:i().string.isRequired,profilePicUrl:i().string.isRequired,userId:i().string.isRequired})),isFetchingWatchers:i().bool,isFetchingMoreWatchers:i().bool,onOpenPreferences:i().func,onClickWatchStateChangeTrigger:i().func.isRequired,isFetchingPreferences:i().bool,preferences:i().object,onPreferencesChange:i().func,restrictPreferencesChange:i().bool,watchersListFetchErr:i().oneOfType([i().bool,i().object]),reloadWatchers:i().func,disableCount:i().bool,countBtnTooltip:i().string,isWatchToggleDisabled:i().bool,watchToggleTooltip:i().string,renderWatchPreferencesTitle:i().func,currentUserId:i().string,isPreferencesEnabled:i().bool,isProcessingWatchToggle:i().bool,isFetchingModelWatchStatus:i().bool,toggleWatch:i().func,watchPreferencesPopoverDescription:i().string},t.default=_},"./version-control/Watch/components/WatchContainer/Watch.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o,s,i,a,r=n("../../node_modules/react/index.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("../../node_modules/mobx/lib/mobx.module.js"),d=n("./node_modules/prop-types/index.js"),u=n.n(d),p=n("./js/stores/CurrentUserInfoStore.js"),m=n("./js/stores/StoreManager.js"),h=n("./js/services/UIEventService.js"),g=n("./growth/foundation/public/features/Checklist/constants/UIEventConstants.js"),f=n("./version-control/Watch/WatchService.js"),b=n("./version-control/Watch/components/WatchButton/WatchButton.js"),y=n("./version-control/Watch/config.js"),v=n("./js/modules/services/AnalyticsService.js"),I=n("./node_modules/lodash/lodash.js");function E(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function _(e,t,n,o,s){var i={};return Object.keys(o).forEach((function(e){i[e]=o[e]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,o){return o(e,t,n)||n}),i),s&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(s):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}let S=(0,l.observer)((s=class extends r.Component{constructor(e){super(e),E(this,"watcherPreferences",i,this),this.setComponentOnline=I.debounce((()=>{this.setOffline(!1)}),2e3,{leading:!0,trailing:!1}),this.setComponentOffline=I.debounce((()=>{this.setOffline(!0)}),2e3,{leading:!0,trailing:!1}),this.fetchWatchConfig=()=>{(0,f.getWatchConfig)(this.props.model,this.props.modelId,this.props.subEntityType).then((e=>{this.setState({isPreferencesEnabled:e.enabled})})).catch((e=>{this.setState({isPreferencesEnabled:!1})}))},this.fetchPermissions=()=>{this.setState({isFetchingPermissions:!0,permissionFetchErr:null}),(0,f.checkWatchAccess)(this.props.model,this.props.modelId).then((({isPublic:e})=>{this.setState({isPublicModel:e,isFetchingPermissions:!1})})).catch((e=>{this.setState({isFetchingPermissions:!1,permissionFetchErr:e.error})}))},this.toggleWatch=(e=!this.state.isWatchingModel)=>("collection"===this.props.model&&e&&h.default.publish(g.COLLECTION_WATCH_TOGGLE_EVENT),new Promise(((t,n)=>{const o=y.default[this.props.model].signInOptions,{isPublicModel:s}=this.state,i=(0,m.resolveStoreInstance)(p.default);i.isLoggedIn?e&&s&&!i.hasPublicProfile?(this.setState({restrictPreferencesChange:!0}),pm.mediator.trigger("showUpdateUserProfileModalV2",{onComplete:()=>{this.setWatchStatus(!0).then((()=>{this.setState({restrictPreferencesChange:!1}),t()}))},onCancel:()=>{this.setState({restrictPreferencesChange:!1}),n()}})):this.setWatchStatus(e).then((()=>{t()})):(this.setState({restrictPreferencesChange:!0}),this.props.redirectLogin?this.props.redirectLogin():pm.mediator.trigger("showSignInModal",{type:o.type,origin:o.origin,continueUrl:o.getContinueURL()}),n())}))),this.fetchWatchingState=()=>{const{model:e,modelId:t}=this.props;this.setState({isFetchingModelWatchStatus:!0,modelWatchStatusFetchError:null}),(0,f.isWatchingModel)(e,t).then((e=>{this.setState({isWatchingModel:e,isFetchingModelWatchStatus:!1})})).catch((e=>{this.setState({isFetchingModelWatchStatus:!1,modelWatchStatusFetchError:e.error})}))},this.fetchWatchersCount=()=>{const{model:e,modelId:t}=this.props;this.setState({isFetchingWatchersCount:!0,watchersCountFetchingErr:void 0}),(0,f.getModelWatchersCount)(e,t).then((e=>{this.setState({watchersCount:e,isFetchingWatchersCount:!1})})).catch((e=>{this.setState({isFetchingWatchersCount:!1,watchersCountFetchingErr:e.error})}))},this.onOpenWatchersList=()=>{this.fetchWatchersList()},this.fetchWatchersList=()=>{const{model:e,modelId:t}=this.props,{pageId:n}=this.state;0!==this.state.watchersCount?(this.setState({isFetchingWatchers:!0}),(0,f.getModelWatchersPaginated)(e,t,n,20).then((({list:e,privateWatchersCount:t,nextPageId:n})=>{this.setState({watchersList:e,privateWatchersCount:t,isFetchingWatchers:!1,pageId:n})})).catch((e=>{this.setState({isFetchingWatchers:!1,watchersListFetchErr:e})}))):this.setState({watchersList:[],isFetchingWatchers:!1})},this.loadMoreWatchers=()=>{const{model:e,modelId:t}=this.props,{pageId:n}=this.state;n&&(this.setState({isFetchingMoreWatchers:!0}),(0,f.getModelWatchersPaginated)(e,t,n).then((({list:e,nextPageId:t})=>{this.setState({watchersList:I.concat(this.state.watchersList,e),pageId:t,isFetchingMoreWatchers:!1})})).catch((e=>{this.setState({isFetchingMoreWatchers:!1,watchersListFetchErr:e})})))},this.lastWatcherElementRef=e=>{this.state.isFetchingMoreWatchers||(this.observer.current&&this.observer.current.disconnect(),this.observer.current=new IntersectionObserver((e=>{e[0].isIntersecting&&this.state.pageId&&this.loadMoreWatchers()})),e&&this.observer.current.observe(e))},this.resetPageId=()=>{this.setState({pageId:""})},this.fetchPreferences=()=>{const{model:e,modelId:t}=this.props;this.state.isWatchingModel&&(this.setState({isFetchingPreferences:!0}),(0,f.getWatcherPreferences)(e,t,this.props.subEntityType).then((({preferences:e,description:t})=>{this.setWatcherPreference(e),this.preferencesDescription=t,this.setState({isFetchingPreferences:!1})})).catch((e=>{this.setState({isFetchingPreferences:!1,preferenceFetchErr:e})})))},this.onWatchStateChangeTrigger=async()=>{this.setState({restrictPreferencesChange:!1});try{if(this.state.isWatchingModel)return;this.setState({isFetchingPreferences:!0}),await this.toggleWatch(!0),this.fetchPreferences()}catch(e){this.setState({isFetchingPreferences:!1,restrictPreferencesChange:!0})}},this.onPreferenceChange=e=>{e.some((e=>e.enabled))?!this.state.isWatchingModel&&this.toggleWatch(!0):this.state.isWatchingModel&&this.toggleWatch(!1),this.updatePreferences(e)},this.updatePreferences=e=>{const t=e.reduce(((e,t)=>(e[t.key]=t.enabled,e)),{});this.setPreferences(t)},this.setPreferences=e=>{const{model:t,modelId:n}=this.props;(0,f.updateWatcherPreferences)(t,n,e)},E(this,"isOffline",a,this),this.observer=r.createRef(),this.state={isFetchingModelWatchStatus:!1,isWatchingModel:!1,isProcessingWatchToggle:!1,isFetchingWatchersCount:!1,isFetchingWatchers:!0,isFetchingMoreWatchers:!1,isFetchingPreferences:!0,pageId:"",isPublicModel:!1,isFetchingPermissions:!0,isPreferencesEnabled:!1},this.preferencesDescription=""}componentDidMount(){this.fetchInitialData(),this.addOnlineListeners()}fetchInitialData(){(0,m.resolveStoreInstance)(p.default).isLoggedIn?(this.fetchPermissions(),this.fetchWatchingState(),this.fetchWatchConfig()):this.setState({isPublicModel:!0,isWatchingModel:!1,isFetchingPermissions:!1}),this.fetchWatchersCount()}addOnlineListeners(){window.addEventListener("online",this.setComponentOnline),window.addEventListener("offline",this.setComponentOffline)}componentWillUnmount(){window.removeEventListener("online",this.setComponentOnline),window.removeEventListener("offline",this.setComponentOffline)}handleAnalytics(e,t,n){v.default.addEventV2({category:t,entityId:this.props.modelId,entityType:this.props.model,action:e,label:n,value:1})}setWatchStatus(e){const{modelId:t,model:n}=this.props,o=e?f.watchModel:f.unWatchModel;return this.setState({isProcessingWatchToggle:!0}),o(n,t).then((()=>{this.setState((e=>({isProcessingWatchToggle:!1,isWatchingModel:!e.isWatchingModel})));const t=e?"watch":"unwatch";this.handleAnalytics(t,I.get(this.props,"analyticsOptions.category"),I.get(this.props,"analyticsOptions.label")),this.fetchWatchersCount()})).catch((()=>{this.setState({isProcessingWatchToggle:!1}),pm.toasts.error("Just a faulty wire. Try performing the action again.",{noIcon:!0,title:"Something went wrong. Try again."})}))}setWatcherPreference(e){this.watcherPreferences=e}get preferences(){if(this.watcherPreferences)return Object.entries((0,c.toJS)(this.watcherPreferences)).map((([e,t])=>({...t,key:e})))}setOffline(e){this.isOffline=e}get countBtnTooltip(){const{watchersCountFetchingErr:e,permissionFetchErr:t,watchersCount:n}=this.state;return this.isOffline?"You can take this action once you're back online.":t?t.message:e?e.message:""}get watchToggleButtonTooltip(){const{isProcessingWatchToggle:e,modelWatchStatusFetchError:t,permissionFetchErr:n}=this.state;return this.isOffline?"You can take this action once you're back online.":e?"Please wait while your request is being processed.":n?n.message:t?t.message:void 0}get isWatchToggleDisabled(){const{isProcessingWatchToggle:e,isFetchingModelWatchStatus:t,modelWatchStatusFetchError:n,isFetchingPermissions:o,permissionFetchErr:s}=this.state;return e||t||n||this.isOffline||o||s}get isWatchersCountButtonDisabled(){const{watchersCountFetchingErr:e,isFetchingPermissions:t,permissionFetchErr:n}=this.state;return e||n||t||this.isOffline}render(){const{className:e}=this.props,t=(0,m.resolveStoreInstance)(p.default);return r.createElement(b.default,{isWatching:this.state.isWatchingModel,className:e,watchersCount:this.state.watchersCount,privateWatchersCount:this.state.privateWatchersCount,onWatchersListOpen:this.onOpenWatchersList,isFetchingWatchers:this.state.isFetchingWatchers,isFetchingMoreWatchers:this.state.isFetchingMoreWatchers,watchersList:this.state.watchersList,lastWatcherElementRef:this.lastWatcherElementRef,onOpenPreferences:this.fetchPreferences,onClickWatchStateChangeTrigger:this.onWatchStateChangeTrigger,isFetchingPreferences:this.state.isFetchingPreferences,preferences:this.preferences,isPreferencesEnabled:this.state.isPreferencesEnabled,toggleWatch:this.toggleWatch,hideLabel:this.props.hideLabel,isProcessingWatchToggle:this.state.isProcessingWatchToggle,onPreferenceChange:this.onPreferenceChange,watchPreferencesPopoverDescription:this.preferencesDescription,restrictPreferencesChange:this.state.restrictPreferencesChange,watchersListFetchErr:this.state.watchersListFetchErr,reloadWatchers:this.fetchWatchersList,resetPageId:this.resetPageId,disableCount:this.isWatchersCountButtonDisabled,countBtnTooltip:this.countBtnTooltip,isWatchToggleDisabled:this.isWatchToggleDisabled,watchToggleTooltip:this.watchToggleButtonTooltip,renderWatchPreferencesTitle:y.default[this.props.model].renderWatchPreferencesTitle,currentUserId:t.id,model:this.props.model,isFetchingModelWatchStatus:this.state.isFetchingModelWatchStatus})}},i=_(s.prototype,"watcherPreferences",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(s.prototype,"setWatcherPreference",[c.action],Object.getOwnPropertyDescriptor(s.prototype,"setWatcherPreference"),s.prototype),_(s.prototype,"preferences",[c.computed],Object.getOwnPropertyDescriptor(s.prototype,"preferences"),s.prototype),a=_(s.prototype,"isOffline",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!navigator.onLine}}),_(s.prototype,"setOffline",[c.action],Object.getOwnPropertyDescriptor(s.prototype,"setOffline"),s.prototype),o=s))||o;S.propTypes={modelId:u().string.isRequired,model:u().oneOf(["collection","pullRequest","api"]).isRequired,className:u().string,hideLabel:u().bool,analyticsOptions:u().object}},"./version-control/Watch/components/WatchPreferences.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("./js/components/base/LoadingIndicator.js"),d=n("./js/components/base/Inputs.js");const u=a.default.div`
  display: flex;
  justify-content: center;
  padding: ${({theme:e})=>e["spacing-l"]};

  .entity {
    margin-top: ${({theme:e})=>e["spacing-l"]};
  }

  .entity-top-row {
    display: flex;
    align-items: center;
  }

  .entity-description {
    margin-left: ${({theme:e})=>e["spacing-xl"]};
  }

  .entity-title {
    margin-left: ${({theme:e})=>e["spacing-s"]};
    display: inline-flex;
  }

  .preference-checkbox {
    height: 14px;
    width: 14px;
    min-width: unset;
  }

  .preference-checkbox svg {
    width: 14px;
  }

  .preference-checkbox.is-selected {
    background-color: ${({theme:e})=>e["base-color-brand"]};
    border: none;
    height: 16px;
    width: 16px;
  }

  .preference-checkbox.is-selected svg {
    width: 16px;
  }
`;function p(e){const{isLoading:t,preferences:n,onPreferenceChange:s,description:i,renderTitle:a}=e,[p,m]=o.useState(n);o.useEffect((()=>{m(n)}),[n]);return o.createElement(u,null,t&&o.createElement(c.default,null),!t&&p&&o.createElement("div",null,o.createElement(r.default,{text:a?a(p):"",type:"h4",hasBottomSpacing:!0}),o.createElement(l.default,{text:i,type:"body-medium",color:"content-color-secondary"}),p.map((e=>o.createElement("div",{className:"entity",key:e.key},o.createElement("div",{className:"entity-top-row"},o.createElement(d.Checkbox,{checked:e.enabled,size:"md",className:"preference-checkbox",onChange:()=>(e=>{const t=p.findIndex((t=>t.key===e));t>-1&&(p[t]={...p[t],enabled:!p[t].enabled},m(p.slice()),s(p))})(e.key)}),o.createElement("div",{className:"entity-title"},o.createElement(l.default,{text:e.title,hasBottomSpacing:!0,color:"content-color-primary"}))),o.createElement("div",{className:"entity-description"},o.createElement(l.default,{text:e.description,color:"content-color-secondary",type:"body-small"})))))))}p.propTypes={isLoading:i().bool,preferences:i().arrayOf(i().shape({enabled:i().bool.isRequired,title:i().string.isRequired,description:i().string.isRequired,key:i().string.isRequired})),onPreferenceChange:i().func.isRequired,renderTitle:i().func,description:i().string}},"./version-control/Watch/components/WatchersList.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./node_modules/classnames/index.js"),l=n.n(r),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Avatar/Avatar.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-descriptive-user-stroke.js"),f=n("./js/utils/PluralizeHelper.js"),b=n("./version-control/Watch/config.js"),y=n("./appsdk/components/link/Link.js"),v=n("./node_modules/lodash/lodash.js");const I=a.default.div`
  cursor: pointer;
  padding: ${({theme:e})=>e["spacing-s"]}
    ${({theme:e})=>e["spacing-xs"]};

  .watcher-item {
    width: 100%;
    .link:hover {
      text-decoration: underline;
    }
  }

  &:hover {
    .link {
      color: ${({theme:e})=>e["content-color-info"]};
    }
  }
`,E=a.createGlobalStyle`
  .user-list-item__tooltip-body.user-list-item__tooltip-body {
    z-index: 10000;
    margin-left: ${({theme:e})=>e["spacing-s"]};
  }
`,_=a.default.div`
  display: flex;
  justify-content: center;
  box-sizing: border-box;

  .watcher-list-container {
    max-height: 50vh;
    overflow-y: auto;
    overflow-x: hidden;

    .watchers-list {
      flex: 1;
      overflow-y: auto;

      .anonymous-watchers {
        cursor: pointer;
        .anonymous-watcher-icon {
          width: ${({theme:e})=>e["size-s"]};
          height: ${({theme:e})=>e["size-s"]};
          border-radius: ${({theme:e})=>e["border-radius-max"]};
          background-color: ${({theme:e})=>e["background-color-secondary"]};
        }
      }
    }
  }

  .title {
    font-size: ${({theme:e})=>e["text-size-m"]};
    font-weight: ${({theme:e})=>e["text-weight-medium"]};
    line-height: ${({theme:e})=>e["line-height-m"]};
    color: ${({theme:e})=>e["content-color-secondary"]};
    padding: ${({theme:e})=>e["spacing-xs"]};
  }

  .list-container {
    width: 100%;
  }

  .list-container.loading {
    height: 117px;
  }

  .error-container {
    width: 100%;
    padding: ${({theme:e})=>e["spacing-s"]};
  }

  ul {
    padding: 0;
    margin: 0;
  }

  .loading-indicator {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .title.loading {
    padding-bottom: ${({theme:e})=>e["spacing-xl"]};
  }

  .title--error {
    padding: 0;
    margin-bottom: ${({theme:e})=>e["spacing-s"]};
  }

  .reload-button {
    margin-top: ${({theme:e})=>e["spacing-s"]};
  }

  .watchers-empty-state {
    padding: ${({theme:e})=>e["spacing-s"]};
    display: block;
    padding-top: ${({theme:e})=>e["spacing-s"]};
  }
`;function S(e){const{list:t,count:n,privateWatchersCount:s,reload:i,error:a,isLoading:r,isLoadingMore:S,currentUserId:C,model:T,lastWatcherElementRef:j}=e;return a&&!r?o.createElement(_,null,o.createElement("div",{className:"error-container"},o.createElement("div",{className:"title title--error"},"Couldn't load watchers"),o.createElement("div",null,o.createElement(c.default,{text:"Just a faulty wire. Try reloading the watchers.",hasBottomSpacing:!0})),o.createElement(d.default,{text:"Reload Watchers",onClick:i,className:"reload-button"}))):o.createElement(_,null,o.createElement("div",{className:l()("list-container",{loading:r})},o.createElement("div",{className:l()("title",{loading:r})},`${n||"No"} ${f.default.pluralize({count:n,singular:"watcher",plural:"watchers"})}`),r&&o.createElement(u.default,{className:"loading-indicator"}),!r&&!v.get(t,"length")&&o.createElement(c.default,{text:`People who watch this ${v.get(b.default,[T,"displayName"],"")} will show up here.`,className:"watchers-empty-state",color:"content-color-primary"}),o.createElement(p.default,{direction:"column",className:"watcher-list-container"},!r&&!!v.get(t,"length")&&o.createElement("ul",{className:"watchers-list"},t.map(((e,n)=>o.createElement(I,{ref:t.length===n+1?j:null,key:v.get(e,"userId")},o.createElement(y.default,{to:v.get(e,"profileUrl","")},o.createElement(p.default,{"data-testid":"watcher-list-item",className:"watcher-item",paddingTop:"spacing-xs",paddingBottom:"spacing-xs",gap:"spacing-s",alignItems:"center",justifyContent:"start"},o.createElement(m.default,{size:"s",userId:v.get(e,"userId",0),src:v.get(e,"profilePicUrl")}),o.createElement(c.default,{isTruncated:!0,className:"link",color:"content-color-primary"},v.get(e,"name")||v.get(e,"username"),C===v.get(e,"userId").toString()&&" (You)")))))),s>0&&o.createElement(c.default,{color:"content-color-primary"},o.createElement(p.default,{padding:"spacing-s",className:"anonymous-watchers",alignItems:"center",gap:"spacing-s"},o.createElement(p.default,{className:"anonymous-watcher-icon",alignItems:"center",justifyContent:"center"},o.createElement(g.default,null)),o.createElement(h.default,{placement:"bottom",content:"Watchers with accounts set to private are kept anonymous."},o.createElement("div",null,s," anonymous"," ",f.default.pluralize({count:s,singular:"watcher",plural:"watchers"})))))),S&&o.createElement(p.default,{justifyContent:"center",padding:"spacing-s"},o.createElement(u.default,{className:"loading-indicator"}))),o.createElement(E,null)))}S.propTypes={isLoading:i().bool,isLoadingMore:i().bool,count:i().number.isRequired,privateWatchersCount:i().number,list:i().arrayOf(i().shape({name:i().string.isRequired,userId:i().string.isRequired,profileUrl:i().string.isRequired,ProfilePicUrl:i().string})),error:i().oneOfType([i().object,i().bool]),reload:i().func.isRequired,currentUserId:i().string}},"./version-control/common/ControlledComboButton/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("./js/components/base/Buttons.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("./js/components/base/Tooltips.js");const c=s.default.div`
  display: inline-flex;

  .controlled-combo-button__primary-button {
    min-width: ${e=>e.hideLabel&&"0"};
    pointer-events: ${e=>e.isPrimaryButtonDisabled&&"none"};
  }

  /** TODO: remove this aether button supports small size icons on medium buttons. */
  .controlled-combo-button__primary-button svg {
    height: ${({theme:e,iconSize:t})=>e["small"===t?"text-size-m":"text-size-xl"]};
    width: ${({theme:e,iconSize:t})=>e["small"===t?"text-size-m":"text-size-xl"]};
  }

  .controlled-combo-button__primary-button i {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    opacity: ${e=>e.isPrimaryButtonDisabled&&"0.5"};
  }

  .controlled-combo-button__menu-button {
    padding: ${({theme:e})=>e["spacing-s"]};
    min-width: ${({theme:e})=>e["size-m"]};
    background-color: ${e=>e.isPrimaryButtonDisabled&&"transparent"};
    pointer-events: ${e=>e.isPrimaryButtonDisabled&&"none"};
    box-shadow: ${e=>e.isPrimaryButtonDisabled&&"none"};
  }

  .controlled-combo-button__separator {
    border-left: ${({theme:e,isPrimaryButtonDisabled:t})=>t?"transparent":`${e["border-width-default"]} ${e["border-style-solid"]} ${e["splitbutton-tertiary-splitter-color"]}`};
    height: 20px;
    margin-top: 6px;
  }
`;function d(e){const{className:t,popoverClassName:n,useCustomButton:s,isMenuOpen:d,isPrimaryButtonLoading:u,isMenuButtonLoading:p,isPrimaryButtonDisabled:m,comboButtonSize:h,isMenuButtonDisabled:g,primaryButtonText:f,primaryButtonTextHide:b,primaryButtonIcon:y,menuButtonText:v,renderMenuContent:I,primaryButtonTooltip:E,menuButtonTooltip:_,buttonIconSize:S,primaryButtonMinWidth:C,onPrimaryButtonClick:T,onMenuButtonClick:j,onMenuClose:A}=e,w=(0,o.useRef)(),O={text:f,icon:y,type:"secondary",size:h||"medium",tooltip:E&&o.createElement(a.default,{content:E,placement:"bottom"}),isDisabled:m,isLoading:u,onClick:T,className:"controlled-combo-button__primary-button",minWidth:C};s&&(O.tooltip=E);const N={text:v,type:"secondary",size:h||"medium",tooltip:_&&o.createElement(a.default,{content:_,placement:"bottom"}),isDisabled:g,isLoading:p,onClick:j,className:"controlled-combo-button__menu-button"},D={show:d,target:w.current,placement:"bottom-right",onClose:A,closeOnClickOutside:!0,immediate:!0,hideArrow:!0,className:n};return o.createElement(o.Fragment,null,o.createElement(c,{ref:w,className:t,iconSize:S,hideLabel:b,isPrimaryButtonDisabled:m},s?o.createElement(i.Button,{type:O.type,disabled:O.isDisabled,size:h||"small",tooltip:O.tooltip,className:O.className,onClick:O.onClick},O.text):o.createElement(r.default,O),o.createElement("div",{className:"controlled-combo-button__separator"}),o.createElement(r.default,N)),o.createElement(l.Tooltip,D,o.createElement(l.TooltipBody,null,I&&I())))}},"./version-control/components.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ForkButton:function(){return o.default}});var o=n("./version-control/common/ForkButton/index.js")},"./version-control/utils/pmDiff/algorithmUtil.js":function(e,t,n){"use strict";n.r(t),n.d(t,{attachLines:function(){return l},collectConflict:function(){return i},collectDiff:function(){return a},flattenDiff:function(){return s},threeWaylineDiff:function(){return r}});n("./node_modules/diff/dist/diff.js");var o=n("./version-control/utils/pmDiff/lineDiffHelper.js");function s(e){if(!Array.isArray(e))return[];let t=[],n=0,o=0;return e.forEach((e=>{let s=[];"string"==typeof e.value?(s=e.value.split("\n"),s.length>1&&""===s[s.length-1]&&(s=s.slice(0,-1))):Array.isArray(e.value)&&(s=e.value),s.forEach((s=>{t.push({added:e.added,removed:e.removed,value:s,sourceIndex:e.added?++o:e.removed?" ":++o,baseIndex:e.removed?++n:e.added?" ":++n})}))})),t}function i(e,t,n,o){for(;e<t.length||e<n.length||e<o.length;){if(n[e]===o[e])break;e++}return e!==t.length&&e!==n.length&&e!==o.length||(e=Math.max(t.length,n.length,o.length)),e}function a(e,t,n,o){for(;e<t.length||e<n.length||e<o.length;){const s=t[e],i=n[e],a=o[e];if(s===i||i!==a&&a!==s)break;e++}return e}function r(e="",t="",n=""){let r=0,l=0,c=[],d=e.split("\n"),u=t.split("\n"),p=n.split("\n"),m=Math.max(d.length,u.length,p.length);for(;r<m;){const e=d[r],t=u[r];if(t!==p[r]){const e=i(r,d,u,p),t=d.slice(r,e).join("\n"),n=u.slice(r,e).join("\n"),a=p.slice(r,e).join("\n");c.push({conflict:!0,type:"source",index:l,value:s((0,o.parseLineDiff)(t,n))}),c.push({conflict:!0,type:"dest",index:l,value:s((0,o.parseLineDiff)(t,a))}),r=r===e?r+1:e,l++}else if(e!==t){const e=a(r,d,u,p),t=d.slice(r,e).join("\n"),n=u.slice(r,e).join("\n");c.push({value:s((0,o.parseLineDiff)(t,n))}),r=r===e?r+1:e}else c.push({value:(0,o.parseLineDiff)(e,e)}),r++}return{diff:c,numberOfConflicts:l}}function l(e){if(Array.isArray(e)){var t=0,n=0,o=0,s=0;e.forEach((e=>{if(e)if(e.conflict){let i=e.value,a=e.type;i.forEach((e=>{"source"===a?(e.baseIndex=e.added?" ":(e.removed,++t),e.sourceIndex=e.added?++o:e.removed?" ":++o,e.destIndex=""):"dest"===a&&(e.baseIndex=e.added?" ":(e.removed,++n),e.destIndex=e.added?++s:e.removed?" ":++s,e.sourceIndex="")}))}else if(Array.isArray(e.value)){e.value.forEach((e=>{e.baseIndex=e.added?" ":(e.removed,++t),e.sourceIndex=e.added?++o:e.removed?" ":++o,e.destIndex="",++s,++n}))}}))}}},"./version-control/utils/pmDiff/baseDiff.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./node_modules/diff/dist/diff.js"),a=n("./version-control/utils/pmDiff/lineDiffHelper.js"),r=n("./version-control/utils/pmDiff/algorithmUtil.js");function l(e){return{enabled:"boolean"!=typeof s().get(e,"enabled")||e.enabled,key:"string"==typeof s().get(e,"key")?e.key:"",value:"string"==typeof s().get(e,"value")?e.value:"",description:"string"==typeof s().get(e,"description")?e.description:""}}class c{constructor(e,t){const n="table"===t?[]:"";this.type=t,e.conflict?(this.conflict=!0,this.numberOfConflicts=0,this.base=s().get(e,["conflict","base","value"])||n,this.source=s().get(e,["conflict","source","value"])||n,this.dest=s().get(e,["conflict","dest","value"])||n):e.diff&&(this.conflict=!1,s().get(e,"diff.from")||s().get(e,"diff.to")?(this.base=s().get(e,["diff","from"])||n,this.source=s().get(e,["diff","to"])||n):(this.base=n,this.source=s().get(e,"diff",n)))}getStringDiff(){return this.base&&"string"!=typeof this.base||this.source&&"string"!=typeof this.source?{diff:[]}:{diff:(0,a.parseDiff)(this.base||"",this.source||"")}}getStringConflict(){if(this.base&&"string"!=typeof this.base||this.source&&"string"!=typeof this.source||this.dest&&"string"!=typeof this.dest)return{diff:[]};if(this.dest===this.source)return this.getStringDiff(this.base,this.source);this.numberOfConflicts=1;const e=this.base||" ",t=this.source||" ",n=this.dest||" ";return[{conflict:!0,diff:(0,a.parseDiff)(e||"",t||""),type:"source"},{conflict:!0,diff:(0,a.parseDiff)(e||"",n||""),type:"dest"}]}getTableDiff(){const e=this.base||[],t=this.source||[];if(!Array.isArray(e)||!Array.isArray(t))return[];let n,o,s=0,a=[];for(;s<e.length||s<t.length;)o=l(e[s]),n=l(t[s]),a.push({index:s,value:{enabled:n.enabled,key:i.diffWords(o.key,n.key),value:i.diffWords(o.value,n.value),description:i.diffWords(o.description,n.description)}}),s++;return a}getTableConflict(){const e=this.base||[],t=this.source||[],n=this.dest||[];if(!Array.isArray(e)||!Array.isArray(t)||!Array.isArray(n))return[];let o,a,r,c=0,d=[],u=0;for(;c<e.length||c<t.length||c<n.length;)a=l(e[c]),o=l(t[c]),r=l(n[c]),s().isEqual(s().get(e,[c]),s().get(t,[c]))&&s().isEqual(s().get(e,[c]),s().get(n,[c]))?d.push({index:c,value:{enabled:a.enabled,key:[a.key],value:[a.value],description:[a.description]}}):s().isEqual(s().get(t,[c]),s().get(n,[c]))||s().isEqual(s().get(e,[c]),s().get(n,[c]))?d.push({index:c,value:{enabled:o.enabled,key:i.diffWords(a.key,o.key),value:i.diffWords(a.value,o.value),description:i.diffWords(a.description,o.description)}}):s().isEqual(s().get(e,[c]),s().get(t,[c]))&&s().get(n,[c])?(d.push({index:c,value:{enabled:r.enabled,key:[r.key],value:[r.value],description:[r.description]}}),s().set(this.source,[c],s().get(this.dest,[c])),s().set(this.base,[c],s().get(this.dest,[c]))):(d.push({index:c,conflict:!0,type:"source",value:{enabled:o.enabled,key:i.diffWords(a.key,o.key),value:i.diffWords(a.value,o.value),description:i.diffWords(a.description,o.description)}}),d.push({index:c,conflict:!0,type:"dest",value:{enabled:r.enabled,key:i.diffWords(a.key,r.key),value:i.diffWords(a.value,r.value),description:i.diffWords(a.description,r.description)}}),u++),c++;return this.numberOfConflicts=u,d}getSentencesDiff(){return this.base&&"string"!=typeof this.base||this.source&&"string"!=typeof this.source?{diff:[]}:{diff:i.diffSentences(this.base||"",this.source||"")}}getSentencesConfict(){if(this.base&&"string"!=typeof this.base||this.source&&"string"!=typeof this.source||this.dest&&"string"!=typeof this.dest)return{diff:[]};if(this.source===this.dest)return this.getSentencesDiff(this.base,this.source);this.numberOfConflicts=1;return[{conflict:!0,diff:i.diffSentences(this.base,this.source),type:"source"},{conflict:!0,diff:i.diffSentences(this.base,this.dest),type:"dest"}]}getCodeDiff(){let e,t,n="string"==typeof this.base?this.base:"",o="string"==typeof this.source?this.source:"";return n&&o?(e=(0,a.parseLineDiff)(n,o),t=(0,r.flattenDiff)(e)):t=(0,r.flattenDiff)([{added:!!o,removed:!!n,value:o||n}]),t}getCodeConflict(){if(this.base&&"string"!=typeof this.base||this.source&&"string"!=typeof this.source||this.dest&&"string"!=typeof this.dest)return{diff:[]};const e=this.source||"",t=this.dest||"",n=this.base||"",o=(0,r.threeWaylineDiff)(n,e,t);return(0,r.attachLines)(o.diff),this.numberOfConflicts=o.numberOfConflicts,o.diff}}},"./version-control/utils/pmDiff/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./version-control/utils/pmDiff/itemDiff.js");function a(e,t,n,o){const a=Object.keys(n).map((e=>s().isEmpty(s().get(n,[e]))?null:{property:e,[o?"conflict":"diff"]:n[e]}));return new i.default(e,t,a).getPropertyWiseDiff()}},"./version-control/utils/pmDiff/itemDiff.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ItemArrayDiff:function(){return r},ItemScriptDiff:function(){return d},ItemSentenceDiff:function(){return c},ItemStringDiff:function(){return l},default:function(){return u}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o),i=n("./version-control/utils/pmDiff/baseDiff.js"),a=n("./version-control/utils/pmDiff/algorithmUtil.js");class r extends i.default{constructor(e,t,n,o,s){super(e,"table"),this.property=n,this.itemType=t,this.propertyName=o,this.diffType=s}getDiff(){return this.conflict?this.getTableConflict():this.getTableDiff()}resolveConflict(e,t){return"source"===e?(this.dest[t]=this.source[t],this.numberOfConflicts=this.numberOfConflicts-1):"dest"===e&&(this.source[t]=this.dest[t],this.numberOfConflicts=this.numberOfConflicts-1),this}getResolvedConflict(){return(this.source||[]).filter(Boolean)}}class l extends i.default{constructor(e,t,n,o,s,i={}){if(super(e,"words"),this.property=n,this.itemType=t,this.propertyName=o,this.diffType=s,this.options=i,this.optionsKey="","function"==typeof this.options.parsingFunction)if(this.conflict){const e=i.parsingFunction(this.base);this.base=e.value,this.optionsKey=e.optionsKey,this.source=i.parsingFunction(this.source).value,this.dest=i.parsingFunction(this.dest).value}else this.base=i.parsingFunction(this.base).value,this.source=i.parsingFunction(this.source).value}getDiff(){return this.conflict?this.getStringConflict():this.getStringDiff()}resolveConflict(e){return"source"===e&&(this.dest=this.source,this.numberOfConflicts=this.numberOfConflicts-1),"dest"===e&&(this.source=this.dest,this.numberOfConflicts=this.numberOfConflicts-1),this}getResolvedConflict(){return this.source}}class c extends i.default{constructor(e,t,n,o,s,i={}){super(e,"sentences"),this.property=n,this.itemType=t,this.propertyName=o,this.diffType=s,this.options=i,"function"==typeof i.parsingFunction&&(this.conflict?(this.base=i.parsingFunction(this.base),this.source=i.parsingFunction(this.source),this.dest=i.parsingFunction(this.dest)):(this.base=i.parsingFunction(this.base),this.source=i.parsingFunction(this.source)))}getDiff(){return this.conflict?this.getSentencesConfict():this.getSentencesDiff()}resolveConflict(e){return"source"===e&&(this.dest=this.source,this.numberOfConflicts=this.numberOfConflicts-1),"dest"===e&&(this.source=this.dest,this.numberOfConflicts=this.numberOfConflicts-1),this}getResolvedConflict(){return!this.options.idToNameMap||"order"!==this.property&&"folders_order"!==this.property&&"responses_order"!==this.property?this.source:"string"==typeof this.source&&this.source?this.source.split("\n").map((e=>Object.keys(this.options.idToNameMap).find((t=>this.options.idToNameMap[t]===e)))):[]}}class d extends i.default{constructor(e,t,n,o,i,a){super(e,"code"),this.property=n,this.itemType=t,this.propertyName=o,this.diffType=i,this.scriptType=s().get(a,"type"),this.scriptId=s().get(a,"id"),this.diff=null}getDiff(){return this.diff?this.diff:this.conflict?(this.diff=this.getCodeConflict(),this.resolveConflict(null,null,this.diff),this.diff):(this.diff=this.getCodeDiff(),this.diff)}resolveConflict(e,t,n){if(!Array.isArray(n))return this;let o=[];return this.diff.forEach(((n,s)=>{n&&(n.index===e&&("source"===t?("source"===n.type&&(n.conflict=!1),"dest"===n.type&&(this.diff[s]=null),this.numberOfConflicts=this.numberOfConflicts-1):"dest"===t&&("dest"===n.type&&(n.conflict=!1),"source"===n.type&&(this.diff[s]=null),!n.singleConflict&&(this.numberOfConflicts=this.numberOfConflicts-1))),n.conflict||(n.value||[]).forEach((e=>{e.removed||o.push(e.value)})))})),this.source=o.join("\n"),(0,a.attachLines)(this.diff),this}getResolvedConflict(){return this.source}}class u{constructor(e,t,n){this.itemType=e,this.diffType=t,this.diff=n}parseScripts(e,t,n){const o=["test","prerequest"];let i=[];if(e.conflict){const a=Array.isArray(s().get(e,"conflict.base.value"))?e.conflict.base.value:[],r=Array.isArray(s().get(e,"conflict.source.value"))?e.conflict.source.value:[],l=Array.isArray(s().get(e,"conflict.dest.value"))?e.conflict.dest.value:[];o.forEach((e=>{const o=a.find((t=>t.listen===e))||[],c=r.find((t=>t.listen===e))||[],u=l.find((t=>t.listen===e))||[],p={conflict:{base:{value:(s().get(o,["script","exec"])||[]).join("\n")},source:{value:(s().get(c,["script","exec"])||[]).join("\n")},dest:{value:(s().get(u,["script","exec"])||[]).join("\n")}}},m="prerequest"===s().get(c,"listen")?"pre request script":"tests",h={id:s().get(c,"script.id"),type:s().get(c,"script.type")};p.conflict.base.value===p.conflict.dest.value&&p.conflict.base.value===p.conflict.source.value||i.push(new d(p,t,e,m,n,h))}))}else{let a=s().has(e,"diff.to")?s().get(e,"diff.to"):s().get(e,"diff"),r=s().get(e,"diff.from");Array.isArray(a)||(a=[]),Array.isArray(r)||(r=[]),o.forEach((e=>{const o=r.find((t=>t.listen===e))||[],l=a.find((t=>t.listen===e))||[],c={diff:{from:(s().get(o,["script","exec"])||[]).join("\n"),to:(s().get(l,["script","exec"])||[]).join("\n")}},u="prerequest"===s().get(l,"listen")?"pre request script":"tests",p={id:s().get(l,"script.id"),type:s().get(l,"script.type")};c.diff.from!==c.diff.to&&i.push(new d(c,t,e,u,n,p))}))}return i}parseGraphqlBody(e,t,n){let o=[];if(e.conflict){const i={conflict:{base:{value:s().get(e,["conflict","base","value","query"])||""},source:{value:s().get(e,["conflict","source","value","query"])||""},dest:{value:s().get(e,["conflict","dest","value","query"])||""}}},a={conflict:{base:{value:s().get(e,["conflict","base","value","variables"])||""},source:{value:s().get(e,["conflict","source","value","variables"])||""},dest:{value:s().get(e,["conflict","dest","value","variables"])||""}}};a.conflict.base.value===a.conflict.source.value&&a.conflict.base.value===a.conflict.dest.value||o.push(new d(a,t,"graphql_variables","Graphql Variables",n,null)),i.conflict.base.value===i.conflict.source.value&&i.conflict.base.value===i.conflict.dest.value||o.push(new d(i,t,"graphql_query","Graphql Query",n,null))}else{const i=s().get(e,["diff","to","variables"])||"",a=s().get(e,["diff","to","query"])||"",r={diff:{from:s().get(e,["diff","from","variables"])||"",to:i||(s().get(e,["diff","variables"])||"")}},l={diff:{from:s().get(e,["diff","from","query"])||"",to:a||(s().get(e,["diff","query"])||"")}};r.diff.from!==r.diff.to&&o.push(new d(r,t,"variables","Graphql Variables",n,null)),l.diff.from!==l.diff.to&&o.push(new d(l,t,"query","Graphql Query",n,null))}return o}parseOrder(e,t,n,o,i){if(e.conflict){const a=(s().get(e,"conflict.base.value")||[]).map((t=>s().get(e,["conflict","base","name",t]))).join("\n"),r=(s().get(e,"conflict.source.value")||[]).map((t=>s().get(e,["conflict","source","name",t]))).join("\n"),l=(s().get(e,"conflict.dest.value")||[]).map((t=>s().get(e,["conflict","dest","name",t]))).join("\n"),d={conflict:{base:{value:a},source:{value:r},dest:{value:l}}},u=Object.assign({},s().get(e,"conflict.base.name",{}),s().get(e,"conflict.source.name",{}),s().get(e,"conflict.dest.name",{}));return a||r||l?new c(d,t,o,i,n,{idToNameMap:u}):[]}const a=(s().get(e,"diff.from")||[]).map((t=>s().get(e,["diff","name",t]))).join("\n"),r=(s().get(e,"diff.to")||[]).map((t=>s().get(e,["diff","name",t]))).join("\n");return a||r?new c({diff:{from:a,to:r}},t,o,i,n):[]}parseResponseCode(e){return e?{value:`${e.code||""} ${e.name||""}`}:""}parseRequestObject(e){let t;try{t=JSON.stringify(JSON.parse(e),null,2)}catch(e){t=""}return t}parseAuthObject(e){if(!e||""===e)return"";const t=s().get(e,"type");let n=[];return n.push(`type: ${t}`),s()(e).get([t],[]).forEach((e=>{n.push(`${e.key}: ${e.value}`)})),n.join("\n")}parseDataOptions(e){if(!e||""===e||s().isEmpty(e)||0===s().compact(Object.values(e)).length||!e[Object.keys(e)[0]])return"";const t=Object.keys(e)[0];return{value:JSON.stringify(t&&e[t])||"",optionsKey:t}}getPropertyWiseDiff(){return Array.isArray(this.diff)?this.diff.reduce(((e,t)=>{const n=t&&t.property;if("response"!==this.itemType)switch(n){case"queryParams":return e.concat(new r(t,this.itemType,"queryParams","query params",this.diffType));case"variables":return e.concat(new r(t,this.itemType,"variables","variables",this.diffType));case"headerData":return e.concat(new r(t,this.itemType,"headerData","headers",this.diffType));case"pathVariableData":return e.concat(new r(t,this.itemType,"pathVariableData","path variables",this.diffType));case"description":return e.concat(new l(t,this.itemType,"description","description",this.diffType));case"url":return e.concat(new l(t,this.itemType,"url","url",this.diffType));case"name":return e.concat(new l(t,this.itemType,"name","name",this.diffType));case"dataOptions":return e.concat(new l(t,this.itemType,"dataOptions","language",this.diffType,{parsingFunction:this.parseDataOptions}));case"dataMode":return e.concat(new l(t,this.itemType,"dataMode","Body Type",this.diffType));case"data":return e.concat(new r(t,this.itemType,"data","Body (urlencoded)",this.diffType));case"method":return e.concat(new l(t,this.itemType,"method","method",this.diffType));case"events":return e.concat(this.parseScripts(t,this.itemType,this.diffType));case"rawModeData":return e.concat(new d(t,this.itemType,"rawModeData","Body (raw)",this.diffType));case"graphqlModeData":return e.concat(this.parseGraphqlBody(t,this.itemType,this.diffType)||[])||[];case"auth":return e.concat(new c(t,this.itemType,"auth","authorization",this.diffType,{parsingFunction:this.parseAuthObject}));case"order":return e.concat(this.parseOrder(t,this.itemType,this.diffType,"order","order"));case"folders_order":return e.concat(this.parseOrder(t,this.itemType,this.diffType,"folders_order","folder order"));case"responses_order":return e.concat(this.parseOrder(t,this.itemType,this.diffType,"responses_order","responses order"));default:return e}else switch(n){case"headers":return e.concat(new r(t,this.itemType,"headers","response headers",this.diffType));case"language":return e.concat(new l(t,this.itemType,"language","language",this.diffType));case"responseCode":return e.concat(new l(t,this.itemType,"responseCode","response code",this.diffType,{parsingFunction:this.parseResponseCode}));case"text":return e.concat(new d(t,this.itemType,"text","response body",this.diffType));case"name":return e.concat(new l(t,this.itemType,"name","name",this.diffType));case"requestObject":return e.concat(new c(t,this.itemType,"requestObject","Example Request",this.diffType,{parsingFunction:this.parseRequestObject}));default:return e}}),[]):[]}}},"./version-control/utils/pmDiff/lineDiffHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,{parseDiff:function(){return r},parseLineDiff:function(){return c}});var o=n("./node_modules/lodash/lodash.js");const s=n("./node_modules/diff-match-patch/index.js"),i=/\W/;function a(e){if(!e||!Array.isArray(e))return[];let t=[];for(let n=0;n<e.length;n++){const o=e[n];t.push({value:o[1],count:o[1].split("\n").length,added:1===o[0],removed:-1===o[0]})}return t}function r(e,t){return a(function(e,t){const n=new s;let o=function(e,t){let n=[],o={};n[0]="";const s=function(e){let t="",s=n.length;return function(e,t){let n=0,o=-1;for(;o<e.length-1;){if(o=l(e,n),-1===o){t(e.substring(n,e.length)),o=e.length;break}if(n!==o){t(e.substring(n,o))}t(e[o]),n=o+1}}(e,(function(e){(o.hasOwnProperty?o.hasOwnProperty(e):void 0!==o[e])?t+=String.fromCharCode(o[e]):(t+=String.fromCharCode(s),o[e]=s,n[s++]=e)})),t},i=s(e),a=s(t);return{chars1:i,chars2:a,lineArray:n}}(e,t),i=o.chars1,a=o.chars2,r=o.lineArray,c=n.diff_main(i,a,!1);return n.diff_charsToLines_(c,r),c}(e||"",t||""))}function l(e,t){const n=e.length;for(let o=t;o<n;o++)if(i.test(e[o]))return o;return-1}function c(e,t,n){o.get(n,"context");let i=function(e,t,n){const o=n&&n.timeout||3,i=new s;let a,r;return i.Diff_Timeout=o,a=i.diff_linesToChars_(e,t),r=i.diff_main(a.chars1,a.chars2),i.diff_charsToLines_(r,a.lineArray),r}(e||"",t||"");return a(i)}},"./node_modules/combokeys/Combokeys/index.js":function(e,t,n){"use strict";e.exports=function(e,t){var n=this,o=n.constructor;return n.options=Object.assign({storeInstancesGlobally:!0},t||{}),n.callbacks={},n.directMap={},n.sequenceLevels={},n.resetTimer=null,n.ignoreNextKeyup=!1,n.ignoreNextKeypress=!1,n.nextExpectedAction=!1,n.element=e,n.addEvents(),n.options.storeInstancesGlobally&&o.instances.push(n),n},e.exports.prototype.bind=n("./node_modules/combokeys/Combokeys/prototype/bind.js"),e.exports.prototype.bindMultiple=n("./node_modules/combokeys/Combokeys/prototype/bindMultiple.js"),e.exports.prototype.unbind=n("./node_modules/combokeys/Combokeys/prototype/unbind.js"),e.exports.prototype.trigger=n("./node_modules/combokeys/Combokeys/prototype/trigger.js"),e.exports.prototype.reset=n("./node_modules/combokeys/Combokeys/prototype/reset.js"),e.exports.prototype.stopCallback=n("./node_modules/combokeys/Combokeys/prototype/stopCallback.js"),e.exports.prototype.handleKey=n("./node_modules/combokeys/Combokeys/prototype/handleKey.js"),e.exports.prototype.addEvents=n("./node_modules/combokeys/Combokeys/prototype/addEvents.js"),e.exports.prototype.bindSingle=n("./node_modules/combokeys/Combokeys/prototype/bindSingle.js"),e.exports.prototype.getKeyInfo=n("./node_modules/combokeys/Combokeys/prototype/getKeyInfo.js"),e.exports.prototype.pickBestAction=n("./node_modules/combokeys/Combokeys/prototype/pickBestAction.js"),e.exports.prototype.getReverseMap=n("./node_modules/combokeys/Combokeys/prototype/getReverseMap.js"),e.exports.prototype.getMatches=n("./node_modules/combokeys/Combokeys/prototype/getMatches.js"),e.exports.prototype.resetSequences=n("./node_modules/combokeys/Combokeys/prototype/resetSequences.js"),e.exports.prototype.fireCallback=n("./node_modules/combokeys/Combokeys/prototype/fireCallback.js"),e.exports.prototype.bindSequence=n("./node_modules/combokeys/Combokeys/prototype/bindSequence.js"),e.exports.prototype.resetSequenceTimer=n("./node_modules/combokeys/Combokeys/prototype/resetSequenceTimer.js"),e.exports.prototype.detach=n("./node_modules/combokeys/Combokeys/prototype/detach.js"),e.exports.instances=[],e.exports.reset=n("./node_modules/combokeys/Combokeys/reset.js"),e.exports.REVERSE_MAP=null},"./node_modules/combokeys/Combokeys/prototype/addEvents.js":function(e,t,n){"use strict";e.exports=function(){var e=this,t=n("./node_modules/combokeys/Combokeys/prototype/dom-event.js"),o=e.element;e.eventHandler=n("./node_modules/combokeys/Combokeys/prototype/handleKeyEvent.js").bind(e),t(o,"keypress",e.eventHandler),t(o,"keydown",e.eventHandler),t(o,"keyup",e.eventHandler)}},"./node_modules/combokeys/Combokeys/prototype/bind.js":function(e){"use strict";e.exports=function(e,t,n){return e=e instanceof Array?e:[e],this.bindMultiple(e,t,n),this}},"./node_modules/combokeys/Combokeys/prototype/bindMultiple.js":function(e){"use strict";e.exports=function(e,t,n){for(var o=0;o<e.length;++o)this.bindSingle(e[o],t,n)}},"./node_modules/combokeys/Combokeys/prototype/bindSequence.js":function(e,t,n){"use strict";e.exports=function(e,t,o,s){var i=this;function a(t){return function(){i.nextExpectedAction=t,++i.sequenceLevels[e],i.resetSequenceTimer()}}function r(t){var a;i.fireCallback(o,t,e),"keyup"!==s&&(a=n("./node_modules/combokeys/helpers/characterFromEvent.js"),i.ignoreNextKeyup=a(t)),setTimeout((function(){i.resetSequences()}),10)}i.sequenceLevels[e]=0;for(var l=0;l<t.length;++l){var c=l+1===t.length?r:a(s||i.getKeyInfo(t[l+1]).action);i.bindSingle(t[l],c,s,e,l)}}},"./node_modules/combokeys/Combokeys/prototype/bindSingle.js":function(e){"use strict";e.exports=function(e,t,n,o,s){var i=this;i.directMap[e+":"+n]=t;var a,r=(e=e.replace(/\s+/g," ")).split(" ");r.length>1?i.bindSequence(e,r,t,n):(a=i.getKeyInfo(e,n),i.callbacks[a.key]=i.callbacks[a.key]||[],i.getMatches(a.key,a.modifiers,{type:a.action},o,e,s),i.callbacks[a.key][o?"unshift":"push"]({callback:t,modifiers:a.modifiers,action:a.action,seq:o,level:s,combo:e}))}},"./node_modules/combokeys/Combokeys/prototype/detach.js":function(e,t,n){var o=n("./node_modules/combokeys/Combokeys/prototype/dom-event.js").off;e.exports=function(){var e=this,t=e.element;o(t,"keypress",e.eventHandler),o(t,"keydown",e.eventHandler),o(t,"keyup",e.eventHandler)}},"./node_modules/combokeys/Combokeys/prototype/dom-event.js":function(e){function t(e,t,n,o){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,n,o),n}e.exports=t,e.exports.on=t,e.exports.off=function(e,t,n,o){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,n,o),n}},"./node_modules/combokeys/Combokeys/prototype/fireCallback.js":function(e,t,n){"use strict";e.exports=function(e,t,o,s){this.stopCallback(t,t.target||t.srcElement,o,s)||!1===e(t,o)&&(n("./node_modules/combokeys/helpers/preventDefault.js")(t),n("./node_modules/combokeys/helpers/stopPropagation.js")(t))}},"./node_modules/combokeys/Combokeys/prototype/getKeyInfo.js":function(e,t,n){"use strict";e.exports=function(e,t){var o,s,i,a,r,l,c=[];for(o=n("./node_modules/combokeys/helpers/keysFromString.js")(e),a=n("./node_modules/combokeys/helpers/special-aliases.js"),r=n("./node_modules/combokeys/helpers/shift-map.js"),l=n("./node_modules/combokeys/helpers/isModifier.js"),i=0;i<o.length;++i)a[s=o[i]]&&(s=a[s]),t&&"keypress"!==t&&r[s]&&(s=r[s],c.push("shift")),l(s)&&c.push(s);return{key:s,modifiers:c,action:t=this.pickBestAction(s,c,t)}}},"./node_modules/combokeys/Combokeys/prototype/getMatches.js":function(e,t,n){"use strict";e.exports=function(e,t,o,s,i,a){var r,l,c,d,u=this,p=[],m=o.type;"keypress"!==m||o.code&&"Arrow"===o.code.slice(0,5)||(u.callbacks["any-character"]||[]).forEach((function(e){p.push(e)}));if(!u.callbacks[e])return p;for(c=n("./node_modules/combokeys/helpers/isModifier.js"),"keyup"===m&&c(e)&&(t=[e]),r=0;r<u.callbacks[e].length;++r)if(l=u.callbacks[e][r],(s||!l.seq||u.sequenceLevels[l.seq]===l.level)&&m===l.action&&(d=n("./node_modules/combokeys/Combokeys/prototype/modifiersMatch.js"),"keypress"===m&&!o.metaKey&&!o.ctrlKey||d(t,l.modifiers))){var h=!s&&l.combo===i,g=s&&l.seq===s&&l.level===a;(h||g)&&u.callbacks[e].splice(r,1),p.push(l)}return p}},"./node_modules/combokeys/Combokeys/prototype/getReverseMap.js":function(e,t,n){"use strict";e.exports=function(){var e,t=this.constructor;if(!t.REVERSE_MAP)for(var o in t.REVERSE_MAP={},e=n("./node_modules/combokeys/helpers/special-keys-map.js"))o>95&&o<112||e.hasOwnProperty(o)&&(t.REVERSE_MAP[e[o]]=o);return t.REVERSE_MAP}},"./node_modules/combokeys/Combokeys/prototype/handleKey.js":function(e,t,n){"use strict";e.exports=function(e,t,o){var s,i,a,r,l=this,c={},d=0,u=!1;for(s=l.getMatches(e,t,o),i=0;i<s.length;++i)s[i].seq&&(d=Math.max(d,s[i].level));for(i=0;i<s.length;++i)if(s[i].seq){if(s[i].level!==d)continue;u=!0,c[s[i].seq]=1,l.fireCallback(s[i].callback,o,s[i].combo,s[i].seq)}else u||l.fireCallback(s[i].callback,o,s[i].combo);r="keypress"===o.type&&l.ignoreNextKeypress,a=n("./node_modules/combokeys/helpers/isModifier.js"),o.type!==l.nextExpectedAction||a(e)||r||l.resetSequences(c),l.ignoreNextKeypress=u&&"keydown"===o.type}},"./node_modules/combokeys/Combokeys/prototype/handleKeyEvent.js":function(e,t,n){"use strict";e.exports=function(e){var t,o=this;"number"!=typeof e.which&&(e.which=e.keyCode);var s=n("./node_modules/combokeys/helpers/characterFromEvent.js")(e);void 0!==s&&("keyup"!==e.type||o.ignoreNextKeyup!==s?(t=n("./node_modules/combokeys/helpers/eventModifiers.js"),o.handleKey(s,t(e),e)):o.ignoreNextKeyup=!1)}},"./node_modules/combokeys/Combokeys/prototype/modifiersMatch.js":function(e){"use strict";e.exports=function(e,t){return e.sort().join(",")===t.sort().join(",")}},"./node_modules/combokeys/Combokeys/prototype/pickBestAction.js":function(e){"use strict";e.exports=function(e,t,n){return n||(n=this.getReverseMap()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}},"./node_modules/combokeys/Combokeys/prototype/reset.js":function(e){"use strict";e.exports=function(){return this.callbacks={},this.directMap={},this}},"./node_modules/combokeys/Combokeys/prototype/resetSequenceTimer.js":function(e){"use strict";e.exports=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout((function(){e.resetSequences()}),1e3)}},"./node_modules/combokeys/Combokeys/prototype/resetSequences.js":function(e){"use strict";e.exports=function(e){var t=this;e=e||{};var n,o=!1;for(n in t.sequenceLevels)e[n]?o=!0:t.sequenceLevels[n]=0;o||(t.nextExpectedAction=!1)}},"./node_modules/combokeys/Combokeys/prototype/stopCallback.js":function(e){"use strict";e.exports=function(e,t){if((" "+t.className+" ").indexOf(" combokeys ")>-1)return!1;var n=t.tagName.toLowerCase();return"input"===n||"select"===n||"textarea"===n||t.isContentEditable}},"./node_modules/combokeys/Combokeys/prototype/trigger.js":function(e){"use strict";e.exports=function(e,t){return this.directMap[e+":"+t]&&this.directMap[e+":"+t]({},e),this}},"./node_modules/combokeys/Combokeys/prototype/unbind.js":function(e){"use strict";e.exports=function(e,t){return this.bind(e,(function(){}),t)}},"./node_modules/combokeys/Combokeys/reset.js":function(e){"use strict";e.exports=function(){this.instances.forEach((function(e){e.reset()}))}},"./node_modules/combokeys/helpers/characterFromEvent.js":function(e,t,n){"use strict";e.exports=function(e){var t,o;if(t=n("./node_modules/combokeys/helpers/special-keys-map.js"),o=n("./node_modules/combokeys/helpers/special-characters-map.js"),"keypress"===e.type){var s=String.fromCharCode(e.which);return e.shiftKey||(s=s.toLowerCase()),s}return void 0!==t[e.which]?t[e.which]:void 0!==o[e.which]?o[e.which]:String.fromCharCode(e.which).toLowerCase()}},"./node_modules/combokeys/helpers/eventModifiers.js":function(e){"use strict";e.exports=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}},"./node_modules/combokeys/helpers/isModifier.js":function(e){"use strict";e.exports=function(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}},"./node_modules/combokeys/helpers/keysFromString.js":function(e){"use strict";e.exports=function(e){return"+"===e?["+"]:e.split("+")}},"./node_modules/combokeys/helpers/preventDefault.js":function(e){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},"./node_modules/combokeys/helpers/shift-map.js":function(e){"use strict";e.exports={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}},"./node_modules/combokeys/helpers/special-aliases.js":function(e){"use strict";e.exports={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}},"./node_modules/combokeys/helpers/special-characters-map.js":function(e){"use strict";e.exports={106:"*",107:"plus",109:"minus",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},"./node_modules/combokeys/helpers/special-keys-map.js":function(e){"use strict";e.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",173:"minus",187:"plus",189:"minus",224:"meta"};for(var t=1;t<20;++t)e.exports[111+t]="f"+t;for(t=0;t<=9;++t)e.exports[t+96]=t},"./node_modules/combokeys/helpers/stopPropagation.js":function(e){"use strict";e.exports=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},"./node_modules/date-fns/esm/_lib/requiredArgs/index.js":function(e,t,n){"use strict";function o(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/date-fns/esm/_lib/toInteger/index.js":function(e,t,n){"use strict";function o(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/date-fns/esm/constants/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{daysInWeek:function(){return o},maxTime:function(){return s},millisecondsInHour:function(){return a},millisecondsInMinute:function(){return i},millisecondsInSecond:function(){return r},minTime:function(){return l},minutesInHour:function(){return c},monthsInQuarter:function(){return d},monthsInYear:function(){return u},quartersInYear:function(){return p},secondsInHour:function(){return m},secondsInMinute:function(){return h}});var o=7,s=24*Math.pow(10,8)*60*60*1e3,i=6e4,a=36e5,r=1e3,l=-s,c=60,d=3,u=12,p=4,m=3600,h=60},"./node_modules/date-fns/esm/differenceInMilliseconds/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("./node_modules/date-fns/esm/toDate/index.js"),s=n("./node_modules/date-fns/esm/_lib/requiredArgs/index.js");function i(e,t){return(0,s.default)(2,arguments),(0,o.default)(e).getTime()-(0,o.default)(t).getTime()}},"./node_modules/date-fns/esm/parseISO/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var o=n("./node_modules/date-fns/esm/constants/index.js"),s=n("./node_modules/date-fns/esm/_lib/requiredArgs/index.js"),i=n("./node_modules/date-fns/esm/_lib/toInteger/index.js");function a(e,t){(0,s.default)(1,arguments);var n=t||{},o=null==n.additionalDigits?2:(0,i.default)(n.additionalDigits);if(2!==o&&1!==o&&0!==o)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var a,r=u(e);if(r.date){var l=p(r.date,o);a=m(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);var c,d=a.getTime(),h=0;if(r.time&&(h=g(r.time),isNaN(h)))return new Date(NaN);if(!r.timezone){var f=new Date(d+h),y=new Date(0);return y.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),y.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),y}return c=b(r.timezone),isNaN(c)?new Date(NaN):new Date(d+h+c)}var r={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,c=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,d=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e){var t,n={},o=e.split(r.dateTimeDelimiter);if(o.length>2)return n;if(/:/.test(o[0])?t=o[0]:(n.date=o[0],t=o[1],r.timeZoneDelimiter.test(n.date)&&(n.date=e.split(r.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var s=r.timezone.exec(t);s?(n.time=t.replace(s[1],""),n.timezone=s[1]):n.time=t}return n}function p(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(n);if(!o)return{year:NaN,restDateString:""};var s=o[1]?parseInt(o[1]):null,i=o[2]?parseInt(o[2]):null;return{year:null===i?s:100*i,restDateString:e.slice((o[1]||o[2]).length)}}function m(e,t){if(null===t)return new Date(NaN);var n=e.match(l);if(!n)return new Date(NaN);var o=!!n[4],s=h(n[1]),i=h(n[2])-1,a=h(n[3]),r=h(n[4]),c=h(n[5])-1;if(o)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,r,c)?function(e,t,n){var o=new Date(0);o.setUTCFullYear(e,0,4);var s=o.getUTCDay()||7,i=7*(t-1)+n+1-s;return o.setUTCDate(o.getUTCDate()+i),o}(t,r,c):new Date(NaN);var d=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(y[t]||(v(e)?29:28))}(t,i,a)&&function(e,t){return t>=1&&t<=(v(e)?366:365)}(t,s)?(d.setUTCFullYear(t,i,Math.max(s,a)),d):new Date(NaN)}function h(e){return e?parseInt(e):1}function g(e){var t=e.match(c);if(!t)return NaN;var n=f(t[1]),s=f(t[2]),i=f(t[3]);return function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,s,i)?n*o.millisecondsInHour+s*o.millisecondsInMinute+1e3*i:NaN}function f(e){return e&&parseFloat(e.replace(",","."))||0}function b(e){if("Z"===e)return 0;var t=e.match(d);if(!t)return 0;var n="+"===t[1]?-1:1,s=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return function(e,t){return t>=0&&t<=59}(0,i)?n*(s*o.millisecondsInHour+i*o.millisecondsInMinute):NaN}var y=[31,null,31,30,31,30,31,31,30,31,30,31];function v(e){return e%400==0||e%4==0&&e%100!=0}},"./node_modules/date-fns/esm/toDate/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var o=n("./node_modules/date-fns/esm/_lib/requiredArgs/index.js"),s=n("../../node_modules/console-browserify/index.js");function i(e){(0,o.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||void 0===s||(s.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),s.warn((new Error).stack)),new Date(NaN))}},"./node_modules/diff-match-patch/index.js":function(e){function t(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var n=-1;t.Diff,t.prototype.diff_main=function(e,t,n,o){void 0===o&&(o=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var s=o;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[0,e]]:[];void 0===n&&(n=!0);var i=n,a=this.diff_commonPrefix(e,t),r=e.substring(0,a);e=e.substring(a),t=t.substring(a),a=this.diff_commonSuffix(e,t);var l=e.substring(e.length-a);e=e.substring(0,e.length-a),t=t.substring(0,t.length-a);var c=this.diff_compute_(e,t,i,s);return r&&c.unshift([0,r]),l&&c.push([0,l]),this.diff_cleanupMerge(c),c},t.prototype.diff_compute_=function(e,t,o,s){var i;if(!e)return[[1,t]];if(!t)return[[n,e]];var a=e.length>t.length?e:t,r=e.length>t.length?t:e,l=a.indexOf(r);if(-1!=l)return i=[[1,a.substring(0,l)],[0,r],[1,a.substring(l+r.length)]],e.length>t.length&&(i[0][0]=i[2][0]=n),i;if(1==r.length)return[[n,e],[1,t]];var c=this.diff_halfMatch_(e,t);if(c){var d=c[0],u=c[1],p=c[2],m=c[3],h=c[4],g=this.diff_main(d,p,o,s),f=this.diff_main(u,m,o,s);return g.concat([[0,h]],f)}return o&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,s):this.diff_bisect_(e,t,s)},t.prototype.diff_lineMode_=function(e,t,o){e=(u=this.diff_linesToChars_(e,t)).chars1,t=u.chars2;var s=u.lineArray,i=this.diff_main(e,t,!1,o);this.diff_charsToLines_(i,s),this.diff_cleanupSemantic(i),i.push([0,""]);for(var a=0,r=0,l=0,c="",d="";a<i.length;){switch(i[a][0]){case 1:l++,d+=i[a][1];break;case n:r++,c+=i[a][1];break;case 0:if(r>=1&&l>=1){i.splice(a-r-l,r+l),a=a-r-l;for(var u,p=(u=this.diff_main(c,d,!1,o)).length-1;p>=0;p--)i.splice(a,0,u[p]);a+=u.length}l=0,r=0,c="",d=""}a++}return i.pop(),i},t.prototype.diff_bisect_=function(e,t,o){for(var s=e.length,i=t.length,a=Math.ceil((s+i)/2),r=a,l=2*a,c=new Array(l),d=new Array(l),u=0;u<l;u++)c[u]=-1,d[u]=-1;c[r+1]=0,d[r+1]=0;for(var p=s-i,m=p%2!=0,h=0,g=0,f=0,b=0,y=0;y<a&&!((new Date).getTime()>o);y++){for(var v=-y+h;v<=y-g;v+=2){for(var I=r+v,E=(j=v==-y||v!=y&&c[I-1]<c[I+1]?c[I+1]:c[I-1]+1)-v;j<s&&E<i&&e.charAt(j)==t.charAt(E);)j++,E++;if(c[I]=j,j>s)g+=2;else if(E>i)h+=2;else if(m){if((C=r+p-v)>=0&&C<l&&-1!=d[C])if(j>=(S=s-d[C]))return this.diff_bisectSplit_(e,t,j,E,o)}}for(var _=-y+f;_<=y-b;_+=2){for(var S,C=r+_,T=(S=_==-y||_!=y&&d[C-1]<d[C+1]?d[C+1]:d[C-1]+1)-_;S<s&&T<i&&e.charAt(s-S-1)==t.charAt(i-T-1);)S++,T++;if(d[C]=S,S>s)b+=2;else if(T>i)f+=2;else if(!m){if((I=r+p-_)>=0&&I<l&&-1!=c[I]){var j;E=r+(j=c[I])-I;if(j>=(S=s-S))return this.diff_bisectSplit_(e,t,j,E,o)}}}}return[[n,e],[1,t]]},t.prototype.diff_bisectSplit_=function(e,t,n,o,s){var i=e.substring(0,n),a=t.substring(0,o),r=e.substring(n),l=t.substring(o),c=this.diff_main(i,a,!1,s),d=this.diff_main(r,l,!1,s);return c.concat(d)},t.prototype.diff_linesToChars_=function(e,t){var n=[],o={};function s(e){for(var t="",s=0,i=-1,a=n.length;i<e.length-1;){-1==(i=e.indexOf("\n",s))&&(i=e.length-1);var r=e.substring(s,i+1);s=i+1,(o.hasOwnProperty?o.hasOwnProperty(r):void 0!==o[r])?t+=String.fromCharCode(o[r]):(t+=String.fromCharCode(a),o[r]=a,n[a++]=r)}return t}return n[0]="",{chars1:s(e),chars2:s(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var o=e[n][1],s=[],i=0;i<o.length;i++)s[i]=t[o.charCodeAt(i)];e[n][1]=s.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,o=Math.min(e.length,t.length),s=o,i=0;n<s;)e.substring(i,s)==t.substring(i,s)?i=n=s:o=s,s=Math.floor((o-n)/2+n);return s},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,o=Math.min(e.length,t.length),s=o,i=0;n<s;)e.substring(e.length-s,e.length-i)==t.substring(t.length-s,t.length-i)?i=n=s:o=s,s=Math.floor((o-n)/2+n);return s},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,o=t.length;if(0==n||0==o)return 0;n>o?e=e.substring(n-o):n<o&&(t=t.substring(0,n));var s=Math.min(n,o);if(e==t)return s;for(var i=0,a=1;;){var r=e.substring(s-a),l=t.indexOf(r);if(-1==l)return i;a+=l,0!=l&&e.substring(s-a)!=t.substring(0,a)||(i=a,a++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,o=e.length>t.length?t:e;if(n.length<4||2*o.length<n.length)return null;var s=this;function i(e,t,n){for(var o,i,a,r,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(l,c+1));){var u=s.diff_commonPrefix(e.substring(n),t.substring(c)),p=s.diff_commonSuffix(e.substring(0,n),t.substring(0,c));d.length<p+u&&(d=t.substring(c-p,c)+t.substring(c,c+u),o=e.substring(0,n-p),i=e.substring(n+u),a=t.substring(0,c-p),r=t.substring(c+u))}return 2*d.length>=e.length?[o,i,a,r,d]:null}var a,r,l,c,d,u=i(n,o,Math.ceil(n.length/4)),p=i(n,o,Math.ceil(n.length/2));return u||p?(a=p?u&&u[4].length>p[4].length?u:p:u,e.length>t.length?(r=a[0],l=a[1],c=a[2],d=a[3]):(c=a[0],d=a[1],r=a[2],l=a[3]),[r,l,c,d,a[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var t=!1,o=[],s=0,i=null,a=0,r=0,l=0,c=0,d=0;a<e.length;)0==e[a][0]?(o[s++]=a,r=c,l=d,c=0,d=0,i=e[a][1]):(1==e[a][0]?c+=e[a][1].length:d+=e[a][1].length,i&&i.length<=Math.max(r,l)&&i.length<=Math.max(c,d)&&(e.splice(o[s-1],0,[n,i]),e[o[s-1]+1][0]=1,s--,a=--s>0?o[s-1]:-1,r=0,l=0,c=0,d=0,i=null,t=!0)),a++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==n&&1==e[a][0]){var u=e[a-1][1],p=e[a][1],m=this.diff_commonOverlap_(u,p),h=this.diff_commonOverlap_(p,u);m>=h?(m>=u.length/2||m>=p.length/2)&&(e.splice(a,0,[0,p.substring(0,m)]),e[a-1][1]=u.substring(0,u.length-m),e[a+1][1]=p.substring(m),a++):(h>=u.length/2||h>=p.length/2)&&(e.splice(a,0,[0,u.substring(0,h)]),e[a-1][0]=1,e[a-1][1]=p.substring(0,p.length-h),e[a+1][0]=n,e[a+1][1]=u.substring(h),a++),a++}a++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var o=e.charAt(e.length-1),s=n.charAt(0),i=o.match(t.nonAlphaNumericRegex_),a=s.match(t.nonAlphaNumericRegex_),r=i&&o.match(t.whitespaceRegex_),l=a&&s.match(t.whitespaceRegex_),c=r&&o.match(t.linebreakRegex_),d=l&&s.match(t.linebreakRegex_),u=c&&e.match(t.blanklineEndRegex_),p=d&&n.match(t.blanklineStartRegex_);return u||p?5:c||d?4:i&&!r&&l?3:r||l?2:i||a?1:0}for(var o=1;o<e.length-1;){if(0==e[o-1][0]&&0==e[o+1][0]){var s=e[o-1][1],i=e[o][1],a=e[o+1][1],r=this.diff_commonSuffix(s,i);if(r){var l=i.substring(i.length-r);s=s.substring(0,s.length-r),i=l+i.substring(0,i.length-r),a=l+a}for(var c=s,d=i,u=a,p=n(s,i)+n(i,a);i.charAt(0)===a.charAt(0);){s+=i.charAt(0),i=i.substring(1)+a.charAt(0),a=a.substring(1);var m=n(s,i)+n(i,a);m>=p&&(p=m,c=s,d=i,u=a)}e[o-1][1]!=c&&(c?e[o-1][1]=c:(e.splice(o-1,1),o--),e[o][1]=d,u?e[o+1][1]=u:(e.splice(o+1,1),o--))}o++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,o=[],s=0,i=null,a=0,r=!1,l=!1,c=!1,d=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(c||d)?(o[s++]=a,r=c,l=d,i=e[a][1]):(s=0,i=null),c=d=!1):(e[a][0]==n?d=!0:c=!0,i&&(r&&l&&c&&d||i.length<this.Diff_EditCost/2&&r+l+c+d==3)&&(e.splice(o[s-1],0,[n,i]),e[o[s-1]+1][0]=1,s--,i=null,r&&l?(c=d=!0,s=0):(a=--s>0?o[s-1]:-1,c=d=!1),t=!0)),a++;t&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push([0,""]);for(var t,o=0,s=0,i=0,a="",r="";o<e.length;)switch(e[o][0]){case 1:i++,r+=e[o][1],o++;break;case n:s++,a+=e[o][1],o++;break;case 0:s+i>1?(0!==s&&0!==i&&(0!==(t=this.diff_commonPrefix(r,a))&&(o-s-i>0&&0==e[o-s-i-1][0]?e[o-s-i-1][1]+=r.substring(0,t):(e.splice(0,0,[0,r.substring(0,t)]),o++),r=r.substring(t),a=a.substring(t)),0!==(t=this.diff_commonSuffix(r,a))&&(e[o][1]=r.substring(r.length-t)+e[o][1],r=r.substring(0,r.length-t),a=a.substring(0,a.length-t))),0===s?e.splice(o-i,s+i,[1,r]):0===i?e.splice(o-s,s+i,[n,a]):e.splice(o-s-i,s+i,[n,a],[1,r]),o=o-s-i+(s?1:0)+(i?1:0)+1):0!==o&&0==e[o-1][0]?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,i=0,s=0,a="",r=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(o=1;o<e.length-1;)0==e[o-1][0]&&0==e[o+1][0]&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)==e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),l=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),l=!0)),o++;l&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var o,s=0,i=0,a=0,r=0;for(o=0;o<e.length&&(1!==e[o][0]&&(s+=e[o][1].length),e[o][0]!==n&&(i+=e[o][1].length),!(s>t));o++)a=s,r=i;return e.length!=o&&e[o][0]===n?r:r+(t-a)},t.prototype.diff_prettyHtml=function(e){for(var t=[],o=/&/g,s=/</g,i=/>/g,a=/\n/g,r=0;r<e.length;r++){var l=e[r][0],c=e[r][1].replace(o,"&amp;").replace(s,"&lt;").replace(i,"&gt;").replace(a,"&para;<br>");switch(l){case 1:t[r]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case n:t[r]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[r]="<span>"+c+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],o=0;o<e.length;o++)e[o][0]!==n&&(t[o]=e[o][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,o=0,s=0,i=0;i<e.length;i++){var a=e[i][0],r=e[i][1];switch(a){case 1:o+=r.length;break;case n:s+=r.length;break;case 0:t+=Math.max(o,s),o=0,s=0}}return t+=Math.max(o,s)},t.prototype.diff_toDelta=function(e){for(var t=[],o=0;o<e.length;o++)switch(e[o][0]){case 1:t[o]="+"+encodeURI(e[o][1]);break;case n:t[o]="-"+e[o][1].length;break;case 0:t[o]="="+e[o][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,t){for(var o=[],s=0,i=0,a=t.split(/\t/g),r=0;r<a.length;r++){var l=a[r].substring(1);switch(a[r].charAt(0)){case"+":try{o[s++]=[1,decodeURI(l)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var c=parseInt(l,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+l);var d=e.substring(i,i+=c);"="==a[r].charAt(0)?o[s++]=[0,d]:o[s++]=[n,d];break;default:if(a[r])throw new Error("Invalid diff operation in diff_fromDelta: "+a[r])}}if(i!=e.length)throw new Error("Delta length ("+i+") does not equal source text length ("+e.length+").");return o},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var o=this.match_alphabet_(t),s=this;function i(e,o){var i=e/t.length,a=Math.abs(n-o);return s.Match_Distance?i+a/s.Match_Distance:a?1:i}var a=this.Match_Threshold,r=e.indexOf(t,n);-1!=r&&(a=Math.min(i(0,r),a),-1!=(r=e.lastIndexOf(t,n+t.length))&&(a=Math.min(i(0,r),a)));var l,c,d=1<<t.length-1;r=-1;for(var u,p=t.length+e.length,m=0;m<t.length;m++){for(l=0,c=p;l<c;)i(m,n+c)<=a?l=c:p=c,c=Math.floor((p-l)/2+l);p=c;var h=Math.max(1,n-c+1),g=Math.min(n+c,e.length)+t.length,f=Array(g+2);f[g+1]=(1<<m)-1;for(var b=g;b>=h;b--){var y=o[e.charAt(b-1)];if(f[b]=0===m?(f[b+1]<<1|1)&y:(f[b+1]<<1|1)&y|(u[b+1]|u[b])<<1|1|u[b+1],f[b]&d){var v=i(m,b-1);if(v<=a){if(a=v,!((r=b-1)>n))break;h=Math.max(1,2*n-r)}}}if(i(m+1,n)>a)break;u=f}return r},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),o=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)o+=this.Patch_Margin,n=t.substring(e.start2-o,e.start2+e.length1+o);o+=this.Patch_Margin;var s=t.substring(e.start2-o,e.start2);s&&e.diffs.unshift([0,s]);var i=t.substring(e.start2+e.length1,e.start2+e.length1+o);i&&e.diffs.push([0,i]),e.start1-=s.length,e.start2-=s.length,e.length1+=s.length+i.length,e.length2+=s.length+i.length}},t.prototype.patch_make=function(e,o,s){var i,a;if("string"==typeof e&&"string"==typeof o&&void 0===s)i=e,(a=this.diff_main(i,o,!0)).length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&"object"==typeof e&&void 0===o&&void 0===s)a=e,i=this.diff_text1(a);else if("string"==typeof e&&o&&"object"==typeof o&&void 0===s)i=e,a=o;else{if("string"!=typeof e||"string"!=typeof o||!s||"object"!=typeof s)throw new Error("Unknown call format to patch_make.");i=e,a=s}if(0===a.length)return[];for(var r=[],l=new t.patch_obj,c=0,d=0,u=0,p=i,m=i,h=0;h<a.length;h++){var g=a[h][0],f=a[h][1];switch(c||0===g||(l.start1=d,l.start2=u),g){case 1:l.diffs[c++]=a[h],l.length2+=f.length,m=m.substring(0,u)+f+m.substring(u);break;case n:l.length1+=f.length,l.diffs[c++]=a[h],m=m.substring(0,u)+m.substring(u+f.length);break;case 0:f.length<=2*this.Patch_Margin&&c&&a.length!=h+1?(l.diffs[c++]=a[h],l.length1+=f.length,l.length2+=f.length):f.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,p),r.push(l),l=new t.patch_obj,c=0,p=m,d=u)}1!==g&&(d+=f.length),g!==n&&(u+=f.length)}return c&&(this.patch_addContext_(l,p),r.push(l)),r},t.prototype.patch_deepCopy=function(e){for(var n=[],o=0;o<e.length;o++){var s=e[o],i=new t.patch_obj;i.diffs=[];for(var a=0;a<s.diffs.length;a++)i.diffs[a]=s.diffs[a].slice();i.start1=s.start1,i.start2=s.start2,i.length1=s.length1,i.length2=s.length2,n[o]=i}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var o=this.patch_addPadding(e);t=o+t+o,this.patch_splitMax(e);for(var s=0,i=[],a=0;a<e.length;a++){var r,l,c=e[a].start2+s,d=this.diff_text1(e[a].diffs),u=-1;if(d.length>this.Match_MaxBits?-1!=(r=this.match_main(t,d.substring(0,this.Match_MaxBits),c))&&(-1==(u=this.match_main(t,d.substring(d.length-this.Match_MaxBits),c+d.length-this.Match_MaxBits))||r>=u)&&(r=-1):r=this.match_main(t,d,c),-1==r)i[a]=!1,s-=e[a].length2-e[a].length1;else if(i[a]=!0,s=r-c,d==(l=-1==u?t.substring(r,r+d.length):t.substring(r,u+this.Match_MaxBits)))t=t.substring(0,r)+this.diff_text2(e[a].diffs)+t.substring(r+d.length);else{var p=this.diff_main(d,l,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(p)/d.length>this.Patch_DeleteThreshold)i[a]=!1;else{this.diff_cleanupSemanticLossless(p);for(var m,h=0,g=0;g<e[a].diffs.length;g++){var f=e[a].diffs[g];0!==f[0]&&(m=this.diff_xIndex(p,h)),1===f[0]?t=t.substring(0,r+m)+f[1]+t.substring(r+m):f[0]===n&&(t=t.substring(0,r+m)+t.substring(r+this.diff_xIndex(p,h+f[1].length))),f[0]!==n&&(h+=f[1].length)}}}}return[t=t.substring(o.length,t.length-o.length),i]},t.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",o=1;o<=t;o++)n+=String.fromCharCode(o);for(o=0;o<e.length;o++)e[o].start1+=t,e[o].start2+=t;var s=e[0],i=s.diffs;if(0==i.length||0!=i[0][0])i.unshift([0,n]),s.start1-=t,s.start2-=t,s.length1+=t,s.length2+=t;else if(t>i[0][1].length){var a=t-i[0][1].length;i[0][1]=n.substring(i[0][1].length)+i[0][1],s.start1-=a,s.start2-=a,s.length1+=a,s.length2+=a}if(0==(i=(s=e[e.length-1]).diffs).length||0!=i[i.length-1][0])i.push([0,n]),s.length1+=t,s.length2+=t;else if(t>i[i.length-1][1].length){a=t-i[i.length-1][1].length;i[i.length-1][1]+=n.substring(0,a),s.length1+=a,s.length2+=a}return n},t.prototype.patch_splitMax=function(e){for(var o=this.Match_MaxBits,s=0;s<e.length;s++)if(!(e[s].length1<=o)){var i=e[s];e.splice(s--,1);for(var a=i.start1,r=i.start2,l="";0!==i.diffs.length;){var c=new t.patch_obj,d=!0;for(c.start1=a-l.length,c.start2=r-l.length,""!==l&&(c.length1=c.length2=l.length,c.diffs.push([0,l]));0!==i.diffs.length&&c.length1<o-this.Patch_Margin;){var u=i.diffs[0][0],p=i.diffs[0][1];1===u?(c.length2+=p.length,r+=p.length,c.diffs.push(i.diffs.shift()),d=!1):u===n&&1==c.diffs.length&&0==c.diffs[0][0]&&p.length>2*o?(c.length1+=p.length,a+=p.length,d=!1,c.diffs.push([u,p]),i.diffs.shift()):(p=p.substring(0,o-c.length1-this.Patch_Margin),c.length1+=p.length,a+=p.length,0===u?(c.length2+=p.length,r+=p.length):d=!1,c.diffs.push([u,p]),p==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(p.length))}l=(l=this.diff_text2(c.diffs)).substring(l.length-this.Patch_Margin);var m=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==m&&(c.length1+=m.length,c.length2+=m.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=m:c.diffs.push([0,m])),d||e.splice(++s,0,c)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var o=[];if(!e)return o;for(var s=e.split("\n"),i=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<s.length;){var r=s[i].match(a);if(!r)throw new Error("Invalid patch string: "+s[i]);var l=new t.patch_obj;for(o.push(l),l.start1=parseInt(r[1],10),""===r[2]?(l.start1--,l.length1=1):"0"==r[2]?l.length1=0:(l.start1--,l.length1=parseInt(r[2],10)),l.start2=parseInt(r[3],10),""===r[4]?(l.start2--,l.length2=1):"0"==r[4]?l.length2=0:(l.start2--,l.length2=parseInt(r[4],10)),i++;i<s.length;){var c=s[i].charAt(0);try{var d=decodeURI(s[i].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+d)}if("-"==c)l.diffs.push([n,d]);else if("+"==c)l.diffs.push([1,d]);else if(" "==c)l.diffs.push([0,d]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+d)}i++}}return o},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case 1:e="+";break;case n:e="-";break;case 0:e=" "}t[o+1]=e+encodeURI(this.diffs[o][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},"./node_modules/fbemitter/index.js":function(e,t,n){var o={EventEmitter:n("./node_modules/fbemitter/lib/BaseEventEmitter.js"),EmitterSubscription:n("./node_modules/fbemitter/lib/EmitterSubscription.js")};e.exports=o},"./node_modules/fbemitter/lib/BaseEventEmitter.js":function(e,t,n){"use strict";var o=n("./node_modules/fbemitter/lib/EmitterSubscription.js"),s=n("./node_modules/fbemitter/lib/EventSubscriptionVendor.js"),i=n("./node_modules/fbjs/lib/emptyFunction.js"),a=n("./node_modules/fbjs/lib/invariant.js"),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriber=new s,this._currentSubscription=null}return e.prototype.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new o(this._subscriber,t,n))},e.prototype.once=function(e,t,n){var o=this;return this.addListener(e,(function(){o.removeCurrentListener(),t.apply(n,arguments)}))},e.prototype.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},e.prototype.removeCurrentListener=function(){this._currentSubscription||a(!1),this._subscriber.removeSubscription(this._currentSubscription)},e.prototype.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(i.thatReturnsTrue).map((function(e){return e.listener})):[]},e.prototype.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),o=0;o<n.length;o++){var s=n[o],i=t[s];i&&(this._currentSubscription=i,this.__emitToSubscription.apply(this,[i].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},e.prototype.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=r},"./node_modules/fbemitter/lib/EmitterSubscription.js":function(e,t,n){"use strict";var o=function(e){function t(n,o,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.listener=o,this.context=s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n("./node_modules/fbemitter/lib/EventSubscription.js"));e.exports=o},"./node_modules/fbemitter/lib/EventSubscription.js":function(e){"use strict";var t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriber=t}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},"./node_modules/fbemitter/lib/EventSubscriptionVendor.js":function(e,t,n){"use strict";var o=n("./node_modules/fbjs/lib/invariant.js"),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptionsForType={},this._currentSubscription=null}return e.prototype.addSubscription=function(e,t){t.subscriber!==this&&o(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},e.prototype.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},e.prototype.removeSubscription=function(e){var t=e.eventType,n=e.key,o=this._subscriptionsForType[t];o&&delete o[n]},e.prototype.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=s},"./node_modules/just-reduce-object/index.js":function(e){e.exports=function(e,t){var n=[s],o=2 in arguments;function s(n,s,i,a){return o||(n=e[a[0]],o=!0),t(n,s,e[s],i,a)}return o&&n.push(arguments[2]),Array.prototype.reduce.apply(Object.keys(e),n)}},"./node_modules/lodash/_DataView.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"DataView");e.exports=o},"./node_modules/lodash/_Promise.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"Promise");e.exports=o},"./node_modules/lodash/_Stack.js":function(e,t,n){var o=n("./node_modules/lodash/_ListCache.js"),s=n("./node_modules/lodash/_stackClear.js"),i=n("./node_modules/lodash/_stackDelete.js"),a=n("./node_modules/lodash/_stackGet.js"),r=n("./node_modules/lodash/_stackHas.js"),l=n("./node_modules/lodash/_stackSet.js");function c(e){var t=this.__data__=new o(e);this.size=t.size}c.prototype.clear=s,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=r,c.prototype.set=l,e.exports=c},"./node_modules/lodash/_Uint8Array.js":function(e,t,n){var o=n("./node_modules/lodash/_root.js").Uint8Array;e.exports=o},"./node_modules/lodash/_WeakMap.js":function(e,t,n){var o=n("./node_modules/lodash/_getNative.js")(n("./node_modules/lodash/_root.js"),"WeakMap");e.exports=o},"./node_modules/lodash/_arrayEach.js":function(e){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}},"./node_modules/lodash/_arrayReduce.js":function(e){e.exports=function(e,t,n,o){var s=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++s]);++s<i;)n=t(n,e[s],s,e);return n}},"./node_modules/lodash/_arraySome.js":function(e){e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}},"./node_modules/lodash/_asciiSize.js":function(e,t,n){var o=n("./node_modules/lodash/_baseProperty.js")("length");e.exports=o},"./node_modules/lodash/_assignValue.js":function(e,t,n){var o=n("./node_modules/lodash/_baseAssignValue.js"),s=n("./node_modules/lodash/eq.js"),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&s(a,n)&&(void 0!==n||t in e)||o(e,t,n)}},"./node_modules/lodash/_baseAssign.js":function(e,t,n){var o=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&o(t,s(t),e)}},"./node_modules/lodash/_baseAssignIn.js":function(e,t,n){var o=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/keysIn.js");e.exports=function(e,t){return e&&o(t,s(t),e)}},"./node_modules/lodash/_baseAssignValue.js":function(e,t,n){var o=n("./node_modules/lodash/_defineProperty.js");e.exports=function(e,t,n){"__proto__"==t&&o?o(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},"./node_modules/lodash/_baseClone.js":function(e,t,n){var o=n("./node_modules/lodash/_Stack.js"),s=n("./node_modules/lodash/_arrayEach.js"),i=n("./node_modules/lodash/_assignValue.js"),a=n("./node_modules/lodash/_baseAssign.js"),r=n("./node_modules/lodash/_baseAssignIn.js"),l=n("./node_modules/lodash/_cloneBuffer.js"),c=n("./node_modules/lodash/_copyArray.js"),d=n("./node_modules/lodash/_copySymbols.js"),u=n("./node_modules/lodash/_copySymbolsIn.js"),p=n("./node_modules/lodash/_getAllKeys.js"),m=n("./node_modules/lodash/_getAllKeysIn.js"),h=n("./node_modules/lodash/_getTag.js"),g=n("./node_modules/lodash/_initCloneArray.js"),f=n("./node_modules/lodash/_initCloneByTag.js"),b=n("./node_modules/lodash/_initCloneObject.js"),y=n("./node_modules/lodash/isArray.js"),v=n("./node_modules/lodash/isBuffer.js"),I=n("./node_modules/lodash/isMap.js"),E=n("./node_modules/lodash/isObject.js"),_=n("./node_modules/lodash/isSet.js"),S=n("./node_modules/lodash/keys.js"),C=n("./node_modules/lodash/keysIn.js"),T="[object Arguments]",j="[object Function]",A="[object Object]",w={};w[T]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w[A]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w[j]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,O,N,D,R){var P,M=1&n,L=2&n,x=4&n;if(O&&(P=D?O(t,N,D,R):O(t)),void 0!==P)return P;if(!E(t))return t;var k=y(t);if(k){if(P=g(t),!M)return c(t,P)}else{var F=h(t),V=F==j||"[object GeneratorFunction]"==F;if(v(t))return l(t,M);if(F==A||F==T||V&&!D){if(P=L||V?{}:b(t),!M)return L?u(t,r(P,t)):d(t,a(P,t))}else{if(!w[F])return D?t:{};P=f(t,F,M)}}R||(R=new o);var B=R.get(t);if(B)return B;R.set(t,P),_(t)?t.forEach((function(o){P.add(e(o,n,O,o,t,R))})):I(t)&&t.forEach((function(o,s){P.set(s,e(o,n,O,s,t,R))}));var U=k?void 0:(x?L?m:p:L?C:S)(t);return s(U||t,(function(o,s){U&&(o=t[s=o]),i(P,s,e(o,n,O,s,t,R))})),P}},"./node_modules/lodash/_baseCreate.js":function(e,t,n){var o=n("./node_modules/lodash/isObject.js"),s=Object.create,i=function(){function e(){}return function(t){if(!o(t))return{};if(s)return s(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},"./node_modules/lodash/_baseEach.js":function(e,t,n){var o=n("./node_modules/lodash/_baseForOwn.js"),s=n("./node_modules/lodash/_createBaseEach.js")(o);e.exports=s},"./node_modules/lodash/_baseFilter.js":function(e,t,n){var o=n("./node_modules/lodash/_baseEach.js");e.exports=function(e,t){var n=[];return o(e,(function(e,o,s){t(e,o,s)&&n.push(e)})),n}},"./node_modules/lodash/_baseFor.js":function(e,t,n){var o=n("./node_modules/lodash/_createBaseFor.js")();e.exports=o},"./node_modules/lodash/_baseForOwn.js":function(e,t,n){var o=n("./node_modules/lodash/_baseFor.js"),s=n("./node_modules/lodash/keys.js");e.exports=function(e,t){return e&&o(e,t,s)}},"./node_modules/lodash/_baseGet.js":function(e,t,n){var o=n("./node_modules/lodash/_castPath.js"),s=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t){for(var n=0,i=(t=o(t,e)).length;null!=e&&n<i;)e=e[s(t[n++])];return n&&n==i?e:void 0}},"./node_modules/lodash/_baseGetAllKeys.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayPush.js"),s=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var i=t(e);return s(e)?i:o(i,n(e))}},"./node_modules/lodash/_baseHasIn.js":function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},"./node_modules/lodash/_baseIsEqual.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsEqualDeep.js"),s=n("./node_modules/lodash/isObjectLike.js");e.exports=function e(t,n,i,a,r){return t===n||(null==t||null==n||!s(t)&&!s(n)?t!=t&&n!=n:o(t,n,i,a,e,r))}},"./node_modules/lodash/_baseIsEqualDeep.js":function(e,t,n){var o=n("./node_modules/lodash/_Stack.js"),s=n("./node_modules/lodash/_equalArrays.js"),i=n("./node_modules/lodash/_equalByTag.js"),a=n("./node_modules/lodash/_equalObjects.js"),r=n("./node_modules/lodash/_getTag.js"),l=n("./node_modules/lodash/isArray.js"),c=n("./node_modules/lodash/isBuffer.js"),d=n("./node_modules/lodash/isTypedArray.js"),u="[object Arguments]",p="[object Array]",m="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,f,b){var y=l(e),v=l(t),I=y?p:r(e),E=v?p:r(t),_=(I=I==u?m:I)==m,S=(E=E==u?m:E)==m,C=I==E;if(C&&c(e)){if(!c(t))return!1;y=!0,_=!1}if(C&&!_)return b||(b=new o),y||d(e)?s(e,t,n,g,f,b):i(e,t,I,n,g,f,b);if(!(1&n)){var T=_&&h.call(e,"__wrapped__"),j=S&&h.call(t,"__wrapped__");if(T||j){var A=T?e.value():e,w=j?t.value():t;return b||(b=new o),f(A,w,n,g,b)}}return!!C&&(b||(b=new o),a(e,t,n,g,f,b))}},"./node_modules/lodash/_baseIsMap.js":function(e,t,n){var o=n("./node_modules/lodash/_getTag.js"),s=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return s(e)&&"[object Map]"==o(e)}},"./node_modules/lodash/_baseIsMatch.js":function(e,t,n){var o=n("./node_modules/lodash/_Stack.js"),s=n("./node_modules/lodash/_baseIsEqual.js");e.exports=function(e,t,n,i){var a=n.length,r=a,l=!i;if(null==e)return!r;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<r;){var d=(c=n[a])[0],u=e[d],p=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var m=new o;if(i)var h=i(u,p,d,e,t,m);if(!(void 0===h?s(p,u,3,i,m):h))return!1}}return!0}},"./node_modules/lodash/_baseIsSet.js":function(e,t,n){var o=n("./node_modules/lodash/_getTag.js"),s=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return s(e)&&"[object Set]"==o(e)}},"./node_modules/lodash/_baseIteratee.js":function(e,t,n){var o=n("./node_modules/lodash/_baseMatches.js"),s=n("./node_modules/lodash/_baseMatchesProperty.js"),i=n("./node_modules/lodash/identity.js"),a=n("./node_modules/lodash/isArray.js"),r=n("./node_modules/lodash/property.js");e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?s(e[0],e[1]):o(e):r(e)}},"./node_modules/lodash/_baseMap.js":function(e,t,n){var o=n("./node_modules/lodash/_baseEach.js"),s=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){var n=-1,i=s(e)?Array(e.length):[];return o(e,(function(e,o,s){i[++n]=t(e,o,s)})),i}},"./node_modules/lodash/_baseMatches.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsMatch.js"),s=n("./node_modules/lodash/_getMatchData.js"),i=n("./node_modules/lodash/_matchesStrictComparable.js");e.exports=function(e){var t=s(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}}},"./node_modules/lodash/_baseMatchesProperty.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsEqual.js"),s=n("./node_modules/lodash/get.js"),i=n("./node_modules/lodash/hasIn.js"),a=n("./node_modules/lodash/_isKey.js"),r=n("./node_modules/lodash/_isStrictComparable.js"),l=n("./node_modules/lodash/_matchesStrictComparable.js"),c=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t){return a(e)&&r(t)?l(c(e),t):function(n){var a=s(n,e);return void 0===a&&a===t?i(n,e):o(t,a,3)}}},"./node_modules/lodash/_baseProperty.js":function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"./node_modules/lodash/_basePropertyDeep.js":function(e,t,n){var o=n("./node_modules/lodash/_baseGet.js");e.exports=function(e){return function(t){return o(t,e)}}},"./node_modules/lodash/_baseReduce.js":function(e){e.exports=function(e,t,n,o,s){return s(e,(function(e,s,i){n=o?(o=!1,e):t(n,e,s,i)})),n}},"./node_modules/lodash/_baseToString.js":function(e,t,n){var o=n("./node_modules/lodash/_Symbol.js"),s=n("./node_modules/lodash/_arrayMap.js"),i=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/isSymbol.js"),r=o?o.prototype:void 0,l=r?r.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return s(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},"./node_modules/lodash/_baseTrim.js":function(e,t,n){var o=n("./node_modules/lodash/_trimmedEndIndex.js"),s=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(s,""):e}},"./node_modules/lodash/_castFunction.js":function(e,t,n){var o=n("./node_modules/lodash/identity.js");e.exports=function(e){return"function"==typeof e?e:o}},"./node_modules/lodash/_castPath.js":function(e,t,n){var o=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/_isKey.js"),i=n("./node_modules/lodash/_stringToPath.js"),a=n("./node_modules/lodash/toString.js");e.exports=function(e,t){return o(e)?e:s(e,t)?[e]:i(a(e))}},"./node_modules/lodash/_cloneArrayBuffer.js":function(e,t,n){var o=n("./node_modules/lodash/_Uint8Array.js");e.exports=function(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}},"./node_modules/lodash/_cloneBuffer.js":function(e,t,n){e=n.nmd(e);var o=n("./node_modules/lodash/_root.js"),s=t&&!t.nodeType&&t,i=s&&e&&!e.nodeType&&e,a=i&&i.exports===s?o.Buffer:void 0,r=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,o=r?r(n):new e.constructor(n);return e.copy(o),o}},"./node_modules/lodash/_cloneDataView.js":function(e,t,n){var o=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},"./node_modules/lodash/_cloneRegExp.js":function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},"./node_modules/lodash/_cloneSymbol.js":function(e,t,n){var o=n("./node_modules/lodash/_Symbol.js"),s=o?o.prototype:void 0,i=s?s.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},"./node_modules/lodash/_cloneTypedArray.js":function(e,t,n){var o=n("./node_modules/lodash/_cloneArrayBuffer.js");e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},"./node_modules/lodash/_copyArray.js":function(e){e.exports=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}},"./node_modules/lodash/_copyObject.js":function(e,t,n){var o=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_baseAssignValue.js");e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var r=-1,l=t.length;++r<l;){var c=t[r],d=i?i(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),a?s(n,c,d):o(n,c,d)}return n}},"./node_modules/lodash/_copySymbols.js":function(e,t,n){var o=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/_getSymbols.js");e.exports=function(e,t){return o(e,s(e),t)}},"./node_modules/lodash/_copySymbolsIn.js":function(e,t,n){var o=n("./node_modules/lodash/_copyObject.js"),s=n("./node_modules/lodash/_getSymbolsIn.js");e.exports=function(e,t){return o(e,s(e),t)}},"./node_modules/lodash/_createAssigner.js":function(e,t,n){var o=n("./node_modules/lodash/_baseRest.js"),s=n("./node_modules/lodash/_isIterateeCall.js");e.exports=function(e){return o((function(t,n){var o=-1,i=n.length,a=i>1?n[i-1]:void 0,r=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,r&&s(n[0],n[1],r)&&(a=i<3?void 0:a,i=1),t=Object(t);++o<i;){var l=n[o];l&&e(t,l,o,a)}return t}))}},"./node_modules/lodash/_createBaseEach.js":function(e,t,n){var o=n("./node_modules/lodash/isArrayLike.js");e.exports=function(e,t){return function(n,s){if(null==n)return n;if(!o(n))return e(n,s);for(var i=n.length,a=t?i:-1,r=Object(n);(t?a--:++a<i)&&!1!==s(r[a],a,r););return n}}},"./node_modules/lodash/_createBaseFor.js":function(e){e.exports=function(e){return function(t,n,o){for(var s=-1,i=Object(t),a=o(t),r=a.length;r--;){var l=a[e?r:++s];if(!1===n(i[l],l,i))break}return t}}},"./node_modules/lodash/_equalArrays.js":function(e,t,n){var o=n("./node_modules/lodash/_SetCache.js"),s=n("./node_modules/lodash/_arraySome.js"),i=n("./node_modules/lodash/_cacheHas.js");e.exports=function(e,t,n,a,r,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var p=l.get(e),m=l.get(t);if(p&&m)return p==t&&m==e;var h=-1,g=!0,f=2&n?new o:void 0;for(l.set(e,t),l.set(t,e);++h<d;){var b=e[h],y=t[h];if(a)var v=c?a(y,b,h,t,e,l):a(b,y,h,e,t,l);if(void 0!==v){if(v)continue;g=!1;break}if(f){if(!s(t,(function(e,t){if(!i(f,t)&&(b===e||r(b,e,n,a,l)))return f.push(t)}))){g=!1;break}}else if(b!==y&&!r(b,y,n,a,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},"./node_modules/lodash/_equalByTag.js":function(e,t,n){var o=n("./node_modules/lodash/_Symbol.js"),s=n("./node_modules/lodash/_Uint8Array.js"),i=n("./node_modules/lodash/eq.js"),a=n("./node_modules/lodash/_equalArrays.js"),r=n("./node_modules/lodash/_mapToArray.js"),l=n("./node_modules/lodash/_setToArray.js"),c=o?o.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,o,c,u,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new s(e),new s(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var m=r;case"[object Set]":var h=1&o;if(m||(m=l),e.size!=t.size&&!h)return!1;var g=p.get(e);if(g)return g==t;o|=2,p.set(e,t);var f=a(m(e),m(t),o,c,u,p);return p.delete(e),f;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},"./node_modules/lodash/_equalObjects.js":function(e,t,n){var o=n("./node_modules/lodash/_getAllKeys.js"),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,r){var l=1&n,c=o(e),d=c.length;if(d!=o(t).length&&!l)return!1;for(var u=d;u--;){var p=c[u];if(!(l?p in t:s.call(t,p)))return!1}var m=r.get(e),h=r.get(t);if(m&&h)return m==t&&h==e;var g=!0;r.set(e,t),r.set(t,e);for(var f=l;++u<d;){var b=e[p=c[u]],y=t[p];if(i)var v=l?i(y,b,p,t,e,r):i(b,y,p,e,t,r);if(!(void 0===v?b===y||a(b,y,n,i,r):v)){g=!1;break}f||(f="constructor"==p)}if(g&&!f){var I=e.constructor,E=t.constructor;I==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof I&&I instanceof I&&"function"==typeof E&&E instanceof E||(g=!1)}return r.delete(e),r.delete(t),g}},"./node_modules/lodash/_getAllKeys.js":function(e,t,n){var o=n("./node_modules/lodash/_baseGetAllKeys.js"),s=n("./node_modules/lodash/_getSymbols.js"),i=n("./node_modules/lodash/keys.js");e.exports=function(e){return o(e,i,s)}},"./node_modules/lodash/_getAllKeysIn.js":function(e,t,n){var o=n("./node_modules/lodash/_baseGetAllKeys.js"),s=n("./node_modules/lodash/_getSymbolsIn.js"),i=n("./node_modules/lodash/keysIn.js");e.exports=function(e){return o(e,i,s)}},"./node_modules/lodash/_getMatchData.js":function(e,t,n){var o=n("./node_modules/lodash/_isStrictComparable.js"),s=n("./node_modules/lodash/keys.js");e.exports=function(e){for(var t=s(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,o(a)]}return t}},"./node_modules/lodash/_getSymbols.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayFilter.js"),s=n("./node_modules/lodash/stubArray.js"),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,r=a?function(e){return null==e?[]:(e=Object(e),o(a(e),(function(t){return i.call(e,t)})))}:s;e.exports=r},"./node_modules/lodash/_getSymbolsIn.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayPush.js"),s=n("./node_modules/lodash/_getPrototype.js"),i=n("./node_modules/lodash/_getSymbols.js"),a=n("./node_modules/lodash/stubArray.js"),r=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)o(t,i(e)),e=s(e);return t}:a;e.exports=r},"./node_modules/lodash/_getTag.js":function(e,t,n){var o=n("./node_modules/lodash/_DataView.js"),s=n("./node_modules/lodash/_Map.js"),i=n("./node_modules/lodash/_Promise.js"),a=n("./node_modules/lodash/_Set.js"),r=n("./node_modules/lodash/_WeakMap.js"),l=n("./node_modules/lodash/_baseGetTag.js"),c=n("./node_modules/lodash/_toSource.js"),d="[object Map]",u="[object Promise]",p="[object Set]",m="[object WeakMap]",h="[object DataView]",g=c(o),f=c(s),b=c(i),y=c(a),v=c(r),I=l;(o&&I(new o(new ArrayBuffer(1)))!=h||s&&I(new s)!=d||i&&I(i.resolve())!=u||a&&I(new a)!=p||r&&I(new r)!=m)&&(I=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,o=n?c(n):"";if(o)switch(o){case g:return h;case f:return d;case b:return u;case y:return p;case v:return m}return t}),e.exports=I},"./node_modules/lodash/_hasPath.js":function(e,t,n){var o=n("./node_modules/lodash/_castPath.js"),s=n("./node_modules/lodash/isArguments.js"),i=n("./node_modules/lodash/isArray.js"),a=n("./node_modules/lodash/_isIndex.js"),r=n("./node_modules/lodash/isLength.js"),l=n("./node_modules/lodash/_toKey.js");e.exports=function(e,t,n){for(var c=-1,d=(t=o(t,e)).length,u=!1;++c<d;){var p=l(t[c]);if(!(u=null!=e&&n(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&r(d)&&a(p,d)&&(i(e)||s(e))}},"./node_modules/lodash/_hasUnicode.js":function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},"./node_modules/lodash/_initCloneArray.js":function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,o=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(o.index=e.index,o.input=e.input),o}},"./node_modules/lodash/_initCloneByTag.js":function(e,t,n){var o=n("./node_modules/lodash/_cloneArrayBuffer.js"),s=n("./node_modules/lodash/_cloneDataView.js"),i=n("./node_modules/lodash/_cloneRegExp.js"),a=n("./node_modules/lodash/_cloneSymbol.js"),r=n("./node_modules/lodash/_cloneTypedArray.js");e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return o(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return s(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},"./node_modules/lodash/_initCloneObject.js":function(e,t,n){var o=n("./node_modules/lodash/_baseCreate.js"),s=n("./node_modules/lodash/_getPrototype.js"),i=n("./node_modules/lodash/_isPrototype.js");e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:o(s(e))}},"./node_modules/lodash/_isKey.js":function(e,t,n){var o=n("./node_modules/lodash/isArray.js"),s=n("./node_modules/lodash/isSymbol.js"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(o(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!s(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},"./node_modules/lodash/_isStrictComparable.js":function(e,t,n){var o=n("./node_modules/lodash/isObject.js");e.exports=function(e){return e==e&&!o(e)}},"./node_modules/lodash/_mapToArray.js":function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,o){n[++t]=[o,e]})),n}},"./node_modules/lodash/_matchesStrictComparable.js":function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},"./node_modules/lodash/_memoizeCapped.js":function(e,t,n){var o=n("./node_modules/lodash/memoize.js");e.exports=function(e){var t=o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},"./node_modules/lodash/_stackClear.js":function(e,t,n){var o=n("./node_modules/lodash/_ListCache.js");e.exports=function(){this.__data__=new o,this.size=0}},"./node_modules/lodash/_stackDelete.js":function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},"./node_modules/lodash/_stackGet.js":function(e){e.exports=function(e){return this.__data__.get(e)}},"./node_modules/lodash/_stackHas.js":function(e){e.exports=function(e){return this.__data__.has(e)}},"./node_modules/lodash/_stackSet.js":function(e,t,n){var o=n("./node_modules/lodash/_ListCache.js"),s=n("./node_modules/lodash/_Map.js"),i=n("./node_modules/lodash/_MapCache.js");e.exports=function(e,t){var n=this.__data__;if(n instanceof o){var a=n.__data__;if(!s||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},"./node_modules/lodash/_stringSize.js":function(e,t,n){var o=n("./node_modules/lodash/_asciiSize.js"),s=n("./node_modules/lodash/_hasUnicode.js"),i=n("./node_modules/lodash/_unicodeSize.js");e.exports=function(e){return s(e)?i(e):o(e)}},"./node_modules/lodash/_stringToPath.js":function(e,t,n){var o=n("./node_modules/lodash/_memoizeCapped.js"),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=o((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,(function(e,n,o,s){t.push(o?s.replace(i,"$1"):n||e)})),t}));e.exports=a},"./node_modules/lodash/_toKey.js":function(e,t,n){var o=n("./node_modules/lodash/isSymbol.js");e.exports=function(e){if("string"==typeof e||o(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"./node_modules/lodash/_trimmedEndIndex.js":function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},"./node_modules/lodash/_unicodeSize.js":function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",s="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",r="(?:"+n+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?",c=l+r+("(?:\\u200d(?:"+[s,i,a].join("|")+")"+l+r+")*"),d="(?:"+[s+n+"?",n,i,a,t].join("|")+")",u=RegExp(o+"(?="+o+")|"+d+c,"g");e.exports=function(e){for(var t=u.lastIndex=0;u.test(e);)++t;return t}},"./node_modules/lodash/assign.js":function(e,t,n){var o=n("./node_modules/lodash/_assignValue.js"),s=n("./node_modules/lodash/_copyObject.js"),i=n("./node_modules/lodash/_createAssigner.js"),a=n("./node_modules/lodash/isArrayLike.js"),r=n("./node_modules/lodash/_isPrototype.js"),l=n("./node_modules/lodash/keys.js"),c=Object.prototype.hasOwnProperty,d=i((function(e,t){if(r(t)||a(t))s(t,l(t),e);else for(var n in t)c.call(t,n)&&o(e,n,t[n])}));e.exports=d},"./node_modules/lodash/clone.js":function(e,t,n){var o=n("./node_modules/lodash/_baseClone.js");e.exports=function(e){return o(e,4)}},"./node_modules/lodash/concat.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayPush.js"),s=n("./node_modules/lodash/_baseFlatten.js"),i=n("./node_modules/lodash/_copyArray.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return o(a(n)?i(n):[n],s(t,1))}},"./node_modules/lodash/filter.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayFilter.js"),s=n("./node_modules/lodash/_baseFilter.js"),i=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(a(e)?o:s)(e,i(t,3))}},"./node_modules/lodash/findIndex.js":function(e,t,n){var o=n("./node_modules/lodash/_baseFindIndex.js"),s=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/toInteger.js"),a=Math.max;e.exports=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var l=null==n?0:i(n);return l<0&&(l=a(r+l,0)),o(e,s(t,3),l)}},"./node_modules/lodash/forEach.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayEach.js"),s=n("./node_modules/lodash/_baseEach.js"),i=n("./node_modules/lodash/_castFunction.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(a(e)?o:s)(e,i(t))}},"./node_modules/lodash/forOwn.js":function(e,t,n){var o=n("./node_modules/lodash/_baseForOwn.js"),s=n("./node_modules/lodash/_castFunction.js");e.exports=function(e,t){return e&&o(e,s(t))}},"./node_modules/lodash/get.js":function(e,t,n){var o=n("./node_modules/lodash/_baseGet.js");e.exports=function(e,t,n){var s=null==e?void 0:o(e,t);return void 0===s?n:s}},"./node_modules/lodash/hasIn.js":function(e,t,n){var o=n("./node_modules/lodash/_baseHasIn.js"),s=n("./node_modules/lodash/_hasPath.js");e.exports=function(e,t){return null!=e&&s(e,t,o)}},"./node_modules/lodash/isBoolean.js":function(e,t,n){var o=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return!0===e||!1===e||s(e)&&"[object Boolean]"==o(e)}},"./node_modules/lodash/isEmpty.js":function(e,t,n){var o=n("./node_modules/lodash/_baseKeys.js"),s=n("./node_modules/lodash/_getTag.js"),i=n("./node_modules/lodash/isArguments.js"),a=n("./node_modules/lodash/isArray.js"),r=n("./node_modules/lodash/isArrayLike.js"),l=n("./node_modules/lodash/isBuffer.js"),c=n("./node_modules/lodash/_isPrototype.js"),d=n("./node_modules/lodash/isTypedArray.js"),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(r(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||i(e)))return!e.length;var t=s(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!o(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},"./node_modules/lodash/isEqual.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsEqual.js");e.exports=function(e,t){return o(e,t)}},"./node_modules/lodash/isMap.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsMap.js"),s=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_nodeUtil.js"),a=i&&i.isMap,r=a?s(a):o;e.exports=r},"./node_modules/lodash/isNumber.js":function(e,t,n){var o=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return"number"==typeof e||s(e)&&"[object Number]"==o(e)}},"./node_modules/lodash/isSet.js":function(e,t,n){var o=n("./node_modules/lodash/_baseIsSet.js"),s=n("./node_modules/lodash/_baseUnary.js"),i=n("./node_modules/lodash/_nodeUtil.js"),a=i&&i.isSet,r=a?s(a):o;e.exports=r},"./node_modules/lodash/isString.js":function(e,t,n){var o=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isArray.js"),i=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return"string"==typeof e||!s(e)&&i(e)&&"[object String]"==o(e)}},"./node_modules/lodash/isSymbol.js":function(e,t,n){var o=n("./node_modules/lodash/_baseGetTag.js"),s=n("./node_modules/lodash/isObjectLike.js");e.exports=function(e){return"symbol"==typeof e||s(e)&&"[object Symbol]"==o(e)}},"./node_modules/lodash/map.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayMap.js"),s=n("./node_modules/lodash/_baseIteratee.js"),i=n("./node_modules/lodash/_baseMap.js"),a=n("./node_modules/lodash/isArray.js");e.exports=function(e,t){return(a(e)?o:i)(e,s(t,3))}},"./node_modules/lodash/negate.js":function(e){e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},"./node_modules/lodash/property.js":function(e,t,n){var o=n("./node_modules/lodash/_baseProperty.js"),s=n("./node_modules/lodash/_basePropertyDeep.js"),i=n("./node_modules/lodash/_isKey.js"),a=n("./node_modules/lodash/_toKey.js");e.exports=function(e){return i(e)?o(a(e)):s(e)}},"./node_modules/lodash/reduce.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayReduce.js"),s=n("./node_modules/lodash/_baseEach.js"),i=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/_baseReduce.js"),r=n("./node_modules/lodash/isArray.js");e.exports=function(e,t,n){var l=r(e)?o:a,c=arguments.length<3;return l(e,i(t,4),n,c,s)}},"./node_modules/lodash/reject.js":function(e,t,n){var o=n("./node_modules/lodash/_arrayFilter.js"),s=n("./node_modules/lodash/_baseFilter.js"),i=n("./node_modules/lodash/_baseIteratee.js"),a=n("./node_modules/lodash/isArray.js"),r=n("./node_modules/lodash/negate.js");e.exports=function(e,t){return(a(e)?o:s)(e,r(i(t,3)))}},"./node_modules/lodash/size.js":function(e,t,n){var o=n("./node_modules/lodash/_baseKeys.js"),s=n("./node_modules/lodash/_getTag.js"),i=n("./node_modules/lodash/isArrayLike.js"),a=n("./node_modules/lodash/isString.js"),r=n("./node_modules/lodash/_stringSize.js");e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?r(e):e.length;var t=s(e);return"[object Map]"==t||"[object Set]"==t?e.size:o(e).length}},"./node_modules/lodash/stubArray.js":function(e){e.exports=function(){return[]}},"./node_modules/lodash/times.js":function(e,t,n){var o=n("./node_modules/lodash/_baseTimes.js"),s=n("./node_modules/lodash/_castFunction.js"),i=n("./node_modules/lodash/toInteger.js"),a=4294967295,r=Math.min;e.exports=function(e,t){if((e=i(e))<1||e>9007199254740991)return[];var n=a,l=r(e,a);t=s(t),e-=a;for(var c=o(l,t);++n<e;)t(n);return c}},"./node_modules/lodash/toFinite.js":function(e,t,n){var o=n("./node_modules/lodash/toNumber.js"),s=1/0;e.exports=function(e){return e?(e=o(e))===s||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},"./node_modules/lodash/toInteger.js":function(e,t,n){var o=n("./node_modules/lodash/toFinite.js");e.exports=function(e){var t=o(e),n=t%1;return t==t?n?t-n:t:0}},"./node_modules/lodash/toNumber.js":function(e,t,n){var o=n("./node_modules/lodash/_baseTrim.js"),s=n("./node_modules/lodash/isObject.js"),i=n("./node_modules/lodash/isSymbol.js"),a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=r.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},"./node_modules/lodash/toString.js":function(e,t,n){var o=n("./node_modules/lodash/_baseToString.js");e.exports=function(e){return null==e?"":o(e)}},"./node_modules/platform/platform.js":function(e,t,n){var o;e=n.nmd(e),function(){"use strict";var s={function:!0,object:!0},i=s[typeof window]&&window||this,a=s[typeof t]&&t,r=s.object&&e&&!e.nodeType&&e,l=a&&r&&"object"==typeof n.g&&n.g;!l||l.global!==l&&l.window!==l&&l.self!==l||(i=l);var c=Math.pow(2,53)-1,d=/\bOpera/,u=Object.prototype,p=u.hasOwnProperty,m=u.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function g(e){return e=I(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function f(e,t){for(var n in e)p.call(e,n)&&t(e[n],n,e)}function b(e){return null==e?h(e):m.call(e).slice(8,-1)}function y(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function v(e,t){var n=null;return function(e,t){var n=-1,o=e?e.length:0;if("number"==typeof o&&o>-1&&o<=c)for(;++n<o;)t(e[n],n,e);else f(e,t)}(e,(function(o,s){n=t(n,o,s,e)})),n}function I(e){return String(e).replace(/^ +| +$/g,"")}var E=function e(t){var n=i,o=t&&"object"==typeof t&&"String"!=b(t);o&&(n=t,t=null);var s=n.navigator||{},a=s.userAgent||"";t||(t=a);var r,l,c,u,p,h=o?!!s.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(m.toString()),E="Object",_=o?E:"ScriptBridgingProxyObject",S=o?E:"Environment",C=o&&n.java?"JavaPackage":b(n.java),T=o?E:"RuntimeObject",j=/\bJava/.test(C)&&n.java,A=j&&b(n.environment)==S,w=j?"a":"",O=j?"b":"",N=n.document||{},D=n.operamini||n.opera,R=d.test(R=o&&D?D["[[Class]]"]:b(D))?R:D=null,P=t,M=[],L=null,x=t==a,k=x&&D&&"function"==typeof D.version&&D.version(),F=v([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)})),V=function(e){return v(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),B=H([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),U=function(e){return v(e,(function(e,n,o){return e||(n[B]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+y(o)+"(?:\\b|\\w*\\d)","i").exec(t))&&o}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),z=function(e){return v(e,(function(e,n){var o=n.pattern||y(n);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(o=o[/[\d.]+$/.exec(e)])&&(e="Windows "+o),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),g(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,o,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function H(e){return v(e,(function(e,n){var o=n.pattern||y(n);return!e&&(e=RegExp("\\b"+o+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+o+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+o+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(o,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=g(e[0].replace(RegExp(o,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function G(e){return v(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(F&&(F=[F]),/\bAndroid\b/.test(z)&&!B&&(r=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(B=I(r[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),U&&!B?B=H([U]):U&&B&&(B=B.replace(RegExp("^("+y(U)+")[-_.\\s]","i"),U+" ").replace(RegExp("^("+y(U)+")[-_.]?(\\w)","i"),U+" $2")),(r=/\bGoogle TV\b/.exec(B))&&(B=r[0]),/\bSimulator\b/i.test(t)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==V&&/\bOPiOS\b/.test(t)&&M.push("running in Turbo/Uncompressed mode"),"IE"==V&&/\blike iPhone OS\b/.test(t)?(U=(r=e(t.replace(/like iPhone OS/,""))).manufacturer,B=r.product):/^iP/.test(B)?(V||(V="Safari"),z="iOS"+((r=/ OS ([\d_]+)/i.exec(t))?" "+r[1].replace(/_/g,"."):"")):"Konqueror"==V&&/^Linux\b/i.test(z)?z="Kubuntu":U&&"Google"!=U&&(/Chrome/.test(V)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(B))||/\bAndroid\b/.test(z)&&/^Chrome/.test(V)&&/\bVersion\//i.test(t)?(V="Android Browser",z=/\bAndroid\b/.test(z)?z:"Android"):"Silk"==V?(/\bMobi/i.test(t)||(z="Android",M.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&M.unshift("accelerated")):"UC Browser"==V&&/\bUCWEB\b/.test(t)?M.push("speed mode"):"PaleMoon"==V&&(r=/\bFirefox\/([\d.]+)\b/.exec(t))?M.push("identifying as Firefox "+r[1]):"Firefox"==V&&(r=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(z||(z="Firefox OS"),B||(B=r[1])):!V||(r=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(V))?(V&&!B&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(r+"/")+8))&&(V=null),(r=B||U||z)&&(B||U||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(z))&&(V=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(z)?z:r)+" Browser")):"Electron"==V&&(r=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&M.push("Chromium "+r),k||(k=G(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",y(V),"(?:Firefox|Minefield|NetFront)"])),(r=("iCab"==F&&parseFloat(k)>3?"WebKit":/\bOpera\b/.test(V)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(F)&&"WebKit"||!F&&/\bMSIE\b/i.test(t)&&("Mac OS"==z?"Tasman":"Trident")||"WebKit"==F&&/\bPlayStation\b(?! Vita\b)/i.test(V)&&"NetFront")&&(F=[r]),"IE"==V&&(r=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(V+=" Mobile",z="Windows Phone "+(/\+$/.test(r)?r:r+".x"),M.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(V="IE Mobile",z="Windows Phone 8.x",M.unshift("desktop mode"),k||(k=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=V&&"Trident"==F&&(r=/\brv:([\d.]+)/.exec(t))&&(V&&M.push("identifying as "+V+(k?" "+k:"")),V="IE",k=r[1]),x){if(u="global",p=null!=(c=n)?typeof c[u]:"number",/^(?:boolean|number|string|undefined)$/.test(p)||"object"==p&&!c[u])b(r=n.runtime)==_?(V="Adobe AIR",z=r.flash.system.Capabilities.os):b(r=n.phantom)==T?(V="PhantomJS",k=(r=r.version||null)&&r.major+"."+r.minor+"."+r.patch):"number"==typeof N.documentMode&&(r=/\bTrident\/(\d+)/i.exec(t))?(k=[k,N.documentMode],(r=+r[1]+4)!=k[1]&&(M.push("IE "+k[1]+" mode"),F&&(F[1]=""),k[1]=r),k="IE"==V?String(k[1].toFixed(1)):k[0]):"number"==typeof N.documentMode&&/^(?:Chrome|Firefox)\b/.test(V)&&(M.push("masking as "+V+" "+k),V="IE",k="11.0",F=["Trident"],z="Windows");else if(j&&(P=(r=j.lang.System).getProperty("os.arch"),z=z||r.getProperty("os.name")+" "+r.getProperty("os.version")),A){try{k=n.require("ringo/engine").version.join("."),V="RingoJS"}catch(e){(r=n.system)&&r.global.system==n.system&&(V="Narwhal",z||(z=r[0].os||null))}V||(V="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(r=n.process)&&("object"==typeof r.versions&&("string"==typeof r.versions.electron?(M.push("Node "+r.versions.node),V="Electron",k=r.versions.electron):"string"==typeof r.versions.nw&&(M.push("Chromium "+k,"Node "+r.versions.node),V="NW.js",k=r.versions.nw)),V||(V="Node.js",P=r.arch,z=r.platform,k=(k=/[\d.]+/.exec(r.version))?k[0]:null));z=z&&g(z)}if(k&&(r=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(k)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(x&&s.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(L=/b/i.test(r)?"beta":"alpha",k=k.replace(RegExp(r+"\\+?$"),"")+("beta"==L?O:w)+(/\d+\+?/.exec(r)||"")),"Fennec"==V||"Firefox"==V&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(z))V="Firefox Mobile";else if("Maxthon"==V&&k)k=k.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(z=null),"Xbox 360"==B&&/\bIEMobile\b/.test(t)&&M.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(V)&&(!V||B||/Browser|Mobi/.test(V))||"Windows CE"!=z&&!/Mobi/i.test(t))if("IE"==V&&x)try{null===n.external&&M.unshift("platform preview")}catch(e){M.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(t))&&(r=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||k)?(z=((r=[r,/BB10/.test(t)])[1]?(B=null,U="BlackBerry"):"Device Software")+" "+r[0],k=null):this!=f&&"Wii"!=B&&(x&&D||/Opera/.test(V)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==V&&/\bOS X (?:\d+\.){2,}/.test(z)||"IE"==V&&(z&&!/^Win/.test(z)&&k>5.5||/\bWindows XP\b/.test(z)&&k>8||8==k&&!/\bTrident\b/.test(t)))&&!d.test(r=e.call(f,t.replace(d,"")+";"))&&r.name&&(r="ing as "+r.name+((r=r.version)?" "+r:""),d.test(V)?(/\bIE\b/.test(r)&&"Mac OS"==z&&(z=null),r="identify"+r):(r="mask"+r,V=R?g(R.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(r)&&(z=null),x||(k=null)),F=["Presto"],M.push(r));else V+=" Mobile";(r=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(r=[parseFloat(r.replace(/\.(\d)$/,".0$1")),r],"Safari"==V&&"+"==r[1].slice(-1)?(V="WebKit Nightly",L="alpha",k=r[1].slice(0,-1)):k!=r[1]&&k!=(r[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(k=null),r[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==r[0]&&537.36==r[2]&&parseFloat(r[1])>=28&&"WebKit"==F&&(F=["Blink"]),x&&(h||r[1])?(F&&(F[1]="like Chrome"),r=r[1]||((r=r[0])<530?1:r<532?2:r<532.05?3:r<533?4:r<534.03?5:r<534.07?6:r<534.1?7:r<534.13?8:r<534.16?9:r<534.24?10:r<534.3?11:r<535.01?12:r<535.02?"13+":r<535.07?15:r<535.11?16:r<535.19?17:r<536.05?18:r<536.1?19:r<537.01?20:r<537.11?"21+":r<537.13?23:r<537.18?24:r<537.24?25:r<537.36?26:"Blink"!=F?"27":"28")):(F&&(F[1]="like Safari"),r=(r=r[0])<400?1:r<500?2:r<526?3:r<533?4:r<534?"4+":r<535?5:r<537?6:r<538?7:r<601?8:r<602?9:r<604?10:r<606?11:r<608?12:"12"),F&&(F[1]+=" "+(r+="number"==typeof r?".x":/[.+]/.test(r)?"":"+")),"Safari"==V&&(!k||parseInt(k)>45)?k=r:"Chrome"==V&&/\bHeadlessChrome/i.test(t)&&M.unshift("headless")),"Opera"==V&&(r=/\bzbov|zvav$/.exec(z))?(V+=" ",M.unshift("desktop mode"),"zvav"==r?(V+="Mini",k=null):V+="Mobile",z=z.replace(RegExp(" *"+r+"$"),"")):"Safari"==V&&/\bChrome\b/.exec(F&&F[1])?(M.unshift("desktop mode"),V="Chrome Mobile",k=null,/\bOS X\b/.test(z)?(U="Apple",z="iOS 4.3+"):z=null):/\bSRWare Iron\b/.test(V)&&!k&&(k=G("Chrome")),k&&0==k.indexOf(r=/[\d.]+$/.exec(z))&&t.indexOf("/"+r+"-")>-1&&(z=I(z.replace(r,""))),z&&-1!=z.indexOf(V)&&!RegExp(V+" OS").test(z)&&(z=z.replace(RegExp(" *"+y(V)+" *"),"")),F&&!/\b(?:Avant|Nook)\b/.test(V)&&(/Browser|Lunascape|Maxthon/.test(V)||"Safari"!=V&&/^iOS/.test(z)&&/\bSafari\b/.test(F[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(V)&&F[1])&&(r=F[F.length-1])&&M.push(r),M.length&&(M=["("+M.join("; ")+")"]),U&&B&&B.indexOf(U)<0&&M.push("on "+U),B&&M.push((/^on /.test(M[M.length-1])?"":"on ")+B),z&&(r=/ ([\d.+]+)$/.exec(z),l=r&&"/"==z.charAt(z.length-r[0].length-1),z={architecture:32,family:r&&!l?z.replace(r[0],""):z,version:r?r[1]:null,toString:function(){var e=this.version;return this.family+(e&&!l?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(r=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(P))&&!/\bi686\b/i.test(P)?(z&&(z.architecture=64,z.family=z.family.replace(RegExp(" *"+r),"")),V&&(/\bWOW64\b/i.test(t)||x&&/\w(?:86|32)$/.test(s.cpuClass||s.platform)&&!/\bWin64; x64\b/i.test(t))&&M.unshift("32-bit")):z&&/^OS X/.test(z.family)&&"Chrome"==V&&parseFloat(k)>=39&&(z.architecture=64),t||(t=null);var W={};return W.description=t,W.layout=F&&F[0],W.manufacturer=U,W.name=V,W.prerelease=L,W.product=B,W.ua=t,W.version=V&&k,W.os=z||{architecture:null,family:null,version:null,toString:function(){return"null"}},W.parse=e,W.toString=function(){return this.description||""},W.version&&M.unshift(k),W.name&&M.unshift(V),z&&V&&(z!=String(z).split(" ")[0]||z!=V.split(" ")[0]&&!B)&&M.push(B?"("+z+")":"on "+z),M.length&&(W.description=M.join(" ")),W}();i.platform=E,void 0===(o=function(){return E}.call(t,n,t,e))||(e.exports=o)}.call(this)},"./node_modules/react-radio-group/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e,t,n){for(var o=!0;o;){var s=e,i=t,a=n;o=!1,null===s&&(s=Function.prototype);var r=Object.getOwnPropertyDescriptor(s,i);if(void 0!==r){if("value"in r)return r.value;var l=r.get;if(void 0===l)return;return l.call(a)}var c=Object.getPrototypeOf(s);if(null===c)return;e=c,t=i,n=a,o=!0,r=c=void 0}};function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=a(n("./node_modules/prop-types/index.js")),d=a(n("../../node_modules/react/index.js")),u=function(e){function t(){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return l(t,e),s(t,[{key:"render",value:function(){var e=this.context.radioGroup,t=e.name,n=e.selectedValue,s=e.onChange,i={};return void 0!==n&&(i.checked=this.props.value===n),"function"==typeof s&&(i.onChange=s.bind(null,this.props.value)),d.default.createElement("input",o({},this.props,{type:"radio",name:t},i))}}]),t}(d.default.Component);t.Radio=u,u.contextTypes={radioGroup:c.default.object};var p=function(e){function t(){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return l(t,e),s(t,[{key:"getChildContext",value:function(){var e=this.props;return{radioGroup:{name:e.name,selectedValue:e.selectedValue,onChange:e.onChange}}}},{key:"render",value:function(){var e=this.props,t=e.Component,n=(e.name,e.selectedValue,e.onChange,e.children),o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["Component","name","selectedValue","onChange","children"]);return d.default.createElement(t,o,n)}}]),t}(d.default.Component);t.RadioGroup=p,p.defaultProps={Component:"div"},p.propTypes={name:c.default.string,selectedValue:c.default.oneOfType([c.default.string,c.default.number,c.default.bool]),onChange:c.default.func,children:c.default.node.isRequired,Component:c.default.oneOfType([c.default.string,c.default.func,c.default.object])},p.childContextTypes={radioGroup:c.default.object}},"./node_modules/react-select/dist/Select-dbb12e54.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{S:function(){return se},a:function(){return U},b:function(){return $},c:function(){return A},d:function(){return W},g:function(){return z},m:function(){return G}});var o=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),s=n("./node_modules/react-select/dist/index-4bd03571.esm.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),r=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),c=n("../../node_modules/react/index.js"),d=n("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),u=n("./node_modules/react-select/node_modules/memoize-one/dist/memoize-one.esm.js"),p=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js");for(var m={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},h=function(e){return(0,d.jsx)("span",(0,o.default)({css:m},e))},g={guidance:function(e){var t=e.isSearchable,n=e.isMulti,o=e.isDisabled,s=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,o=void 0===n?"":n,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"select-option":return"option ".concat(o,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,o=void 0===n?{}:n,s=e.options,i=e.label,a=void 0===i?"":i,r=e.selectValue,l=e.isDisabled,c=e.isSelected,d=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(a," focused, ").concat(d(r,o),".");if("menu"===t){var u=l?" disabled":"",p="".concat(c?"selected":"focused").concat(u);return"option ".concat(a," ").concat(p,", ").concat(d(s,o),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},f=function(e){var t=e.ariaSelection,n=e.focusedOption,o=e.focusedValue,i=e.focusableOptions,a=e.isFocused,r=e.selectValue,l=e.selectProps,u=l.ariaLiveMessages,p=l.getOptionLabel,m=l.inputValue,f=l.isMulti,b=l.isOptionDisabled,y=l.isSearchable,v=l.menuIsOpen,I=l.options,E=l.screenReaderStatus,_=l.tabSelectsValue,S=l["aria-label"],C=l["aria-live"],T=(0,c.useMemo)((function(){return(0,s.a)((0,s.a)({},g),u||{})}),[u]),j=(0,c.useMemo)((function(){var e,n="";if(t&&T.onChange){var o=t.option,i=t.removedValue,a=t.value,r=i||o||(e=a,Array.isArray(e)?null:e),l=(0,s.a)({isDisabled:r&&b(r),label:r?p(r):""},t);n=T.onChange(l)}return n}),[t,b,p,T]),A=(0,c.useMemo)((function(){var e="",t=n||o,s=!!(n&&r&&r.includes(n));if(t&&T.onFocus){var i={focused:t,label:p(t),isDisabled:b(t),isSelected:s,options:I,context:t===n?"menu":"value",selectValue:r};e=T.onFocus(i)}return e}),[n,o,p,b,T,I,r]),w=(0,c.useMemo)((function(){var e="";if(v&&I.length&&T.onFilter){var t=E({count:i.length});e=T.onFilter({inputValue:m,resultsMessage:t})}return e}),[i,m,v,T,I,E]),O=(0,c.useMemo)((function(){var e="";if(T.guidance){var t=o?"value":v?"menu":"input";e=T.guidance({"aria-label":S,context:t,isDisabled:n&&b(n),isMulti:f,isSearchable:y,tabSelectsValue:_})}return e}),[S,n,o,f,b,y,v,T,_]),N="".concat(A," ").concat(w," ").concat(O);return(0,d.jsx)(h,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text"},a&&(0,d.jsx)(c.Fragment,null,(0,d.jsx)("span",{id:"aria-selection"},j),(0,d.jsx)("span",{id:"aria-context"},N)))},b=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],y=new RegExp("["+b.map((function(e){return e.letters})).join("")+"]","g"),v={},I=0;I<b.length;I++)for(var E=b[I],_=0;_<E.letters.length;_++)v[E.letters[_]]=E.base;var S=function(e){return e.replace(y,(function(e){return v[e]}))},C=(0,u.default)(S),T=function(e){return e.replace(/^\s+|\s+$/g,"")},j=function(e){return"".concat(e.label," ").concat(e.value)},A=function(e){return function(t,n){var o=(0,s.a)({ignoreCase:!0,ignoreAccents:!0,stringify:j,trim:!0,matchFrom:"any"},e),i=o.ignoreCase,a=o.ignoreAccents,r=o.stringify,l=o.trim,c=o.matchFrom,d=l?T(n):n,u=l?T(r(t)):r(t);return i&&(d=d.toLowerCase(),u=u.toLowerCase()),a&&(d=C(d),u=S(u)),"start"===c?u.substr(0,d.length)===d:u.indexOf(d)>-1}};function w(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=(0,p.default)(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return(0,d.jsx)("input",(0,o.default)({ref:t},n,{css:(0,d.css)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var O=["boxSizing","height","overflow","paddingRight","position"],N={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function D(e){e.preventDefault()}function R(e){e.stopPropagation()}function P(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function M(){return"ontouchstart"in window||navigator.maxTouchPoints}var L=!("undefined"==typeof window||!window.document||!window.document.createElement),x=0,k={capture:!1,passive:!1};var F=function(){return document.activeElement&&document.activeElement.blur()},V={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function B(e){var t=e.children,n=e.lockEnabled,o=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,o=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,r=(0,c.useRef)(!1),l=(0,c.useRef)(!1),d=(0,c.useRef)(0),u=(0,c.useRef)(null),p=(0,c.useCallback)((function(e,t){if(null!==u.current){var s=u.current,c=s.scrollTop,d=s.scrollHeight,p=s.clientHeight,m=u.current,h=t>0,g=d-p-c,f=!1;g>t&&r.current&&(o&&o(e),r.current=!1),h&&l.current&&(a&&a(e),l.current=!1),h&&t>g?(n&&!r.current&&n(e),m.scrollTop=d,f=!0,r.current=!0):!h&&-t>c&&(i&&!l.current&&i(e),m.scrollTop=0,f=!0,l.current=!0),f&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[]),m=(0,c.useCallback)((function(e){p(e,e.deltaY)}),[p]),h=(0,c.useCallback)((function(e){d.current=e.changedTouches[0].clientY}),[]),g=(0,c.useCallback)((function(e){var t=d.current-e.changedTouches[0].clientY;p(e,t)}),[p]),f=(0,c.useCallback)((function(e){if(e){var t=!!s.s&&{passive:!1};"function"==typeof e.addEventListener&&e.addEventListener("wheel",m,t),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",h,t),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",g,t)}}),[g,h,m]),b=(0,c.useCallback)((function(e){e&&("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",m,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",h,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",g,!1))}),[g,h,m]);return(0,c.useEffect)((function(){if(t){var e=u.current;return f(e),function(){b(e)}}}),[t,f,b]),function(e){u.current=e}}({isEnabled:void 0===o||o,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,n=e.accountForScrollbars,o=void 0===n||n,s=(0,c.useRef)({}),i=(0,c.useRef)(null),a=(0,c.useCallback)((function(e){if(L){var t=document.body,n=t&&t.style;if(o&&O.forEach((function(e){var t=n&&n[e];s.current[e]=t})),o&&x<1){var i=parseInt(s.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,r=window.innerWidth-a+i||0;Object.keys(N).forEach((function(e){var t=N[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(r,"px"))}t&&M()&&(t.addEventListener("touchmove",D,k),e&&(e.addEventListener("touchstart",P,k),e.addEventListener("touchmove",R,k))),x+=1}}),[]),r=(0,c.useCallback)((function(e){if(L){var t=document.body,n=t&&t.style;x=Math.max(x-1,0),o&&x<1&&O.forEach((function(e){var t=s.current[e];n&&(n[e]=t)})),t&&M()&&(t.removeEventListener("touchmove",D,k),e&&(e.removeEventListener("touchstart",P,k),e.removeEventListener("touchmove",R,k)))}}),[]);return(0,c.useEffect)((function(){if(t){var e=i.current;return a(e),function(){r(e)}}}),[t,a,r]),function(e){i.current=e}}({isEnabled:n});return(0,d.jsx)(c.Fragment,null,n&&(0,d.jsx)("div",{onClick:F,css:V}),t((function(e){i(e),a(e)})))}var U=function(e){return e.label},z=function(e){return e.value},H={clearIndicator:s.b,container:s.d,control:s.e,dropdownIndicator:s.f,group:s.g,groupHeading:s.h,indicatorsContainer:s.i,indicatorSeparator:s.j,input:s.k,loadingIndicator:s.l,loadingMessage:s.m,menu:s.n,menuList:s.o,menuPortal:s.p,multiValue:s.q,multiValueLabel:s.r,multiValueRemove:s.t,noOptionsMessage:s.u,option:s.v,placeholder:s.w,singleValue:s.x,valueContainer:s.y};function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,s.a)({},e);return Object.keys(t).forEach((function(o){e[o]?n[o]=function(n,s){return t[o](e[o](n,s),s)}:n[o]=t[o]})),n}var W={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:(0,s.z)(),captureMenuScroll:!(0,s.z)(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:A(),formatGroupLabel:function(e){return e.label},getOptionLabel:U,getOptionValue:z,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!(0,s.A)(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function q(e,t,n,o){return{type:"option",data:t,isDisabled:Q(e,t,n),isSelected:ee(e,t,n),label:Z(e,t),value:X(e,t),index:o}}function Y(e,t){return e.options.map((function(n,o){if(n.options){var s=n.options.map((function(n,o){return q(e,n,t,o)})).filter((function(t){return J(e,t)}));return s.length>0?{type:"group",data:n,options:s,index:o}:void 0}var i=q(e,n,t,o);return J(e,i)?i:void 0})).filter((function(e){return!!e}))}function K(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,(0,l.default)(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function J(e,t){var n=e.inputValue,o=void 0===n?"":n,s=t.data,i=t.isSelected,a=t.label,r=t.value;return(!ne(e)||!i)&&te(e,{label:a,value:r,data:s},o)}var Z=function(e,t){return e.getOptionLabel(t)},X=function(e,t){return e.getOptionValue(t)};function Q(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function ee(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var o=X(e,t);return n.some((function(t){return X(e,t)===o}))}function te(e,t,n){return!e.filterOption||e.filterOption(t,n)}var ne=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},oe=1,se=function(e){(0,r.default)(n,e);var t=(0,s._)(n);function n(e){var o;return(0,i.default)(this,n),(o=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.instancePrefix="",o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.controlRef=null,o.getControlRef=function(e){o.controlRef=e},o.focusedOptionRef=null,o.getFocusedOptionRef=function(e){o.focusedOptionRef=e},o.menuListRef=null,o.getMenuListRef=function(e){o.menuListRef=e},o.inputRef=null,o.getInputRef=function(e){o.inputRef=e},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(e,t){var n=o.props,s=n.onChange,i=n.name;t.name=i,o.ariaOnChange(e,t),s(e,t)},o.setValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",n=arguments.length>2?arguments[2]:void 0,s=o.props,i=s.closeMenuOnSelect,a=s.isMulti;o.onInputChange("",{action:"set-value"}),i&&(o.setState({inputIsHiddenAfterUpdate:!a}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(e,{action:t,option:n})},o.selectOption=function(e){var t=o.props,n=t.blurInputOnSelect,s=t.isMulti,i=t.name,a=o.state.selectValue,r=s&&o.isOptionSelected(e,a),c=o.isOptionDisabled(e,a);if(r){var d=o.getOptionValue(e);o.setValue(a.filter((function(e){return o.getOptionValue(e)!==d})),"deselect-option",e)}else{if(c)return void o.ariaOnChange(e,{action:"select-option",name:i});s?o.setValue([].concat((0,l.default)(a),[e]),"select-option",e):o.setValue(e,"select-option")}n&&o.blurInput()},o.removeValue=function(e){var t=o.props.isMulti,n=o.state.selectValue,s=o.getOptionValue(e),i=n.filter((function(e){return o.getOptionValue(e)!==s})),a=t?i:i[0]||null;o.onChange(a,{action:"remove-value",removedValue:e}),o.focusInput()},o.clearValue=function(){var e=o.state.selectValue;o.onChange(o.props.isMulti?[]:null,{action:"clear",removedValues:e})},o.popValue=function(){var e=o.props.isMulti,t=o.state.selectValue,n=t[t.length-1],s=t.slice(0,t.length-1),i=e?s:s[0]||null;o.onChange(i,{action:"pop-value",removedValue:n})},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.B.apply(void 0,[o.props.classNamePrefix].concat(t))},o.getOptionLabel=function(e){return Z(o.props,e)},o.getOptionValue=function(e){return X(o.props,e)},o.getStyles=function(e,t){var n=H[e](t);n.boxSizing="border-box";var s=o.props.styles[e];return s?s(n,t):n},o.getElementId=function(e){return"".concat(o.instancePrefix,"-").concat(e)},o.getComponents=function(){return(0,s.C)(o.props)},o.buildCategorizedOptions=function(){return Y(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return K(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(e,t){o.setState({ariaSelection:(0,s.a)({value:e},t)})},o.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(e){o.blockOptionHover=!1},o.onControlMouseDown=function(e){var t=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&o.onMenuClose():t&&o.openMenu("first"):(t&&(o.openAfterFocus=!0),o.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()},o.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||o.props.isDisabled)){var t=o.props,n=t.isMulti,s=t.menuIsOpen;o.focusInput(),s?(o.setState({inputIsHiddenAfterUpdate:!n}),o.onMenuClose()):o.openMenu("first"),e.preventDefault(),e.stopPropagation()}},o.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(o.clearValue(),e.stopPropagation(),o.openAfterFocus=!1,"touchend"===e.type?o.focusInput():setTimeout((function(){return o.focusInput()})))},o.onScroll=function(e){"boolean"==typeof o.props.closeMenuOnScroll?e.target instanceof HTMLElement&&(0,s.D)(e.target)&&o.props.onMenuClose():"function"==typeof o.props.closeMenuOnScroll&&o.props.closeMenuOnScroll(e)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(o.initialTouchX=n.clientX,o.initialTouchY=n.clientY,o.userIsDragging=!1)},o.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var s=Math.abs(n.clientX-o.initialTouchX),i=Math.abs(n.clientY-o.initialTouchY);o.userIsDragging=s>5||i>5}},o.onTouchEnd=function(e){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(e.target)&&o.menuListRef&&!o.menuListRef.contains(e.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(e){o.userIsDragging||o.onControlMouseDown(e)},o.onClearIndicatorTouchEnd=function(e){o.userIsDragging||o.onClearIndicatorMouseDown(e)},o.onDropdownIndicatorTouchEnd=function(e){o.userIsDragging||o.onDropdownIndicatorMouseDown(e)},o.handleInputChange=function(e){var t=e.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(t,{action:"input-change"}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(e){o.props.onFocus&&o.props.onFocus(e),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(e){o.menuListRef&&o.menuListRef.contains(document.activeElement)?o.inputRef.focus():(o.props.onBlur&&o.props.onBlur(e),o.onInputChange("",{action:"input-blur"}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1}))},o.onOptionHover=function(e){o.blockOptionHover||o.state.focusedOption===e||o.setState({focusedOption:e})},o.shouldHideSelectedOptions=function(){return ne(o.props)},o.onKeyDown=function(e){var t=o.props,n=t.isMulti,s=t.backspaceRemovesValue,i=t.escapeClearsValue,a=t.inputValue,r=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,d=t.onKeyDown,u=t.tabSelectsValue,p=t.openMenuOnFocus,m=o.state,h=m.focusedOption,g=m.focusedValue,f=m.selectValue;if(!(l||"function"==typeof d&&(d(e),e.defaultPrevented))){switch(o.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;o.focusValue("previous");break;case"ArrowRight":if(!n||a)return;o.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(g)o.removeValue(g);else{if(!s)return;n?o.popValue():r&&o.clearValue()}break;case"Tab":if(o.isComposing)return;if(e.shiftKey||!c||!u||!h||p&&o.isOptionSelected(h,f))return;o.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(o.isComposing)return;o.selectOption(h);break}return;case"Escape":c?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close"}),o.onMenuClose()):r&&i&&o.clearValue();break;case" ":if(a)return;if(!c){o.openMenu("first");break}if(!h)return;o.selectOption(h);break;case"ArrowUp":c?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":c?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!c)return;o.focusOption("pageup");break;case"PageDown":if(!c)return;o.focusOption("pagedown");break;case"Home":if(!c)return;o.focusOption("first");break;case"End":if(!c)return;o.focusOption("last");break;default:return}e.preventDefault()}},o.instancePrefix="react-select-"+(o.props.instanceId||++oe),o.state.selectValue=(0,s.E)(e.value),o}return(0,a.default)(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,o=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&o&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&((0,s.F)(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,o=n.selectValue,s=n.isFocused,i=this.buildFocusableOptions(),a="first"===e?0:i.length-1;if(!this.props.isMulti){var r=i.indexOf(o[0]);r>-1&&(a=r)}this.scrollToFocusedOptionOnUpdate=!(s&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:i[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,o=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var s=n.indexOf(o);o||(s=-1);var i=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===s?0:-1===s?i:s-1;break;case"next":s>-1&&s<i&&(a=s+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var s=0,i=o.indexOf(n);n||(i=-1),"up"===e?s=i>0?i-1:o.length-1:"down"===e?s=(i+1)%o.length:"pageup"===e?(s=i-t)<0&&(s=0):"pagedown"===e?(s=i+t)>o.length-1&&(s=o.length-1):"last"===e&&(s=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[s],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(W):(0,s.a)((0,s.a)({},W),this.props.theme):W}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,o=this.getValue,s=this.selectOption,i=this.setValue,a=this.props,r=a.isMulti,l=a.isRtl,c=a.options;return{clearValue:e,cx:t,getStyles:n,getValue:o,hasValue:this.hasValue(),isMulti:r,isRtl:l,options:c,selectOption:s,selectProps:a,setValue:i,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Q(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return ee(this.props,e,t)}},{key:"filterOption",value:function(e,t){return te(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:o})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,a=e.inputValue,r=e.tabIndex,l=e.form,d=this.getComponents().Input,u=this.state.inputIsHidden,p=this.commonProps,m=i||this.getElementId("input"),h={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return n?c.createElement(d,(0,o.default)({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:l,type:"text",value:a},h)):c.createElement(w,(0,o.default)({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:s.G,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:r,form:l,value:""},h))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,s=t.MultiValueContainer,i=t.MultiValueLabel,a=t.MultiValueRemove,r=t.SingleValue,l=t.Placeholder,d=this.commonProps,u=this.props,p=u.controlShouldRenderValue,m=u.isDisabled,h=u.isMulti,g=u.inputValue,f=u.placeholder,b=this.state,y=b.selectValue,v=b.focusedValue,I=b.isFocused;if(!this.hasValue()||!p)return g?null:c.createElement(l,(0,o.default)({},d,{key:"placeholder",isDisabled:m,isFocused:I}),f);if(h)return y.map((function(t,r){var l=t===v;return c.createElement(n,(0,o.default)({},d,{components:{Container:s,Label:i,Remove:a},isFocused:l,isDisabled:m,key:"".concat(e.getOptionValue(t)).concat(r),index:r,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(g)return null;var E=y[0];return c.createElement(r,(0,o.default)({},d,{data:E,isDisabled:m}),this.formatOptionLabel(E,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,s=n.isDisabled,i=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||s||!this.hasValue()||i)return null;var r={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return c.createElement(e,(0,o.default)({},t,{innerProps:r,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,s=n.isDisabled,i=n.isLoading,a=this.state.isFocused;if(!e||!i)return null;return c.createElement(e,(0,o.default)({},t,{innerProps:{"aria-hidden":"true"},isDisabled:s,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var s=this.commonProps,i=this.props.isDisabled,a=this.state.isFocused;return c.createElement(n,(0,o.default)({},s,{isDisabled:i,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,s=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return c.createElement(e,(0,o.default)({},t,{innerProps:i,isDisabled:n,isFocused:s}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,i=t.GroupHeading,a=t.Menu,r=t.MenuList,l=t.MenuPortal,d=t.LoadingMessage,u=t.NoOptionsMessage,p=t.Option,m=this.commonProps,h=this.state.focusedOption,g=this.props,f=g.captureMenuScroll,b=g.inputValue,y=g.isLoading,v=g.loadingMessage,I=g.minMenuHeight,E=g.maxMenuHeight,_=g.menuIsOpen,S=g.menuPlacement,C=g.menuPosition,T=g.menuPortalTarget,j=g.menuShouldBlockScroll,A=g.menuShouldScrollIntoView,w=g.noOptionsMessage,O=g.onMenuScrollToTop,N=g.onMenuScrollToBottom;if(!_)return null;var D,R=function(t,n){var s=t.type,i=t.data,a=t.isDisabled,r=t.isSelected,l=t.label,d=t.value,u=h===i,g=a?void 0:function(){return e.onOptionHover(i)},f=a?void 0:function(){return e.selectOption(i)},b="".concat(e.getElementId("option"),"-").concat(n),y={id:b,onClick:f,onMouseMove:g,onMouseOver:g,tabIndex:-1};return c.createElement(p,(0,o.default)({},m,{innerProps:y,data:i,isDisabled:a,isSelected:r,key:b,label:l,type:s,value:d,isFocused:u,innerRef:u?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())D=this.getCategorizedOptions().map((function(t){if("group"===t.type){var s=t.data,a=t.options,r=t.index,l="".concat(e.getElementId("group"),"-").concat(r),d="".concat(l,"-heading");return c.createElement(n,(0,o.default)({},m,{key:l,data:s,options:a,Heading:i,headingProps:{id:d,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return R(e,"".concat(r,"-").concat(e.index))})))}if("option"===t.type)return R(t,"".concat(t.index))}));else if(y){var P=v({inputValue:b});if(null===P)return null;D=c.createElement(d,m,P)}else{var M=w({inputValue:b});if(null===M)return null;D=c.createElement(u,m,M)}var L={minMenuHeight:I,maxMenuHeight:E,menuPlacement:S,menuPosition:C,menuShouldScrollIntoView:A},x=c.createElement(s.M,(0,o.default)({},m,L),(function(t){var n=t.ref,s=t.placerProps,i=s.placement,l=s.maxHeight;return c.createElement(a,(0,o.default)({},m,L,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:y,placement:i}),c.createElement(B,{captureEnabled:f,onTopArrive:O,onBottomArrive:N,lockEnabled:j},(function(t){return c.createElement(r,(0,o.default)({},m,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:y,maxHeight:l,focusedOption:h}),D)})))}));return T||"fixed"===C?c.createElement(l,(0,o.default)({},m,{appendTo:T,controlElement:this.controlRef,menuPlacement:S,menuPosition:C}),x):x}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,o=t.isDisabled,s=t.isMulti,i=t.name,a=this.state.selectValue;if(i&&!o){if(s){if(n){var r=a.map((function(t){return e.getOptionValue(t)})).join(n);return c.createElement("input",{name:i,type:"hidden",value:r})}var l=a.length>0?a.map((function(t,n){return c.createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})})):c.createElement("input",{name:i,type:"hidden"});return c.createElement("div",null,l)}var d=a[0]?this.getOptionValue(a[0]):"";return c.createElement("input",{name:i,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,s=t.focusedOption,i=t.focusedValue,a=t.isFocused,r=t.selectValue,l=this.getFocusableOptions();return c.createElement(f,(0,o.default)({},e,{ariaSelection:n,focusedOption:s,focusedValue:i,isFocused:a,selectValue:r,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,s=e.SelectContainer,i=e.ValueContainer,a=this.props,r=a.className,l=a.id,d=a.isDisabled,u=a.menuIsOpen,p=this.state.isFocused,m=this.commonProps=this.getCommonProps();return c.createElement(s,(0,o.default)({},m,{className:r,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:d,isFocused:p}),this.renderLiveRegion(),c.createElement(t,(0,o.default)({},m,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:d,isFocused:p,menuIsOpen:u}),c.createElement(i,(0,o.default)({},m,{isDisabled:d}),this.renderPlaceholderOrValue(),this.renderInput()),c.createElement(n,(0,o.default)({},m,{isDisabled:d}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,o=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,a=e.options,r=e.value,l=e.menuIsOpen,c=e.inputValue,d={};if(n&&(r!==n.value||a!==n.options||l!==n.menuIsOpen||c!==n.inputValue)){var u=(0,s.E)(r),p=l?function(e,t){return K(Y(e,t))}(e,u):[],m=o?function(e,t){var n=e.focusedValue,o=e.selectValue.indexOf(n);if(o>-1){if(t.indexOf(n)>-1)return n;if(o<t.length)return t[o]}return null}(t,u):null,h=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,p);d={selectValue:u,focusedOption:h,focusedValue:m,clearFocusValueOnUpdate:!1}}var g=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{};return(0,s.a)((0,s.a)((0,s.a)({},d),g),{},{prevProps:e})}}]),n}(c.Component);se.defaultProps=$},"./node_modules/react-select/dist/index-4bd03571.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{A:function(){return M},B:function(){return S},C:function(){return Ne},D:function(){return A},E:function(){return C},F:function(){return R},G:function(){return E},H:function(){return j},M:function(){return H},_:function(){return I},a:function(){return b},b:function(){return le},c:function(){return Oe},d:function(){return Q},e:function(){return he},f:function(){return re},g:function(){return ge},h:function(){return fe},i:function(){return te},j:function(){return ce},k:function(){return be},l:function(){return ue},m:function(){return q},n:function(){return U},o:function(){return G},p:function(){return Z},q:function(){return ve},r:function(){return Ie},s:function(){return F},t:function(){return Ee},u:function(){return $},v:function(){return je},w:function(){return Ae},x:function(){return we},y:function(){return ee},z:function(){return P}});var o=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),s=n("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),i=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),a=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),l=n("./node_modules/react-select/node_modules/react-input-autosize/lib/AutosizeInput.js"),c=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),d=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),u=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),p=n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),m=n("../../node_modules/react/index.js"),h=n("../../node_modules/react-dom/index.js");function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function v(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=y(e);if(t){var s=y(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return v(this,n)}}var E=function(){};function _(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function S(e,t,n){var o=[n];if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&o.push("".concat(_(e,s)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var C=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===(0,r.default)(e)&&null!==e?[e]:[]},T=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,b({},(0,a.default)(e,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))};function j(e,t,n){if(n){var o=n(e,t);if("string"==typeof o)return o}return e}function A(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function w(e){return A(e)?window.pageYOffset:e.scrollTop}function O(e,t){A(e)?window.scrollTo(0,t):e.scrollTop=t}function N(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E,s=w(e),i=t-s,a=10,r=0;function l(){var t=N(r+=a,s,i,n);O(e,t),r<n?window.requestAnimationFrame(l):o(e)}l()}function R(e,t){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),s=t.offsetHeight/3;o.bottom+s>n.bottom?O(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+s,e.scrollHeight)):o.top-s<n.top&&O(e,Math.max(t.offsetTop-s,0))}function P(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function M(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}var L=!1,x={get passive(){return L=!0}},k="undefined"!=typeof window?window:{};k.addEventListener&&k.removeEventListener&&(k.addEventListener("p",E,x),k.removeEventListener("p",E,!1));var F=L;function V(e){var t=e.maxHeight,n=e.menuEl,o=e.minHeight,s=e.placement,i=e.shouldScroll,a=e.isFixedPosition,r=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,o=/(auto|scroll)/,s=document.documentElement;if("fixed"===t.position)return s;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&o.test(t.overflow+t.overflowY+t.overflowX))return i;return s}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect().height,u=n.getBoundingClientRect(),p=u.bottom,m=u.height,h=u.top,g=n.offsetParent.getBoundingClientRect().top,f=window.innerHeight,b=w(l),y=parseInt(getComputedStyle(n).marginBottom,10),v=parseInt(getComputedStyle(n).marginTop,10),I=g-v,E=f-h,_=I+b,S=d-b-h,C=p-f+b+y,T=b+h-v,j=160;switch(s){case"auto":case"bottom":if(E>=m)return{placement:"bottom",maxHeight:t};if(S>=m&&!a)return i&&D(l,C,j),{placement:"bottom",maxHeight:t};if(!a&&S>=o||a&&E>=o)return i&&D(l,C,j),{placement:"bottom",maxHeight:a?E-y:S-y};if("auto"===s||a){var A=t,N=a?I:_;return N>=o&&(A=Math.min(N-y-r.controlHeight,t)),{placement:"top",maxHeight:A}}if("bottom"===s)return i&&O(l,C),{placement:"bottom",maxHeight:t};break;case"top":if(I>=m)return{placement:"top",maxHeight:t};if(_>=m&&!a)return i&&D(l,T,j),{placement:"top",maxHeight:t};if(!a&&_>=o||a&&I>=o){var R=t;return(!a&&_>=o||a&&I>=o)&&(R=a?I-v:_-v),i&&D(l,T,j),{placement:"top",maxHeight:R}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return c}var B=function(e){return"auto"===e?"bottom":e},U=function(e){var t,n=e.placement,o=e.theme,s=o.borderRadius,i=o.spacing,a=o.colors;return t={label:"menu"},(0,p.default)(t,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),(0,p.default)(t,"backgroundColor",a.neutral0),(0,p.default)(t,"borderRadius",s),(0,p.default)(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),(0,p.default)(t,"marginBottom",i.menuGutter),(0,p.default)(t,"marginTop",i.menuGutter),(0,p.default)(t,"position","absolute"),(0,p.default)(t,"width","100%"),(0,p.default)(t,"zIndex",1),t},z=(0,m.createContext)({getPortalPlacement:null}),H=function(e){(0,u.default)(n,e);var t=I(n);function n(){var e;(0,c.default)(this,n);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.getPlacement=function(t){var n=e.props,o=n.minMenuHeight,s=n.maxMenuHeight,i=n.menuPlacement,a=n.menuPosition,r=n.menuShouldScrollIntoView,l=n.theme;if(t){var c="fixed"===a,d=V({maxHeight:s,menuEl:t,minHeight:o,placement:i,shouldScroll:r&&!c,isFixedPosition:c,theme:l}),u=e.context.getPortalPlacement;u&&u(d),e.setState(d)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||B(t);return b(b({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return(0,d.default)(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(m.Component);H.contextType=z;var G=function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},W=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},$=W,q=W,Y=function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.innerProps;return(0,s.jsx)("div",(0,o.default)({css:a("noOptionsMessage",e),className:i({"menu-notice":!0,"menu-notice--no-options":!0},n)},r),t)};Y.defaultProps={children:"No options"};var K=function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.innerProps;return(0,s.jsx)("div",(0,o.default)({css:a("loadingMessage",e),className:i({"menu-notice":!0,"menu-notice--loading":!0},n)},r),t)};K.defaultProps={children:"Loading..."};var J,Z=function(e){var t=e.rect,n=e.offset,o=e.position;return{left:t.left,position:o,top:n,width:t.width,zIndex:1}},X=function(e){(0,u.default)(n,e);var t=I(n);function n(){var e;(0,c.default)(this,n);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==B(e.props.menuPlacement)&&e.setState({placement:n})},e}return(0,d.default)(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,i=e.className,a=e.controlElement,r=e.cx,l=e.innerProps,c=e.menuPlacement,d=e.menuPosition,u=e.getStyles,p="fixed"===d;if(!t&&!p||!a)return null;var m=this.state.placement||B(c),g=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(a),f=p?0:window.pageYOffset,b={offset:g[m]+f,position:d,rect:g},y=(0,s.jsx)("div",(0,o.default)({css:u("menuPortal",b),className:r({"menu-portal":!0},i)},l),n);return(0,s.jsx)(z.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,h.createPortal)(y,t):y)}}]),n}(m.Component),Q=function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},ee=function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},te=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}};var ne={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},oe=function(e){var t=e.size,n=(0,a.default)(e,["size"]);return(0,s.jsx)("svg",(0,o.default)({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ne},n))},se=function(e){return(0,s.jsx)(oe,(0,o.default)({size:20},e),(0,s.jsx)("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ie=function(e){return(0,s.jsx)(oe,(0,o.default)({size:20},e),(0,s.jsx)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},ae=function(e){var t=e.isFocused,n=e.theme,o=n.spacing.baseUnit,s=n.colors;return{label:"indicatorContainer",color:t?s.neutral60:s.neutral20,display:"flex",padding:2*o,transition:"color 150ms",":hover":{color:t?s.neutral80:s.neutral40}}},re=ae,le=ae,ce=function(e){var t=e.isDisabled,n=e.theme,o=n.spacing.baseUnit,s=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?s.neutral10:s.neutral20,marginBottom:2*o,marginTop:2*o,width:1}},de=(0,s.keyframes)(J||(J=(0,i.default)(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),ue=function(e){var t=e.isFocused,n=e.size,o=e.theme,s=o.colors,i=o.spacing.baseUnit;return{label:"loadingIndicator",color:t?s.neutral60:s.neutral20,display:"flex",padding:2*i,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},pe=function(e){var t=e.delay,n=e.offset;return(0,s.jsx)("span",{css:(0,s.css)({animation:"".concat(de," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},me=function(e){var t=e.className,n=e.cx,i=e.getStyles,a=e.innerProps,r=e.isRtl;return(0,s.jsx)("div",(0,o.default)({css:i("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},a),(0,s.jsx)(pe,{delay:0,offset:r}),(0,s.jsx)(pe,{delay:160,offset:!0}),(0,s.jsx)(pe,{delay:320,offset:!r}))};me.defaultProps={size:4};var he=function(e){var t=e.isDisabled,n=e.isFocused,o=e.theme,s=o.colors,i=o.borderRadius,a=o.spacing;return{label:"control",alignItems:"center",backgroundColor:t?s.neutral5:s.neutral0,borderColor:t?s.neutral10:n?s.primary:s.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(s.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?s.primary:s.neutral30}}},ge=function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},fe=function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},be=function(e){var t=e.isDisabled,n=e.theme,o=n.spacing,s=n.colors;return{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,visibility:t?"hidden":"visible",color:s.neutral80}},ye=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},ve=function(e){var t=e.theme,n=t.spacing,o=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:o/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},Ie=function(e){var t=e.theme,n=t.borderRadius,o=t.colors,s=e.cropWithEllipsis;return{borderRadius:n/2,color:o.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:s?"ellipsis":null,whiteSpace:"nowrap"}},Ee=function(e){var t=e.theme,n=t.spacing,o=t.borderRadius,s=t.colors;return{alignItems:"center",borderRadius:o/2,backgroundColor:e.isFocused&&s.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}}},_e=function(e){var t=e.children,n=e.innerProps;return(0,s.jsx)("div",n,t)},Se=_e,Ce=_e;var Te=function(e){var t=e.children,n=e.className,o=e.components,i=e.cx,a=e.data,r=e.getStyles,l=e.innerProps,c=e.isDisabled,d=e.removeProps,u=e.selectProps,p=o.Container,m=o.Label,h=o.Remove;return(0,s.jsx)(s.ClassNames,null,(function(o){var g=o.css,f=o.cx;return(0,s.jsx)(p,{data:a,innerProps:b({className:f(g(r("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":c},n))},l),selectProps:u},(0,s.jsx)(m,{data:a,innerProps:{className:f(g(r("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:u},t),(0,s.jsx)(h,{data:a,innerProps:b({className:f(g(r("multiValueRemove",e)),i({"multi-value__remove":!0},n))},d),selectProps:u}))}))};Te.defaultProps={cropWithEllipsis:!0};var je=function(e){var t=e.isDisabled,n=e.isFocused,o=e.isSelected,s=e.theme,i=s.spacing,a=s.colors;return{label:"option",backgroundColor:o?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:o?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(o?a.primary:a.primary50)}}},Ae=function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},we=function(e){var t=e.isDisabled,n=e.theme,o=n.spacing,s=n.colors;return{label:"singleValue",color:t?s.neutral40:s.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2,maxWidth:"calc(100% - ".concat(2*o.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},Oe={ClearIndicator:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.innerProps;return(0,s.jsx)("div",(0,o.default)({css:a("clearIndicator",e),className:i({indicator:!0,"clear-indicator":!0},n)},r),t||(0,s.jsx)(se,null))},Control:function(e){var t=e.children,n=e.cx,i=e.getStyles,a=e.className,r=e.isDisabled,l=e.isFocused,c=e.innerRef,d=e.innerProps,u=e.menuIsOpen;return(0,s.jsx)("div",(0,o.default)({ref:c,css:i("control",e),className:n({control:!0,"control--is-disabled":r,"control--is-focused":l,"control--menu-is-open":u},a)},d),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.innerProps;return(0,s.jsx)("div",(0,o.default)({css:a("dropdownIndicator",e),className:i({indicator:!0,"dropdown-indicator":!0},n)},r),t||(0,s.jsx)(ie,null))},DownChevron:ie,CrossIcon:se,Group:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.Heading,l=e.headingProps,c=e.innerProps,d=e.label,u=e.theme,p=e.selectProps;return(0,s.jsx)("div",(0,o.default)({css:a("group",e),className:i({group:!0},n)},c),(0,s.jsx)(r,(0,o.default)({},l,{selectProps:p,theme:u,getStyles:a,cx:i}),d),(0,s.jsx)("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,i=e.className,r=T(e);r.data;var l=(0,a.default)(r,["data"]);return(0,s.jsx)("div",(0,o.default)({css:t("groupHeading",e),className:n({"group-heading":!0},i)},l))},IndicatorsContainer:function(e){var t=e.children,n=e.className,i=e.cx,a=e.innerProps,r=e.getStyles;return(0,s.jsx)("div",(0,o.default)({css:r("indicatorsContainer",e),className:i({indicators:!0},n)},a),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,i=e.getStyles,a=e.innerProps;return(0,s.jsx)("span",(0,o.default)({},a,{css:i("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,i=e.getStyles,r=T(e),c=r.innerRef,d=r.isDisabled,u=r.isHidden,p=(0,a.default)(r,["innerRef","isDisabled","isHidden"]);return(0,s.jsx)("div",{css:i("input",e)},(0,s.jsx)(l.default,(0,o.default)({className:n({input:!0},t),inputRef:c,inputStyle:ye(u),disabled:d},p)))},LoadingIndicator:me,Menu:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.innerRef,l=e.innerProps;return(0,s.jsx)("div",(0,o.default)({css:a("menu",e),className:i({menu:!0},n),ref:r},l),t)},MenuList:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.innerProps,l=e.innerRef,c=e.isMulti;return(0,s.jsx)("div",(0,o.default)({css:a("menuList",e),className:i({"menu-list":!0,"menu-list--is-multi":c},n),ref:l},r),t)},MenuPortal:X,LoadingMessage:K,NoOptionsMessage:Y,MultiValue:Te,MultiValueContainer:Se,MultiValueLabel:Ce,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return(0,s.jsx)("div",n,t||(0,s.jsx)(se,{size:14}))},Option:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.isDisabled,l=e.isFocused,c=e.isSelected,d=e.innerRef,u=e.innerProps;return(0,s.jsx)("div",(0,o.default)({css:a("option",e),className:i({option:!0,"option--is-disabled":r,"option--is-focused":l,"option--is-selected":c},n),ref:d},u),t)},Placeholder:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.innerProps;return(0,s.jsx)("div",(0,o.default)({css:a("placeholder",e),className:i({placeholder:!0},n)},r),t)},SelectContainer:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.innerProps,l=e.isDisabled,c=e.isRtl;return(0,s.jsx)("div",(0,o.default)({css:a("container",e),className:i({"--is-disabled":l,"--is-rtl":c},n)},r),t)},SingleValue:function(e){var t=e.children,n=e.className,i=e.cx,a=e.getStyles,r=e.isDisabled,l=e.innerProps;return(0,s.jsx)("div",(0,o.default)({css:a("singleValue",e),className:i({"single-value":!0,"single-value--is-disabled":r},n)},l),t)},ValueContainer:function(e){var t=e.children,n=e.className,i=e.cx,a=e.innerProps,r=e.isMulti,l=e.getStyles,c=e.hasValue;return(0,s.jsx)("div",(0,o.default)({css:l("valueContainer",e),className:i({"value-container":!0,"value-container--is-multi":r,"value-container--has-value":c},n)},a),t)}},Ne=function(e){return b(b({},Oe),e.components)}},"./node_modules/react-select/dist/react-select.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{NonceProvider:function(){return m},components:function(){return l.c},createFilter:function(){return o.c},defaultTheme:function(){return o.d},mergeStyles:function(){return o.m}});var o=n("./node_modules/react-select/dist/Select-dbb12e54.esm.js"),s=n("./node_modules/react-select/dist/stateManager-845a3300.esm.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),r=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/react-select/dist/index-4bd03571.esm.js"),c=n("../../node_modules/react/index.js"),d=n("./node_modules/@emotion/react/dist/emotion-element-699e6908.browser.esm.js"),u=n("./node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js"),p=n("./node_modules/react-select/node_modules/memoize-one/dist/memoize-one.esm.js"),m=(n("./node_modules/@babel/runtime/helpers/esm/extends.js"),n("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),n("./node_modules/@babel/runtime/helpers/esm/typeof.js"),n("./node_modules/react-select/node_modules/react-input-autosize/lib/AutosizeInput.js"),n("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n("../../node_modules/react-dom/index.js"),function(e){(0,r.default)(n,e);var t=(0,l._)(n);function n(e){var o;return(0,i.default)(this,n),(o=t.call(this,e)).createEmotionCache=function(e,t){return(0,u.default)({nonce:e,key:t})},o.createEmotionCache=(0,p.default)(o.createEmotionCache),o}return(0,a.default)(n,[{key:"render",value:function(){var e=this.createEmotionCache(this.props.nonce,this.props.cacheKey);return c.createElement(d.C,{value:e},this.props.children)}}]),n}(c.Component)),h=(0,s.m)(o.S);t.default=h},"./node_modules/react-select/dist/stateManager-845a3300.esm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{m:function(){return u}});var o=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),s=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),i=n("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),a=n("./node_modules/@babel/runtime/helpers/esm/createClass.js"),r=n("./node_modules/@babel/runtime/helpers/esm/inherits.js"),l=n("./node_modules/react-select/dist/index-4bd03571.esm.js"),c=n("../../node_modules/react/index.js"),d={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},u=function(e){var t,n;return n=t=function(t){(0,r.default)(d,t);var n=(0,l._)(d);function d(){var e;(0,i.default)(this,d);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(e=n.call.apply(n,[this].concat(o))).select=void 0,e.state={inputValue:void 0!==e.props.inputValue?e.props.inputValue:e.props.defaultInputValue,menuIsOpen:void 0!==e.props.menuIsOpen?e.props.menuIsOpen:e.props.defaultMenuIsOpen,value:void 0!==e.props.value?e.props.value:e.props.defaultValue},e.onChange=function(t,n){e.callProp("onChange",t,n),e.setState({value:t})},e.onInputChange=function(t,n){var o=e.callProp("onInputChange",t,n);e.setState({inputValue:void 0!==o?o:t})},e.onMenuOpen=function(){e.callProp("onMenuOpen"),e.setState({menuIsOpen:!0})},e.onMenuClose=function(){e.callProp("onMenuClose"),e.setState({menuIsOpen:!1})},e}return(0,a.default)(d,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];return(t=this.props)[e].apply(t,o)}}},{key:"render",value:function(){var t=this,n=this.props;n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue;var i=(0,s.default)(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return c.createElement(e,(0,o.default)({},i,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),d}(c.Component),t.defaultProps=d,n}},"./node_modules/react-select/node_modules/memoize-one/dist/memoize-one.esm.js":function(e,t,n){"use strict";n.r(t);var o=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function s(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(s=e[n],i=t[n],!(s===i||o(s)&&o(i)))return!1;var s,i;return!0}t.default=function(e,t){var n;void 0===t&&(t=s);var o,i=[],a=!1;return function(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];return a&&n===this&&t(s,i)||(o=e.apply(this,s),a=!0,n=this,i=s),o}}},"./node_modules/react-select/node_modules/react-input-autosize/lib/AutosizeInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n("../../node_modules/react/index.js"),a=l(i),r=l(n("./node_modules/prop-types/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},d=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],u=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||m(),prevId:e.id},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.id;return n!==t.prevId?{inputId:n||m(),prevId:n}:null}}]),s(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(u(e,this.sizer),this.placeHolderSizer&&u(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=o({},this.props.style);t.display||(t.display="inline-block");var n=o({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),s=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(this.props,[]);return function(e){d.forEach((function(t){return delete e[t]}))}(s),s.className=this.props.inputClassName,s.id=this.state.inputId,s.style=n,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",o({},s,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(i.Component);h.propTypes={className:r.default.string,defaultValue:r.default.any,extraWidth:r.default.oneOfType([r.default.number,r.default.string]),id:r.default.string,injectStyles:r.default.bool,inputClassName:r.default.string,inputRef:r.default.func,inputStyle:r.default.object,minWidth:r.default.oneOfType([r.default.number,r.default.string]),onAutosize:r.default.func,onChange:r.default.func,placeholder:r.default.string,placeholderIsMinWidth:r.default.bool,style:r.default.object,value:r.default.any},h.defaultProps={minWidth:1,injectStyles:!0},t.default=h},"./node_modules/react-shortcuts/lib/component/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/react-shortcuts/lib/component/shortcuts.js")},"./node_modules/react-shortcuts/lib/component/shortcuts.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=c(n("../../node_modules/react/index.js")),i=c(n("./node_modules/invariant/browser.js")),a=c(n("./node_modules/combokeys/Combokeys/index.js")),r=c(n("./node_modules/prop-types/index.js")),l=c(n("./node_modules/react-shortcuts/lib/helpers.js"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,o;d(this,t);for(var s=arguments.length,r=Array(s),c=0;c<s;c++)r[c]=arguments[c];return n=o=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),o._combokeys=null,o._lastEvent=null,o._bindShortcuts=function(e){var t=o._getElementToBind();t.setAttribute("tabindex",o.props.tabIndex),o._combokeys=new a.default(t,{storeInstancesGlobally:!1}),o._decorateCombokeys(),o._combokeys.bind(e,o._handleShortcuts,o.props.eventType),o.props.global&&t.addEventListener("shortcuts:global",o._customGlobalHandler)},o._customGlobalHandler=function(e){var t=e.detail,n=t.character,s=t.modifiers,i=t.event,a=null;o.props.targetNodeSelector&&(a=document.querySelector(o.props.targetNodeSelector)),e.target!==o._domNode&&e.target!==a&&o._combokeys.handleKey(n,s,i,!0)},o._decorateCombokeys=function(){var e=o._getElementToBind(),t=o._combokeys.handleKey.bind(o._combokeys);o._combokeys.stopCallback=function(e,t,n){var s="INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.contentEditable&&"true"===t.contentEditable,i=void 0;return i=e.key?1===e.key.length:Boolean(l.default.getCharacter(e)),!(!s||!i||o.props.alwaysFireHandler)},o._combokeys.handleKey=function(n,s,i,a){if(!o._lastEvent||i.timeStamp!==o._lastEvent.timeStamp||i.type!==o._lastEvent.type){o._lastEvent=i;var r=!1;if(o.props.isolate&&!i.__isolateShortcuts&&(i.__isolateShortcuts=!0,r=!0),a||e.dispatchEvent(new CustomEvent("shortcuts:global",{detail:{character:n,modifiers:s,event:i},bubbles:!0,cancelable:!0})),!i.__isolateShortcuts)return o.props.preventDefault&&i.preventDefault(),o.props.stopPropagation&&!a&&i.stopPropagation(),void t(n,s,i);(o.props.global||r)&&t(n,s,i)}}},o._getElementToBind=function(){var e=null;return o.props.targetNodeSelector?(e=document.querySelector(o.props.targetNodeSelector),(0,i.default)(e,"Node selector '"+o.props.targetNodeSelector+"'  was not found.")):e=o._domNode,e},o._unbindShortcuts=function(){o._combokeys&&(o._combokeys.detach(),o._combokeys.reset())},o._onUpdate=function(){var e=o.props.name&&o.context.shortcuts.getShortcuts(o.props.name);o._unbindShortcuts(),o._bindShortcuts(e||[])},o._handleShortcuts=function(e,t){if(o.props.name){var n=o.context.shortcuts.findShortcutName(t,o.props.name);o.props.handler&&o.props.handler(n,e)}},u(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this._onUpdate(),this.props.name&&this.context.shortcuts.addUpdateListener(this._onUpdate)}},{key:"componentWillUnmount",value:function(){(this._unbindShortcuts(),this.props.name&&this.context.shortcuts.removeUpdateListener(this._onUpdate),this.props.global)&&this._getElementToBind().removeEventListener("shortcuts:global",this._customGlobalHandler)}},{key:"render",value:function(){var e=this;return s.default.createElement("div",{ref:function(t){e._domNode=t},tabIndex:this.props.tabIndex,className:this.props.className},this.props.children)}}]),t}(s.default.Component);p.displayName="Shortcuts",p.contextTypes={shortcuts:r.default.object.isRequired},p.propTypes={children:r.default.node,handler:r.default.func,name:r.default.string,tabIndex:r.default.number,className:r.default.string,eventType:r.default.string,stopPropagation:r.default.bool,preventDefault:r.default.bool,targetNodeSelector:r.default.string,global:r.default.bool,isolate:r.default.bool,alwaysFireHandler:r.default.bool},p.defaultProps={tabIndex:-1,className:null,eventType:null,stopPropagation:!0,preventDefault:!1,targetNodeSelector:null,global:!1,isolate:!1,alwaysFireHandler:!1},t.default=p,e.exports=t.default},"./node_modules/react-shortcuts/lib/helpers.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,s=n("./node_modules/platform/platform.js"),i=(o=s)&&o.__esModule?o:{default:o};t.default={getPlatformName:function(){var e=i.default.os.family||"";return e=e.toLowerCase().replace(/ /g,""),e=/\bwin/.test(e)?"windows":/darwin|osx/.test(e)?"osx":/linux|freebsd|sunos|ubuntu|debian|fedora|redhat|suse/.test(e)?"linux":"other"},getCharacter:function(e){return null==e.which?String.fromCharCode(e.keyCode):0!==e.which&&0!==e.charCode?String.fromCharCode(e.which):null}},e.exports=t.default},"./node_modules/react-shortcuts/lib/index.js":function(e,t,n){"use strict";e.exports={ShortcutManager:n("./node_modules/react-shortcuts/lib/shortcut-manager.js"),Shortcuts:n("./node_modules/react-shortcuts/lib/component/index.js")}},"./node_modules/react-shortcuts/lib/shortcut-manager.js":function(e,t,n){"use strict";n("../../node_modules/process/browser.js");Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=c(n("./node_modules/just-reduce-object/index.js")),i=c(n("./node_modules/invariant/browser.js")),a=n("./node_modules/events/events.js"),r=c(n("./node_modules/react-shortcuts/lib/helpers.js")),l=n("./node_modules/react-shortcuts/lib/utils.js");function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._platformName=r.default.getPlatformName(),n._parseShortcutDescriptor=function(e){return(0,l.isPlainObject)(e)?e[n._platformName]:e},n._keymap=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addUpdateListener",value:function(e){(0,i.default)(e,"addUpdateListener: callback argument is not defined or falsy"),this.on(t.CHANGE_EVENT,e)}},{key:"removeUpdateListener",value:function(e){this.removeListener(t.CHANGE_EVENT,e)}},{key:"setKeymap",value:function(e){(0,i.default)(e,"setKeymap: keymap argument is not defined or falsy."),this._keymap=e,this.emit(t.CHANGE_EVENT)}},{key:"extendKeymap",value:function(e){(0,i.default)(e,"extendKeymap: keymap argument is not defined or falsy."),this._keymap=Object.assign({},this._keymap,e),this.emit(t.CHANGE_EVENT)}},{key:"getAllShortcuts",value:function(){return this._keymap}},{key:"getAllShortcutsForPlatform",value:function(e){return function t(n){return(0,s.default)(n,(function(n,o,s){if((0,l.isPlainObject)(s)){if(!s[e])return n[o]=t(s),n;s=s[e]}return n[o]=s,n}),{})}(this._keymap)}},{key:"getAllShortcutsForCurrentPlatform",value:function(){return this.getAllShortcutsForPlatform(this._platformName)}},{key:"getShortcuts",value:function(e){(0,i.default)(e,"getShortcuts: name argument is not defined or falsy.");var t=this._keymap[e];if(t)return(0,l.compact)((0,l.flatten)((0,l.map)(t,this._parseShortcutDescriptor)))}},{key:"_parseShortcutKeyName",value:function(e,t){var n=this;return(0,l.findKey)(e,(function(e){if((0,l.isPlainObject)(e)&&(e=e[n._platformName]),(0,l.isArray)(e)){var o=e.indexOf(t);o>=0&&(e=e[o])}return e===t}))}},{key:"findShortcutName",value:function(e,t){(0,i.default)(e,"findShortcutName: keyName argument is not defined or falsy."),(0,i.default)(t,"findShortcutName: componentName argument is not defined or falsy.");var n=this._keymap[t];return this._parseShortcutKeyName(n,e)}}]),t}(a.EventEmitter);p.CHANGE_EVENT="shortcuts:update",t.default=p,e.exports=t.default},"./node_modules/react-shortcuts/lib/utils.js":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=t.isArray=function(e){return Array.isArray(e)},s=t.isPlainObject=function(e){if(!("object"===(void 0===e?"undefined":n(e))&&null!==e&&!o(e))||e.toString&&"[object Object]"!==e.toString())return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var s=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof s&&s instanceof s&&Function.prototype.toString.call(s)===Function.prototype.toString.call(Object)},i=(t.findKey=function(e,t){if(s(e)||o(e))return Object.keys(e).find((function(n){return t(e[n])}))},t.compact=function(e){return e.filter(Boolean)},function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.reduce((function(t,s){return o(s)&&n?t.concat(e(s,!1)):(t.push(s),t)}),[])});t.flatten=function(e){if(!o(e))throw new Error("flatten expects an array");return i(e)},t.map=function(e,t){if(o(e))return e.map(t);for(var n=[],s=Object.keys(e),i=s.length,a=0;a<i;a+=1){var r=s[a];n.push(t(e[r],r))}return n}},"./node_modules/react-sticky-box/dist/es/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),s=n("../../node_modules/react/index.js"),i=n("./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js"),a=null;"undefined"!=typeof CSS&&CSS.supports&&(CSS.supports("position","sticky")?a="sticky":CSS.supports("position","-webkit-sticky")&&(a="-webkit-sticky"));var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r={passive:!0}}});window.addEventListener("testPassive",null,l),window.removeEventListener("testPassive",null,l)}catch(e){}var c=function(e){function t(t){var n=e.call(this,t)||this;return n.addListener=function(e,t,o,s){e.addEventListener(t,o,s),n.unsubscribes.push((function(){return e.removeEventListener(t,o)}))},n.addResizeObserver=function(e,t){var o=new i.default(t);o.observe(e),n.unsubscribes.push((function(){return o.disconnect()}))},n.registerContainerRef=function(e){a&&(n.node=e,e?(n.scrollPane=function(e){for(var t=e;t=t.parentElement;){var n=getComputedStyle(t,null).getPropertyValue("overflow-y");if(t===document.body)return window;if("auto"===n||"scroll"===n)return t}return window}(n.node),n.latestScrollY=n.scrollPane===window?window.scrollY:n.scrollPane.scrollTop,n.addListener(n.scrollPane,"scroll",n.handleScroll,r),n.addListener(n.scrollPane,"mousewheel",n.handleScroll,r),n.scrollPane===window?(n.addListener(window,"resize",n.handleWindowResize),n.handleWindowResize()):(n.addResizeObserver(n.scrollPane,n.handleScrollPaneResize),n.handleScrollPaneResize()),n.addResizeObserver(n.node.parentNode,n.handleParentNodeResize),n.handleParentNodeResize(),n.addResizeObserver(n.node,n.handleNodeResize),n.handleNodeResize({initial:!0}),n.initial()):(n.unsubscribes.forEach((function(e){return e()})),n.unsubscribes=[],n.scrollPane=null))},n.getCurrentOffset=function(){if("relative"===n.mode)return n.offset;var e=n.props,t=e.offsetTop,o=e.offsetBottom;return"stickyTop"===n.mode?Math.max(0,n.scrollPaneOffset+n.latestScrollY-n.naturalTop+t):"stickyBottom"===n.mode?Math.max(0,n.scrollPaneOffset+n.latestScrollY+n.viewPortHeight-(n.naturalTop+n.nodeHeight+o)):void 0},n.handleWindowResize=function(){n.viewPortHeight=window.innerHeight,n.scrollPaneOffset=0,n.handleScroll()},n.handleScrollPaneResize=function(){n.viewPortHeight=n.scrollPane.offsetHeight,n.scrollPane.firstChild.offsetParent===n.scrollPane?n.scrollPaneOffset=n.scrollPane.getBoundingClientRect().top:n.scrollPaneOffset=0,n.handleScroll()},n.handleParentNodeResize=function(){var e=n.node.parentNode,t=getComputedStyle(e,null),o=parseInt(t.getPropertyValue("padding-top"),10),s=parseInt(t.getPropertyValue("padding-bottom"),10);n.naturalTop=function(e,t){var n=e,o=0;t.firstChild&&t.firstChild.offsetParent!==t&&(o+=e.offsetTop-t.offsetTop,t=e.offsetParent,o+=-e.offsetTop);do{o+=n.offsetTop,n=n.offsetParent}while(n&&n!==t);return o}(e,n.scrollPane)+o+n.scrollPaneOffset;var i=n.parentHeight;n.parentHeight=e.getBoundingClientRect().height-(o+s),"relative"===n.mode&&(n.props.bottom?n.changeMode("relative"):i>n.parentHeight&&n.changeToStickyBottomIfBoxTooLow(n.latestScrollY)),i!==n.parentHeight&&"relative"===n.mode&&(n.latestScrollY=Number.POSITIVE_INFINITY,n.handleScroll())},n.handleNodeResize=function(e){var t=(void 0===e?{}:e).initial,o=n.nodeHeight;if(n.nodeHeight=n.node.getBoundingClientRect().height,!t&&o!==n.nodeHeight){var s=n.props,i=s.offsetTop,a=s.offsetBottom,r=s.bottom;if(n.nodeHeight+i+a<=n.viewPortHeight)n.mode=void 0,n.initial();else{var l=o-n.nodeHeight,c=n.parentHeight-n.nodeHeight,d=Math.min(c,n.getCurrentOffset()+(r?l:0));n.offset=Math.max(0,d),r&&"stickyBottom"===n.mode||n.changeMode("relative")}}},n.handleScroll=function(){var e=n.props,t=e.offsetTop,o=e.offsetBottom,s=n.scrollPane===window?window.scrollY:n.scrollPane.scrollTop;if(s!==n.latestScrollY){if(n.nodeHeight+t+o<=n.viewPortHeight)return n.initial(),void(n.latestScrollY=s);var i=s-n.latestScrollY;n.offset=n.getCurrentOffset(),i>0?"stickyTop"===n.mode?s+n.scrollPaneOffset+t>n.naturalTop&&(s+n.scrollPaneOffset+n.viewPortHeight<=n.naturalTop+n.nodeHeight+n.offset+o?n.changeMode("relative"):n.changeMode("stickyBottom")):"relative"===n.mode&&n.changeToStickyBottomIfBoxTooLow(s):"stickyBottom"===n.mode?n.scrollPaneOffset+s+n.viewPortHeight<n.naturalTop+n.parentHeight+o&&(n.scrollPaneOffset+s+t>=n.naturalTop+n.offset?n.changeMode("relative"):n.changeMode("stickyTop")):"relative"===n.mode&&n.scrollPaneOffset+s+t<n.naturalTop+n.offset&&n.changeMode("stickyTop"),n.latestScrollY=s}},t.offset,n.unsubscribes=[],n}(0,o.default)(t,e);var n=t.prototype;return n.changeMode=function(e){var t=this.props,n=t.onChangeMode,o=t.offsetTop,s=t.offsetBottom,i=t.bottom;if(this.mode!==e&&n(this.mode,e),this.mode=e,"relative"===e)if(this.node.style.position="relative",i){var r=Math.max(0,this.parentHeight-this.nodeHeight-this.offset);this.node.style.bottom=r+"px"}else this.node.style.top=this.offset+"px";else this.node.style.position=a,"stickyBottom"===e?i?this.node.style.bottom=s+"px":this.node.style.top=this.viewPortHeight-this.nodeHeight-s+"px":i?this.node.style.bottom=this.viewPortHeight-this.nodeHeight-s+"px":this.node.style.top=o+"px";this.offset=this.getCurrentOffset()},n.initial=function(){this.props.bottom?"stickyBottom"!==this.mode&&this.changeMode("stickyBottom"):"stickyTop"!==this.mode&&this.changeMode("stickyTop")},n.changeToStickyBottomIfBoxTooLow=function(e){var t=this.props.offsetBottom;e+this.scrollPaneOffset+this.viewPortHeight>=this.naturalTop+this.nodeHeight+this.offset+t&&this.changeMode("stickyBottom")},n.render=function(){var e=this.props,t=e.children,n=e.className,o=e.style;return s.createElement("div",{className:n,style:o,ref:this.registerContainerRef},t)},t}(s.Component);c.defaultProps={onChangeMode:function(){},offsetTop:0,offsetBottom:0}},"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js":function(e,t,n){"use strict";n.r(t);var o=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,o){return e[0]===t&&(n=o,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var s=o[n];e.call(t,s[1],s[0])}},t}()}(),s="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var r=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,s=0;function i(){n&&(n=!1,e()),o&&l()}function r(){a(i)}function l(){var e=Date.now();if(n){if(e-s<2)return;o=!0}else n=!0,o=!1,setTimeout(r,t);s=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){s&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){s&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;r.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),d=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var s=o[n];Object.defineProperty(e,s,{value:t[s],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=y(0,0,0,0);function m(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+m(e["border-"+n+"-width"])}),0)}function g(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var o=u(e).getComputedStyle(e),s=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var s=o[n],i=e["padding-"+s];t[s]=m(i)}return t}(o),i=s.left+s.right,a=s.top+s.bottom,r=m(o.width),l=m(o.height);if("border-box"===o.boxSizing&&(Math.round(r+i)!==t&&(r-=h(o,"left","right")+i),Math.round(l+a)!==n&&(l-=h(o,"top","bottom")+a)),!function(e){return e===u(e).document.documentElement}(e)){var c=Math.round(r+i)-t,d=Math.round(l+a)-n;1!==Math.abs(c)&&(r-=c),1!==Math.abs(d)&&(l-=d)}return y(s.left,s.top,r,l)}var f="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"==typeof e.getBBox};function b(e){return s?f(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):g(e):p}function y(e,t,n,o){return{x:e,y:t,width:n,height:o}}var v=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=b(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),I=function(e,t){var n,o,s,i,a,r,l,c=(o=(n=t).x,s=n.y,i=n.width,a=n.height,r="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(r.prototype),d(l,{x:o,y:s,width:i,height:a,top:s,right:o+i,bottom:a+s,left:o}),l);d(this,{target:e,contentRect:c})},E=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new o,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new v(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new I(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),_="undefined"!=typeof WeakMap?new WeakMap:new o,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),o=new E(t,n,this);_.set(this,o)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=_.get(this))[e].apply(t,arguments)}}));var C=void 0!==i.ResizeObserver?i.ResizeObserver:S;t.default=C},"./api-dev/components/api-repo-integration/APIRepoIntegrationConfigurationBranchCreateModal/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-error-stroke-small.js"),u=n("./node_modules/lodash/lodash.js"),p=n.n(u),m=function(e,t,n,o){return new(n||(n=Promise))((function(s,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function r(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((o=o.apply(e,t||[])).next())}))};function h(e){const[t,n]=(0,o.useState)(""),[u,h]=(0,o.useState)(!0),[g,f]=(0,o.useState)(!0),b=(y=e.selectedBranch)?Object.assign(Object.assign({},y),{label:y.name,value:y.name}):{};var y;const v=e.branches&&e.branches.length>0,I=e.isLoading||v&&!p().get(b,"name"),E=!t||u||g||I,_=(0,o.useCallback)(p().debounce((t=>m(this,void 0,void 0,(function*(){if(f(!0),!e.doesBranchExist||!t)return h(!1),void f(!1);const n=yield e.doesBranchExist(t);h(n),f(!1)}))),1e3),[e.doesBranchExist]);return(0,o.useEffect)((()=>{f(!0),_(t)}),[t]),o.createElement(s.Modal,{isOpen:e.isOpen,onClose:e.onCancel,size:"small"},o.createElement(s.ModalHeader,{heading:"Create a new branch"}),o.createElement(s.ModalContent,{direction:"column",padding:{paddingTop:"spacing-xs",paddingBottom:"spacing-xxl",paddingLeft:"spacing-xl",paddingRight:"spacing-xl"},alignItems:"center",gap:"spacing-xl"},o.createElement("div",null,o.createElement(i.default,{color:"content-color-secondary",typographyStyle:{fontWeight:"text-weight-medium"}},"Source branch"),e.branchSelectorDropdown),o.createElement("div",null,o.createElement(a.default,{id:"api-repo-integration__branch-create-form__branch-input",placeholder:I?"Select a source branch..":"Name new branch..",label:o.createElement(r.default,{text:"Branch name",fieldType:"required"}),value:t,onChange:e=>{n(p().get(e,"target.value","").replace(" ","-"))},isDisabled:I}),u&&t&&o.createElement("div",{className:`${e.parentClassName}__error__alt ${e.parentClassName}__error`},o.createElement(d.default,{className:`${e.parentClassName}__error__icon`,color:"content-color-error"}),o.createElement("span",{className:`${e.parentClassName}__error__message`},"Branch name already exists. Choose another branch name.")))),o.createElement(s.ModalFooter,null,o.createElement(l.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-s",padding:{paddingTop:"spacing-xl"}},o.createElement(c.default,{type:"secondary",text:"Cancel",isDisabled:e.isLoading,onClick:e.onCancel}),o.createElement(c.default,{type:"primary",text:"Confirm",isDisabled:E,isLoading:e.isLoading,onClick:()=>e.onSubmit({id:t,name:t},b)}))))}},"./api-dev/components/api-version/common/RemoveEntity/RemoveEntity.tsx":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke-small.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/CurrentUserStore.js"),d=n("./api-dev/util/TooltipText.js"),u=n("./js/stores/SyncStatusStore.js"),p=n("./api-dev/constants/Permissions.js"),m=n("./node_modules/lodash/lodash.js"),h=function(e,t,n,o){var s,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};let g=class extends o.Component{constructor(e){super(e),this.onRemove=this.onRemove.bind(this)}onRemove(){if(!(0,l.resolveStoreInstance)(c.default).isLoggedIn)return pm.mediator.trigger("showSignInModal",{type:"removeEntity",origin:"api_builder_remove_entity_button",continueUrl:new URL(window.location.href)});m.isFunction(this.props.onRemoveEntity)&&this.props.onRemoveEntity(this.props.entity)}render(){const e=!(0,l.resolveStoreInstance)(u.default).isSocketConnected,t=this.props.isAPIDeleted,n=e||t,s=t&&p.DELETED_API_DISABLED_TEXT,c=this.props.isSmall?"small":"medium",h=this.props.canRemoveEntity,g=m.get(this.props,"tooltipPosition","right"),f=(0,d.default)(n,!this.props.canRemoveEntity,s)||"Delete";return h?o.createElement(i.default,{type:"tertiary",className:`api-dev-table-row__delete ${c}`,size:c,onClick:this.onRemove,isDisabled:n,tooltip:o.createElement(a.default,{content:f,placement:g}),icon:o.createElement(r.default,null)}):null}};g=h([s.observer],g),t.default=g},"./api-dev/components/api/EmptyAPI/EmptyAPI.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,{EmptyAPI:function(){return g},withRFADescription:function(){return m},withoutRFADescription:function(){return h}});var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),r=n("./api-dev/interfaces/APIInterface.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/CurrentUserStore.js"),d=n("./js/stores/SyncStatusStore.js"),u=n("./js/services/CurrentUserDetailsService.js"),p=n("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts");const m="You can only view published versions of an API. Request for edit access to build this API with your teammates.",h="You can only view published versions of an API.",g=e=>{const t=(0,l.resolveStoreInstance)(c.default).isLoggedIn,n=u.default.teamId===((0,l.resolveStoreInstance)(p.default)||{}).team,g=t&&n,f=!(0,l.resolveStoreInstance)(d.default).isSocketConnected;return o.createElement(s.default,{title:"This API doesnt have any published versions",description:g?m:h,secondaryAction:g?o.createElement(i.default,{type:"primary",onClick:()=>(0,r.requestAccessOnAPI)(e.apiId),text:"Request Edit Access",isDisabled:f,"data-testid":"request-edit-access-button"}):null},o.createElement(a.default,null))}},"./api-dev/components/api/api-tab/tiles/PowerUpYourAPI/TestAndAutomation/constants.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{CI_POWER_UP_FIELDS:function(){return o}});const o=["CI Project","Source"]},"./api-dev/components/common/DeleteModalContent/DeleteModalContent.tsx":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),r=n("./api-dev/util/EntityHelper.ts"),l=n("./node_modules/lodash/lodash.js"),c=n.n(l);class d extends o.Component{constructor(){super(...arguments),this.getContent=e=>{switch(e){case"api":return{body:"This will delete the API and all the versions and linked elements - documentation, environments, tests, mock servers and monitors added to this API.",banner:"You cannot restore this API once deleted. Only test and documentation collections can be restored from trash."};case"version":return{body:"This will delete the API version and all the elements - documentation, environments, tests, mock servers and monitors added to this API.",banner:"You cannot restore this API version once deleted. Only test and documentation collections can be restored from trash."};case"relation":const{relation:e}=this.props;if(!e)break;const t=(0,r.getUserFriendlyNameFromType)(e.type);return{body:[`This will only remove ${e.name} ${t} from this API version.`,`Once removed from API, people will no longer inherit roles on this ${t} from the API.`],banner:""}}return{body:"",banner:""}}}render(){const{banner:e,body:t}=this.getContent(this.props.type);return o.createElement(s.default,{direction:"column",gap:"spacing-l"},c().isString(t)&&o.createElement(i.default,null,t),c().isArray(t)&&t.map((e=>o.createElement(i.default,{key:e},e))),e&&o.createElement(a.default,{status:"error"},e))}}t.default=d},"./api-dev/components/common/RepoInfoAndPatTextInputContainer/RepoInfoAndPatTextInputContainer.tsx":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),p=n("./appsdk/components/link/Link.js"),m=n("./js/services/NavigationService.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/TeamSettingsStore.js"),f=n("./node_modules/lodash/lodash.js"),b=n.n(f);const y=e=>{const[t,n]=(0,o.useState)(""),[s,i]=(0,o.useState)(null),{repositoryLink:f,repositoryName:y,customDomain:v,service:I,userId:E,handleAccessTokenChange:_,authenticationError:S}=e;return(0,o.useEffect)((()=>{i((e=>{const t=b().get((0,h.resolveStoreInstance)(g.default),"teamStore.allTeamMembers",[]).find((({id:t})=>t==e));return b().get(t,"name","team")})(E))}),[E]),o.createElement(o.Fragment,null,!f&&o.createElement(r.default,{direction:"column",gap:"spacing-xs"},o.createElement(l.default,{type:"h6",text:"Domain"}),(e=>o.createElement(p.default,{to:`${e}`,target:"_blank"},o.createElement(a.default,{type:"link-subtle",isTruncated:!0,isExternal:!0},e)))(v)),o.createElement(r.default,{direction:"column",gap:"spacing-xs"},o.createElement(l.default,{type:"h6",text:`Repository (connected by ${s})`}),((e,t)=>e?o.createElement(p.default,{to:`${e}`,target:"_blank"},o.createElement(a.default,{type:"link-subtle",isTruncated:!0},`${e}`)):o.createElement(a.default,{color:"content-color-secondary",isTruncated:!0},`${t}`))(f,y)),o.createElement(r.default,{direction:"column",gap:"spacing-xs"},o.createElement(r.default,{direction:"column"},o.createElement(c.default,{text:"Personal Access Token"}),o.createElement(a.default,{type:"body-medium",color:"content-color-secondary"},`Please grant ${I.scopes} scope(s) while`,"",o.createElement(d.default,{type:"monochrome-plain",text:"creating an access token.",onClick:()=>{m.default.openURL(I.createTokenLink,{target:"__blank"})}}))),o.createElement(u.default,{type:"password",entityName:"Personal access token",value:t,validationStatus:S?"error":null,validationMessage:S||null,onClear:()=>{n(""),_("")},onChange:e=>{n(e.target.value),_(e.target.value)}})))};y.propTypes={userId:i().string.isRequired,repositoryLink:i().string.isRequired,repositoryName:i().string.isRequired,customDomain:i().string.isRequired,service:i().object.isRequired,authenticationError:i().string.isRequired,handleAccessTokenChange:i().func.isRequired},t.default=y},"./api-dev/components/common/RepositoryHeaderMenu/RepositoryHeaderMenu.tsx":function(e,t,n){"use strict";n.r(t);var o=n("../../node_modules/react/index.js"),s=n("./node_modules/prop-types/index.js"),i=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/Menu.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuButton.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuList.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Menu/MenuItem.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-options-stroke.js"),p=n("./js/utils/openSettings.js"),m=n("./js/constants/SettingsTypeConstants.js"),h=n("./integrations/git/constants.js"),g=n("./node_modules/lodash/lodash.js"),f=n.n(g);const b=()=>{(0,p.default)(null,m.SETTINGS_CONNECTED_ACCOUNTS)},y=e=>{const{apiRepositoryStore:t,setIsDisconnectLocalGitModalOpen:n,setIsDisconnectRemoteGitModalOpen:s}=e,i=f().get(t,"apiVersionRepositoryInterface"),p=f().get(i,"isIntegrationListingBlocked"),m=f().get(i,"isIntegrationTypeSupported"),g=f().get(i,"isUserAuthEmpty"),y=f().get(i,"authCategory"),v=f().get(i,"localGitConfigured"),I=!p&&m&&y===h.AUTH_CATEGORY.PAT_LOCAL&&!g;return o.createElement(a.default,null,o.createElement(r.default,null,o.createElement(l.default,{icon:o.createElement(u.default,null),type:"tertiary"})),o.createElement(c.default,{placement:"bottom-end"},I&&o.createElement(d.default,{onClick:b},"Manage repository access"),v&&o.createElement(d.default,{onClick:()=>{n(!0)}},"Disconnect from Local File System"),o.createElement(d.default,{type:"destructive",onClick:()=>{s(!0)}},"Disconnect repository")))};y.propTypes={apiRepositoryStore:i().object.isRequired,setIsDisconnectLocalGitModalOpen:i().func.isRequired,setIsDisconnectRemoteGitModalOpen:i().func.isRequired},t.default=y},"./api-dev/util/EntityHelper.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{getUserFriendlyNameFromType:function(){return s}});const o={environment:"environment",mock:"mock server",monitor:"monitor",uptimemonitor:"uptime monitor",collection:"collection",documentation:"documentation",test:"test",schema:"schema",apiDefinition:"definition",unclassified:"unclassified"},s=e=>e?o[e]:""},"./integrations/ci-cd/constants.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{AETHER_BADGE_STATUS:function(){return N},ALL_CI_INTEGRATION_CLASSES:function(){return b},ALL_TESTS:function(){return a},API_SCHEMA_DEFAULT_NAME:function(){return x},BITBUCKET_PIPELINES_CLASS_ID:function(){return p},BUILD_FILTER_STATUS:function(){return R},BUILD_STATUS_TO_BADGE_TYPE_MAP:function(){return D},BUILD_STATUS_TO_FILTER_STATUS_MAP:function(){return P},CANCELLABLE_OUTCOMES:function(){return M},CIRCLE_CI_CLASS_ID:function(){return d},CI_CD_BUILDS:function(){return r},CI_CD_CLIENT_CATEGORY:function(){return l},COMPACT_VIEW_BUILDS_LIMIT:function(){return s},COMPACT_VIEW_DEFAULT_OFFSET:function(){return i},DEVOPS_CI_CLASS_ID:function(){return g},ERRORS:function(){return j},ERROR_INTEGRATION_NOT_FOUND:function(){return S},ERROR_UNABLE_TO_GET_INTEGRATION_DATA:function(){return C},GENERATE_API_KEY_URL:function(){return I},GITHUB_CI_CLASS_ID:function(){return f},GITLAB_CI_CLASS_ID:function(){return h},GITLAB_SELF_HOSTED_CLASS_ID:function(){return m},INITIALS_TO_EXPANDED:function(){return L},JENKINS_CLASS_ID:function(){return u},NEWMAN_TOOLTIP_URL:function(){return E},NEWMAN_URL:function(){return y},NOT_AN_API_EDITOR:function(){return T},POSTMAN_CLI_TOOLTIP_URL:function(){return _},POSTMAN_CLOUD_REPORTER_LINK:function(){return v},RULE_TO_OAUTH_SERVICE_MAPPING:function(){return w},RULE_TO_SERVICE:function(){return A},RULE_TO_TEMPLATE:function(){return O},TEST_AND_AUTOMATION_VIEW:function(){return k},TRAVIS_CLASS_ID:function(){return c},errorContext:function(){return o}});const o=pm.logger.getContext("CI CD Integration","integrations"),s=5,i=0,a="all",r="ci-builds",l="continuous-integration",c="travis_ci",d="circle_ci",u="jenkins_ci",p="bitbucket_pipelines",m="gitlab_selfhosted_ci",h="gitlab_ci",g="devops_pipelines",f="github_ci",b=[c,d,u,p,m,h,g,f],y="https://go.pstmn.io/newman-config-for-ci-cd",v="https://go.pstmn.io/newman-reporter-postman-cloud",I="https://go.pstmn.io/docs-postman-api-key",E="https://go.pstmn.io/newman-config-tooltip",_="https://go.pstmn.io/postman-cli-config-tooltip",S={TITLE:"CI Integration not found",DESCRIPTION:"The integration you are looking for might have been deleted."},C={TITLE:"Unable to get integration details",DESCRIPTION:"Something went wrong while fetching details for your integration."},T={TITLE:"",DESCRIPTION:"You do not have permission to view this page."},j={UNABLE_TO_FETCH_PROJECTS:"Error occurred while fetching projects",FETCH_PROJECTS_AUTHENTICATION_ERROR:"Unable to fetch projects, invalid access token supplied",UNABLE_TO_FETCH_CLASS_DATA:"Something went wrong while fetching integration details, please try again"},A={devops_pipelines:"Azure Pipelines",travis_ci:"Travis CI",circle_ci:"CircleCI",jenkins_ci:"Jenkins",bitbucket_pipelines:"Bitbucket Pipelines",gitlab_ci:"GitLab SaaS",gitlab_selfhosted_ci:"GitLab Self-managed",github_ci:"GitHub Actions"},w={[p]:"bitbucket",[h]:"gitlab",[m]:"gitlabenterprise",[f]:"github",[g]:"azure"},O={[p]:"bitbucket-pipelines",[u]:"jenkins",[c]:"travis",[d]:"circleci",[h]:"gitlab",[g]:"azure-pipelines",[f]:"github-actions",local:"local-env"},N={NEUTRAL:"neutral",SUCCESS:"success",INFO:"info",WARNING:"warning",CRITICAL:"critical",NEW:"new",COUNT:"count"},D={passed:N.SUCCESS,success:N.SUCCESS,successful:N.SUCCESS,succeeded:N.SUCCESS,stopped:N.WARNING,partiallySucceeded:N.WARNING,failed:N.CRITICAL,failure:N.CRITICAL,"not running":N.CRITICAL,canceled:N.NEUTRAL,cancelled:N.NEUTRAL,unstable:N.CRITICAL,"not built":N.CRITICAL,aborted:N.NEUTRAL,errored:N.CRITICAL,building:N.NEUTRAL,queued:N.NEUTRAL,created:N.NEUTRAL,running:N.NEUTRAL,in_progress:N.NEUTRAL,pending:N.NEUTRAL,"waiting for resource":N.NEUTRAL,preparing:N.NEUTRAL,skipped:N.NEUTRAL,manual:N.NEUTRAL,scheduled:N.NEUTRAL,started:N.NEUTRAL,inProgress:N.NEUTRAL,notStarted:N.NEUTRAL,received:N.NEUTRAL,none:N.NEUTRAL},R={SUCCESS:"Success",FAILED:"Failed",DEFAULT:"Other"},P={passed:R.SUCCESS,success:R.SUCCESS,successful:R.SUCCESS,succeeded:R.SUCCESS,completed:R.SUCCESS,failed:R.FAILED,failure:R.FAILED},M={[p]:["RUNNING","CREATED"],[h]:["running","created","pending","preparing","scheduled"],[m]:["running","created","pending","preparing","scheduled"],[c]:["created","received","started"],[d]:["running","queued","on_hold"],[g]:["notStarted","inProgress","postponed"],[f]:["queued","in_progress"]},L={bb:"bitbucket.com",gh:"github.com"},x="Postman API Schema",k="tests"},"./integrations/ci-cd/services/DevOps.ts":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/date-fns/esm/differenceInMilliseconds/index.js"),s=n("./node_modules/date-fns/esm/parseISO/index.js"),i=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),a=function(e,t,n,o){return new(n||(n=Promise))((function(s,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function r(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((o=o.apply(e,t||[])).next())}))};const{getRepositories:r,getOrgs:l}=n("./api-dev/services/IntegrationService.js").default,{getBuildFilterStatus:c,getCollectionRunStatusSummary:d,convertNewmanRunMetrics:u}=n("./integrations/ci-cd/helpers.js"),p="list_builds",m="cancel_build",h="newman_template",g=pm.logger.getContext("DevOps","Integrations"),f=(e,t)=>{if(!e||!t)return null;const n=(0,s.default)(e),i=(0,s.default)(t);return(0,o.default)(i,n)};t.default={fetchOrganizations:e=>a(void 0,void 0,void 0,(function*(){const{orgs:t}=yield l(e,null);return t})),fetchRepositories:(e,t)=>a(void 0,void 0,void 0,(function*(){const{repositories:n}=yield r(e,t,null);return n.map((e=>{return{id:e.id,name:e.name,projectName:(t=e.full_name,t.split("/")[0])};var t}))})),getBuilds:({limit:e,offset:t,integrationId:n})=>a(void 0,void 0,void 0,(function*(){var o;try{const{body:s}=yield i.default.triggerIntegrationOnDemand(n,p,{inputs:{limit:e,offset:t}}),a=s?s.devOpsBuilds:null,r=s?s.newmanRuns:null,l=!0,m=(null!==(o=null==a?void 0:a.value)&&void 0!==o?o:[]).map((e=>{var t,n,o;const s=(i=e,(null!=r?r:[]).filter((e=>e.build===i.id.toString())).map(u));var i,a,p,m;return{id:e.id,branch:(m=e.sourceBranch,m.replace(/^\/?(refs\/)?(heads)?\/?/g,"")),build_url:e._links.web.href,buildNumber:e.buildNumber,build_num:(a=e.buildNumber,p=null===(t=e.definition)||void 0===t?void 0:t.name,p?`${p}: ${a}`:a),showCollectionRuns:l,showBuildSteps:!1,collectionRunSummary:d(s),collectionRunDetails:s,duration:f(e.startTime,e.finishTime),buildIdentifier:e.id,filterStatus:c(e.result),outcome:null!==(n=e.result)&&void 0!==n?n:e.status,start_time:null!==(o=e.startTime)&&void 0!==o?o:null}}));return m}catch(e){throw pm.logger.error("DevOps.getBuilds ~ Error occurred while fetching projects",e,{context:g}),e}})),triggerBuild:void 0,cancelBuild:(e,t)=>a(void 0,void 0,void 0,(function*(){return yield i.default.triggerIntegrationOnDemand(e,m,{inputs:{build_id:t.id}}),!0})),getBuildSteps:void 0,getNewmanConfig:e=>a(void 0,void 0,void 0,(function*(){try{const{body:t}=yield i.default.triggerIntegrationOnDemand(e,h);return t}catch(e){throw pm.logger.error("DevOps.getNewmanConfig ~ Error occurred while fetching newman config",e,{context:g}),e}})),getAddIntegrationPayload:(e,t,n,o,s,i,a,r,l)=>({classId:null==l?void 0:l.id,name:e,inputs:{api_id:o,organization:t,apiversion:s,oauth_token_id:n,project_name:i,repository_id:a,repository_name:r}}),getBranches:()=>Promise.resolve([])}},"./integrations/ci-cd/services/index.ts":function(e,t,n){"use strict";n.r(t);var o=n("./integrations/ci-cd/constants.ts"),s=n("./integrations/ci-cd/services/Circleci.js"),i=n("./integrations/ci-cd/services/DevOps.ts"),a=n("./integrations/ci-cd/services/TravisCI.js"),r=n("./integrations/ci-cd/services/JenkinsCI.js"),l=n("./integrations/ci-cd/services/BitbucketCI.js"),c=n("./integrations/ci-cd/services/GitLabCI.js"),d=n("./integrations/ci-cd/services/GithubCI.js");t.default={[o.CIRCLE_CI_CLASS_ID]:s.default,[o.TRAVIS_CLASS_ID]:a.default,[o.JENKINS_CLASS_ID]:r.default,[o.BITBUCKET_PIPELINES_CLASS_ID]:l.default,[o.GITLAB_CI_CLASS_ID]:c.default,[o.GITLAB_SELF_HOSTED_CLASS_ID]:c.default,[o.DEVOPS_CI_CLASS_ID]:i.default,[o.GITHUB_CI_CLASS_ID]:d.default}},"./integrations/git/services/OnPrem/helpers.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{getBaseEnterpriseURL:function(){return a}});var o=n("./integrations/git/services/OnPrem/Azure/helpers.ts"),s=n("./integrations/git/services/OnPrem/Azure/constants.ts"),i=n("./node_modules/lodash/lodash.js");const a=(e,t)=>{if(i.isEmpty(e))throw{error:{name:"badRequest",message:"Input URL is required to get base Enterprise URL.",title:"Missing input URL",details:"Empty URL provided"}};let n=new URL(e).origin;return t===s.SERVICE&&(n=(0,o.getBaseURLWithCollectionName)(e)),n}},"./integrations/models/IntegrationClass.ts":function(e,t,n){"use strict";n.r(t)},"./integrations/models/LinkToProps.ts":function(e,t,n){"use strict";n.r(t)},"./integrations/monitors/runs/services/MonitorRunsService.ts":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts");t.default={getMonitorRuns:e=>{let t=`/jobTemplates/${e}/jobs`;return new Promise(((e,n)=>{o.HTTPGatewayService.request({data:{service:"monitors",method:"get",path:t}}).then((t=>{if(!t.status||200!==t.status)throw t;e(t.body)})).catch((e=>{n(e)}))}))}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/FormUpdateChecker.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{isFormUpdated:function(){return i}});var o=n("./node_modules/lodash/lodash.js"),s=n.n(o);function i(e,t){const n=s().pick(t,s().keys(e));return!s().isEqual(e,n)}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s);const a="integrations",r="/integration-instances",l="/bulk";t.default={fetchIntegrationInstanceDetails(e,t){const n=`/integration-instances/${e}`;return o.HTTPGatewayService.request({data:{service:a,method:"get",path:n,query:t}})},getConfiguredIntegrationsForAnEntity(e,t,n){const s=i().join(n,",");return o.HTTPGatewayService.request({data:{service:a,method:"get",path:"/integration-instances",query:{entityType:e,entityId:t,clientCategory:s}}})},createIntegrationInstance(e,t,n){const s=i().map(n,((e,t)=>({key:t,value:e})));return o.HTTPGatewayService.request({data:{service:a,method:"post",path:"/integration-instances",body:{class:e,name:t,inputs:s}}})},createIntegrationInstanceBulk(e){const t=r+l;return o.HTTPGatewayService.request({data:{service:a,method:"post",path:t,body:e}})},updateIntegrationInstance(e,t,n){const s=`/integration-instances/${e}`,r=i().map(n,((e,t)=>({key:t,value:e}))),l={};return i().isNil(t)||(l.name=t),i().isEmpty(r)||(l.inputs=r),o.HTTPGatewayService.request({data:{service:a,method:"put",path:s,body:l}})}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/services/ServiceActionsService.ts":function(e,t,n){"use strict";n.r(t);var o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts"),s=n("./node_modules/lodash/lodash.js"),i=n.n(s),a=function(e,t,n,o){return new(n||(n=Promise))((function(s,i){function a(e){try{l(o.next(e))}catch(e){i(e)}}function r(e){try{l(o.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}l((o=o.apply(e,t||[])).next())}))};t.default={runServiceAction(e,t,n,s,i,r){return a(this,void 0,void 0,(function*(){const a=`/services/${e}/actions/${t}/run`;return yield o.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:a,body:{integration:{instanceId:r||void 0,classId:s,classInputId:i},inputs:n}}})}))},getValidationError(e,t,n){return a(this,void 0,void 0,(function*(){if(i().isEmpty(e.validator)||this.state.inputErrors[e.key])return Promise.resolve();const o=e.validator,s=i().map(n,(n=>n.key===e.key?Object.assign(Object.assign({},n),{value:t}):n)),a=yield this.runServiceAction(o.service,o.serviceActionId,s,e.integrationClass,e.id,null),r=i().get(a,"body",!0);if("boolean"==typeof r&&r||i().isObject(r)&&(i().isEmpty(r)||i().isEqual(i().keys(r),["error"]))||i().isString(r)&&(i().isEmpty(r)||"true"===r.toLowerCase()))return Promise.resolve();let l="This field isn't valid";return i().isString(r)?l="false"===r.toLowerCase()?l:r:i().isObject(r)&&(l=r.message||r.msg||l),Promise.resolve(l)}))}}},"./api-dev/public/assets/images/AI.svg":function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzMyODFfNDk2MykiPgo8cGF0aCBkPSJNMjguOTcyNCAxMS4zNjc3QzI4LjY0NTYgOS4zNDY0NiAyNy44MDIzIDcuNDM2NSAyNi41MTk1IDUuODExNzRDMjUuMjM2NyA0LjE4Njk5IDIzLjU1NSAyLjg5OTA1IDIxLjYyNzUgMi4wNjUxNUMxOS43IDEuMjMxMjYgMTcuNTg3OSAwLjg3NzkxMyAxNS40ODM2IDEuMDM3MjdDMTMuMzc5MiAxLjE5NjYyIDExLjM0OTQgMS44NjM2MyA5LjU3ODkxIDIuOTc3NTVDNy44MDg0MSA0LjA5MTQ4IDYuMzUzNDcgNS42MTY5NSA1LjM0NjUzIDcuNDE1MUM0LjMzOTU5IDkuMjEzMjUgMy44MTI2MyAxMS4yMjcgMy44MTM2MyAxMy4yNzI5VjE0LjYzNjZMMSAyMC4wOTFMNC41IDIxLjVMNCAyNS41QzQgMjYuMjIzMyA0LjExMDA2IDI2Ljk2MjUgNC42Mzc3MiAyNy40NzRDNS4xNjUzNyAyNy45ODU0IDUuODgxMDMgMjguMjcyOCA2LjYyNzI1IDI4LjI3MjhIMTIuMjU0NVYzMSIgc3Ryb2tlPSIjNkI2QjZCIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTggMTVIMjZDMjcuMTA0NiAxNSAyOCAxNS44OTU0IDI4IDE3VjI1QzI4IDI2LjEwNDYgMjcuMTA0NiAyNyAyNiAyN0gxOEMxNi44OTU0IDI3IDE2IDI2LjEwNDYgMTYgMjVWMTdDMTYgMTUuODk1NCAxNi44OTU0IDE1IDE4IDE1Wk0yMCAxOUgyNFYyM0gyMFYxOVoiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zMjgxXzQ5NjMpIi8+CjxwYXRoIGQ9Ik0yNCAxOUgyNC43NUMyNC43NSAxOC41ODU4IDI0LjQxNDIgMTguMjUgMjQgMTguMjVWMTlaTTIwIDE5VjE4LjI1QzE5LjU4NTggMTguMjUgMTkuMjUgMTguNTg1OCAxOS4yNSAxOUgyMFpNMjQgMjNWMjMuNzVDMjQuNDE0MiAyMy43NSAyNC43NSAyMy40MTQyIDI0Ljc1IDIzSDI0Wk0yMCAyM0gxOS4yNUMxOS4yNSAyMy40MTQyIDE5LjU4NTggMjMuNzUgMjAgMjMuNzVWMjNaTTI2IDE0LjI1SDE4VjE1Ljc1SDI2VjE0LjI1Wk0yOC43NSAxN0MyOC43NSAxNS40ODEyIDI3LjUxODggMTQuMjUgMjYgMTQuMjVWMTUuNzVDMjYuNjkwNCAxNS43NSAyNy4yNSAxNi4zMDk2IDI3LjI1IDE3SDI4Ljc1Wk0yOC43NSAyNVYxN0gyNy4yNVYyNUgyOC43NVpNMjYgMjcuNzVDMjcuNTE4OCAyNy43NSAyOC43NSAyNi41MTg4IDI4Ljc1IDI1SDI3LjI1QzI3LjI1IDI1LjY5MDQgMjYuNjkwNCAyNi4yNSAyNiAyNi4yNVYyNy43NVpNMTggMjcuNzVIMjZWMjYuMjVIMThWMjcuNzVaTTE1LjI1IDI1QzE1LjI1IDI2LjUxODggMTYuNDgxMiAyNy43NSAxOCAyNy43NVYyNi4yNUMxNy4zMDk2IDI2LjI1IDE2Ljc1IDI1LjY5MDQgMTYuNzUgMjVIMTUuMjVaTTE1LjI1IDE3VjI1SDE2Ljc1VjE3SDE1LjI1Wk0xOCAxNC4yNUMxNi40ODEyIDE0LjI1IDE1LjI1IDE1LjQ4MTIgMTUuMjUgMTdIMTYuNzVDMTYuNzUgMTYuMzA5NiAxNy4zMDk2IDE1Ljc1IDE4IDE1Ljc1VjE0LjI1Wk0yNCAxOC4yNUgyMFYxOS43NUgyNFYxOC4yNVpNMjQuNzUgMjNWMTlIMjMuMjVWMjNIMjQuNzVaTTIwIDIzLjc1SDI0VjIyLjI1SDIwVjIzLjc1Wk0xOS4yNSAxOVYyM0gyMC43NVYxOUgxOS4yNVoiIGZpbGw9IiM2QjZCNkIiLz4KPHBhdGggZD0iTTIwIDE0Ljc2MzJWMTIiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjAgMzBWMjcuMjM2OCIgc3Ryb2tlPSIjNkI2QjZCIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yNCAxNC43NjMyVjEyIiBzdHJva2U9IiM2QjZCNkIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTI0IDMwVjI3LjIzNjgiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjggMTlMMzEgMTkiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTMgMTlMMTYgMTkiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjggMjNMMzEgMjMiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTMgMjNMMTYgMjMiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L2c+CjxkZWZzPgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzI4MV80OTYzIiB4MT0iMjIiIHkxPSIxNSIgeDI9IjIyIiB5Mj0iMjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y5OTg0RCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNFRkI1NjMiLz4KPC9saW5lYXJHcmFkaWVudD4KPGNsaXBQYXRoIGlkPSJjbGlwMF8zMjgxXzQ5NjMiPgo8cmVjdCB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="},"./api-dev/public/assets/images/Log.svg":function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIwIDMwLjY2NjdWMjIuNjY2N0gyOCIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzMxODhfNDg4NikiLz4KPHBhdGggZD0iTTIwIDMwLjY2NjdWMjIuNjY2N0gyOCIgc3Ryb2tlPSIjNkI2QjZCIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0yMCAzMC42NjY3SDRWMS4zMzMzNEgyOFYyMi42NjY3TDIwIDMwLjY2NjdaIiBzdHJva2U9IiM2QjZCNkIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTIzLjMzMzMgOEgxNi42NjY3IiBzdHJva2U9IiM2QjZCNkIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTIzLjMzMzMgMTZIMTYuNjY2NyIgc3Ryb2tlPSIjNkI2QjZCIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xOCAyNEgxNi42NjY3IiBzdHJva2U9IiM2QjZCNkIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTguNjY2NjYgOEw5Ljk5OTk5IDkuMzMzMzNMMTMuMzMzMyA2IiBzdHJva2U9IiM2QjZCNkIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTguNjY2NjYgMTZMOS45OTk5OSAxNy4zMzMzTDEzLjMzMzMgMTQiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTAuNjY2NyAyNkMxMS44IDI2IDEyLjY2NjcgMjUuMTMzMyAxMi42NjY3IDI0QzEyLjY2NjcgMjIuODY2NyAxMS44IDIyIDEwLjY2NjcgMjJDOS41MzMzMiAyMiA4LjY2NjY2IDIyLjg2NjcgOC42NjY2NiAyNEM4LjY2NjY2IDI1LjEzMzMgOS41MzMzMiAyNiAxMC42NjY3IDI2WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzMxODhfNDg4NikiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzMxODhfNDg4NiIgeDE9IjI0IiB5MT0iMjIuNjY2NyIgeDI9IjI0IiB5Mj0iMzAuNjY2NyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgo8c3RvcCBzdG9wLWNvbG9yPSIjRUU3QzQ4Ii8+CjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0VEQUE1MiIvPgo8L2xpbmVhckdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXJfMzE4OF80ODg2IiB4MT0iMTAuNjY2NyIgeTE9IjIyIiB4Mj0iMTAuNjY2NyIgeTI9IjI2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNFRTdDNDgiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRURBQTUyIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg=="},"./api-dev/public/assets/images/postman-API.svg":function(e){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAyMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuNDY2NjcgMTcuMzMzM0MzLjEzMzMzIDE2LjA2NjcgMi4yNjY2NyAxNC40IDEuODY2NjcgMTIuNTMzM0MxLjQ2NjY3IDEwLjczMzMgMS42NjY2NyA4LjggMi4zMzMzMyA3LjEzMzM0QzMuMDY2NjcgNS40IDQuMiAzLjkzMzM0IDUuOCAyLjkzMzM0QzcuMzMzMzMgMS44NjY2NyA5LjEzMzMzIDEuMzMzMzQgMTEgMS4zMzMzNEMxMi44NjY3IDEuMzMzMzQgMTQuNjY2NyAxLjg2NjY3IDE2LjIgMi45MzMzNEMxNy43MzMzIDQgMTguOTMzMyA1LjQ2NjY3IDE5LjY2NjcgNy4xMzMzNEMyMC40IDguODY2NjcgMjAuNTMzMyAxMC43MzMzIDIwLjEzMzMgMTIuNTMzM0MxOS43MzMzIDE0LjMzMzMgMTguODY2NyAxNiAxNy41MzMzIDE3LjMzMzMiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTEgMTQuNjY2N0MxMy4yIDE0LjY2NjcgMTUgMTIuODY2NyAxNSAxMC42NjY3QzE1IDguNDY2NjcgMTMuMiA2LjY2NjY3IDExIDYuNjY2NjdDOC44IDYuNjY2NjcgNyA4LjQ2NjY3IDcgMTAuNjY2N0M3IDEyLjg2NjcgOC44IDE0LjY2NjcgMTEgMTQuNjY2N1oiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zMTg4XzQ5NDMpIiBzdHJva2U9IiM2QjZCNkIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTExIDIxLjMzMzNDMTIuMTMzMyAyMS4zMzMzIDEzIDIwLjQ2NjcgMTMgMTkuMzMzM0MxMyAxOC4yIDEyLjEzMzMgMTcuMzMzMyAxMSAxNy4zMzMzQzkuODY2NjcgMTcuMzMzMyA5IDE4LjIgOSAxOS4zMzMzQzkgMjAuNDY2NyA5Ljg2NjY3IDIxLjMzMzMgMTEgMjEuMzMzM1oiIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMTEgMzAuNjY2N0MxMi4xMzMzIDMwLjY2NjcgMTMgMjkuOCAxMyAyOC42NjY3QzEzIDI3LjUzMzMgMTIuMTMzMyAyNi42NjY3IDExIDI2LjY2NjdDOS44NjY2NyAyNi42NjY3IDkgMjcuNTMzMyA5IDI4LjY2NjdDOSAyOS44IDkuODY2NjcgMzAuNjY2NyAxMSAzMC42NjY3WiIgc3Ryb2tlPSIjNkI2QjZCIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0zLjY2NjY2IDI4LjY2NjdDNC44IDI4LjY2NjcgNS42NjY2NiAyNy44IDUuNjY2NjYgMjYuNjY2N0M1LjY2NjY2IDI1LjUzMzMgNC44IDI0LjY2NjcgMy42NjY2NiAyNC42NjY3QzIuNTMzMzMgMjQuNjY2NyAxLjY2NjY2IDI1LjUzMzMgMS42NjY2NiAyNi42NjY3QzEuNjY2NjYgMjcuOCAyLjUzMzMzIDI4LjY2NjcgMy42NjY2NiAyOC42NjY3WiIgc3Ryb2tlPSIjNkI2QjZCIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xMSAyMS4zMzMzVjI2LjY2NjciIHN0cm9rZT0iIzZCNkI2QiIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMy42NjY2NiAyNC42NjY3VjIyTDkgMTkuMzMzMyIgc3Ryb2tlPSIjNkI2QjZCIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xOC4zMzMzIDI4LjY2NjdDMTkuNDY2NyAyOC42NjY3IDIwLjMzMzMgMjcuOCAyMC4zMzMzIDI2LjY2NjdDMjAuMzMzMyAyNS41MzMzIDE5LjQ2NjcgMjQuNjY2NyAxOC4zMzMzIDI0LjY2NjdDMTcuMiAyNC42NjY3IDE2LjMzMzMgMjUuNTMzMyAxNi4zMzMzIDI2LjY2NjdDMTYuMzMzMyAyNy44IDE3LjIgMjguNjY2NyAxOC4zMzMzIDI4LjY2NjdaIiBzdHJva2U9IiM2QjZCNkIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE4LjMzMzMgMjQuNjY2N1YyMkwxMyAxOS4zMzMzIiBzdHJva2U9IiM2QjZCNkIiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGRlZnM+CjxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl8zMTg4XzQ5NDMiIHgxPSIxMSIgeTE9IjYuNjY2NjciIHgyPSIxMSIgeTI9IjE0LjY2NjciIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0VFN0M0OCIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNFREFBNTIiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4K"},"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":function(e,t,n){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var o=n("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function s(e){if(Array.isArray(e))return(0,o.default)(e)}},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/createClass.js":function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.r(t),n.d(t,{default:function(){return s}})},"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":function(e,t,n){"use strict";function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/inherits.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var o=n("./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,o.default)(e,t)}},"./node_modules/@babel/runtime/helpers/esm/iterableToArray.js":function(e,t,n){"use strict";function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js":function(e,t,n){"use strict";function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var o=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");function s(e,t){if(null==e)return{};var n,s,i=(0,o.default)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},"./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js":function(e,t,n){"use strict";function o(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var o=n("./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js"),s=n("./node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),i=n("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),a=n("./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js");function r(e){return(0,o.default)(e)||(0,s.default)(e)||(0,i.default)(e)||(0,a.default)()}},"./node_modules/@babel/runtime/helpers/esm/typeof.js":function(e,t,n){"use strict";function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}n.r(t),n.d(t,{default:function(){return o}})},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var o=n("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function s(e,t){if(e){if("string"==typeof e)return(0,o.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,o.default)(e,t):void 0}}},"./node_modules/stylis/src/Enum.js":function(e,t,n){"use strict";n.r(t),n.d(t,{CHARSET:function(){return p},COMMENT:function(){return a},COUNTER_STYLE:function(){return v},DECLARATION:function(){return l},DOCUMENT:function(){return g},FONT_FACE:function(){return y},FONT_FEATURE_VALUES:function(){return I},IMPORT:function(){return u},KEYFRAMES:function(){return b},MEDIA:function(){return d},MOZ:function(){return s},MS:function(){return o},NAMESPACE:function(){return f},PAGE:function(){return c},RULESET:function(){return r},SUPPORTS:function(){return h},VIEWPORT:function(){return m},WEBKIT:function(){return i}});var o="-ms-",s="-moz-",i="-webkit-",a="comm",r="rule",l="decl",c="@page",d="@media",u="@import",p="@charset",m="@viewport",h="@supports",g="@document",f="@namespace",b="@keyframes",y="@font-face",v="@counter-style",I="@font-feature-values"},"./node_modules/stylis/src/Middleware.js":function(e,t,n){"use strict";n.r(t),n.d(t,{middleware:function(){return l},namespace:function(){return u},prefixer:function(){return d},rulesheet:function(){return c}});var o=n("./node_modules/stylis/src/Enum.js"),s=n("./node_modules/stylis/src/Utility.js"),i=n("./node_modules/stylis/src/Tokenizer.js"),a=n("./node_modules/stylis/src/Serializer.js"),r=n("./node_modules/stylis/src/Prefixer.js");function l(e){var t=(0,s.sizeof)(e);return function(n,o,s,i){for(var a="",r=0;r<t;r++)a+=e[r](n,o,s,i)||"";return a}}function c(e){return function(t){t.root||(t=t.return)&&e(t)}}function d(e,t,n,l){if(e.length>-1&&!e.return)switch(e.type){case o.DECLARATION:e.return=(0,r.prefix)(e.value,e.length);break;case o.KEYFRAMES:return(0,a.serialize)([(0,i.copy)(e,{value:(0,s.replace)(e.value,"@","@"+o.WEBKIT)})],l);case o.RULESET:if(e.length)return(0,s.combine)(e.props,(function(t){switch((0,s.match)(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return(0,a.serialize)([(0,i.copy)(e,{props:[(0,s.replace)(t,/:(read-\w+)/,":"+o.MOZ+"$1")]})],l);case"::placeholder":return(0,a.serialize)([(0,i.copy)(e,{props:[(0,s.replace)(t,/:(plac\w+)/,":"+o.WEBKIT+"input-$1")]}),(0,i.copy)(e,{props:[(0,s.replace)(t,/:(plac\w+)/,":"+o.MOZ+"$1")]}),(0,i.copy)(e,{props:[(0,s.replace)(t,/:(plac\w+)/,o.MS+"input-$1")]})],l)}return""}))}}function u(e){if(e.type===o.RULESET)e.props=e.props.map((function(t){return(0,s.combine)((0,i.tokenize)(t),(function(t,n,o){switch((0,s.charat)(t,0)){case 12:return(0,s.substr)(t,1,(0,s.strlen)(t));case 0:case 40:case 43:case 62:case 126:return t;case 58:"global"===o[++n]&&(o[n]="",o[++n]="\f"+(0,s.substr)(o[n],n=1,-1));case 32:return 1===n?"":t;default:switch(n){case 0:return e=t,(0,s.sizeof)(o)>1?"":t;case n=(0,s.sizeof)(o)-1:case 2:return 2===n?t+e+e:t+e;default:return t}}}))}))}},"./node_modules/stylis/src/Parser.js":function(e,t,n){"use strict";n.r(t),n.d(t,{comment:function(){return c},compile:function(){return a},declaration:function(){return d},parse:function(){return r},ruleset:function(){return l}});var o=n("./node_modules/stylis/src/Enum.js"),s=n("./node_modules/stylis/src/Utility.js"),i=n("./node_modules/stylis/src/Tokenizer.js");function a(e){return(0,i.dealloc)(r("",null,null,null,[""],e=(0,i.alloc)(e),0,[0],e))}function r(e,t,n,o,a,u,p,m,h){for(var g=0,f=0,b=p,y=0,v=0,I=0,E=1,_=1,S=1,C=0,T="",j=a,A=u,w=o,O=T;_;)switch(I=C,C=(0,i.next)()){case 40:if(108!=I&&58==O.charCodeAt(b-1)){-1!=(0,s.indexof)(O+=(0,s.replace)((0,i.delimit)(C),"&","&\f"),"&\f")&&(S=-1);break}case 34:case 39:case 91:O+=(0,i.delimit)(C);break;case 9:case 10:case 13:case 32:O+=(0,i.whitespace)(I);break;case 92:O+=(0,i.escaping)((0,i.caret)()-1,7);continue;case 47:switch((0,i.peek)()){case 42:case 47:(0,s.append)(c((0,i.commenter)((0,i.next)(),(0,i.caret)()),t,n),h);break;default:O+="/"}break;case 123*E:m[g++]=(0,s.strlen)(O)*S;case 125*E:case 59:case 0:switch(C){case 0:case 125:_=0;case 59+f:v>0&&(0,s.strlen)(O)-b&&(0,s.append)(v>32?d(O+";",o,n,b-1):d((0,s.replace)(O," ","")+";",o,n,b-2),h);break;case 59:O+=";";default:if((0,s.append)(w=l(O,t,n,g,f,a,m,T,j=[],A=[],b),u),123===C)if(0===f)r(O,t,w,w,j,u,b,m,A);else switch(y){case 100:case 109:case 115:r(e,w,w,o&&(0,s.append)(l(e,w,w,0,0,a,m,T,a,j=[],b),A),a,A,b,m,o?j:A);break;default:r(O,w,w,w,[""],A,0,m,A)}}g=f=v=0,E=S=1,T=O="",b=p;break;case 58:b=1+(0,s.strlen)(O),v=I;default:if(E<1)if(123==C)--E;else if(125==C&&0==E++&&125==(0,i.prev)())continue;switch(O+=(0,s.from)(C),C*E){case 38:S=f>0?1:(O+="\f",-1);break;case 44:m[g++]=((0,s.strlen)(O)-1)*S,S=1;break;case 64:45===(0,i.peek)()&&(O+=(0,i.delimit)((0,i.next)())),y=(0,i.peek)(),f=b=(0,s.strlen)(T=O+=(0,i.identifier)((0,i.caret)())),C++;break;case 45:45===I&&2==(0,s.strlen)(O)&&(E=0)}}return u}function l(e,t,n,a,r,l,c,d,u,p,m){for(var h=r-1,g=0===r?l:[""],f=(0,s.sizeof)(g),b=0,y=0,v=0;b<a;++b)for(var I=0,E=(0,s.substr)(e,h+1,h=(0,s.abs)(y=c[b])),_=e;I<f;++I)(_=(0,s.trim)(y>0?g[I]+" "+E:(0,s.replace)(E,/&\f/g,g[I])))&&(u[v++]=_);return(0,i.node)(e,t,n,0===r?o.RULESET:d,u,p,m)}function c(e,t,n){return(0,i.node)(e,t,n,o.COMMENT,(0,s.from)((0,i.char)()),(0,s.substr)(e,2,-2),0)}function d(e,t,n,a){return(0,i.node)(e,t,n,o.DECLARATION,(0,s.substr)(e,0,a),(0,s.substr)(e,a+1,-1),a)}},"./node_modules/stylis/src/Prefixer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{prefix:function(){return i}});var o=n("./node_modules/stylis/src/Enum.js"),s=n("./node_modules/stylis/src/Utility.js");function i(e,t){switch((0,s.hash)(e,t)){case 5103:return o.WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o.WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o.WEBKIT+e+o.MOZ+e+o.MS+e+e;case 6828:case 4268:return o.WEBKIT+e+o.MS+e+e;case 6165:return o.WEBKIT+e+o.MS+"flex-"+e+e;case 5187:return o.WEBKIT+e+(0,s.replace)(e,/(\w+).+(:[^]+)/,o.WEBKIT+"box-$1$2"+o.MS+"flex-$1$2")+e;case 5443:return o.WEBKIT+e+o.MS+"flex-item-"+(0,s.replace)(e,/flex-|-self/,"")+e;case 4675:return o.WEBKIT+e+o.MS+"flex-line-pack"+(0,s.replace)(e,/align-content|flex-|-self/,"")+e;case 5548:return o.WEBKIT+e+o.MS+(0,s.replace)(e,"shrink","negative")+e;case 5292:return o.WEBKIT+e+o.MS+(0,s.replace)(e,"basis","preferred-size")+e;case 6060:return o.WEBKIT+"box-"+(0,s.replace)(e,"-grow","")+o.WEBKIT+e+o.MS+(0,s.replace)(e,"grow","positive")+e;case 4554:return o.WEBKIT+(0,s.replace)(e,/([^-])(transform)/g,"$1"+o.WEBKIT+"$2")+e;case 6187:return(0,s.replace)((0,s.replace)((0,s.replace)(e,/(zoom-|grab)/,o.WEBKIT+"$1"),/(image-set)/,o.WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return(0,s.replace)(e,/(image-set\([^]*)/,o.WEBKIT+"$1$`$1");case 4968:return(0,s.replace)((0,s.replace)(e,/(.+:)(flex-)?(.*)/,o.WEBKIT+"box-pack:$3"+o.MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o.WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return(0,s.replace)(e,/(.+)-inline(.+)/,o.WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if((0,s.strlen)(e)-1-t>6)switch((0,s.charat)(e,t+1)){case 109:if(45!==(0,s.charat)(e,t+4))break;case 102:return(0,s.replace)(e,/(.+:)(.+)-([^]+)/,"$1"+o.WEBKIT+"$2-$3$1"+o.MOZ+(108==(0,s.charat)(e,t+3)?"$3":"$2-$3"))+e;case 115:return~(0,s.indexof)(e,"stretch")?i((0,s.replace)(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==(0,s.charat)(e,t+1))break;case 6444:switch((0,s.charat)(e,(0,s.strlen)(e)-3-(~(0,s.indexof)(e,"!important")&&10))){case 107:return(0,s.replace)(e,":",":"+o.WEBKIT)+e;case 101:return(0,s.replace)(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o.WEBKIT+(45===(0,s.charat)(e,14)?"inline-":"")+"box$3$1"+o.WEBKIT+"$2$3$1"+o.MS+"$2box$3")+e}break;case 5936:switch((0,s.charat)(e,t+11)){case 114:return o.WEBKIT+e+o.MS+(0,s.replace)(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o.WEBKIT+e+o.MS+(0,s.replace)(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o.WEBKIT+e+o.MS+(0,s.replace)(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return o.WEBKIT+e+o.MS+e+e}return e}},"./node_modules/stylis/src/Serializer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{serialize:function(){return i},stringify:function(){return a}});var o=n("./node_modules/stylis/src/Enum.js"),s=n("./node_modules/stylis/src/Utility.js");function i(e,t){for(var n="",o=(0,s.sizeof)(e),i=0;i<o;i++)n+=t(e[i],i,e,t)||"";return n}function a(e,t,n,a){switch(e.type){case o.IMPORT:case o.DECLARATION:return e.return=e.return||e.value;case o.COMMENT:return"";case o.KEYFRAMES:return e.return=e.value+"{"+i(e.children,a)+"}";case o.RULESET:e.value=e.props.join(",")}return(0,s.strlen)(n=i(e.children,a))?e.return=e.value+"{"+n+"}":""}},"./node_modules/stylis/src/Tokenizer.js":function(e,t,n){"use strict";n.r(t),n.d(t,{alloc:function(){return v},caret:function(){return f},char:function(){return p},character:function(){return l},characters:function(){return c},column:function(){return i},commenter:function(){return A},copy:function(){return u},dealloc:function(){return I},delimit:function(){return E},delimiter:function(){return j},escaping:function(){return T},identifier:function(){return w},length:function(){return a},line:function(){return s},next:function(){return h},node:function(){return d},peek:function(){return g},position:function(){return r},prev:function(){return m},slice:function(){return b},token:function(){return y},tokenize:function(){return _},tokenizer:function(){return C},whitespace:function(){return S}});var o=n("./node_modules/stylis/src/Utility.js"),s=1,i=1,a=0,r=0,l=0,c="";function d(e,t,n,o,a,r,l){return{value:e,root:t,parent:n,type:o,props:a,children:r,line:s,column:i,length:l,return:""}}function u(e,t){return(0,o.assign)(d("",null,null,"",null,null,0),e,{length:-e.length},t)}function p(){return l}function m(){return l=r>0?(0,o.charat)(c,--r):0,i--,10===l&&(i=1,s--),l}function h(){return l=r<a?(0,o.charat)(c,r++):0,i++,10===l&&(i=1,s++),l}function g(){return(0,o.charat)(c,r)}function f(){return r}function b(e,t){return(0,o.substr)(c,e,t)}function y(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function v(e){return s=i=1,a=(0,o.strlen)(c=e),r=0,[]}function I(e){return c="",e}function E(e){return(0,o.trim)(b(r-1,j(91===e?e+2:40===e?e+1:e)))}function _(e){return I(C(v(e)))}function S(e){for(;(l=g())&&l<33;)h();return y(e)>2||y(l)>3?"":" "}function C(e){for(;h();)switch(y(l)){case 0:(0,o.append)(w(r-1),e);break;case 2:(0,o.append)(E(l),e);break;default:(0,o.append)((0,o.from)(l),e)}return e}function T(e,t){for(;--t&&h()&&!(l<48||l>102||l>57&&l<65||l>70&&l<97););return b(e,f()+(t<6&&32==g()&&32==h()))}function j(e){for(;h();)switch(l){case e:return r;case 34:case 39:34!==e&&39!==e&&j(l);break;case 40:41===e&&j(e);break;case 92:h()}return r}function A(e,t){for(;h()&&e+l!==57&&(e+l!==84||47!==g()););return"/*"+b(t,r-1)+"*"+(0,o.from)(47===e?e:h())}function w(e){for(;!y(g());)h();return b(e,r)}},"./node_modules/stylis/src/Utility.js":function(e,t,n){"use strict";n.r(t),n.d(t,{abs:function(){return o},append:function(){return g},assign:function(){return i},charat:function(){return u},combine:function(){return f},from:function(){return s},hash:function(){return a},indexof:function(){return d},match:function(){return l},replace:function(){return c},sizeof:function(){return h},strlen:function(){return m},substr:function(){return p},trim:function(){return r}});var o=Math.abs,s=String.fromCharCode,i=Object.assign;function a(e,t){return(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3)}function r(e){return e.trim()}function l(e,t){return(e=t.exec(e))?e[0]:e}function c(e,t,n){return e.replace(t,n)}function d(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function p(e,t,n){return e.slice(t,n)}function m(e){return e.length}function h(e){return e.length}function g(e,t){return t.push(e),e}function f(e,t){return e.map(t).join("")}},"./integrations/ci-cd/stores/fixture.json":function(e){"use strict";e.exports=JSON.parse('[{"id":"circleci","name":"Circle CI","icon":"pm-icon-circle-ci","description":"Bring your pipeline builds to Postman","icon_url":"https://static.getpostman.com/assets/circleci-light.png","dark_icon_url":"https://static.getpostman.com/assets/circleci-dark.png","extended_description":"Bring your pipeline builds in Postman and also trigger your build pipleines right from Postman","categories":["CI"],"integrations":{"circleci":{"circle_ci":{"name":"Create CI with Circle CI","description":"Bring circle ci builds inside Postman","categories":["CI"],"summary":"","client_categories":["continuous-integration"],"type":"multiple","entity":"apiversion","scope":"user","sync_data":[],"variables":[],"auth_type":"token","canCreateIntegration":true}}},"setup_details":"","service_data":[],"summary":"","misc":"","oauth_initiator_host":null},{"id":"travisci","name":"TravisCI","icon":"pm-icon-travisci","description":"Bring your pipeline builds to Postman","icon_url":"https://static.getpostman.com/assets/travisci-light.png","dark_icon_url":"https://static.getpostman.com/assets/travisci-dark.png","extended_description":"Bring your pipeline builds in Postman and also trigger your build pipleines right from Postman","categories":["CI"],"integrations":{"travisci":{"travis_ci":{"name":"Trigger builds from Postman with TravisCI","description":"Bring TravisCI builds inside Postman","categories":["CI"],"summary":"","client_categories":["continuous-integration"],"type":"multiple","entity":"apiversion","scope":"user","sync_data":[],"variables":[],"auth_type":"token","canCreateIntegration":true}}},"setup_details":"","service_data":[],"summary":"","misc":"","oauth_initiator_host":null}]')}}]);