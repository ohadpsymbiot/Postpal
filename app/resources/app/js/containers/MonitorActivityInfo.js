"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[100],{"./integrations/components/context-bar/IntegrationContextBarList.js":function(e,t,i){i.r(t),i.d(t,{IntegrationContextBarList:function(){return P}});var n,o=i("../../node_modules/react/index.js"),r=i("./node_modules/prop-types/index.js"),a=i.n(r),s=i("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=i("./js/components/base/LoadingIndicator.js"),c=i("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),p=i("./integrations/components/context-bar/IntegrationItem.js"),u=i("./integrations/components/context-bar/IntegrationInfoMock.js"),d=i("./js/stores/SyncStatusStore.js"),g=i("./js/stores/IntegrationsStore.js"),m=i("./js/stores/StoreManager.js"),h=i("./js/stores/ActiveWorkspaceStore.js"),y=i("../../node_modules/mobx/lib/mobx.module.js"),f=i("../../node_modules/mobx-react/dist/mobx-react.module.js"),I=i("./integrations/components/context-bar/ViewConfig.js"),b=i("./integrations/navigation/constants.js"),v=i("./integrations/constants/IntegrationTargets.ts"),S=i("./integrations/components/context-bar/util.js"),_=i("./js/modules/services/AnalyticsService.js"),E=i("./appsdk/components/link/Link.js"),T=i("./node_modules/lodash/lodash.js");const C=["GitHub","Dropbox"],w=["Slack","PagerDuty"],A=["Datadog","Coralogix"],O={collection:{categories:[v.CLIENT_CATEGORY_COLLECTION_BACKUP]},monitor:{categories:[v.CLIENT_CATEGORY_MONITOR_ANALYTICS,v.CLIENT_CATEGORY_MONITOR_NOTIFICATIONS]}};function j(e,t,i,n,o,r){switch(n){case"collection":return function(e,t,i,n){const o=[];if(T.isEmpty(T.get(e,v.CLIENT_CATEGORY_COLLECTION_BACKUP,[]))){const e=S.default.filterAvailableIntegrationsByCategory(t,v.CATEGORY_BACKUP),r=S.default.generateAddIntegrationHelperText(e,C,2),a=I.default.getCollectionBackupViewConfig(r,i,n);o.push(a)}return o}(e,t,i,o);case"monitor":return function(e,t,i,n){const o=[];if(T.isEmpty(T.get(e,v.CLIENT_CATEGORY_MONITOR_NOTIFICATIONS,[]))){const e=S.default.filterIntegrationsByClientCategories(t,[v.CLIENT_CATEGORY_MONITOR_NOTIFICATIONS]),r=S.default.generateAddIntegrationHelperText(e,w,2),a=I.default.getMonitorNotificationViewConfig(r,i,n);o.push(a)}if(T.isEmpty(T.get(e,v.CLIENT_CATEGORY_MONITOR_ANALYTICS,{}))){const e=S.default.filterIntegrationsByClientCategories(t,[v.CLIENT_CATEGORY_MONITOR_ANALYTICS]),r=S.default.generateAddIntegrationHelperText(e,A,2),a=I.default.getMonitorAnalyticsViewConfig(r,i,n);o.push(a)}return o}(e,r,i,o)}return[]}function D(e){const{entityType:t,entityId:i,configuredIntegrationsByClientCategory:n,integrationServices:r,integrationClasses:a}=e,[s,l]=(0,o.useState)([]),c=(0,m.resolveStoreInstance)(h.default).id;(0,o.useEffect)((()=>{l(j(n,r,c,t,i,a))}),[n,r,a]);const d=T.sortBy(T.uniqBy(T.flatMap(n),(e=>e.id)),(e=>e.name)),g=!T.isEmpty(d);return o.createElement(o.Fragment,null,o.createElement("div",{className:"integration-context-bar-list__integration-list"},d.map((e=>o.createElement(p.default,{key:e.name,integration:e}))),s.map((e=>o.createElement(u.default,{key:e.key,viewConfig:e}))),g&&o.createElement("div",{className:"integration-context-bar-list__browse",onClick:()=>{_.default.addEventV2({category:"integrations",action:"click",label:`integrations_browse_all_${t}`,value:1})}},o.createElement(E.default,{to:{routeIdentifier:b.BROWSE_INTEGRATIONS_IDENTIFIER,queryParams:{category:"all"}}},"Browse integrations"))))}let P=(0,f.observer)(n=class extends o.Component{constructor(e){super(e),this.entityType=e.entityType,this.entityId=e.entityId,this.state={showIntegrations:!0,loading:!1,loaded:!1,error:!1,configuredIntegrationsByClientCategory:{}},this.toggleShowIntegrations=this.toggleShowIntegrations.bind(this),this.updateComponentData=this.updateComponentData.bind(this),this.integrationsStore=(0,m.resolveStoreInstance)(g.default)}updateComponentData(){const e=O[this.entityType].categories;let t=!1;this.fetchConfiguredIntegrationsAutorun=(0,y.autorun)((()=>{if((0,m.resolveStoreInstance)(d.default).isSocketConnected){t||this.setState({loading:!0,loaded:!1});const i=v.INTERNAL_ENTITY_NAME_MAPPING[this.entityType];c.default.getConfiguredIntegrationsByEntityAndClientCategory(i,this.entityId,e).then((e=>{const i=e;this.setState({configuredIntegrationsByClientCategory:i,loaded:!0}),t=!0})).catch((e=>this.setState({error:!0}))).finally((()=>this.setState({loading:!1})))}}))}componentDidMount(){this.updateComponentData()}componentWillUnmount(){this.fetchConfiguredIntegrationsAutorun&&this.fetchConfiguredIntegrationsAutorun()}toggleShowIntegrations(){this.setState((e=>({showIntegrations:!e.showIntegrations})))}render(){const e=!(0,m.resolveStoreInstance)(d.default).isSocketConnected,t=this.integrationsStore.getIntegrationServices(),i=this.integrationsStore.getIntegrationClasses(),n=this.integrationsStore.loadingIntegrationClasses,r=this.integrationsStore.loadingIntegrationServices;return o.createElement("div",{className:"integration-context-bar-list"},o.createElement("div",{className:"integration-context-bar-list__label-wrapper",onClick:this.toggleShowIntegrations},this.state.showIntegrations?o.createElement(s.default,{className:"integration-context-bar-list__label-wrapper-toggle",name:"icon-direction-down"}):o.createElement(s.default,{className:"integration-context-bar-list__label-wrapper-toggle",name:"icon-direction-right"})),o.createElement("div",{className:"integration-context-bar-list__label-wrapper-label",onClick:this.toggleShowIntegrations},"Integrations"),this.state.showIntegrations&&e&&!this.state.loaded&&o.createElement("div",{className:"integration-context-bar-list__status-info"},"You seem to be offline"),this.state.showIntegrations&&!e&&this.state.loading||n||r?o.createElement("div",{className:"integration-context-bar-list__loading"},o.createElement(l.default,null)):null,this.state.showIntegrations&&!e&&!this.state.loading&&this.state.error&&o.createElement("span",{className:"integration-context-bar-list__status-info"},"Unable to fetch integrations"),this.state.showIntegrations&&!this.state.error&&this.state.loaded&&!n&&!r&&o.createElement(D,{configuredIntegrationsByClientCategory:this.state.configuredIntegrationsByClientCategory,entityType:this.entityType,entityId:this.entityId,integrationServices:t,integrationClasses:i}))}})||n;P.propTypes={entityId:a().string.isRequired,entityType:a().oneOf(["collection","monitor"]).isRequired}},"./integrations/components/context-bar/IntegrationInfoMock.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return o}});var n=i("../../node_modules/react/index.js");function o(e){const{viewConfig:t}=e,[i,o]=(0,n.useState)(t.header),[r,a]=(0,n.useState)(t.body),[s,l]=(0,n.useState)(t.footer);return(0,n.useEffect)((()=>{o(t.header),a(t.body),l(t.footer)}),[t]),n.createElement("div",{className:"integration-context-bar-list__info"},n.createElement("div",{key:"header",className:"integration-context-bar-list__info-header"},i&&i),n.createElement("div",{key:"body",className:"integration-context-bar-list__info-body"},r&&r),n.createElement("div",{key:"footer",className:"integration-context-bar-list__info-footer"},t.route()))}},"./integrations/components/context-bar/IntegrationItem.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var n=i("../../node_modules/react/index.js"),o=i("./node_modules/@postman/date-helper/index.js"),r=i.n(o),a=i("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),s=i("./integrations/navigation/constants.js"),l=i("./js/components/base/Tooltips.js"),c=i("./js/modules/services/AnalyticsService.js"),p=i("./appsdk/components/link/Link.js"),u=i("./node_modules/lodash/lodash.js");const d={created:{class:"integration-status-icon-success",icon:"icon-state-success-stroke"},active:{class:"integration-status-icon-success",icon:"icon-state-success-stroke"},failed:{class:"integration-status-icon-error",icon:"icon-state-info-stroke"}};function g(e){const{integration:t}=e,i=(0,n.useRef)(null),[o,g]=(0,n.useState)(!1);return n.createElement("div",{className:"integration-context-bar-list__item"},n.createElement("div",{className:"integration-context-bar-list__item-icon",onMouseEnter:()=>u.includes(["failed"],t.status)&&g(!0),onMouseLeave:()=>u.includes(["failed"],t.status)&&g(!1),ref:i},n.createElement(a.default,{className:d[t.status].class,name:d[t.status].icon,size:"small"}),n.createElement(l.Tooltip,{show:o,target:i.current,placement:"top",immediate:!0},n.createElement(l.TooltipBody,null,"This integration has ",n.createElement("strong",null,t.status)))),n.createElement("div",{className:"integration-context-bar-list__item-area"},n.createElement("div",{className:"integration-context-bar-list__item-label",title:t.name,onClick:()=>{c.default.addEventV2({category:"integrations",action:"click",label:"integrations_view_run_log_target",value:1})}},n.createElement("span",null,n.createElement(p.default,{to:{routeIdentifier:s.INTEGRATIONS_RUNS_PAGE_IDENTIFIER,routeParams:{integrationId:t.id}}},t.name))),n.createElement("div",null,n.createElement("span",{className:"integration-context-bar-list__item-last-run"},`Last run: ${t.lastRunAt?r().getFormattedDateAndTime(t.lastRunAt):"Not Available"}`))))}},"./integrations/components/context-bar/ViewConfig.js":function(e,t,i){i.r(t);var n=i("./js/modules/services/AnalyticsService.js"),o=i("./runtime-repl/_common/NavigationConstants.js"),r=i("./integrations/constants/IntegrationTargets.ts"),a=i("./integrations/navigation/constants.js"),s=i("../../node_modules/react/index.js"),l=i("./appsdk/components/link/Link.js");class c{constructor(e,t,i,n,o,r,a){this.key=e,this.header=t,this.body=i,this.footer=n,this.workspaceId=o,this.entityType=r,this.entityId=a}route(){}}class p extends c{constructor(e,t,i){super("backup-view-config","Back up your collection",e,"View all options",t,"collection",i)}route(){return n.default.addEventV2({category:"integrations",action:"click",label:"integrations_view_all_collection_backup",value:1}),s.createElement(l.default,{to:{routeIdentifier:a.BROWSE_INTEGRATIONS_IDENTIFIER,queryParams:{category:"backup"}},options:{additionalContext:{selectedWorkspaceId:this.workspaceId,selectedEntityId:this.entityId,selectedEntityType:"collection",redirect:{identifier:o.WORKFLOW_IDENTIFIER.OPEN_COLLECTION_WITH_WS_SELECT,routeParams:{cid:this.entityId},queryParams:{ctx:"info"}}}}},this.footer&&this.footer)}}class u extends c{constructor(e,t,i){super("activity-view-config","Send monitoring results",e,"View all options",t,"monitor",i)}route(){return n.default.addEventV2({category:"integrations",action:"click",label:"integrations_view_all_monitor_notifications",value:1}),s.createElement(l.default,{to:{routeIdentifier:a.BROWSE_INTEGRATIONS_IDENTIFIER,queryParams:{category:r.CATEGORY_NOTIFICATIONS_NAV}},options:{additionalContext:{selectedWorkspaceId:this.workspaceId,selectedEntityId:this.entityId,selectedEntityType:"monitor",redirect:{identifier:"monitor.openWithWsSelect",routeParams:{monitorPath:this.entityId},queryParams:{ctx:"info"}}}}},this.footer&&this.footer)}}class d extends c{constructor(e,t,i){super("analytics-view-config","Send monitor analytics results",e,"View all options",t,"monitor",i)}route(){return n.default.addEventV2({category:"integrations",action:"click",label:"integrations_view_all_monitor_analytics",value:1}),s.createElement(l.default,{to:{routeIdentifier:a.BROWSE_INTEGRATIONS_IDENTIFIER,queryParams:{category:r.CATEGORY_ANALYTICS_NAV}},options:{additionalContext:{selectedWorkspaceId:this.workspaceId,selectedEntityId:this.entityId,selectedEntityType:"monitor",redirect:{identifier:"monitor.openWithWsSelect",routeParams:{monitorPath:this.entityId},queryParams:{ctx:"info"}}}}},this.footer&&this.footer)}}t.default={getCollectionBackupViewConfig:function(e,t,i){return new p(e,t,i)},getMonitorNotificationViewConfig:function(e,t,i){return new u(e,t,i)},getMonitorAnalyticsViewConfig:function(e,t,i){return new d(e,t,i)}}},"./integrations/components/context-bar/util.js":function(e,t,i){i.r(t);var n=i("./node_modules/lodash/lodash.js"),o=i.n(n);t.default={generateAddIntegrationHelperText:function(e,t,i){const n=new Set(e),r=[];for(const e of t)if(n.has(e)&&(r.push(e),n.delete(e)),o().isEqual(r.length,i))break;const a=[...n];for(;!o().isEqual(r.length,i)&&!o().isEmpty(a);)r.push(a.pop());return`\n      To ${r.join(", ")} \n      ${a.length>0?`or ${a.length} other ${a.length>1?"services":"service"}`:""}\n    `},filterAvailableIntegrationsByCategory:function(e,t){return o().map(o().filter(e,(e=>{const i=o().map(e.categories,"name");return o().includes(i,t)})),(e=>e.name))},filterIntegrationsByClientCategories:function(e,t){let i=o().filter(e,(e=>{const i=o().uniq(o().map(e.clientCategories,"key"));return o().find(i,(e=>o().includes(t,e)))}));return o().uniq(o().flatMap(i,(e=>o().map(e.services,"name"))))}}},"./integrations/monitoring/services/NewRelicService.js":function(e,t,i){i.r(t);var n=i("./node_modules/lodash/lodash.js"),o=i.n(n),r=i("./node_modules/moment/moment.js"),a=i.n(r),s=i("./node_modules/async/dist/async.js"),l=i.n(s),c=i("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),p=i("./integrations/monitoring/constants.js");t.default={listServices:e=>c.default.fetchActionDetailsWithoutIntegration(e).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e))),listDashboards:e=>c.default.fetchActionDetailsWithoutIntegration(e).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e))),fetchChartUrls:(e,t,i,n)=>{let r={};l().parallel([function(n){c.default.fetchActionDetails(e,{type:"fetchWebTransactionsChartUrl",service_guid:t,time:i}).then((e=>{if(e.status&&200===e.status)return r.webTransactionsChartUrl=o().get(e.body,"data.data.actor.entity.nrdbQuery.embeddedChartUrl"),n();throw e})).catch((e=>n(e)))},function(n){c.default.fetchActionDetails(e,{type:"fetchApdexScoreChartUrl",service_guid:t,time:i}).then((e=>{if(e.status&&200===e.status)return r.apdexScoreChartUrl=o().get(e.body,"data.data.actor.entity.nrdbQuery.embeddedChartUrl"),n();throw e})).catch((e=>n(e)))},function(n){c.default.fetchActionDetails(e,{type:"fetchErrorRateChartUrl",service_guid:t,time:i}).then((e=>{if(e.status&&200===e.status)return r.errorRateChartUrl=o().get(e.body,"data.data.actor.entity.nrdbQuery.embeddedChartUrl"),n();throw e})).catch((e=>n(e)))},function(n){c.default.fetchActionDetails(e,{type:"fetchThroughputChartUrl",service_guid:t,time:i}).then((e=>{if(e.status&&200===e.status)return r.throughputChartUrl=o().get(e.body,"data.data.actor.entity.nrdbQuery.embeddedChartUrl"),n();throw e})).catch((e=>n(e)))}],(e=>e?n(e):n(null,r)))},fetchStatistics:(e,t,i,n)=>{let r={};l().parallel([function(i){c.default.fetchActionDetails(e,{type:"fetchDeployments",service_guid:t}).then((e=>{if(e.status&&200===e.status){let t=o().map(o().get(e.body,"data.data.actor.entity.deployments"),(e=>({...e,timestamp:a()(o().get(e,"timestamp")).format("MMM DD h:mm A")})));return r.deployments=t,i()}throw e})).catch((e=>i(e)))},function(i){c.default.fetchActionDetails(e,{type:"fetchViolationEvents",service_guid:t}).then((e=>{if(e.status&&200===e.status){let t=o().map(o().get(e.body,"data.data.actor.entities[0].recentAlertViolations"),(e=>({...e,openedAt:a()(o().get(e,"openedAt")).format("MMM DD h:mm A"),closedAt:o().get(e,"closedAt")?a()(o().get(e,"closedAt")).format("MMM DD h:mm A"):"-"})));return r.violationEvents=t,i()}throw e})).catch((e=>i(e)))},function(n){c.default.fetchActionDetails(e,{type:"fetchSlowestWebTransactions",service_guid:t,time:i}).then((e=>{if(e.status&&200===e.status){let t=o().map(o().get(e.body,"data.data.actor.entity.nrdbQuery.results"),(e=>({name:o().replace(e.name,"WebTransaction/Custom/",""),avg_time:`${o().round(e.avg_time,2)} ms`,error_rate:`${o().round(e.error_rate,1)}%`})));return r.slowestTransactions=t,n()}throw e})).catch((e=>n(e)))}],(e=>e?n(e):n(null,r)))},fetchMetricsForLinkedServices:e=>c.default.fetchActionDetails(e,{type:"fetchMetricsForLinkedServices"}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e))),fetchLinkedDashboards:e=>c.default.fetchActionDetails(e,{type:"fetchLinkedDashboards"}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e))),listSevicesWithIntegrationId:(e,t={})=>c.default.fetchActionDetails(e,{type:p.NEW_RELIC_SERVICE_ACTION_SLUGS.LIST_SERVICES,...t}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(o().get(e,"body.data"));throw e})).catch((e=>Promise.reject(e))),listDashboardsWithIntegrationId:(e,t={})=>c.default.fetchActionDetails(e,{type:p.NEW_RELIC_SERVICE_ACTION_SLUGS.LIST_DASHBOARDS,...t}).then((e=>{if(e.status&&200===e.status)return Promise.resolve(o().get(e,"body.data"));throw e})).catch((e=>Promise.reject(e))),authenticateApiKey:e=>c.default.fetchActionDetailsWithoutIntegration(e).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body);throw e})).catch((e=>Promise.reject(e)))}},"./js/containers/new-button/services/VersionTagService.js":function(e,t,i){i.r(t),i.d(t,{fetchAllTags:function(){return s}});var n=i("./js/modules/services/RemoteSyncRequestService.js"),o=i("./js/stores/StoreManager.js"),r=i("./js/stores/CurrentUserStore.js"),a=i("./node_modules/lodash/lodash.js");async function s(e){if(!e.collectionUid)return Promise.reject(new Error("VersionTagService~fetchAllTags: collectionUid not found"));const t=(0,o.resolveStoreInstance)(r.default).id;let i=`/collections/${e.collectionUid}/tags?count=100&user_id=${t}`,s=[],l=null;do{try{const e=l?`${i}&pageId=${l}`:i,t=await n.default.request(e,{method:"get"}),o=a.get(t,"body.tags",[]);l=a.get(t,"body.nextPageId",null),s=s.concat(a.map(o,(e=>({id:a.get(e,"id"),name:a.get(e,"message")}))))}catch(e){return Promise.reject(e)}}while(l);return Promise.resolve(s)}},"./js/stores/IntegrationsStore.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return Ie}});var n,o,r,a,s,l,c,p,u,d,g,m,h,y,f,I,b,v,S,_,E,T,C,w,A,O,j,D,P,N,R,L,k,x,F,B,M,z,U,V,W,G,H,Y,q,$,J,K,Q,X,Z,ee,te,ie,ne,oe,re=i("../../node_modules/mobx/lib/mobx.module.js"),ae=i("./integrations/constants/integrationsConstants.ts"),se=i("./js/stores/StoreManager.js"),le=i("./js/stores/SyncStatusStore.js"),ce=i("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),pe=i("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationClassService.js"),ue=i("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/BrowseIntegrations/IntegrationsUtils.js"),de=i("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts"),ge=(i("./integrations/monitoring/services/NewRelicService.js"),i("./integrations/monitoring/constants.js"),i("./node_modules/lodash/lodash.js"));function me(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function he(e,t,i,n,o){var r={};return Object.keys(n).forEach((function(e){r[e]=n[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}const ye=3e5,fe=8e3;let Ie=(o=he((n=class{constructor(){me(this,"activeIntegrationsView",o,this),me(this,"serviceId",r,this),me(this,"activeServiceDetailsId",a,this),me(this,"ruleId",s,this),me(this,"teamIntegrations",l,this),me(this,"availableIntegrations",c,this),me(this,"loadingAvailableIntegrations",p,this),me(this,"loadingIntegrationClasses",u,this),me(this,"loadingIntegrationServices",d,this),me(this,"errorFetchingAvailableIntegrations",g,this),me(this,"availableIntegrationsErrorDetails",m,this),me(this,"filteredAvailableIntegrations",h,this),me(this,"filterByCategoryAvailableIntegrations",y,this),me(this,"integrationCategories",f,this),me(this,"noTeamIntegrations",I,this),me(this,"loadingTeamIntegrations",b,this),me(this,"errorInFetchingTeamIntegrations",v,this),me(this,"errorDetails",S,this),me(this,"ruleSpecificTeamIntegrations",_,this),me(this,"ruleSpecificTeamIntegrationErrors",E,this),me(this,"serviceDetails",T,this),me(this,"ruleDetails",C,this),me(this,"noRuleSpecificTeamIntegrations",w,this),me(this,"isHydrating",A,this),me(this,"isAdding",O,this),me(this,"categoryFilter",j,this),me(this,"createFormActiveRuleId",D,this),me(this,"createFormActiveServiceId",P,this),me(this,"workspaces",N,this),me(this,"entities",R,this),me(this,"selectedWorkspace",L,this),me(this,"selectedEntity",k,this),me(this,"selectedEntityVersion",x,this),me(this,"authDetails",F,this),me(this,"errorFetchingAuthDetails",B,this),me(this,"authDetailsError",M,this),me(this,"runLogPageData",z,this),me(this,"loadingRunLogPage",U,this),me(this,"errorInFetchingRunLogPageData",V,this),me(this,"runLogPageErrorDetails",W,this),me(this,"sourceConflicting",G,this),me(this,"refreshingRunLog",H,this),me(this,"authType",Y,this),me(this,"availableIntegrationClasses",q,this),me(this,"integrationCategories",$,this),me(this,"availableIntegrationServices",J,this),me(this,"availableIntegrationServicesByCategory",K,this),me(this,"filteredIntegrationServices",Q,this),me(this,"preferredEntities",X,this),me(this,"integrationClass",Z,this),me(this,"loadingIntegrationClass",ee,this),me(this,"errorFetchingIntegrationClass",te,this),me(this,"integrationInstance",ie,this),me(this,"loadingIntegrationInstance",ne,this),me(this,"errorFetchingIntegrationInstance",oe,this),this.initializeFetchingTeamIntegrations=ge.debounce(this.initializeFetchingTeamIntegrations.bind(this),ye,{leading:!0,trailing:!1}),this.getAvailableIntegrationClasses=ge.debounce(this.getAvailableIntegrationClasses.bind(this),ye,{leading:!0,trailing:!1}),this.getAvailableIntegrationServices=ge.debounce(this.getAvailableIntegrationServices.bind(this),ye,{leading:!0,trailing:!1}),this.initializeRuleSpecificTeamIntegrations=((e,t,i)=>{const n={};return(...o)=>{const[r,a]=o;return"function"==typeof n[a]||(n[a]=ge.debounce(e,t,{...i,leading:!0})),n[a](...o)}})(this.initializeRuleSpecificTeamIntegrations.bind(this),3e5,{leading:!0,trailing:!1})}setActiveIntegrationsView(e){this.activeIntegrationsView=e}readRuleSpecificTeamIntegrations(e){return(0,re.toJS)(this.ruleSpecificTeamIntegrations[e])}readServiceDetails(e){return(0,re.toJS)(this.serviceDetails[e])}readRuleDetails(e){return(0,re.toJS)(this.ruleDetails[e])}setAuthType(e){this.authType=e}setRuleSpecificTeamIntegrations(e,t){this.ruleSpecificTeamIntegrations[e]=t}resetRuleSpecificTeamIntegrations(e){delete this.ruleSpecificTeamIntegrations[e]}setServiceDetails(e,t){this.serviceDetails[e]=t}setRuleDetails(e,t){this.ruleDetails[e]=t}resetServiceDetails(e){delete this.serviceDetails[e]}setActiveIntegrationRule(e,t){this.serviceId=e,this.ruleId=t}updateCategoryfilter(e){this.categoryFilter=e,this.updateIntegrationServicesPerCategory(e)}updateRuleSpecificTeamIntegrationsDataStatus(e,t,i,n){this.ruleSpecificTeamIntegrationErrors[n]={loading:e,error:t,errorDetails:i}}readRuleSpecificTeamIntegrationsDataStatus(e){return{loading:!0,...(0,re.toJS)(this.ruleSpecificTeamIntegrationErrors[e])}}getRuleSpecificTeamIntegrationData(e,t){return this.updateRuleSpecificTeamIntegrationsDataStatus(!0,!1,"",t),Promise.all([pe.default.fetchIntegrationClassDetails(t),pe.default.fetchIntegrationServiceDetails(e),ce.default.getTeamIntegrationInstances(t)]).then((([i,n,o])=>{const r=ge.get(o,"body.data",[]),a=ge.get(i,"body.data",{}),s=ge.get(n,"body.data",{});if(200!==i.status||200!==o.status||200!==n.status||ge.isEmpty(a)||ge.isEmpty(s)){let e={};(200!==i.status||ge.isEmpty(a))&&(e.errorFetchingClassDetails=i),(200!==n.status||ge.isEmpty(s))&&(e.errorFetchingServiceDetatils=n),200!==o.status&&(e.errorFetchingTeamIntegrations=o),this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!0,e,t)}else{if(ge.isEmpty(r))this.setRuleSpecificTeamIntegrations(t,[]);else{let e=ge.map(r,(e=>({id:e.id,name:e.name,userId:e.createdBy.id,userName:ge.get(e,"createdBy.name")||ge.get(e,"createdBy.username")||ge.get(e,"createdBy.email")||"A user",isUserNameClickable:Boolean(ge.get(e,"createdBy.name")||ge.get(e,"createdBy.username")||ge.get(e,"createdBy.email")),userProfileUrl:e.createdBy.profilePicUrl,status:e.status,apiDetails:e.entity.api,entityType:e.entity.type,entityId:e.entity.id,entityName:e.entity.name,lastRunAt:e.lastRunAt,clientCategories:e.clientCategories})));this.setRuleSpecificTeamIntegrations(t,e)}this.setServiceDetails(e,s),this.setRuleDetails(t,a),this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!1,"",t)}})).catch((i=>{this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!0,i,t),this.resetRuleSpecificTeamIntegrations(t),this.resetServiceDetails(e)}))}getTeamIntegrationsData(){return this.setLoadingIntegrationClasses(!0),this.setLoadingIntegrationServices(!0),Promise.all([pe.default.fetchAvailableClasses(),pe.default.fetchAvailableServices(),ce.default.getTeamIntegrations()]).then((([e,t,i])=>{const n=ge.get(t,"body.data",[]),o=ge.get(e,"body.data",[]),r=ge.get(i,"body.data",[]);if(200!==e.status||200!==i.status||200!==t.status||ge.isEmpty(n)||ge.isEmpty(o)){let r={};(200!==t.status||ge.isEmpty(n))&&(r.errorFetchingServices=t),(200!==e.status||ge.isEmpty(o))&&(r.errorFetchingClasses=e),200!==i.status&&(r.errorFetchingTeamIntegrations=i),this.updateData(!1,[]),this.updateState(!1,!0,r)}else{if(ge.isEmpty(r))this.updateData(!0,[]),this.updateState(!1,!1,"");else{const e=ge.groupBy(r,"rule"),t=ge.map(e,((e,t)=>{const i=e[0].service,r=ge.find(o,(e=>e.id===t)),a=ge.find(n,(e=>e.id===i));return{ruleName:ge.get(r,"name"),ruleId:t,serviceId:i,serviceName:ge.get(a,"name",""),serviceIconURL:ge.get(a,"iconUrl",""),serviceDarkIconURL:ge.get(a,"darkIconUrl",""),statusCount:ge.countBy(e,(e=>e.status)),totalIntegrations:e.length}})),i=this.defaultSortTeamIntegrations(t);this.updateData(!1,i),this.updateState(!1,!1,"")}const e=this.addDisplayNameToIntegrationClasses(o);this.setAvailableIntegrationClasses(e),this.setAvailableIntegrationServices(n),this.getIntegrationCategoriesFromServices(),this.updateIntegrationServicesPerCategory(this.categoryFilter),this.updateFilteredIntegrationServices(this.availableIntegrationServicesByCategory)}this.setLoadingIntegrationServices(!1),this.setLoadingIntegrationClasses(!1),this.updateAvailableIntegrationsStatus(!1,!1,"")})).catch((e=>{pm.logger.error("Error in fetching team integrations",e),this.updateData(!1,[]),this.updateState(!1,!0,e),this.setLoadingIntegrationServices(!1),this.setLoadingIntegrationClasses(!1),this.updateAvailableIntegrationsStatus(!1,!0,e)}))}setIsHydrating(e){this.isHydrating=e}updateState(e,t,i){this.loadingTeamIntegrations=e,this.errorInFetchingTeamIntegrations=t,this.errorDetails=i}updateData(e,t){this.noTeamIntegrations=e,this.teamIntegrations=t}updateAvailableIntegrations(e){this.availableIntegrations=e}updateIntegrationCategories(){this.integrationCategories=ue.default.getAllCategories(this.availableIntegrations)}setAvailableIntegrationServices(e){this.availableIntegrationServices=e}addDisplayNameToIntegrationClasses(e){const t={};return ge.forEach(e,(e=>{const i=ge.get(e,"services",[]);ge.forEach(i,(i=>{ge.get(t,i.id)?t[i.id].push(e.id):t[i.id]=[e.id]}))})),ge.forEach(e,(e=>{const i=ge.get(e,"services.0",{});e.displayName=ge.size(t[i.id])>1?e.name:i.name})),e}setAvailableIntegrationClasses(e){this.availableIntegrationClasses=e}getIntegrationCategoriesFromServices(){this.integrationCategories=ue.default.getAllIntegrationCategories(this.availableIntegrationServices)}updateIntegrationServicesPerCategory(e){let t=ue.default.filterByCategory(e,(0,re.toJS)(this.availableIntegrationServices));ge.isEmpty(t)&&!ge.isEmpty((0,re.toJS)(this.availableIntegrationServices))&&(this.updateCategoryfilter("all"),t=(0,re.toJS)(this.availableIntegrationServices)),this.availableIntegrationServicesByCategory=t}updateFilteredIntegrationServices(e){this.filteredIntegrationServices=e}updateAvailableIntegrationsStatus(e,t,i){this.loadingAvailableIntegrations=e,this.errorFetchingAvailableIntegrations=t,this.availableIntegrationsErrorDetails=i}setLoadingIntegrationServices(e){this.loadingIntegrationServices=e}setLoadingIntegrationClasses(e){this.loadingIntegrationClasses=e}updateFilteredAvailableIntegrations(e){this.filteredAvailableIntegrations=e}updateFilterByCategoryAvailableIntegrations(e){let t=ue.default.filterByCategory(e,(0,re.toJS)(this.availableIntegrations));ge.isEmpty(t)&&!ge.isEmpty((0,re.toJS)(this.availableIntegrations))&&(this.updateCategoryfilter("all"),t=(0,re.toJS)(this.availableIntegrations)),this.filterByCategoryAvailableIntegrations=t}initializeFetchingTeamIntegrations(){(0,se.resolveStoreInstance)(le.default).onSyncAvailable({timeout:fe}).then((()=>(this.setIsHydrating(!0),this.getTeamIntegrationsData()))).catch((()=>{this.updateState(!1,!1,"")})).finally((()=>{this.setIsHydrating(!1)}))}initializeRuleSpecificTeamIntegrations(e,t){(0,se.resolveStoreInstance)(le.default).onSyncAvailable({timeout:fe}).then((()=>this.getRuleSpecificTeamIntegrationData(e,t))).catch((e=>{this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!0,e,t)}))}refetchRuleSpecificTeamIntegrations(e,t){(0,se.resolveStoreInstance)(le.default).onSyncAvailable({timeout:fe}).then((()=>this.getRuleSpecificTeamIntegrationData(e,t))).catch((e=>{this.updateRuleSpecificTeamIntegrationsDataStatus(!1,!0,e,t)}))}refetchTeamIntegrations(){(0,se.resolveStoreInstance)(le.default).onSyncAvailable({timeout:fe}).then((()=>(this.setIsHydrating(!0),this.getTeamIntegrationsData()))).catch((()=>{this.updateState(!1,!1,"")})).finally((()=>{this.setIsHydrating(!1)}))}getAvailableIntegrationClasses(){return this.setLoadingIntegrationClasses(!0),pe.default.fetchAvailableClasses().then((e=>{const t=this.addDisplayNameToIntegrationClasses(ge.get(e,"body.data",[]));this.setAvailableIntegrationClasses(t),this.updateAvailableIntegrationsStatus(!1,!1,""),this.setLoadingIntegrationClasses(!1)})).catch((e=>{this.updateAvailableIntegrationsStatus(!1,!0,e),this.setLoadingIntegrationClasses(!1),pm.logger.error("Error occurred while fetching available integration classes",e)}))}getAvailableIntegrationServices(){return this.setLoadingIntegrationServices(!0),pe.default.fetchAvailableServices().then((e=>{this.setAvailableIntegrationServices(ge.get(e,"body.data",[])),this.updateAvailableIntegrationsStatus(!1,!1,""),this.getIntegrationCategoriesFromServices(),this.updateIntegrationServicesPerCategory(this.categoryFilter),this.updateFilteredIntegrationServices(this.availableIntegrationServicesByCategory),this.setLoadingIntegrationServices(!1)})).catch((e=>{this.updateAvailableIntegrationsStatus(!1,!0,e),this.setLoadingIntegrationServices(!1),pm.logger.error("Error occurred while fetching available integration services",e)}))}populateIntegrationClasses(){return this.updateAvailableIntegrationsStatus(!0,!1,""),(0,se.resolveStoreInstance)(le.default).onSyncAvailable({timeout:fe}).then((()=>(this.updateAvailableIntegrationsStatus(!0,!1,""),this.getAvailableIntegrationClasses()))).catch((()=>{this.updateAvailableIntegrationsStatus(!1,!1,"")}))}populateIntegrationServices(){return this.updateAvailableIntegrationsStatus(!0,!1,""),(0,se.resolveStoreInstance)(le.default).onSyncAvailable({timeout:fe}).then((()=>(this.updateAvailableIntegrationsStatus(!0,!1,""),this.getAvailableIntegrationServices()))).catch((()=>{this.updateAvailableIntegrationsStatus(!1,!1,"")}))}setActiveIntegrationService(e){this.activeServiceDetailsId=e}setActiveIntegrationCreateForm(e,t){this.createFormActiveServiceId=e,this.createFormActiveRuleId=t}setSelectedWorkspace(e){this.selectedWorkspace=e}setSelectedEntity(e){this.selectedEntity=e}setSelectedEntityVersion(e){this.selectedEntityVersion=e}resetSelectedWorkspace(){this.selectedWorkspace=null}resetSelectedEntity(){this.selectedEntity=null}resetSelectedEntityVersion(){this.selectedEntityVersion=null}resetAddIntegrationDependencies(){this.resetSelectedEntityVersion(),this.resetSelectedEntity(),this.resetSelectedWorkspace()}updateIsAdding(e){this.isAdding=e}updateSourceConflicting(e){this.sourceConflicting=e}readTeamIntegrations(){return(0,re.toJS)(this.teamIntegrations)}updateIdentityResponse(e){this.authDetails=ge.get(e,"body.handover")}updateIdentityResponseStatus(e,t){this.errorFetchingAuthDetails=e,this.authDetailsError=t}setAuthDetails(e){this.authDetails=e}readAuthDetails(){return(0,re.toJS)(this.authDetails)}defaultSortTeamIntegrations(e){const t=ge.filter(e,(e=>!!e.statusCount.failed)),i=ge.sortBy(t,(e=>ge.toLower(e.ruleName))),n=ge.sortBy(ge.difference(e,i),(e=>ge.toLower(e.ruleName)));return ge.concat(i,n)}updateRunsPageResponseStatus(e,t,i){this.loadingRunLogPage=e,this.errorInFetchingRunLogPageData=t,this.runLogPageErrorDetails=i}updateRunsPageResponse(e){this.runLogPageData=e}readIntegrationRunLogData(){return(0,re.toJS)(this.runLogPageData)}updateRefreshingRunLog(e){this.refreshingRunLog=e}addPreferredEntity(e,t){const i={entityType:e,entityId:t};ge.some(this.preferredEntities,i)||this.preferredEntities.push(i)}getIntegrationClassDetails(e){return this.loadingIntegrationClass=!0,new Promise(((t,i)=>{pe.default.fetchIntegrationClassDetails(e).then((e=>{const i=ge.get(e,"body.data");200!==e.status||ge.isEmpty(i)?this.errorFetchingIntegrationClass=e:(this.integrationClass=i,this.errorFetchingIntegrationClass=!1),this.loadingIntegrationClass=!1,t()})).catch((t=>{pm.logger.error("Error in fetching integration class details",e,t),this.errorFetchingIntegrationClass=t,this.loadingIntegrationClass=!1,i(t)}))}))}getIntegrationInstanceDetails(e){this.loadingIntegrationInstance=!0,de.default.fetchIntegrationInstanceDetails(e).then((e=>{const t=ge.get(e,"body.data");200!==e.status||ge.isEmpty(t)?this.errorFetchingIntegrationInstance=e:(t.allowedActions=ge.get(e,"body.meta.allowedActions"),this.integrationInstance=t,this.errorFetchingIntegrationInstance=!1),this.loadingIntegrationInstance=!1})).catch((t=>{pm.logger.error("Error in fetching integration instance details",e,t),this.errorFetchingIntegrationInstance=t,this.loadingIntegrationInstance=!1}))}getIntegrationClasses(){return ge.isEmpty(this.availableIntegrationClasses)&&this.populateIntegrationClasses(),this.availableIntegrationClasses}getIntegrationServices(){return ge.isEmpty(this.availableIntegrationServices)&&this.populateIntegrationServices(),this.availableIntegrationServices}}).prototype,"activeIntegrationsView",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.INTEGRATIONS_VIEW.TEAM}}),r=he(n.prototype,"serviceId",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=he(n.prototype,"activeServiceDetailsId",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=he(n.prototype,"ruleId",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=he(n.prototype,"teamIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=he(n.prototype,"availableIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=he(n.prototype,"loadingAvailableIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=he(n.prototype,"loadingIntegrationClasses",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=he(n.prototype,"loadingIntegrationServices",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),g=he(n.prototype,"errorFetchingAvailableIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=he(n.prototype,"availableIntegrationsErrorDetails",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=he(n.prototype,"filteredAvailableIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=he(n.prototype,"filterByCategoryAvailableIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=he(n.prototype,"integrationCategories",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=he(n.prototype,"noTeamIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=he(n.prototype,"loadingTeamIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=he(n.prototype,"errorInFetchingTeamIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=he(n.prototype,"errorDetails",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_=he(n.prototype,"ruleSpecificTeamIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=he(n.prototype,"ruleSpecificTeamIntegrationErrors",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),T=he(n.prototype,"serviceDetails",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C=he(n.prototype,"ruleDetails",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),w=he(n.prototype,"noRuleSpecificTeamIntegrations",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=he(n.prototype,"isHydrating",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=he(n.prototype,"isAdding",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=he(n.prototype,"categoryFilter",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"all"}}),D=he(n.prototype,"createFormActiveRuleId",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=he(n.prototype,"createFormActiveServiceId",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=he(n.prototype,"workspaces",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=he(n.prototype,"entities",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=he(n.prototype,"selectedWorkspace",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=he(n.prototype,"selectedEntity",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=he(n.prototype,"selectedEntityVersion",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=he(n.prototype,"authDetails",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),B=he(n.prototype,"errorFetchingAuthDetails",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=he(n.prototype,"authDetailsError",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),z=he(n.prototype,"runLogPageData",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=he(n.prototype,"loadingRunLogPage",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),V=he(n.prototype,"errorInFetchingRunLogPageData",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=he(n.prototype,"runLogPageErrorDetails",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),G=he(n.prototype,"sourceConflicting",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=he(n.prototype,"refreshingRunLog",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=he(n.prototype,"authType",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),q=he(n.prototype,"availableIntegrationClasses",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=he(n.prototype,"integrationCategories",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=he(n.prototype,"availableIntegrationServices",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=he(n.prototype,"availableIntegrationServicesByCategory",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=he(n.prototype,"filteredIntegrationServices",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=he(n.prototype,"preferredEntities",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=he(n.prototype,"integrationClass",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=he(n.prototype,"loadingIntegrationClass",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=he(n.prototype,"errorFetchingIntegrationClass",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=he(n.prototype,"integrationInstance",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=he(n.prototype,"loadingIntegrationInstance",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=he(n.prototype,"errorFetchingIntegrationInstance",[re.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he(n.prototype,"setActiveIntegrationsView",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setActiveIntegrationsView"),n.prototype),he(n.prototype,"setAuthType",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setAuthType"),n.prototype),he(n.prototype,"setRuleSpecificTeamIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setRuleSpecificTeamIntegrations"),n.prototype),he(n.prototype,"resetRuleSpecificTeamIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"resetRuleSpecificTeamIntegrations"),n.prototype),he(n.prototype,"setServiceDetails",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setServiceDetails"),n.prototype),he(n.prototype,"setRuleDetails",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setRuleDetails"),n.prototype),he(n.prototype,"resetServiceDetails",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"resetServiceDetails"),n.prototype),he(n.prototype,"setActiveIntegrationRule",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setActiveIntegrationRule"),n.prototype),he(n.prototype,"updateCategoryfilter",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateCategoryfilter"),n.prototype),he(n.prototype,"updateRuleSpecificTeamIntegrationsDataStatus",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateRuleSpecificTeamIntegrationsDataStatus"),n.prototype),he(n.prototype,"getRuleSpecificTeamIntegrationData",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"getRuleSpecificTeamIntegrationData"),n.prototype),he(n.prototype,"getTeamIntegrationsData",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"getTeamIntegrationsData"),n.prototype),he(n.prototype,"setIsHydrating",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setIsHydrating"),n.prototype),he(n.prototype,"updateState",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateState"),n.prototype),he(n.prototype,"updateData",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateData"),n.prototype),he(n.prototype,"updateAvailableIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateAvailableIntegrations"),n.prototype),he(n.prototype,"updateIntegrationCategories",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateIntegrationCategories"),n.prototype),he(n.prototype,"setAvailableIntegrationServices",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setAvailableIntegrationServices"),n.prototype),he(n.prototype,"setAvailableIntegrationClasses",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setAvailableIntegrationClasses"),n.prototype),he(n.prototype,"getIntegrationCategoriesFromServices",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"getIntegrationCategoriesFromServices"),n.prototype),he(n.prototype,"updateIntegrationServicesPerCategory",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateIntegrationServicesPerCategory"),n.prototype),he(n.prototype,"updateFilteredIntegrationServices",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateFilteredIntegrationServices"),n.prototype),he(n.prototype,"updateAvailableIntegrationsStatus",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateAvailableIntegrationsStatus"),n.prototype),he(n.prototype,"setLoadingIntegrationServices",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setLoadingIntegrationServices"),n.prototype),he(n.prototype,"setLoadingIntegrationClasses",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setLoadingIntegrationClasses"),n.prototype),he(n.prototype,"updateFilteredAvailableIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateFilteredAvailableIntegrations"),n.prototype),he(n.prototype,"updateFilterByCategoryAvailableIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateFilterByCategoryAvailableIntegrations"),n.prototype),he(n.prototype,"initializeFetchingTeamIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"initializeFetchingTeamIntegrations"),n.prototype),he(n.prototype,"initializeRuleSpecificTeamIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"initializeRuleSpecificTeamIntegrations"),n.prototype),he(n.prototype,"refetchRuleSpecificTeamIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"refetchRuleSpecificTeamIntegrations"),n.prototype),he(n.prototype,"refetchTeamIntegrations",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"refetchTeamIntegrations"),n.prototype),he(n.prototype,"getAvailableIntegrationClasses",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"getAvailableIntegrationClasses"),n.prototype),he(n.prototype,"getAvailableIntegrationServices",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"getAvailableIntegrationServices"),n.prototype),he(n.prototype,"populateIntegrationClasses",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"populateIntegrationClasses"),n.prototype),he(n.prototype,"populateIntegrationServices",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"populateIntegrationServices"),n.prototype),he(n.prototype,"setActiveIntegrationService",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setActiveIntegrationService"),n.prototype),he(n.prototype,"setActiveIntegrationCreateForm",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setActiveIntegrationCreateForm"),n.prototype),he(n.prototype,"setSelectedWorkspace",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setSelectedWorkspace"),n.prototype),he(n.prototype,"setSelectedEntity",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setSelectedEntity"),n.prototype),he(n.prototype,"setSelectedEntityVersion",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setSelectedEntityVersion"),n.prototype),he(n.prototype,"resetSelectedWorkspace",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"resetSelectedWorkspace"),n.prototype),he(n.prototype,"resetSelectedEntity",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"resetSelectedEntity"),n.prototype),he(n.prototype,"resetSelectedEntityVersion",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"resetSelectedEntityVersion"),n.prototype),he(n.prototype,"resetAddIntegrationDependencies",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"resetAddIntegrationDependencies"),n.prototype),he(n.prototype,"updateIsAdding",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateIsAdding"),n.prototype),he(n.prototype,"updateSourceConflicting",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateSourceConflicting"),n.prototype),he(n.prototype,"updateIdentityResponse",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateIdentityResponse"),n.prototype),he(n.prototype,"updateIdentityResponseStatus",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateIdentityResponseStatus"),n.prototype),he(n.prototype,"setAuthDetails",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"setAuthDetails"),n.prototype),he(n.prototype,"updateRunsPageResponseStatus",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateRunsPageResponseStatus"),n.prototype),he(n.prototype,"updateRunsPageResponse",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateRunsPageResponse"),n.prototype),he(n.prototype,"updateRefreshingRunLog",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"updateRefreshingRunLog"),n.prototype),he(n.prototype,"addPreferredEntity",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"addPreferredEntity"),n.prototype),he(n.prototype,"getIntegrationClassDetails",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"getIntegrationClassDetails"),n.prototype),he(n.prototype,"getIntegrationInstanceDetails",[re.action],Object.getOwnPropertyDescriptor(n.prototype,"getIntegrationInstanceDetails"),n.prototype),n)},"./monitors/components/common/DisabledTooltipWrapper.js":function(e,t,i){i.r(t);var n=i("../../node_modules/react/index.js"),o=i("./monitors/components/common/TooltipWithButton.js"),r=i("./js/components/base/Tooltips.js"),a=i("./monitors/stores/domain/MonitorPermissionStore.js"),s=i("./js/services/NavigationService.js"),l=i("./collaboration/navigation/constants.js"),c=i("./monitors/utils/messages/index.js");class p extends n.Component{constructor(e){super(e),this.state={tooltipVisible:!1},this.tooltipTimeout,this.monitorPermissionStore=new a.default,this.mouseEnter=this.mouseEnter.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hideTooltipImmediately=this.hideTooltipImmediately.bind(this)}hideTooltipImmediately(){this.setState({tooltipVisible:!1}),document.getElementsByClassName("is-hidden")[0].click()}mouseEnter(){this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.setState({tooltipVisible:!0})}mouseLeave(){this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((()=>{this.setState({tooltipVisible:!1})}),400)}onRequestAccessClick(e,t){s.default.transitionTo(l.ACCESS_REQUEST_CREATE_BUILD_IDENTIFIER,null,{entityId:e,entityName:t,entityType:"monitor",type:"grant_role"}),this.hideTooltipImmediately()}getTooltipBody(){return this.props.isOffline?c.TOOLTIP_TEXT.isOffline:this.props.tooltipText?this.props.tooltipText:n.createElement(o.default,{className:"monitor-request-access-tooltip",message:c.PERMISSION_TEXT.REQUEST_ACCESS_MSG,onClick:()=>this.onRequestAccessClick(this.props.monitorId,this.props.monitorName),buttonText:c.TOOLTIP_TEXT.requestAccess})}render(){return n.createElement("span",{className:`${this.props.wrapperPrefix}-tooltip-wrapper`,ref:"tooltipWrapper",onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave},this.props.children,this.props.showTooltip&&n.createElement(r.Tooltip,{target:this.refs.tooltipWrapper,show:this.state.tooltipVisible,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave,delay:0},n.createElement(r.TooltipBody,null,this.getTooltipBody())))}}p.defaultProps={wrapperPrefix:"monitor"},t.default=p},"./monitors/components/common/MonitorDependencyListItem.js":function(e,t,i){i.r(t);var n=i("../../node_modules/react/index.js"),o=i("./version-control/common/ForkLabel.js"),r=i("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=i("../../node_modules/mobx-react/dist/mobx-react.module.js"),s=i("./node_modules/classnames/index.js"),l=i.n(s);const c=(0,a.observer)((({item:e,className:t,type:i,hideForkLabelTooltip:a=!0})=>{if(!e)return null;if(typeof e!=typeof{}||!e.name||!e.type)return pm.logger.error("MonitorDependencyListItem:Invalid Item Type",e),null;const{type:s,name:c,isForked:p,id:u,forkLabel:d}=e,g="create-monitor-collection-item",m={id:u,forkLabel:d,model:s},h={id:"environment"===s?e.baseEnvironmentUid:e.baseCollectionUid,model:s};return n.createElement("div",{className:l()({[t]:!!t,[g]:!0})},n.createElement("div",{className:`${g}__name`,title:c},"link"===i?n.createElement(r.default,{type:"link-subtle",className:`${g}__link`},c):c),p?n.createElement("div",{className:`${g}__qualifiers`},n.createElement(o.default,{hideForkLabelTooltip:a,className:`${g}__fork-label`,label:e.forkLabel,forkedEntity:m,baseEntity:h})):null)}));t.default=c},"./monitors/components/common/MonitorOfflineContextBar.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return c}});var n=i("../../node_modules/react/index.js"),o=i("./node_modules/prop-types/index.js"),r=i.n(o),a=i("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/CheckInternetConnection.js"),s=i("./js/components/base/Text.js"),l=i("./monitors/utils/messages/index.js");class c extends n.Component{constructor(e){super(e)}render(){return n.createElement("div",{className:"contextbar-offline-container"},n.createElement("div",{className:"icon-section"},n.createElement(a.default,null)),n.createElement("div",{className:"contextbar-offline-container__title"},n.createElement("h4",null,this.props.title)),n.createElement("div",{className:"contextbar-offline-container__subtitle"},n.createElement(s.default,{type:"body-medium",value:this.props.message})))}}c.defaultProps={icon:"icon-state-offline-stroke",title:l.OFFLINE_TEXT.text,message:l.OFFLINE_TEXT.subText},c.propTypes={icon:r().string,title:r().string,message:r().string}},"./monitors/components/common/TooltipWithButton.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return r}});var n=i("../../node_modules/react/index.js"),o=i("./js/components/base/Buttons.js");function r(e){return n.createElement("div",{className:e.className},n.createElement("div",{className:"msg"},e.message),n.createElement(o.Button,{type:"primary",size:"small",onClick:e.onClick},e.buttonText))}},"./monitors/components/common/UserInfo.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return u}});var n=i("../../node_modules/react/index.js"),o=i("./js/components/base/Avatar.js"),r=i("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=i("./js/stores/StoreManager.js"),s=i("./js/stores/CurrentUserStore.js"),l=i("./appsdk/components/link/Link.js"),c=i("./monitors/components/common/DisabledTooltipWrapper.js"),p=i("./monitors/utils/messages/index.js");class u extends n.Component{constructor(e){super(e)}render(){const e=(0,a.resolveStoreInstance)(s.default),t=this.props.allowAlias&&Number(e.id)===Number(this.props.id)?"You":this.props.name,{public_handle:i,is_accessible:u,id:d}=this.props||{};return n.createElement(c.default,{showTooltip:!u,tooltipText:this.props.hasOwnProperty("id")?p.USER_PROFILE.privateUser:p.USER_PROFILE.error},n.createElement(l.default,{to:u?i||d&&`${pm.dashboardUrl}/users/${d}`:"",className:`${this.props.containerClass} user-info ${this.props.is_accessible?"is-clickable":""}`},this.props.showAvatar&&n.createElement("div",{className:"user-info__avatar"},n.createElement(o.default,{type:"user",customPic:this.props.hasOwnProperty("profile_pic_url")?this.props.profile_pic_url:"https://res.cloudinary.com/ddn1d7iih/image/upload/t_user_profile_300/v1/user/anonymous_user.png",userId:this.props.hasOwnProperty("id")?this.props.id:0,size:"medium",target:"_blank",linkProfile:!1})),this.props.showText&&n.createElement("div",{className:"user-info__text",title:this.props.name},n.createElement(r.default,{type:"link-subtle"},t||"User"))))}}u.defaultProps={showAvatar:!0,showText:!0,containerClass:"",allowAlias:!1}},"./monitors/containers/MonitorActivityInfo.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return P}});var n,o=i("../../node_modules/react/index.js"),r=i("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=i("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),s=i("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=i("../../node_modules/mobx/lib/mobx.module.js"),c=i("./node_modules/moment/moment.js"),p=i.n(c),u=i("./js/components/base/Buttons.js"),d=i("./monitors/components/common/UserInfo.js"),g=i("./appsdk/components/link/Link.js"),m=i("./appsdk/contextbar/ContextBarViewHeader.js"),h=i("./js/stores/StoreManager.js"),y=i("./js/stores/SyncStatusStore.js"),f=i("./monitors/stores/domain/MonitorPermissionStore.js"),I=i("./js/utils/ClipboardHelper.js"),b=i("./monitors/components/common/MonitorOfflineContextBar.js"),v=i("./integrations/components/context-bar/IntegrationContextBarList.js"),S=i("./js/containers/new-button/services/VersionTagService.js"),_=i("./monitors/utils/messages/index.js"),E=i("./runtime-repl/collection/_api/CollectionStoreV2.js"),T=i("./runtime-repl/environment/_api/EnvironmentStoreV2.js"),C=i("./monitors/components/common/MonitorDependencyListItem.js"),w=i("./monitors/constants.js"),A=i("./js/modules/services/AnalyticsService.js"),O=i("./api-dev/components/api-info-widget/LinkedAPIInfo/LinkedAPIInfo.tsx"),j=i("./node_modules/lodash/lodash.js");function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},D.apply(this,arguments)}let P=(0,s.observer)(n=class extends o.Component{constructor(e){super(e),this.loadCollectionInfo=async()=>{let e;try{e=await(0,E.subscribeOne)(this.props.controller.store.data.collection,{exclude:["response","request"]})}catch(e){pm.logger.warn(_.COLLECTION_FETCH_ERROR.warn,e),pm.toasts.error(j.get(e,"message")||_.COLLECTION_FETCH_ERROR.error)}finally{this.setState({collectionInfo:e,collectionLoading:!1})}},this.loadEnvironmentInfo=async()=>{let e;try{let t=this.props.controller.store.data.environment;t&&(e=await(0,T.subscribeOne)(t))}catch(e){}finally{this.setState({environment:e,environmentLoading:!1})}},this.loadVersionInfo=async()=>{let e;const t=this.props.controller.store.data.versionTag;try{const i=await this.loadOwnVersions({collectionUid:this.props.controller.store.data.collection});let n=j.find(i,["id",t]);e=n?n.name:"CURRENT"}catch(e){pm.logger.warn(_.VERSION_TAGS_ERROR.warn,e),pm.toasts.error(j.get(e,"message")||_.VERSION_TAGS_ERROR.error)}finally{this.setState({versionName:e})}},this.monitorPermissionStore=new f.default,this.showPrvtUserTooltip=this.showPrvtUserTooltip.bind(this),this.hidePrvtUserTooltip=this.hidePrvtUserTooltip.bind(this),this.state={showPrvtUserTooltip:!1,idCopySuccess:!1,forkedFromCollectionId:null,forkName:null,versionTag:null,versionName:"",environment:null,collectionLoading:!0,environmentLoading:!0},this.loadOwnVersions=this.loadOwnVersions.bind(this)}componentDidMount(){j.get(this.props,"contextData.type")===w.UPTIME_MONITOR_TYPE&&A.default.addEventV2({category:w.MONITOR_ANALYTICS_CATEGORY,action:"view_context_pane",label:"uptime_beta"}),(0,l.when)((()=>this.props.controller.store.data.collection),(()=>this.loadMonitorInfo()))}async loadMonitorInfo(){this.setState({collectionLoading:!0,environmentLoading:!0}),await(0,h.resolveStoreInstance)(y.default).onSyncAvailable(),await Promise.allSettled([this.loadCollectionInfo(),this.loadVersionInfo(),this.loadEnvironmentInfo()])}loadOwnVersions(e){return(0,S.fetchAllTags)(e).then((e=>e))}componentWillUnmount(){clearTimeout(this.clearIdCopySuccessTimeout),j.invoke(this.state,"collectionInfo.unsubscribe"),j.invoke(this.state,"environment.unsubscribe")}showPrvtUserTooltip(){this.setState({showPrvtUserTooltip:!0})}hidePrvtUserTooltip(){this.setState({showPrvtUserTooltip:!1})}fetchUserName(e,t){let i=t.reduce(((e,t)=>(e[t.id]=t,e)),{});return j.get(i,e,{}).name}canViewCreatorInfo(){return this.monitorPermissionStore.can("viewCreatorInfo",this.props.contextData.id)}copyMonitorId(e){this.state.idCopySuccess||(I.default.copy(e),this.setState({idCopySuccess:!0},(()=>{this.clearIdCopySuccessTimeout=setTimeout((()=>this.setState({idCopySuccess:!1})),3e3)})))}fetchCopyIcon(e){return e?o.createElement(a.default,{name:"icon-state-success-stroke",className:"monitor-info-context-view__entity__content__toggle__success"}):o.createElement(a.default,{name:"icon-action-copy-stroke",className:"monitor-info-context-view__entity__content__toggle__copy"})}render(){const{isOffline:e}=this.props.controller.monitorActivityDetailsStore;this.monitorInfo=j.get(this.props,"contextData",{});const t=p()(this.monitorInfo.createdAt).format("DD MMM YYYY, h:mm A");return o.createElement("div",{className:"monitor-info-context-view-wrapper"},o.createElement(m.ContextBarViewHeader,{title:this.props.title,onClose:this.props.onClose}),e&&"number"==typeof this.props.contextData.createdBy?o.createElement(b.default,null):o.createElement("div",{className:"monitor-info-context-view"},o.createElement("div",{className:"monitor-info-context-view__entity"},o.createElement("div",{className:"monitor-info-context-view__entity__label"},"ID"),o.createElement("div",{className:"monitor-info-context-view__entity__content"},o.createElement("div",{className:"monitor-info-context-view__entity__content__id"},this.monitorInfo.id),o.createElement(u.Button,{className:"monitor-info-context-view__entity__content__toggle",tooltip:this.state.idCopySuccess?"Copied":"Copy Monitor ID",type:"icon",onClick:()=>this.copyMonitorId(this.monitorInfo.id)},this.fetchCopyIcon(this.state.idCopySuccess)))),o.createElement("div",{className:"monitor-info-context-view__entity"},o.createElement(o.Fragment,null,o.createElement("div",{className:"monitor-info-context-view__entity__label"},"Created by"),o.createElement("div",{disabled:e,className:e&&"monitor-info-userinfo-offline"},o.createElement(d.default,D({},this.monitorInfo.creatorInfo,{containerClass:"monitor-info-context-view__entity__content"}))))),o.createElement("div",{className:"monitor-info-context-view__entity"},o.createElement("div",{className:"monitor-info-context-view__entity__label"},"Created at"),o.createElement("div",{className:"monitor-info-context-view__entity__content"},t)),this.monitorInfo.type===w.UPTIME_MONITOR_TYPE&&o.createElement(O.LinkedAPIInfo,{entityId:this.monitorInfo.id,entityType:"uptimemonitor",entityName:this.monitorInfo.name}),this.monitorInfo.type!=w.UPTIME_MONITOR_TYPE&&o.createElement(o.Fragment,null,o.createElement("div",{className:"monitor-info-context-view__entity"},o.createElement("div",{className:"monitor-info-context-view__entity__label"},"Collection"),o.createElement("div",{className:"monitor-info-context-view__entity__content monitor-info-context-view__entity__content--collection"},this.state.collectionLoading&&o.createElement(r.default,{color:"content-color-secondary",text:_.LOADING_STATE.generic}),this.monitorInfo.collection&&this.state.collectionInfo?o.createElement(o.Fragment,null,o.createElement(g.default,{to:e?"":{routeIdentifier:"collection.openWithWsSelect",routeParams:{cid:this.monitorInfo.collection}},className:"monitor-info-context-view__entity__content__collection"},e?o.createElement(u.Button,{type:"tertiary",className:"monitor-info-btn",disabled:e,tooltip:e&&_.TOOLTIP_TEXT.isOffline},o.createElement(C.default,{item:this.state.collectionInfo,hideForkLabelTooltip:!1})):o.createElement("div",{className:"monitor-info-text-link"},this.state.collectionInfo&&o.createElement(C.default,{type:"link",item:this.state.collectionInfo,hideForkLabelTooltip:!1}))),o.createElement("div",{className:"monitor-info-collection__collection-version-tag"},this.state.versionName)):o.createElement("span",{className:"monitor-info-context-view__entity__content__collection-empty"},!this.state.collectionLoading&&_.MONITOR_DETAILS_NO_COLLECTION))),o.createElement("div",{className:"monitor-info-context-view__entity"},o.createElement("div",{className:"monitor-info-context-view__entity__label"},"Environment"),o.createElement("div",{className:"monitor-info-context-view__entity__content monitor-info-context-view__entity__content--environment"},this.state.environmentLoading&&o.createElement(r.default,{color:"content-color-secondary",text:_.LOADING_STATE.generic}),this.state.environment?o.createElement(g.default,{to:e?"":{routeIdentifier:"build.environment",routeParams:{eid:this.monitorInfo.environment}},className:"monitor-info-context-view__entity__content__environment"},e?o.createElement(u.Button,{type:"tertiary",className:"monitor-info-btn",disabled:e,tooltip:e&&_.TOOLTIP_TEXT.isOffline},j.get(this.state.environment,"name",null)):o.createElement("div",{className:"monitor-info-text-link"},this.state.environment&&o.createElement(C.default,{type:"link",item:this.state.environment,hideForkLabelTooltip:!1}))):o.createElement("span",{className:"monitor-info-context-view__entity__content__environment-empty"},!this.state.environmentLoading&&_.NO_ENVIRONMENT))),o.createElement(O.LinkedAPIInfo,{entityId:this.monitorInfo.id,entityType:"monitor",entityName:this.monitorInfo.name}),j.includes(["dev","beta","stage","canary","prod"],window.RELEASE_CHANNEL)&&o.createElement(v.IntegrationContextBarList,{entityId:this.monitorInfo.id,entityType:"monitor"}))))}})||n},"./monitors/stores/domain/MonitorPermissionStore.js":function(e,t,i){i.r(t),i.d(t,{default:function(){return s}});var n=i("./js/stores/StoreManager.js"),o=i("./js/stores/CurrentUserStore.js"),r=i("./monitors/stores/domain/MasterMonitorStore.js"),a=(i("./monitors/constants.js"),i("./node_modules/lodash/lodash.js"));class s{constructor(){return s.instance||(this.masterMonitorStore=new r.default,s.instance=this),s.instance}isUserLoggedIn(){return(0,n.resolveStoreInstance)(o.default).isLoggedIn}can(e,t){const i=this.masterMonitorStore.getJobTemplateMetadata(t);return!(!i||!i.permissions)&&a.get(i.permissions,e,!1)}}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationClassService.js":function(e,t,i){i.r(t);var n=i("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts");const o="integrations";t.default={fetchIntegrationClassDetails(e,t){const i=`/integration-classes/${e}`;return n.HTTPGatewayService.request({data:{service:o,method:"get",path:i,query:t}})},fetchAvailableClasses:()=>n.HTTPGatewayService.request({data:{service:o,method:"get",path:"/integration-classes"}}),fetchAvailableServices:()=>n.HTTPGatewayService.request({data:{service:o,method:"get",path:"/services"}}),fetchIntegrationServiceDetails(e,t){const i=`/services/${e}`;return n.HTTPGatewayService.request({data:{service:o,method:"get",path:i,query:t}})}}},"./api-dev/components/api-info-widget/LinkedAPIInfo/LinkedAPIInfo.tsx":function(e,t,i){i.r(t),i.d(t,{LinkedAPIInfo:function(){return I}});var n=i("../../node_modules/react/index.js"),o=i("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=i("./node_modules/lodash/lodash.js"),a=i.n(r),s=i("./api-dev/util/EntityHelper.ts"),l=i("./appsdk/components/link/Link.js"),c=i("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=i("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=i("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=i("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),g=i("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),m=i("./api-dev/services/APIDevService.js"),h=i("./js/components/base/LoadingIndicator.js"),y=i("./js/utils/uid-helper.js"),f=function(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a};let I=class extends n.Component{constructor(e){super(e),this.loadData=()=>{let{entityType:e,entityId:t}=this.props;this.setState({loading:!0}),"collection"===e?m.default.getAPILinkedToCollection(t).then((e=>{e.api&&this.setState({linkedApi:e.api,linkedVersion:a().first(e.api.versions)||null,isAPILinked:!0})})).catch((e=>{pm.logger.warn("LinkedAPIInfo~loadData: Failed to delete API.",e)})).finally((()=>this.setState({loading:!1}))):("environment"===e&&(t=(0,y.decomposeUID)(t).modelId),m.default.getAPIAndVersionForRelation(e,t).then((e=>{this.setState({linkedApi:e,linkedVersion:e.apiVersion,isAPILinked:!0})})).catch((e=>{pm.logger.warn("LinkedAPIInfo~loadData: Failed to delete API.",e)})).finally((()=>this.setState({loading:!1}))))},this.renderLoadingState=()=>n.createElement(c.default,{justifyContent:"center"},n.createElement(h.default,null)),this.renderAPIInfo=()=>{const{linkedApi:e,linkedVersion:t}=this.state;if(e&&t)return n.createElement(l.default,{to:{routeIdentifier:"build.apiVersion",routeParams:{apiId:e.id,versionId:t.id}}},n.createElement(p.default,{type:"body-medium"},n.createElement(p.default,{type:"link-subtle"},e.name)))},this.renderEmptyState=()=>{const{entityType:e,entityId:t,entityName:i,entityInfo:o}=this.props,r=a().get(o,[e,"permissions","edit"]);return n.createElement(c.default,{direction:"column",gap:"spacing-xs",alignItems:"flex-start"},n.createElement(p.default,{type:"para"},"This ",(0,s.getUserFriendlyNameFromType)(e)," is not added to any API"),"monitor"!==e&&n.createElement(u.default,{onClick:()=>{pm.mediator.trigger("showAddAPIRelationModal",{id:t,name:i,type:e})},isDisabled:!r,tooltip:!r&&"You don't have permission to take this action.",type:"tertiary",text:"Add to API",icon:n.createElement(g.default,null)}))},this.state={linkedApi:null,linkedVersion:null,isAPILinked:!1,loading:!1},pm.windowEvents.addListener("relation-linked",this.handleEventUpdate.bind(this,"linked")),pm.windowEvents.addListener("relation-unlinked",this.handleEventUpdate.bind(this,"unlinked"))}componentDidMount(){this.loadData()}componentWillUnmount(){pm.windowEvents.removeListener("relation-linked",this.handleEventUpdate.bind(this,"linked")),pm.windowEvents.removeListener("relation-unlinked",this.handleEventUpdate.bind(this,"unlinked"))}handleEventUpdate(e,t){const i=t.relation.modelId;this.props.entityId===i&&("linked"===e?this.setState({isAPILinked:!0,linkedApi:{id:t.apiId,name:t.apiName},linkedVersion:{id:t.versionId,name:t.versionName}}):"unlinked"===e&&this.setState({isAPILinked:!1,linkedApi:null,linkedVersion:null}))}render(){const{isAPILinked:e,loading:t}=this.state,{className:i,padding:o}=this.props;return n.createElement(c.default,{className:i,direction:"column",gap:"spacing-s",padding:o},n.createElement(d.default,{text:"API"}),t&&this.renderLoadingState(),!t&&e&&this.renderAPIInfo(),!t&&!e&&this.renderEmptyState())}};I=f([o.observer],I)},"./api-dev/util/EntityHelper.ts":function(e,t,i){i.r(t),i.d(t,{getUserFriendlyNameFromType:function(){return o}});const n={environment:"environment",mock:"mock server",monitor:"monitor",uptimemonitor:"uptime monitor",collection:"collection",documentation:"documentation",test:"test",schema:"schema",apiDefinition:"definition",unclassified:"unclassified"},o=e=>e?n[e]:""},"./integrations/constants/IntegrationTargets.ts":function(e,t,i){i.r(t),i.d(t,{CATEGORY_ANALYTICS_NAV:function(){return s},CATEGORY_BACKUP:function(){return l},CATEGORY_NOTIFICATIONS_NAV:function(){return a},CLIENT_CATEGORY_COLLECTION_BACKUP:function(){return n},CLIENT_CATEGORY_MONITOR_ANALYTICS:function(){return o},CLIENT_CATEGORY_MONITOR_NOTIFICATIONS:function(){return r},INTERNAL_ENTITY_NAME_MAPPING:function(){return c}});const n="backup-collection",o="analytics-monitor",r="notifications-monitor",a="notifications",s="analytics",l="Backup",c={monitor:"jobTemplate",collection:"collection"}},"./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationInstanceService.ts":function(e,t,i){i.r(t);var n=i("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts"),o=i("./node_modules/lodash/lodash.js"),r=i.n(o);const a="integrations",s="/integration-instances",l="/bulk";t.default={fetchIntegrationInstanceDetails(e,t){const i=`/integration-instances/${e}`;return n.HTTPGatewayService.request({data:{service:a,method:"get",path:i,query:t}})},getConfiguredIntegrationsForAnEntity(e,t,i){const o=r().join(i,",");return n.HTTPGatewayService.request({data:{service:a,method:"get",path:"/integration-instances",query:{entityType:e,entityId:t,clientCategory:o}}})},createIntegrationInstance(e,t,i){const o=r().map(i,((e,t)=>({key:t,value:e})));return n.HTTPGatewayService.request({data:{service:a,method:"post",path:"/integration-instances",body:{class:e,name:t,inputs:o}}})},createIntegrationInstanceBulk(e){const t=s+l;return n.HTTPGatewayService.request({data:{service:a,method:"post",path:t,body:e}})},updateIntegrationInstance(e,t,i){const o=`/integration-instances/${e}`,s=r().map(i,((e,t)=>({key:t,value:e}))),l={};return r().isNil(t)||(l.name=t),r().isEmpty(s)||(l.inputs=s),n.HTTPGatewayService.request({data:{service:a,method:"put",path:o,body:l}})}}}}]);