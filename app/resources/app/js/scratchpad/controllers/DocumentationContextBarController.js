"use strict";(self.webpackChunk_postman_app_scratchpad=self.webpackChunk_postman_app_scratchpad||[]).push([[16],{6574:function(e,t,r){r.r(t),r.d(t,{default:function(){return s}});var o,i=r(6575),n=r(1007),a=r(1013);let s=(c=(o=class{constructor(){this.entityId=void 0,this.entityUid=void 0,this.entityType=void 0,this.owner=void 0,this.unsavedDescription=null,this.updateUnsavedDescription=e=>{this.unsavedDescription=e}}get store(){const e=(0,a.getStore)("ActiveWorkspaceSessionStore").activeEditor,t=(0,a.getStore)("EditorStore").find(e);if(t){const e=t.resource,r="v2implview://stubView/";if(e.startsWith(r)){const[t,o]=e.replace(r,"").split("/");return new i.default(t,o)}}return null}willDestroy(){this.codegen=void 0}get contextBarUnsavedDescription(){return this.unsavedDescription}}).prototype,u="store",l=[n.computed],d=Object.getOwnPropertyDescriptor(o.prototype,"store"),p=o.prototype,T={},Object.keys(d).forEach((function(e){T[e]=d[e]})),T.enumerable=!!T.enumerable,T.configurable=!!T.configurable,("value"in T||T.initializer)&&(T.writable=!0),T=l.slice().reverse().reduce((function(e,t){return t(c,u,e)||e}),T),p&&void 0!==T.initializer&&(T.value=T.initializer?T.initializer.call(p):void 0,T.initializer=void 0),void 0===T.initializer&&(Object.defineProperty(c,u,T),T=null),o);var c,u,l,d,p,T},6577:function(e,t,r){r.r(t),r.d(t,{fetchAllTags:function(){return h},fetchCollectionExistenceInActiveWorkspace:function(){return I},fetchCustomDomains:function(){return O},fetchData:function(){return T},fetchPermissions:function(){return y},fetchPublishedData:function(){return E},fetchWorkspaces:function(){return D},joinWorkspace:function(){return g},publishDocumentation:function(){return N},unpublishDocumentation:function(){return m},updateData:function(){return f}});var o=r(6578),i=r.n(o),n=r(21),a=r.n(n),s=r(1209),c=r(3467),u=r(1450),l=r(1012),d=r(1013),p=r(1485);function T(e,t,r,o={}){let n=o.populate,a=o.format,u=o.versionTag||c.DOCUMENTATION_LATEST_VERSION_STRING,l=i().stringify({populate:n,format:a,versionTag:u,owner:r}),d=`/${e}/${t}?${l}`;return new Promise(((r,o)=>{s.default.request(d,{method:"get"}).then((i=>{let n=i&&i.status,a=i&&i.body;!n||n>=400&&n<600?(pm.logger.error(`Failed to fetch ${e}, with Id: ${t}`,n,a),o({error:new Error(`Failed to fetch ${e}, with Id: ${t}, status: ${n}`),status:n})):r(i)}))}))}function f(e,t,r){const o={namespace:e,name:c.DOCUMENTATION_UPDATE_ACTION.UPDATE,data:{id:t,...r}};return(0,u.default)(o)}function h(e){if(!e)return Promise.reject(new Error("DocumentationService~fetchAllTags: collectionUid not found"));let t=`/collections/${e}/versiontags?populate=apiVersion`;return s.default.request(t,{method:"get"}).then((e=>{let t=a().get(e,"body.data");return a().map(t,(e=>({id:a().get(e,"id"),name:a().get(e,"apiVersion.name")})))}))}function E(e){return s.default.request("/ws/proxy",{method:"post",data:{service:"documenter",method:"get",path:`/documentation?published=true&collectionUid=${e}`}}).then((t=>{let r=t&&t.status,o=t&&t.body;return!r||r>=400&&r<600?(pm.logger.error(`Failed to fetch published status of collection, with Id: ${e}`,r,o),Promise.reject({error:new Error(`Failed to fetch collection, with Id: ${e}, status: ${r}`),statusCode:r})):Promise.resolve(t)})).catch((t=>(pm.logger.error(`Failed to fetch published status of collection, with Id: ${e}`,500,t),Promise.reject({error:new Error(`Failed to fetch collection, with Id: ${e}, status: 500`),statusCode:500}))))}function O(){return s.default.request("/ws/proxy",{method:"post",data:{service:"documenter",method:"get",path:"/domains"}}).then((e=>Promise.resolve(e))).catch((e=>{let t=e.status||500;return pm.logger.error("Failed to fetch custom domains",t,e),Promise.reject({error:new Error(`Failed to fetch custom domains, status: ${t}`),statusCode:t})}))}function N(e){return s.default.request("/ws/proxy",{method:"post",data:{service:"documenter",method:"post",path:"/documentation",body:e}}).then((e=>{let t=e&&e.status;return!t||t>=400&&t<600?(pm.logger.error("Failed to publish collection",t,e.body),Promise.reject({error:new Error(`Failed to publish collection, status: ${t}`),statusCode:t})):Promise.resolve(e)})).catch((e=>{let t=e.status||500;return pm.logger.error("Failed to publish documentation",t,e),Promise.reject({error:new Error(`Failed to publish documentation, status: ${t}`),statusCode:t})}))}function m(e){return s.default.request("/ws/proxy",{method:"post",data:{service:"documenter",method:"delete",path:`/documentation?uid=${e}`}}).then((t=>{let r=t&&t.status;return!r||r>=400&&r<600?(pm.logger.error(`Failed to fetch published status of collection, with Id: ${e}`,r,t.body),Promise.reject({error:new Error(`Failed to fetch collection, with Id: ${e}, status: ${r}`),statusCode:r})):Promise.resolve(t)})).catch((e=>{let t=e.status||500;return pm.logger.error("Failed to unpublish documentation",t,e),Promise.reject({error:new Error(`Failed to unpublish documentation, status: ${t}`),statusCode:t})}))}async function I(e,t){try{let r=t&&t.workspaceId;t||(r=(0,d.getStore)("ActiveWorkspaceStore").id);let o=await async function(e){let t=(0,d.getStore)("WorkspaceStore").find(e);const r=a().get(t,["dependencies","collections"],[]);t&&0!==r.length||(t=await p.default.get({id:e},{populate:[]}));return t}(r);return Promise.resolve(a().includes(a().get(o,["dependencies","collections"]),e))}catch(e){return pm.logger.error("DocumentationService~fetchCollectionExistenceInActiveWorkspace",e),Promise.reject(new Error("DocumentationService~fetchCollectionExistenceInActiveWorkspace: An error occurred while fetching existence."))}}function y(e){return s.default.request("/ws/proxy",{method:"post",data:{path:"/api/permissions/check",service:"acs",method:"post",body:{checks:e}}}).then((({body:e})=>a().get(e,"results",{}))).catch((e=>(pm.logger.error("DocumentationService~fetchPermissions: Failed to fetch permissions for Documentation.",e),Promise.reject(e))))}async function D(){return await(0,d.getStore)("SyncStatusStore").onSyncAvailable(),p.default.getAll({dependencies:!0,groups:!0}).then((e=>e&&Array.isArray(e)?Promise.resolve(e):Promise.reject("Workspaces were not returned in the expected format."))).catch((e=>(pm.logger.error("ShareToWorkspace~fetchPublicWorkspaces: Failed to load public workspaces:",e),Promise.reject(e))))}function g(e){if(!e)return Promise.reject(new Error("DocumentationService~joinWorkspace: workspaceId not supplied"));let t=(0,l.createEvent)("join","workspace",{model:"workspace",workspace:{id:e}});return(0,u.default)(t).then((e=>Promise.resolve(e))).catch((t=>(pm.logger.error("DocumentationService~joinWorkspace: Failed to join workspace:",e,t),Promise.reject(t))))}},6575:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var o,i,n=r(1007),a=r(3467),s=r(6576);function c(e,t,r,o,i){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,o){return o(e,t,r)||r}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let u=((i=class{constructor(e,t){this.entityType=e,this.entityUid=t,this.masterStore=s.default.getInstance()}get isOffline(){return this.masterStore.isOffline}get isEditable(){return this.masterStore.isEditable}get activeEnvironmentVariables(){return this.masterStore.activeEnvironmentVariables}get isUserMemberOfActiveWorkspace(){return this.masterStore.isUserMemberOfActiveWorkspace}get entityData(){let{data:e,status:t}=this.masterStore.getData({uid:this.entityUid,type:this.entityType,versionTag:a.DOCUMENTATION_LATEST_VERSION_STRING},{withPublishedData:!0});return{isLoading:t===a.DOCUMENTATION_STATUS.LOADING,error:t===a.DOCUMENTATION_STATUS.ERROR,data:e}}get parentCollectionData(){const{data:e}=this.entityData;if(this.entityType===a.DOCUMENTATION_ENTITY.COLLECTION)return e;if(!e)return;const t=`${e.owner}-${e.collection}`;return this.masterStore.getData({uid:t,type:a.DOCUMENTATION_ENTITY.COLLECTION,versionTag:a.DOCUMENTATION_LATEST_VERSION_STRING}).data}updateDescription(e){this.masterStore.updateDescription({type:this.entityType,uid:this.entityUid},e)}}).masterStoreGetMethod={[a.DOCUMENTATION_ENTITY.COLLECTION]:"getCollection",[a.DOCUMENTATION_ENTITY.FOLDER]:"getFolder",[a.DOCUMENTATION_ENTITY.REQUEST]:"getRequest"},c((o=i).prototype,"entityData",[n.computed],Object.getOwnPropertyDescriptor(o.prototype,"entityData"),o.prototype),c(o.prototype,"parentCollectionData",[n.computed],Object.getOwnPropertyDescriptor(o.prototype,"parentCollectionData"),o.prototype),o)},6576:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var o,i,n,a,s,c=r(1007),u=r(1013),l=r(2783),d=r(2789),p=r(2759),T=r(3467),f=r(6577),h=r(1485),E=r(1032),O=r(21);function N(e,t,r,o){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(o):void 0})}function m(e,t,r,o,i){var n={};return Object.keys(o).forEach((function(e){n[e]=o[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=r.slice().reverse().reduce((function(r,o){return o(e,t,r)||r}),n),i&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(i):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}let I=(s=class e{constructor(){N(this,"collections",i,this),N(this,"folders",n,this),N(this,"requests",a,this)}static getInstance(){return void 0===e.instance&&(e.instance=new e),e.instance}get isOffline(){return!(0,u.getStore)("SyncStatusStore").isSocketConnected}get isEditable(){return!0}get activeEnvironmentVariables(){return(0,u.getStore)("ActiveEnvironmentStore").enabledValues}get isUserMemberOfActiveWorkspace(){return(0,u.getStore)("ActiveWorkspaceStore").isMember}getData(e,t={withPublishedData:!1}){const{uid:r,type:o,versionTag:i=T.DOCUMENTATION_LATEST_VERSION_STRING}=e,n=this._findItem(e),{withPublishedData:a}=t;n||(this._createInitialState({uid:r,type:o,versionTag:i}),i===T.DOCUMENTATION_LATEST_VERSION_STRING?this._fetchDataFromInterface({uid:r,type:o}):this._fetchDataFromSync({uid:r,type:o,versionTag:i}));let s=n||this._findItem(e);return o===T.DOCUMENTATION_ENTITY.COLLECTION&&i===T.DOCUMENTATION_LATEST_VERSION_STRING&&a&&s&&!s.publishedData&&this._fetchPublishedData(r),s}_findItem(e){const{uid:t,type:r,versionTag:o=T.DOCUMENTATION_LATEST_VERSION_STRING}=e;switch(r){case T.DOCUMENTATION_ENTITY.COLLECTION:return this.collections[`${t}:${o}`];case T.DOCUMENTATION_ENTITY.FOLDER:return this.folders[`${t}:${o}`];case T.DOCUMENTATION_ENTITY.REQUEST:return this.requests[`${t}:${o}`];default:throw new TypeError(`DocumentationMasterStore~_findItem: unknown entity type - ${r}`)}}_createInitialState(e){const{uid:t,type:r,versionTag:o=T.DOCUMENTATION_LATEST_VERSION_STRING}=e;switch(r){case T.DOCUMENTATION_ENTITY.COLLECTION:this.collections[`${t}:${o}`]={status:T.DOCUMENTATION_STATUS.LOADING,data:void 0};break;case T.DOCUMENTATION_ENTITY.FOLDER:this.folders[`${t}:${o}`]={status:T.DOCUMENTATION_STATUS.LOADING,data:void 0};break;case T.DOCUMENTATION_ENTITY.REQUEST:this.requests[`${t}:${o}`]={status:T.DOCUMENTATION_STATUS.LOADING,data:void 0};break;default:throw new TypeError(`DocumentationMasterStore~_createInitialState: unknown entity type - ${r}`)}}async _fetchDataFromInterface(e){const{uid:t,type:r}=e,o={...e,versionTag:T.DOCUMENTATION_LATEST_VERSION_STRING};this._updateStatus(o,T.DOCUMENTATION_STATUS.LOADING);try{let e;switch(r){case T.DOCUMENTATION_ENTITY.COLLECTION:e=l.getCollection;break;case T.DOCUMENTATION_ENTITY.FOLDER:e=d.getFolder;break;case T.DOCUMENTATION_ENTITY.REQUEST:e=p.getRequest;break;default:throw new TypeError(`DocumentationMasterStore~_fetchDataFromInterface: unknown entity type - ${r}`)}const i=await e(t);this._updateData(o,i),this._updateStatus(o,T.DOCUMENTATION_STATUS.DATA_FETCHED)}catch(e){this._updateStatus(o,T.DOCUMENTATION_STATUS.ERROR)}}async _fetchDataFromSync(e){const{uid:t,type:r,versionTag:o}=e;if(this._updateStatus(e,T.DOCUMENTATION_STATUS.LOADING),this.isOffline)this._updateStatus(e,T.DOCUMENTATION_STATUS.DATA_NOT_AVAILABLE_OFFLINE);else try{const[i,...n]=t.split("-"),a=n.join("-"),s=(await(0,f.fetchData)(r,a,i,{populate:!0,versionTag:o})).body.data,c=this._transformData(s,r);this._updateData(e,c),this._updateStatus(e,T.DOCUMENTATION_STATUS.DATA_FETCHED)}catch(t){this._updateStatus(e,T.DOCUMENTATION_STATUS.ERROR)}}async _fetchPublishedData(e){try{let t=await(0,f.fetchPublishedData)(e);t=O.get(t,"body.collections");const r={uid:e,type:T.DOCUMENTATION_ENTITY.COLLECTION,versionTag:T.DOCUMENTATION_LATEST_VERSION_STRING},{data:o}=this._findItem(r);o.publishedData=t,this._updateData(r,o)}catch(t){pm.logger.error(`DocumentationMasterStore~_fetchPublishedData: error in fetching published data for collection with uid - ${e}`)}}_transformData(e,t){const r=e.folders,o=e.requests,i=e.responses;function n(e){const t=r.find((t=>t.id===e)),o=t.folders_order.map((e=>n(e))),i=t.order.map((e=>a(e)));return{...t,ownFolders:o,ownRequests:i,type:T.DOCUMENTATION_ENTITY.FOLDER}}function a(e){const t=o.find((t=>t.id===e));return{...t,ownResponses:t.responses,type:T.DOCUMENTATION_ENTITY.REQUEST}}return{...e,uid:`${e.owner}-${e.id}`,ownFolders:t!==T.DOCUMENTATION_ENTITY.REQUEST?e.folders_order.map((e=>n(e))):void 0,ownRequests:t!==T.DOCUMENTATION_ENTITY.REQUEST?e.order.map((e=>a(e))):void 0,ownResponses:t===T.DOCUMENTATION_ENTITY.REQUEST?i:void 0,type:T.DOCUMENTATION_ENTITY.COLLECTION}}_updateStatus(e,t){const{uid:r,type:o,versionTag:i}=e,n=`${r}:${i}`;let a;switch(o){case T.DOCUMENTATION_ENTITY.COLLECTION:a=this.collections;break;case T.DOCUMENTATION_ENTITY.FOLDER:a=this.folders;break;case T.DOCUMENTATION_ENTITY.REQUEST:a=this.requests;break;default:throw new TypeError(`DocumentationMasterStore~_updateStatus: unknown entity type - ${o}`)}if(!a[n])throw new Error(`DocumentationMasterStore~_updateStatus: entry found for uid - ${r}, type - ${o}, versionTag - ${i}. Initialize state using _createInitialState method.`);a[n].status=t}_updateData(e,t){const{uid:r,type:o,versionTag:i}=e,n=`${r}:${i}`;let a;switch(o){case T.DOCUMENTATION_ENTITY.COLLECTION:a=this.collections;break;case T.DOCUMENTATION_ENTITY.FOLDER:a=this.folders;break;case T.DOCUMENTATION_ENTITY.REQUEST:a=this.requests;break;default:throw new TypeError(`DocumentationMasterStore~_updateData: unknown entity type - ${o}`)}if(!a[n])throw new Error(`DocumentationMasterStore~_updateData: no entry found for uid - ${r}, type - ${o}, versionTag - ${i}. Initialize state using _createInitialState method.`);a[n].data=t}updateName(e,t){const{type:r,uid:o}=e;let i;switch(r){case T.DOCUMENTATION_ENTITY.COLLECTION:i=l.updateCollection;break;case T.DOCUMENTATION_ENTITY.FOLDER:i=d.updateFolder;break;case T.DOCUMENTATION_ENTITY.REQUEST:i=p.updateRequest;break;default:throw new TypeError(`DocumentationMasterStore~updateName: unknown entity type - ${r}`)}return i(o,{name:t})}updateDescription(e,t){const{type:r,uid:o}=e;let i;switch(r){case T.DOCUMENTATION_ENTITY.COLLECTION:i=l.updateCollection;break;case T.DOCUMENTATION_ENTITY.FOLDER:i=d.updateFolder;break;case T.DOCUMENTATION_ENTITY.REQUEST:i=p.updateRequest;break;default:throw new TypeError(`DocumentationMasterStore~updateName: unknown entity type - ${r}`)}return i(o,{description:t})}get activeWorkspaceId(){return(0,u.getStore)("ActiveWorkspaceStore").id}getEnvironmentsForWorkspace(e){const t=(0,u.getStore)("ActiveWorkspaceStore"),r=t.id,o=t.environments;if(e!==r||0===o.length){const t=(0,c.observable)([]);return(0,u.getStore)("SyncStatusStore").onSyncAvailable().then((()=>{h.default.get({id:e},{populate:["dependencies.environments"]}).then((0,c.action)((e=>{const r=Object.values(e.environments).map((e=>{const{modelId:t}=(0,E.decomposeUID)(e.id);return{...e,id:t}}));t.push(...r)}))).catch((t=>{pm.logger.error(`DocumentationMasterStore~getEnvironmentsForWorkspace: Error fetching environments for workspace - ${e}`,t)}))})),t}return o}},s.instance=void 0,i=m((o=s).prototype,"collections",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),n=m(o.prototype,"folders",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),a=m(o.prototype,"requests",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),m(o.prototype,"isOffline",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"isOffline"),o.prototype),m(o.prototype,"isEditable",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"isEditable"),o.prototype),m(o.prototype,"_updateStatus",[c.action],Object.getOwnPropertyDescriptor(o.prototype,"_updateStatus"),o.prototype),m(o.prototype,"_updateData",[c.action],Object.getOwnPropertyDescriptor(o.prototype,"_updateData"),o.prototype),m(o.prototype,"activeWorkspaceId",[c.computed],Object.getOwnPropertyDescriptor(o.prototype,"activeWorkspaceId"),o.prototype),o)},6578:function(e,t,r){var o=t,i=r(183).Buffer;function n(e,t){try{return decodeURIComponent(e)}catch(r){return o.unescapeBuffer(e,t).toString()}}o.unescapeBuffer=function(e,t){for(var r,o,n,a=new i(e.length),s=0,c=0,u=0;c<=e.length;c++){var l=c<e.length?e.charCodeAt(c):NaN;switch(s){case 0:switch(l){case 37:r=0,o=0,s=1;break;case 43:t&&(l=32);default:a[u++]=l}break;case 1:if(n=l,l>=48&&l<=57)r=l-48;else if(l>=65&&l<=70)r=l-65+10;else{if(!(l>=97&&l<=102)){a[u++]=37,a[u++]=l,s=0;break}r=l-97+10}s=2;break;case 2:if(s=0,l>=48&&l<=57)o=l-48;else if(l>=65&&l<=70)o=l-65+10;else{if(!(l>=97&&l<=102)){a[u++]=37,a[u++]=n,a[u++]=l;break}o=l-97+10}a[u++]=16*r+o}}return a.slice(0,u-1)},o.unescape=n;for(var a=new Array(256),s=0;s<256;++s)a[s]="%"+((s<16?"0":"")+s.toString(16)).toUpperCase();o.escape=function(e){"string"!=typeof e&&(e+="");for(var t="",r=0,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(!(33===i||45===i||46===i||95===i||126===i||i>=39&&i<=42||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122))if(o-r>0&&(t+=e.slice(r,o)),i<128)r=o+1,t+=a[i];else if(i<2048)r=o+1,t+=a[192|i>>6]+a[128|63&i];else if(i<55296||i>=57344)r=o+1,t+=a[224|i>>12]+a[128|i>>6&63]+a[128|63&i];else{var n;if(!(++o<e.length))throw new URIError("URI malformed");n=1023&e.charCodeAt(o),r=o+1,t+=a[240|(i=65536+((1023&i)<<10|n))>>18]+a[128|i>>12&63]+a[128|i>>6&63]+a[128|63&i]}}return 0===r?e:r<e.length?t+e.slice(r):t};var c=function(e){return"string"==typeof e?e:"number"==typeof e&&isFinite(e)?""+e:"boolean"==typeof e?e?"true":"false":""};function u(e,t){try{return t(e)}catch(t){return o.unescape(e,!0)}}o.stringify=o.encode=function(e,t,r,i){t=t||"&",r=r||"=";var n=o.escape;if(i&&"function"==typeof i.encodeURIComponent&&(n=i.encodeURIComponent),null!==e&&"object"==typeof e){for(var a=Object.keys(e),s=a.length,u=s-1,l="",d=0;d<s;++d){var p=a[d],T=e[p],f=n(c(p))+r;if(Array.isArray(T)){for(var h=T.length,E=h-1,O=0;O<h;++O)l+=f+n(c(T[O])),O<E&&(l+=t);h&&d<u&&(l+=t)}else l+=f+n(c(T)),d<u&&(l+=t)}return l}return""},o.parse=o.decode=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;"string"!=typeof t&&(t+="");var s=r.length,c=t.length,l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var d=1/0;l>0&&(d=l);var p=o.unescape;i&&"function"==typeof i.decodeURIComponent&&(p=i.decodeURIComponent);for(var T=p!==n,f=[],h=0,E=0,O=0,N="",m="",I=T,y=T,D=0,g=0;g<e.length;++g){var S=e.charCodeAt(g);if(S!==t.charCodeAt(E)){if(E=0,y||(37===S?D=1:D>0&&(S>=48&&S<=57||S>=65&&S<=70||S>=97&&S<=102)?3==++D&&(y=!0):D=0),O<s){if(S===r.charCodeAt(O)){if(++O===s)h<(b=g-O+1)&&(N+=e.slice(h,b)),D=0,h=g+1;continue}O=0,I||(37===S?D=1:D>0&&(S>=48&&S<=57||S>=65&&S<=70||S>=97&&S<=102)?3==++D&&(I=!0):D=0)}43===S&&(O<s?(g-h>0&&(N+=e.slice(h,g)),N+="%20",I=!0):(g-h>0&&(m+=e.slice(h,g)),m+="%20",y=!0),h=g+1)}else if(++E===c){var v,b=g-E+1;if(O<s?h<b&&(N+=e.slice(h,b)):h<b&&(m+=e.slice(h,b)),I&&(N=u(N,p)),y&&(m=u(m,p)),-1===f.indexOf(N))a[N]=m,f[f.length]=N;else(v=a[N])instanceof Array?v[v.length]=m:a[N]=[v,m];if(0==--d)break;I=y=T,D=0,N=m="",h=g+1,E=O=0}}d>0&&(h<e.length||O>0)&&(h<e.length&&(O<s?N+=e.slice(h):E<c&&(m+=e.slice(h))),I&&(N=u(N,p)),y&&(m=u(m,p)),-1===f.indexOf(N)?(a[N]=m,f[f.length]=N):(v=a[N])instanceof Array?v[v.length]=m:a[N]=[v,m]);return a}}}]);