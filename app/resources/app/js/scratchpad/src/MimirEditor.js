"use strict";(self.webpackChunk_postman_app_scratchpad=self.webpackChunk_postman_app_scratchpad||[]).push([[28],{15562:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"8",height:"5",viewBox:"0 0 8 5",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.99954 2.9697L1.26471 0.23487L0.734375 0.7652L3.99954 4.03037L7.26471 0.7652L6.73438 0.23487L3.99954 2.9697Z",fill:"#6B6B6B"}));function i(e){return r.createElement(o.default,l({},e,{icon:a,size:"xs"}))}},15567:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M1.00005 14.5L5.00009 14.5C5.27624 14.5 5.50009 14.2761 5.50009 14L5.50009 1.99997C5.50009 1.72383 5.27623 1.49997 5.00009 1.49997L1 1.5",stroke:"#6B6B6B"}),r.createElement("path",{d:"M7 8H13",stroke:"#6B6B6B"}),r.createElement("path",{d:"M10 11V5",stroke:"#6B6B6B"}),r.createElement("path",{d:"M7.00005 14.5H13C13.8285 14.5 14.5 13.8284 14.5 13V7.99997V2.99997C14.5 2.17154 13.8285 1.49997 13 1.49997H7",stroke:"#6B6B6B",strokeDasharray:"1.8 1"}));function i(e){return r.createElement(r.Fragment,null,r.createElement(o.default,l({},e,{icon:a})),r.createElement("span",{className:"icon__label"},"Add Column"))}},15568:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M1.00005 14.5L5.00009 14.5C5.27624 14.5 5.50009 14.2761 5.50009 14L5.50009 1.99997C5.50009 1.72383 5.27623 1.49997 5.00009 1.49997L1 1.5",stroke:"#6B6B6B"}),r.createElement("path",{d:"M7.5 5.5L12.5 10.5",stroke:"#6B6B6B"}),r.createElement("path",{d:"M7.5 10.5L12.5 5.5",stroke:"#6B6B6B"}),r.createElement("path",{d:"M7.00005 14.5H13C13.8285 14.5 14.5 13.8284 14.5 13V7.99997V2.99997C14.5 2.17154 13.8285 1.49997 13 1.49997H7",stroke:"#6B6B6B",strokeDasharray:"1.8 1"}));function i(e){return r.createElement(r.Fragment,null,r.createElement(o.default,l({},e,{icon:a})),r.createElement("span",{className:"icon__label"},"Delete Column"))}},15570:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M6.70715 6.00004L10.3536 2.35359L9.64648 1.64648L6.00004 5.29293L2.35359 1.64648L1.64648 2.35359L5.29293 6.00004L1.64648 9.64648L2.35359 10.3536L6.00004 6.70715L9.64648 10.3536L10.3536 9.64648L6.70715 6.00004Z",fill:"#0265D2"}));function i(e){return r.createElement(o.default,l({},e,{icon:a,size:"xs"}))}},15563:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M4 1V0H8V1H11V2H1V1H4Z",fill:"#0053B8"}),r.createElement("path",{d:"M3 10.5V3H2V10.5C2 11.3284 2.67157 12 3.5 12H8.5C9.32843 12 10 11.3284 10 10.5V3H9V10.5C9 10.7761 8.77614 11 8.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z",fill:"#0053B8"}),r.createElement("path",{d:"M4.25 10V3H5.25V10H4.25Z",fill:"#0053B8"}),r.createElement("path",{d:"M6.75 3V10H7.75V3H6.75Z",fill:"#0053B8"}));function i(e){return r.createElement(o.default,l({},e,{icon:a,size:"xs"}))}},15564:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.1693 1.01517C9.72997 0.575834 9.01766 0.575834 8.57832 1.01517L1.23365 8.35984C1.17839 8.41511 1.14177 8.48627 1.12892 8.56336L0.771183 10.7098C0.720422 11.0144 0.98447 11.2784 1.28904 11.2276L3.43547 10.8699C3.51256 10.8571 3.58372 10.8204 3.63898 10.7652L10.9837 3.4205C11.423 2.98116 11.423 2.26885 10.9837 1.82951L10.1693 1.01517ZM9.10865 1.5455C9.2551 1.39906 9.49254 1.39906 9.63898 1.5455L10.4533 2.35984C10.5998 2.50629 10.5998 2.74373 10.4533 2.89017L9.07915 4.26435L7.73448 2.91968L9.10865 1.5455ZM7.20415 3.45001L1.84896 8.8052L1.58003 10.4188L3.19363 10.1499L8.54882 4.79468L7.20415 3.45001Z",fill:"#0053B8"}));function i(e){return r.createElement(o.default,l({},e,{icon:a,size:"xs"}))}},15565:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M1.5 1.00005L1.50003 5.00009C1.50003 5.27624 1.72389 5.50009 2.00003 5.50009H14C14.2762 5.50009 14.5 5.27623 14.5 5.00009L14.5 1",stroke:"#6B6B6B"}),r.createElement("path",{d:"M8 7V13",stroke:"#6B6B6B"}),r.createElement("path",{d:"M5 10H11",stroke:"#6B6B6B"}),r.createElement("path",{d:"M1.50003 7.00005V13C1.50003 13.8285 2.1716 14.5 3.00003 14.5H8.00003H13C13.8285 14.5 14.5 13.8285 14.5 13V7",stroke:"#6B6B6B",strokeDasharray:"1.8 1"}));function i(e){return r.createElement(r.Fragment,null,r.createElement(o.default,l({},e,{icon:a})),r.createElement("span",{className:"icon__label"},"Add Row"))}},15566:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M1.5 1.00005L1.50003 5.00009C1.50003 5.27624 1.72389 5.50009 2.00003 5.50009H14C14.2762 5.50009 14.5 5.27623 14.5 5.00009L14.5 1",stroke:"#6B6B6B"}),r.createElement("path",{d:"M10.5 7.5L5.5 12.5",stroke:"#6B6B6B"}),r.createElement("path",{d:"M5.5 7.5L10.5 12.5",stroke:"#6B6B6B"}),r.createElement("path",{d:"M1.50003 7.00005V13C1.50003 13.8285 2.1716 14.5 3.00003 14.5H8.00003H13C13.8285 14.5 14.5 13.8285 14.5 13V7",stroke:"#6B6B6B",strokeDasharray:"1.8 1"}));function i(e){return r.createElement(r.Fragment,null,r.createElement(o.default,l({},e,{icon:a})),r.createElement("span",{className:"icon__label"},"Delete Row"))}},15569:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M6 0V1H2V2H14V1H10V0H6Z",fill:"#6B6B6B"}),r.createElement("path",{d:"M4 4V14.5C4 14.7761 4.22386 15 4.5 15H11.5C11.7761 15 12 14.7761 12 14.5V4H13V14.5C13 15.3284 12.3284 16 11.5 16H4.5C3.67157 16 3 15.3284 3 14.5V4H4Z",fill:"#6B6B6B"}),r.createElement("path",{d:"M6 13V4H7V13H6Z",fill:"#6B6B6B"}),r.createElement("path",{d:"M9 4V13H10V4H9Z",fill:"#6B6B6B"}));function i(e){return r.createElement(r.Fragment,null,r.createElement(o.default,l({},e,{icon:a})),r.createElement("span",{className:"icon__label"},"Delete Table"))}},15571:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(1),o=n(1600);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a=r.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M9.56842 0C8.94537 0 8.32094 0.225859 7.86752 0.679279L6.20085 2.34595C6.17133 2.37547 6.15193 2.411 6.12518 2.44144L6.77563 3.09369C6.80238 3.06233 6.82358 3.02772 6.85311 2.9982L8.52157 1.33153C8.8011 1.05201 9.17266 0.899099 9.56842 0.899099C9.96418 0.899099 10.3354 1.05162 10.6315 1.34775C11.2081 1.92432 11.2081 2.86574 10.6315 3.44324L8.96482 5.10991C8.93622 5.13851 8.90069 5.16063 8.86932 5.18739L9.52157 5.83964C9.55202 5.81196 9.58755 5.79168 9.61707 5.76216L11.2837 4.0955C12.221 3.15821 12.2223 1.63317 11.2675 0.679279C10.8146 0.225859 10.1915 0 9.56842 0ZM2.31437 1.84865C2.22249 1.84867 2.13272 1.87612 2.05655 1.92748C1.98037 1.97885 1.92127 2.05179 1.88682 2.13696C1.85237 2.22212 1.84413 2.31564 1.86316 2.40552C1.88219 2.4954 1.92763 2.57755 1.99365 2.64144L3.83869 4.48649C3.92542 4.57298 4.04296 4.62148 4.16545 4.62131C4.28794 4.62114 4.40535 4.57232 4.49184 4.48559C4.57834 4.39885 4.62683 4.28131 4.62667 4.15882C4.6265 4.03633 4.57768 3.91893 4.49094 3.83243L2.6459 1.98739C2.60273 1.94326 2.55115 1.90824 2.4942 1.8844C2.43725 1.86057 2.3761 1.84841 2.31437 1.84865ZM2.545 6.08108C2.49149 6.12628 2.43445 6.16368 2.38464 6.21441L0.716168 7.88108C-0.221115 8.81836 -0.220625 10.3434 0.734186 11.2973C1.20283 11.7659 1.81796 12 2.43328 12C3.04861 12 3.66374 11.765 4.13238 11.2973L5.80085 9.63063C5.85159 9.57989 5.88718 9.52197 5.93238 9.46847L5.28013 8.81622C5.23862 8.87157 5.19754 8.92764 5.1468 8.97838L3.47833 10.645C2.90083 11.2216 1.9616 11.2221 1.36842 10.627C1.0889 10.3475 0.934186 9.97594 0.934186 9.58018C0.934186 9.18442 1.0889 8.81286 1.36842 8.53333L3.03689 6.86667C3.0867 6.81685 3.1419 6.77665 3.19725 6.73514L2.545 6.08108ZM7.8495 7.38378C7.75763 7.3838 7.66785 7.41125 7.59168 7.46262C7.51551 7.51398 7.45641 7.58692 7.42195 7.67209C7.3875 7.75726 7.37926 7.85078 7.39829 7.94066C7.41733 8.03053 7.46276 8.11268 7.52878 8.17658L9.37383 10.0216C9.46056 10.1081 9.5781 10.1566 9.70059 10.1564C9.82308 10.1563 9.94048 10.1075 10.027 10.0207C10.1135 9.93399 10.162 9.81645 10.1618 9.69396C10.1616 9.57147 10.1128 9.45406 10.0261 9.36757L8.18103 7.52252C8.13787 7.47839 8.08628 7.44337 8.02933 7.41954C7.97238 7.39571 7.91123 7.38355 7.8495 7.38378Z",fill:"#0265D2"}));function i(e){return r.createElement(o.default,l({},e,{icon:a,size:"xs"}))}},15561:function(e,t,n){n.r(t),n.d(t,{CaretIcon:function(){return r.default},ColumnAdd:function(){return s.default},ColumnDelete:function(){return c.default},CrossIcon:function(){return d.default},DeleteIcon:function(){return o.default},EditIcon:function(){return l.default},RowAdd:function(){return a.default},RowDelete:function(){return i.default},TableDelete:function(){return u.default},UnlinkIcon:function(){return E.default}});var r=n(15562),o=n(15563),l=n(15564),a=n(15565),i=n(15566),s=n(15567),c=n(15568),u=n(15569),d=n(15570),E=n(15571)},15594:function(e,t,n){n.r(t),n.d(t,{config:function(){return l}});var r=n(6260),o=n(15595);const l={[r.EditorContext.WYSIWYG]:{plugins:[...o.pluginsBasic,...o.pluginsToolbar,...o.pluginsFormat],components:[],toolbar:[]},[r.EditorContext.PAGES]:{plugins:[...o.pluginsBasic,...o.pluginsToolbar,...o.pluginsFormat,...o.pluginsToolbarPages],components:[],toolbar:[]},[r.EditorContext.KNOWLEDGEBASE]:{plugins:[...o.pluginsBasic,...o.pluginsToolbar,...o.pluginsFormat,...o.pluginsToolbarKnowledgeBase],components:[],toolbar:[]}}},15558:function(e,t,n){n.r(t);var r=n(1),o=n(6259),l=n(829),a=n(6265),i=n(6289),s=n(15559),c=n(15594),u=n(15606),d=n(15607),E=n(15616),f=n(15619),m=n(15609),p=n(15620),h=n(15573),T=n(6260),g=n(15621),_=n(15574),L=n(15590),N=n(15615),y=n(15626),b=n(15627),v=n(15628),M=n(15608),C=n(15597),A=n(15598),B=n(15629),O=n(15599),P=n(15630),k=n(15600),S=n(15631),I=n(15601),D=n(15632),R=n(15602),w=n(15633);function K({id:e,onChange:t,placeholder:n,initialValue:K="",showToolbar:H=!0,isControlled:x=!1,context:U=T.EditorContext.WYSIWYG,inputFormat:F=T.ConversionFormat.MARKDOWN},z){const j=(0,r.useRef)(null),$=(0,r.useRef)(null),G=(0,r.useRef)(null),V=(0,r.useRef)(null),W=(0,r.useMemo)((()=>e||(0,l.v4)()),[]),q=(0,r.useMemo)((()=>U&&c.config[U].plugins),[]),Q=(0,r.useMemo)((()=>(0,a.createPlateComponents)({[a.ELEMENT_IMAGE]:y.CustomImageElement,[a.ELEMENT_TABLE]:p.CustomTableElement,[a.ELEMENT_CODE_BLOCK]:b.CustomCodeBlockElement,[C.ELEMENT_ARTICLE]:v.CustomArticleElement,[A.ELEMENT_ABBR]:B.CustomAbbrElement,[I.ELEMENT_SECTION]:D.CustomSectionElement,[O.ELEMENT_ADDRESS]:P.CustomAddressElement,[k.ELEMENT_ASIDE]:S.CustomAsideElement,[R.ELEMENT_COMMENT]:w.CustomCommentElement},[]))),Z=(0,r.useMemo)((()=>(0,a.createPlateOptions)()),[]),Y=(0,r.useMemo)((()=>({placeholder:n||T.DEFAULT_PLACEHOLDER,autoFocus:!0,spellCheck:!0,padding:"0 30px"})),[]),[X,J]=(0,r.useState)(""),[ee,te]=(0,r.useState)(0),ne=(0,h.useEditorStore)((0,r.useCallback)((e=>e.nodeType),[])),re=(0,h.useEditorStore)((0,r.useCallback)((e=>e.balloonState),[])),oe=(0,h.useEditorStore)((0,r.useCallback)((e=>e.setBalloonState),[])),le=(0,h.useEditorStore)((0,r.useCallback)((e=>e.setEditorSelection),[]));(0,r.useEffect)((()=>{$.current=re}),[re]),(0,r.useEffect)((()=>{j.current=ne}),[ne]);const ae=(0,u.default)(j),ie=(0,d.default)(j,U),se=(0,r.useMemo)((()=>[...q,{onKeyDown:ae,onPaste:ie,onBlur:e=>t=>{e&&e.selection&&le(e.selection)},onScroll:e=>t=>{e.selection&&e.selection!==G.current?G.current=e.selection:(G.current=e.selection,$.current===_.BalloonStates.CLOSE||"slate-table-wrapper"!==t.target.className&&"table"!==j.current?$.current!==_.BalloonStates.CLOSE&&(i.Transforms.deselect(e),oe(_.BalloonStates.CLOSE)):oe(_.BalloonStates.CLOSE))}}]),[]),ce=(0,r.useMemo)((()=>(0,a.createEditorPlugins)({editorId:W,plugins:se,options:Z,components:Q})),[]);return(0,r.useEffect)((()=>{if(ce)switch(F){case T.ConversionFormat.MARKDOWN:{K=(0,M.addPreserveHtmlClass)(K);const e=(0,o.default)(K,{gfm:!0}),t=(0,f.default)(e,se,ce),n=(0,N.default)(t);J(n);break}case T.ConversionFormat.HTML:{const e=(0,f.default)(K,se,ce);J(e);break}case T.ConversionFormat.SLATE:J(K);break;default:throw new Error(`Input format not supported - ${F}`)}}),[ce,F,K]),(0,r.useImperativeHandle)(z,(()=>({slateToMD(){const e=(0,m.serializeHTMLFromNodes)(ce,{plugins:se,nodes:X});return(0,E.default)(e)}}))),r.createElement("div",{className:"mimir"},H?r.createElement("div",{className:"toolbar__anchor"},r.createElement(a.HeadingToolbar,null,r.createElement(s.default,null))):null,r.createElement("div",{className:"editor__container",ref:V},r.createElement(a.Plate,{id:W,plugins:se,components:Q,options:Z,value:X,editableProps:Y,onChange:function(e){e[e.length-1].type!==a.ELEMENT_DEFAULT&&(e=[...e,(0,L.generateBaseObjectInstance)()]),x?t(e):J(e),te(ee+1)}})),r.createElement(g.default,{id:W,scrollContainer:V}))}t.default=(0,r.memo)((0,r.forwardRef)(K))},15621:function(e,t,n){n.r(t);var r=n(1),o=n(21),l=n.n(o),a=n(6265),i=n(6289),s=n(15574),c=n(15573),u=n(15622),d=n(15624),E=n(15625),f=n(15581);t.default=function({id:e}){const t=(0,a.useStoreEditorState)((0,a.useEventEditorId)("focus")),n=(0,c.useEditorStore)((0,r.useCallback)((e=>e.balloonState),[])),o=(0,c.useEditorStore)((0,r.useCallback)((e=>e.setBalloonState),[])),m=(0,c.useEditorStore)((0,r.useCallback)((e=>e.nodeType),[]));(0,r.useEffect)((()=>()=>{o(s.BalloonStates.CLOSE)}),[]);const p=(0,r.useMemo)((()=>l().debounce(o,250,{leading:!0,trailing:!1})),[]);return(0,f.useEscKey)((()=>{n!==s.BalloonStates.CLOSE&&(i.Transforms.deselect(t),o(s.BalloonStates.CLOSE))}),[t,n]),(0,r.useEffect)((()=>{if(t&&t.selection)switch(m){case"img":return o(s.BalloonStates.IMAGE.EDIT);case"link":return o(s.BalloonStates.LINK.EDIT);case"table":return p(s.BalloonStates.TABLE.EDIT);default:return o(s.BalloonStates.CLOSE)}}),[m,t&&t.selection]),(0,r.useMemo)((()=>{if(!t)return null;if(t.id!==e)return null;if(n.includes("IMAGE"))return r.createElement(u.default,null);if(n.includes("LINK"))return r.createElement(d.default,null);if(n.includes("TABLE"))return r.createElement(E.default,null);if(n===s.BalloonStates.CLOSE)return null;throw new Error(`Unidentified balloon state - ${n}`)}),[n,t&&t.selection])}},15622:function(e,t,n){n.r(t);var r=n(1),o=n(1597),l=n.n(o),a=n(6265),i=n(6289),s=n(6271),c=n(15561),u=n(15573),d=n(15574),E=n(15590),f=n(15623);t.default=function(){const e=(0,r.useRef)(null),t=(0,a.useStoreEditorState)((0,a.useEventEditorId)("focus")),n=(0,u.useEditorStore)((0,r.useCallback)((e=>e.balloonState),[])),o=(0,u.useEditorStore)((0,r.useCallback)((e=>e.setBalloonState),[])),m=(0,u.useEditorStore)((0,r.useCallback)((e=>e.editorSelection),[])),[p,h]=(0,r.useState)("");(0,r.useEffect)((()=>{let r=t&&t.selection;if(!r){if(!m)return;r=m}if(n===d.BalloonStates.IMAGE.EDIT||n===d.BalloonStates.IMAGE.ADD){if(n===d.BalloonStates.IMAGE.EDIT){const e=(0,a.getAbove)(t,{match:{type:a.ELEMENT_IMAGE}});e&&h(e[0].url)}(0,f.setPositionAtSelection)(e.current,t,r,n),setTimeout((()=>{document.querySelector(".image-url-input")&&document.querySelector(".image-url-input").focus()}),100)}}),[n,t&&t.selection]);const T=(0,r.useCallback)((()=>{h(""),o(d.BalloonStates.CLOSE),s.ReactEditor.focus(t)}),[t]),g=(0,r.useCallback)((()=>{if(t&&m){if(parseInt(p.length)<=0)return;i.Transforms.select(t,m),(0,a.insertImage)(t,p),i.Transforms.insertNodes(t,[(0,E.generateBaseObjectInstance)()]),T()}}),[t,m,p,T]),_=(0,r.useCallback)((()=>{t&&m&&(i.Transforms.select(t,m),i.Transforms.delete(t,{unit:"block"}),T())}),[t,m,T]),L=(0,r.useCallback)((()=>{if(parseInt(p.length)<=0)return;i.Transforms.select(t,m);(0,a.getAbove)(t,{match:{type:a.ELEMENT_IMAGE}})&&i.Transforms.setNodes(t,{url:p}),T()}),[t,m,p,T]),N=(0,r.useCallback)((()=>{t&&m&&o(d.BalloonStates.IMAGE.UPDATE)}),[t,m]);return r.createElement("div",{ref:e,className:"image-balloon-container"},n!==d.BalloonStates.IMAGE.EDIT?r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement("input",{className:"image-url-input",placeholder:"Image URL",value:p,onKeyDown:e=>(e=>{if(e&&13===e.keyCode){if(e.preventDefault(),parseInt(p.length)<=0)return;n===d.BalloonStates.IMAGE.UPDATE?L():g()}})(e),onChange:e=>h(e.target.value)})),r.createElement("div",{className:l()("text-button",{"text-button--disabled":parseInt(p.length)<=0}),onClick:n===d.BalloonStates.IMAGE.UPDATE?L:g},n===d.BalloonStates.IMAGE.UPDATE?"Edit":"Add"),r.createElement("div",{className:"text-button",onClick:()=>{i.Transforms.select(t,m),T()}},r.createElement(c.CrossIcon,null))):r.createElement(r.Fragment,null,r.createElement("div",{className:"icon-button",onClick:N},r.createElement(c.EditIcon,null)),r.createElement("div",{className:"icon-button",onClick:_},r.createElement(c.DeleteIcon,null))))}},15624:function(e,t,n){n.r(t);var r=n(1),o=n(1597),l=n.n(o),a=n(4058),i=n(2347),s=n(6265),c=n(6271),u=n(6289),d=n(2736),E=n(15573),f=n(15574),m=n(15623),p=n(15610),h=n.n(p),T=n(15561);t.default=function(){const e=(0,r.useRef)(null),t=(0,s.useStoreEditorState)((0,s.useEventEditorId)("focus")),[n,o]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[_,L]=(0,r.useState)(""),N=(0,E.useEditorStore)((0,r.useCallback)((e=>e.balloonState),[])),y=(0,E.useEditorStore)((0,r.useCallback)((e=>e.setBalloonState),[])),b=(0,E.useEditorStore)((0,r.useCallback)((e=>e.editorSelection),[]));(0,r.useEffect)((()=>{let n=t&&t.selection;if(!n){if(!b)return;n=b}if(N===f.BalloonStates.LINK.ADD&&u.Editor.node(t,n)[0].text){const e=Math.abs(n.anchor.offset-n.focus.offset),r=u.Editor.node(t,n)[0].text.substr(Math.min(n.focus.offset,n.anchor.offset),e);g(r)}if(N===f.BalloonStates.LINK.EDIT){const e=(0,s.getAbove)(t,{match:{type:s.ELEMENT_LINK}});e&&(g(e[0].children[0].text),o(e[0].url))}(0,m.setPositionAtSelection)(e.current,t,n),setTimeout((()=>{0===p.length?document.querySelector(".link__input__text")&&document.querySelector(".link__input__text input").focus():document.querySelector(".link__input__url")&&document.querySelector(".link__input__url input").focus()}),50)}),[N,t&&t.selection]);const v=(0,r.useCallback)((()=>h()(n)||0===n.indexOf("#")),[n]),M=(0,r.useCallback)((()=>{o(""),g(""),y(f.BalloonStates.CLOSE),c.ReactEditor.focus(t)}),[]),C=(0,r.useCallback)((()=>{if(t&&b){if(parseInt(n.length)<=0||parseInt(p.length)<=0)return;if(!v())return L("error"),void document.querySelector(".link__input__url input").focus();u.Transforms.select(t,b),u.Transforms.removeNodes(t,{match:e=>e.type===s.ELEMENT_LINK});const e=t.selection.anchor.path.slice(0,-1),r=b.anchor.path.slice(0,-2);e.length==r.length&&!e.every(((e,t)=>e==r[t]))&&u.Transforms.move(t,{options:{unit:"line"}}),u.Transforms.insertNodes(t,{type:s.ELEMENT_LINK,url:n,children:[{text:p}]}),M()}}),[t,b,p,n]),A=(0,r.useCallback)((()=>{if(t&&b){if(parseInt(n.length)<=0||parseInt(p.length)<=0)return;if(!v())return L("error"),void document.querySelector(".link__input__url input").focus();u.Transforms.select(t,b),0===(0,s.getSelectionText)(t).length||(u.Transforms.select(t,b),u.Transforms.removeNodes(t,{match:e=>e.type===s.ELEMENT_LINK})),u.Transforms.insertNodes(t,{type:s.ELEMENT_LINK,url:n,children:[{text:p}]}),M()}}),[t,b,p,n]),B=(0,r.useCallback)((()=>{t&&b&&(u.Transforms.select(t,b),u.Transforms.unwrapNodes(t,{match:e=>!u.Editor.isEditor(e)&&e.type===s.ELEMENT_LINK}),M())}),[t,b]),O=(0,r.useCallback)((()=>{t&&b&&y(f.BalloonStates.LINK.UPDATE)}),[t,b]),P=e=>{if(e&&13===e.keyCode){if(e.preventDefault(),parseInt(n.length)<=0)return;if(parseInt(p.length)<=0)return;N===f.BalloonStates.LINK.UPDATE?C():A()}};return r.createElement("div",{className:l()("link__container",{"link__container--editable":N!==f.BalloonStates.LINK.EDIT}),ref:e},N!==f.BalloonStates.LINK.EDIT?r.createElement(r.Fragment,null,r.createElement("div",{className:"link__input__wrapper"},r.createElement("div",{className:"link__input__wrapper--top"},r.createElement(a.default,{"data-testid":"link__input__text",className:"link__input link__input__text",placeholder:"Text",value:p,onKeyDown:e=>P(e),onChange:e=>g(e.target.value)})),r.createElement("div",{className:"link__input__wrapper--bot"},r.createElement(a.default,{"data-testid":"link__input__url",className:"link__input link__input__url",placeholder:"URL",value:n,validationStatus:_,validationMessage:"Please enter a valid URL",onKeyDown:e=>P(e),onChange:e=>{L(""),o(e.target.value)}}),r.createElement("span",{"data-testid":"link__button__add",className:l()("link__button","link__button__add",{error:_.length>0}),onClick:N===f.BalloonStates.LINK.UPDATE?C:A},N===f.BalloonStates.LINK.UPDATE?"Edit":"Add"),r.createElement("span",{"data-testid":"link__button__close",className:l()("link__button","link__button__close",{error:_.length>0}),onClick:M},r.createElement(T.CrossIcon,{size:"small"}))))):r.createElement(r.Fragment,null,r.createElement(d.default,{className:"link__label",to:n&&n.startsWith("#")?null:n,target:n&&n.startsWith("#")?"_self":"_blank"},r.createElement(i.default,{type:"link-primary"},n)),r.createElement("span",{"data-testid":"link__button__edit",className:"link__button",onClick:O},r.createElement(T.EditIcon,{size:"small"})),r.createElement("span",{"data-testid":"link__button__unlink",className:"link__button",onClick:B},r.createElement(T.UnlinkIcon,{size:"small"}))))}},15625:function(e,t,n){n.r(t);var r=n(1),o=n(6265),l=n(6271),a=n(1597),i=n.n(a),s=n(6289),c=n(15589),u=n(15561),d=n(15573),E=n(15574),f=n(15591);t.default=function(){const e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=(0,r.useRef)(null),a=(0,o.useStoreEditorState)((0,o.useEventEditorId)("focus")),[m,p]=(0,r.useState)(!1),h=(0,d.useEditorStore)((0,r.useCallback)((e=>e.balloonState),[])),T=(0,d.useEditorStore)((0,r.useCallback)((e=>e.setBalloonState),[])),g=(0,d.useEditorStore)((0,r.useCallback)((e=>e.editorSelection),[])),_=(0,r.useCallback)((e=>{if(!e)return null;"TD"!==e.nodeName&&"TH"!==e.nodeName?_(e.parentElement):t.current=e}),[]);(0,r.useEffect)((()=>{if(a&&a.selection&&h===E.BalloonStates.TABLE.EDIT)try{const n=l.ReactEditor.toDOMPoint(a,a.selection.anchor)[0];if(!n)return;_(n.parentElement);const r=t.current&&t.current.getBoundingClientRect(),o=document.querySelector(".mimir")&&document.querySelector(".mimir").getBoundingClientRect();if(p(!1),!r||!o)return void T(E.BalloonStates.CLOSE);const{left:i,top:s}=o,{left:c,top:u,width:d}=r,f=u-s,m=c-i;e.current.style.top=`${f+2}px`,e.current.style.left=`${m-18+d}px`}catch(e){pm.logger.error(e)}}),[h,a&&a.selection,g]),(0,r.useEffect)((()=>{if(m){const e=a&&a.selection?a.selection:g;if(!e)return;n.current.style.opacity=1;try{const t=l.ReactEditor.toDOMPoint(a,e.anchor)[0];if(!t)return;_(t.parentElement)}catch(e){pm.logger.error(e)}const r=t.current&&t.current.getBoundingClientRect(),o=document.querySelector(".mimir")&&document.querySelector(".mimir").getBoundingClientRect();if(!r||!o)return void T(E.BalloonStates.CLOSE);const{right:i,bottom:s}=o,{top:c,right:u}=r,{width:d,height:f}=n.current.getBoundingClientRect();u+d>i&&(n.current.style.right=0),u+d<=i&&(n.current.style.left=0),c+f>s&&(n.current.style.bottom="16px"),c+f<=s&&(n.current.style.top="16px")}}),[m]);const L=(0,r.useCallback)((()=>{a.selection=g,(0,c.addRow)(a)}),[g]),N=(0,r.useCallback)((()=>{a.selection=g,(0,c.deleteRow)(a)}),[g]),y=(0,r.useCallback)((()=>{a.selection=g,(0,c.addColumn)(a)}),[g]),b=(0,r.useCallback)((()=>{a.selection=g,(0,c.deleteColumn)(a)}),[g]),v=(0,r.useCallback)((()=>{a.selection=g,(0,c.deleteTable)(a),T(E.BalloonStates.CLOSE)}),[g]);return r.createElement("div",{className:"table__container",onBlur:()=>p(!1),ref:e},r.createElement("span",{className:i()("table__cell__action",{"table__cell__action--active":m}),onClick:e=>{p((e=>(e&&(s.Transforms.select(a,g),l.ReactEditor.focus(a)),!e)))}},r.createElement(u.CaretIcon,null)),m&&r.createElement("ul",{className:i()("table__cell__dropdown",m?"table__cell__dropdown--visible":""),ref:n},r.createElement("li",{className:"toolbar__cell__action toolbar__cell__action--addrow"},r.createElement(f.ToolbarTable,{icon:r.createElement(u.RowAdd,null),transform:L})),"TH"!==t.current.nodeName?r.createElement("li",{className:"toolbar__cell__action toolbar__cell__action--delrow"},r.createElement(f.ToolbarTable,{icon:r.createElement(u.RowDelete,null),transform:N})):null,r.createElement("li",{className:"toolbar__cell__action toolbar__cell__action--addcol"},r.createElement(f.ToolbarTable,{icon:r.createElement(u.ColumnAdd,null),transform:y})),r.createElement("li",{className:"toolbar__cell__action toolbar__cell__action--delcol"},r.createElement(f.ToolbarTable,{icon:r.createElement(u.ColumnDelete,null),transform:b})),r.createElement("li",{className:"toolbar__cell__action toolbar__cell__action--deltab"},r.createElement(f.ToolbarTable,{icon:r.createElement(u.TableDelete,null),transform:v}))))}},15593:function(e,t,n){n.r(t),n.d(t,{Toolbar:function(){return f}});var r=n(1),o=n(1597),l=n.n(o),a=n(2347),i=n(1916),s=n(6265),c=n(3467),u=n(2736),d=n(15559),E=n(15573);const f=()=>{const[e,t]=(0,r.useState)("full-size"),[n,o]=(0,r.useState)(!1),f=(0,s.useStoreEditorRef)((0,s.useEventEditorId)("focus")),[m,p]=(0,r.useState)(s.ELEMENT_DEFAULT),h=(0,E.useEditorStore)((0,r.useCallback)((e=>e.setNodeType),[]));(0,r.useEffect)((()=>()=>{h(s.ELEMENT_DEFAULT)}),[]),(0,r.useEffect)((()=>{if(f&&f.selection){const e=f.children[f.selection.anchor.path[0]];p(e.type||s.ELEMENT_DEFAULT);let t=e.type;(0,s.getAbove)(f,{match:{type:(0,s.getPlatePluginType)(f,s.ELEMENT_LINK)}})?t="link":(0,s.getAbove)(f,{match:{type:(0,s.getPlatePluginType)(f,s.ELEMENT_IMAGE)}})?t="img":(0,s.getAbove)(f,{match:{type:(0,s.getPlatePluginType)(f,s.ELEMENT_TABLE)}})&&(t="table"),h(t||s.ELEMENT_DEFAULT)}}),[f&&f.selection,f&&f.children]),(0,r.useEffect)((()=>{const e=document.querySelector(".mimir"),n=new ResizeObserver((e=>{return n=e[0].contentRect.width,void t(n>=460?"full-size":n>=405?"truncated-level-1":n>=377?"truncated-level-2":"truncated-level-3");var n}));return n.observe(e),()=>{n.unobserve(e)}}),[]);const T=e=>{o("boolean"!=typeof e?e=>!e:e)};return r.createElement("header",{className:"toolbar__wrapper"},r.createElement("div",{className:"toolbar__list"},r.createElement("div",{className:"toolbar__list__item"},r.createElement(d.ToolbarButtonsBasicElements,{type:e,currentNodeType:m})),r.createElement("div",{className:"toolbar__list__divider--vertical"}),r.createElement("div",{className:"toolbar__list__item"},r.createElement(d.ToolbarButtonsBasicMarks,{currentNodeType:m})),r.createElement("div",{className:"toolbar__list__divider--vertical"}),r.createElement("div",{className:"toolbar__list__item"},r.createElement(d.ToolbarButtonsList,{currentNodeType:m})),r.createElement("div",{className:"toolbar__list__divider--vertical"}),"truncated-level-3"!==e?r.createElement(r.Fragment,null,r.createElement("div",{className:"toolbar__list__item"},r.createElement(d.ToolbarButtonsTable,{currentNodeType:m}),r.createElement(d.ToolbarImageElement,{currentNodeType:m}),r.createElement(d.ToolbarLinkElement,{currentNodeType:m})),r.createElement("div",{className:"toolbar__list__divider--vertical"}),r.createElement("div",{className:"toolbar__list__item"},r.createElement(d.ToolbarButtonsCodeMarks,{type:e,currentNodeType:m}))):r.createElement("div",{className:"toolbar__list__item"},r.createElement(d.ToolbarButtonsTable,{type:e,currentNodeType:m}))),r.createElement("div",{onBlur:e=>{e.target.contains(e.relatedTarget)||T(!1)},tabIndex:"0"},r.createElement("div",{onClick:T,className:l()("toolbar__info",{active:n})},r.createElement(i.default,null)),n?r.createElement("div",{className:"popup-info-wrapper"},r.createElement("h3",null,"About Postman editor",r.createElement("span",{className:"popup-info-wrapper__tag"},"BETA")),r.createElement("p",null,"This editor supports instant Markdown styling, rich text formatting options on the toolbar, and keyboard shortcuts.",r.createElement(u.default,{to:c.DOCUMENTATION_EDITOR_LINKS.MORE_INFO_LINK,target:"_blank"},r.createElement(a.default,{type:"link-primary",isExternal:!0},"Read more about Postman editor"))),r.createElement(u.default,{to:c.DOCUMENTATION_EDITOR_LINKS.FEEDBACK_LINK,target:"_blank"},r.createElement(a.default,{type:"link-primary",isExternal:!0},"Suggest improvements"))):null))}},15587:function(e,t,n){n.r(t),n.d(t,{WrappedToolbarImage:function(){return s}});var r=n(1),o=n(6265),l=n(15573),a=n(15574);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const s=(0,n(15578).default)((({...e})=>{const t=(0,l.useEditorStore)((0,r.useCallback)((e=>e.balloonState),[])),n=(0,l.useEditorStore)((0,r.useCallback)((e=>e.setBalloonState),[])),s="img"===(0,l.useEditorStore)((0,r.useCallback)((e=>e.nodeType),[]));return r.createElement(o.ToolbarButton,i({active:s,onMouseDown:()=>{t.includes("IMAGE")&&t===a.BalloonStates.IMAGE.EDIT?n(a.BalloonStates.CLOSE):n(a.BalloonStates.IMAGE.ADD)}},e))}))},15585:function(e,t,n){n.r(t),n.d(t,{ToolbarLink:function(){return c},WrappedToolbarLink:function(){return u}});var r=n(1),o=n(6265),l=n(15573),a=n(15578),i=n(15574);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const c=({getLinkUrl:e,...t})=>{(0,o.useStoreEditorState)((0,o.useEventEditorId)("focus"));const n=(0,l.useEditorStore)((0,r.useCallback)((e=>e.balloonState),[])),a=(0,l.useEditorStore)((0,r.useCallback)((e=>e.setBalloonState),[])),c=((0,l.useEditorStore)((0,r.useCallback)((e=>e.editorSelection),[])),"link"===(0,l.useEditorStore)((0,r.useCallback)((e=>e.nodeType),[])));return r.createElement(o.ToolbarButton,s({active:c,onMouseDown:()=>{n.includes("LINK")&&n===i.BalloonStates.LINK.EDIT?a(i.BalloonStates.CLOSE):a(i.BalloonStates.LINK.ADD)}},t))},u=(0,a.default)(c)},15579:function(e,t,n){n.r(t),n.d(t,{ToolbarList:function(){return i}});var r=n(1),o=n(6265),l=n(15580);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}const i=({type:e=o.ELEMENT_UL,...t})=>{const n=(0,o.useStoreEditorState)((0,o.useEventEditorId)("focus"));return r.createElement(o.ToolbarElement,a({type:e,onMouseDown:n&&(0,o.getPreventDefaultHandler)(l.toggleList,n,{type:e})},t))}},15591:function(e,t,n){n.r(t),n.d(t,{ToolbarTable:function(){return s},WrappedToolbarTable:function(){return c}});var r=n(1),o=n(6265),l=n(15573),a=n(15578);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}const s=({transform:e,header:t,...n})=>{const a=(0,o.useStoreEditorState)((0,o.useEventEditorId)("focus")),s=(0,o.getPlatePluginType)(a,o.ELEMENT_TABLE),c=(0,l.useEditorStore)((e=>e.nodeType))===o.ELEMENT_TABLE;return r.createElement(o.ToolbarButton,i({active:c,onMouseDown:s&&a?(0,o.getPreventDefaultHandler)(e,a,{header:t}):void 0},n))},c=(0,a.default)(s)},15560:function(e,t,n){n.r(t),n.d(t,{ToolbarButtonsBasicElements:function(){return m}});var r=n(1),o=n(6265),l=n(1597),a=n.n(l),i=n(6289),s=n(6271),c=n(15561),u=n(15572),d=n(15573),E=n(15577),f=n(15581);const m=({type:e,currentNodeType:t})=>{const n=(0,o.useStoreEditorRef)((0,o.useEventEditorId)("focus")),[l,m]=(0,r.useState)(0),[p,h]=(0,r.useState)(!1),[T,g]=(0,r.useState)(!1),_=u.IS_TOOLBAR_BUTTONS_DISABLE[t],L=(0,d.useEditorStore)((e=>e.editorSelection)),N=[{value:o.ELEMENT_DEFAULT,icon:"Normal text","icon-truncated":"Aa",shortcuts:["option","shift","0"]},{value:o.ELEMENT_H1,icon:"Heading 1","icon-truncated":"H1",shortcuts:["option","shift","1"]},{value:o.ELEMENT_H2,icon:"Heading 2","icon-truncated":"H2",shortcuts:["option","shift","2"]},{value:o.ELEMENT_H3,icon:"Heading 3","icon-truncated":"H3",shortcuts:["option","shift","3"]},{value:o.ELEMENT_H4,icon:"Heading 4","icon-truncated":"H4",shortcuts:["option","shift","4"]},{value:o.ELEMENT_H5,icon:"Heading 5","icon-truncated":"H5",shortcuts:["option","shift","5"]},{value:o.ELEMENT_H6,icon:"Heading 6","icon-truncated":"H6",shortcuts:["option","shift","6"]}];return(0,f.useEscKey)((()=>{p&&(h(!1),i.Transforms.select(n,L),s.ReactEditor.focus(n))}),[n,L,p]),(0,r.useEffect)((()=>{const e=N.findIndex((e=>e.value==t));m(-1!=e?e:0);const n=N.every((e=>!!_&&_[e.value]));g(n)}),[t]),r.createElement("div",{tabIndex:"0",onBlur:()=>{h(!1)}},r.createElement("div",{className:a()("toolbar__dropdown__heading",{"toolbar__dropdown__heading--disabled":T}),onClick:()=>{!T&&h(!p)}},r.createElement("div",{className:a()({"title__full-size":"full-size"===e,title__truncated:"full-size"!==e})},"full-size"===e?N[l].icon:N[l]["icon-truncated"]),r.createElement(c.CaretIcon,{className:"arrow__icon"})),p?r.createElement("div",{className:"toolbar__dropdown"},N.map(((t,l)=>r.createElement("div",{className:"toolbar_dropdown-list",onClick:()=>{_&&_[t.value]||(h(!p),i.Transforms.select(n,L),s.ReactEditor.focus(n),m(l))},key:t.value},r.createElement(E.WrappedToolbarElement,{className:"slate-ToolbarButton",type:(0,o.getPlatePluginType)(n,t.value),icon:"full-size"===e?t.icon:t["icon-truncated"],disabled:!!_&&_[t.value],shortcuts:t.shortcuts}))))):null)}},15582:function(e,t,n){n.r(t),n.d(t,{ToolbarButtonsBasicMarks:function(){return d}});var r=n(1),o=n(6265),l=n(6289),a=n(1684),i=n(1715),s=n(1752),c=n(15572),u=n(15577);const d=({currentNodeType:e})=>{const t=(0,o.useStoreEditorRef)((0,o.useEventEditorId)("focus"));if(!t)return null;const n=c.IS_TOOLBAR_BUTTONS_DISABLE[e],d=l.Editor.marks(t),E=d&&d[o.MARK_CODE];return r.createElement(r.Fragment,null,r.createElement("span",{className:"toolbar__button"},r.createElement(u.WrappedToolbarMark,{className:"toolbar__icon",type:(0,o.getPlatePluginType)(t,o.MARK_BOLD),icon:r.createElement(a.default,null),label:"Bold",shortcuts:["cmd","B"],disabled:!!n&&(n[o.MARK_BOLD]||E)})),r.createElement("span",{className:"toolbar__button"},r.createElement(u.WrappedToolbarMark,{className:"toolbar__icon",type:(0,o.getPlatePluginType)(t,o.MARK_ITALIC),icon:r.createElement(i.default,null),label:"Italic",shortcuts:["cmd","I"],disabled:!!n&&(n[o.MARK_ITALIC]||E)})),r.createElement("span",{className:"toolbar__button"},r.createElement(u.WrappedToolbarMark,{className:"toolbar__icon",type:(0,o.getPlatePluginType)(t,o.MARK_STRIKETHROUGH),icon:r.createElement(s.default,null),label:"Strikethrough",shortcuts:["option","shift","X"],disabled:!!n&&(n[o.MARK_STRIKETHROUGH]||E)})))}},15592:function(e,t,n){n.r(t),n.d(t,{ToolbarButtonsCodeMarks:function(){return T}});var r=n(1),o=n(6289),l=n(6271),a=n(6265),i=n(1597),s=n.n(i),c=n(1814),u=n(1782),d=n(1781),E=n(1731),f=n(15577),m=n(15572),p=n(15573),h=n(15581);const T=({type:e,currentNodeType:t})=>{const n=(0,a.useStoreEditorRef)((0,a.useEventEditorId)("focus")),[i,T]=(0,r.useState)(!1),g=m.IS_TOOLBAR_BUTTONS_DISABLE[t],_=(0,p.useEditorStore)((e=>e.editorSelection));(0,h.useEscKey)((()=>{i&&(T(!1),o.Transforms.select(n,_),l.ReactEditor.focus(n))}),[_,n,i]);const L=e=>{g[e]||(T(!i),o.Transforms.select(n,_),l.ReactEditor.focus(n))};return r.createElement(r.Fragment,null,r.createElement("span",{className:"toolbar__button"},r.createElement(f.WrappedToolbarElement,{className:"toolbar__icon",type:(0,a.getPlatePluginType)(n,a.ELEMENT_BLOCKQUOTE),icon:r.createElement(c.default,null),label:"Blockquote",disabled:!!g&&g[a.ELEMENT_BLOCKQUOTE]})),"full-size"===e||"truncated-level-1"===e?r.createElement(r.Fragment,null,r.createElement("span",{className:"toolbar__button"},r.createElement(f.WrappedToolbarMark,{className:"toolbar__icon",type:(0,a.getPlatePluginType)(n,a.MARK_CODE),icon:r.createElement(u.default,null),label:"Codespan",shortcuts:["option","shift","M"],disabled:!!g&&g[a.MARK_CODE]})),r.createElement("span",{className:"toolbar__button"},r.createElement(f.WrappedToolbarCodeBlock,{className:"toolbar__icon",type:(0,a.getPlatePluginType)(n,a.ELEMENT_CODE_BLOCK),icon:r.createElement(d.default,null),label:"Codeblock",disabled:!!g&&g[a.ELEMENT_CODE_BLOCK]}))):r.createElement("div",{tabIndex:"0",onBlur:()=>{T(!1)},className:"toolbar__button"},r.createElement("div",{className:s()("toolbar__dropdown__menu","slate-ToolbarButton",{"toolbar__dropdown__menu--active":i}),onClick:()=>{T(!i)}},r.createElement(E.default,null)),i?r.createElement("div",{className:"toolbar__dropdown code"},r.createElement("div",{className:"toolbar_dropdown-list",onClick:()=>{L(a.MARK_CODE)},key:"code-span"},r.createElement(f.WrappedToolbarMark,{type:(0,a.getPlatePluginType)(n,a.MARK_CODE),icon:"Codespan",className:"slate-ToolbarButton",disabled:!!g&&g[a.MARK_CODE],shortcuts:["option","shift","M"]})),r.createElement("div",{className:"toolbar_dropdown-list",onClick:()=>{L(a.ELEMENT_CODE_BLOCK)},key:"code-block"},r.createElement(f.WrappedToolbarCodeBlock,{className:"slate-ToolbarButton",type:(0,a.getPlatePluginType)(n,a.ELEMENT_CODE_BLOCK),icon:"Codeblock",disabled:!!g&&g[a.ELEMENT_CODE_BLOCK]}))):null))}},15583:function(e,t,n){n.r(t),n.d(t,{ToolbarButtonsList:function(){return c}});var r=n(1),o=n(6265),l=n(1685),a=n(1724),i=n(15572),s=n(15577);const c=({currentNodeType:e})=>{const t=(0,o.useStoreEditorRef)((0,o.useEventEditorId)("focus")),n=i.IS_TOOLBAR_BUTTONS_DISABLE[e];return r.createElement(r.Fragment,null,r.createElement("span",{className:"toolbar__button"},r.createElement(s.WrappedToolbarList,{className:"toolbar__icon",type:(0,o.getPlatePluginType)(t,o.ELEMENT_UL),icon:r.createElement(l.default,null),label:"Unordered List",disabled:!!n&&n[o.ELEMENT_UL]})),r.createElement("span",{className:"toolbar__button"},r.createElement(s.WrappedToolbarList,{className:"toolbar__icon",type:(0,o.getPlatePluginType)(t,o.ELEMENT_OL),icon:r.createElement(a.default,null),label:"Ordered List",disabled:!!n&&n[o.ELEMENT_OL]})))}},15588:function(e,t,n){n.r(t),n.d(t,{ToolbarButtonsTable:function(){return _}});var r=n(1),o=n(6289),l=n(6271),a=n(15589),i=n(15591),s=n(6265),c=n(1597),u=n.n(c),d=n(1829),E=n(1731),f=n(15587),m=n(15585),p=n(15572),h=n(15577),T=n(15573),g=n(15581);const _=({type:e,currentNodeType:t})=>{const[n,c]=(0,r.useState)(!1),_=(0,s.useStoreEditorRef)((0,s.useEventEditorId)("focus")),L=p.IS_TOOLBAR_BUTTONS_DISABLE[t],N=(0,T.useEditorStore)((e=>e.editorSelection));(0,g.useEscKey)((()=>{n&&(c(!1),o.Transforms.select(_,N),l.ReactEditor.focus(_))}),[_,N,n]);const y=e=>{L[e]||(c(!n),o.Transforms.select(_,N),l.ReactEditor.focus(_))};return r.createElement(r.Fragment,null,r.createElement("span",{className:"toolbar__button"},r.createElement(i.WrappedToolbarTable,{className:"toolbar__icon",icon:r.createElement(d.default,null),transform:a.insertTable,label:"Table",shortcuts:["option","shift","T"],disabled:!!L&&L[s.ELEMENT_TABLE]})),"truncated-level-3"===e?r.createElement("div",{tabIndex:"0",onBlur:()=>{c(!1)},className:"toolbar__button"},r.createElement("div",{className:u()("toolbar__dropdown__menu","slate-ToolbarButton",{"toolbar__dropdown__menu--active":n}),onClick:()=>{c(!n)}},r.createElement(E.default,null)),n?r.createElement("div",{className:"toolbar__dropdown table"},r.createElement("div",{className:"toolbar_dropdown-list",onClick:()=>{y(s.ELEMENT_IMAGE)},key:"image"},r.createElement(f.WrappedToolbarImage,{className:"slate-ToolbarButton",icon:"Image",disabled:!!L&&L[s.ELEMENT_IMAGE]})),r.createElement("div",{className:"toolbar_dropdown-list",onClick:()=>{y(s.ELEMENT_LINK)},key:"link"},r.createElement(m.WrappedToolbarLink,{className:"slate-ToolbarButton",icon:"Add link",disabled:!!L&&L[s.ELEMENT_LINK],shortcuts:["option","shift","K"]})),r.createElement("div",{className:"toolbar__list__divider--horizontal"}),r.createElement("div",{className:"toolbar_dropdown-list",onClick:()=>{y(s.ELEMENT_BLOCKQUOTE)},key:"block-quote"},r.createElement(h.WrappedToolbarElement,{className:"slate-ToolbarButton",type:(0,s.getPlatePluginType)(_,s.ELEMENT_BLOCKQUOTE),icon:"Blockquote",disabled:!!L&&L[s.ELEMENT_BLOCKQUOTE]})),r.createElement("div",{className:"toolbar_dropdown-list",onClick:()=>{y(s.MARK_CODE)},key:"code-span"},r.createElement(h.WrappedToolbarMark,{className:"slate-ToolbarButton",type:(0,s.getPlatePluginType)(_,s.MARK_CODE),icon:"Codespan",disabled:!!L&&L[s.MARK_CODE],shortcuts:["option","shift","M"]})),r.createElement("div",{className:"toolbar_dropdown-list",onClick:()=>{y(s.ELEMENT_CODE_BLOCK)},key:"code-block"},r.createElement(h.WrappedToolbarElement,{className:"slate-ToolbarButton",type:(0,s.getPlatePluginType)(_,s.ELEMENT_CODE_BLOCK),icon:"Codeblock",disabled:!!L&&L[s.ELEMENT_CODE_BLOCK]}))):null):null)}},15586:function(e,t,n){n.r(t),n.d(t,{ToolbarImageElement:function(){return s}});var r=n(1),o=n(6265),l=n(1796),a=n(15587),i=n(15572);const s=({currentNodeType:e})=>{const t=i.IS_TOOLBAR_BUTTONS_DISABLE[e];return r.createElement("span",{className:"toolbar__button"},r.createElement(a.WrappedToolbarImage,{className:"toolbar__icon",icon:r.createElement(l.default,null),label:"Image",disabled:!!t&&t[o.ELEMENT_IMAGE]}))}},15584:function(e,t,n){n.r(t),n.d(t,{ToolbarLinkElement:function(){return c}});var r=n(1),o=n(6289),l=n(6265),a=n(1716),i=n(15585),s=n(15572);const c=({currentNodeType:e})=>{const t=s.IS_TOOLBAR_BUTTONS_DISABLE[e],n=(0,l.useStoreEditorRef)((0,l.useEventEditorId)("focus")),c=n&&o.Editor.marks(n);let u=!!t&&t[l.ELEMENT_LINK];return u=u||c&&c[l.MARK_CODE],r.createElement("span",{className:"toolbar__button"},r.createElement(i.WrappedToolbarLink,{className:"toolbar__icon",icon:r.createElement(a.default,null),label:"Link",shortcuts:["option","shift","K"],disabled:u}))}},15577:function(e,t,n){n.r(t),n.d(t,{WrappedToolbarButton:function(){return m},WrappedToolbarCodeBlock:function(){return E},WrappedToolbarElement:function(){return u},WrappedToolbarList:function(){return f},WrappedToolbarMark:function(){return d}});var r=n(1),o=n(6265),l=n(6271),a=n(6262),i=n(15578),s=n(15579);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const u=(0,i.default)((({type:e,inactiveType:t,...n})=>{const a=(0,o.useStoreEditorState)((0,o.useEventEditorId)("focus"));return r.createElement(o.ToolbarButton,c({active:a&&a.selection&&(0,o.someNode)(a,{match:{type:e}}),onMouseDown:n=>{n.preventDefault(),l.ReactEditor.focus(a),(0,o.toggleNodeType)(a,{activeType:e,inactiveType:t})}},n))})),d=(0,i.default)((({type:e,clear:t,...n})=>{const a=(0,o.useStoreEditorState)((0,o.useEventEditorId)("focus"));return r.createElement(o.ToolbarButton,c({active:a&&a.selection&&(0,o.isMarkActive)(a,e),onMouseDown:n=>{n.preventDefault(),l.ReactEditor.focus(a),(0,o.toggleMark)(a,e,t)}},n))})),E=(0,i.default)((({options:e,...t})=>{const n=(0,o.useStoreEditorState)((0,o.useEventEditorId)("focus"));return r.createElement(o.ToolbarButton,c({active:n&&n.selection&&(0,o.someNode)(n,{match:{type:o.ELEMENT_CODE_BLOCK}}),onMouseDown:t=>{t.preventDefault(),l.ReactEditor.focus(n),(0,a.insertEmptyCodeBlock)(n,{select:!0,...e})}},t))})),f=(0,i.default)(s.ToolbarList),m=(0,i.default)(o.ToolbarButton)},15559:function(e,t,n){n.r(t),n.d(t,{ToolbarButtonsBasicElements:function(){return r.ToolbarButtonsBasicElements},ToolbarButtonsBasicMarks:function(){return o.ToolbarButtonsBasicMarks},ToolbarButtonsCodeMarks:function(){return c.ToolbarButtonsCodeMarks},ToolbarButtonsList:function(){return l.ToolbarButtonsList},ToolbarButtonsTable:function(){return s.ToolbarButtonsTable},ToolbarImageElement:function(){return i.ToolbarImageElement},ToolbarLinkElement:function(){return a.ToolbarLinkElement}});var r=n(15560),o=n(15582),l=n(15583),a=n(15584),i=n(15586),s=n(15588),c=n(15592),u=n(15593);t.default=u.Toolbar},15578:function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var r=n(1),o=n(1613);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function a(e){return function({disabled:t,label:n,shortcuts:a,direction:i="top",...s}){const[c,u]=(0,r.useState)(0),d=(0,r.useRef)(),E=navigator.platform.toUpperCase().indexOf("MAC")>=0,{icon:f,className:m}=s,p=(0,r.useMemo)((()=>a&&a.map(((e,t)=>{let n;switch(e){case"cmd":n=E?"⌘":"Ctrl";break;case"option":n=E?"⌥":"Alt";break;case"shift":n="⇧";break;default:n=e}return 0==t?n:" + "+n}))),[E,a]),h=(0,r.useMemo)((()=>n?f:r.createElement("div",{className:"toolbar-dropdown-icon"},r.createElement("div",null,f),r.createElement("div",{className:"toolbar-dropdown-shortcut-label"},p))),[a,n]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"slate-toolbar-button-wrapper",onMouseOver:()=>{u(!0)},onMouseOut:()=>{u(!1)},ref:d},t?r.createElement("span",{className:`${m} toolbar-button--disabled`},h):r.createElement(e,l({},s,{icon:h}))),n&&r.createElement(o.Tooltip,{target:d.current,delay:100,placement:i,show:c&&!t},r.createElement(o.TooltipBody,null,r.createElement("div",{className:"toolbar__tooltip-body"},r.createElement("div",{className:"toolbar__tooltip-body-label"},n),p&&p.length>0?r.createElement("div",{className:"toolbar__tooltip-body-shortcutKeys"},p):null))))}}},15581:function(e,t,n){n.r(t),n.d(t,{useEscKey:function(){return o}});var r=n(1);const o=(e,t)=>{(0,r.useEffect)((()=>{const t=t=>{"Escape"===t.code&&e()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[t])}},15606:function(e,t,n){n.r(t);var r=n(1),o=n(6265),l=n(6289),a=n(15574),i=n(15589),s=n(15573),c=n(15572);t.default=e=>{const t=(0,s.useEditorStore)((0,r.useCallback)((e=>e.setBalloonState),[]));return(0,r.useCallback)((n=>r=>{if(!r||!n||!n.selection)return;let s=null,u=null;const d=c.IS_TOOLBAR_BUTTONS_DISABLE[e.current],E=l.Editor.marks(n);if(r.shiftKey||13!=r.keyCode){if(r.altKey&&r.shiftKey)switch(r.keyCode){case 48:s=o.ELEMENT_DEFAULT;break;case 49:s=o.ELEMENT_H1;break;case 50:s=o.ELEMENT_H2;break;case 51:s=o.ELEMENT_H3;break;case 52:s=o.ELEMENT_H4;break;case 53:s=o.ELEMENT_H5;break;case 54:s=o.ELEMENT_H6;break;case 75:return r.preventDefault(),r.stopPropagation(),void((!E||E&&!E[o.MARK_CODE])&&t(a.BalloonStates.LINK.ADD));case 77:u=o.MARK_CODE;break;case 88:u=o.MARK_STRIKETHROUGH;break;case 84:if(r.preventDefault(),r.stopPropagation(),d&&d[o.ELEMENT_TABLE])return;return void(0,i.insertTable)(n,{header:!1});default:return}else if(r.metaKey&&(66==r.keyCode||73==r.keyCode))return r.preventDefault(),r.stopPropagation(),u=66==r.keyCode?o.MARK_BOLD:o.MARK_ITALIC,void((!d||d[u]||E[o.MARK_CODE])&&(0,o.toggleMark)(n,u))}else E&&E[o.MARK_BOLD]&&(0,o.toggleMark)(n,o.MARK_BOLD),E&&E[o.MARK_ITALIC]&&(0,o.toggleMark)(n,o.MARK_ITALIC),E&&E[o.MARK_STRIKETHROUGH]&&(0,o.toggleMark)(n,o.MARK_STRIKETHROUGH),E&&E[o.MARK_CODE]&&(0,o.toggleMark)(n,o.MARK_CODE);u&&(r.preventDefault(),r.stopPropagation(),d&&d[u]||(0,o.toggleMark)(n,u)),s&&(r.preventDefault(),r.stopPropagation(),d&&d[s]||(0,o.toggleNodeType)(n,{activeType:s}))}),[])}},15607:function(e,t,n){n.r(t);var r=n(1),o=n(6259),l=n(6265),a=n(6289),i=n(15594),s=n(15608),c=n(15609),u=n(15615);let d;const E=(e,t,n)=>{e.children.forEach(((e,r)=>{e.children[0].type!=l.ELEMENT_UL&&e.children[0].type!=l.ELEMENT_OL||E(e.children[0],t,n),e.children[0].type==l.ELEMENT_DEFAULT&&((0!=r||""!==t.text.trim())&&m(n),e.children[0].type="li",a.Transforms.insertNodes(n,e.children[0])),e.children.length>1&&a.Transforms.insertNodes(n,e.children[1])}))},f=e=>!e||!e.children||1==e.children.length&&f(e.children[0]),m=e=>{d=a.Path.next(d),(0,l.insertNodes)(e,{type:"li",children:[{type:"p",children:[{text:""}]}]},{at:d}),a.Transforms.select(e,d)},p=(e,t,n,r)=>{if(t.length){if(!e||!e.selection)return;const o=e.children[e.selection.anchor.path[0]],i=o&&o.type,s=a.Editor.node(e,e.selection),[c]=s;if(n===l.ELEMENT_TABLE)t=((e,t,n)=>{const[r]=a.Editor.nodes(t,{match:e=>(0,l.isElement)(e)&&(e.type===l.ELEMENT_TD||e.type===l.ELEMENT_TH)});if(e.length>1)return[{type:r[0]&&r[0].type,children:[{text:n}]}];if(e[0].type===l.ELEMENT_TABLE){const t=e[0].children;if(t.length>1)return[{type:r[0]&&r[0].type,children:[{text:n}]}];const o=t[0].children;let l=[];return o.forEach((e=>{e.children.forEach((e=>l.push(e)))})),[{type:r[0]&&r[0].type,children:l}]}return[{type:r[0]&&r[0].type,children:e[0].type===l.ELEMENT_DEFAULT?[...e[0].children]:[{text:n}]}]})(t,e,r),a.Transforms.insertFragment(e,t);else if(n===l.ELEMENT_CODE_BLOCK||n===l.ELEMENT_BLOCKQUOTE)a.Transforms.insertFragment(e,[{text:r}]);else if(t.length>0&&(t[0].type==l.ELEMENT_OL||t[0].type==l.ELEMENT_UL)){if(f(t[0])&&c&&c.text&&""!==c.text.trim())return void a.Transforms.insertFragment(e,t);i!==l.ELEMENT_OL&&i!==l.ELEMENT_UL&&a.Transforms.insertNodes(e,{type:t[0].type,children:[{type:"li",children:[{type:"p",children:[{text:""}]}]}]}),d=e.selection.anchor.path.slice(0,-2),E(t[0],c,e)}else if(t=(e=>{if(e.length>1)return e;if(e[0].type===l.ELEMENT_TABLE){const t=e[0].children;if(t.length>=2)return e;const n=t[0].children;let r=[];return n.forEach((e=>{e.children.forEach((e=>r.push(e)))})),[{type:l.ELEMENT_DEFAULT,children:r}]}return e})(t),c&&c.text&&""!==c.text.trim())a.Transforms.insertFragment(e,t);else{const n=e.selection;a.Transforms.insertNodes(e,t),a.Transforms.removeNodes(e,{at:n,match:e=>"p"==e.type&&1==e.children.length&&""===e.children[0].text})}a.Editor.normalize(e,{force:!0})}},h=(e,t,n,r)=>{const l=(0,s.addPreserveHtmlClass)(r),a=(0,o.default)(l,{gfm:!0}),d=(0,c.deserializeHTMLToDocumentFragment)(e,{plugins:i.config[t].plugins,element:a});return p(e,(0,u.default)(d),n.current,r)};t.default=(e,t)=>(0,r.useCallback)((n=>r=>{r.preventDefault(),r.stopPropagation();const o=r.clipboardData||window.clipboardData,l=o.getData("text/html"),a=o.getData("text/plain"),s=o.getData("application/x-slate-fragment");return s?((e,t,n,r,o)=>{const l=r&&decodeURIComponent(window.atob(r)),a=l&&JSON.parse(l);if(a)return Array.isArray(a)?p(e,a,n.current,o):h(e,t,n,o)})(n,t,e,s,a):l?((e,t,n,r,o)=>{const{body:l}=(new DOMParser).parseFromString(r,"text/html"),a=(0,c.deserializeHTMLToDocumentFragment)(e,{plugins:i.config[t].plugins,element:l});return p(e,a,n.current,o)})(n,t,e,l,a):a?h(n,t,e,a):void 0}),[])},15596:function(e,t,n){n.r(t),n.d(t,{pluginsBasic:function(){return u}});var r=n(6265),o=n(15597),l=n(15598),a=n(15599),i=n(15600),s=n(15601),c=n(15602);const u=[(0,r.createReactPlugin)(),(0,r.createHistoryPlugin)(),...(0,r.createBasicElementPlugins)(),...(0,r.createBasicMarkPlugins)(),(0,o.createArticlePlugin)(),(0,l.createAbbrPlugin)(),(0,a.createAddressPlugin)(),(0,i.createAsidePlugin)(),(0,s.createSectionPlugin)(),(0,o.createArticlePlugin)(),(0,c.createCommentPlugin)()]},15629:function(e,t,n){n.r(t),n.d(t,{CustomAbbrElement:function(){return l}});var r=n(1);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=e=>{const{attributes:t,children:n,nodeProps:l}=e;return r.createElement("abbr",o({},t,l),n)}},15598:function(e,t,n){n.r(t),n.d(t,{ELEMENT_ABBR:function(){return o},createAbbrPlugin:function(){return a},getAbbrDeserialize:function(){return l}});var r=n(6265);const o="abbr",l=()=>e=>{const t=(0,r.getPlatePluginOptions)(e,o);return{element:(0,r.getElementDeserializer)({type:t.type,rules:[{nodeNames:"ABBR"}],...t.deserialize})}},a=()=>({pluginKeys:o,renderElement:(0,r.getRenderElement)(o),deserialize:l()})},15630:function(e,t,n){n.r(t),n.d(t,{CustomAddressElement:function(){return l}});var r=n(1);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=e=>{const{attributes:t,children:n,nodeProps:l}=e;return r.createElement("address",o({},t,l),n)}},15599:function(e,t,n){n.r(t),n.d(t,{ELEMENT_ADDRESS:function(){return o},createAddressPlugin:function(){return a},getAddressDeserialize:function(){return l}});var r=n(6265);const o="address",l=()=>e=>{const t=(0,r.getPlatePluginOptions)(e,o);return{element:(0,r.getElementDeserializer)({type:t.type,rules:[{nodeNames:"ADDRESS"}],...t.deserialize})}},a=()=>({pluginKeys:o,renderElement:(0,r.getRenderElement)(o),deserialize:l()})},15628:function(e,t,n){n.r(t),n.d(t,{CustomArticleElement:function(){return l}});var r=n(1);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=e=>{const{attributes:t,children:n,nodeProps:l}=e;return r.createElement("article",o({},t,l),n)}},15597:function(e,t,n){n.r(t),n.d(t,{ELEMENT_ARTICLE:function(){return o},createArticlePlugin:function(){return a},getArticleDeserialize:function(){return l}});var r=n(6265);const o="article",l=()=>e=>{const t=(0,r.getPlatePluginOptions)(e,o);return{element:(0,r.getElementDeserializer)({type:t.type,rules:[{nodeNames:"ARTICLE"}],...t.deserialize})}},a=()=>({pluginKeys:o,renderElement:(0,r.getRenderElement)(o),deserialize:l()})},15631:function(e,t,n){n.r(t),n.d(t,{CustomAsideElement:function(){return l}});var r=n(1);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=e=>{const{attributes:t,children:n,nodeProps:l}=e;return r.createElement("aside",o({},t,l),n)}},15600:function(e,t,n){n.r(t),n.d(t,{ELEMENT_ASIDE:function(){return o},createAsidePlugin:function(){return a},getAsideDeserialize:function(){return l}});var r=n(6265);const o="aside",l=()=>e=>{const t=(0,r.getPlatePluginOptions)(e,o);return{element:(0,r.getElementDeserializer)({type:t.type,rules:[{nodeNames:"ASIDE"}],...t.deserialize})}},a=()=>({pluginKeys:o,renderElement:(0,r.getRenderElement)(o),deserialize:l()})},15627:function(e,t,n){n.r(t),n.d(t,{CustomCodeBlockElement:function(){return h}});var r=n(1),o=n(6271),l=n(1597),a=n.n(l),i=n(3266),s=n(1665),c=n(6265),u=n(829),d=n(1612),E=n(2734),f=n(6262);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}const p=r.memo((({lang:e="plaintext",onChange:t,className:n})=>{const[o,l]=r.useState({value:e,label:f.CODE_BLOCK_LANGUAGES[e]}),a=Object.entries(f.CODE_BLOCK_LANGUAGES).map((([e,t])=>({value:e,label:t})));return r.createElement(i.default,{onChange:e=>{t(e),l(e)},options:a,value:o,isClearable:!1,isSearchable:!1,menuMaxHeight:200,placeholder:"Select option",className:n})})),h=e=>{const[t,n]=r.useState(!1),[l,i]=r.useState(!1),f=r.useMemo((()=>(0,u.v4)()),[]),h=(0,c.useStoreEditorState)((0,c.useEventEditorId)("focus")),{attributes:T,children:g,element:_,nodeProps:L}=e,{lang:N}=_,y=r.useCallback((()=>{E.default.copy(document.querySelector(`.codeblock__code-${f}`).innerText),i(!0),setTimeout((()=>{i(!1)}),1500)}),[]),b=r.useCallback((()=>{n((e=>!e))}),[]);return r.createElement("div",m({className:"slate-codeblock-wrapper"},T,L),r.createElement(r.Fragment,null,r.createElement("div",{className:"codeblock__header"},r.createElement("div",{className:"codeblock__header__left"},r.createElement(p,{lang:N,className:"codeblock__dropdown",onChange:({value:e})=>{const t=o.ReactEditor.findPath(h,_);t&&(0,c.setNodes)(h,{lang:e},{at:t})}})),r.createElement("div",{className:"codeblock__header__right"},r.createElement(d.Button,{type:"tertiary",onClick:b,className:a()("codeblock__button",{"word-wrapped":t}),tooltip:"Wrap Lines"},r.createElement(s.default,{name:"icon-action-wrap-stroke",color:"content-color-primary"})),r.createElement(d.Button,{type:"tertiary",className:"codeblock__button",onClick:y,tooltip:l?"Copied":"Copy"},l?r.createElement(s.default,{name:"icon-state-success-stroke",className:"code-copied"}):r.createElement(s.default,{name:"icon-action-copy-stroke",className:"code-copy"})))),r.createElement("pre",{className:"codeblock__content"},r.createElement("code",{className:a()(`codeblock__code-${f}`,{"word-wrapped":t})},g))))}},15633:function(e,t,n){n.r(t),n.d(t,{CustomCommentElement:function(){return l}});var r=n(1);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=e=>{const{attributes:t,children:n,nodeProps:l}=e;return r.createElement("comment",o({},t,l),n)}},15602:function(e,t,n){n.r(t),n.d(t,{ELEMENT_COMMENT:function(){return o},createCommentPlugin:function(){return a},getCommentDeserialize:function(){return l}});var r=n(6265);const o="comment",l=()=>e=>{const t=(0,r.getPlatePluginOptions)(e,o);return{element:(0,r.getElementDeserializer)({type:t.type,rules:[{nodeNames:"COMMENT"}],...t.deserialize})}},a=()=>({pluginKeys:o,renderElement:(0,r.getRenderElement)(o),deserialize:l()})},15605:function(e,t,n){n.r(t),n.d(t,{createSelectOnBackspacePlugin:function(){return l}});var r=n(6265),o=n(6289);const l=(0,r.getPlatePluginWithOverrides)((e=>t=>{const{deleteBackward:n}=t;return t.deleteBackward=l=>{const{selection:a}=t;if("character"===l&&(0,r.isCollapsed)(a)){const i=o.Editor.before(t,a,{unit:l});if(i){const[a]=o.Editor.nodes(t,{match:t=>(0,r.queryNode)([t,i.path],e),at:i});a&&i?(0,r.someNode)(t,{match:{type:[r.ELEMENT_CODE_BLOCK,r.ELEMENT_UL,r.ELEMENT_OL]}})?(o.Transforms.removeNodes(t,{match:e=>e.type===r.ELEMENT_CODE_BLOCK||e.type===r.ELEMENT_UL||e.type===r.ELEMENT_OL}),o.Transforms.move(t,{distance:1,unit:"line"})):o.Transforms.select(t,i):n(l)}else n(l)}else n(l)},t}))},15626:function(e,t,n){n.r(t),n.d(t,{CustomImageElement:function(){return c}});var r=n(6265),o=n(1642);n(1);var l=n(6271),a=n(6263);function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=i(o);const c=e=>{var t,n;const{attributes:o,children:i,element:s,nodeProps:c}=e,{url:E,height:f,width:m}=s,p=l.useFocused(),h=l.useSelected(),T=(e=>(0,r.createStyles)({prefixClassNames:"ImageElement",...e},{root:[{}],img:[{display:"block",maxWidth:"100%",paddingTop:"0.625rem",paddingBottom:"0.625rem",paddingLeft:"0px",paddingRight:"0px"},{maxHeight:"20em"},e.focused&&e.selected&&{boxShadow:"0 0 0 1px #B4D5FF"}]}))({...e,focused:p,selected:h});return a.jsx(u,{...o,className:T.root.className,$_css:T.root.css,children:[a.jsx("div",{contentEditable:!1,children:a.jsx(d,{"data-testid":"ImageElementImage",className:null===(t=T.img)||void 0===t?void 0:t.className,src:E,alt:"",height:f,width:m,...c,$_css2:null===(n=T.img)||void 0===n?void 0:n.css})}),i]})};var u=s.default("div").withConfig({displayName:"ImageElement___StyledDiv",componentId:"sc-bie0hf-0"})(["",""],(e=>e.$_css)),d=s.default("img").withConfig({displayName:"ImageElement___StyledImg",componentId:"sc-bie0hf-1"})(["",""],(e=>e.$_css2))},15580:function(e,t,n){n.r(t),n.d(t,{createListPlugin:function(){return D},toggleList:function(){return v}});var r=n(6265),o=n(6289);const l="ul",a="ol",i="li",s="p",c=[l,a,i,s];var u=Array.isArray;var d=function(){if(!arguments.length)return[];var e=arguments[0];return u(e)?e:[e]};var E,f,m,p=(E=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},l={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)l["f"+a]=111+a;function i(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return s(e,t)})),o=function(e){return r.some((function(t){return c(t,e)}))};return null==n?o:o(n)}function s(e,t){var n=t&&t.byKey,o={},l=(e=e.replace("++","+add")).split("+"),a=l.length;for(var i in r)o[r[i]]=!1;var s=!0,c=!1,E=void 0;try{for(var f,m=l[Symbol.iterator]();!(s=(f=m.next()).done);s=!0){var p=f.value,h=p.endsWith("?")&&p.length>1;h&&(p=p.slice(0,-1));var T=d(p),g=r[T];1!==a&&g||(n?o.key=T:o.which=u(p)),g&&(o[g]=!h||null)}}catch(e){c=!0,E=e}finally{try{!s&&m.return&&m.return()}finally{if(c)throw E}}return o}function c(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&(null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r)return!1}return!0}function u(e){return e=d(e),l[e]||e.toUpperCase().charCodeAt(0)}function d(e){return e=e.toLowerCase(),e=o[e]||e}t.default=i,t.isHotkey=i,t.isCodeHotkey=function(e,t){return i(e,t)},t.isKeyHotkey=function(e,t){return i(e,{byKey:!0},t)},t.parseHotkey=s,t.compareHotkey=c,t.toKeyCode=u,t.toKeyName=d},E(f={exports:{}},f.exports),f.exports),h=(m=p)&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m;p.isHotkey,p.isCodeHotkey,p.isKeyHotkey,p.parseHotkey,p.compareHotkey,p.toKeyCode,p.toKeyName;const T=(e,t)=>{var n;const o=null===(n=(0,r.getParent)(e,t))||void 0===n?void 0:n[0];return(null==o?void 0:o.type)===(0,r.getPlatePluginType)(e,i)},g=e=>[(0,r.getPlatePluginType)(e,a),(0,r.getPlatePluginType)(e,l)],_=(e,t)=>t.children.some((t=>(0,r.match)(t,{type:g(e)}))),L=(e,{fromList:t,fromListItem:n,fromStartIndex:l,to:a,toList:i,toListIndex:s=null,deleteFromList:c=!0})=>{let u;if(n){const t=(0,r.findDescendant)(e,{at:n[1],match:{type:g(e)}});if(!t)return 0;u=null==t?void 0:t[1]}else{if(!t)return;u=t[1]}let d=null;if(a&&(d=a),i)if(null!==s)d=i[1].concat([s]);else{const e=(0,r.getLastChildPath)(i);d=o.Path.next(e)}if(!d)return;const E=(0,r.moveChildren)(e,{at:u,to:d,fromStartIndex:l});return c&&o.Transforms.delete(e,{at:u}),E},N=(e,{at:t}={})=>{(0,r.setNodes)(e,{type:(0,r.getPlatePluginType)(e,r.ELEMENT_DEFAULT)},{at:t}),(0,r.unwrapNodes)(e,{at:t,match:{type:(0,r.getPlatePluginType)(e,i)}}),(0,r.unwrapNodes)(e,{at:t,match:{type:[(0,r.getPlatePluginType)(e,l),(0,r.getPlatePluginType)(e,a)]},split:!0})},y=(e,{list:t,listItem:n})=>{let l=!1;return o.Editor.withoutNormalizing(e,(()=>{l=(()=>{const[l,a]=t,[s,c]=n,u=(0,r.getAbove)(e,{at:a,match:{type:(0,r.getPlatePluginType)(e,i)}});if(!u){let i;try{i=o.Path.next(a)}catch(e){return}const u=_(e,s),d=!(0,r.isLastChild)(t,c);if((u||d)&&(0,r.insertNodes)(e,{type:l.type,children:[]},{at:i}),u){const t=(0,r.getNode)(e,i);if(!t)return;L(e,{fromListItem:n,toList:[t,i]})}if(d){const n=(0,r.getNode)(e,i);if(!n)return;L(e,{fromList:t,fromStartIndex:c[c.length-1]+1,toList:[n,i],deleteFromList:!1})}return N(e,{at:c.concat(0)}),!0}const[,d]=u,E=c.concat([1]);if(!(0,r.isLastChild)(t,c)){_(e,s)||(0,r.insertNodes)(e,{type:l.type,children:[]},{at:E});const t=(0,r.getNode)(e,E);if(!t)return;L(e,{fromListItem:u,toList:[t,E],fromStartIndex:c[c.length-1]+1,deleteFromList:!1})}const f=o.Path.next(d);return o.Transforms.moveNodes(e,{at:c,to:f}),!0})()})),l},b=(e,t=!0)=>{const[...n]=(0,r.getNodes)(e,{at:e.selection,match:{type:(0,r.getPlatePluginType)(e,s)}});if(!n.length)return;const l=[],a=[];n.forEach((t=>{const n=t[1],r=o.Path.parent(n);l.some((e=>{const t=o.Path.parent(e);return o.Path.isAncestor(t,r)}))||(l.push(n),a.push(o.Editor.pathRef(e,n)))}));(t?a:a.reverse()).forEach((n=>{const l=n.unref();if(!l)return;const a=(0,r.getParent)(e,l);if(!a)return;const i=(0,r.getParent)(e,a[1]);t?((e,{list:t,listItem:n})=>{const[l]=t,[,a]=n;let i;try{i=o.Path.previous(a)}catch(e){return}const s=o.Editor.node(e,i);if(s){const[t,n]=s,i=t.children.find((t=>(0,r.match)(t,{type:g(e)}))),c=n.concat(i?[1,i.children.length]:[1]);i||(0,r.wrapNodes)(e,{type:l.type,children:[]},{at:a}),o.Transforms.moveNodes(e,{at:a,to:c})}})(e,{list:i,listItem:a}):i&&T(e,i[1])&&y(e,{list:i,listItem:a})}))},v=(e,{type:t})=>{e&&e.selection&&o.Editor.withoutNormalizing(e,(()=>{const n=(0,r.someNode)(e,{match:{type:t}});if(n){const t=1;for(;t;){const[...t]=(0,r.getNodes)(e,{at:e.selection,match:{type:(0,r.getPlatePluginType)(e,s)}});if(!t||!t.length||t[0].length<2||t[0][1].length<=3)break;b(e,!1)}const n=M(e,{});if(!n)return;y(e,{list:n.list,listItem:n.listItem})||N(e)}if(!n){const n={type:t,children:[]};(0,r.wrapNodes)(e,n);const o=[...(0,r.getNodes)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_DEFAULT)}})];(0,r.setNodes)(e,{type:(0,r.getPlatePluginType)(e,s)});const c={type:(0,r.getPlatePluginType)(e,i),children:[]};for(const[,t]of o)(0,r.wrapNodes)(e,c,{at:t});if(!o||!o.length)return;let u=o&&o.length>0&&o[0].length>1&&o[0][1];if(u&&0==u[0])return;u[0]--;let d=(0,r.getAbove)(e,{at:e.selection,match:{type:[l,a]}});const E=(0,r.getAbove)(e,{at:u,match:{type:[l,a]}});if(!E||E[0].type!=d[0].type)return;if(L(e,{fromList:d,toList:E,deleteFromList:!1}),d=(0,r.getAbove)(e,{at:e.selection,match:{type:[l,a]}}),u[0]++,u[0]++,u[0]>=e.children.length)return;const f=(0,r.getAbove)(e,{at:u,match:{type:[l,a]}});if(!f||f[0].type!=d[0].type)return;L(e,{fromList:f,toList:d,deleteFromList:!1})}}))},M=(e,{at:t=e.selection}={})=>{const n=(0,r.getPlatePluginType)(e,i);if(t&&(0,r.someNode)(e,{at:t,match:{type:n}})){const l=(0,r.getParent)(e,t);if(!l)return;const[,a]=l;o.Range.isRange(t)&&!(0,r.isCollapsed)(t)&&1===a.length&&(t=t.focus.path);const i=(0,r.getAbove)(e,{at:t,match:{type:n}})||(0,r.getParent)(e,a);if(!i)return;const[s,c]=i;if(s.type!==n)return;const u=(0,r.getParent)(e,c);if(!u)return;return{list:u,listItem:i}}},C=(e,{fromListItem:t,toListItem:n,start:l})=>{const[,a]=t,[,i]=n,s=(0,r.findDescendant)(e,{at:a,match:{type:g(e)}});if(!s)return 0;const[,c]=s,u=(0,r.findDescendant)(e,{at:i,match:{type:g(e)}});let d;if(u)if(l){const[,e]=u;d=e.concat([0])}else d=o.Path.next((0,r.getLastChildPath)(u));else{const t=(0,r.getParent)(e,a);if(!t)return 0;const[n]=t,o=n.type,l=i.concat([1]);(0,r.insertNodes)(e,{type:o,children:[]},{at:l}),d=l.concat([0])}const E=(0,r.moveChildren)(e,{at:c,to:d});return o.Transforms.delete(e,{at:c}),E},A=(e,t)=>{const n=M(e,{});let l=!1;if(n){const{list:a,listItem:c}=n;(0,r.isSelectionAtBlockStart)(e)&&o.Editor.withoutNormalizing(e,(()=>!!l||(l=((e,{list:t,listItem:n})=>{const[l,a]=n;if((0,r.isExpanded)(e.selection)||!_(e,l))return!1;const c=(0,r.getPreviousPath)(a);if(c){const t=o.Editor.node(e,c);let l=o.Path.next(a);(0,r.insertNodes)(e,{type:(0,r.getPlatePluginType)(e,i),children:[{type:(0,r.getPlatePluginType)(e,s),children:[{text:""}]}]},{at:l});const u=o.Editor.node(e,l),d=o.Editor.pathRef(e,u[1]);return C(e,{fromListItem:n,toListItem:u}),(0,r.deleteFragment)(e,{reverse:!0}),l=d.unref(),C(e,{fromListItem:[u[0],l],toListItem:t}),o.Transforms.removeNodes(e,{at:l}),!0}L(e,{fromListItem:n,toList:t,toListIndex:1})})(e,{list:a,listItem:c}),!!l||((0,r.isFirstChild)(c[1])&&!T(e,a[1])?((0,r.getResetNodeOnKeyDown)({rules:[{types:[(0,r.getPlatePluginType)(e,i)],defaultType:(0,r.getPlatePluginType)(e,r.ELEMENT_DEFAULT),hotkey:"backspace",predicate:()=>(0,r.isSelectionAtBlockStart)(e),onReset:e=>N(e)}]})(e)(r.SIMULATE_BACKSPACE),void(l=!0)):((0,r.deleteFragment)(e,{unit:t,reverse:!0}),void(l=!0))))))}return l},B=(e,{diffListPath:t,liPath:n})=>{const l=(0,r.getAbove)(e,{at:n,match:{type:g(e)}});if(!l)return;const[a,s]=l;if(!t||!o.Path.equals(s,t)){if(a.children.length<2){const n=(0,r.getAbove)(e,{at:s,match:{type:(0,r.getPlatePluginType)(e,i)}});if(n)return B(e,{liPath:n[1],diffListPath:t})||s}return n}},O=e=>{let t=!1;return o.Editor.withoutNormalizing(e,(()=>{if(!(e=>{const{selection:t}=e;return!(!t||(0,r.isCollapsed)(t))&&(!!(0,r.isRangeAcrossBlocks)(e)&&(0,r.someNode)(e,{match:{type:(0,r.getPlatePluginType)(e,i)}}))})(e))return;const n=o.Editor.end(e,e.selection),l=(0,r.getAbove)(e,{at:n,match:{type:(0,r.getPlatePluginType)(e,i)}}),a=l&&!_(e,l[0])?o.Editor.pathRef(e,l[1]):void 0;(0,r.deleteFragment)(e);const s=o.Editor.start(e,e.selection),c=(0,r.getAbove)(e,{at:s,match:{type:(0,r.getPlatePluginType)(e,i)}});if(c&&c.length>0&&c[0].type==i&&c[0].children&&c[0].children[0].children&&""===c[0].children[0].children[0].text&&A(e,"character"),a){const n=a.unref(),l=c&&(0,r.getParent)(e,c[1]),i=B(e,{liPath:n,diffListPath:null==l?void 0:l[1]});i&&o.Transforms.removeNodes(e,{at:i}),t=!0}})),t},P=e=>{if(!e.selection)return;const t=M(e,{});let n;if(t){const{list:o,listItem:l}=t;if((0,r.isBlockAboveEmpty)(e)&&(n=y(e,{list:o,listItem:l}),n))return!0}if((0,r.getResetNodeOnKeyDown)({rules:[{types:[(0,r.getPlatePluginType)(e,i)],defaultType:(0,r.getPlatePluginType)(e,r.ELEMENT_DEFAULT),predicate:()=>!n&&(0,r.isBlockAboveEmpty)(e),onReset:e=>N(e)}]})(e)(r.SIMULATE_BACKSPACE))return!0;if(!n){const t=(e=>{const t=(0,r.getPlatePluginType)(e,i),n=(0,r.getPlatePluginType)(e,s);if(e&&e.selection){const l=(0,r.getAbove)(e,{match:{type:n}});if(!l)return;const[,a]=l,i=(0,r.getParent)(e,a);if(!i)return;const[s,c]=i;if(s.type!==t)return;o.Range.isCollapsed(e.selection)||o.Transforms.delete(e);const u=o.Editor.isStart(e,e.selection.focus,a),d=(0,r.isBlockTextEmptyAfterSelection)(e),E=o.Path.next(a),f=o.Path.next(c);if(u)return(0,r.insertNodes)(e,{type:t,children:[{type:n,children:[{text:""}]}]},{at:c}),!0;if(d){const l=o.Editor.marks(e)||{};(0,r.insertNodes)(e,{type:t,children:[{type:n,children:[{text:"",...l}]}]},{at:f}),o.Transforms.select(e,f)}else o.Editor.withoutNormalizing(e,(()=>{o.Transforms.splitNodes(e),(0,r.wrapNodes)(e,{type:t,children:[]},{at:E}),o.Transforms.moveNodes(e,{at:E,to:f}),o.Transforms.select(e,f),o.Transforms.collapse(e,{edge:"start"})}));return s.children.length>1&&o.Transforms.moveNodes(e,{at:E,to:f.concat(1)}),!0}})(e);if(t)return!0}},k=(e,{children:t})=>{const n=[];for(const l of t)o.Editor.isBlock(e,l[0])?n.push(...k(e,{children:(0,r.getChildren)(l)})):n.push(l);return n},S=(e,{validLiChildrenTypes:t})=>{const{normalizeNode:n}=e,c=(0,r.getPlatePluginType)(e,i),u=(0,r.getPlatePluginType)(e,s),d=(0,r.getPlatePluginType)(e,r.ELEMENT_DEFAULT);return([E,f])=>{if((0,r.isElement)(E)){if((0,r.match)(E,{type:g(e)})&&(!E.children.length||!E.children.find((e=>e.type===c))))return o.Transforms.removeNodes(e,{at:f});if(E.type!==(0,r.getPlatePluginType)(e,i)||!((e,{listItem:t,validLiChildrenTypes:n=[]})=>{let i=!1;const c=[(0,r.getPlatePluginType)(e,l),(0,r.getPlatePluginType)(e,a),(0,r.getPlatePluginType)(e,s),...n],[,u]=t,d=(0,r.getChildren)(t),E=d.filter((([e])=>!c.includes(e.type))).map((([,t])=>o.Editor.pathRef(e,t))),f=d[0],[m,p]=null!=f?f:[];if(!f||!o.Editor.isBlock(e,m))return(0,r.insertEmptyElement)(e,(0,r.getPlatePluginType)(e,s),{at:u.concat([0])}),!0;o.Editor.isBlock(e,m)&&!(0,r.match)(m,{type:(0,r.getPlatePluginType)(e,s)})&&((0,r.setNodes)(e,{type:(0,r.getPlatePluginType)(e,s)}),i=!0);const h=(0,r.getChildren)(f);return h.length&&o.Editor.withoutNormalizing(e,(()=>{var t;const n=[],l=[];for(const t of h){if(!o.Editor.isBlock(e,t[0]))break;n.push(o.Editor.pathRef(e,t[1])),l.push(...k(e,{children:(0,r.getChildren)(t)}))}const a=o.Path.next(null===(t=h[h.length-1])||void 0===t?void 0:t[1]);l.reverse().forEach((([,t])=>{o.Transforms.moveNodes(e,{at:t,to:a})})),n.forEach((t=>{const n=t.unref();n&&o.Transforms.removeNodes(e,{at:n})})),n.length&&(i=!0)})),!!i||(E.reverse().forEach((t=>{const n=t.unref();n&&o.Transforms.moveNodes(e,{at:n,to:p.concat([0])})})),!!E.length)})(e,{listItem:[E,f],validLiChildrenTypes:t})){var m;if(E.type===u&&u!==d)if((null===(m=(0,r.getParent)(e,f))||void 0===m?void 0:m[0].type)!==c)return void(0,r.setNodes)(e,{type:d},{at:f});n([E,f])}}}},I=({validLiChildrenTypes:e}={})=>t=>{const{insertBreak:n,deleteBackward:r,deleteFragment:o}=t;return t.insertBreak=()=>{P(t)||n()},t.deleteBackward=e=>{A(t,e)||r(e)},t.deleteFragment=()=>{O(t)||o()},t.normalizeNode=S(t,{validLiChildrenTypes:e}),t},D=e=>{return{pluginKeys:c,renderElement:(0,r.getRenderElement)(c),deserialize:e=>{const t=(0,r.getPlatePluginOptions)(e,i),n=(0,r.getPlatePluginOptions)(e,s),o=(0,r.getPlatePluginOptions)(e,l),c=(0,r.getPlatePluginOptions)(e,a);return{element:[...(0,r.getElementDeserializer)({type:o.type,rules:[{nodeNames:"UL"}],...o.deserialize}),...(0,r.getElementDeserializer)({type:c.type,rules:[{nodeNames:"OL"}],...c.deserialize}),...(0,r.getElementDeserializer)({type:t.type,rules:[{nodeNames:"LI"}],...t.deserialize}),...(0,r.getElementDeserializer)({type:n.type,rules:[{nodeNames:"LIC"}],...n.deserialize})]}},onKeyDown:(t=c,e=>n=>{const o=(0,r.getPlatePluginTypes)([l,a])(e);if("Tab"===n.key)return n.preventDefault(),void b(e,!n.shiftKey);(t?(0,r.mapPlatePluginKeysToOptions)(e,t):[]).forEach((({type:t,hotkey:r})=>{if(!r)return;const l=d(r);for(const r of l)h(r)(n)&&o.includes(t)&&v(e,{type:t})}))}),withOverrides:I(e)};var t}},15632:function(e,t,n){n.r(t),n.d(t,{CustomSectionElement:function(){return l}});var r=n(1);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=e=>{const{attributes:t,children:n,nodeProps:l}=e;return r.createElement("section",o({},t,l),n)}},15601:function(e,t,n){n.r(t),n.d(t,{ELEMENT_SECTION:function(){return o},createSectionPlugin:function(){return a},getSectionDeserialize:function(){return l}});var r=n(6265);const o="section",l=()=>e=>{const t=(0,r.getPlatePluginOptions)(e,o);return{element:(0,r.getElementDeserializer)({type:t.type,rules:[{nodeNames:"SECTION"}],...t.deserialize})}},a=()=>({pluginKeys:o,renderElement:(0,r.getRenderElement)(o),deserialize:l()})},15620:function(e,t,n){n.r(t),n.d(t,{CustomTableElement:function(){return o}});var r=n(6263);const o=({attributes:e,children:t,nodeProps:n})=>(0,r.jsx)("div",{className:"slate-table-wrapper",...e,children:(0,r.jsx)("table",{...n,children:(0,r.jsx)("tbody",{children:t})})})},15589:function(e,t,n){n.r(t),n.d(t,{addColumn:function(){return E},addRow:function(){return u},createTablePlugin:function(){return T},deleteColumn:function(){return f},deleteRow:function(){return d},deleteTable:function(){return m},getEmptyCellNode:function(){return i},getEmptyRowNode:function(){return s},getEmptyTableNode:function(){return c},insertTable:function(){return p}});var r=n(6265),o=n(6289),l=n(15590),a=n(6271);const i=(e,{header:t})=>t?{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TH),children:[{text:"",bold:!0}]}:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TD),children:[{text:""}]},s=(e,{header:t,colCount:n})=>({type:(0,r.getPlatePluginType)(e,r.ELEMENT_TR),children:Array(n).fill(n).map((()=>i(e,{header:t})))}),c=(e,{header:t})=>({type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE),children:[s(e,{header:!0,colCount:2}),s(e,{header:t,colCount:2})]}),u=e=>{if((0,r.someNode)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}})){const t=(0,r.getAbove)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TR)}});if(t){const[n,l]=t;(0,r.insertNodes)(e,s(e,{header:!1,colCount:n.children.length}),{at:o.Path.next(l),select:!0}),o.Transforms.select(e,o.Path.next(l)),o.Transforms.collapse(e,{edge:"anchor"}),a.ReactEditor.focus(e)}}},d=e=>{if((0,r.someNode)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}})){const t=(0,r.getAbove)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}}),n=(0,r.getAbove)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TR)}});n&&t&&t[0].children.length>1&&o.Transforms.removeNodes(e,{at:n[1]}),a.ReactEditor.focus(e)}},E=e=>{if((0,r.someNode)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}})){const t=(0,r.getAbove)(e,{match:{type:[(0,r.getPlatePluginType)(e,r.ELEMENT_TH),(0,r.getPlatePluginType)(e,r.ELEMENT_TD)]}}),n=(0,r.getAbove)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}});if(t&&n){const l=o.Path.next(t[1]).slice(),a=l.length-2;n[0].children.forEach(((t,n)=>{l[a]=n,(0,r.insertNodes)(e,i(e,{header:0===n}),{at:l,select:0===n})}))}const l=h(e,{});if(!l)return;const{tableElement:s}=l,[c]=s;try{const t=a.ReactEditor.toDOMNode(e,c);a.ReactEditor.focus(e),setTimeout((()=>{t.scrollBy(110,0)}),100)}catch(e){pm.logger.error(e)}}},f=e=>{if((0,r.someNode)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}})){const t=(0,r.getAbove)(e,{match:{type:[(0,r.getPlatePluginType)(e,r.ELEMENT_TH),(0,r.getPlatePluginType)(e,r.ELEMENT_TD)]}}),n=(0,r.getAbove)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TR)}}),l=(0,r.getAbove)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}});if(t&&n&&l&&n[0].children.length>1){const n=t[1].slice(),r=n.length-2;l[0].children.forEach(((t,l)=>{n[r]=l,o.Transforms.removeNodes(e,{at:n})}))}a.ReactEditor.focus(e)}},m=e=>{if((0,r.someNode)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}})){const t=(0,r.getAbove)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}});t&&(o.Transforms.removeNodes(e,{at:t[1]}),e||e.selection||(0,r.insertNodes)(e,(0,l.generateBaseObjectInstance)())),a.ReactEditor.focus(e)}},p=(e,{header:t}={})=>{if(!(0,r.someNode)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}})){(0,r.insertNodes)(e,c(e,{header:t}));const n=(0,r.getAbove)(e,{match:{type:(0,r.getPlatePluginType)(e,r.ELEMENT_TABLE)}}),[,l]=n;o.Transforms.select(e,l),o.Transforms.collapse(e,{edge:"start"})}},h=(e,{at:t=e.selection}={})=>{if(t&&(0,r.someNode)(e,{at:t,match:{type:[(0,r.getPlatePluginType)(e,r.ELEMENT_TD),(0,r.getPlatePluginType)(e,r.ELEMENT_TH)]}})){const n=(0,r.getParent)(e,t);if(!n)return;const[,o]=n,l=(0,r.getAbove)(e,{at:t,match:{type:[(0,r.getPlatePluginType)(e,r.ELEMENT_TD),(0,r.getPlatePluginType)(e,r.ELEMENT_TH)]}})||(0,r.getParent)(e,o);if(!l)return;const[a,i]=l;if(![(0,r.getPlatePluginType)(e,r.ELEMENT_TD),(0,r.getPlatePluginType)(e,r.ELEMENT_TH)].includes(a.type))return;const s=(0,r.getParent)(e,i);if(!s)return;const[c,u]=s;if(c.type!==(0,r.getPlatePluginType)(e,r.ELEMENT_TR))return;const d=(0,r.getParent)(e,u);if(!d)return;return{tableElement:d,tableRow:s,tableCell:l}}},T=()=>({pluginKeys:r.KEYS_TABLE,renderElement:(0,r.getRenderElement)(r.KEYS_TABLE),deserialize:(0,r.getTableDeserialize)(),onKeyDown:e=>t=>{if("Tab"===t.key){t.preventDefault();const n=h(e,{});if(!n)return;const{tableElement:l,tableRow:i,tableCell:s}=n,[,c]=s,[u]=l,d=a.ReactEditor.toDOMNode(e,u),E=t.shiftKey,f=!t.shiftKey;if(E){const t=(0,r.getPreviousTableCell)(e,s,c,i);if(t){const[,n]=t;o.Transforms.select(e,n),c[1]===n[1]?d&&d.scrollBy(-110,0):d&&d.scrollBy(9999,0),o.Transforms.collapse(e,{edge:"end"})}}else if(f){const t=(0,r.getNextTableCell)(e,s,c,i);if(t){const[,n]=t;o.Transforms.select(e,n),c[1]===n[1]?d&&d.scrollBy(110,0):d&&(d.scrollLeft=0),o.Transforms.collapse(e,{edge:"end"})}}}},withOverrides:e=>{const t=t=>(0,r.isElement)(t)&&(t.type===(0,r.getPlatePluginType)(e,r.ELEMENT_TD)||t.type===(0,r.getPlatePluginType)(e,r.ELEMENT_TH)),{deleteBackward:n,deleteForward:l,deleteFragment:i,insertText:s}=e,c=(n,l,i)=>s=>{const{selection:c}=e;if((0,r.isCollapsed)(c)){const[n]=o.Editor.nodes(e,{match:t});if(n){const[,t]=n,r=l(e,t);if(c&&o.Point.equals(c.anchor,r))return}else{const n=i(e,c,{unit:s}),[l]=o.Editor.nodes(e,{match:t,at:n});if(l){o.Transforms.select(e,n);const t=h(e,{at:n});if(!t)return;const{tableElement:l,tableCell:i}=t,[,s]=i,[u]=l,d=a.ReactEditor.toDOMNode(e,u);return s&&s[2]&&0!==s[2]?d&&d.scrollBy(9999,0):d&&(d.scrollLeft=0),void o.Transforms.removeNodes(e,{at:c,match:e=>e.type===r.ELEMENT_UL||e.type===r.ELEMENT_OL||e.type===r.ELEMENT_CODE_BLOCK})}}}n(s)};return e.deleteFragment=()=>{const{selection:n}=e,[r]=o.Editor.nodes(e,{match:t,at:null==n?void 0:n.anchor.path}),[l]=o.Editor.nodes(e,{match:t,at:null==n?void 0:n.focus.path});if(!r&&!l||(null==r?void 0:r[0])===(null==l?void 0:l[0]))i();else{const n=o.Editor.nodes(e,{match:t});for(const[,t]of n)for(const[,n]of o.Node.children(e,t,{reverse:!0}))o.Transforms.removeNodes(e,{at:n});o.Transforms.collapse(e)}},e.insertText=n=>{const{selection:l}=e,[a]=o.Editor.nodes(e,{match:t,at:null==l?void 0:l.anchor.path}),[i]=o.Editor.nodes(e,{match:t,at:null==l?void 0:l.focus.path});if(!(0,r.isCollapsed)(l)&&(a||i)&&(null==a?void 0:a[0])!==(null==i?void 0:i[0])){const[r]=o.Editor.nodes(e,{match:t});if(r)return o.Transforms.collapse(e,{edge:"end"}),void s(n)}s(n)},e.deleteBackward=c(n,o.Editor.start,o.Editor.before),e.deleteForward=c(l,o.Editor.end,o.Editor.after),e}})},15603:function(e,t,n){n.r(t),n.d(t,{format:function(){return E},formatList:function(){return f},pluginsFormat:function(){return _},preFormat:function(){return d}});var r=n(6265),o=n(6289),l=n(6262),a=n(15589),i=n(15580),s=n(15572);const c=(e,t)=>{const n=e&&e.children[e.selection.anchor.path[0]];if(!n)return!0;const o=n.type||r.ELEMENT_DEFAULT,l=s.IS_TOOLBAR_BUTTONS_DISABLE[o];return l&&l[t]},u=(e,t)=>{if(e&&e.selection){if(c(e,t))return;(0,r.setNodes)(e,{type:t},{match:t=>o.Editor.isBlock(e,t)})}},d=e=>(0,r.unwrapList)(e),E=(e,t)=>{if(e.selection){const n=(0,r.getParent)(e,e.selection);if(!n)return;const[o]=n;!(0,r.isElement)(o)||(0,r.isType)(e,o,r.ELEMENT_CODE_BLOCK)||(0,r.isType)(e,o,r.ELEMENT_CODE_LINE)||t()}},f=(e,t)=>{E(e,(()=>(0,i.toggleList)(e,{type:t})))},m={rules:[{hotkey:"shift+enter"},{hotkey:"enter",query:{allow:[r.ELEMENT_CODE_BLOCK,r.ELEMENT_BLOCKQUOTE,r.ELEMENT_TD,r.ELEMENT_TH]}}]},p={types:[r.ELEMENT_BLOCKQUOTE],defaultType:r.ELEMENT_PARAGRAPH},h={rules:[{...p,hotkey:"Enter",predicate:r.isBlockAboveEmpty},{...p,hotkey:"Backspace",predicate:r.isSelectionAtBlockStart}]},T={rules:[{hotkey:"mod+enter"},{hotkey:"mod+shift+enter",before:!0},{hotkey:"enter",query:{start:!0,end:!0,allow:r.KEYS_HEADING}}]},g={rules:[{mode:"block",type:r.ELEMENT_H1,match:"# ",format:e=>u(e,r.ELEMENT_H1)},{mode:"block",type:r.ELEMENT_H2,match:"## ",format:e=>u(e,r.ELEMENT_H2)},{mode:"block",type:r.ELEMENT_H3,match:"### ",format:e=>u(e,r.ELEMENT_H3)},{mode:"block",type:r.ELEMENT_H4,match:"#### ",format:e=>u(e,r.ELEMENT_H4)},{mode:"block",type:r.ELEMENT_H5,match:"##### ",format:e=>u(e,r.ELEMENT_H5)},{mode:"block",type:r.ELEMENT_H6,match:"###### ",format:e=>u(e,r.ELEMENT_H6)},{mode:"block",type:r.ELEMENT_BLOCKQUOTE,match:"> ",format:e=>u(e,r.ELEMENT_BLOCKQUOTE)},{mode:"block",type:r.ELEMENT_BLOCKQUOTE,match:"> >",format:e=>u(e,r.ELEMENT_BLOCKQUOTE)},{mode:"block",type:r.ELEMENT_HR,match:"---",format:e=>{if(e&&e.selection){if(c(e,r.ELEMENT_HR))return;const t=o.Editor.node(e,e.selection),[n]=t;n&&0===n.text.trim().length?((0,r.setNodes)(e,{type:r.ELEMENT_HR}),(0,r.insertNodes)(e,{type:r.ELEMENT_DEFAULT,children:[{text:""}]})):((0,r.insertNodes)(e,{type:r.ELEMENT_DEFAULT,children:[{text:""}]}),(0,r.setNodes)(e,{type:r.ELEMENT_HR}),o.Transforms.move(e,{distance:1,unit:"line"}))}}},{mode:"block",type:r.ELEMENT_CODE_BLOCK,match:"```",triggerAtBlockStart:!1,format:e=>{c(e,r.ELEMENT_UL)||(0,l.insertEmptyCodeBlock)(e,{defaultType:(0,r.getPlatePluginType)(e,r.ELEMENT_DEFAULT),insertNodesOptions:{select:!0}})}},{mode:"block",type:r.ELEMENT_LI,match:["* ","- "],format:e=>{c(e,r.ELEMENT_UL)||f(e,r.ELEMENT_UL)}},{mode:"block",type:r.ELEMENT_LI,match:["1. ","1) "],format:e=>{c(e,r.ELEMENT_UL)||f(e,r.ELEMENT_OL)}},{mode:"block",type:r.ELEMENT_TABLE,match:"||",format:e=>{if(e&&e.selection){if(c(e,r.ELEMENT_TABLE))return;(0,a.insertTable)(e)}}},{mode:"mark",type:[r.MARK_BOLD,r.MARK_ITALIC],match:"***"},{mode:"mark",type:[r.MARK_ITALIC],match:"__*"},{mode:"mark",type:[r.MARK_BOLD],match:"__**"},{mode:"mark",type:[r.MARK_BOLD,r.MARK_ITALIC],match:"___***"},{mode:"mark",type:r.MARK_BOLD,match:"**"},{mode:"mark",type:r.MARK_ITALIC,match:"*"},{mode:"mark",type:r.MARK_ITALIC,match:"_"},{mode:"mark",type:r.MARK_STRIKETHROUGH,match:"~~"},{mode:"mark",type:r.MARK_CODE,match:"`"}]},_=[(0,r.createResetNodePlugin)(h),(0,r.createSoftBreakPlugin)(m),(0,r.createExitBreakPlugin)(T),(0,r.createAutoformatPlugin)(g),(0,r.createTrailingBlockPlugin)({type:r.ELEMENT_PARAGRAPH})]},15595:function(e,t,n){n.r(t),n.d(t,{pluginsBasic:function(){return r.pluginsBasic},pluginsFormat:function(){return o.pluginsFormat},pluginsToolbar:function(){return l.pluginsToolbar},pluginsToolbarKnowledgeBase:function(){return l.pluginsToolbarKnowledgeBase},pluginsToolbarPages:function(){return l.pluginsToolbarPages}});var r=n(15596),o=n(15603),l=n(15604)},15604:function(e,t,n){n.r(t),n.d(t,{pluginsToolbar:function(){return s},pluginsToolbarKnowledgeBase:function(){return u},pluginsToolbarPages:function(){return c}});var r=n(6265),o=n(15580),l=n(15589),a=n(6262),i=n(15605);const s=[(0,r.createLinkPlugin)(),(0,o.createListPlugin)(),(0,r.createImagePlugin)(),(0,l.createTablePlugin)(),(0,a.createCodeBlockPlugin)(),(0,r.createHorizontalRulePlugin)(),(0,i.createSelectOnBackspacePlugin)({allow:[r.ELEMENT_IMAGE]})],c=[(0,r.createAlignPlugin)(),(0,r.createMediaEmbedPlugin)(),(0,r.createHighlightPlugin)(),(0,r.createFontSizePlugin)(),(0,r.createFontColorPlugin)(),(0,r.createFontBackgroundColorPlugin)()],u=[(0,r.createAlignPlugin)()]},15574:function(e,t,n){n.r(t),n.d(t,{BalloonStates:function(){return r}});const r={LINK:{ADD:"LINK_ADD",UPDATE:"LINK_UPDATE",EDIT:"LINK_EDIT"},IMAGE:{ADD:"IMAGE_ADD",UPDATE:"IMAGE_UPDATE",EDIT:"IMAGE_EDIT"},TABLE:{EDIT:"TABLE_EDIT"},CLOSE:"CLOSE"}},15575:function(e,t,n){n.r(t),n.d(t,{action:function(){return a},createStore:function(){return l},setStoreValue:function(){return i}});var r=n(6381),o=n(15576);const l=()=>{return e=o.immer,t=r.default,n=>t(e(n));var e,t},a=(e,t)=>{e.actionType=t},i=(e,t,n,r)=>o=>{e((e=>{e.noDiff=!0,e[t]!==o&&(e.noDiff=!1,e.actionType=n,e[t]=r?{...e[t],...o}:o)}))}},15573:function(e,t,n){n.r(t),n.d(t,{useEditorStore:function(){return l}});var r=n(15574),o=n(15575);const l=(0,o.createStore)()((e=>({isLinkOpen:!1,setIsLinkOpen:(0,o.setStoreValue)(e,"isLinkOpen","setIsLinkOpen"),balloonState:r.BalloonStates.CLOSE,setBalloonState:(0,o.setStoreValue)(e,"balloonState","setBalloonState"),isTableBalloonOpen:!1,setIsTableOpen:(0,o.setStoreValue)(e,"isTableOpen","setIsTableOpen"),editorSelection:null,setEditorSelection:(0,o.setStoreValue)(e,"editorSelection","setEditorSelection"),editorSelectionText:null,setEditorSelectionText:(0,o.setStoreValue)(e,"editorSelectionText","setEditorSelectionText"),nodeType:null,setNodeType:(0,o.setStoreValue)(e,"nodeType","setNodeType")})))},15576:function(e,t,n){n.r(t),n.d(t,{combineAndImmer:function(){return i},immer:function(){return l},immerMutable:function(){return a}});var r=n(6378),o=n(6379);const l=e=>(t,n,o)=>e((e=>t((0,r.default)(e))),n,o),a=e=>(t,n,o)=>e((e=>{(0,r.setAutoFreeze)(!1),t((0,r.default)(e)),(0,r.setAutoFreeze)(!0)}),n,o),i=(e,t)=>(0,o.combine)(e,l(t))},15616:function(e,t,n){n.r(t);var r=n(15617),o=n(15618);const l=new((0,r.TurndownService)())({headingStyle:"atx",codeBlockStyle:"fenced",emDelimiter:"*"}).use([o.gfm]).addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~~"+e+"~~"}}).addRule("BoldInCode",{filter:function(e){return"CODE"===e.tagName&&e.childNodes.length&&"STRONG"===e.childNodes[0].tagName},replacement:function(e){return"**`"+e.slice(2,e.length-2)+"`**"}}).addRule("Paragraph in list",{filter:function(e){return"P"===e.tagName&&"LI"===e.parentNode.tagName},replacement:function(e,t){return t.parentNode.parentNode&&t.parentNode.parentNode.parentNode&&"X-TURNDOWN"==t.parentNode.parentNode.parentNode.tagName&&!t.parentNode.nextSibling?e+"\n":e}}).keep("custom"),a="_PARA_REPLACEMENT_STRING_";t.default=e=>{let t=e.replaceAll("\n","\n<br>").replaceAll("&para",a),n=l.turndown(t);return n=n.replaceAll("*****","*"),n=n.replaceAll("<custom>",""),n=n.replaceAll("</custom>",""),n=n.replaceAll("<strong>","<b>"),n=n.replaceAll("</strong>","</b>"),n=n.replaceAll("<em>","<i>"),n=n.replaceAll("</em>","</i>"),n=n.replaceAll("<comment>","\x3c!-- "),n=n.replaceAll("</comment>"," --\x3e"),n=n.replaceAll(a,"&para"),n}},15619:function(e,t,n){n.r(t);var r=n(15609),o=n(15590);t.default=(e,t,n,l=!1)=>{let a;if(a=(0,r.deserializeHTMLToDocumentFragment)(n,{plugins:t,element:e}),l){const e=[];for(let t of a)"p"===t.type&&1===t.children.length&&void 0!==t.children[0].text&&0===t.children[0].text.trim().length||e.push(t);a=e}return a.push((0,o.generateBaseObjectInstance)()),a[0]&&!a[0].children&&(a=[(0,o.generateBaseObjectInstance)()]),a}},15590:function(e,t,n){n.r(t),n.d(t,{generateBaseObjectInstance:function(){return o}});const r={type:"p",children:[{text:""}]};function o(){return{...JSON.parse(JSON.stringify(r))}}t.default=r},15572:function(e,t,n){n.r(t),n.d(t,{IS_TOOLBAR_BUTTONS_DISABLE:function(){return o}});var r=n(6265);const o={[r.ELEMENT_CODE_BLOCK]:{[r.ELEMENT_DEFAULT]:!0,[r.ELEMENT_H1]:!0,[r.ELEMENT_H2]:!0,[r.ELEMENT_H3]:!0,[r.ELEMENT_H4]:!0,[r.ELEMENT_H5]:!0,[r.ELEMENT_H6]:!0,[r.ELEMENT_LI]:!0,[r.ELEMENT_UL]:!0,[r.ELEMENT_OL]:!0,[r.ELEMENT_CODE_LINE]:!0,[r.MARK_BOLD]:!0,[r.MARK_ITALIC]:!0,[r.MARK_STRIKETHROUGH]:!0,[r.MARK_CODE]:!0,[r.ELEMENT_TABLE]:!0,[r.ELEMENT_TH]:!0,[r.ELEMENT_IMAGE]:!0,[r.ELEMENT_LINK]:!0,[r.ELEMENT_BLOCKQUOTE]:!0,[r.ELEMENT_HR]:!0},[r.ELEMENT_DEFAULT]:{[r.ELEMENT_H1]:!1,[r.ELEMENT_H2]:!1,[r.ELEMENT_H3]:!1,[r.ELEMENT_H4]:!1,[r.ELEMENT_H5]:!1,[r.ELEMENT_H6]:!1,[r.ELEMENT_LI]:!1,[r.ELEMENT_UL]:!1,[r.ELEMENT_OL]:!1,[r.ELEMENT_CODE_LINE]:!1,[r.MARK_BOLD]:!1,[r.MARK_ITALIC]:!1,[r.MARK_STRIKETHROUGH]:!1,[r.MARK_CODE]:!1,[r.ELEMENT_TABLE]:!1,[r.ELEMENT_TH]:!1,[r.ELEMENT_CODE_BLOCK]:!1,[r.ELEMENT_BLOCKQUOTE]:!1,[r.ELEMENT_HR]:!1},[r.ELEMENT_TABLE]:{[r.ELEMENT_DEFAULT]:!0,[r.ELEMENT_H1]:!0,[r.ELEMENT_H2]:!0,[r.ELEMENT_H3]:!0,[r.ELEMENT_H4]:!0,[r.ELEMENT_H5]:!0,[r.ELEMENT_H6]:!0,[r.ELEMENT_LI]:!0,[r.ELEMENT_UL]:!0,[r.ELEMENT_OL]:!0,[r.MARK_BOLD]:!1,[r.MARK_ITALIC]:!1,[r.MARK_STRIKETHROUGH]:!1,[r.MARK_CODE]:!1,[r.ELEMENT_CODE_BLOCK]:!0,[r.ELEMENT_TH]:!1,[r.ELEMENT_TABLE]:!0,[r.ELEMENT_IMAGE]:!0,[r.ELEMENT_LINK]:!1,[r.ELEMENT_BLOCKQUOTE]:!0,[r.ELEMENT_HR]:!0},[r.ELEMENT_BLOCKQUOTE]:{[r.ELEMENT_DEFAULT]:!0,[r.ELEMENT_H1]:!0,[r.ELEMENT_H2]:!0,[r.ELEMENT_H3]:!0,[r.ELEMENT_H4]:!0,[r.ELEMENT_H5]:!0,[r.ELEMENT_H6]:!0,[r.ELEMENT_LI]:!0,[r.ELEMENT_UL]:!0,[r.ELEMENT_OL]:!0,[r.MARK_BOLD]:!1,[r.MARK_ITALIC]:!1,[r.MARK_STRIKETHROUGH]:!1,[r.MARK_CODE]:!1,[r.ELEMENT_CODE_BLOCK]:!0,[r.ELEMENT_IMAGE]:!0,[r.ELEMENT_LINK]:!0,[r.ELEMENT_TABLE]:!0,[r.ELEMENT_BLOCKQUOTE]:!1,[r.ELEMENT_HR]:!0},[r.ELEMENT_UL]:{[r.ELEMENT_DEFAULT]:!0,[r.ELEMENT_H1]:!0,[r.ELEMENT_H2]:!0,[r.ELEMENT_H3]:!0,[r.ELEMENT_H4]:!0,[r.ELEMENT_H5]:!0,[r.ELEMENT_H6]:!0,[r.ELEMENT_LI]:!0,[r.ELEMENT_BLOCKQUOTE]:!0,[r.ELEMENT_OL]:!0,[r.MARK_BOLD]:!1,[r.MARK_ITALIC]:!1,[r.MARK_STRIKETHROUGH]:!1,[r.MARK_CODE]:!1,[r.ELEMENT_CODE_BLOCK]:!0,[r.ELEMENT_IMAGE]:!0,[r.ELEMENT_LINK]:!1,[r.ELEMENT_TABLE]:!0,[r.ELEMENT_HR]:!0},[r.ELEMENT_OL]:{[r.ELEMENT_DEFAULT]:!0,[r.ELEMENT_H1]:!0,[r.ELEMENT_H2]:!0,[r.ELEMENT_H3]:!0,[r.ELEMENT_H4]:!0,[r.ELEMENT_H5]:!0,[r.ELEMENT_H6]:!0,[r.ELEMENT_LI]:!0,[r.ELEMENT_BLOCKQUOTE]:!0,[r.ELEMENT_UL]:!0,[r.MARK_BOLD]:!1,[r.MARK_ITALIC]:!1,[r.MARK_STRIKETHROUGH]:!1,[r.MARK_CODE]:!1,[r.ELEMENT_CODE_BLOCK]:!0,[r.ELEMENT_IMAGE]:!0,[r.ELEMENT_LINK]:!1,[r.ELEMENT_TABLE]:!0,[r.ELEMENT_HR]:!0},[r.MARK_CODE]:{[r.ELEMENT_DEFAULT]:!1,[r.ELEMENT_H1]:!1,[r.ELEMENT_H2]:!1,[r.ELEMENT_H3]:!1,[r.ELEMENT_H4]:!1,[r.ELEMENT_H5]:!1,[r.ELEMENT_H6]:!1,[r.ELEMENT_LI]:!0,[r.ELEMENT_BLOCKQUOTE]:!0,[r.ELEMENT_UL]:!0,[r.MARK_BOLD]:!1,[r.MARK_ITALIC]:!1,[r.MARK_STRIKETHROUGH]:!1,[r.MARK_CODE]:!1,[r.ELEMENT_CODE_BLOCK]:!0,[r.ELEMENT_IMAGE]:!0,[r.ELEMENT_LINK]:!0,[r.ELEMENT_TABLE]:!0,[r.ELEMENT_HR]:!0,[r.ELEMENT_OL]:!0}}},15615:function(e,t,n){function r(e){if(e)for(let t=0;t<e.length;t++){if("a"==e[t].type&&0==t&&e.unshift({text:""}),"a"==e[t].type&&t==e.length-1)e.push({text:""});else if(e[t]&&"li"==e[t].type&&e[t].children){let n={type:"p",children:[]};for(let r=0;r<e[t].children.length;r++)(e[t].children[r].text||"a"==e[t].children[r].type)&&n.children.push(e[t].children[r]);for(let n=0;n<e[t].children.length;n++)(e[t].children[n].text||"a"==e[t].children[n].type)&&(e[t].children.splice(n,1),n--);n.children&&n.children.length&&(e[t].children=[n].concat(e[t].children))}else if("code_block"===e[t].type){let n=e[t].children[0].text.split("\n");n=""==n[n.length-1]?n.slice(0,n.length-1):n;const r=n.map((e=>({type:"code_line",children:[{text:e}]})));e[t].children=r}else e[t]&&"p"==e[t].type&&e[t].children&&1==e[t].children.length&&e[t].children[0].text&&e[t].children[0].text.split("\n").length>1&&""===e[t].children[0].text.trim()&&(e.splice(t,1),t--);e[t]&&r(e[t].children)}}function o(e){return r(e),e}n.r(t),n.d(t,{default:function(){return o}})},15608:function(e,t,n){n.r(t),n.d(t,{addPreserveHtmlClass:function(){return o}});const r=["h1","h2","h3","h4","h5","h6","blockquote","pre","a","ul","ol","nl","li","b","img","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","p","i","abbr","address","section","article","aside","dd","dl","dt","tfoot","s","del","comment"];function o(e){return e&&(e=e.replaceAll("<b>","<strong>").replaceAll("</b>","</strong>").replaceAll("\x3c!--","<comment>").replaceAll("--\x3e","</comment>"),r.forEach((t=>{e=(e=e.replaceAll(`<${t}>`,`<${t} class='preserveHtml'>`)).replaceAll(`<${t} `,`<${t} class='preserveHtml' `)}))),e}},15623:function(e,t,n){n.r(t),n.d(t,{setPositionAtSelection:function(){return l}});var r=n(6271),o=n(15574);const l=(e,t,n,l)=>{const a=r.ReactEditor.toDOMPoint(t,n.anchor)[0].parentElement.getBoundingClientRect(),i=e.getBoundingClientRect(),s=document.querySelector(".mimir").getBoundingClientRect(),{left:c,top:u}=a,{left:d,top:E,width:f,height:m}=s,{width:p,height:h}=i;let T=u-E,g=c-d;if(l===o.BalloonStates.IMAGE.EDIT)T-=16;g-=1,T+h+16>m&&(T=T-(T+h-m)-24),g+p+16>f&&(g=g-(g+p-f)-24),e.style.top=`${T}px`,e.style.left=`${g}px`}},15618:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=/highlight-(?:text|source)-([a-z0-9]+)/;function r(e){e.addRule("highlightedCodeBlock",{filter:function(e){var t=e.firstChild;return"PRE"===e.nodeName&&t&&"CODE"===t.nodeName},replacement:function(e,t,r){var o=t.className||"";(o.match(n)||[null,""])[1];return"\n\n"+r.fence+("plain"!=o?" "+o:"")+"\n"+t.firstChild.textContent+"\n"+r.fence+"\n\n"}})}function o(e){e.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(e){return"~"+e+"~"}})}var l=Array.prototype.indexOf,a=Array.prototype.every,i={};function s(e){var t,n,r=e.parentNode;return"THEAD"===r.nodeName||r.firstChild===e&&("TABLE"===r.nodeName||(n=(t=r).previousSibling,"TBODY"===t.nodeName&&(!n||"THEAD"===n.nodeName&&/^\s*$/i.test(n.textContent))))&&a.call(e.childNodes,(function(e){return"TH"===e.nodeName}))}function c(e,t){var n=" ";return 0===l.call(t.parentNode.childNodes,t)&&(n="| "),n+e.replaceAll("\n","<br>")+" |"}function u(e){for(var t in e.keep((function(e){return"TABLE"===e.nodeName&&s(e.rows[0])})),i)e.addRule(t,i[t])}function d(e){e.addRule("taskListItems",{filter:function(e){return"checkbox"===e.type&&"LI"===e.parentNode.nodeName},replacement:function(e,t){return(t.checked?"[x]":"[ ]")+" "}})}i.tableCell={filter:["th","td"],replacement:function(e,t){return c(e,t)}},i.tableRow={filter:"tr",replacement:function(e,t){var n="",r={left:":--",right:"--:",center:":-:"};if(s(t))for(var o=0;o<t.childNodes.length;o++){var l="---",a=(t.childNodes[o].getAttribute("align")||"").toLowerCase();a&&(l=r[a]||l),n+=c(l,t.childNodes[o])}return"\n"+e+(n?"\n"+n:"")}},i.table={filter:function(e){return"TABLE"===e.nodeName&&s(e.rows[0])},replacement:function(e){return"\n\n"+(e=e.replace("\n\n","\n"))+"\n\n"}},i.tableSection={filter:["thead","tbody","tfoot"],replacement:function(e){return e}},t.gfm=function(e){e.use([r,o,u,d])},t.highlightedCodeBlock=r,t.strikethrough=o,t.tables=u,t.taskListItems=d},15617:function(e,t,n){n.r(t),n.d(t,{TurndownService:function(){return r}});var r=function(){function e(e,t){return Array(t+1).join(e)}var t=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function n(e){return a(e,t)}var r=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function o(e){return a(e,r)}var l=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function a(e,t){return t.indexOf(e.nodeName)>=0}function i(e,t){return e.getElementsByTagName&&t.some((function(t){return e.getElementsByTagName(t).length}))}var s={};function c(e){return e?e.replace(/(\n+\s*)+/g,"\n"):""}function u(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function d(e,t,n){for(var r=0;r<e.length;r++){var o=e[r];if(E(o,t,n))return o}}function E(e,t,n){var r=e.filter;if("string"==typeof r){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!=typeof r)throw new TypeError("`filter` needs to be a string, array, or function");if(r.call(e,t,n))return!0}}function f(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function m(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}s.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},s.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+"\n"}},s.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,n,r){var o=Number(n.nodeName.charAt(1));return"setext"===r.headingStyle&&o<3?"\n\n"+t+"\n"+e(1===o?"=":"-",t.length)+"\n\n":"\n\n"+e("#",o)+" "+t+"\n\n"}},s.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},s.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return"LI"===n.nodeName&&n.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},s.listItem={filter:"li",replacement:function(e,t,n){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var r=n.bulletListMarker+"   ",o=t.parentNode;if("OL"===o.nodeName){var l=o.getAttribute("start"),a=Array.prototype.indexOf.call(o.children,t);r=(l?Number(l)+a:a+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},s.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,n){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},s.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(t,n,r){for(var o,l=((n.firstChild.getAttribute("class")||"").match(/language-(\S+)/)||[null,""])[1],a=n.firstChild.textContent,i=r.fence.charAt(0),s=3,c=new RegExp("^"+i+"{3,}","gm");o=c.exec(a);)o[0].length>=s&&(s=o[0].length+1);var u=e(i,s);return"\n\n"+u+l+"\n"+a.replace(/\n$/,"")+"\n"+u+"\n\n"}},s.horizontalRule={filter:"hr",replacement:function(e,t,n){return"\n\n"+n.hr+"\n\n"}},s.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href"),r=c(t.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+e+"]("+n+r+")"}},s.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,n){var r,o,l=t.getAttribute("href"),a=c(t.getAttribute("title"));switch(a&&(a=' "'+a+'"'),n.linkReferenceStyle){case"collapsed":r="["+e+"][]",o="["+e+"]: "+l+a;break;case"shortcut":r="["+e+"]",o="["+e+"]: "+l+a;break;default:var i=this.references.length+1;r="["+e+"]["+i+"]",o="["+i+"]: "+l+a}return this.references.push(o),r},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},s.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}},s.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}},s.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",r=e.match(/`+/gm)||[];-1!==r.indexOf(n);)n+="`";return n+t+e+t+n}},s.image={filter:"img",replacement:function(e,t){var n=c(t.getAttribute("alt")),r=t.getAttribute("src")||"",o=c(t.getAttribute("title"));return r?"!["+n+"]("+r+(o?' "'+o+'"':"")+")":""}},u.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=d(this.array,e,this.options))||(t=d(this._keep,e,this.options))||(t=d(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var p="undefined"!=typeof window?window:{};var h,T,g=function(){var e=p.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?p.DOMParser:(h=function(){},function(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}()?h.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:h.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},h);function _(e,t){var r;"string"==typeof e?r=(T=T||new g).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):r=e.cloneNode(!0);return function(e){var t=e.element,n=e.isBlock,r=e.isVoid,o=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!o(t)){for(var l=null,a=!1,i=null,s=m(i,t,o);s!==t;){if(3===s.nodeType||4===s.nodeType){var c=s.data.replace(/[ \r\n\t]+/g," ");if(l&&!/ $/.test(l.data)||a||" "!==c[0]||(c=c.substr(1)),!c){s=f(s);continue}s.data=c,l=s}else{if(1!==s.nodeType){s=f(s);continue}n(s)||"BR"===s.nodeName?(l&&(l.data=l.data.replace(/ $/,"")),l=null,a=!1):r(s)||o(s)?(l=null,a=!0):l&&(a=!1)}var u=m(i,s,o);i=s,s=u}l&&(l.data=l.data.replace(/ $/,""),l.data||f(l))}}({element:r,isBlock:n,isVoid:o,isPre:t.preformattedCode?L:null}),r}function L(e){return"PRE"===e.nodeName||"CODE"===e.nodeName}function N(e,t){return e.isBlock=n(e),e.isCode="CODE"===e.nodeName||e.parentNode.isCode,e.isBlank=function(e){return!o(e)&&!function(e){return a(e,l)}(e)&&/^\s*$/i.test(e.textContent)&&!function(e){return i(e,r)}(e)&&!function(e){return i(e,l)}(e)}(e),e.flankingWhitespace=function(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=(r=e.textContent,o=r.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/),{leading:o[1],leadingAscii:o[2],leadingNonAscii:o[3],trailing:o[4],trailingNonAscii:o[5],trailingAscii:o[6]});var r,o;n.leadingAscii&&y("left",e,t)&&(n.leading=n.leadingNonAscii);n.trailingAscii&&y("right",e,t)&&(n.trailing=n.trailingNonAscii);return{leading:n.leading,trailing:n.trailing}}(e,t),e}function y(e,t,r){var o,l,a;return"left"===e?(o=t.previousSibling,l=/ $/):(o=t.nextSibling,l=/^ /),o&&(3===o.nodeType?a=l.test(o.nodeValue):r.preformattedCode&&"CODE"===o.nodeName?a=!1:1!==o.nodeType||n(o)||(a=l.test(o.textContent))),a}var b=Array.prototype.reduce,v=[[/\\/g,"\\\\"],[/\~/g,"\\~"],[/\~~/g,"\\~~"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/^(\d+)\. /g,"$1\\. "]];function M(e){if(!(this instanceof M))return new M(e);var t={rules:s,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}({},t,e),this.rules=new u(this.options)}function C(e){var t=this;return b.call(e.childNodes,(function(e,n){var r="";return 3===(n=new N(n,t.options)).nodeType?r=n.isCode?n.nodeValue:t.escape(n.nodeValue):1===n.nodeType&&(r=B.call(t,n)),O(e,r)}),"")}function A(e){var t=this;return this.rules.forEach((function(n){"function"==typeof n.append&&(e=O(e,n.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function B(e){var t=this.rules.forNode(e),n=C.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+t.replacement(n,e,this.options)+r.trailing}function O(e,t){var n=function(e){for(var t=e.length;t>0&&"\n"===e[t-1];)t--;return e.substring(0,t)}(e),r=t.replace(/^\n*/,""),o=Math.max(e.length-n.length,t.length-r.length);return n+"\n\n".substring(0,o)+r}return M.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"==typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=C.call(this,new _(e,this.options));return A.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!=typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return v.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}},M}},15609:function(e,t,n){n.r(t),n.d(t,{deserializeHTMLToDocumentFragment:function(){return d},serializeHTMLFromNodes:function(){return T}});var r=n(6265),o=n(6289),l=n(6440),a=n(6438),i=n.n(a),s=n(15610),c=n.n(s);const u=(e,t)=>n=>{var a;const i=(e=>{if(3==e.nodeType)return"\n"===e.nodeValue?null:e.textContent})(n);if(i)return i;if(1!=n.nodeType)return null;const s=n,c=(e=>{if("BR"===e.nodeName)return"\n"})(n);if(c)return c;const{nodeName:d}=n;let E=n;"PRE"===d&&"CODE"===(null===(a=n.childNodes[0])||void 0===a?void 0:a.nodeName)&&([E]=n.childNodes);const f=Array.from(E.childNodes).map(u(e,t)).flat(),m=(({element:e,children:t})=>{if("BODY"===e.nodeName)return(0,l.jsx)("fragment",{},t)})({element:s,children:f});if(m)return m;const p=((e,{plugins:t,element:n,children:r})=>{let o,a;if(t.some((({deserialize:t})=>{const r=null==t?void 0:t(e).element;if(r)return r.some((e=>{const t=e.deserialize(n);if(t)return o=t,a=e.withoutChildren,!0}))})),o){let e=r;if(n.classList.contains("preserveHtml")&&(o.preserveHtml=!0,n.getAttribute("width")&&(o.width=n.getAttribute("width")),n.getAttribute("height")&&(o.height=n.getAttribute("height"))),"PRE"==n.tagName){const e=n.firstElementChild;e&&"CODE"==e.tagName&&e.classList.length&&e.classList[0].includes("language-")&&(o.lang=e.classList[0].slice(9))}return e.length&&!a||(e=[{text:""}]),(0,l.jsx)("element",o,e)}})(e,{plugins:t,element:s,children:f});return p||((e,{plugins:t,element:n,children:a})=>{let i={};return t.forEach((({deserialize:t})=>{const r=null==t?void 0:t(e).leaf;r&&r.forEach((e=>{const t=e.deserialize(n);t&&(i={...i,...t})}))})),a.reduce(((e,t)=>t?((0,r.isElement)(t)?(Object.keys(i).length&&(0,r.mergeDeepToNodes)({node:t,source:i,query:{filter:([e])=>o.Text.isText(e)}}),e.push(t)):e.push((0,l.jsx)("text",i,t)),e):e),[])})(e,{plugins:t,element:s,children:f})},d=(e,{plugins:t,element:n})=>{"string"==typeof n&&(n=(e=>{const t=document.createElement("body");return t.innerHTML=e,t})(n));const o=((e,{plugins:t,element:n})=>u(e,t)(n))(e,{plugins:t,element:n});return(0,r.normalizeDescendantsToDocumentFragment)(e,{descendants:o})},E=e=>{const t=e.split(/(class="[^"]*")/g);let n="";return t.forEach(((e,t)=>{if(t%2==0)return n+=e})),n},f=(e="")=>{try{return e!==decodeURIComponent(e)}catch(e){return!1}},m="_SPACE_REPLACEMENT_STRING_",p=new RegExp("%20","g"),h=new RegExp(m,"g"),T=(e,{plugins:t,nodes:n,slateProps:l,stripDataAttributes:a=!0,preserveClassNames:s})=>{let u=n&&n.map((n=>{if(o.Text.isText(n)){if(n.text&&c()(n.text)){const e=n.text.replace(p,m);n={...n,text:e}}return((e,{plugins:t,leafProps:n,slateProps:o,preserveClassNames:l})=>{const{children:a}=n;return t.reduce(((t,l)=>{var s,c,u,d,f,m,p,h,T;if(!(null!==(s=l.serialize)&&void 0!==s&&s.leaf||l.renderLeaf))return t;if((null!==(c=null===(u=l.serialize)||void 0===u||null===(d=u.leaf)||void 0===d?void 0:d.call(u,n))&&void 0!==c?c:null===(f=l.renderLeaf)||void 0===f?void 0:f.call(l,e)(n))===a)return t;const g={...n,children:encodeURIComponent(t)};let _=decodeURIComponent(i().renderToStaticMarkup((0,r.createElementWithSlate)({...o,children:null!==(m=null===(p=l.serialize)||void 0===p||null===(h=p.leaf)||void 0===h?void 0:h.call(p,g))&&void 0!==m?m:null===(T=l.renderLeaf)||void 0===T?void 0:T.call(l,e)(g)})));return _=E(_),_}),a)})(e,{plugins:t,leafProps:{leaf:n,text:n,children:f(n.text)?n.text:encodeURIComponent(n.text),attributes:{"data-slate-leaf":!0}},slateProps:l,preserveClassNames:s})}if(n.type===r.ELEMENT_LINK&&n.url&&c()(n.url)){const e=n.url.replace(p,m);n={...n,url:e}}return((e,{plugins:t,elementProps:n,slateProps:o,preserveClassNames:l})=>{if(n.element.preserveHtml)switch(n.element.type){case"p":return`<custom><p>${n.children}</p></custom>`;case"blockquote":return`<custom><blockquote>${n.children}</blockquote></custom>`;case"a":return`<custom><a href=${n.element.url}>${n.children}</a></custom>`;case"h1":return`<custom><h1>${n.children}</h1></custom>`;case"h2":return`<custom><h2>${n.children}</h2></custom>`;case"h3":return`<custom><h3>${n.children}</h3></custom>`;case"h4":return`<custom><h4>${n.children}</h4></custom>`;case"h5":return`<custom><h5>${n.children}</h5></custom>`;case"ul":return`<custom><ul>${n.children}</ul></custom>`;case"li":return`<custom><li>${n.children}</li></custom>`;case"table":return`<custom><table>${n.children}</table></custom>`;case"td":return`<custom><td>${n.children}</td></custom>`;case"tr":return`<custom><tr>${n.children}</tr></custom>`;case"th":return`<custom><th>${n.children}</th></custom>`;case"ol":return`<custom><ol>${n.children}</ol></custom>`;case"img":return`<custom><img src=${n.element.url}  ${n.element.width?`width= ${n.element.width}`:""}            ${n.element.height?`height=${n.element.height}`:""} /></custom>`;case"abbr":return`<custom><abbr>${n.children}</abbr></custom>`;case"address":return`<custom><address>${n.children}</address></custom>`;case"section":return`<custom><section>${n.children}</section></custom>`;case"article":return`<custom><article>${n.children}</article></custom>`;case"aside":return`<custom><aside>${n.children}</aside></custom>`;case"comment":return`<custom><comment>${n.children}</comment></custom>`}if("code_block"===n.element.type)return`<pre class=${n.element.lang?n.element.lang:"plain"}><code>${n.children}</code></pre>`;if("code_line"===n.element.type)return n.children&&n.children.trim()?`<div>${n.children}\n</div>`:"";if(!n.element.type)return`<div>${n.children}</div>`;let a;return t.some((t=>{var l,s,c,u,d,f,m;return!!(null!==(l=t.serialize)&&void 0!==l&&l.element||t.renderElement)&&(null!==(s=t.deserialize)&&void 0!==s&&null!==(c=s.call(t,e).element)&&void 0!==c&&c.some((e=>e.type===String(n.element.type)))?(a=i().renderToStaticMarkup((0,r.createElementWithSlate)({...o,children:null!==(u=null===(d=t.serialize)||void 0===d||null===(f=d.element)||void 0===f?void 0:f.call(d,n))&&void 0!==u?u:null===(m=t.renderElement)||void 0===m?void 0:m.call(t,e)(n)})),a=E(a),!0):(a=`<div>${n.children}</div>`,!1))})),a})(e,{plugins:t,elementProps:{element:n,children:encodeURIComponent(T(e,{plugins:t,nodes:n.children,preserveClassNames:s})),attributes:{"data-slate-node":"element",ref:null}},slateProps:l,preserveClassNames:s})})).join("");return u=decodeURIComponent(u).replace(h,"%20"),a&&(u=u.replace(/( data-slate)(-node|-type|-leaf)="[^"]+"/gm,"").replace(/( data-testid)="[^"]+"/gm,"")),u}},15612:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,o.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));for(var n=e.split("."),l=0;l<n.length;l++)if(n[l].length>63)return!1;if(t.require_tld){var i=n.pop();if(!n.length||!/^([a-z\u00a1-\uffff]{2,}|xn[a-z0-9-]{2,})$/i.test(i))return!1;if(/[\s\u2002-\u200B\u202F\u205F\u3000\uFEFF\uDB40\uDC20]/.test(i))return!1}for(var s,c=0;c<n.length;c++){if(s=n[c],t.allow_underscores&&(s=s.replace(/_/g,"")),!/^[a-z\u00a1-\uffff0-9-]+$/i.test(s))return!1;if(/[\uff01-\uff5e]/.test(s))return!1;if("-"===s[0]||"-"===s[s.length-1])return!1}return!0};var r=l(n(15611)),o=l(n(15613));function l(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1};e.exports=t.default,e.exports.default=t.default},15614:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,o.default)(t),!(n=String(n)))return e(t,4)||e(t,6);if("4"===n){if(!l.test(t))return!1;var r=t.split(".").sort((function(e,t){return e-t}));return r[3]<=255}if("6"===n){var i=t.split(":"),s=!1,c=e(i[i.length-1],4),u=c?7:8;if(i.length>u)return!1;if("::"===t)return!0;"::"===t.substr(0,2)?(i.shift(),i.shift(),s=!0):"::"===t.substr(t.length-2)&&(i.pop(),i.pop(),s=!0);for(var d=0;d<i.length;++d)if(""===i[d]&&d>0&&d<i.length-1){if(s)return!1;s=!0}else if(c&&d===i.length-1);else if(!a.test(i[d]))return!1;return s?i.length>=1:i.length===u}return!1};var r,o=(r=n(15611))&&r.__esModule?r:{default:r};var l=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,a=/^[0-9A-F]{1,4}$/i;e.exports=t.default,e.exports.default=t.default},15610:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),!e||e.length>=2083||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;var n,i,d,E,f,m,p,h;if(t=(0,a.default)(t,s),p=e.split("#"),e=p.shift(),p=e.split("?"),e=p.shift(),(p=e.split("://")).length>1){if(n=p.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(n))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;p[0]=e.substr(2)}}if(""===(e=p.join("://")))return!1;if(p=e.split("/"),""===(e=p.shift())&&!t.require_host)return!0;if((p=e.split("@")).length>1){if(t.disallow_auth)return!1;if((i=p.shift()).indexOf(":")>=0&&i.split(":").length>2)return!1}E=p.join("@"),m=null,h=null;var T=E.match(c);T?(d="",h=T[1],m=T[2]||null):(p=E.split(":"),d=p.shift(),p.length&&(m=p.join(":")));if(null!==m&&(f=parseInt(m,10),!/^[0-9]+$/.test(m)||f<=0||f>65535))return!1;if(!((0,l.default)(d)||(0,o.default)(d,t)||h&&(0,l.default)(h,6)))return!1;if(d=d||h,t.host_whitelist&&!u(d,t.host_whitelist))return!1;if(t.host_blacklist&&u(d,t.host_blacklist))return!1;return!0};var r=i(n(15611)),o=i(n(15612)),l=i(n(15614)),a=i(n(15613));function i(e){return e&&e.__esModule?e:{default:e}}var s={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1},c=/^\[([^\]]+)\](?::([0-9]+))?$/;function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||(o=r,"[object RegExp]"===Object.prototype.toString.call(o)&&r.test(e)))return!0}var o;return!1}e.exports=t.default,e.exports.default=t.default},15611:function(e,t){function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t;throw t=null===e?"null":"object"===(t=n(e))&&e.constructor&&e.constructor.hasOwnProperty("name")?e.constructor.name:"a ".concat(t),new TypeError("Expected string but received ".concat(t,"."))}},e.exports=t.default,e.exports.default=t.default},15613:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e},e.exports=t.default,e.exports.default=t.default}}]);