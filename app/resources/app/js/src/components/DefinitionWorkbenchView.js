(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[156],{"../../node_modules/node-polyfill-webpack-plugin/node_modules/timers-browserify/main.js":function(e,t,o){var i=void 0!==o.g&&o.g||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(n.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new s(n.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},o("../../node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==o.g&&o.g.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==o.g&&o.g.clearImmediate||this&&this.clearImmediate},"../../node_modules/setimmediate/setImmediate.js":function(e,t,o){var i=o("../../node_modules/process/browser.js");!function(e,t){"use strict";if(!e.setImmediate){var o,n,s,r,a,l=1,c={},d=!1,p=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?o=function(e){i.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,o=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=o,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){h(e.data)},o=function(e){s.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(n=p.documentElement,o=function(e){var t=p.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):o=function(e){setTimeout(h,0,e)}:(r="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&h(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),o=function(t){e.postMessage(r+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return c[l]=n,o(l),l++},u.clearImmediate=m}function m(e){delete c[e]}function h(e){if(d)setTimeout(h,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(void 0,o)}}(t)}finally{m(e),d=!1}}}}}("undefined"==typeof self?void 0===o.g?this:o.g:self)},"../../packages/api-design/api-definition-ui/src/components/DefinitionWorkbenchView.js":function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return R}});var i,n=o("../../node_modules/react/index.js"),s=o("../../node_modules/lodash/lodash.js"),r=o.n(s),a=o("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=o("../../node_modules/@postman/aether/esmLib/src/components/Breadcrumb/Breadcrumb.js"),c=o("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=o("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),p=o("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),u=o("../../packages/api-design/api-definition-store/index.js"),m=o("../../packages/api-design/api-definition-ui/src/utils/HomeRedirect.js"),h=o("./api-dev/stores/APIListStore.js"),f=o("./apinetwork/common/CopyLinkButton.js"),g=o("./api-dev/interfaces/APIInterface.js"),v=o("./api-dev/interfaces/view/ViewingAsConsumerBanner/ViewingAsConsumerBanner.js"),b=o("./js/services/NavigationService.js"),C=o("./js/stores/StoreManager.js"),y=o("./documentation/components/SchemaDocumentation/components/SchemaDocumentationContainer/SchemaDocumentationContainer.js"),I=o("./documentation/components/SchemaDocumentation/components/SchemaDocumentationReleaseContainer/SchemaDocumentationReleaseContainer.js"),x=o("./appsdk/contextbar/ContextBar.js"),_=o("./js/components/base/Panes.js"),S=o("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/SourceControlUtils.js"),j=o("./js/constants/AppSettingsDefaults.js"),P=o("./schema/components/DefinitionWorkbenchAPIRedirectView.js"),A=o("./schema/constants/Constants.js");const{API_NO_PERMISSION:w,API_REDIRECT_CONSUMER_ENTITY:E}=A.INTERMEDIATE_DEFINITION_VIEW,T=(0,p.default)(l.Breadcrumb)`
  & > ul {
    flex-wrap: wrap;

    &:hover {
      > li {
        &:last-child {
          color: var(--content-color-primary);
        }

        &:not(:last-child) > a {
          color: var(--content-color-tertiary);
        }
      }
    }

    // TODO: This section can be removed once the Aether breadcrumb is used by
    // both Collections and APIs (currently base is also used)
    > li {
      font-weight: var(--text-weight-bold);
      color: var(--content-color-primary);

      > a, span {
        font-weight: inherit;
      }

      > a {
        color: var(--content-color-tertiary);

        &:hover:not(:last-child) {
          color: var(--content-color-link);
        }
      }
    }
  }
`;let R=(0,a.observer)(i=class extends n.Component{constructor(e){super(e),this.state={isMigrationCallLoading:!0,isAPIMigrated:!1},this.sideBarInitialized=!1}async componentDidMount(){(0,m.redirectToSchemaDocumentation)();let e=!1;try{e=await(0,g.hasAPIMigrated)(this.props.controller.apiId),this.setState({isAPIMigrated:e,isMigrationCallLoading:!1})}catch(e){this.setState({isMigrationCallLoading:!1})}}componentDidUpdate(){if(this.props.controller.apiDefinitionModel&&!this.sideBarInitialized){const e=(0,C.resolveStoreInstance)(u.APIDefinitionStore),t=this.props.controller.apiDefinitionModel;e.updateActiveItem(u.MAIN_NODE_ID,t.id),this.sideBarInitialized=!0}const e=(0,C.resolveStoreInstance)(h.default).find(this.props.controller.apiId);null==e||e.update({areChildEntitiesVisible:!0})}render(){const e=r().get(this.props.controller,"intermediateView");if(e===w)return n.createElement(P.default,{type:"noPermission",onRequestAccess:this.props.controller.handleRequestForAccessOnParentAPI});if(e===E)return n.createElement(P.default,{type:"redirect",onRedirect:this.props.controller.handleRedirectToAPIConsumerDefinition,onRequestAccess:this.props.controller.handleRequestForAccessOnParentAPI});if(!r().get(this.props.controller,"apiDefinitionModel.hasBundlingContentDone")||this.state.isMigrationCallLoading||this.props.controller.isModelLoading)return n.createElement(c.default,{className:"api-definition-home",alignItems:"center",justifyContent:"center"},n.createElement(d.default,{size:"large"}));const t=r().get(this.props.controller.apiDefinitionModel,"isDirty"),o=r().get(this.props.controller,"releaseId"),i=r().get(this.props.controller,"apiMode");if(!!o)return n.createElement(c.default,{className:"api-definition-home",direction:"column"},n.createElement(D,{apiId:this.props.controller.apiId}),n.createElement(v.default,{apiId:r().get(this.props,"controller.apiDefinitionModel.apiId"),apiVersionId:r().get(this.props,"controller.apiDefinitionModel.apiVersionId")}),n.createElement(I.default,{model:this.props.controller.apiDefinitionModel,isDirty:t,mode:i,view:"workbench"}));let s=[],a={};try{(0,g.isBranchView)()&&(0,S.getRepoStoreForGitLinkedAPI)(this.props.controller.apiId)&&(a=Object.assign(a,{apiRepositoryStore:(0,S.getRepoStoreForGitLinkedAPI)(this.props.controller.apiId)}),s.push(S.API_SOURCE_CONTROL))}catch(e){pm.logger.error("DefinitionWorkbenchView~render: Unable to fetch context bar information",e)}return n.createElement(_.PaneGroup,{defaultLayout:"horizontal"},n.createElement(_.Pane,null,n.createElement(_.PaneContent,{className:"schema-documentation-content-pane"},n.createElement(c.default,{className:"api-definition-home",direction:"column"},n.createElement(D,{apiId:this.props.controller.apiId}),n.createElement(v.default,{apiId:r().get(this.props,"controller.apiDefinitionModel.apiId"),apiVersionId:r().get(this.props,"controller.apiDefinitionModel.apiVersionId")}),n.createElement(y.default,{model:this.props.controller.apiDefinitionModel,isDirty:t,mode:i,view:"workbench"})))),r().isEmpty(s)?n.createElement(_.Pane,{collapsedByDefault:!0,width:{default:0,resizableByDefault:!1}}):n.createElement(x.ContextBarPane,{allowedContexts:s,contextData:a,collapsedByDefault:!0,width:j.default.ui.CONTEXT_BAR_WIDTH_CONFIG,editorId:this.props.id}))}})||i;function D({apiId:e}){var t;const o=b.default.getActiveQueryParams().get(),i=b.default.getCurrentRouteParams();let s;const a=(0,C.resolveStoreInstance)(h.default),c=a&&(null===(t=a.find(e))||void 0===t?void 0:t.name);return null!=o&&o.branch?s={branch:null==o?void 0:o.branch}:null!=o&&o.version&&(s={version:null==o?void 0:o.version}),n.createElement("div",{className:"api-definition-home__title"},n.createElement(T,{onItemClick:t=>{"api"===(null==t?void 0:t.id)&&b.default.transitionTo("build.api",{apiId:e},r().pick(o,["version","branch"]))}},n.createElement(l.BreadcrumbItem,{itemData:{id:"api"},key:"apiName"},c),n.createElement(l.BreadcrumbItem,{itemData:{id:"definition"},key:"definition"},"Definition",n.createElement(f.default,{className:"api-definition-home__title__copy-link-icon",entityId:null==i?void 0:i.apiDefinitionId,customIds:{apiId:e,...s},entityType:"apiDefinition",size:"small"}))))}},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/APISourceControlContextBarIcon.js":function(e,t,o){"use strict";o.r(t);var i=o("../../node_modules/react/index.js"),n=o("./node_modules/prop-types/index.js"),s=o.n(n),r=o("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=o("./node_modules/classnames/index.js"),l=o.n(a),c=o("./api-dev/navigation/constants.js"),d=o("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),p=o("./api-dev/stores/api-repository/PollingRemoteHeadDetailsStore.js"),u=o("./js/stores/StoreManager.js"),m=o("./js/services/NavigationService.js"),h=o("./api-dev/interfaces/APIInterface.js"),f=o("./node_modules/lodash/lodash.js");const g="contextBar",v=i.forwardRef((({handleShowTooltip:e,handleHideTooltip:t,apiRepositoryStore:o},n)=>{var s;const r=f.get(o,"sourceControlStore"),a=f.get(r,"shouldShowContextBarIconIndicator",!1),v=m.default.getCurrentURL(),b=null===m.default||void 0===m.default||null===(s=m.default.getCurrentRouteParams())||void 0===s?void 0:s.apiId;return(0,i.useEffect)((()=>{const e=(0,u.resolveStoreInstance)(p.default);return async function(){const t=b&&await(0,h.isAPIGitLinked)(b),o=b&&await(0,h.hasAPIMigrated)(b);b&&t&&o&&e.startPolling(b,g)}(),()=>{e.stopPolling(b,g)}}),[v]),i.createElement("div",{className:`tabs__${c.SOURCE_CONTROL_NAV} icon-container`,ref:n,onMouseEnter:e,onMouseLeave:t},i.createElement(d.default,{name:"icon-descriptive-branch-stroke",className:(C=a,l()({"api-source-control__context-bar-icon--unread":C}))}));var C}));v.propTypes={handleShowTooltip:s().func.isRequired,handleHideTooltip:s().func.isRequired,apiRepositoryStore:s().object.isRequired},t.default=(0,r.observer)(v)},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/SourceControlUtils.js":function(e,t,o){"use strict";o.r(t),o.d(t,{API_SOURCE_CONTROL:function(){return r},getRepoLinkedAPI:function(){return a},getRepoStoreForGitLinkedAPI:function(){return l}});var i=o("./js/stores/StoreManager.js"),n=o("./api-dev/stores/APIListStore.js"),s=o("./node_modules/lodash/lodash.js");const r="api-version-source-control";function a(e,t){if(!e||!t)return null;const o=(0,i.resolveStoreInstance)(n.default);if(!o.isLoaded)return null;let r=null;for(const i of o.values){const o=i.childEntities.values[0],n=s.get(o,"apiRepositoryStore"),a=s.get(n,"apiVersionRepositoryInterface");if(s.get(a,"isAvailable")&&s.get(a,"remoteGitConfigured")&&"collections"===t){const t=s.get(n,"entityHandlers.collections.collectionFileIdAgainstPath");if(!s.isEmpty(t)&&t.has(e)){r=n;break}}}return r}function l(e){if(!e)return null;const t=(0,i.resolveStoreInstance)(n.default);if(!t.isLoaded)return null;const o=t.find(e),r=s.head(o.childEntities.values).id,a=o.childEntities.find(r),l=s.get(a,"apiRepositoryStore");return s.get(l,"apiVersionRepositoryInterface.remoteGitConfigured")?l:null}},"./api-dev/stores/api-repository/PollingRemoteHeadDetailsStore.js":function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return v}});var i,n,s,r,a,l=o("./js/stores/StoreManager.js"),c=o("./api-dev/stores/APIListStore.js"),d=o("../../node_modules/node-polyfill-webpack-plugin/node_modules/timers-browserify/main.js"),p=o("./onboarding/src/common/LaunchDarkly.js"),u=o("../../node_modules/mobx/lib/mobx.module.js"),m=o("./node_modules/lodash/lodash.js");function h(e,t,o,i){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(i):void 0})}function f(e,t,o,i,n){var s={};return Object.keys(i).forEach((function(e){s[e]=i[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=o.slice().reverse().reduce((function(o,i){return i(e,t,o)||o}),s),n&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(n):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}const g="store";let v=(n=f((i=class{constructor(){h(this,"activePollingAPI",n,this),h(this,"timerObject",s,this),h(this,"apiSourceMap",r,this),h(this,"startPollingForAPI",a,this)}setActivePollingAPI(e){this.activePollingAPI=e}setTimerObject(e){this.timerObject=e}setSource(e,t){const o=this.apiSourceMap[e]||[];m.includes(o,t)||(o.push(t),this.apiSourceMap[e]=o)}clearSource(e,t){const o=this.apiSourceMap[e]||[];-1!==o.indexOf(t)&&(this.apiSourceMap[e]=m.filter(o,(e=>e!==t)))}clearAPIAndSources(e){delete this.apiSourceMap[e]}clear(){this.setTimerObject(null),this.setActivePollingAPI(null)}stopPolling(e,t){if(e&&t)if(this.activePollingAPI===e){const o=this.apiSourceMap[e];t===g||m.isEmpty(o)||1===m.size(o)&&o[0]===t?((0,d.clearInterval)(this.timerObject),this.clear(),this.clearAPIAndSources(e),pm.logger.info(`APIPollingStore~stopPolling: Stopped Polling for ${e}`)):this.clearSource(e,t)}else this.clearSource(e,t)}startPolling(e,t){e&&t&&(this.setSource(e,t),e!==this.activePollingAPI&&this.startPollingForAPI(e,t))}}).prototype,"activePollingAPI",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=f(i.prototype,"timerObject",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),r=f(i.prototype,"apiSourceMap",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),f(i.prototype,"setActivePollingAPI",[u.action],Object.getOwnPropertyDescriptor(i.prototype,"setActivePollingAPI"),i.prototype),f(i.prototype,"setTimerObject",[u.action],Object.getOwnPropertyDescriptor(i.prototype,"setTimerObject"),i.prototype),f(i.prototype,"setSource",[u.action],Object.getOwnPropertyDescriptor(i.prototype,"setSource"),i.prototype),f(i.prototype,"clearSource",[u.action],Object.getOwnPropertyDescriptor(i.prototype,"clearSource"),i.prototype),f(i.prototype,"clearAPIAndSources",[u.action],Object.getOwnPropertyDescriptor(i.prototype,"clearAPIAndSources"),i.prototype),f(i.prototype,"clear",[u.action],Object.getOwnPropertyDescriptor(i.prototype,"clear"),i.prototype),f(i.prototype,"stopPolling",[u.action],Object.getOwnPropertyDescriptor(i.prototype,"stopPolling"),i.prototype),a=f(i.prototype,"startPollingForAPI",[u.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.debounce((e=>{this.activePollingAPI&&this.stopPolling(this.activePollingAPI,g);const t=p.launchDarkly.getFlag("api-git-sync-status-pull-delay",0);if(0!==t){var o;this.setActivePollingAPI(e);const i=(0,l.resolveStoreInstance)(c.default).find(this.activePollingAPI),n=null===(o=m.head(i.childEntities.values))||void 0===o?void 0:o.id,s=i.childEntities.find(n);this.apiRepositoryStore=m.get(s,"apiRepositoryStore"),pm.logger.info(`APIPollingStore~startPolling: Started Polling for ${e}`),this.apiRepositoryStore.sourceControlStore.init();const r=(0,d.setInterval)((()=>{m.isFunction(this.apiRepositoryStore.sourceControlStore.getLatestRemoteHead)&&this.apiRepositoryStore.sourceControlStore.getLatestRemoteHead()}),t);this.setTimerObject(r)}}),2e3)}}),f(i.prototype,"startPolling",[u.action],Object.getOwnPropertyDescriptor(i.prototype,"startPolling"),i.prototype),i)},"./appsdk/contextbar/ContextBar.js":function(e,t,o){"use strict";o.r(t),o.d(t,{ContextBarPane:function(){return I}});var i,n=o("../../node_modules/react/index.js"),s=o("./appsdk/contextbar/ContextBarService.js"),r=o("./appsdk/contextbar/ContextBarHeader.js"),a=o("./js/constants/Panes.js"),l=o("./js/components/base/Panes.js"),c=o("./node_modules/classnames/index.js"),d=o.n(c),p=o("./js/components/empty-states/AetherCrashHandler.js"),u=o("./js/components/base/XPaths/XPath.js"),m=o("../../node_modules/mobx-react/dist/mobx-react.module.js"),h=o("./js/constants/AppSettingsDefaults.js"),f=o("../../node_modules/mobx/lib/mobx.module.js"),g=o("./appsdk/contextbar/ContextBarUtil.js"),v=o("./js/stores/StoreManager.js"),b=o("./js/stores/ActiveWorkspaceSessionStore.js"),C=o("./node_modules/lodash/lodash.js");const y="auto";let I=(0,m.observer)(i=class extends l.Pane{constructor(e){super(e),this.contextBarService=new s.ContextBarService,this.handleSelect=this.handleSelect.bind(this),this.handleContextChange=this.handleContextChange.bind(this),this.handleClose=this.handleClose.bind(this),this.state={...this.state,collapsedX:!0},this.isOpen=!1}getContextForUrlIdentifier(e){return this.props.allowedContexts.find((t=>this.contextBarService.getConfig(t).urlIdentifier===e))}getUrlIdentifierForContext(e){return this.contextBarService.getConfig(e).urlIdentifier}getDimensions(e){return super.getDimensions({...e,width:{collapsedByDefault:true,shouldResistResize:true,default:440,collapsed:48,uncollapsed:440,min:h.default.ui.CONTEXT_BAR_MIN_WIDTH,max:y}})}componentDidMount(){let e=this.getContextForUrlIdentifier(this.contextBarService.activeContextUrlIdentifier)||this.props.allowedContexts&&this.props.allowedContexts[0];this.lastActive=e;let t=C.get(this.props,"collapsedByDefault",!0),o=(0,v.resolveStoreInstance)(b.default).activeEditor;!t&&this.props.editorId===o&&(0,g.updateContextQueryParams)(this.getUrlIdentifierForContext(e)),this.activeContextAutoRun=(0,f.autorun)((()=>{const e=this.contextBarService.getContextBarQueryParam(this.props.editorId);let t=this.getContextForUrlIdentifier(e);t!==this.state.activeContext&&this.setContext(t,!!t)}))}componentWillUnmount(){this.props.allowedContexts.forEach((e=>{this.contextBarService.willDestroy(e)})),this.activeContextAutoRun&&this.activeContextAutoRun()}componentDidUpdate(){this.contextBarService.pruneControllers(this.props.allowedContexts),this.isOpen&&this.state.collapsedX?(this.isOpen=!this.state.collapsedX,(0,g.removeContextQueryParams)()):this.isOpen||this.state.collapsedX||(this.isOpen=!this.state.collapsedX,this.state.activeContext||(0,g.updateContextQueryParams)(this.getUrlIdentifierForContext(this.lastActive)))}handleSelect(e){this.setContext(e,!0)}handleContextChange(e){(0,g.updateContextQueryParams)(this.getUrlIdentifierForContext(e))}setContext(e,t=!1){let o=this.state.activeContext;return new Promise((i=>{this.setState({activeContext:e},(()=>Promise.all([this.contextBarService.getControllerFor(e,this.props.contextData),this.contextBarService.getViewFor(e)]).then((([t,n])=>{e===this.state.activeContext&&this.setState({activeController:t,ActiveView:n},(()=>(this.contextBarService.didDeactivate(o),this.contextBarService.didActivate(this.state.activeContext),i())))})).then((()=>{this.state.activeContext&&(this.lastActive=this.state.activeContext),t?this.unCollapse("x"):this.collapse("x")}))))}))}handleClose(){this.collapse("x"),this.props.onClose&&this.props.onClose()}render(){let e=this.state.ActiveView,t=this.props.allowedContexts||this.props.visibleContexts,o=this.contextBarService.getConfig(this.state.activeContext),i=this.state.activeController;const s=d()({pane:!0,resizableX:this.isResizable("x"),resizableY:this.isResizable("y"),collapsedX:this.state.collapsedX,collapsedY:this.state.collapsedY},"right-context-bar"),c={height:this.state.height,width:this.state.width,...this.props.style||{}};return n.createElement(u.default,{identifier:"contextBar"},n.createElement("div",{className:s,style:c},n.createElement(p.default,null,n.createElement(l.PaneHeader,{defaultLayout:a.PANE_LAYOUT_VERTICAL,verticalComponent:n.createElement(r.ContextBarHeader,{visibleContexts:t,onSelect:this.handleContextChange,contextBarService:this.contextBarService,activeContext:this.state.activeContext,width:this.state.width,contextData:this.props.contextData}),isCollapsedX:this.state.collapsedX,isCollapsedY:this.state.collapsedY,onCollapseToggle:this.handleCollapseToggle}),n.createElement(l.PaneContent,{isCollapsedX:this.state.collapsedX,isCollapsedY:this.state.collapsedY},this.state.width?n.createElement("div",{className:"right-context-bar-content-container"},e&&o&&n.createElement(p.default,{onClose:this.handleClose},n.createElement(e,{contextData:this.props.contextData,title:o.title,onClose:this.handleClose,controller:i,editorId:this.props.editorId}))):null))))}})||i;I.defaultProps={width:{collapsedByDefault:true,shouldResistResize:true,default:440,collapsed:48,uncollapsed:440,min:350,max:y}}},"./appsdk/contextbar/ContextBarHeader.js":function(e,t,o){"use strict";o.r(t),o.d(t,{ContextBarHeader:function(){return f}});var i,n=o("../../node_modules/react/index.js"),s=o("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=o("./js/components/base/Tooltips.js"),a=o("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=o("./node_modules/classnames/index.js"),c=o.n(l),d=o("./js/components/base/XPaths/XPath.js"),p=o("./growth/foundation/public/amplitude/AmplitudeService.js"),u=o("./api-dev/navigation/constants.js"),m=o("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/APISourceControlContextBarIcon.js"),h=o("./node_modules/lodash/lodash.js");let f=(0,a.observer)(i=class extends n.Component{constructor(e){super(e),this.state={},this.tooltipTargets={},this.handleShowTooltip=this.handleShowTooltip.bind(this),this.handleHideTooltip=this.handleHideTooltip.bind(this)}componentWillUnmount(){clearTimeout(this.titleTooltip)}handleShowTooltip(e){this.titleTooltip=setTimeout((()=>{this.setState({[e]:!0})}),500)}handleHideTooltip(e){clearTimeout(this.titleTooltip),this.state[e]&&this.setState({[e]:!1})}render(){let e=this.props.visibleContexts;const t=e=>e.name===u.SOURCE_CONTROL_NAV?n.createElement(m.default,{ref:t=>{this.tooltipTargets[e.name]=t},apiRepositoryStore:h.get(this.props,"contextData.apiRepositoryStore")||h.get(this.props,"contextData.model.apiRepositoryStore"),handleShowTooltip:this.handleShowTooltip.bind(null,e.name),handleHideTooltip:this.handleHideTooltip.bind(null,e.name)}):n.createElement("div",{className:`tabs__${e.name} icon-container`,ref:t=>{this.tooltipTargets[e.name]=t},onMouseEnter:this.handleShowTooltip.bind(null,e.name),onMouseLeave:this.handleHideTooltip.bind(null,e.name)},n.createElement(s.default,{name:e.icon}));return n.createElement("div",{className:"right-context-bar-options"},n.createElement("ul",null,e.map((e=>{let o=this.props.contextBarService.getConfig(e);return o?n.createElement(d.default,{key:o.name,identifier:o.name},n.createElement("li",{key:o.name,onClick:()=>{this.props.onSelect(o.name),p.Ampli.contextBarListItemClicked({item_name:o.name,...(0,p.getAmpliCTAProperties)({ctaType:"other"})})},className:c()({active:o.name===this.props.activeContext&&this.props.width>300})},n.createElement(n.Fragment,{key:o.name},t(o),n.createElement(r.Tooltip,{show:o&&this.state[o.name],target:o&&this.tooltipTargets[o.name],placement:"left",immediate:!0},n.createElement(r.TooltipBody,null,o&&o.title))))):null}))))}})||i},"./appsdk/contextbar/ContextBarService.js":function(e,t,o){"use strict";o.r(t),o.d(t,{ContextBarService:function(){return u}});var i,n=o("./appsdk/contextbar/ContextBarRegistry.js"),s=o("./js/services/NavigationService.js"),r=o("../../node_modules/mobx/lib/mobx.module.js"),a=o("./js/utils/NavigationUtil.js"),l=o("./appsdk/contextbar/ContextBarUtil.js"),c=(o("./js/containers/scratchpad/ContextBarScratchPadSignInPromptContainer.js"),o("./appsdk/workbench/WorkbenchService.js")),d=o("./node_modules/lodash/lodash.js"),p=o("../../node_modules/console-browserify/index.js");let u=(m=(i=class{constructor(){this._contextBarRegistry=n.default,this._controllerCache=new Map}get activeContextUrlIdentifier(){let e=s.default.currentURL.get(),{queryString:t}=(0,a.getUrlParts)(e);const o=(0,a._getQueryStringParams)(t);return o&&o[l.CONTEXT_BAR_QUERY_STRING_KEY]?o[l.CONTEXT_BAR_QUERY_STRING_KEY]:null}getContextBarQueryParam(e){return c.default.getTabController(e).contextBarQueryParam}pruneControllers(e){let t=new Set(e);for(let e of this._controllerCache.keys())t.has(e)||(this.willDestroy(e),this._controllerCache.delete(e))}getConfig(e){return this._contextBarRegistry._store.get(e)}getControllerFor(e,t){if(this._controllerCache.has(e))return this._controllerCache.get(e);let o=this.getConfig(e);if(!o)return;let i=o.getController;return i&&d.isFunction(i)?i().then((o=>{let i=new(0,o.default);this._controllerCache.set(e,i);try{i.didCreate&&i.didCreate(t)}catch(t){p.warn("ContextBarService: There was an error in the didCreate lifecycle of "+e)}return i})):void 0}getViewFor(e){let t=this.getConfig(e);return t&&t.getView().then((e=>e.default))}didActivate(e){this._triggerLifecycleMethod("didActivate",e)}didDeactivate(e){this._triggerLifecycleMethod("didDeactivate",e)}willDestroy(e){this._triggerLifecycleMethod("willDestroy",e)}_triggerLifecycleMethod(e,t){let o=this._controllerCache.get(t);if(o)try{o[e]&&o[e]()}catch(o){p.warn(`ContextBarService: There was an error in the ${e} lifecycle of ${t}`)}}}).prototype,h="activeContextUrlIdentifier",f=[r.computed],g=Object.getOwnPropertyDescriptor(i.prototype,"activeContextUrlIdentifier"),v=i.prototype,b={},Object.keys(g).forEach((function(e){b[e]=g[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=f.slice().reverse().reduce((function(e,t){return t(m,h,e)||e}),b),v&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(v):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(m,h,b),b=null),i);var m,h,f,g,v,b},"./js/containers/scratchpad/ContextBarScratchPadSignInPromptContainer.js":function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return c}});var i=o("../../node_modules/react/index.js"),n=o("./appsdk/contextbar/ContextBarViewHeader.js"),s=o("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),r=o("./js/components/base/Text.js"),a=o("./js/components/base/Buttons.js"),l=o("./js/services/ScratchpadService.js");class c extends i.Component{handleWorkspaceSwitch(){l.default.switchToWorkspace()}render(){return i.createElement("div",null,i.createElement(n.ContextBarViewHeader,{title:this.props.title,onClose:this.props.onClose}),i.createElement("div",{className:"contextbar-signin-prompt-state"},i.createElement("div",{className:"contextbar-signin-prompt-state__icon-container"},i.createElement(s.default,{className:"contextbar-signin-prompt-state__icon",size:"large",color:"content-color-tertiary",name:this.props.icon})),i.createElement("div",{className:"contextbar-signin-prompt-state__title"},i.createElement("h4",null,"Switch to a workspace to use this feature")),i.createElement("div",{className:"contextbar-signin-prompt-state__body"},i.createElement(r.default,{type:"body-medium",value:"This is an online feature and is only available in workspaces."})),i.createElement(a.Button,{className:"contextbar-signin-prompt-state__switch-action",size:"large",onClick:this.handleWorkspaceSwitch,type:"primary"},"Switch to Workspaces")))}}},"./schema/components/DefinitionWorkbenchAPIRedirectView.js":function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return C}});var i=o("../../node_modules/react/index.js"),n=o("./node_modules/prop-types/index.js"),s=o.n(n),r=o("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=o("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),l=o("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoPermission.js"),c=o("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=o("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=o("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),u=o("./js/stores/StoreManager.js"),m=o("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),h=o("./collaboration/workspace/types/WorkspaceTypes.ts"),f=o("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),g=o("./node_modules/lodash/lodash.js");const v=(0,p.default)("div")`
  margin-top: var(--spacing-l);
  overflow-y: scroll;
`,b=(0,p.default)(r.default)`
  margin-right: var(--spacing-l);
`;class C extends i.Component{get message(){if((0,u.resolveStoreInstance)(m.default).visibilityStatus===h.VISIBILITY_STATUS.public){const e={title:"This state of the definition is unavailable",body:"This state of the definition hasn’t been published as a version yet. You can only view published versions.",illustration:i.createElement(a.default,null)};return this.props.hasConsumerVersion&&(e.primaryCTA={text:"View Latest Version",onClick:()=>this.props.onRedirect()}),e}return"redirect"===this.props.type?{title:"Need additional access",body:"You don’t have permission to view this state of the definition.\nRequest edit access or view the latest version of this definition.",illustration:i.createElement(l.default,null),primaryCTA:{text:"Request Edit Access",onClick:()=>this.props.onRequestAccess()},secondaryCTA:{text:"View Latest Version",onClick:()=>this.props.onRedirect()}}:{title:"This API doesn’t have any published versions",body:"You can only view published versions of an API.\nRequest for edit access to build this API with your teammates.",illustration:i.createElement(a.default,null),primaryCTA:{text:"Request Edit Access",onClick:()=>this.props.onRequestAccess()}}}render(){var e,t,o,n,s,r;return i.createElement("div",{className:"entity-tab-error"},i.createElement("div",{className:"entity-tab-error__content"},this.props.icon?i.createElement("div",{className:"entity-tab-error__content__illustration"},i.createElement(f.default,{className:"entity-tab-error__content__illustration__icon",name:this.props.icon||g.get(this.message,"icon"),color:"content-color-tertiary",size:"large"})):i.createElement("div",{className:"entity-tab-error__content__illustration-wrapper"},g.get(this.message,"illustration")),i.createElement("div",{className:"entity-tab-error__content__title"},i.createElement(c.default,{type:"h4",text:this.props.title||g.get(this.message,"title")||this.message.error.title})),i.createElement("div",{className:"entity-tab-error__content__body"},i.createElement(d.default,{type:"body-medium"},this.props.message||g.get(this.message,"body")||this.message.error.body)),i.createElement(v,null,(null===(e=this.message)||void 0===e?void 0:e.primaryCTA)&&i.createElement(b,{type:"primary",size:"medium",text:null===(t=this.message)||void 0===t||null===(o=t.primaryCTA)||void 0===o?void 0:o.text,onClick:()=>{var e,t;return null===(e=this.message.primaryCTA)||void 0===e||null===(t=e.onClick)||void 0===t?void 0:t.call(e)}}),(null===(n=this.message)||void 0===n?void 0:n.secondaryCTA)&&i.createElement(b,{type:"outline",size:"medium",text:null===(s=this.message)||void 0===s||null===(r=s.secondaryCTA)||void 0===r?void 0:r.text,onClick:()=>{var e,t;return null===(e=this.message.secondaryCTA)||void 0===e||null===(t=e.onClick)||void 0===t?void 0:t.call(e)}}))))}}C.defaultProps={type:"noPermission",title:null,message:null,icon:null,hasConsumerVersion:!1,onRequestAccess:()=>{},onRedirect:()=>{}},C.propTypes={type:s().oneOf(["noPermission","redirect"]),title:s().string,message:s().string,icon:s().string,onRequestAccess:s().func,onRedirect:s().func,hasConsumerVersion:s().bool}},"./schema/constants/Constants.js":function(e,t,o){"use strict";o.r(t),o.d(t,{INTERMEDIATE_DEFINITION_VIEW:function(){return n},resourceTypeEnum:function(){return i}});const i={APIDEFINITION:"apiDefinition",SCHEMA:"schema"},n={API_NO_PERMISSION:"api-no-permission",API_REDIRECT_CONSUMER_ENTITY:"api-redirect"}}}]);