(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[159],{"../../node_modules/node-polyfill-webpack-plugin/node_modules/timers-browserify/main.js":function(e,t,s){var i=void 0!==s.g&&s.g||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function n(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new n(o.call(setTimeout,i,arguments),clearTimeout)},t.setInterval=function(){return new n(o.call(setInterval,i,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(i,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},s("../../node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==s.g&&s.g.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==s.g&&s.g.clearImmediate||this&&this.clearImmediate},"../../node_modules/setimmediate/setImmediate.js":function(e,t,s){var i=s("../../node_modules/process/browser.js");!function(e,t){"use strict";if(!e.setImmediate){var s,o,n,a,r,l=1,c={},d=!1,p=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?s=function(e){i.nextTick((function(){u(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,s=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=s,t}}()?e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){u(e.data)},s=function(e){n.port2.postMessage(e)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,s=function(e){var t=p.createElement("script");t.onreadystatechange=function(){u(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):s=function(e){setTimeout(u,0,e)}:(a="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&u(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),s=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var o={callback:e,args:t};return c[l]=o,s(l),l++},h.clearImmediate=m}function m(e){delete c[e]}function u(e){if(d)setTimeout(u,0,e);else{var t=c[e];if(t){d=!0;try{!function(e){var t=e.callback,s=e.args;switch(s.length){case 0:t();break;case 1:t(s[0]);break;case 2:t(s[0],s[1]);break;case 3:t(s[0],s[1],s[2]);break;default:t.apply(void 0,s)}}(t)}finally{m(e),d=!1}}}}}("undefined"==typeof self?void 0===s.g?this:s.g:self)},"../../packages/api-design/schema-editor/src/components/ChangeSchemaType/ChangeSchemaTypes.js":function(e,t,s){"use strict";s.r(t),s.d(t,{ChangeSchemaType:function(){return E}});var i=s("../../node_modules/lodash/lodash.js"),o=s.n(i),n=s("../../node_modules/react/index.js"),a=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),c=s("./js/components/base/Dropdowns.js"),d=s("./js/components/base/Buttons.js"),p=s("./js/stores/StoreManager.js"),h=s("./js/stores/SyncStatusStore.js"),m=s("./js/stores/CurrentUserStore.js"),u=s("../../packages/api-design/api-definition-store/index.js"),g=s("../../packages/api-design/schema-editor/src/constants/SchemaEditorConstants.js");const E=(0,a.observer)((function({schemaType:e,canUpdate:t,onChange:s,isSchema:i,isMultiFile:a}){const[E,v]=(0,n.useState)(e),f=o().pickBy(u.APIDefinitionTypeService.getTypesMap(),((e,t)=>u.APIDefinitionTypeService.isFeatureEnabled(t,u.TYPE_FEATURES_CONFIG.CREATE_FROM_SCRATCH)));let I=!(0,p.resolveStoreInstance)(h.default).isSocketConnected,_=i?g.SCHEMA_TYPE:f;function S(e){let t=[],s=u.APIDefinitionTypeService.isMultiFileSupported(e);return t=o().has(f,e)?u.APIDefinitionTypeService.getSupportedChangeTypes(E):o().keys(g.BASE_TO_FORMAT_TYPES[g.FORMAT_TO_BASE_MAP[E]]),a?!(o().includes(t,e)&&s):!o().includes(t,e)}function T(e){let t=!1;if(i)t=S(e);else{const s=u.APIDefinitionTypeService.getTypesMap();t=!o().has(s,e)||S(e)}return t}function C(e){return S(e)?"You cannot switch to this definition type. Create a new API to use this.":i?"":"This definition type doesn't support multi files"}return(0,n.useEffect)((function(){v(e)}),[e]),n.createElement(n.Fragment,null,n.createElement(c.Dropdown,{className:"new-schema-editor-container__dropdown",onSelect:async function(e){let i=E;if(t&&!(0,p.resolveStoreInstance)(m.default).isLoggedIn)return void pm.mediator.trigger("showSignInModal",{type:"API_DEFINITION_TYPE",origin:"API_sidebar",continueUrl:new URL(window.location.href)});if(v(e),i===e)return;try{await s(e)}catch(e){v(i),(0,r.toast)({status:"error",description:"Couldn’t change Definition type. Try again."})}}},n.createElement(c.DropdownButton,{size:"small"},n.createElement(d.Button,{className:"btn new-schema-editor-container__button",disabled:!t||I},n.createElement("span",null,_[E]))),n.createElement(c.DropdownMenu,{fluid:!0},o().map(_,((e,t)=>n.createElement(c.MenuItem,{refKey:t,key:t,disabled:T(t),disabledText:C(t)},n.createElement("span",null,e,o().includes(g.SCHEMA_TYPE_DISABLED_SWITCHING,t)&&n.createElement(l.default,{status:"info",text:"beta"}))))))))}))},"../../packages/api-design/schema-editor/src/components/FileTabView/FileTabComponent.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return P}});var i,o=s("../../node_modules/react/index.js"),n=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("../../node_modules/classnames/index.js"),r=s.n(a),l=s("../../packages/api-design/schema-editor/src/components/DefineCategoryLoader.js"),c=s("../../packages/api-design/schema-editor/src/components/FileTabView/FileTabHeader.js"),d=s("./js/components/base/Panes.js"),p=s("./js/constants/AppSettingsDefaults.js"),h=s("./appsdk/contextbar/ContextBar.js"),m=s("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/SourceControlUtils.js"),u=s("./api-dev/interfaces/view/ViewingAsConsumerBanner/ViewingAsConsumerBanner.js"),g=s("./js/constants/Panes.js"),E=s("../../packages/api-design/schema-editor/src/components/SchemaDefinition/FileEditorView.js"),v=s("../../packages/api-design/schema-editor/src/constants/SchemaErrors.js"),f=s("../../packages/api-design/schema-editor/src/components/SchemaDefinition/ErrorHandler.js"),I=s("./api-dev/interfaces/APIInterface.js"),_=s("./schema/components/DefinitionWorkbenchAPIRedirectView.js"),S=s("./schema/constants/Constants.js"),T=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),C=s("../../packages/api-design/api-definition-store/index.js"),y=s("./collaboration/constants/comments.js"),b=s("./collaboration/utils/commentUtils.js"),A=s("../../node_modules/lodash/lodash.js");function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},N.apply(this,arguments)}const{API_NO_PERMISSION:w,API_REDIRECT_CONSUMER_ENTITY:j}=S.INTERMEDIATE_DEFINITION_VIEW;let P=(0,n.observer)(i=class extends o.Component{constructor(e){super(e),this.renderTabContent=this.renderTabContent.bind(this),this.handleRetry=this.handleRetry.bind(this),this.isFileLoading=this.isFileLoading.bind(this)}renderTabContent(){const{apiId:e,apiVersionId:t,apiName:s,store:i,mode:n,path:a}=this.props.controller;return o.createElement(o.Fragment,null,o.createElement(c.default,N({},this.props,{apiId:e,apiVersionId:t,apiName:s,store:i,path:a,contextBarRef:this.contextBarRef,controller:this.props.controller})),o.createElement(u.default,{apiId:e,apiVersionId:t}),this.props.controller.file?o.createElement(E.FileEditorView,{apiId:e,versionId:t,mode:n,store:this.props.controller.store,controller:this.props.controller}):o.createElement(l.default,null))}handleRetry(){this.props.controller.reload()}isFileLoading(){return!this.props.controller||this.props.controller&&(!this.props.controller.hasFileLoaded||!this.props.controller.file)}render(){var e,t;const s=this.props.controller&&this.props.controller.file,i=A.get(this,"props.controller.id"),n=A.get(this,"props.controller.apiId"),a=A.get(this,"props.controller.intermediateView");let c,u=[],{model:E,parentModel:S,parentModelId:N}=(0,b.getCommentModelInfo)({model:y.MODEL_TYPE.API_DEFINITION,modelId:i});if(s){c=s,s&&this.props.controller.store&&!this.props.controller.store.isSchema&&(u.push("file-comments"),c=Object.assign(c,{commentModel:E,parentModel:S,commentModelId:i,parentModelId:N,commentLinkDisabled:!1,fileId:s.id,anchor:`${y.MODEL_TYPE.API_DEFINITION}/${i}/file/${s.id}`,versions:A.get(this,"props.controller.versions"),editor:A.get(this,"props.controller")})),A.get(this.props,"controller.store.mode")!==C.FEATURE_BRANCH_DEFINITION_MODE&&u.push("file-info");try{(0,I.isBranchView)()&&(0,m.getRepoStoreForGitLinkedAPI)(n)&&(c=Object.assign(c,{apiRepositoryStore:(0,m.getRepoStoreForGitLinkedAPI)(n),entityType:"apiDefinition"}),u.push(m.API_SOURCE_CONTROL))}catch(e){return pm.logger.error("FileTabComponent~render",e,{context:pm.logger.getContext("schema-editor","api-design")}),o.createElement(f.default,{title:"Could not load file",description:"There was an issue while loading file",buttonText:null,handler:this.handleRetry,blankState:o.createElement(T.default,null)})}}if(this.props.controller&&"error"===this.props.controller.status){const e=this.props.controller.errorType===v.FILE_NOT_FOUND?null:"Try again";return o.createElement(f.default,{title:this.props.controller.errorTitle,description:this.props.controller.errorMessage,buttonText:e,handler:this.handleRetry,blankState:o.createElement(T.default,null)})}return this.isFileLoading()&&"ready"!==(null===(e=this.props)||void 0===e||null===(t=e.controller)||void 0===t?void 0:t.status)?o.createElement(l.default,null):a===w?o.createElement(_.default,{type:"noPermission",onRequestAccess:this.props.controller.handleRequestForAccessOnParentAPI}):a===j?o.createElement(_.default,{type:"redirect",onRedirect:this.props.controller.handleRedirectToAPIConsumerDefinition,onRequestAccess:this.props.controller.handleRequestForAccessOnParentAPI}):o.createElement("div",{className:r()({"file-editor-container":!0})},o.createElement("div",{className:"file-editor"},o.createElement("div",{className:"file-tab-content"},o.createElement(d.PaneGroup,{defaultLayout:g.PANE_LAYOUT_HORIZONTAL},o.createElement(d.Pane,{width:{min:p.default.ui.WORKBENCH_MIN_WIDTH}},o.createElement(d.PaneContent,{className:"file-tab-content-pane"},this.renderTabContent())),o.createElement(h.ContextBarPane,{contextData:c,ref:e=>{this.contextBarRef=e},allowedContexts:u,editorId:this.props.id})))))}})||i},"../../packages/api-design/schema-editor/src/components/FileTabView/FileTabHeader.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return O}});var i,o=s("../../node_modules/react/index.js"),n=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("../../node_modules/mobx/lib/mobx.module.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Breadcrumb/Breadcrumb.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Tag/Tag.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),p=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),h=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),m=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-success-stroke-small.js"),u=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-syncing-stroke-small.js"),g=s("../../node_modules/classnames/index.js"),E=s.n(g),v=s("./js/stores/StoreManager.js"),f=s("./js/components/base/InlineInput.js"),I=s("./apinetwork/common/CopyLinkButton.js"),_=s("./js/services/NavigationService.js"),S=s("./js/stores/SyncStatusStore.js"),T=s("./js/stores/CurrentUserStore.js"),C=s("../../packages/api-design/api-definition-store/index.js"),y=s("../../packages/api-design/api-definition-ui/index.js"),b=s("./js/components/status-bar/TypeSwitcher.js"),A=s("./appsdk/contextbar/ContextBarUtil.js"),N=s("../../packages/api-design/api-design-analytics/index.js"),w=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),j=s("../../node_modules/lodash/lodash.js"),P=s.n(j);const x="apiDefinition",D="folder",R="file",L=(0,w.default)(r.Breadcrumb)`
  & > ul {
    flex-wrap: wrap;

    &:hover > li:not(:last-child) > a {
      color: var(--content-color-tertiary);
    }

    // TODO: This section can be removed once the Aether breadcrumb is used by
    // both Collections and APIs (currently base is also used)
    > li {
      > a, span, div {
        font-weight: var(--text-weight-bold);;
      }

      > a {
        color: var(--content-color-tertiary);

        &:hover:not(:last-child) {
          color: var(--content-color-link);
        }
      }
    }
  }
`;let O=(0,n.observer)(i=class extends o.Component{constructor(e){super(e),this.state={isRenamingFile:!1,showTooltip:!1,isEditAPIVersionModalOpen:!1,showVersionDeleteModal:!1},this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this),this.handleNavigation=this.handleNavigation.bind(this),this.handleToggleEditName=this.handleToggleEditName.bind(this),this.getTitlesFromPath=this.getTitlesFromPath.bind(this),this.handleRename=this.handleRename.bind(this),this.handleRenameSubmit=this.handleRenameSubmit.bind(this),this.renderCommentModeSwitcher=this.renderCommentModeSwitcher.bind(this),this.renderRightSectionButtons=this.renderRightSectionButtons.bind(this),this.isCommentPaneVisible=this.isCommentPaneVisible.bind(this),this.handleToggleCommentPane=this.handleToggleCommentPane.bind(this),this.discardSchemaChanges=this.discardSchemaChanges.bind(this),this.handleModeSwitch=this.handleModeSwitch.bind(this),this.handleModeSwitchOnDirtyEditor=this.handleModeSwitchOnDirtyEditor.bind(this)}isLoggedIn(){return(0,v.resolveStoreInstance)(T.default).isLoggedIn}handleToggleEditName(e){this.setState({isRenamingFile:!this.state.isRenamingFile,showTooltip:!1});const t=this.refs.inlineInput;e&&t&&(t.focus(),t.selectAll())}handleRename(){this.refs.inlineInput&&this.refs.inlineInput.toggleEdit()}getTitlesFromPath(e){if(!e)return{titles:[{id:"1",name:"Loading...",type:"loading"}]};const t=e.split("/"),{apiName:s}=this.props;let i=[{id:"1",name:s,type:"api"},{id:"2",name:"Definition",type:x}],o="";return t.forEach(((e,s)=>{const n=i.length+1;let a;o.length?o+="/"+e:o=e,a=s===t.length-1?R:D,i.push({id:`${n}`,name:e,type:a,currentPath:o})})),{titles:i}}async handleRenameSubmit(e){if("deleted"===this.props.controller.conflictType)return this.refs.inlineInput&&this.refs.inlineInput.setState({value:this.props.controller.name}),void(0,l.toast)({status:"error",description:"The file you're trying to rename has been deleted."});if(!(0,v.resolveStoreInstance)(S.default).isSocketConnected)return void(this.refs.inlineInput&&this.refs.inlineInput.setState({value:this.props.controller.name}));await this.props.store.renameItem(this.props.controller.fileId,e)?this.props.controller.setName(e):this.refs.inlineInput&&this.refs.inlineInput.setState({value:this.props.controller.name})}handleModeSwitch(e=!0){if(e&&this.props.controller.isCommentMode){const e=_.default.getActiveQueryParams().get();delete e.comment,(0,N.logApiDesignAnalytics)({category:N.EVENT_CATEGORIES.DEFINITION,action:N.EVENT_ACTIONS.SWITCH_MODE,label:"build",entityType:N.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:P().get(this.props,"controller.fileId")}),_.default.transitionTo("build.apiDefinitionFile",{apiId:this.props.controller.apiId,versionId:this.props.controller.id,apiDefinitionId:this.props.controller.store.id,fileId:this.props.controller.fileId},e)}(0,N.logApiDesignAnalytics)({category:N.EVENT_CATEGORIES.DEFINITION,action:N.EVENT_ACTIONS.SWITCH_MODE,label:"comment",entityType:N.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:P().get(this.props,"controller.fileId")}),this.handleToggleCommentPane(e),P().isFunction(this.props.controller.toggleCommentMode)&&this.props.controller.toggleCommentMode()}isCommentPaneVisible(){return!(!this.props.contextBarRef||!P().isFunction(this.props.contextBarRef.isCollapsed))&&(!this.props.contextBarRef.isCollapsed("x")&&"file-comments"===this.props.contextBarRef.state.activeContext)}handleToggleCommentPane(e=!this.isCommentPaneVisible()){if(this.props.controller.isCommentMode)return this.isCommentPaneVisible()&&this.props.contextBarRef.collapse("x");(0,a.when)((()=>this.props.contextBarRef),(()=>{e?(0,A.updateContextQueryParams)("comments"):this.isCommentPaneVisible()&&this.props.contextBarRef.collapse("x")}))}discardSchemaChanges(){this.props.controller.clearTrackedUpdates(!0)}handleModeSwitchOnDirtyEditor(){P().get(this.props,"controller.isCommentMode")?this.handleModeSwitch():pm.mediator.trigger("showSwitchDirtyVersionModal",(async()=>{await this.saveChanges(),this.handleModeSwitch()}),(()=>{this.discardSchemaChanges(),this.handleModeSwitch()}),"mode")}renderCommentModeSwitcher(){const e=!(0,v.resolveStoreInstance)(S.default).isSocketConnected;let t=e,s=e&&"You can take this action once you're back online",i=[{key:"file",label:o.createElement(h.default,{name:"icon-action-edit-stroke",className:E()({"api-mode-switcher__icon":!0,active:!P().get(this.props,"controller.isCommentMode"),"pm-icon":!0,"pm-icon-normal":!0})}),position:"left",tooltipText:s||"Switch to build mode"},{key:"comment",label:o.createElement(h.default,{name:"icon-action-comments-stroke",className:E()({"api-mode-switcher__icon":!0,active:P().get(this.props,"controller.isCommentMode"),"pm-icon":!0,"pm-icon-normal":!0})}),position:"right",tooltipText:t?s:"Switch to comment mode"}];return o.createElement("div",{className:E()({"plugin__workspace-view-switcher__wrapper":!0,"plugin__workspace-view-switcher":!0,"file-mode-switcher":!0})},o.createElement(b.default,{activeItem:P().get(this.props,"controller.isCommentMode")?"comment":"file",onSelect:P().get(this.props,"controller.isDirty")?this.handleModeSwitchOnDirtyEditor:this.handleModeSwitch,disabled:t,isTooltipEnabled:!0,placement:"bottom",items:i}))}renderRightSectionButtons(){return o.createElement("div",{className:"file-editor-header__right-section"},P().get(this.props,"controller.store.isCommentMode")&&o.createElement("div",{className:"comments-ctx-toggler"},o.createElement(CommentContainer,{disableAnalytics:!0,isCommentPaneVisible:this.isCommentPaneVisible(),onCommentPaneToggle:this.handleToggleCommentPane})),this.renderCommentModeSwitcher())}showTooltip(){this.setState({showTooltip:!0})}hideTooltip(){this.setState({showTooltip:!1})}handleNavigation(e){const t=this.props.store,s=this.props.controller,i=P().pick(_.default.getActiveQueryParams().get(),["version","branch"]);if("api"===e.type)_.default.transitionTo("build.api",{apiId:this.props.apiId},i);else if(e.type===x){C.APIDefinitionTypeService.schemaDocumentationSupportedTypes().includes(P().get(this.props,"store.type"))?(0,y.handleDefinitionNavigation)({apiId:this.props.apiId,apiVersionId:P().get(this.props,"apiVersionId"),definitionId:this.props.store.id,urlType:y.DEFINITION_URL_TYPES.HOME,isPrivateNetwork:!1},i):s.onItemClick(C.MAIN_NODE_ID)}else if(e.type===D){const i=t.filePathMap.get(e.currentPath);s.onItemClick(i)}}async saveChanges(e){try{const t=P().get(this.props.controller,"file.id"),s=P().get(this.props.controller,"content"),i=P().get(this.props.controller,"file.language"),o=P().get(this.props.controller,"type");this.props.controller&&await this.props.controller.saveFile(e)&&this.props.controller.handleIncomingUpdates({fileId:t,content:s,type:o,language:i})}catch(e){(0,l.toast)({status:"error",description:"Couldn’t update file. Try again."})}}getFileComponent(e){const t=!(0,v.resolveStoreInstance)(T.default).isLoggedIn,s=P().get(this,"props.store.apiDefinitionPermissions.canRenameFile",!1),i=_.default.getActiveQueryParams().get();return o.createElement("div",{className:"file-name-title"},e.name,P().get(this.props,"controller.file.isRoot")&&!P().get(this.props,"controller.store.isSchema")&&o.createElement("div",{className:"file-name-title__root"},o.createElement(c.default,{text:"Root",color:"blue"})),!t&&!P().get(this.props,"controller.file.isSchemaFile")&&s&&o.createElement(o.Fragment,null,o.createElement("div",{className:"edit-icon-rename",ref:e=>this.editIconRef=e,onClick:this.handleRename},o.createElement(h.default,{name:"icon-action-edit-stroke",color:"content-color-secondary",size:"small",title:"Edit name"}))),o.createElement(I.default,{className:"copy-link-icon",entityId:this.props.controller.file.id,entityType:"file",size:"small",customIds:i}))}renderRightSectionInfo(){return P().get(this.props,"controller.shouldShowSaveMessage")?o.createElement("div",{className:"file-editor-header__save-message"},o.createElement(m.default,null)," ",o.createElement("div",null,"Changes are saved automatically.")):P().get(this.props,"controller.showLocalSaveMessage")?o.createElement(d.default,{placement:"left",content:"All changes made to this file are saved locally and will be updated once you're online."},o.createElement("div",{className:"file-editor-header__save-message"},o.createElement(u.default,null)," ",o.createElement("div",null,"Changes saved locally."))):P().get(this.props,"controller.shouldShowLastUpdatedTime")?o.createElement("div",{className:"file-editor-header__save-message"},o.createElement("div",null,"Last updated ",null===(e=this.props.controller.lastSaved)||void 0===e?void 0:e.fromNow(),".")):o.createElement(o.Fragment,null);var e}render(){const{path:e,controller:t}=this.props,{titles:s}=this.getTitlesFromPath(e);return o.createElement(o.Fragment,null,o.createElement("div",{className:"file-editor-header"},o.createElement("div",{className:"file-editor-header__left-section"},o.createElement(f.default,{className:"file-name-input",onToggleEdit:this.handleToggleEditName,onSubmit:this.handleRenameSubmit,ref:"inlineInput",value:t.file.name,placeholder:"File Name"}),!this.state.isRenamingFile&&o.createElement(p.default,{width:"100%"},o.createElement(L,{items:s,showDropMenu:!0,onItemClick:this.handleNavigation},s.map((e=>o.createElement(r.BreadcrumbItem,{itemData:e,key:e.id},e.type===R?this.getFileComponent(e):e.name)))))),P().get(this.props,"controller.isAutoSaveEnabled")&&o.createElement("div",{className:"file-editor-header__right-section"},this.renderRightSectionInfo()),!P().get(this.props,"controller.file.isSchemaFile")&&this.renderRightSectionButtons()))}})||i},"../../packages/api-design/schema-editor/src/components/SchemaDefinition/ErrorHandler.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var i,o=s("../../node_modules/react/index.js"),n=s("./js/components/base/Buttons.js"),a=s("../../node_modules/prop-types/index.js"),r=s.n(a),l=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=s("./js/services/PageMetadataService.js");let d=(0,l.observer)(i=class extends o.Component{constructor(e){super(e),this.renderButton=this.renderButton.bind(this)}componentDidMount(){this.props.errorStatus&&404===this.props.errorStatus&&c.default.setPageAs404()}renderButton(){if(this.props.buttonText)return o.createElement(n.Button,{type:this.props.buttonType||"secondary",onClick:this.props.handler},this.props.buttonText)}render(){return o.createElement("div",{className:"app-crash-wrapper"},this.props.blankState?o.createElement("div",{className:"app-crash-wrapper__blank-state"},this.props.blankState):o.createElement("div",{className:"app-crash-thumbnail"}),o.createElement("div",{className:"app-crash-content-container"},o.createElement("div",{className:"app-crash-header"},this.props.title),o.createElement("div",{className:"app-crash-content"},this.props.description),this.renderButton()))}})||i;d.propTypes={title:r().string.isRequired,description:r().string,buttonText:r().string,handler:r().func,buttonType:r().string,blankState:r().string,errorStatus:r().number}},"../../packages/api-design/schema-editor/src/components/SchemaDefinition/FileEditorContainer.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return B}});var i,o=s("../../node_modules/react/index.js"),n=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("../../node_modules/mobx/lib/mobx.module.js"),r=s("./runtime-repl/request-http/GraphQlValidationService.js"),l=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),c=s("../../packages/api-design/schema-editor/node_modules/uuid/v4.js"),d=s.n(c),p=s("../../node_modules/lodash/lodash.js"),h=s.n(p),m=s("../../packages/api-design/schema-editor/src/components/SchemaDefinition/FileEditorOptions.js"),u=s("../../packages/api-design/schema-editor/src/components/SchemaDefinition/FileEditor.js"),g=s("../../packages/api-design/schema-editor/src/components/ValidationDrawer/ValidationDrawerHeader.js"),E=s("../../packages/api-design/schema-editor/src/components/ValidationDrawer/ValidationDrawerContentTable.js"),v=s("./js/modules/services/AnalyticsService.js"),f=s("./js/components/base/Buttons.js"),I=s("./js/stores/CurrentUserStore.js"),_=s("./js/stores/StoreManager.js"),S=s("./js/components/base/XPaths/XPath.js"),T=s("./js/components/base/Panes.js"),C=s("../../packages/api-design/schema-editor/src/components/SchemaOutline.js"),y=s("./js/constants/Panes.js"),b=s("./js/services/EditorService.js"),A=s("./js/services/NavigationService.js"),N=s("./js/constants/TextEditorConstants.js"),w=s("../../packages/api-design/schema-editor/src/constants/SchemaEditorConstants.js"),j=s("./collaboration/navigation/constants.js"),P=s("../../packages/api-design/schema-editor/src/constants/SchemaErrors.js"),x=s("../../packages/api-design/schema-editor/src/components/ChangeSchemaType/ChangeSchemaTypes.js"),D=s("../../packages/api-design/schema-editor/src/constants/FileWorkbenchConstants.js"),R=s("../../packages/api-design/schema-editor/src/constants/ValidationDrawerConstants.js"),L=s("../../packages/api-design/schema-editor/src/constants/ValidationErrors.js"),O=s("../../packages/api-design/api-definition-ui/index.js"),k=s("../../packages/api-design/api-definition-store/index.js"),F=s("../../packages/api-design/schema-editor/src/components/UnsavedFileChangesWarningModal.js"),M=s("../../packages/api-design/schema-editor/src/stores/SchemaGovernanceStore.js"),V=s("../../packages/api-design/api-design-analytics/index.js");let B=(0,n.observer)(i=class extends o.Component{constructor(e){super(e),this.state={schemaNavigationCollapsed:!1,errorsCollapsed:!0,schemaOutlineList:null,loadingSchemaOutlineList:!0,errorLoadingSchemaOutlineList:!1,errors:[],validatingSchema:!1,validatedSchema:!1,syntaxError:!1,markers:[],validationErrors:[],activeIssue:w.SCHEMA_ISSUE_MAP.VALIDATION_ERROR,traceId:d()(),warnings:[],latestTimestamp:null,generatingWarnings:!1,errorGeneratingWarnings:null},this.editor=null,this.toggleFindWidget=this.toggleFindWidget.bind(this),this.handleToggleLineWrap=this.handleToggleLineWrap.bind(this),this.handleCopy=this.handleCopy.bind(this),this.handleBeautify=this.handleBeautify.bind(this),this.handleSchemaNavigationPaneToggle=this.handleSchemaNavigationPaneToggle.bind(this),this.handleSchemaNavigationPaneResize=this.handleSchemaNavigationPaneResize.bind(this),this.setEditorInstance=this.setEditorInstance.bind(this),this.onOutlineSectionToggle=this.onOutlineSectionToggle.bind(this),this.setEditorPaneRef=this.setEditorPaneRef.bind(this),this.handleDrawerToggle=this.handleDrawerToggle.bind(this),this.handlePaneResize=this.handlePaneResize.bind(this),this.handleActiveIssueChange=this.handleActiveIssueChange.bind(this),this.validationSchemaCallback=this.validationSchemaCallback.bind(this),this.isFormatDisabled=this.isFormatDisabled.bind(this),this.handleCancel=this.handleCancel.bind(this),this.goToLocation=this.goToLocation.bind(this),this.handleSaveChanges=this.handleSaveChanges.bind(this),this.redirectToVersion=this.redirectToVersion.bind(this),this.handleRequestAccessChanges=this.handleRequestAccessChanges.bind(this),this.isMultiFileDefinition=this.isMultiFileDefinition.bind(this)}componentDidMount(){this.decorationsReactionDisposer=(0,a.reaction)((()=>h().get(this.props,"store.loadingSecurityWarnings")||h().get(this.props,"store.loadingValidationErrors")),this.setEditorDecorations.bind(this));const e=(0,_.resolveStoreInstance)(M.default);e.isFeatureEnabled().then((t=>{t&&e.initialize()})),this.goToLocationIfExist()}goToLocationIfExist(){this.props.controller.goToLocation&&setTimeout((()=>{this.goToLocation(this.props.controller.goToLocation,this.editor)}),100)}setEditorDecorations(){if(!this.editor||!this.props.canUpdateFile)return;let e=[],t=this.state.activeIssue;e=t===w.SCHEMA_ISSUE_MAP.SECURITY_WARNING?h().get(this.props,"store.securityWarnings",[]):h().get(this.props,"store.validationErrors",[]);const{markers:s,decorations:i}=this.getNewMarkersAndDecorations(e,t);this.editor.decorations=this.editor.deltaDecorations(this.editor.decorations||[],i),this.setState({markers:s})}componentDidUpdate(e){if("graphql"!==this.props.activeFormat||e.value===this.props.value&&e.activeFormat===this.props.activeFormat&&e.activeLanguage===this.props.activeLanguage||this.handleGraphQlValidation(this.props.value),e.fileId!==this.props.fileId&&this.goToLocationIfExist(),this.props.controller.goToPath){var t;let{path:e,method:s}=this.props.controller.goToPath,i=`paths,${e},${s}`,o=null===(t=this.props.controller.store.outlineList[i])||void 0===t?void 0:t.location;if(!o)return;this.goToLocation(o,this.editor),setTimeout((()=>{(0,a.runInAction)((()=>{this.props.controller.goToPath=null}))}),1e3)}}handleCancel(){(0,V.logApiDesignAnalytics)({category:V.EVENT_CATEGORIES.DEFINITION,action:V.EVENT_ACTIONS.CANCEL_SAVE_FILE,entityType:V.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:h().get(this.props,"controller.fileId"),traceId:this.state.traceId}),"conflicted"===h().get(this.props.controller,"conflictType")?pm.mediator.trigger("showConflictedFileModal",(()=>this.props.onSave&&this.props.onSave())):this.props.onCancel&&this.props.onCancel()}handleSaveChanges(e){if(!(0,_.resolveStoreInstance)(I.default).isLoggedIn)return pm.mediator.trigger("showSignInModal",{type:"schema",subtitle:P.NOT_SIGNED_IN_ERROR,origin:"save_schema_button"});(0,V.logApiDesignAnalytics)({category:V.EVENT_CATEGORIES.DEFINITION,action:V.EVENT_ACTIONS.SAVE_FILE,entityType:V.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:h().get(this.props,"controller.fileId"),traceId:this.state.traceId});const t=h().get(this.props.controller,"conflictType"),s=e=>this.props.onSave&&this.props.onSave(e);t===D.CONFLICTED?pm.mediator.trigger("showConflictedFileModal",(()=>s(e))):s(e)}componentWillUnmount(){this.promiseWorker=null,this.editor=null,this.decorationsReactionDisposer&&this.decorationsReactionDisposer()}toggleFindWidget(){this.refs.schemaEditor.toggleFindWidget&&this.refs.schemaEditor.toggleFindWidget()}handleCopy(){this.props.copyEditorValue&&this.props.copyEditorValue(),(0,V.logApiDesignAnalytics)({category:V.EVENT_CATEGORIES.DEFINITION,action:V.EVENT_ACTIONS.COPY_ICON,entityType:V.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:h().get(this.props,"controller.fileId"),traceId:this.state.traceId})}handleToggleLineWrap(){var e;this.props.toggleLineWrap&&this.props.toggleLineWrap(),(0,V.logApiDesignAnalytics)({category:V.EVENT_CATEGORIES.DEFINITION,action:V.EVENT_ACTIONS.WRAP_TEXT,label:"is_wrapped:"+(null!==(e=this.props)&&void 0!==e&&e.lineWrap?"0":"1"),entityType:V.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:h().get(this.props,"controller.fileId"),traceId:this.state.traceId})}handleBeautify(){this.refs.schemaEditor.handleBeautify&&this.refs.schemaEditor.handleBeautify(),(0,V.logApiDesignAnalytics)({category:V.EVENT_CATEGORIES.DEFINITION,action:V.EVENT_ACTIONS.BEAUTIFY,entityType:V.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:h().get(this.props,"controller.fileId"),traceId:this.state.traceId})}handleDrawerToggle(){(0,V.logApiDesignAnalytics)({category:V.EVENT_CATEGORIES.DEFINITION,action:V.EVENT_ACTIONS.VALIDATION_DRAWER_CLICK,entityType:V.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:h().get(this.props,"controller.fileId"),traceId:this.state.traceId,label:`toggle:${this.state.errorsCollapsed?"open":"close"};syntax:${h().get(this.props,"store.validationErrors",[]).length};rules:${h().get(this.props,"store.securityWarnings",[]).length};uniq_rules: ${h().uniqBy(h().get(this.props,"store.securityWarnings",[]),"message").length}`}),this.setState({errorsCollapsed:!this.state.errorsCollapsed},(()=>{this.codeEditorPaneRef.handleCollapseToggle("y",this.state.errorsCollapsed)}))}handleGraphQlValidation(e){r.default.validateSchema(e,this.validationSchemaCallback)}validationSchemaCallback(e){let t=e.map((e=>({startLineNumber:e.row,endLineNumber:e.row,startColumn:e.column,endColumn:e.column+1,message:e.text,level:N.TEXT_EDITOR_VALIDATION_MESSAGE_LEVEL.ERROR})));this.setState({markers:t})}handlePaneResize(e){h().get(e,"[1].height")>w.VALIDATION_DRAWER_HEADER_HEIGHT&&this.state.errorsCollapsed&&this.setState({errorsCollapsed:!1}),h().get(e,"[1].height")===w.VALIDATION_DRAWER_HEADER_HEIGHT&&this.setState({errorsCollapsed:!0})}handleRequestAccessChanges(){let e=h().get(this.props,"controller.apiId"),t=h().get(this.props,"controller.apiName");A.default.transitionTo(j.ACCESS_REQUEST_CREATE_BUILD_IDENTIFIER,null,{entityType:"api",entityId:e,type:"grant_role",entityName:t})}handleSchemaNavigationPaneToggle(){this.setState({schemaNavigationCollapsed:!this.state.schemaNavigationCollapsed},(()=>{this.schemaNavigationPaneRef.handleCollapseToggle("x",this.state.schemaNavigationCollapsed),v.default.addEventV2({category:"schema",action:this.state.schemaNavigationCollapsed?"hide_schema_outline":"show_schema_outline",label:this.props.activeFormat,entityId:h().get(this.props,"schemaId"),traceId:this.state.traceId}),(0,V.logApiDesignAnalytics)({category:V.EVENT_CATEGORIES.DEFINITION,action:V.EVENT_ACTIONS.SCHEMA_OUTLINE_ICON,label:this.state.schemaNavigationCollapsed?"hide":"show",entityType:V.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:h().get(this.props,"controller.fileId"),traceId:this.state.traceId})}))}handleSchemaNavigationPaneResize(e){h().get(e,"[0].width")>w.SCHEMA_NAVIGATION_PANE_HEADER_WIDTH&&this.state.schemaNavigationCollapsed&&this.setState({schemaNavigationCollapsed:!1}),h().get(e,"[0].width")===w.SCHEMA_NAVIGATION_PANE_HEADER_WIDTH&&this.setState({schemaNavigationCollapsed:!0})}setEditorPaneRef(e){this.codeEditorPaneRef=e}setEditorInstance(e){this.editor=e,this.props.setEditorInstance&&this.props.setEditorInstance(e),this.props.controller.goToLocation&&this.goToLocation(this.props.controller.goToLocation,e),this.setEditorDecorations()}async goToLocation(e,t){if(!t&&this.editor)t=this.editor;else if(!t)return;const s=h().get(this.props,"controller.id"),i=h().get(this.props,"controller.apiId"),o=h().get(this.props,"controller.apiVersionId"),n=h().get(this.props,"controller.fileId"),a=(0,O.getQueryParamsForMode)(h().get(this.props,"controller.apiMode"));if(n&&e.fileId&&e.fileId!=n)return void await(0,O.handleDefinitionNavigation)({apiId:i,apiVersionId:o,definitionId:s,fileId:e.fileId,urlType:O.DEFINITION_URL_TYPES.FILE},a,{additionalContext:{goToLocation:e}});const r=[{range:{startLineNumber:h().get(e,"start.line"),startColumn:h().get(e,"start.column"),endLineNumber:h().get(e,"start.line")>h().get(e,"end.line")?h().get(e,"start.line"):h().get(e,"end.line"),endColumn:h().get(e,"end.column")+1},options:{inlineClassName:"schema-editor-custom-line-decoration"}}];t.focus(),t.revealLineInCenter(h().get(e,"start.line")),t.setPosition({column:h().get(e,"start.column"),lineNumber:h().get(e,"start.line")});const l=t.deltaDecorations([],r);setTimeout((function(){t.deltaDecorations(l||[],[])}),1e3)}onOutlineSectionToggle(e){const t=this.props.store.outlineList;this.props.store.toggleOutlinePath(e),this.setState({schemaOutlineList:t},(()=>{v.default.addEventV2({category:"schema",action:t[e].isOpen?"expand_section":"collapse_section",label:e[0],entityId:h().get(this.props,"schemaId"),traceId:this.state.traceId})}))}isFormatDisabled(e){return h().includes(w.SCHEMA_TYPE_DISABLED_SWITCHING,this.props.activeFormat)?!h().includes(w.SCHEMA_TYPE_DISABLED_SWITCHING,e):h().includes(w.SCHEMA_TYPE_DISABLED_SWITCHING,e)}getNewMarkersAndDecorations(e,t){const s=[],i=[];return e.forEach((e=>{if(e.level===t&&(!h().get(e,"location.fileId")||h().get(e,"location.fileId")===h().get(this.props,"controller.fileId"))){const t=h().get(e,"location.start.column"),o=h().get(e,"location.start.line"),n=h().get(e,"original.code.target");let a,r=e.message;n&&"browser"===window.SDK_PLATFORM&&(r=`${r} [Possible fix](${n})`),"securityWarning"===e.level?a=R.SEVERITY_GLYPH_ICON_MAP[e.severity]||w.EDITOR_GLYPH_ICONS[e.level]:"validationError"===e.level&&(a=h().get(L.ERROR_LEVEL_MAP[e.type],"glyphIcon",w.EDITOR_GLYPH_ICONS[e.level])),i.push({range:{startLineNumber:o,startColumn:t,endLineNumber:o,endColumn:t+1},options:{glyphMarginClassName:a,glyphMarginHoverMessage:[{value:r}]}}),s.push({severity:w.EDITOR_MARKER_SEVERITY[e.level],message:e.message,startLineNumber:o,startColumn:t,endLineNumber:o,endColumn:t})}})),{markers:s,decorations:i}}handleActiveIssueChange(e){let t=[];t=e===w.SCHEMA_ISSUE_MAP.SECURITY_WARNING?h().get(this.props,"store.securityWarnings",[]):h().get(this.props,"store.validationErrors",[]);const{markers:s,decorations:i}=this.getNewMarkersAndDecorations(t,e);this.editor&&this.props.canUpdateFile&&(this.editor.decorations=this.editor.deltaDecorations(this.editor.decorations||[],i)),this.setState({activeIssue:e,markers:s}),v.default.addEventV2({category:"schema",action:e===w.SCHEMA_ISSUE_MAP.SECURITY_WARNING?"show_warnings_tab":"show_errors_tab",entityId:h().get(this.props,"controller.apiId")||h().get(this.props,"schemaId")})}getDefaultFileName(){return h().get(this.props,"controller.store.isSchema")?h().get(this.props,"controller.name"):""}getInstanceSettings(e,t){let s=null;return k.APIDefinitionTypeService.isDefinitionType(e)&&(e=k.APIDefinitionTypeService.getLegacySchemaType(e)),"openapi3"===e||"openapi2"===e||"openapi3_1"===e?(s={validate:{allowSchemaValidation:!1},schemas:[{uri:w.SCHEMA_INSTANCE_SETTINGS[e].uri,schema:w.SCHEMA_INSTANCE_SETTINGS[e].schema,isReferencedBy:null}]},"yaml"===t&&(s.completion=!0)):"wsdl2"!==e&&"wsdl1"!==e||(s={validate:!0,completion:!0,schemas:[w.SCHEMA_INSTANCE_SETTINGS[e]]}),s}isMultiFileDefinition(){const e=h().get(this.props.store,"entityMap");let t=0,s=0;return h().isFunction(h().get(e,"forEach"))&&e.forEach((e=>{"file"===h().get(e,"type")?t++:"folder"===h().get(e,"type")&&s++})),t>1||s>1}renderEditor(e){return o.createElement(u.default,{ref:"schemaEditor",instanceSettings:this.getInstanceSettings(this.props.activeFormat,this.props.activeLanguage),value:this.props.value,setEditorInstance:this.setEditorInstance,lineWrap:this.props.lineWrap,isCommentMode:h().get(this.props,"controller.isCommentMode"),activeFormat:this.props.activeFormat,activeLanguage:this.props.activeLanguage,validationErrors:this.props.canUpdateFile?this.state.markers:[],schemaOutlineList:this.props.store.outlineList,updateFilePermission:e,mode:this.props.mode,onChange:this.props.onChange,controller:this.props.controller,isFileDeleted:h().get(this.props,"controller.file.isDeleted"),onSave:this.handleSaveChanges,goToLocation:this.goToLocation})}renderEditorAndOutline(e){return o.createElement(T.PaneGroup,{defaultLayout:y.PANE_LAYOUT_HORIZONTAL,ref:e=>{this.innerPaneGroupRef=e},onPaneResize:this.handleSchemaNavigationPaneResize},o.createElement(T.Pane,{ref:e=>{this.schemaNavigationPaneRef=e},width:{shouldResistResize:!0,uncollapsed:w.SCHEMA_NAVIGATION_PANE_DEFAULT_WIDTH,default:w.SCHEMA_NAVIGATION_PANE_DEFAULT_WIDTH,min:w.SCHEMA_NAVIGATION_PANE_MIN_WIDTH,max:w.SCHEMA_NAVIGATION_PANE_MAX_WIDTH}},o.createElement(T.PaneHeader,{defaultLayout:y.PANE_LAYOUT_HORIZONTAL,verticalComponent:o.createElement(f.Button,{className:"schema-navigation-drawer__content__vertical-header",tooltip:"Show schema outline",onClick:this.handleSchemaNavigationPaneToggle,tooltipPlacement:"bottom"},o.createElement(l.default,{name:"icon-descriptive-schemaOutline-stroke",size:"large"})),width:w.SCHEMA_NAVIGATION_PANE_HEADER_WIDTH}),o.createElement(T.PaneContent,null,o.createElement("div",{className:"schema-navigation-drawer__content"},o.createElement(f.Button,{className:"schema-navigation-drawer__content__vertical-header",tooltip:"Hide schema outline",onClick:this.handleSchemaNavigationPaneToggle,tooltipPlacement:"bottom"},o.createElement(l.default,{name:"icon-descriptive-schemaOutline-stroke",size:"large"})),o.createElement(C.default,{schemaOutlineList:this.props.store.outlineList,language:this.props.controller.language,editor:this.editor,onToggle:this.onOutlineSectionToggle,loadingSchemaOutlineList:this.props.store.loadingOutlineList,errorLoadingSchemaOutlineList:this.props.store.errorLoadingOutlineList,isSchemaEmpty:""===this.props.controller.content,onRefetchSchemaOutlineList:this.props.store.generateOutline,schemaId:h().get(this.props,"schemaId"),traceId:this.state.traceId,goToLocation:this.goToLocation})))),o.createElement(T.Pane,null,o.createElement(T.PaneContent,null,this.renderEditor(e))))}renderValidationDrawer(){const e=this.state.activeIssue===w.SCHEMA_ISSUE_MAP.SECURITY_WARNING,t=e?h().get(this.props,"store.securityWarnings",[]):h().get(this.props,"store.validationErrors",[]);return o.createElement(T.Pane,{ref:e=>{this.setEditorPaneRef(e)},height:{collapsedByDefault:!0,min:w.VALIDATION_DRAWER_PANE_HEIGHT,uncollapsed:w.VALIDATION_DRAWER_PANE_HEIGHT}},o.createElement(T.PaneHeader,{className:"validation-drawer__header",defaultLayout:y.PANE_LAYOUT_HORIZONTAL,height:w.VALIDATION_DRAWER_HEADER_HEIGHT,horizontalComponent:o.createElement("div",{className:"validation-drawer__header__content",onClick:this.handleDrawerToggle},o.createElement(g.default,{activeLanguage:this.props.activeLanguage,activeFormat:this.props.activeFormat,errors:h().get(this.props,"store.validationErrors",[]),collapsed:this.state.errorsCollapsed,isSchemaEmpty:!1,store:this.props.store,isSchema:h().get(this.props,"store.isSchema"),syntaxError:h().get(this.props,"store.errorLoadingValidationErrors"),validatingSchema:h().get(this.props,"store.loadingValidationErrors"),isGeneratingWarnings:h().get(this.props,"store.loadingSecurityWarnings"),errorGeneratingWarnings:h().get(this.props,"store.errorLoadingSecurityWarnings"),warnings:h().get(this.props,"store.securityWarnings",[]),activeIssue:this.state.activeIssue,handleActiveIssueChange:this.handleActiveIssueChange}))}),o.createElement(T.PaneContent,null,o.createElement("div",{className:"validation-drawer__content"},o.createElement(E.default,{activeLanguage:this.props.activeLanguage,errors:t,isSchemaEmpty:""===h().get(this.props,"store.bundle"),syntaxError:h().get(this.props,"store.errorLoadingValidationErrors"),fileId:this.props.controller.fileId,goToLocation:this.goToLocation,generateWarnings:this.props.store.getSecurityWarnings,isGeneratingWarnings:e&&this.props.store.loadingSecurityWarnings,errorGeneratingWarnings:e?this.props.store.errorLoadingSecurityWarnings:null,editor:this.editor,activeIssue:this.state.activeIssue,schemaId:h().get(this.props.model,"schema.schemaId"),isDirty:h().get(this.props,"store.isDirty"),governanceWarningsStore:h().get(this.props.store,"governanceWarningsStore"),defaultFileName:this.getDefaultFileName()}))))}redirectToVersion(){A.default.transitionTo("build.apiVersion",{apiId:this.props.controller.apiId,versionId:this.props.controller.apiVersionId})}render(){var e,t;const s=this.props.activeFormat,i=(w.APIDES_FORMAT_MAP[s],h().includes(w.NAVIGATION_ENABLED_FORMATS,this.props.activeFormat)),n=h().includes(w.VALIDATION_ENABLED_FORMATS,this.props.activeFormat),a=this.props.canUpdateFile,r=h().get(this.props,"controller.file.isDeleted"),l=this.isMultiFileDefinition(),{isSchema:c,changeSchemaType:d}=this.props.store||{};return o.createElement("div",{className:"new-schema-editor-container"},(null===(e=this.props.controller)||void 0===e?void 0:e.shouldShowUnsavedWarningModal)&&o.createElement(F.default,{fileName:null===(t=this.props.controller)||void 0===t?void 0:t.name,onCancel:()=>{var e;return null===(e=this.props.controller)||void 0===e?void 0:e.set("shouldShowUnsavedWarningModal",!1)},onDiscard:()=>{var e;return b.default.close({id:null===(e=this.props.controller)||void 0===e?void 0:e._editorModel.id},{force:!0})}}),o.createElement("div",{className:"new-schema-editor-container__header"},o.createElement("div",{className:"new-schema-editor-container__header-left"},o.createElement(x.ChangeSchemaType,{schemaType:s,isSchema:c,onChange:d,canUpdate:a&&!r,isMultiFile:l})),o.createElement("div",{className:"new-schema-editor-container__header-right"},o.createElement(m.default,{onFindWidgetToggle:this.toggleFindWidget,onCopy:this.handleCopy,onSave:this.handleSaveChanges,isSaving:this.props.isSaving,isSaved:this.props.isSaved,onRequestAccess:this.handleRequestAccessChanges,updateFilePermission:a&&!r,onCancel:this.handleCancel,lineWrap:this.props.lineWrap,onLineWrap:this.handleToggleLineWrap,onBeautify:this.handleBeautify,activeLanguage:this.props.activeLanguage,activeFormat:this.props.activeFormat,onLanguageSelect:e=>{this.props.onLanguageSelect(e),(0,V.logApiDesignAnalytics)({category:V.EVENT_CATEGORIES.DEFINITION,action:V.EVENT_ACTIONS.CHANGE_LANG,label:e,entityType:V.EVENT_ENTITY_TYPES.API_DEFINITION_NODE,entityId:h().get(this.props,"controller.fileId"),traceId:this.state.traceId})},mode:this.props.mode,controller:this.props.controller,permissions:h().get(this.props,"store.apiDefinitionPermissions"),isAutoSaveEnabled:this.props.isAutoSaveEnabled}))),o.createElement("div",{className:"new-schema-editor-container__content"},o.createElement(S.default,{identifier:"schemaEditor"},i?n?o.createElement(T.PaneGroup,{defaultLayout:y.PANE_LAYOUT_VERTICAL,ref:e=>{this.editorPaneGroupRef=e},onPaneResize:this.handlePaneResize},o.createElement(T.Pane,{height:{min:w.EDITOR_MIN_HEIGHT}},this.renderEditorAndOutline(a)),a?this.renderValidationDrawer(a):o.createElement("div",null)):this.renderEditorAndOutline(a):this.renderEditor(a))))}})||i},"../../packages/api-design/schema-editor/src/components/SchemaDefinition/FileEditorOptions.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var i,o=s("../../node_modules/react/index.js"),n=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),l=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),c=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-success-stroke.js"),d=s("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-copy-stroke.js"),p=s("../../node_modules/lodash/lodash.js"),h=s.n(p),m=s("../../node_modules/classnames/index.js"),u=s.n(m),g=s("./js/components/base/Buttons.js"),E=s("./js/components/base/Dropdowns.js"),v=s("../../packages/api-design/schema-editor/src/constants/SchemaEditorConstants.js"),f=s("./js/stores/StoreManager.js"),I=s("./js/stores/SyncStatusStore.js"),_=s("../../packages/api-design/schema-editor/src/constants/SchemaErrors.js");let S=(0,n.observer)(i=class extends o.Component{constructor(e){super(e),this.state={showRFA:!1,isDataCopySuccess:!1}}componentDidMount(){}getWrapButtonClasses(){return u()({"new-schema-editor-options__icon-button--is-active":this.props.lineWrap})}getSchemaSaveTooltip(){if(!(0,f.resolveStoreInstance)(I.default).isSocketConnected)return _.OFFLINE_ERROR;const e=this.props.controller&&this.props.controller.file,t=e.name?e.name:"file";return e.isDeleted?"This file has been deleted":this.props.isSaved?`Changes saved to ${t}`:void 0}getBeautifyTooltip(){return h().includes(v.BEAUTIFY_SUPPORTED_LANGUAGES,this.props.activeLanguage)?"Beautify":"This action is not supported for the selected language."}getSchemaRFATooltip(){return!(0,f.resolveStoreInstance)(I.default).isSocketConnected?_.OFFLINE_ERROR:_.REQUEST_ACCESS_MSG}shouldShowLanguageDropdown(){return(this.props.controller&&this.props.controller.file).isSchemaFile&&this.props.updateFilePermission}copyIconController(){this.setState({isDataCopySuccess:!0}),setTimeout((()=>{this.setState({isDataCopySuccess:!1})}),2e3)}render(){const e=h().includes(v.SCHEMA_FORMAT_SUPPORTED_LANGUAGE[this.props.activeFormat],this.props.activeLanguage),t=!(0,f.resolveStoreInstance)(I.default).isSocketConnected;let s=e?v.LANGUAGE_MAP[this.props.activeLanguage]:v.LANGUAGE_MAP[h().head(v.SCHEMA_FORMAT_SUPPORTED_LANGUAGE[this.props.activeFormat])];const i=this.shouldShowLanguageDropdown();return o.createElement("div",{className:"new-schema-editor-options"},!this.props.isAutoSaveEnabled&&o.createElement("div",{className:"schema-editor-options__button-wrapper"},this.props.updateFilePermission?o.createElement(o.Fragment,null,o.createElement(a.default,{className:"schema-editor-options__save",size:"small",text:"Save",type:"primary",onClick:this.props.onSave,isDisabled:t||this.props.isSaving||this.props.isSaved,tooltip:this.getSchemaSaveTooltip(),isLoading:this.props.isSaving}),o.createElement(a.default,{className:"schema-editor-options__cancel",size:"small",text:"Cancel",type:"secondary",onClick:this.props.onCancel,isDisabled:this.props.isSaving||this.props.isSaved})):o.createElement(o.Fragment,null,this.state.showRFA&&o.createElement(a.default,{className:"schema-editor-options__request-access",size:"small",text:"Request Access",type:"primary",onClick:this.props.onRequestAccess,isDisabled:t,tooltip:this.getSchemaRFATooltip()}))),i?o.createElement(E.Dropdown,{onSelect:this.props.onLanguageSelect},o.createElement(E.DropdownButton,{size:"small"},o.createElement(g.Button,{className:"btn btn-text new-schema-editor-options__normal-btn language-selector-btn"},o.createElement("span",null,s))),o.createElement(E.DropdownMenu,{fluid:!0},h().map(v.LANGUAGE_MAP,((e,t)=>o.createElement(E.MenuItem,{refKey:t,key:t,disabled:!h().includes(v.SCHEMA_FORMAT_SUPPORTED_LANGUAGE[this.props.activeFormat],t),disabledText:"Your current schema format does not support this language"},o.createElement("span",null,e)))))):o.createElement("span",{className:"new-schema-editor-options__active-language"},s),o.createElement(g.Button,{className:"new-schema-editor-options__beautify-button",onClick:this.props.onBeautify,tooltip:this.getBeautifyTooltip(),disabled:!h().includes(v.BEAUTIFY_SUPPORTED_LANGUAGES,this.props.activeLanguage)},o.createElement(l.default,{name:"icon-action-pretty-stroke",className:"pm-icon pm-icon-normal"})),o.createElement(g.Button,{onClick:this.props.onLineWrap,tooltip:"Wrap text",className:this.getWrapButtonClasses()},o.createElement(l.default,{name:"icon-action-wrap-stroke",className:"pm-icon pm-icon-normal"})),o.createElement(a.default,{type:"tertiary",onClick:()=>{this.copyIconController(),this.props.onCopy()},tooltip:o.createElement(r.default,{content:this.state.isDataCopySuccess?"Copied!":"Copy"}),icon:this.state.isDataCopySuccess?o.createElement(c.default,{color:"content-color-success"}):o.createElement(d.default,null),className:"pm-icon pm-icon-normal"}),o.createElement(g.Button,{onClick:this.props.onFindWidgetToggle,tooltip:"Search"},o.createElement(l.default,{name:"icon-action-search-stroke",className:"pm-icon pm-icon-normal"})))}})||i},"../../packages/api-design/schema-editor/src/components/SchemaDefinition/FileEditorView.js":function(e,t,s){"use strict";s.r(t),s.d(t,{FileEditorView:function(){return v}});var i,o=s("../../node_modules/react/index.js"),n=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),l=s("../../node_modules/lodash/lodash.js"),c=s.n(l),d=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),p=s("../../packages/api-design/schema-editor/src/components/SchemaDefinition/FileEditorContainer.js"),h=s("./js/utils/ClipboardHelper.js"),m=s("../../packages/api-design/schema-editor/src/components/DefineCategoryLoader.js"),u=s("../../packages/api-design/schema-editor/src/constants/SchemaEditorModes.js"),g=s("../../packages/api-design/schema-editor/src/components/SchemaDefinition/ErrorState.js");const E=pm.logger.getContext("FileEditorView","api-design");let v=(0,d.observer)(i=class extends o.Component{constructor(e){super(e),this.state={lineWrap:null,isLoading:!1,isError:null,errorType:null,language:null,type:null,content:null},this.copyEditorValue=this.copyEditorValue.bind(this),this.toggleLineWrap=this.toggleLineWrap.bind(this),this.initSchemaEditorView=this.initSchemaEditorView.bind(this),this.updateErrorStatus=this.updateErrorStatus.bind(this),this.updateIsLoading=this.updateIsLoading.bind(this),this.handleValueChange=this.handleValueChange.bind(this),this.handleLanguageChange=this.handleLanguageChange.bind(this),this.handleTypeChange=this.handleTypeChange.bind(this),this.saveChanges=this.saveChanges.bind(this),this.cancelChanges=this.cancelChanges.bind(this)}componentDidMount(){var e;this.initSchemaEditorView(),null!==(e=this.props.controller)&&void 0!==e&&e.isAutoSaveEnabled&&this.getAutoSaveSubscription()}componentWillUnmount(){this.definitionWebsocketProvider&&this.definitionWebsocketProvider.disconnect()}async getAutoSaveSubscription(){var e;null===(e=this.props.controller)||void 0===e||e.setIsInitializingAutoSave(!0);try{var t,i,o;const{DefinitionFileEventsSubscription:e}=await s.e(2).then(s.bind(s,"./schema/services/yjsUtils.js"));this.autoSaveSubscription=new e(null===(t=this.props.controller)||void 0===t||null===(i=t.store)||void 0===i?void 0:i.id,null===(o=this.props.controller)||void 0===o?void 0:o.fileId),await this.autoSaveSubscription.open()}catch(e){var n;pm.logger.error("FileHeaderView~getAutoSaveSubscription",e,{context:E}),null===(n=this.props.controller)||void 0===n||n.setErrorInitialisingAutoSave(!0)}finally{var a;null===(a=this.props.controller)||void 0===a||a.setIsInitializingAutoSave(!1)}}async initializeAutoSave(){try{const{DefinitionWebsocketProvider:e}=await s.e(2).then(s.bind(s,"./schema/services/yjsUtils.js"));this.definitionWebsocketProvider=new e({apiDefinitionId:c().get(this.props,"controller.store.id"),itemId:c().get(this.props,"controller.fileId"),subscription:this.autoSaveSubscription,saveHandler:this.saveChanges,editorInstance:this.textEditor}),await this.definitionWebsocketProvider.connect(this.editor)}catch(t){var e;pm.logger.error("FileHeaderView~initializeAutoSave",t,{context:E}),null===(e=this.props.controller)||void 0===e||e.setErrorInitialisingAutoSave(!0)}}setEditorInstance(e){var t;null!==(t=this.props.controller)&&void 0!==t&&t.isAutoSaveEnabled&&(this.textEditor=e,this.initializeAutoSave())}initSchemaEditorView(){this.setState({lineWrap:!1,isError:!1})}updateIsLoading(e){this.setState({isLoading:e})}updateErrorStatus(e,t){this.setState({isError:e,errorType:t})}handleValueChange(e){this.props.controller.content=e}handleLanguageChange(e){this.props.controller.changeLanguage(e)}copyEditorValue(){const e=this.props.controller.content;h.default.copy(e)}async saveChanges(e){try{const t=c().get(this.props.controller,"file.id"),s=c().get(this.props.controller,"content"),i=c().get(this.props.controller,"file.language"),o=c().get(this.props.controller,"type");this.props.controller&&await this.props.controller.saveFile(e)&&this.props.controller.handleIncomingUpdates({fileId:t,content:s,type:o,language:i})}catch(e){pm.logger.error("FileEditorView.saveChanges",e,{context:E}),(0,n.toast)({status:"error",description:"Couldn’t update file. Try again."})}}cancelChanges(){this.props.controller.clearTrackedUpdates(!0)}toggleLineWrap(){this.setState((e=>({lineWrap:!e.lineWrap})))}handleTypeChange(e){this.props.controller.setType(e)}renderContent(){var e,t;return this.state.isError?1===this.state.errorType?o.createElement(g.default,{title:"No Schema",description:"The editors haven't added an API schema",illustration:o.createElement(a.default,null)}):o.createElement(g.default,{title:"Unable to load",description:"Hit a snag while loading schema. Please try again",buttonText:"Try Again",handler:this.handleRetry,illustration:o.createElement(r.default,null)}):this.state.isLoading||this.props.mode===u.FILE_MODE&&(!this.props.controller||!this.props.controller.language)||null!==(e=this.props.controller)&&void 0!==e&&e.isAutoSaveEnabled&&this.props.controller.isInitializingAutoSave?o.createElement(m.default,null):o.createElement(p.default,{value:this.props.controller.content,lineWrap:this.state.lineWrap,store:this.props.store,controller:this.props.controller,activeLanguage:this.props.controller.language,activeFormat:this.props.store.type,copyEditorValue:this.copyEditorValue,toggleLineWrap:this.toggleLineWrap,schemaId:c().get(this.props,"schemaId"),mode:this.props.mode,onChange:this.handleValueChange,onSave:this.saveChanges,onCancel:this.cancelChanges,isSaved:!this.props.controller.isDirty,isSaving:this.props.controller.isSaving,canUpdateFile:this.props.controller.canUpdateFile,isAutoSaveEnabled:null===(t=this.props.controller)||void 0===t?void 0:t.isAutoSaveEnabled,onLanguageSelect:this.handleLanguageChange,onFormatSelect:this.handleTypeChange,fileId:this.props.controller.fileId,setEditorInstance:this.setEditorInstance.bind(this)})}render(){return o.createElement("div",{className:"schema-editor-view"},o.createElement("div",{className:"schema-editor-view__content"},this.renderContent()))}})||i},"../../packages/api-design/schema-editor/src/components/UnsavedFileChangesWarningModal.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var i=s("../../node_modules/react/index.js"),o=s("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),n=s("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js");function r(e){return i.createElement(o.Modal,{isOpen:!0,onClose:e.onCancel,size:"small"},i.createElement(o.ModalHeader,{heading:"This tab has unsaved changes"}),i.createElement(o.ModalContent,null,i.createElement("div",{className:"unsaved-changes-warning-modal-content"},"This file ",i.createElement("b",null,e.fileName)," has unsaved changes. Your changes will be saved once you're back online. Closing this tab will result in losing all changes made.")),i.createElement(o.ModalFooter,{className:"unsaved-changes-warning-modal-footer"},i.createElement(n.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-m"},i.createElement(a.default,{type:"secondary",onClick:e.onCancel,text:"Cancel"}),i.createElement(a.default,{type:"destructive",onClick:e.onDiscard,text:"Close Tab And Discard Changes"}))))}},"../../packages/api-design/schema-editor/src/constants/FileWorkbenchConstants.js":function(e,t,s){"use strict";s.r(t),s.d(t,{CONFLICTED:function(){return i},DELETED:function(){return o}});const i="updated",o="deleted"},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/APISourceControlContextBarIcon.js":function(e,t,s){"use strict";s.r(t);var i=s("../../node_modules/react/index.js"),o=s("./node_modules/prop-types/index.js"),n=s.n(o),a=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=s("./node_modules/classnames/index.js"),l=s.n(r),c=s("./api-dev/navigation/constants.js"),d=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),p=s("./api-dev/stores/api-repository/PollingRemoteHeadDetailsStore.js"),h=s("./js/stores/StoreManager.js"),m=s("./js/services/NavigationService.js"),u=s("./api-dev/interfaces/APIInterface.js"),g=s("./node_modules/lodash/lodash.js");const E="contextBar",v=i.forwardRef((({handleShowTooltip:e,handleHideTooltip:t,apiRepositoryStore:s},o)=>{var n;const a=g.get(s,"sourceControlStore"),r=g.get(a,"shouldShowContextBarIconIndicator",!1),v=m.default.getCurrentURL(),f=null===m.default||void 0===m.default||null===(n=m.default.getCurrentRouteParams())||void 0===n?void 0:n.apiId;return(0,i.useEffect)((()=>{const e=(0,h.resolveStoreInstance)(p.default);return async function(){const t=f&&await(0,u.isAPIGitLinked)(f),s=f&&await(0,u.hasAPIMigrated)(f);f&&t&&s&&e.startPolling(f,E)}(),()=>{e.stopPolling(f,E)}}),[v]),i.createElement("div",{className:`tabs__${c.SOURCE_CONTROL_NAV} icon-container`,ref:o,onMouseEnter:e,onMouseLeave:t},i.createElement(d.default,{name:"icon-descriptive-branch-stroke",className:(I=r,l()({"api-source-control__context-bar-icon--unread":I}))}));var I}));v.propTypes={handleShowTooltip:n().func.isRequired,handleHideTooltip:n().func.isRequired,apiRepositoryStore:n().object.isRequired},t.default=(0,a.observer)(v)},"./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/SourceControlUtils.js":function(e,t,s){"use strict";s.r(t),s.d(t,{API_SOURCE_CONTROL:function(){return a},getRepoLinkedAPI:function(){return r},getRepoStoreForGitLinkedAPI:function(){return l}});var i=s("./js/stores/StoreManager.js"),o=s("./api-dev/stores/APIListStore.js"),n=s("./node_modules/lodash/lodash.js");const a="api-version-source-control";function r(e,t){if(!e||!t)return null;const s=(0,i.resolveStoreInstance)(o.default);if(!s.isLoaded)return null;let a=null;for(const i of s.values){const s=i.childEntities.values[0],o=n.get(s,"apiRepositoryStore"),r=n.get(o,"apiVersionRepositoryInterface");if(n.get(r,"isAvailable")&&n.get(r,"remoteGitConfigured")&&"collections"===t){const t=n.get(o,"entityHandlers.collections.collectionFileIdAgainstPath");if(!n.isEmpty(t)&&t.has(e)){a=o;break}}}return a}function l(e){if(!e)return null;const t=(0,i.resolveStoreInstance)(o.default);if(!t.isLoaded)return null;const s=t.find(e),a=n.head(s.childEntities.values).id,r=s.childEntities.find(a),l=n.get(r,"apiRepositoryStore");return n.get(l,"apiVersionRepositoryInterface.remoteGitConfigured")?l:null}},"./api-dev/stores/api-repository/PollingRemoteHeadDetailsStore.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return v}});var i,o,n,a,r,l=s("./js/stores/StoreManager.js"),c=s("./api-dev/stores/APIListStore.js"),d=s("../../node_modules/node-polyfill-webpack-plugin/node_modules/timers-browserify/main.js"),p=s("./onboarding/src/common/LaunchDarkly.js"),h=s("../../node_modules/mobx/lib/mobx.module.js"),m=s("./node_modules/lodash/lodash.js");function u(e,t,s,i){s&&Object.defineProperty(e,t,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(i):void 0})}function g(e,t,s,i,o){var n={};return Object.keys(i).forEach((function(e){n[e]=i[e]})),n.enumerable=!!n.enumerable,n.configurable=!!n.configurable,("value"in n||n.initializer)&&(n.writable=!0),n=s.slice().reverse().reduce((function(s,i){return i(e,t,s)||s}),n),o&&void 0!==n.initializer&&(n.value=n.initializer?n.initializer.call(o):void 0,n.initializer=void 0),void 0===n.initializer&&(Object.defineProperty(e,t,n),n=null),n}const E="store";let v=(o=g((i=class{constructor(){u(this,"activePollingAPI",o,this),u(this,"timerObject",n,this),u(this,"apiSourceMap",a,this),u(this,"startPollingForAPI",r,this)}setActivePollingAPI(e){this.activePollingAPI=e}setTimerObject(e){this.timerObject=e}setSource(e,t){const s=this.apiSourceMap[e]||[];m.includes(s,t)||(s.push(t),this.apiSourceMap[e]=s)}clearSource(e,t){const s=this.apiSourceMap[e]||[];-1!==s.indexOf(t)&&(this.apiSourceMap[e]=m.filter(s,(e=>e!==t)))}clearAPIAndSources(e){delete this.apiSourceMap[e]}clear(){this.setTimerObject(null),this.setActivePollingAPI(null)}stopPolling(e,t){if(e&&t)if(this.activePollingAPI===e){const s=this.apiSourceMap[e];t===E||m.isEmpty(s)||1===m.size(s)&&s[0]===t?((0,d.clearInterval)(this.timerObject),this.clear(),this.clearAPIAndSources(e),pm.logger.info(`APIPollingStore~stopPolling: Stopped Polling for ${e}`)):this.clearSource(e,t)}else this.clearSource(e,t)}startPolling(e,t){e&&t&&(this.setSource(e,t),e!==this.activePollingAPI&&this.startPollingForAPI(e,t))}}).prototype,"activePollingAPI",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n=g(i.prototype,"timerObject",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=g(i.prototype,"apiSourceMap",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g(i.prototype,"setActivePollingAPI",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"setActivePollingAPI"),i.prototype),g(i.prototype,"setTimerObject",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"setTimerObject"),i.prototype),g(i.prototype,"setSource",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"setSource"),i.prototype),g(i.prototype,"clearSource",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"clearSource"),i.prototype),g(i.prototype,"clearAPIAndSources",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"clearAPIAndSources"),i.prototype),g(i.prototype,"clear",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"clear"),i.prototype),g(i.prototype,"stopPolling",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"stopPolling"),i.prototype),r=g(i.prototype,"startPollingForAPI",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.debounce((e=>{this.activePollingAPI&&this.stopPolling(this.activePollingAPI,E);const t=p.launchDarkly.getFlag("api-git-sync-status-pull-delay",0);if(0!==t){var s;this.setActivePollingAPI(e);const i=(0,l.resolveStoreInstance)(c.default).find(this.activePollingAPI),o=null===(s=m.head(i.childEntities.values))||void 0===s?void 0:s.id,n=i.childEntities.find(o);this.apiRepositoryStore=m.get(n,"apiRepositoryStore"),pm.logger.info(`APIPollingStore~startPolling: Started Polling for ${e}`),this.apiRepositoryStore.sourceControlStore.init();const a=(0,d.setInterval)((()=>{m.isFunction(this.apiRepositoryStore.sourceControlStore.getLatestRemoteHead)&&this.apiRepositoryStore.sourceControlStore.getLatestRemoteHead()}),t);this.setTimerObject(a)}}),2e3)}}),g(i.prototype,"startPolling",[h.action],Object.getOwnPropertyDescriptor(i.prototype,"startPolling"),i.prototype),i)},"./appsdk/contextbar/ContextBar.js":function(e,t,s){"use strict";s.r(t),s.d(t,{ContextBarPane:function(){return S}});var i,o=s("../../node_modules/react/index.js"),n=s("./appsdk/contextbar/ContextBarService.js"),a=s("./appsdk/contextbar/ContextBarHeader.js"),r=s("./js/constants/Panes.js"),l=s("./js/components/base/Panes.js"),c=s("./node_modules/classnames/index.js"),d=s.n(c),p=s("./js/components/empty-states/AetherCrashHandler.js"),h=s("./js/components/base/XPaths/XPath.js"),m=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=s("./js/constants/AppSettingsDefaults.js"),g=s("../../node_modules/mobx/lib/mobx.module.js"),E=s("./appsdk/contextbar/ContextBarUtil.js"),v=s("./js/stores/StoreManager.js"),f=s("./js/stores/ActiveWorkspaceSessionStore.js"),I=s("./node_modules/lodash/lodash.js");const _="auto";let S=(0,m.observer)(i=class extends l.Pane{constructor(e){super(e),this.contextBarService=new n.ContextBarService,this.handleSelect=this.handleSelect.bind(this),this.handleContextChange=this.handleContextChange.bind(this),this.handleClose=this.handleClose.bind(this),this.state={...this.state,collapsedX:!0},this.isOpen=!1}getContextForUrlIdentifier(e){return this.props.allowedContexts.find((t=>this.contextBarService.getConfig(t).urlIdentifier===e))}getUrlIdentifierForContext(e){return this.contextBarService.getConfig(e).urlIdentifier}getDimensions(e){return super.getDimensions({...e,width:{collapsedByDefault:true,shouldResistResize:true,default:440,collapsed:48,uncollapsed:440,min:u.default.ui.CONTEXT_BAR_MIN_WIDTH,max:_}})}componentDidMount(){let e=this.getContextForUrlIdentifier(this.contextBarService.activeContextUrlIdentifier)||this.props.allowedContexts&&this.props.allowedContexts[0];this.lastActive=e;let t=I.get(this.props,"collapsedByDefault",!0),s=(0,v.resolveStoreInstance)(f.default).activeEditor;!t&&this.props.editorId===s&&(0,E.updateContextQueryParams)(this.getUrlIdentifierForContext(e)),this.activeContextAutoRun=(0,g.autorun)((()=>{const e=this.contextBarService.getContextBarQueryParam(this.props.editorId);let t=this.getContextForUrlIdentifier(e);t!==this.state.activeContext&&this.setContext(t,!!t)}))}componentWillUnmount(){this.props.allowedContexts.forEach((e=>{this.contextBarService.willDestroy(e)})),this.activeContextAutoRun&&this.activeContextAutoRun()}componentDidUpdate(){this.contextBarService.pruneControllers(this.props.allowedContexts),this.isOpen&&this.state.collapsedX?(this.isOpen=!this.state.collapsedX,(0,E.removeContextQueryParams)()):this.isOpen||this.state.collapsedX||(this.isOpen=!this.state.collapsedX,this.state.activeContext||(0,E.updateContextQueryParams)(this.getUrlIdentifierForContext(this.lastActive)))}handleSelect(e){this.setContext(e,!0)}handleContextChange(e){(0,E.updateContextQueryParams)(this.getUrlIdentifierForContext(e))}setContext(e,t=!1){let s=this.state.activeContext;return new Promise((i=>{this.setState({activeContext:e},(()=>Promise.all([this.contextBarService.getControllerFor(e,this.props.contextData),this.contextBarService.getViewFor(e)]).then((([t,o])=>{e===this.state.activeContext&&this.setState({activeController:t,ActiveView:o},(()=>(this.contextBarService.didDeactivate(s),this.contextBarService.didActivate(this.state.activeContext),i())))})).then((()=>{this.state.activeContext&&(this.lastActive=this.state.activeContext),t?this.unCollapse("x"):this.collapse("x")}))))}))}handleClose(){this.collapse("x"),this.props.onClose&&this.props.onClose()}render(){let e=this.state.ActiveView,t=this.props.allowedContexts||this.props.visibleContexts,s=this.contextBarService.getConfig(this.state.activeContext),i=this.state.activeController;const n=d()({pane:!0,resizableX:this.isResizable("x"),resizableY:this.isResizable("y"),collapsedX:this.state.collapsedX,collapsedY:this.state.collapsedY},"right-context-bar"),c={height:this.state.height,width:this.state.width,...this.props.style||{}};return o.createElement(h.default,{identifier:"contextBar"},o.createElement("div",{className:n,style:c},o.createElement(p.default,null,o.createElement(l.PaneHeader,{defaultLayout:r.PANE_LAYOUT_VERTICAL,verticalComponent:o.createElement(a.ContextBarHeader,{visibleContexts:t,onSelect:this.handleContextChange,contextBarService:this.contextBarService,activeContext:this.state.activeContext,width:this.state.width,contextData:this.props.contextData}),isCollapsedX:this.state.collapsedX,isCollapsedY:this.state.collapsedY,onCollapseToggle:this.handleCollapseToggle}),o.createElement(l.PaneContent,{isCollapsedX:this.state.collapsedX,isCollapsedY:this.state.collapsedY},this.state.width?o.createElement("div",{className:"right-context-bar-content-container"},e&&s&&o.createElement(p.default,{onClose:this.handleClose},o.createElement(e,{contextData:this.props.contextData,title:s.title,onClose:this.handleClose,controller:i,editorId:this.props.editorId}))):null))))}})||i;S.defaultProps={width:{collapsedByDefault:true,shouldResistResize:true,default:440,collapsed:48,uncollapsed:440,min:350,max:_}}},"./appsdk/contextbar/ContextBarHeader.js":function(e,t,s){"use strict";s.r(t),s.d(t,{ContextBarHeader:function(){return g}});var i,o=s("../../node_modules/react/index.js"),n=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),a=s("./js/components/base/Tooltips.js"),r=s("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=s("./node_modules/classnames/index.js"),c=s.n(l),d=s("./js/components/base/XPaths/XPath.js"),p=s("./growth/foundation/public/amplitude/AmplitudeService.js"),h=s("./api-dev/navigation/constants.js"),m=s("./api-dev/components/api-version/context-bar/api-source-control/APISourceControlContextBarView/APISourceControlContextBarIcon.js"),u=s("./node_modules/lodash/lodash.js");let g=(0,r.observer)(i=class extends o.Component{constructor(e){super(e),this.state={},this.tooltipTargets={},this.handleShowTooltip=this.handleShowTooltip.bind(this),this.handleHideTooltip=this.handleHideTooltip.bind(this)}componentWillUnmount(){clearTimeout(this.titleTooltip)}handleShowTooltip(e){this.titleTooltip=setTimeout((()=>{this.setState({[e]:!0})}),500)}handleHideTooltip(e){clearTimeout(this.titleTooltip),this.state[e]&&this.setState({[e]:!1})}render(){let e=this.props.visibleContexts;const t=e=>e.name===h.SOURCE_CONTROL_NAV?o.createElement(m.default,{ref:t=>{this.tooltipTargets[e.name]=t},apiRepositoryStore:u.get(this.props,"contextData.apiRepositoryStore")||u.get(this.props,"contextData.model.apiRepositoryStore"),handleShowTooltip:this.handleShowTooltip.bind(null,e.name),handleHideTooltip:this.handleHideTooltip.bind(null,e.name)}):o.createElement("div",{className:`tabs__${e.name} icon-container`,ref:t=>{this.tooltipTargets[e.name]=t},onMouseEnter:this.handleShowTooltip.bind(null,e.name),onMouseLeave:this.handleHideTooltip.bind(null,e.name)},o.createElement(n.default,{name:e.icon}));return o.createElement("div",{className:"right-context-bar-options"},o.createElement("ul",null,e.map((e=>{let s=this.props.contextBarService.getConfig(e);return s?o.createElement(d.default,{key:s.name,identifier:s.name},o.createElement("li",{key:s.name,onClick:()=>{this.props.onSelect(s.name),p.Ampli.contextBarListItemClicked({item_name:s.name,...(0,p.getAmpliCTAProperties)({ctaType:"other"})})},className:c()({active:s.name===this.props.activeContext&&this.props.width>300})},o.createElement(o.Fragment,{key:s.name},t(s),o.createElement(a.Tooltip,{show:s&&this.state[s.name],target:s&&this.tooltipTargets[s.name],placement:"left",immediate:!0},o.createElement(a.TooltipBody,null,s&&s.title))))):null}))))}})||i},"./appsdk/contextbar/ContextBarService.js":function(e,t,s){"use strict";s.r(t),s.d(t,{ContextBarService:function(){return h}});var i,o=s("./appsdk/contextbar/ContextBarRegistry.js"),n=s("./js/services/NavigationService.js"),a=s("../../node_modules/mobx/lib/mobx.module.js"),r=s("./js/utils/NavigationUtil.js"),l=s("./appsdk/contextbar/ContextBarUtil.js"),c=(s("./js/containers/scratchpad/ContextBarScratchPadSignInPromptContainer.js"),s("./appsdk/workbench/WorkbenchService.js")),d=s("./node_modules/lodash/lodash.js"),p=s("../../node_modules/console-browserify/index.js");let h=(m=(i=class{constructor(){this._contextBarRegistry=o.default,this._controllerCache=new Map}get activeContextUrlIdentifier(){let e=n.default.currentURL.get(),{queryString:t}=(0,r.getUrlParts)(e);const s=(0,r._getQueryStringParams)(t);return s&&s[l.CONTEXT_BAR_QUERY_STRING_KEY]?s[l.CONTEXT_BAR_QUERY_STRING_KEY]:null}getContextBarQueryParam(e){return c.default.getTabController(e).contextBarQueryParam}pruneControllers(e){let t=new Set(e);for(let e of this._controllerCache.keys())t.has(e)||(this.willDestroy(e),this._controllerCache.delete(e))}getConfig(e){return this._contextBarRegistry._store.get(e)}getControllerFor(e,t){if(this._controllerCache.has(e))return this._controllerCache.get(e);let s=this.getConfig(e);if(!s)return;let i=s.getController;return i&&d.isFunction(i)?i().then((s=>{let i=new(0,s.default);this._controllerCache.set(e,i);try{i.didCreate&&i.didCreate(t)}catch(t){p.warn("ContextBarService: There was an error in the didCreate lifecycle of "+e)}return i})):void 0}getViewFor(e){let t=this.getConfig(e);return t&&t.getView().then((e=>e.default))}didActivate(e){this._triggerLifecycleMethod("didActivate",e)}didDeactivate(e){this._triggerLifecycleMethod("didDeactivate",e)}willDestroy(e){this._triggerLifecycleMethod("willDestroy",e)}_triggerLifecycleMethod(e,t){let s=this._controllerCache.get(t);if(s)try{s[e]&&s[e]()}catch(s){p.warn(`ContextBarService: There was an error in the ${e} lifecycle of ${t}`)}}}).prototype,u="activeContextUrlIdentifier",g=[a.computed],E=Object.getOwnPropertyDescriptor(i.prototype,"activeContextUrlIdentifier"),v=i.prototype,f={},Object.keys(E).forEach((function(e){f[e]=E[e]})),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=g.slice().reverse().reduce((function(e,t){return t(m,u,e)||e}),f),v&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(v):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(m,u,f),f=null),i);var m,u,g,E,v,f},"./js/components/status-bar/TypeSwitcher.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var i=s("../../node_modules/react/index.js"),o=(s("../../node_modules/mobx-react/dist/mobx-react.module.js"),s("../../node_modules/mobx/lib/mobx.module.js"),s("./node_modules/classnames/index.js")),n=s.n(o),a=(s("./js/modules/services/AnalyticsService.js"),s("./js/constants/AppUrlConstants.js"),s("./js/components/status-bar/WorkspaceTypeSwitcherIntro.js"),s("./js/components/base/Tooltips.js")),r=s("./js/components/base/XPaths/XPath.js"),l=s("./node_modules/lodash/lodash.js");class c extends i.Component{constructor(e){super(e),this.state={isTooltipVisible:{}},this.showTooltip=this.showTooltip.bind(this),this.hideTooltip=this.hideTooltip.bind(this)}getSwitchClasses(e){return n()({"plugin__workspace-view-switcher__switch":!0,left:e===this.props.items[0].key,right:e===this.props.items[1].key})}getActiveItemClasses(e){let t=`plugin__workspace-view-switcher__switch__item--${e}`;return n()({"plugin__workspace-view-switcher__switch__item":!0,[t]:!0})}getWrapperClasses(){return n()({"plugin__workspace-view-switcher__wrapper":!0,disabled:this.props.disabled})}getActiveItemLabel(){let e=l.find(this.props.items,["key",this.props.activeItem]);return e?e.label:""}handleSelect(e){!this.props.disabled&&this.props.onSelect&&this.props.onSelect(e)}showTooltip(e){this.setState((t=>(t.isTooltipVisible[e.key]=this.props.activeItem!==e.key,t)))}hideTooltip(e){this.setState((t=>(t.isTooltipVisible[e.key]=!1,t)))}render(){return i.createElement(r.default,{identifier:"workspaceViewToggle"},i.createElement("div",null,i.createElement("div",{className:this.getWrapperClasses()},i.createElement("div",{className:this.getSwitchClasses(this.props.activeItem)},i.createElement("span",{className:"plugin__workspace-view-active-item"},this.getActiveItemLabel())),l.map(this.props.items,(e=>i.createElement("span",{ref:e.key,key:e.key,onClick:this.handleSelect.bind(this,e.key),className:this.getActiveItemClasses(e.position),onMouseEnter:this.props.isTooltipEnabled&&this.showTooltip.bind(this,e)||l.noop,onMouseLeave:this.props.isTooltipEnabled&&this.hideTooltip.bind(this,e)||l.noop},e.label,this.props.isTooltipEnabled&&i.createElement(a.Tooltip,{show:l.get(this.state,`isTooltipVisible[${e.key}]`,!1),target:l.get(this.refs,`[${e.key}]`),placement:this.props.placement,immediate:!0},i.createElement(a.TooltipBody,null,l.get(e,"tooltipText",this.props.tooltipText)))))))))}}c.defaultProps={isTooltipEnabled:!1,placement:"right",tooltipText:""}},"./js/components/status-bar/WorkspaceTypeSwitcherIntro.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var i=s("../../node_modules/react/index.js"),o=s("./js/components/base/Tooltips.js"),n=s("./js/components/base/Buttons.js");class a extends i.Component{render(){return i.createElement(o.Tooltip,{show:this.props.show,target:this.props.refElement,placement:"top-left",className:"workspace-type-switcher__intro__wrap"},i.createElement(o.TooltipBody,null,i.createElement("div",{className:"workspace-type-switcher__intro"},i.createElement("div",{className:"workspace-type-switcher__intro__title"},"You're now browsing this workspace"),i.createElement("div",{className:"workspace-type-switcher__intro__description"},"The Browse view allows you to navigate all elements inside a workspace without joining it. Join a workspace to work on everything inside it."),i.createElement("div",{className:"workspace-type-switcher__intro__learn-more"},i.createElement(n.Button,{type:"text",onClick:this.props.onLearnMore},"Learn more about browsing a workspace")),i.createElement("div",{className:"workspace-type-switcher__intro__primary-btn"},i.createElement(n.Button,{type:"primary",size:"large",onClick:this.props.onHide},"Okay, got it!")))))}}},"./js/containers/scratchpad/ContextBarScratchPadSignInPromptContainer.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var i=s("../../node_modules/react/index.js"),o=s("./appsdk/contextbar/ContextBarViewHeader.js"),n=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),a=s("./js/components/base/Text.js"),r=s("./js/components/base/Buttons.js"),l=s("./js/services/ScratchpadService.js");class c extends i.Component{handleWorkspaceSwitch(){l.default.switchToWorkspace()}render(){return i.createElement("div",null,i.createElement(o.ContextBarViewHeader,{title:this.props.title,onClose:this.props.onClose}),i.createElement("div",{className:"contextbar-signin-prompt-state"},i.createElement("div",{className:"contextbar-signin-prompt-state__icon-container"},i.createElement(n.default,{className:"contextbar-signin-prompt-state__icon",size:"large",color:"content-color-tertiary",name:this.props.icon})),i.createElement("div",{className:"contextbar-signin-prompt-state__title"},i.createElement("h4",null,"Switch to a workspace to use this feature")),i.createElement("div",{className:"contextbar-signin-prompt-state__body"},i.createElement(a.default,{type:"body-medium",value:"This is an online feature and is only available in workspaces."})),i.createElement(r.Button,{className:"contextbar-signin-prompt-state__switch-action",size:"large",onClick:this.handleWorkspaceSwitch,type:"primary"},"Switch to Workspaces")))}}},"./schema/components/DefinitionWorkbenchAPIRedirectView.js":function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var i=s("../../node_modules/react/index.js"),o=s("./node_modules/prop-types/index.js"),n=s.n(o),a=s("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),l=s("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoPermission.js"),c=s("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=s("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),h=s("./js/stores/StoreManager.js"),m=s("./collaboration/workspace/model/ActiveWorkspaceBaseStore.ts"),u=s("./collaboration/workspace/types/WorkspaceTypes.ts"),g=s("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),E=s("./node_modules/lodash/lodash.js");const v=(0,p.default)("div")`
  margin-top: var(--spacing-l);
  overflow-y: scroll;
`,f=(0,p.default)(a.default)`
  margin-right: var(--spacing-l);
`;class I extends i.Component{get message(){if((0,h.resolveStoreInstance)(m.default).visibilityStatus===u.VISIBILITY_STATUS.public){const e={title:"This state of the definition is unavailable",body:"This state of the definition hasn’t been published as a version yet. You can only view published versions.",illustration:i.createElement(r.default,null)};return this.props.hasConsumerVersion&&(e.primaryCTA={text:"View Latest Version",onClick:()=>this.props.onRedirect()}),e}return"redirect"===this.props.type?{title:"Need additional access",body:"You don’t have permission to view this state of the definition.\nRequest edit access or view the latest version of this definition.",illustration:i.createElement(l.default,null),primaryCTA:{text:"Request Edit Access",onClick:()=>this.props.onRequestAccess()},secondaryCTA:{text:"View Latest Version",onClick:()=>this.props.onRedirect()}}:{title:"This API doesn’t have any published versions",body:"You can only view published versions of an API.\nRequest for edit access to build this API with your teammates.",illustration:i.createElement(r.default,null),primaryCTA:{text:"Request Edit Access",onClick:()=>this.props.onRequestAccess()}}}render(){var e,t,s,o,n,a;return i.createElement("div",{className:"entity-tab-error"},i.createElement("div",{className:"entity-tab-error__content"},this.props.icon?i.createElement("div",{className:"entity-tab-error__content__illustration"},i.createElement(g.default,{className:"entity-tab-error__content__illustration__icon",name:this.props.icon||E.get(this.message,"icon"),color:"content-color-tertiary",size:"large"})):i.createElement("div",{className:"entity-tab-error__content__illustration-wrapper"},E.get(this.message,"illustration")),i.createElement("div",{className:"entity-tab-error__content__title"},i.createElement(c.default,{type:"h4",text:this.props.title||E.get(this.message,"title")||this.message.error.title})),i.createElement("div",{className:"entity-tab-error__content__body"},i.createElement(d.default,{type:"body-medium"},this.props.message||E.get(this.message,"body")||this.message.error.body)),i.createElement(v,null,(null===(e=this.message)||void 0===e?void 0:e.primaryCTA)&&i.createElement(f,{type:"primary",size:"medium",text:null===(t=this.message)||void 0===t||null===(s=t.primaryCTA)||void 0===s?void 0:s.text,onClick:()=>{var e,t;return null===(e=this.message.primaryCTA)||void 0===e||null===(t=e.onClick)||void 0===t?void 0:t.call(e)}}),(null===(o=this.message)||void 0===o?void 0:o.secondaryCTA)&&i.createElement(f,{type:"outline",size:"medium",text:null===(n=this.message)||void 0===n||null===(a=n.secondaryCTA)||void 0===a?void 0:a.text,onClick:()=>{var e,t;return null===(e=this.message.secondaryCTA)||void 0===e||null===(t=e.onClick)||void 0===t?void 0:t.call(e)}}))))}}I.defaultProps={type:"noPermission",title:null,message:null,icon:null,hasConsumerVersion:!1,onRequestAccess:()=>{},onRedirect:()=>{}},I.propTypes={type:n().oneOf(["noPermission","redirect"]),title:n().string,message:n().string,icon:n().string,onRequestAccess:n().func,onRedirect:n().func,hasConsumerVersion:n().bool}},"./schema/constants/Constants.js":function(e,t,s){"use strict";s.r(t),s.d(t,{INTERMEDIATE_DEFINITION_VIEW:function(){return o},resourceTypeEnum:function(){return i}});const i={APIDEFINITION:"apiDefinition",SCHEMA:"schema"},o={API_NO_PERMISSION:"api-no-permission",API_REDIRECT_CONSUMER_ENTITY:"api-redirect"}}}]);