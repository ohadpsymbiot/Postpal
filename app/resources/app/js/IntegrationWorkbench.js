/*! For license information please see IntegrationWorkbench.js.LICENSE.txt */
"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[39],{"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectComponents.js":function(e,t,n){n.r(t),n.d(t,{DefaultMultiSelectMenuList:function(){return b},MultiSelectChip:function(){return g},MultiSelectChipCloseIcon:function(){return h},MultiSelectChipLabel:function(){return f},MultiSelectOption:function(){return u}});var s=n("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),o=n("../../node_modules/react/index.js"),a=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=n("../../node_modules/@postman/aether/node_modules/react-select/dist/index-c7a4d7ce.esm.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-close-stroke-small.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=["isDisabled","isFocused","children"],d=a.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectOption",componentId:"sc-1e7h8n3-0"})(["display:flex;align-items:center;cursor:pointer;font-size:",";line-height:",";padding:",";border-radius:",";color:",";"," ",""],(function(e){return e.theme["text-size-m"]}),(function(e){return e.theme["line-height-m"]}),(function(e){return"".concat(e.theme["spacing-xs"]," ").concat(e.theme["spacing-m"],";")}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.isFocused&&!e.isDisabled&&"background-color: ".concat(e.theme["highlight-background-color-primary"],";")}),(function(e){return e.isDisabled&&"\n      cursor: not-allowed;\n      color: ".concat(e.theme["content-color-tertiary"],";\n    ")}));function u(e){var t=e.isDisabled,n=e.isFocused,a=e.children,r=(0,s.default)(e,c);return o.createElement(i.c.Option,r,o.createElement(d,{isDisabled:t,isFocused:n},a))}var p=a.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectChipCloseIcon",componentId:"sc-1e7h8n3-1"})(["display:inline-flex;justify-content:center;align-items:center;cursor:pointer;height:",";width:",";margin-left:",";border-top-right-radius:",";border-bottom-right-radius:",";background-color:",";svg path{fill:",";}&:hover{background-color:",";svg path{fill:",";}}"],(function(e){return e.theme["size-s"]}),(function(e){return e.theme["size-s"]}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["content-color-secondary"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["content-color-primary"]}));function h(e){return o.createElement(i.c.MultiValueRemove,e,o.createElement(p,{className:"aether-multiselect-dropdown__multi-value-chip--remove-icon"},o.createElement(r.default,null)))}var m=a.default.div.withConfig({displayName:"CustomMultiSelectComponents__StyledMultiSelectChip",componentId:"sc-1e7h8n3-2"})(["box-sizing:border-box;display:inline-flex;justify-content:center;align-items:center;height:",";padding:",";margin-bottom:",";margin-right:",";color:",";background-color:",";border-radius:",";"],(function(e){return e.theme["size-s"]}),(function(e){return"2px ".concat(e.theme["spacing-zero"]," 2px ").concat(e.theme["spacing-s"])}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["highlight-background-color-tertiary"]}),(function(e){return e.theme["border-radius-default"]}));function g(e){var t=e.children;return o.createElement(m,{className:"aether-multiselect-dropdown__multi-select-chip"},t)}function f(e){var t=e.children;return o.createElement(l.default,{type:"body-medium"},t)}var y=(0,a.default)(i.c.MenuList).withConfig({displayName:"CustomMultiSelectComponents__StyledMenuList",componentId:"sc-1e7h8n3-3"})(["padding:8px;& .aether-multiselect-dropdown__group:not(:last-child){margin-bottom:12px;}& .aether-multiselect-dropdown__group:first-child{padding-top:4px;}"]);function b(e){var t=e.children;return o.createElement(y,e,t)}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectStyles.js":function(e,t,n){n.r(t),n.d(t,{customBaseStyles:function(){return r},postmanSpecificStyles:function(){return i}});var s=n("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i=(0,n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").css)(["& .aether-multiselect-dropdown__single-value{color:",";left:",";right:",";}& .aether-multiselect-dropdown__control{box-sizing:border-box;height:auto;min-height:32px;max-height:72px;overflow-x:hidden;overflow-y:auto;border:",";transition:border-color 0.2s ease-in-out,box-shadow 0.2s ease-in-out;background-color:",";& .aether-multiselect-dropdown__multi-value-chip--remove-icon{display:none;}& .aether-multiselect-dropdown__multi-select-chip{padding-right:",";}& .aether-multiselect-dropdown__value-container,& .aether-multiselect-dropdown__single-value{color:",";}&:hover{border-color:",";}&--is-focused{outline:none;border:",";box-shadow:",";&:hover{border:",";}& .aether-multiselect-dropdown__single-value{right:",";}& .aether-multiselect-dropdown__multi-select-chip{padding-right:",";}& .aether-multiselect-dropdown__multi-value-chip--remove-icon{display:inline-flex;}}&--is-disabled{user-select:none;cursor:not-allowed;background:",";border:",";color:",";& .aether-multiselect-dropdown__dropdown-indicator svg path{fill:",";}& .aether-multiselect-dropdown__multi-select-chip{color:",";}&:hover{border-color:",";}}","}& .aether-multiselect-dropdown__input{color:"," !important;caret-color:",";height:16px;}& .aether-multiselect-dropdown__placeholder{color:",";}& .aether-multiselect-dropdown__dropdown-indicator{svg path{fill:",";}padding:",";}& .aether-multiselect-dropdown__clear-indicator{padding:",";}"],(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["spacing-m"]}),(function(e){return e.theme["spacing-xl"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-default"],";")}),(function(e){return e.theme["background-color-primary"]}),(function(e){return e.theme["spacing-s"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["input-border-color-default"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-focus"],";")}),(function(e){return"0 0 0 2px ".concat(e.theme["input-shadow-focus"],";")}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["input-border-color-focus"],";")}),(function(e){return e.theme["spacing-xxxl"]}),(function(e){return e.theme["spacing-zero"]}),(function(e){return e.theme["input-background-color-disabled"]}),(function(e){return"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-strong"],";")}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["border-color-strong"]}),(function(e){var t=e.validationState;return t.status?"\n          border-color: ".concat(e.theme["input-border-color-".concat(t.status)],";\n\n          &:hover {\n            border-color: ").concat(e.theme["input-border-color-".concat(t.status)],";\n          }\n\n          &--is-focused,\n          &--is-focused:hover {\n            border-color: ").concat(e.theme["input-border-color-focus"],";;\n          }\n        "):""}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["content-color-primary"]}),(function(e){return e.theme["content-color-tertiary"]}),(function(e){return e.theme["content-color-secondary"]}),(function(e){return"".concat(e.theme["spacing-zero"]," ").concat(e.theme["spacing-s"],";")}),(function(e){return e.theme["spacing-zero"]})),r={container:function(e){return a(a({},e),{},{pointerEvents:"auto"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}}}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/DefaultMultiSelect.js":function(e,t,n){n.r(t),n.d(t,{StyledCreatableReactSelect:function(){return y},StyledReactSelect:function(){return f},default:function(){return b}});var s=n("../../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/node_modules/react-select/dist/react-select.esm.js"),l=n("../../node_modules/@postman/aether/node_modules/react-select/creatable/dist/react-select.esm.js"),c=n("../../node_modules/prop-types/index.js"),d=n.n(c),u=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/CustomComponents.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectComponents.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/CustomMultiSelectStyles.js");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,i.default)(r.default).withConfig({displayName:"DefaultMultiSelect__StyledReactSelect",componentId:"sc-14ka43a-0"})(["",""],h.postmanSpecificStyles),y=(0,i.default)(l.default).withConfig({displayName:"DefaultMultiSelect__StyledCreatableReactSelect",componentId:"sc-14ka43a-1"})(["",""],h.postmanSpecificStyles);function b(e){var t=e["aria-label"],n=e["aria-labelledby"],o=e.id,i=e.isOpen,r=e.onChange,l=e.onCreateNewOption,c=e.onClose,d=e.onOpen,h=e.options,m=e.value,b=e.placeholder,x=e.emptyStateMessage,S=e.isDisabled,_=e.isLoading,v=e.isOptionDisabled,E=e.viaPortal,w=e.closeMenuOnSelect,I=e.validationState,C=e.allowCreateNewOption,T=e.customOptionComponent,A=e.menuMaxHeight,P=e.triggerWidth,k=e.containerWidth,j=e.className;function R(e,t){var n=t.action,s=t.option;"create-option"===n&&l&&l(s),r(e,{action:n,option:s})}return a.createElement(a.Fragment,null,C?a.createElement(y,(0,s.default)({isMulti:!0,inputId:o,menuIsOpen:i},E&&{menuPortalTarget:document.getElementById("aether-dropdown-portal")},{onChange:R,onMenuClose:c,onMenuOpen:d},m&&{value:m},{options:h,placeholder:b,isDisabled:S,closeMenuOnSelect:w,"aria-label":t,"aria-labelledby":n},v&&{isOptionDisabled:v},{emptyStateMessage:x,formatOptionLabel:!_&&T,validationState:I,classNamePrefix:"aether-multiselect-dropdown",className:j,maxMenuHeight:A,styles:{container:function(e){return g(g({},e),{},{pointerEvents:"auto"})},control:function(e){return g(g({},e),{},{width:P})},input:function(e){return g(g({},e),{},{margin:0,padding:0,height:"20px",lineHeight:"normal"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}},group:function(e){return g(g({},e),{},{padding:0,margin:0})},groupHeading:function(e){return g(g({},e),{},{userSelect:"none",fontSize:"11px",fontWeight:600,lineHeight:"16px",marginBottom:"4px",padding:"0px 12px",textTransform:"none"})},menu:function(e){return g(g({},e),{},{width:k,paddingLeft:"0",paddingRight:"0",border:"none",zIndex:1e3})},menuList:function(e){return g(g({},e),{},{paddingTop:"8px",paddingBottom:"8px"})},menuPortal:function(e){return g(g({},e),{},{zIndex:1e3})},noOptionsMessage:function(e){return g(g({},e),{},{padding:"0"})},option:function(e){return g(g({},e),{},{padding:"0",":active":{backgroundColor:"transparent"}})},placeholder:function(e){return g(g({},e),{},{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"12px",lineHeight:"20px",left:"6px",right:"16px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})},valueContainer:function(e){return g(g({},e),{},{display:"flex",position:"static",height:"100%",paddingInline:"4px",padding:"4px 4px 0px 4px",fontSize:"12px"})}},components:{DropdownIndicator:null,ClearIndicator:null,NoOptionsMessage:u.EmptyState,Option:p.MultiSelectOption,Menu:u.Menu,MenuList:_?u.StaticLoader:p.DefaultMultiSelectMenuList,MultiValueContainer:p.MultiSelectChip,MultiValueLabel:p.MultiSelectChipLabel,MultiValueRemove:p.MultiSelectChipCloseIcon,IndicatorSeparator:null,GroupHeading:u.GroupHeading}})):a.createElement(f,(0,s.default)({isMulti:!0,inputId:o,menuIsOpen:i},E&&{menuPortalTarget:document.getElementById("aether-dropdown-portal")},{onChange:R,onMenuClose:c,onMenuOpen:d},m&&{value:m},{options:h,placeholder:b,isDisabled:S,closeMenuOnSelect:w,"aria-label":t,"aria-labelledby":n},v&&{isOptionDisabled:v},{emptyStateMessage:x,formatOptionLabel:!_&&T,validationState:I,classNamePrefix:"aether-multiselect-dropdown",className:j,maxMenuHeight:A,styles:{container:function(e){return g(g({},e),{},{pointerEvents:"auto"})},control:function(e){return g(g({},e),{},{width:P})},input:function(e){return g(g({},e),{},{margin:0,padding:0,height:"20px",lineHeight:"normal"})},multiValueRemove:function(){return{padding:0,":hover":{backgroundColor:"transparent"}}},group:function(e){return g(g({},e),{},{padding:0,margin:0})},groupHeading:function(e){return g(g({},e),{},{userSelect:"none",fontSize:"11px",fontWeight:600,lineHeight:"16px",marginBottom:"4px",padding:"0px 12px",textTransform:"none"})},menu:function(e){return g(g({},e),{},{width:k,paddingLeft:"0",paddingRight:"0",border:"none",zIndex:1e3})},menuList:function(e){return g(g({},e),{},{paddingTop:"8px",paddingBottom:"8px"})},menuPortal:function(e){return g(g({},e),{},{zIndex:1e3})},noOptionsMessage:function(e){return g(g({},e),{},{padding:"0"})},option:function(e){return g(g({},e),{},{padding:"0",":active":{backgroundColor:"transparent"}})},placeholder:function(e){return g(g({},e),{},{position:"absolute",top:"50%",transform:"translateY(-50%)",fontSize:"12px",lineHeight:"20px",left:"6px",right:"16px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})},valueContainer:function(e){return g(g({},e),{},{display:"flex",position:"static",height:"100%",paddingInline:"4px",padding:"4px 4px 0px 4px",fontSize:"12px"})}},components:{DropdownIndicator:null,ClearIndicator:null,NoOptionsMessage:u.EmptyState,Option:p.MultiSelectOption,Menu:u.Menu,MenuList:_?u.StaticLoader:p.DefaultMultiSelectMenuList,MultiValueContainer:p.MultiSelectChip,MultiValueLabel:p.MultiSelectChipLabel,MultiValueRemove:p.MultiSelectChipCloseIcon,IndicatorSeparator:null,GroupHeading:u.GroupHeading}})))}b.defaultProps={isOpen:void 0,onClose:null,onCreateNewOption:null,onOpen:null,value:null,"aria-label":void 0,"aria-labelledby":void 0,placeholder:"Select option",emptyStateMessage:"No options found",menuMaxHeight:"auto",triggerWidth:"auto",containerWidth:"auto",className:"",isDisabled:!1,isLoading:!1,viaPortal:!1,isOptionDisabled:function(){},closeMenuOnSelect:!1,allowCreateNewOption:!1,customOptionComponent:null,validationState:{status:"",message:""}},b.propTypes={onChange:d().func.isRequired,options:d().arrayOf(d().shape({label:d().string,value:d().oneOfType([d().string,d().number])})).isRequired,id:d().string.isRequired,"aria-label":d().string,"aria-labelledby":d().string,value:d().array,isOpen:d().bool,onClose:d().func,onCreateNewOption:function(e){var t=e.allowCreateNewOption,n=e.onCreateNewOption;return!t&&n?new Error("MultiSelect: onCreateNewOption is only allowed to be used when the prop allowCreateNewOption is passed as true."):n&&"function"!=typeof n?new Error("MultiSelect: Expected the type of the onCreateNewOption to be a function."):null},onOpen:d().func,placeholder:d().string,emptyStateMessage:d().string,menuMaxHeight:d().oneOfType([d().number,d().string]),triggerWidth:d().oneOfType([d().number,d().string]),containerWidth:d().oneOfType([d().string,d().number]),className:d().string,isDisabled:d().bool,isLoading:d().bool,viaPortal:d().bool,isOptionDisabled:d().func,closeMenuOnSelect:d().bool,allowCreateNewOption:d().bool,customOptionComponent:d().func,validationState:d().shape({status:d().oneOf(["","success","error","warning"]),message:d().string})}},"../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var s=n("../../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),a=n("../../node_modules/react/index.js"),i=n("../../node_modules/prop-types/index.js"),r=n.n(i),l=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownContainer.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownLabel.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/Common/DropdownValidationMessage.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/DefaultMultiSelect.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js");function m(e){var t=(0,a.useRef)(null),n=(0,a.useState)(""),i=(0,o.default)(n,2),r=i[0],l=i[1],m=e.type,g=e.label,f=e.helperText,y=e.id,b=e.validationState,x=e["data-testid"],S=e["data-click"];return(0,a.useEffect)((function(){t.current&&(t.current.offsetWidth?l(t.current.offsetWidth):l("auto"))}),[]),"compact"===m?a.createElement(h.default,e):a.createElement(c.default,{ref:t,"data-aether-id":"aether-multiSelect","data-testid":x,"data-click":S},a.createElement(d.default,{id:y,label:g,helperText:f}),a.createElement(p.default,(0,s.default)({containerWidth:r},e)),a.createElement(u.default,{validationState:b}))}m.defaultProps={type:"default",id:"",label:"",helperText:"",validationState:{status:"",message:""},"data-testid":"aether-multi-select","data-click":""},m.propTypes={type:r().oneOf(["default","compact"]),id:r().string,label:function(e){var t=e.label;return t&&t.type!==l.default&&"string"!=typeof t?new Error("MultiSelect: label prop only accepts string or the Aether's Label component as valid value."):null},helperText:r().string,validationState:r().shape({status:r().oneOf(["","success","error","warning"]),message:r().string}),"data-testid":r().string,"data-click":r().string}},"../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s=n("../../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/prop-types/index.js"),l=n.n(r),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=["heading","description","width","onSubmit","preventDefault","primaryAction","secondaryAction","children"],m=i.default.form.withConfig({displayName:"Form__StyledForm",componentId:"ak4rok-0"})(["width:",";"],(function(e){return e.width}));function g(e){var t=e.heading,n=e.description,i=e.width,r=e.onSubmit,l=e.preventDefault,g=e.primaryAction,f=e.secondaryAction,y=e.children,b=(0,o.default)(e,h);return a.createElement(m,(0,s.default)({width:i},b,{"data-aether-id":"aether-form",onSubmit:function(e){l&&e.preventDefault(),r&&r(e)}}),a.createElement(c.default,{gap:"spacing-xxl",direction:"column"},a.createElement(c.default,{gap:"spacing-xl",direction:"column"},(t||n)&&a.createElement(c.default,{gap:"spacing-xs",direction:"column"},t?a.createElement(u.default,{type:"h1",text:t,"data-testid":"aether-form-heading"}):null,n?a.createElement(p.default,{type:"lead","data-testid":"aether-form-description"},n):null),y),a.createElement(c.default,{gap:"spacing-s"},function(e){if(e&&e.type===d.default&&"primary"===(e.props&&e.props.type))return e;return null}(g),function(e){if(e&&e.type===d.default&&"secondary"===(e.props&&e.props.type))return e;return null}(f))))}g.defaultProps={heading:"",description:"",width:"100%",primaryAction:null,secondaryAction:null,preventDefault:!0,onSubmit:null,"data-testid":"aether-form","data-click":""},g.propTypes={heading:l().string,description:l().string,width:l().string,onSubmit:l().func,preventDefault:l().bool,primaryAction:function(e){var t=e.primaryAction;if(t){if(t.type!==d.default)return new Error("Form: primaryAction prop only accepts Aether button component.");if("primary"!==(t.props&&t.props.type))return new Error("Form: primaryAction prop only accepts button type primary.")}return null},secondaryAction:function(e){var t=e.secondaryAction;if(t){if(t.type!==d.default)return new Error("Form: secondaryAction prop only accepts Aether button component.");if("secondary"!==(t.props&&t.props.type))return new Error("Form: secondaryAction prop only accepts button type secondary.")}return null},children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,"data-testid":l().string,"data-click":l().string}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function a(){return s.createElement(o.default,{name:"illustration-no-cookies"})}},"../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js");function a(){return s.createElement(o.default,{name:"illustration-no-request-in-collection"})}},"./integrations/api-observability/components/base/CustomDropdown.js":function(e,t,n){n.r(t);var s=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js");const o=(0,n("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default)(s.default)`
  .aether-dropdown__value-container{
    >span {
      width: 100%;
    }
  }
`;t.default=o},"./integrations/api-observability/components/import/ImportGatewayServiceConstants.js":function(e,t,n){n.r(t),n.d(t,{API_MANAGEMENT_AZURE:function(){return o},AWS_API_GATEWAY:function(){return s},CREATE_API_MODAL:function(){return b},DEFAULT_SERVICE_NAME:function(){return i},DEFINITION:function(){return m},DISABLED_IMPORT_BUTTON_TOOLTIP_TEXT:function(){return d},FILE:function(){return g},GATEWAY_SERVICES_LIST:function(){return a},GENERIC_CREATE_INTEGRATION_ERROR:function(){return u},IMPORT_ANALYTICS_ACTION:function(){return S},IMPORT_ANALYTICS_CATEGORY:function(){return x},SERVICE_CARD_DESCRIPTION:function(){return l},SERVICE_CARD_TITLE:function(){return r},SERVICE_NOT_SUPPORTED:function(){return c},SUCCESS_IMPORT_MESSAGE:function(){return h},SUCCESS_IMPORT_SCHEMA_MESSAGE:function(){return y},SUCCESS_IMPORT_SCHEMA_TITLE:function(){return f},SUCCESS_IMPORT_TITLE:function(){return p}});const s="api_gateway_aws",o="api_management_azure",a={[s]:{serviceId:"api_gateway_aws",classId:"api_gateway_aws",serviceName:"AWS API Gateway",iconUrl:"https://static.getpostman.com/assets/aws_api_gateway.svg",darkIconUrl:"https://static.getpostman.com/assets/aws_api_gateway.svg",featureFlag:""},[o]:{serviceId:"api_management_azure",classId:"api_management_azure",serviceName:"Azure API Management",iconUrl:"https://static.getpostman.com/assets/azure-apim.svg",darkIconUrl:"https://static.getpostman.com/assets/azure-apim.svg",featureFlag:"land-646-azure-apim-integration",authType:"oauth2"}},i="API Gateway",r="Import from API Gateway",l="Select an API Gateway to import an API.",c="Postman has encountered an error. If you can't find what you're looking for, contact us at help@postman.com",d="Make sure that you have entered all the mandatory fields.",u="Your API is imported successfully but something went wrong while adding an integration.",p="Imported API successfully",h="Your API is imported in current workspace successfully.",m="Definition",g="file",f="Imported API definition successfully",y="Your API definition has been successfully imported in the current API.",b="build.api.new",x="import",S="import_by_api_gateway"},"./integrations/api-observability/components/import/add/AWSAPIGateway.js":function(e,t,n){n.r(t),n.d(t,{ApiGatewayDefault:function(){return R},ApiGatewayIam:function(){return O},default:function(){return M}});var s,o,a=n("./node_modules/lodash/lodash.js"),i=n.n(a),r=n("../../node_modules/react/index.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),m=n("./integrations/api-observability/services/index.js"),g=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js"),f=n("./integrations/api-observability/constants.ts"),y=n("./integrations/api-observability/services/ApiGatewayService.js"),b=n("./integrations/api-observability/components/import/base/ImportButton.js"),x=n("./integrations/api-observability/components/import/base/CancelButton.js"),S=n("./integrations/api-observability/services/GatewayIntegrationsService.js"),_=n("./js/components/base/LoadingIndicator.js"),v=n("./appsdk/components/link/Link.js"),E=n("./integrations/api-observability/components/base/CustomDropdown.js"),w=n("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),I=n("./node_modules/classnames/index.js"),C=n.n(I);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},T.apply(this,arguments)}const A=e=>{const t=i().get(e,"error.name"),n=i().get(e,"error.message"),s=i().get(e,"error.title");"invalidAWSRegion"===t?pm.toasts.error(n||"Please enter a valid AWS region.",{title:s||"Invalid AWS Region"}):(pm.toasts.error(n||"Something went wrong while fetching API Gateways",{title:s||"Unable to fetch API Gateways"}),pm.logger.error("Something went wrong while fetching API Gateways",e))},P=()=>r.createElement(c.default,{justifyContent:"space-between"},r.createElement("div",null,"Loading..."),r.createElement(_.default,{className:"loading-indicator-import__dropdown"})),k=(e,t)=>e&&i().isFunction(t)?{status:"error",message:e?r.createElement("div",null,"Unable to load API Gateway.",r.createElement("span",{className:"dropdown-retry",onClick:t},"Retry")):"Please select an API Gateway."}:{},j=(e,t)=>e&&i().isFunction(t)?{status:"error",message:e?r.createElement("div",null,"Unable to load AWS Stages.",r.createElement("span",{className:"dropdown-retry",onClick:t},"Retry")):"Please select an AWS Stage."}:{};let R=(0,l.observer)(s=class extends r.Component{constructor(e){super(e),this.state={awsAccessKey:"",awsSecretKeyId:"",awsRegion:"",apiName:"",availableApiGateways:[],availableStages:[],selectedApiGateway:null,selectedStage:null,errorStages:!1,errorApiGateways:!1,isImportingAPI:!1,loadingStages:!1,loadingGateways:!1,errorAwsSecretKeyId:!1,errorAwsAccessKey:!1,errorAwsRegion:!1,availableApiGatewayTypes:f.AVAILABLE_API_GATEWAY_TYPES,selectedApiGatewayType:f.AVAILABLE_API_GATEWAY_TYPES[0],availableAuthTypes:f.AVAILABLE_AUTH_TYPES,selectedAuthType:f.AVAILABLE_AUTH_TYPES[0]},this.onApiGatewaySelect=this.onApiGatewaySelect.bind(this),this.onStageSelect=this.onStageSelect.bind(this),this.handleAwsAccessKeyInput=this.handleAwsAccessKeyInput.bind(this),this.handleAwsKeyIdInput=this.handleAwsKeyIdInput.bind(this),this.handleAwsRegionInput=this.handleAwsRegionInput.bind(this),this.fetchApiGateways=this.fetchApiGateways.bind(this),this.fetchStages=this.fetchStages.bind(this),this.handleAwsApiTypeSelection=this.handleAwsApiTypeSelection.bind(this),this.handleAuthTypeChange=this.handleAuthTypeChange.bind(this),this.handleApiNameChange=this.handleApiNameChange.bind(this),this.updateIsImportingAPI=this.updateIsImportingAPI.bind(this),this.fetchApiGatewaysDebounced=i().debounce(this.fetchApiGateways,1e3)}onApiGatewaySelect(e){const{selectedApiGatewayType:t}=this.state,n=t&&t.value===f.AWS_REST_API;i().isEmpty(e)?this.setState({selectedApiGateway:[],apiName:"",selectedStage:[]}):this.setState({selectedApiGateway:e,apiName:e.label,availableStages:[],selectedStage:[]},(()=>{n&&this.fetchStages()}))}onStageSelect(e){this.setState({selectedStage:e})}handleAwsApiTypeSelection(e){const{awsAccessKey:t,awsRegion:n,awsSecretKeyId:s}=this.state;this.setState({selectedApiGatewayType:e,apiName:"",selectedApiGateway:[],availableApiGateways:[],selectedStage:[],availableStages:[]},(()=>{t&&n&&s&&this.fetchApiGateways()}))}handleAwsKeyIdInput(e=""){const{awsAccessKey:t,awsRegion:n}=this.state;this.setState({awsSecretKeyId:e,errorAwsSecretKeyId:i().isEmpty(e.trim())},(()=>{e&&t&&n&&this.fetchApiGatewaysDebounced()}))}handleAwsAccessKeyInput(e=""){const{awsSecretKeyId:t,awsRegion:n}=this.state;this.setState({awsAccessKey:e,errorAwsAccessKey:i().isEmpty(e.trim())},(()=>{e&&t&&n&&this.fetchApiGatewaysDebounced()}))}handleAwsRegionInput(e=""){const{awsSecretKeyId:t,awsAccessKey:n}=this.state;this.setState({awsRegion:e,errorAwsRegion:i().isEmpty(e.trim())},(()=>{e&&t&&n&&this.fetchApiGatewaysDebounced()}))}handleAuthTypeChange(e){this.setState({selectedAuthType:e})}handleApiNameChange(e=""){i().isEmpty(e.trim())?this.setState({apiName:""}):this.setState({apiName:e})}fetchApiGateways(){let{awsSecretKeyId:e,awsAccessKey:t,awsRegion:n,selectedAuthType:s,selectedApiGatewayType:o}=this.state,{rule:a}=this.props;i().isEmpty(n)||i().isEmpty(t)||i().isEmpty(e)||i().isEmpty(s)||i().isEmpty(o)||(this.setState({loadingGateways:!0,errorApiGateways:!1,availableApiGateways:[],selectedApiGateway:[],apiName:""}),m.default[a]&&i().isFunction(m.default[a].fetchApiGateways)&&m.default[a].fetchApiGateways({aws_key_id:e,aws_access_key:t,aws_region:n,auth_type:i().get(s,"value"),aws_api_type:i().get(o,"value"),rule:a,type:f.AWS_FETCH_API_GATEWAYS}).then((e=>{let t=i().map(e,(e=>({label:e.Name||e.name,value:e.ApiId||e.id,...e})));this.setState({loadingGateways:!1,availableApiGateways:t})})).catch((e=>{this.setState({loadingGateways:!1,errorApiGateways:!0}),A(e)})))}fetchStages(){let{awsSecretKeyId:e,awsAccessKey:t,awsRegion:n,selectedApiGateway:s,selectedAuthType:o,selectedApiGatewayType:a}=this.state,{rule:r}=this.props;if(i().isEmpty(n)||i().isEmpty(t)||i().isEmpty(e)||i().isEmpty(s)||i().isEmpty(a)||i().isEmpty(o))return;this.setState({loadingStages:!0,errorStages:!1});const l={aws_key_id:e,aws_access_key:t,aws_region:n,auth_type:i().get(o,"value"),aws_api_type:i().get(a,"value"),aws_api_gateway_id:i().get(s,"value")};S.default.performPreConfigAction(r,l,f.AWS_FETCH_STAGES).then((e=>{let t=i().get(e,"body.data.Items")||i().get(e.body,"data.item")||[],n=i().map(t,(e=>({label:i().get(e,"StageName")||i().get(e,"stageName"),value:i().get(e,"StageName")||i().get(e,"stageName"),...e})));this.setState({loadingStages:!1,errorStages:!1,availableStages:n})})).catch((e=>{pm.logger.error("Error occurred while fetching stages",e),pm.toasts.error("Something went wrong while fetching stages"),this.setState({errorStages:"Error occurred while fetching stages",loadingStages:!1})}))}getExportApiActionPayload(){const{rule:e}=this.props,{awsAccessKey:t,awsSecretKeyId:n,awsRegion:s,apiName:o,selectedApiGateway:a,selectedApiGatewayType:r,selectedAuthType:l,selectedStage:c}=this.state;return{aws_key_id:n,aws_access_key:t,aws_region:s,aws_api_gateway_id:i().get(a,"value"),auth_type:i().get(l,"value"),aws_api_type:i().get(r,"value"),classId:e,apiName:o||i().get(a,"value"),...i().isEqual(i().get(r,"value"),f.AWS_REST_API)?{stage:i().get(c,"value")}:{}}}updateIsImportingAPI(e){this.setState({isImportingAPI:e})}render(){const{rule:e,workspaceId:t,sourceIdentifier:n,serviceId:s,apiId:o,apiVersionId:a}=this.props,{awsSecretKeyId:l,awsAccessKey:c,awsRegion:m,errorAwsSecretKeyId:g,errorAwsAccessKey:y,errorAwsRegion:S,selectedApiGateway:_,apiName:I,availableApiGateways:A,availableApiGatewayTypes:j,selectedApiGatewayType:R,selectedAuthType:M,availableAuthTypes:D,errorApiGateways:L,isImportingAPI:N,loadingStages:F,loadingGateways:z,selectedStage:B,errorStages:V,availableStages:H}=this.state,W={rule:e,entity:"apiversion",variables:{aws_key_id:l,aws_access_key:c,aws_region:m,aws_api_gateway_id:i().get(_,"value"),auth_type:i().get(M,"value"),aws_api_type:i().get(R,"value")}},U=R&&R.value===f.AWS_REST_API,q=!c||!l||!m||z||!A||i().isEmpty(_)||U&&i().isEmpty(B);return r.createElement("div",{className:"import-api-gateway__form"},r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(u.default,{isClearable:!1,onChange:this.handleAuthTypeChange,options:D||[],placeholder:"Select AWS Authentication Type",label:"AWS Authentication Method",value:M})),M&&M.value===f.AWS_IAM_ROLE?r.createElement(O,T({authType:M.value},this.props)):r.createElement("div",null,r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(u.default,{isClearable:!1,onChange:this.handleAwsApiTypeSelection,options:j||[],placeholder:"Select AWS API Type",label:"AWS API Type",value:R})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(p.default,{type:"password",placeholder:"Enter the AWS access key id",value:l,onChange:e=>this.handleAwsKeyIdInput(e.target.value),label:r.createElement(h.default,{text:"Access Key ID"}),validationStatus:g?"error":"",validationMessage:"Please enter an Access Key ID.",helperText:r.createElement(r.Fragment,null,r.createElement(d.default,null,"You can find the credentials in your AWS console."," "),r.createElement(v.default,{to:f.AWS_CREDENTIALS_DOCS_LINK,target:"_blank"},r.createElement(d.default,{type:"link-default",isExternal:!0},"Learn more")))})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(p.default,{type:"password",placeholder:"Enter the AWS access key",value:c,onChange:e=>this.handleAwsAccessKeyInput(e.target.value),label:r.createElement(h.default,{text:"Secret Access Key"}),validationStatus:y?"error":"",validationMessage:"Please enter a Secret Access Key."})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(p.default,{placeholder:"Enter AWS Region",value:m,onChange:e=>this.handleAwsRegionInput(e.target.value),label:r.createElement(h.default,{text:"AWS Region"}),validationStatus:S?"error":"",validationMessage:"Please enter a valid AWS region."})),r.createElement("div",{className:C()({"import-api-gateway__form--component":n!==w.CREATE_API_MODAL||U,"import-api-gateway__form--last-component":n===w.CREATE_API_MODAL&&!U})},r.createElement(E.default,{onChange:this.onApiGatewaySelect,options:A||[],value:_,isLoading:z,placeholder:z?P():"Select AWS Gateway",label:"AWS Gateway",emptyStateMessage:"No API Gateways found",isDisabled:z,validationState:k(L,this.fetchApiGateways)})),U&&r.createElement("div",{className:C()({"import-api-gateway__form--component":n!==w.CREATE_API_MODAL,"import-api-gateway__form--last-component":n===w.CREATE_API_MODAL})},r.createElement(E.default,{onChange:this.onStageSelect,options:H||[],isLoading:F,value:B,placeholder:F?P():"Select AWS Stage",label:"AWS Stage",emptyStateMessage:"No AWS Stages found",validationState:k(V,this.fetchStages)})),n!==w.CREATE_API_MODAL&&r.createElement("div",{className:"import-api-gateway__form--last-component"},r.createElement(p.default,{placeholder:"Enter API name",helperText:"This will be the name of the imported API.",value:I,onChange:e=>this.handleApiNameChange(e.target.value),label:r.createElement(h.default,{text:"API Name"})})),r.createElement("div",{className:"aws-gateway__button"},r.createElement(b.default,{className:"integrations-add-actions__button--proceed",disabled:q,updateIsImportingAPI:this.updateIsImportingAPI,integrationPayload:W,exportApiActionName:f.AWS_EXPORT_API_ACTION,exportApiActionPayload:this.getExportApiActionPayload(),workspaceId:t,serviceId:s,sourceIdentifier:n,apiId:o,apiVersionId:a}),r.createElement(x.default,{isImportingAPI:N,serviceId:s,sourceIdentifier:n,apiId:o,apiVersionId:a}))))}})||s,O=(0,l.observer)(o=class extends r.Component{constructor(e){super(e),this.state={externalID:"",roleArn:"",awsRegion:"",apiName:"",selectedStage:null,selectedApiGateway:null,loadingStages:!1,loadingGateways:!1,errorAwsRegion:!1,errorRoleArn:!1,errorStages:!1,errorApiGateways:!1,availableStages:[],availableApiGateways:[],availableApiGatewayTypes:f.AVAILABLE_API_GATEWAY_TYPES,selectedApiGatewayType:f.AVAILABLE_API_GATEWAY_TYPES[0]},this.onApiGatewaySelect=this.onApiGatewaySelect.bind(this),this.onStageSelect=this.onStageSelect.bind(this),this.fetchApiGateways=this.fetchApiGateways.bind(this),this.fetchStages=this.fetchStages.bind(this),this.handleAwsApiTypeSelection=this.handleAwsApiTypeSelection.bind(this),this.handleAwsRegionInput=this.handleAwsRegionInput.bind(this),this.handleRoleArnInput=this.handleRoleArnInput.bind(this),this.fetchApiGatewaysDebounced=i().debounce(this.fetchApiGateways,1e3),this.updateIsImportingAPI=this.updateIsImportingAPI.bind(this),this.getExportApiActionPayload=this.getExportApiActionPayload.bind(this),this.handleApiNameChange=this.handleApiNameChange.bind(this)}onApiGatewaySelect(e){const{selectedApiGatewayType:t}=this.state,n=t&&t.value===f.AWS_REST_API;i().isEmpty(e)?this.setState({selectedApiGateway:[],selectedStage:[],apiName:""}):this.setState({selectedApiGateway:e,apiName:e.label,selectedStage:[],availableStages:[]},(()=>{n&&this.fetchStages()}))}onStageSelect(e){this.setState({selectedStage:e})}fetchStages(){const{roleArn:e,externalID:t,awsRegion:n,selectedApiGatewayType:s,selectedApiGateway:o}=this.state,{rule:a,authType:r}=this.props;if(i().isEmpty(e)||i().isEmpty(t)||i().isEmpty(n)||i().isEmpty(o)||i().isEmpty(s))return;this.setState({loadingStages:!0,errorStages:!1});const l={aws_region:n,role_arn:e,external_id:t,aws_api_gateway_id:i().get(o,"value"),aws_api_type:i().get(s,"value"),auth_type:r};S.default.performPreConfigAction(a,l,f.AWS_FETCH_STAGES).then((e=>{let t=i().get(e,"body.data.Items")||i().get(e.body,"data.item")||[],n=i().map(t,(e=>({label:i().get(e,"StageName")||i().get(e,"stageName"),value:i().get(e,"StageName")||i().get(e,"stageName"),...e})));this.setState({loadingStages:!1,errorStages:!1,availableStages:n})})).catch((e=>{pm.logger.error("Error occurred while fetching stages",e),pm.toasts.error("Something went wrong while fetching stages"),this.setState({errorStages:"Error occurred while fetching stages",loadingStages:!1})}))}handleAwsApiTypeSelection(e){const{roleArn:t,awsRegion:n}=this.state;this.setState({selectedApiGatewayType:e,apiName:"",selectedApiGateway:[],availableApiGateways:[]},(()=>{!i().isEmpty(t)&&!i().isEmpty(n)&&this.fetchApiGateways()}))}fetchApiGateways(){let{awsRegion:e,selectedApiGatewayType:t,roleArn:n,externalID:s}=this.state,{rule:o,authType:a}=this.props;i().isEmpty(e)||i().isEmpty(n)||i().isEmpty(t)||(this.setState({loadingGateways:!0,errorApiGateways:!1,availableApiGateways:[],selectedApiGateway:[],apiName:""}),m.default[o]&&i().isFunction(m.default[o].fetchApiGateways)&&m.default[o].fetchApiGateways({rule:o,role_arn:n,external_id:s,aws_region:e,auth_type:a,aws_api_type:i().get(t,"value"),type:f.AWS_FETCH_API_GATEWAYS}).then((e=>{let t=i().map(e,(e=>({label:e.Name||e.name,value:e.ApiId||e.id,...e})));this.setState({loadingGateways:!1,availableApiGateways:t})})).catch((e=>{this.setState({loadingGateways:!1,errorApiGateways:!0}),A(e)})))}handleRoleArnInput(e=""){const{awsRegion:t}=this.state;this.setState({roleArn:e,errorRoleArn:i().isEmpty(e.trim())},(()=>{!i().isEmpty(t)&&!i().isEmpty(e.trim())&&this.fetchApiGatewaysDebounced()}))}handleAwsRegionInput(e=""){const{roleArn:t}=this.state;this.setState({awsRegion:e.trim(),errorAwsRegion:i().isEmpty(e.trim())},(()=>{!i().isEmpty(t)&&!i().isEmpty(e.trim())&&this.fetchApiGatewaysDebounced()}))}setExternalId(){const e={rule:this.props.rule,type:f.AWS_FETCH_EXTERNAL_ID};y.default.fetchExternalId(e).then((e=>{this.setState({externalID:e})})).catch((e=>{pm.toasts.error("Something went wrong, please try again."),pm.logger.error("Something went wrong while fetching External ID",e)}))}updateIsImportingAPI(e){this.setState({isImportingAPI:e})}getExportApiActionPayload(){const{rule:e,authType:t}=this.props,{selectedApiGateway:n,selectedApiGatewayType:s,selectedStage:o,roleArn:a,externalID:r,awsRegion:l,apiName:c}=this.state;return{classId:e,auth_type:t,apiName:c||i().get(n,"label"),aws_api_gateway_id:i().get(n,"value"),aws_api_type:i().get(s,"value"),aws_region:l,role_arn:a,external_id:r,...i().isEqual(i().get(s,"value"),f.AWS_REST_API)?{stage:i().get(o,"value")}:{}}}handleApiNameChange(e=""){i().isEmpty(e.trim())?this.setState({apiName:""}):this.setState({apiName:e})}componentDidMount(){this.setExternalId()}render(){const{rule:e,authType:t,serviceId:n,workspaceId:s,sourceIdentifier:o,apiId:a,apiVersionId:l}=this.props,{roleArn:c,awsRegion:m,loadingGateways:y,errorAwsRegion:S,errorRoleArn:_,externalID:I,selectedStage:T,availableApiGateways:A,selectedApiGateway:R,availableApiGatewayTypes:O,selectedApiGatewayType:M,isImportingAPI:D,apiName:L,availableStages:N,loadingStages:F,errorStages:z,errorApiGateways:B}=this.state,V={rule:e,entity:"apiversion",variables:{auth_type:t,role_arn:c,external_id:I,aws_region:m,aws_api_type:i().get(M,"value"),aws_api_gateway_id:i().get(R,"value")}},H=i().isEqual(i().get(M,"value"),f.AWS_REST_API),W=!c||!m||y||!A||i().isEmpty(R)||H&&i().isEmpty(T);return r.createElement("div",null,r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(u.default,{isClearable:!1,onChange:this.handleAwsApiTypeSelection,options:O||[],placeholder:"Select AWS API Type",label:"AWS API Type",value:M})),r.createElement("div",{className:"integrations-add-step"},r.createElement("div",{className:"integrations-add-step__title"},"Step 1: Create an IAM role"),r.createElement("div",{className:"integrations-add-step__text"},"Use the following credentials to create an IAM role for Postman in AWS. Learn how to ",r.createElement(g.default,{extUrl:f.AWS_IAM_ROLE_DOCS_LINK},"create an IAM role"))),r.createElement("div",{className:"import-api-gateway__form--component__aws-account-id"},r.createElement(p.default,{type:"text",value:f.AWS_ACCOUNT_ID,enableCopy:!0,helperCopyText:"Copy AWS account ID",helperText:"This assigns the IAM role to Postman.",label:r.createElement(h.default,{text:"AWS Account ID"})})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(p.default,{type:"text",value:this.state.externalID,enableCopy:!0,helperCopyText:"Copy External ID",helperText:r.createElement(r.Fragment,null,r.createElement(d.default,null,"This adds an extra level of security against malicious attacks."," "),r.createElement(v.default,{to:f.AWS_IAM_ROLE_EXTERNAL_ID_LINK,target:"_blank"},r.createElement(d.default,{type:"link-default",isExternal:!0},"Learn more"))),label:r.createElement(h.default,{text:"External ID"})})),r.createElement("div",{className:"integrations-add-step"},r.createElement("div",{className:"integrations-add-step__title"},"Step 2: Enter role ARN and region")),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(p.default,{type:"text",value:c,helperCopyText:"Copy External ID",placeholder:"arn:aws:iam::79840258006:role/PostmanIntegration",helperText:"Provided by AWS once the IAM role is created. It allows Postman to assume the IAM role.",onChange:e=>this.handleRoleArnInput(e.target.value),label:r.createElement(h.default,{text:"Role ARN"}),validationStatus:_?"error":"",validationMessage:"Please enter the role ARN"})),r.createElement("div",{className:"import-api-gateway__form--component"},r.createElement(p.default,{placeholder:"Enter AWS Region",value:m,onChange:e=>this.handleAwsRegionInput(e.target.value),label:r.createElement(h.default,{text:"AWS Region"}),validationStatus:S?"error":"",validationMessage:"Please enter a valid AWS region."})),r.createElement("div",{className:C()({"import-api-gateway__form--component":o!==w.CREATE_API_MODAL||H,"import-api-gateway__form--last-component":o===w.CREATE_API_MODAL&&!H})},r.createElement(E.default,{onChange:this.onApiGatewaySelect,options:A||[],value:R,isLoading:y,placeholder:y?P():"Select AWS Gateway",label:"AWS Gateway",emptyStateMessage:"No API Gateways found",isDisabled:y,validationState:k(B,this.fetchApiGateways)})),H&&r.createElement("div",{className:C()({"import-api-gateway__form--component":o!==w.CREATE_API_MODAL,"import-api-gateway__form--last-component":o===w.CREATE_API_MODAL})},r.createElement(E.default,{onChange:this.onStageSelect,options:N||[],isLoading:F,value:T,placeholder:F?P():"Select AWS Stage",label:"AWS Stage",emptyStateMessage:"No AWS Stages found",validationState:j(z,this.fetchStages)})),o!==w.CREATE_API_MODAL&&r.createElement("div",{className:"import-api-gateway__form--last-component"},r.createElement(p.default,{placeholder:"Enter API name",helperText:"This will be the name of the imported API.",value:L,onChange:e=>this.handleApiNameChange(e.target.value),label:r.createElement(h.default,{text:"API Name"})})),r.createElement("div",{className:"aws-gateway__button"},r.createElement(b.default,{className:"integrations-add-actions__button--proceed",disabled:W,updateIsImportingAPI:this.updateIsImportingAPI,integrationPayload:V,exportApiActionName:f.AWS_EXPORT_API_ACTION,exportApiActionPayload:this.getExportApiActionPayload(),workspaceId:s,serviceId:n,sourceIdentifier:o,apiId:a,apiVersionId:l}),r.createElement(x.default,{isImportingAPI:D,serviceId:n,sourceIdentifier:o,apiId:a,apiVersionId:l})))}})||o;function M(e){const{rule:t}=e;return"api_gateway_aws"===t?r.createElement(R,e):r.createElement("div",null)}},"./integrations/api-observability/components/import/add/Azure.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var s=n("./node_modules/lodash/lodash.js"),o=n.n(s),a=n("../../node_modules/react/index.js"),i=n("./integrations/api-observability/constants.ts"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),u=n("./integrations/api-observability/services/AzureService.js"),p=n("./js/components/base/LoadingIndicator.js"),h=n("./integrations/api-observability/components/import/base/ImportButton.js"),m=n("./integrations/api-observability/components/import/base/CancelButton.js"),g=n("./integrations/api-observability/components/base/CustomDropdown.js"),f=n("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),y=n("./node_modules/classnames/index.js"),b=n.n(y),x=n("./integrations/api-observability/services/Helper.js"),S=n("./js/components/base/SearchHighlighter.js");const _=()=>a.createElement(r.default,{justifyContent:"space-between"},a.createElement("div",null,"Loading..."),a.createElement(p.default,{className:"loading-indicator-aether__dropdown"}));class v extends a.Component{constructor(e){super(e),this.fetchServices=()=>{this.setState({isFetchingServices:!0});const{rule:e,accessToken:t}=this.props,{selectedSubscription:n,selectedResourceGroup:s}=this.state,a={azure_access_token:t,azure_subscription_id:o().get(n,"value"),azure_resource_group_id:o().get(s,"value")};u.default.fetchServices(e,a,i.LIST_SERVICES).then((e=>{this.setState({fetchedServices:e,isFetchingServices:!1,fetchErrorServices:!1})})).catch((e=>{this.setState({fetchErrorServices:!0,isFetchingServices:!1}),pm.logger.error("Something went wrong while fetching services",e)}))},this.fetchSubscriptions=()=>{this.setState({isFetchingSubscriptions:!0});const{rule:e,accessToken:t}=this.props,n={azure_access_token:t};u.default.fetchSubscriptions(e,n,i.LIST_SUBSCRIPTIONS).then((e=>{this.setState({fetchedSubscriptions:e,isFetchingSubscriptions:!1,fetchErrorSubscriptions:!1})})).catch((e=>{this.setState({fetchErrorSubscriptions:!0,isFetchingSubscriptions:!1}),pm.logger.error("Something went wrong while fetching Azure subscriptions",e)}))},this.fetchResourceGroups=()=>{this.setState({isFetchingResourceGroups:!0});const{rule:e,accessToken:t}=this.props,{selectedSubscription:n}=this.state,s={azure_access_token:t,azure_subscription_id:o().get(n,"value")};u.default.fetchResourceGroups(e,s,i.LIST_RESOURCE_GROUPS).then((e=>{this.setState({fetchedResourceGroups:e,isFetchingResourceGroups:!1,fetchErrorResourceGroups:!1})})).catch((e=>{this.setState({fetchErrorResourceGroups:!0,isFetchingResourceGroups:!1}),pm.logger.error("Something went wrong while fetching resource groups",e)}))},this.fetchApis=()=>{this.setState({isFetchingApis:!0});const{rule:e,accessToken:t}=this.props,{selectedSubscription:n,selectedResourceGroup:s,selectedService:a}=this.state,r={azure_access_token:t,azure_subscription_id:o().get(n,"value"),azure_resource_group_id:o().get(s,"value"),azure_service_id:o().get(a,"value")};u.default.fetchApis(e,r,i.LIST_APIS).then((e=>{this.setState({fetchedApis:e,filteredApis:e,isFetchingApis:!1,fetchErrorApis:!1})})).catch((e=>{this.setState({fetchErrorApis:!0,isFetchingApis:!1}),pm.logger.error("Something went wrong while fetching APIs",e)}))},this.fetchApisWithSearchQuery=e=>{const{rule:t,accessToken:n}=this.props,{selectedSubscription:s,selectedResourceGroup:a,selectedService:r,fetchedApis:l}=this.state,c={azure_access_token:n,azure_subscription_id:o().get(s,"value"),azure_resource_group_id:o().get(a,"value"),azure_service_id:o().get(r,"value"),azureApiSearchQuery:e};return u.default.fetchApis(t,c,i.LIST_APIS).then((e=>{const t=o().unionBy(e,l,"path");return this.setState({fetchedApis:t,...this.shouldSetFetchedApis&&{filteredApis:e}}),Promise.resolve()})).catch((e=>(pm.logger.error("Something went wrong while fetching APIs",e),Promise.reject(e))))},this.handleSelectSubscription=e=>{this.setState({selectedSubscription:e,errorSubscription:o().isEmpty(e),fetchedResourceGroups:[],selectedResourceGroup:[],fetchedServices:[],selectedService:[],fetchedApis:[],selectedApi:[],apiName:""},(()=>{e&&e.value&&this.fetchResourceGroups()}))},this.handleSelectResourceGroup=e=>{this.setState({selectedResourceGroup:e,errorResourceGroup:o().isEmpty(e),fetchedServices:[],selectedService:[],fetchedApis:[],selectedApi:[],apiName:""},(()=>{e&&e.value&&this.fetchServices()}))},this.handleSelectService=e=>{this.setState({selectedService:e,apiName:e&&e.label||"",errorService:o().isEmpty(e),fetchedApis:[],selectedApi:[]},(()=>e&&e.value&&this.fetchApis()))},this.handleSelectApi=e=>{this.setState({selectedApi:e,errorApi:o().isEmpty(e)})},this.getSubscriptionValidationState=()=>{const{errorSubscription:e,fetchErrorSubscriptions:t}=this.state;return e||t?{status:"error",message:t?a.createElement("div",null,"Unable to load subscriptions.",a.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchSubscriptions()}},"Retry")):"Please select a subscription."}:{}},this.getResourceGroupValidationState=()=>{const{errorResourceGroup:e,fetchErrorResourceGroups:t}=this.state;return e||t?{status:"error",message:t?a.createElement("div",null,"Unable to load resource groups.",a.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchResourceGroups()}},"Retry")):"Please select a resource group."}:{}},this.getServiceValidationState=()=>{const{errorService:e,fetchErrorServices:t}=this.state;return e||t?{status:"error",message:t?a.createElement("div",null,"Unable to load services.",a.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchedServices()}},"Retry")):"Please select a service."}:{}},this.getApiValidationState=()=>{const{errorApi:e,fetchErrorApis:t}=this.state;return e||t?{status:"error",message:t?a.createElement("div",null,"Unable to load APIs.",a.createElement("span",{className:"dropdown-retry",onClick:()=>{this.fetchApis()}},"Retry")):"Please select an API."}:{}},this.getApiDropdownOption=e=>{const{azureApiSearchQuery:t}=this.state,n=null==e?void 0:e.label;return a.createElement(S.default,{source:n,query:t,highlightClassName:"highlight-dropdown-options"})},this.state={fetchedSubscriptions:[],filteredApis:[],fetchedApis:[],schemaTypes:i.SCHEMA_TYPES,selectedSchemaType:i.SCHEMA_TYPES[0],selectedSubscription:null,selectedResourceGroup:null,selectedService:null,azureSubscriptionId:"",azureResourceGroupId:"",azureServiceId:"",apiName:"",isFetchingServices:!1,fetchErrorServices:!1,isFetchingSubscriptions:!1,fetchErrorSubscriptions:!1,isFetchingResourceGroups:!1,fetchErrorResourceGroups:!1,isImportingAPI:!1},this.updateIsImportingAPI=this.updateIsImportingAPI.bind(this),this.handleSchemaTypeChange=this.handleSchemaTypeChange.bind(this),this.handleApiNameChange=this.handleApiNameChange.bind(this)}componentDidMount(){this.fetchSubscriptions()}handleSchemaTypeChange(e){this.setState({selectedSchemaType:e})}handleApiNameChange(e=""){o().isEmpty(e.trim())?this.setState({apiName:""}):this.setState({apiName:e})}updateIsImportingAPI(e){this.setState({isImportingAPI:e})}getExportApiActionPayload(){const{selectedSubscription:e,selectedResourceGroup:t,selectedSchemaType:n,selectedApi:s,selectedService:a,apiName:i}=this.state,{rule:r,accessToken:l}=this.props;return{apiName:i,classId:r,azure_access_token:l,apiVersionName:o().get(s,"label"),azure_subscription_id:o().get(e,"value"),azure_resource_group_id:o().get(t,"value"),azure_service_id:o().get(a,"value"),azure_api_id:o().get(s,"value"),azure_export_format:o().get(n,"value")}}render(){const{rule:e,serviceId:t,workspaceId:n,sourceIdentifier:s,accessToken:i,refreshToken:r,apiId:u,apiVersionId:p}=this.props,{fetchedSubscriptions:y,selectedSubscription:S,isFetchingSubscriptions:v,fetchedResourceGroups:E,selectedResourceGroup:w,isFetchingResourceGroups:I,fetchedServices:C,selectedService:T,isFetchingServices:A,isImportingAPI:P,apiName:k,schemaTypes:j,selectedSchemaType:R,fetchedApis:O,isFetchingApis:M,selectedApi:D,filteredApis:L}=this.state,N={rule:e,entity:"apiversion",variables:{linked_apis:[{azure_subscription_id:o().get(S,"value"),azure_resource_group_id:o().get(w,"value"),azure_service_id:o().get(T,"value"),azure_service_path:o().get(T,"path"),azure_api_id:o().get(D,"value"),azure_api_path:o().get(D,"path")}],azure_access_token:i,azure_refresh_token:r,use_refresh_token:!0}},F=o().isEmpty(S)||o().isEmpty(w)||o().isEmpty(T)||o().isEmpty(D);return a.createElement("div",{className:"import-api-gateway__form"},a.createElement("div",{className:"import-api-gateway__form--component"},a.createElement(g.default,{onChange:this.handleSelectSubscription,options:y||[],value:S,label:"Subscription",placeholder:v?_():"Select Subscription",className:v?"dropdown-icon-remove":"",isDisabled:v,emptyStateMessage:"No Subscriptions found",validationState:this.getSubscriptionValidationState()})),a.createElement("div",{className:"import-api-gateway__form--component"},a.createElement(g.default,{onChange:this.handleSelectResourceGroup,options:E||[],value:w,label:"Resource Group",placeholder:I?_():"Select Resource Group",className:I?"dropdown-icon-remove":"",isDisabled:!o().get(S,"value")||I,emptyStateMessage:"No Resource Groups found",validationState:this.getResourceGroupValidationState()})),a.createElement("div",{className:"import-api-gateway__form--component"},a.createElement(g.default,{onChange:this.handleSelectService,options:C||[],value:T,label:"Service",placeholder:A?_():"Select Service",className:A?"dropdown-icon-remove":"",isDisabled:!o().get(w,"value")||A,emptyStateMessage:"No Services found",validationState:this.getServiceValidationState()})),a.createElement("div",{className:"import-api-gateway__form--component"},a.createElement(g.default,{onChange:this.handleSelectApi,options:L||[],value:D,label:"API Version",placeholder:M?_():"Select API Version",className:M?"dropdown-icon-remove":"",isDisabled:!o().get(T,"value")||M,emptyStateMessage:"No APIs found",validationState:this.getApiValidationState(),customOptionComponent:this.getApiDropdownOption,asyncLoader:async({search:e})=>{this.shouldSetFetchedApis=e,e||this.setState({filteredApis:O}),this.setState({azureApiSearchQuery:e}),e&&await this.fetchApisWithSearchQuery(e)}})),a.createElement("div",{className:b()({"import-api-gateway__form--component":s!==f.CREATE_API_MODAL,"import-api-gateway__form--last-component":s===f.CREATE_API_MODAL})},a.createElement(l.default,{options:j||[],value:R,isClearable:!1,onChange:this.handleSchemaTypeChange,label:"Definition type"})),s!==f.CREATE_API_MODAL&&a.createElement("div",{className:"import-api-gateway__form--last-component"},a.createElement(c.default,{placeholder:"Enter API name",helperText:"This will be the name of the imported API.",value:k,onChange:e=>this.handleApiNameChange(e.target.value),label:a.createElement(d.default,{text:"API Name"})})),a.createElement("div",{className:"aws-gateway__button"},a.createElement(h.default,{className:"integrations-add-actions__button--proceed",disabled:F,updateIsImportingAPI:this.updateIsImportingAPI,integrationPayload:N,exportApiActionPayload:this.getExportApiActionPayload(),workspaceId:n,serviceId:t,apiId:u,apiVersionId:p,sourceIdentifier:s,onSuccessfulIntegrationCreate:x.default.addAzureServicesAnalytics}),a.createElement(m.default,{isImportingAPI:P,serviceId:t,sourceIdentifier:s,apiId:u,apiVersionId:p})))}}},"./integrations/api-observability/components/import/add/index.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var s=n("../../node_modules/react/index.js"),o=n("./integrations/api-observability/components/import/add/AWSAPIGateway.js"),a=n("./integrations/api-observability/components/import/add/Azure.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/PageNotFound.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js");const d={[c.AWS_API_GATEWAY]:o.default,[c.API_MANAGEMENT_AZURE]:a.default};function u(e){const{serviceId:t}=e,n=d[t];return n?s.createElement(n,e):s.createElement(i.default,{direction:"column",alignItems:"center",gap:"spacing-m",padding:"spacing-xxl",justifyContent:"center"},s.createElement(r.default,null),s.createElement(l.default,{type:"body-medium",color:"content-color-secondary",text:c.SERVICE_NOT_SUPPORTED}))}},"./integrations/api-observability/components/import/base/CancelButton.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./integrations/navigation/constants.js"),l=n("./appsdk/workbench/TabService.js"),c=n("./js/services/NavigationService.js"),d=n("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js");let u=(0,i.observer)(s=class extends o.Component{constructor(e){super(e),this.handleOnClick=this.handleOnClick.bind(this)}handleOnClick(){const{serviceId:e,sourceIdentifier:t,apiId:n,apiVersionId:s}=this.props;l.default.closeByRoute(r.GATEWAY_IMPORT_URL,{serviceId:e}),t===d.CREATE_API_MODAL?c.default.transitionTo("build.createDefinition",{apiId:n}):t&&c.default.transitionTo(t)}render(){const{isImportingAPI:e}=this.props;return o.createElement("div",{className:"integrations-add-actions__button--container"},o.createElement(a.default,{isDisabled:e,size:"medium",text:"Cancel",onClick:this.handleOnClick}))}})||s},"./integrations/api-observability/components/import/base/ImportButton.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),i=n("./js/services/NavigationService.js"),r=n("./appsdk/workbench/TabService.js"),l=n("./js/modules/services/AnalyticsService.js"),c=n("./integrations/navigation/constants.js"),d=n("./integrations/api-observability/constants.ts"),u=n("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),p=n("./node_modules/classnames/index.js"),h=n.n(p),m=n("./api-dev/constants/APISubViews.js"),g=(n("./api-dev/services/APIDevService.js"),n("../../packages/api-design/api-definition-service/index.js")),f=n("./node_modules/lodash/lodash.js"),y=n.n(f),b=n("./js/stores/StoreManager.js"),x=n("../../packages/api-design/api-definition-store/index.js"),S=n("./api-dev/interfaces/APIInterface.js"),_=n("./integrations/utils/CommonHelperMethods.ts"),v=n("./api-dev/stores/APIListStore.js");class E extends s.Component{constructor(e){super(e),this.state={isImportingAPI:!1,apiId:"",apiVersionId:""},this.handleImport=this.handleImport.bind(this),this.createIntegration=this.createIntegration.bind(this),this.fetchSchema=this.fetchSchema.bind(this),this.createAPI=this.createAPI.bind(this),this.navigateToApi=this.navigateToApi.bind(this),this.createApiDefinition=this.createApiDefinition.bind(this)}navigateToApi(){const{serviceId:e}=this.props,{apiId:t,apiVersionId:n}=this.state;i.default.transitionTo("build.apiVersion",{apiId:t,versionId:n},{tab:m.DEFINE}),r.default.closeByRoute(c.GATEWAY_IMPORT_URL,{serviceId:e})}navigateToApiDefinition(e,t){const{apiId:n,apiVersionId:s}=this.props,o=y().get(i.default.getActiveQueryParams().get(),"branch");i.default.transitionTo("build.apiDefinitionFile",{apiId:n,apiVersionId:s,apiDefinitionId:e,fileId:t},o&&{branch:o})}getNicknameForIntegration(){const{serviceId:e,exportApiActionPayload:t={}}=this.props,n=t.apiName,s=y().get(u.GATEWAY_SERVICES_LIST,[e,"serviceName"]);return n?`${n} - ${s}`:`${s} Integration`}createIntegration(e={}){const{workspaceId:t,integrationPayload:n={},onSuccessfulIntegrationCreate:s}=this.props,o=this.props.apiId||e.id,i=this.props.apiVersionId||y().get(e,"apiVersionId");return this.setState({apiId:o,apiVersionId:i}),n.executor=i,n.name=this.getNicknameForIntegration(),n.variables&&(n.variables.postman_api_id=o),a.default.createIntegration(t||null,n).then((e=>200===e.status&&y().get(e,"body.model_id")?(l.default.addEventV2({category:"integrations",action:`${y().get(e,"body.data.rule")}_created_integration`,label:"team_integrations_create_forms",value:1}),y().isFunction(s)&&s(y().get(e,"body.data",{})),Promise.resolve(e.body)):(pm.toasts.error(),Promise.reject(new Error("Something went wrong while adding a new integration"))))).catch((e=>(pm.toasts.error(u.GENERIC_CREATE_INTEGRATION_ERROR),pm.logger.error("Something went wrong while adding a new integration",e),Promise.reject(new Error("Something went wrong while adding a new integration")))))}fetchSchema(){const{exportApiActionPayload:e,exportApiActionName:t=d.DEFAULT_GATEWAY_EXPORT_API_ACTION}=this.props;return a.default.fetchGatewayActionDetails(d.PRE_CONFIG,t,e)}createAPI(e){const{integrationPayload:t}=this.props;return(0,b.resolveStoreInstance)(v.default).create(y().get(e,"name")).then((async t=>{const n=y().get(t,"id"),s=y().get(t,"versions[0].id");return await this.createApiDefinition(e,n,s),{id:n,apiVersionId:s}})).catch((e=>(pm.logger.warn("Import~handleImportAsAPI: Failed to import API",e),Promise.reject(e))))}async createApiDefinition(e,t,n){const{integrationPayload:s,sourceIdentifier:o}=this.props,a=x.APIDefinitionTypeService.getDefinitionTypeFromSchemaType(y().get(e,"versions.0.schemas.0.type")),i=`index.${y().get(e,"versions.0.schemas.0.language")}`,r={type:u.FILE,name:i,content:y().get(e,"versions.0.schemas.0.schema"),path:i};if(o!==c.OPEN_IMPORT_IDENTIFIER&&await(0,S.isAPIGitLinked)(t)){r.type=a;const e=await(0,S.getAPILinkedEntityModel)(t,{name:"branch"},"apiDefinition",""),s=await(0,_.updateGitLinkedAPIDefinition)(t,n,y().get(e,"id"),r);return Promise.resolve({fileId:s,apiDefinitionId:y().get(e,"id")})}return g.default.createAPIDefinition(t,n,u.DEFINITION,a,[r]).then((async e=>{const t=y().get(e,"id"),n=await g.default.fetchAPIDefinitionItems({id:t}),o=y().get(n,"data.0.id");return l.default.addEventV2({category:u.IMPORT_ANALYTICS_CATEGORY,action:u.IMPORT_ANALYTICS_ACTION,label:y().get(s,"rule"),value:1}),Promise.resolve({fileId:o,apiDefinitionId:t})})).catch((e=>(pm.logger.error("ImportButton~createApiDefinition: Failed to create definition for this API",e),Promise.reject(e))))}handleImport(){const{updateIsImportingAPI:e,sourceIdentifier:t,apiId:n,apiVersionId:s}=this.props;let o,a;this.setState({isImportingAPI:!0},(()=>{e(!0)})),this.fetchSchema().then((async e=>{const i=y().get(e,"body.data");if(i){if(t===u.CREATE_API_MODAL){const e=await this.createApiDefinition(i,n,s)||{};return o=e.fileId,a=e.apiDefinitionId,Promise.resolve(!0)}return this.createAPI(i)}throw new Error("Something went wrong while exporting API from Gateway")})).then((e=>this.createIntegration(e))).then((n=>{this.setState({isImportingAPI:!1},(()=>{e(!1),t===u.CREATE_API_MODAL?this.navigateToApiDefinition(a,o):this.navigateToApi()})),t===u.CREATE_API_MODAL?pm.toasts.success(u.SUCCESS_IMPORT_SCHEMA_MESSAGE,{title:u.SUCCESS_IMPORT_SCHEMA_TITLE}):pm.toasts.success(u.SUCCESS_IMPORT_MESSAGE,{title:u.SUCCESS_IMPORT_TITLE})})).catch((t=>{pm.logger.error("Error while importing an API from Gateway",t),pm.toasts.error("Something went wrong, please try again"),this.setState({isImportingAPI:!1},(()=>{e(!1)}))}))}render(){const{disabled:e,alignLeft:t}=this.props,n=u.DISABLED_IMPORT_BUTTON_TOOLTIP_TEXT,{isImportingAPI:a}=this.state;return s.createElement("div",{className:h()("integrations-add-actions__button--container",{"align-left":t})},s.createElement(o.default,{type:"primary",isDisabled:e||a,isLoading:a,tooltip:e?n:"",size:"medium",text:"Import",onClick:this.handleImport}))}}},"./integrations/api-observability/containers/GatewayImportSetup.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("./integrations/api-observability/components/import/add/index.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js"),d=n("./integrations/api-observability/constants.ts"),u=n("./integrations/api-observability/oauth/GatewayOauthConnectingView.js"),p=n("./integrations/api-observability/oauth/GatewayOauthFailedView.js"),h=n("./integrations/utils/OauthUtilityMethods.js"),m=n("./appsdk/workbench/TabService.js"),g=n("./integrations/navigation/constants.js"),f=n("./js/components/base/LoadingIndicator.js"),y=n("./node_modules/lodash/lodash.js");let b=(0,a.observer)(s=class extends o.Component{constructor(e){super(e),this.state={authType:"",loading:!1,pollingParams:{}},this.handleOauthFlow=this.handleOauthFlow.bind(this),this.handleOauthCancel=this.handleOauthCancel.bind(this),this.handleRetry=this.handleRetry.bind(this)}UNSAFE_componentWillMount(){const e=y.get(this.props,"controller.serviceId"),t=y.get(c.GATEWAY_SERVICES_LIST,[e,"authType"]);this.setState({authType:t,loading:y.isEqual(t,d.OAUTH2)})}componentDidMount(){this.state.authType===d.OAUTH2&&this.handleOauthFlow()}componentWillUnmount(){this.state.oauthState===d.INITIATED&&this.handleOauthCancel(!1)}async handleOauthFlow(){const e=y.get(this.props,"controller.serviceId");this.setState({oauthState:d.INITIATED,loading:!1});try{let t,n={sessionId:await h.default.handleInitiateOAuth(e)};this.setState({pollingParams:n}),t=await h.default.pollForToken(n),t&&this.setState({oauthDetails:t,oauthState:d.SUCCESS})}catch(e){this.setState({oauthState:d.FAILED}),pm.logger.error("Something went wrong during OAuth flow",e)}}handleOauthCancel(e){const t=this.state.pollingParams,n=y.get(this.props,"controller.serviceId");t.cancelOauth=!0,this.setState({pollingParams:t}),e&&m.default.closeByRoute(g.GATEWAY_IMPORT_URL,{serviceId:n})}handleRetry(){this.handleOauthFlow()}render(){const{serviceId:e,classId:t,workspaceId:n,serviceName:s,sourceIdentifier:a,apiId:h,apiVersionId:m}=this.props.controller;return this.state.loading?o.createElement("div",{className:"integrations-page-container"},o.createElement(f.default,null)):this.state.authType===d.OAUTH2&&this.state.oauthState===d.INITIATED?o.createElement("div",null,o.createElement(u.default,{serviceId:e,serviceName:s,cancelOauth:this.handleOauthCancel})):this.state.authType===d.OAUTH2&&this.state.oauthState===d.FAILED?o.createElement(p.default,{selectedServiceName:s,retryHandler:this.handleRetry,selectedService:e}):o.createElement("div",{className:"integrations-page-container"},o.createElement("div",{className:"integrations-add"},o.createElement("div",{className:"integrations-add-card"},o.createElement("div",null,o.createElement(r.default,{type:"h1",text:`Import API${a===c.CREATE_API_MODAL?" Definition":""}\n                    from ${s||"API Gateway"}`}),o.createElement(l.default,{type:"lead",className:"integrations-add-card__description"},`Import definitions from ${s} and view deployment status and history directly from Postman.`)),o.createElement(i.default,{rule:t,serviceId:e,workspaceId:n,serviceName:s,sourceIdentifier:a,accessToken:y.get(this.state,"oauthDetails.accessToken"),refreshToken:y.get(this.state,"oauthDetails.refreshToken"),iconUrl:c.GATEWAY_SERVICES_LIST[e].iconUrl,darkIconUrl:c.GATEWAY_SERVICES_LIST[e].darkIconUrl,apiId:h,apiVersionId:m}))))}})||s},"./integrations/api-observability/controllers/GatewayImportController.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var s,o,a,i,r,l,c=n("./appsdk/workbench/BaseWorkbenchController.js"),d=(n("./node_modules/lodash/lodash.js"),n("../../node_modules/mobx/lib/mobx.module.js")),u=n("./integrations/api-observability/components/import/ImportGatewayServiceConstants.js");function p(e,t,n,s){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(s):void 0})}function h(e,t,n,s,o){var a={};return Object.keys(s).forEach((function(e){a[e]=s[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,s){return s(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let m=(s=class extends c.default{constructor(...e){super(...e),p(this,"serviceId",o,this),p(this,"ruleId",a,this),p(this,"workspaceId",i,this),p(this,"serviceName",r,this),p(this,"sourceIdentifier",l,this)}modifySource(e){this.sourceIdentifier=e}getServiceName(e){const t=u.GATEWAY_SERVICES_LIST[e];return t?t.serviceName:u.DEFAULT_SERVICE_NAME}didCreate({routeParams:e={},queryParams:t={},additionalContext:n={}}){this.serviceId=e.serviceId,this.classId=t.classId,this.workspaceId=n.workspaceId,this.sourceIdentifier=t.sourceIdentifier,this.apiId=n.apiId,this.apiVersionId=n.apiVersionId,this.serviceName=this.getServiceName(this.serviceId),this.setTitle(`Import API${this.sourceIdentifier===u.CREATE_API_MODAL?" Definition":""} from ${this.serviceName}`)}didQueryParamsChange(e={}){this.classId=e.classId,this.modifySource(e.sourceIdentifier)}},o=h(s.prototype,"serviceId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=h(s.prototype,"ruleId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=h(s.prototype,"workspaceId",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),r=h(s.prototype,"serviceName",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=h(s.prototype,"sourceIdentifier",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h(s.prototype,"modifySource",[d.action],Object.getOwnPropertyDescriptor(s.prototype,"modifySource"),s.prototype),s)},"./integrations/api-observability/gateway-actions.js":function(e,t,n){n.r(t),n.d(t,{FETCH_API_GATEWAY_META:function(){return o},FETCH_AWS_GATEWAY_APIS:function(){return s},FETCH_EXTERNAL_ID:function(){return i},FETCH_STAGES:function(){return a}});const s="fetch-aws-gateway-apis",o="fetch-api-gateway-meta",a="fetch-stages",i="fetch-external-id"},"./integrations/api-observability/oauth/GatewayOauthConnectingView.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js");let r=(0,a.observer)(s=class extends o.Component{constructor(e){super(e),this.state={}}render(){const{serviceId:e,serviceName:t}=this.props;return o.createElement("div",{className:"connect-api-gateway-tab"},o.createElement("div",{className:"api-gateway-connecting"},o.createElement("div",{className:"api-gateway-connecting__illustration_wrapper"},o.createElement("div",{className:`api-gateway-connecting__illustration__${e}`})),o.createElement("span",{className:"api-gateway-connecting__text-primary"},"Connecting to ",t,"..."),o.createElement("span",{className:"api-gateway-connecting__text-secondary"},"This may take up to 60 seconds."),o.createElement(i.default,{className:"api-gateway-connecting__cancel-btn",type:"outline",text:"Cancel",onClick:()=>{this.props.cancelOauth(!0)}})))}})||s},"./integrations/api-observability/oauth/GatewayOauthFailedView.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),r=n("./api-dev/components/common/ErrorHandler/ErrorHandler.js");let l=(0,a.observer)(s=class extends o.Component{render(){const{selectedServiceName:e}=this.props;return o.createElement("div",{className:"connect-api-gateway-tab"},o.createElement(r.default,{blankState:o.createElement(i.default,null),title:`${e} authorization failed`,description:"Please try again.",handler:this.props.retryHandler,buttonText:"Try Again",buttonType:"outline"}))}})||s},"./integrations/api-observability/services/ApiGatewayService.js":function(e,t,n){n.r(t);var s=n("./node_modules/lodash/lodash.js"),o=n.n(s),a=(n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),n("./integrations/api-observability/services/GatewayIntegrationsService.js")),i=n("./integrations/api-observability/constants.ts"),r=n("./integrations/api-observability/gateway-actions.js");t.default={fetchApiGateways:e=>a.default.performPreConfigAction(o().get(e,"rule"),e,r.FETCH_AWS_GATEWAY_APIS).then((e=>{if(e.status&&200===e.status)return Promise.resolve(o().get(e.body,"data.Items")||o().get(e.body,"data.items"));throw e})).catch((e=>Promise.reject(e))),fetchApiGatewaysUsingIntegrationId:e=>a.default.performAction(e,{},r.FETCH_AWS_GATEWAY_APIS).then((e=>{if(e.status&&200===e.status)return Promise.resolve(o().get(e.body.data,"Items")||o().get(e.body.data,"items"));throw e})).catch((e=>Promise.reject(e))),fetchDeployments:e=>a.default.listDeployments(e).then((e=>{if(e.status&&200===e.status){let t=o().get(e,"body.data.items")||o().get(e,"body.data.Items")||[];return t.sort(((e,t)=>{let n=e.CreatedDate||e.createdDate,s=t.CreatedDate||t.createdDate;return new Date(s)-new Date(n)})),Promise.resolve(t.splice(0,i.AWS_TOTAL_DEPLOYMENTS))}return Promise.reject({statusCode:e.status,...e.body})})).catch((e=>Promise.reject(e))),fetchAPIGatewayMeta:e=>a.default.performAction(e,{},r.FETCH_API_GATEWAY_META).then((e=>e.status&&200===e.status?Promise.resolve(o().get(e.body,"data")):Promise.reject({statusCode:e.status,...e.body}))).catch((e=>Promise.reject(e))),fetchStages:e=>a.default.performAction(e,{},r.FETCH_STAGES).then((e=>{if(e.status&&200===e.status)return Promise.resolve(o().get(e.body,"data.Items")||o().get(e.body,"data.item"));throw e})).catch((e=>Promise.reject(e))),fetchCloudWatchAggregateMetrics:(e,t)=>new Promise(((n,s)=>{a.default.performAction(e,{stage:t},i.FETCH_CLOUDWATCH_AGGREGATE_METRICS).then((e=>{n(o().get(e,"body.data"))})).catch((e=>{s(e)}))})),fetchCloudWatchTimeSeriesMetrics:(e,t)=>a.default.performAction(e,t,i.FETCH_CLOUDWATCH_TIMESERIES_METRICS),fetchExternalId:e=>new Promise(((t,n)=>{a.default.performPreConfigAction(o().get(e,"rule"),e,r.FETCH_EXTERNAL_ID).then((e=>{t(o().get(e,"body.data.externalId"))})).catch((e=>{n(e)}))})),deploySchema:(e,t)=>a.default.createDeployment(e,t),fetchPostmanExports:e=>a.default.listDeployments(e,!1,!0).then((e=>{if(e.status&&200===e.status)return Promise.resolve(e.body.data);throw e})).catch((e=>Promise.reject(e))),isDeployEnabled:(e,t)=>o().get(e,"variables.aws_api_type")===i.API_GATEWAY_TYPES.HTTP,isOverviewEnabled:e=>!0,fetchDeployOptionString:e=>a.default.performAction(e,{},r.FETCH_API_GATEWAY_META).then((e=>{if(e.status&&200===e.status)return Promise.resolve(`Deploy Schema on ${o().get(e,"body.data.Name")||o().get(e,"body.data.name")}`);throw e})).catch((e=>Promise.reject(e)))}},"./integrations/api-observability/services/AzureService.js":function(e,t,n){n.r(t);var s=n("./node_modules/lodash/lodash.js"),o=n.n(s),a=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts"),i=n("./integrations/api-observability/services/GatewayIntegrationsService.js"),r=n("./integrations/api-observability/constants.ts"),l=n("./integrations/utils/CommonHelperMethods.ts");t.default={fetchServicesMeta:(e=[],t)=>Promise.all(o().map(e,(e=>{const{azure_resource_group_id:n,azure_subscription_id:s,azure_service_id:o}=e,a={azure_subscription_id:s,azure_resource_group_id:n,azure_service_id:o};return i.default.performAction(t,a,r.AZURE_GATEWAY_ACTIONS.GET_SERVICE_META)}))).then((e=>{const t={};return o().each(e,(e=>{if(200!==e.status)throw e;{const n=o().get(e,"body.data");t[o().get(e,"body.data.id")]={id:o().get(n,"id"),name:o().get(n,"name"),location:o().get(n,"location"),gatewayUrl:o().get(n,"properties.gatewayUrl"),developerPortalUrl:o().get(n,"properties.developerPortalUrl"),publicIPAddresses:o().get(n,"properties.publicIPAddresses"),privateIPAddresses:o().get(n,"properties.privateIPAddresses")}}})),Promise.resolve(t)})).catch((e=>Promise.reject(e))),fetchApiMeta:(e,t)=>{const{azure_resource_group_id:n,azure_subscription_id:s,azure_service_id:a,azure_api_id:l}=e,c={azure_subscription_id:s,azure_resource_group_id:n,azure_service_id:a,azure_api_id:l};return i.default.performAction(t,c,r.AZURE_GATEWAY_ACTIONS.GET_API_META).then((e=>{if(200===e.status){const t=o().get(e,"body.data"),n={id:o().get(t,"id"),name:o().get(t,"properties.displayName"),version:o().get(t,"properties.apiVersion")};return Promise.resolve(n)}throw e})).catch((e=>Promise.reject(e)))},fetchServiceMeta:(e,t)=>{const{azure_resource_group_id:n,azure_subscription_id:s,azure_service_id:a}=e,l={azure_subscription_id:s,azure_resource_group_id:n,azure_service_id:a};return i.default.performAction(t,l,r.AZURE_GATEWAY_ACTIONS.GET_SERVICE_META).then((e=>{if(200===e.status){const t=o().get(e,"body.data"),n={id:o().get(t,"id"),name:o().get(t,"name"),location:o().get(t,"location"),gatewayUrl:o().get(t,"properties.gatewayUrl"),developerPortalUrl:o().get(t,"properties.developerPortalUrl"),publicIPAddresses:o().get(t,"properties.publicIPAddresses"),privateIPAddresses:o().get(t,"properties.privateIPAddresses")};return Promise.resolve(n)}throw e})).catch((e=>Promise.reject(e)))},fetchSubscriptionMeta:(e,t)=>{const{azure_subscription_id:n}=e,s={azure_subscription_id:n};return i.default.performAction(t,s,r.AZURE_GATEWAY_ACTIONS.GET_SUBSCRIPTION_META).then((e=>{if(200===e.status){const t=o().get(e,"body.data"),n={id:o().get(t,"subscriptionId"),name:o().get(t,"displayName")};return Promise.resolve(n)}throw e})).catch((e=>Promise.reject(e)))},fetchSubscriptionsMeta:(e=[],t)=>Promise.all(o().map(e,(e=>{const{azure_subscription_id:n}=e,s={azure_subscription_id:n};return i.default.performAction(t,s,r.AZURE_GATEWAY_ACTIONS.GET_SUBSCRIPTION_META)}))).then((e=>{const t={};return o().each(e,(e=>{if(200!==e.status)throw e;{const n=o().get(e,"body.data");t[o().get(e,"body.data.subscriptionId")]={id:o().get(n,"subscriptionId"),name:o().get(n,"displayName")}}})),Promise.resolve(t)})).catch((e=>Promise.reject(e))),fetchChangelog:(e,t)=>{const{azure_resource_group_id:n,azure_subscription_id:s,azure_service_id:a,azure_api_id:c}=e,d={azure_subscription_id:s,azure_resource_group_id:n,azure_service_id:a,azure_api_id:c};return i.default.performAction(t,d,r.AZURE_GATEWAY_ACTIONS.LIST_API_RELEASES).then((e=>{if(200===e.status){const t=o().get(e,"body.data"),n=o().map(t.value,(e=>({createdAt:(0,l.formatUtcDate)(o().get(e,"properties.createdDateTime")),updatedAt:(0,l.formatUtcDate)(o().get(e,"properties.updatedDateTime")),description:o().get(e,"properties.notes")})));return Promise.resolve(n)}throw e})).catch((e=>Promise.reject(e)))},fetchExports:(e,t)=>a.HTTPGatewayService.request({data:{service:"integrations",method:"get",path:`/gateway-integrations/${t}/list`,query:{exportOnly:!0,internal:!0,azure_api_path:o().get(e,"azure_api_path")}}}).then((e=>{if(200==e.status&&o().get(e,"body.data")){const t=o().map(e.body.data,(e=>({createdAt:(0,l.formatUtcDate)(e.createdAt),azure_api_path:o().get(e,"data.azure_api_path"),azure_revision_id:o().get(e,"data.azure_revision_id"),schemaSource:o().get(e,"data.schemaSource")})));return Promise.resolve(t)}throw e})).catch((e=>Promise.reject(e))),fetchRevisions:(e,t)=>{const{azure_resource_group_id:n,azure_subscription_id:s,azure_service_id:a,azure_api_id:c}=e,d={azure_subscription_id:s,azure_resource_group_id:n,azure_service_id:a,azure_api_id:c};return i.default.performAction(t,d,r.AZURE_GATEWAY_ACTIONS.LIST_API_REVISIONS).then((e=>{if(200===e.status){const t=o().get(e,"body.data"),n=(o().map(t.value,(e=>({azure_revision_id:o().get(e,"apiRevision"),createdAt:(0,l.formatUtcDate)(o().get(e,"createdDateTime")),description:o().get(e,"description"),privateUrl:o().get(e,"privateUrl"),isOnline:{value:o().get(e,"isOnline"),azure_revision_id:o().get(e,"apiRevision"),isDisabled:!1,disabledText:e.isCurrent&&"Current revision cannot be made offline."},isCurrent:{value:o().get(e,"isCurrent"),azure_revision_id:o().get(e,"apiRevision"),isDisabled:!1,disabledText:e.isCurrent&&"Current revision cannot be disabled."}})))||[]).reduce(((e,t)=>t.isCurrent.value?[t,...e]:[...e,t]),[]);return Promise.resolve(n||[])}throw e})).catch((e=>Promise.reject(e)))},toggleOnlineRevision:(e,t,n=!1,s)=>{const{azure_resource_group_id:o,azure_subscription_id:a,azure_service_id:l,azure_api_id:c,azure_api_path:d}=e,u={azure_subscription_id:a,azure_resource_group_id:o,azure_service_id:l,azure_api_id:c,azure_api_path:d,azure_revision_id:t,azure_revision_action_type:"toggle-revision-status",azure_revision_online:n};return i.default.performAction(s,u,r.AZURE_GATEWAY_ACTIONS.PERFORM_REVISION_ACTION).then((e=>{if(200===e.status)return Promise.resolve(e);throw e})).catch((e=>Promise.reject(e)))},toggleCurrentRevision:(e,t,n,s)=>{const{azure_resource_group_id:o,azure_subscription_id:a,azure_service_id:l,azure_api_id:c,azure_api_path:d}=e,u={azure_subscription_id:a,azure_resource_group_id:o,azure_service_id:l,azure_api_id:c,azure_api_path:d,azure_revision_id:t,azure_release_notes:n,azure_revision_action_type:"make-revision-current"};return i.default.performAction(s,u,r.AZURE_GATEWAY_ACTIONS.PERFORM_REVISION_ACTION).then((e=>{if(200===e.status)return Promise.resolve(e);throw e})).catch((e=>Promise.reject(e)))},fetchRevisionMapping:(e,t,n)=>{const s=o().map(t,(e=>e.azure_revision_id)),{azure_api_path:a}=e,l={azure_api_path:a,azure_revisions:s,integrationId:n};return i.default.performAction(n,l,r.AZURE_GATEWAY_ACTIONS.GET_REVISION_SOURCE_MAPPING).then((e=>{if(200===e.status)return Promise.resolve(o().get(e,"body.data"));throw e})).catch((e=>Promise.reject(e)))},isDeployEnabled:(e,t)=>t!==r.RELEASE_CONTEXTBAR,deploySchema:(e,t)=>i.default.createDeployment(e,t),fetchSubscriptions:(e,t,n)=>new Promise(((s,a)=>{i.default.performPreConfigAction(e,t,n).then((e=>{let t=o().get(e,"body.data.value",[]),n=o().map(t,(e=>({label:e.displayName,value:e.subscriptionId})));s(n)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Subscriptions"),pm.logger.error("Something went wrong while fetching Azure Subscriptions",e),a(e)}))})),fetchSubscriptionsWithIntegrationId:(e,t,n)=>new Promise(((s,a)=>{i.default.performAction(e,t,n).then((e=>{let t=o().get(e,"body.data.value",[]),n=o().map(t,(e=>({label:e.displayName,value:e.subscriptionId})));s(n)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Subscriptions",e),a(e)}))})),fetchResourceGroups:(e,t,n)=>new Promise(((s,a)=>{i.default.performPreConfigAction(e,t,n).then((e=>{let t=o().get(e,"body.data.value",[]),n=o().map(t,(e=>({label:e.name,value:e.name})));s(n)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Resource Groups"),pm.logger.error("Something went wrong while fetching Azure Resource Groups",e),a(e)}))})),fetchResourceGroupsWithIntegrationId:(e,t,n)=>new Promise(((s,a)=>{i.default.performAction(e,t,n).then((e=>{let t=o().get(e,"body.data.value",[]),n=o().map(t,(e=>({label:e.name,value:e.name})));s(n)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Resource Groups",e),a(e)}))})),fetchServices:(e,t,n)=>new Promise(((s,a)=>{i.default.performPreConfigAction(e,t,n).then((e=>{let t=o().get(e,"body.data.value",[]),n=o().map(t,(e=>({label:e.name,value:e.name,path:e.id})));s(n)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure Services"),pm.logger.error("Something went wrong while fetching Azure Services",e),a(e)}))})),fetchServicesWithIntegrationId:(e,t,n)=>new Promise(((s,a)=>{i.default.performAction(e,t,n).then((e=>{let t=o().get(e,"body.data.value",[]),n=o().map(t,(e=>({label:e.name,value:e.name,path:e.id})));s(n)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure Services",e),a(e)}))})),fetchApis:(e,t,n)=>new Promise(((s,a)=>{i.default.performPreConfigAction(e,t,n).then((e=>{let t=o().get(e,"body.data.value",[]),n=o().filter(t,(e=>!o().get(e,"properties.type")||"http"===o().get(e,"properties.type"))),a=o().map(n,(e=>({label:e.name,value:e.name,path:e.id})));s(a)})).catch((e=>{pm.toasts.error("Something went wrong while fetching Azure APIs"),pm.logger.error("Something went wrong while fetching Azure APIs",e),a(e)}))})),fetchApisWithIntegrationId:(e,t,n)=>new Promise(((s,a)=>{i.default.performAction(e,t,n).then((e=>{let t=o().get(e,"body.data.value",[]),n=o().filter(t,(e=>!o().get(e,"properties.type")||"http"===o().get(e,"properties.type"))),a=o().map(n,(e=>({label:e.name,value:e.name,path:e.id})));s(a)})).catch((e=>{pm.logger.error("Something went wrong while fetching Azure APIs",e),a(e)}))})),fetchSchema:(e,t,n)=>{const{azure_resource_group_id:s,azure_subscription_id:a,azure_service_id:l,azure_api_id:c}=t,d={azure_subscription_id:a,azure_resource_group_id:s,azure_service_id:l,azure_api_id:c,azure_export_format:n};return i.default.performAction(e,d,r.AZURE_GATEWAY_ACTIONS.EXPORT_API).then((e=>{if(200===e.status){const t=o().get(e,"body.data.versions.0.schemas.0"),n={content:o().get(t,"schema",""),language:o().get(t,"language"),type:o().get(t,"type")};return Promise.resolve(n)}throw new Error("Something went wrong while fetching schema")})).catch((e=>Promise.reject(e)))}}},"./integrations/api-observability/services/GatewayIntegrationsService.js":function(e,t,n){n.r(t);var s=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/HTTPGatewayService.ts");t.default={createDeployment:(e,t)=>s.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/${e}/deploy`,body:t}}),listDeployments:(e,t=!1,n=!1)=>{const o={};return t&&(o.exportOnly=!0,o.internal=!0),n&&(o.internal=!0),s.HTTPGatewayService.request({data:{service:"integrations",method:"get",path:`/gateway-integrations/${e}/list`,query:{...o}}})},performAction:(e,t,n)=>s.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/${e}/actions/${n}`,body:t}}),performPreConfigAction:(e,t,n)=>s.HTTPGatewayService.request({data:{service:"integrations",method:"post",path:`/gateway-integrations/actions/${n}`,body:{...t,classId:e}}})}},"./integrations/api-observability/services/Helper.js":function(e,t,n){n.r(t);var s=n("./integrations/api-observability/services/index.js"),o=n("./onboarding/src/features/Homepage/pages/IntegrationsPage/services/IntegrationService.ts"),a=n("./integrations/api-observability/constants.ts"),i=n("./js/modules/services/AnalyticsService.js"),r=n("./node_modules/async/dist/async.js"),l=n.n(r),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/SyncStatusStore.js"),u=n("./js/stores/CurrentUserStore.js"),p=n("./onboarding/src/common/LaunchDarkly.js"),h=n("./api-dev/constants/Permissions.js"),m=n("./api-dev/services/APIPermissionService.js"),g=n("./api-dev/interfaces/APIInterface.js"),f=n("./api-dev/services/APIDevService.js"),y=n("./node_modules/lodash/lodash.js");t.default={shouldRenderDeploy:(e,t)=>!!(e&&e.rule&&s.default[e.rule]&&y.isFunction(s.default[e.rule].isDeployEnabled))&&s.default[e.rule].isDeployEnabled(e,t),getDeployOptionContext:(e,t)=>{if(!e)return t("API version missing");l().waterfall([function(t){return o.default.getConfiguredIntegrationsByEntityAndClientCategory("apiversion",e,[a.API_OBSERVABILITY]).then((e=>e[a.API_OBSERVABILITY].length>0?t(null,e[a.API_OBSERVABILITY][0]):t(null,null))).catch((e=>t(e)))},function(e,t){return e&&e.rule?s.default[e.rule]&&y.isFunction(s.default[e.rule].fetchDeployOptionString)?s.default[e.rule].fetchDeployOptionString(e.id).then((n=>t(null,{integration:e,deployString:n}))).catch((n=>t(null,{integration:e,deployString:"Deploy Schema"}))):t(null,{integration:e,deployString:"Deploy Schema"}):t(null,{integration:null,deployString:"Deploy Schema"})}],((e,n)=>(e&&(pm.logger.error("Error occurred while fetching configured integration",e),pm.toasts.error("Error occurred while fetching configured integration")),t(e,n))))},shouldRenderGatewayIntegration:e=>{const t=(0,c.resolveStoreInstance)(u.default).isLoggedIn||!1,n=y.get(e,"apiPermissionStore.canViewAPIIntegrations",!1),s=p.launchDarkly.getFlag("api-deployments-tab-enabled",!1);return!!(t&&n&&s)},truncate:e=>e.length>35?e.substring(0,35)+"...":e,addDeployClickAnalytics:(e,t)=>{e&&e.rule&&i.default.addEventV2({category:"gateway-integration",action:t,label:e.rule,value:1})},hasEditPermissionOnAPI:e=>e?(0,c.resolveStoreInstance)(d.default).onSyncAvailable({timeout:8e3}).then((()=>{const t=(0,c.resolveStoreInstance)(u.default).id,n=[h.UPDATE_API_META],s=m.default.getAPIPermissionQueryObject(n,[{id:e}],t);return m.default.fetchPermissions(s).then((t=>Promise.resolve(y.get(t,`${e}:UPDATE_API_META.allowed`)))).catch((e=>{throw e}))})).catch((e=>Promise.reject(e))):Promise.reject("API id is required to fetch permissions"),fetchAPIDetails:async e=>{if(!e)return{};try{let t=await(0,g.getAPI)(e),n=await(0,g.isAPIGitLinked)(e),s={apiDetails:t,isGitIntegrationLinked:n,apiDefinition:{}};if(n){const t=await(0,g.getAPILinkedEntityModel)(e,{name:"branch"},"apiDefinition","");return s=y.merge({},s,{apiDefinition:t}),s}return s}catch(e){return Promise.reject(e)}},isSchemaPresent:(e,t)=>f.default.getRelations(e,t).then((e=>{const t=y.get(e,"apiDefinition")&&y.get(y.keys(e.apiDefinition),0),n=y.get(e,"schema")&&y.get(y.keys(e.schema),0);return!y.isEmpty(t)||!y.isEmpty(n)})).catch((e=>Promise.reject(e))),addAzureServicesAnalytics:e=>{const t=y.get(e,"rule",""),n=y.get(e,"variables.linked_apis",[]),s=y.size(n)||0;i.default.addEventV2({category:a.GATEWAY_INTEGRATION_ANALYTICS_EVENT_CATEGORY,action:a.AZURE_APIM.SERVICE_ANALYTICS_ACTION,label:t,value:s})}}},"./integrations/api-observability/services/index.js":function(e,t,n){n.r(t);var s=n("./integrations/api-observability/services/ApiGatewayService.js"),o=n("./integrations/api-observability/services/AzureService.js");t.default={api_gateway_aws:s.default,api_management_azure:o.default}},"./integrations/components/OAuthComponent.js":function(e,t,n){n.r(t),n.d(t,{AuthorizationErrorView:function(){return y},AuthorizingView:function(){return f}});var s=n("./node_modules/prop-types/index.js"),o=n.n(s),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/UnableToLoad.js"),c=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("../../node_modules/react/index.js");const u=c.default.div`
    overflow: auto;
    padding: var(--spacing-xxl);
    display: flex;
    align-items: center;
    flex-direction: column;
  `,p=c.default.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: var(--spacing-xxxl);
  `,h=c.default.div`
    background-color: var(--background-color-primary);
    width: 60px;
    height: 60px;
    border-radius: var(--border-radius-default);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: var(--spacing-m);
  `,m=c.default.div`
    margin-bottom: var(--spacing-l);
  `,g=c.default.div`
    margin-bottom: var(--spacing-xl);
  `,f=e=>{const{iconName:t,primaryText:n,secondaryText:s,onCancel:o}=e;return d.createElement(u,null,d.createElement(p,null,d.createElement(h,null,d.createElement("div",{className:t,"data-testid":"oauth-icon"})),d.createElement(m,{"data-testid":"oauth-primary-text"},d.createElement(a.default,{color:"content-color-primary",typographyStyle:{fontSize:"text-size-xxl",fontWeight:"text-weight-bold",lineHeight:"line-height-xxl"}},n)),d.createElement(g,{"data-testid":"oauth-secondary-text"},d.createElement(a.default,{color:"content-color-secondary",typographyStyle:{fontSize:"text-size-l"}},s)),d.createElement(i.default,{"data-testid":"oauth-cancel-button",type:"secondary",onClick:o,text:"Cancel"})))},y=e=>{const{title:t,description:n,buttonText:s,onButtonClick:o}=e;return d.createElement(u,null,d.createElement(r.default,{title:t,description:n,secondaryAction:d.createElement(i.default,{type:"outline",text:s,onClick:o,"data-testid":"oauth-error-button"})},d.createElement(l.default,null)))};f.propTypes={iconName:o().string.isRequired,primaryText:o().string.isRequired,secondaryText:o().string.isRequired,onCancel:o().func.isRequired},y.propTypes={title:o().string.isRequired,description:o().string.isRequired,buttonText:o().string.isRequired,onButtonClick:o().func.isRequired}},"./integrations/controllers/OauthReauthenticateController.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var s,o,a,i,r,l=n("./appsdk/workbench/BaseWorkbenchController.js"),c=n("../../node_modules/mobx/lib/mobx.module.js"),d=n("./integrations/constants/integrationsConstants.ts"),u=n("./appsdk/workbench/TabService.js"),p=n("./integrations/navigation/constants.js"),h=n("./js/modules/services/AnalyticsService.js"),m=n("./node_modules/lodash/lodash.js");function g(e,t,n,s){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(s):void 0})}function f(e,t,n,s,o){var a={};return Object.keys(s).forEach((function(e){a[e]=s[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,s){return s(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}let y=(s=class extends l.default{constructor(...e){super(...e),g(this,"serviceConfig",o,this),g(this,"tokenId",a,this),g(this,"queryParamData",i,this),g(this,"eventName",r,this)}updateQueryParamData(e){m.has(e,"eventName")?(this.eventName=e.eventName,this.queryParamData=m.omit(e,"eventName")):this.queryParamData=e}didCreate({routeParams:e,queryParams:t}){const n=m.get(e,"serviceId"),s=m.get(d.SERVICE_OAUTH_CONFIG,m.upperCase(n));this.serviceConfig=s,this.tokenId=m.get(e,"tokenId"),this.updateQueryParamData(t),this.closeTab=this.closeTab.bind(this),this.reauthorizationCompletedCallback=this.reauthorizationCompletedCallback.bind(this)}reauthorizationCompletedCallback(){h.default.addEventV2({category:"integration-re-authentication",action:"re_authentication_successful",label:m.get(this.serviceConfig,"service")}),pm.windowEvents.emit(this.eventName,(0,c.toJS)(this.queryParamData))}closeTab(){u.default.closeByRoute(p.OAUTH_REAUTHENTICATE_URL,this.getRouteParams())}didQueryParamsChange(e){this.updateQueryParamData(e)}},o=f(s.prototype,"serviceConfig",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=f(s.prototype,"tokenId",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=f(s.prototype,"queryParamData",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r=f(s.prototype,"eventName",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.DEFAULT_REAUTHENTICATION_COMPLETED_EVENT_NAME}}),f(s.prototype,"updateQueryParamData",[c.action],Object.getOwnPropertyDescriptor(s.prototype,"updateQueryParamData"),s.prototype),s)},"./integrations/proxy/components/AddSessionRequestToCollection.js":function(e,t,n){n.r(t),n.d(t,{AddSessionRequestToCollection:function(){return P}});var s,o=n("../../node_modules/react/index.js"),a=n("./js/components/base/Modals.js"),i=n("./node_modules/classnames/index.js"),r=n.n(i),l=n("./runtime-repl/_common/components/CollectionExplorer/Explorer.js"),c=n("./js/modules/services/AnalyticsService.js"),d=n("./integrations/proxy/helpers/analyticsEventUtils.js"),u=n("./runtime-repl/collection/CollectionTreeUtil.js"),p=n("./js/stores/StoreManager.js"),h=n("./js/stores/ActiveWorkspaceStore.js"),m=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),x=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),S=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),_=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),v=n("./integrations/proxy/services/ProxySessionService.js"),E=n("./runtime-repl/collection/_api/CollectionInterface.js"),w=n("./node_modules/uuid/v4.js"),I=n.n(w),C=n("./integrations/proxy/helpers/constants.ts"),T=n("./node_modules/lodash/lodash.js");const A=["edit"];let P=(0,_.observer)(s=class extends o.Component{constructor(e){super(e),this.getClassNames=()=>r()("addrequest-top-container-modal"),this.getCollections=()=>T.flatMap(this.state.collectionList,u.flattenCollection),this.getCustomStyles=()=>({margin:"auto"}),this.handleSelect=e=>{this.setState({isTargetSelected:!0,targetUid:T.get(e,"uid"),targetName:T.get(e,"name")})},this.getCreateRowPlaceholder=()=>"Name your collection",this.handleCancel=()=>{this.setState({isTargetSelected:!0,targetUid:null,targetName:null}),this.props.handleCloseModal&&this.props.handleCloseModal()},this.handleBack=()=>{this.setState({isTargetSelected:!1,targetUid:null,targetName:null,groupByDomain:!1,groupByEndpoint:!1})},this.handleSave=()=>{const{addToast:e,requestIdList:t,sessionId:n,source:s,clearSelectedRequests:a}=this.props,{groupByDomain:i,groupByEndpoint:r,targetUid:l,targetName:u}=this.state,p={collectionId:l,collectionName:u,requestList:t,groupByDomain:i,groupByEndpoint:r,operationId:I()()},h=!p.collectionId;this.props.handleCloseModal&&this.props.handleCloseModal(),e({status:"info",description:`${T.size(t)} requests are being added to the collection '${this.state.targetName}'. You will be notified when all the requests are added`}),h&&c.default.addEventV2({category:s,action:C.CREATE_COLLECTION_ACTION_NAME,label:"post-session",traceId:n}),v.default.addRequestsToCollection(p,n),a(),v.default.getAddToCollectionStatus(n,p.operationId,((t,a)=>{t?e({title:"Error",status:"error",description:"Couldn’t add requests to the collection. Please try again."}):(h&&c.default.addEventV2({category:s,action:C.SUCCESSFULLY_CREATED_COLLECTION_EVENT,label:"post-session",traceId:n}),e({title:"Requests are added to collection",status:"success",description:o.createElement(o.Fragment,null,`${T.size(this.props.requestIdList)} requests got added to '${this.state.targetName}' collection.`,o.createElement(g.default,{onClick:()=>{(0,E.openCollectionInTab)(this.state.targetUid)},type:"monochrome-plain",text:"View now"}))}))})),c.default.addEventV2({category:(0,d.default)({source:s}),action:"requests-added-to-collection",value:T.size(t),label:"post-session",traceId:n}),this.state.groupByDomain&&c.default.addEventV2({category:(0,d.default)({source:s}),action:"organise-by-domain",label:"post-session",traceId:n}),this.state.groupByEndpoint&&c.default.addEventV2({category:(0,d.default)({source:s}),action:"organise-by-endpoint",label:"post-session",traceId:n})},this.toggleGroupingSettings=e=>{this.setState((t=>({[e]:!t[e]})))},this.openNewCollectionRow=()=>{this.explorerRef.current.handleStartCreate()},this.handleCreateNewCollection=e=>{this.setState({isTargetSelected:!0,targetUid:null,targetName:e})},this.state={isTargetSelected:!1,targetUid:null,targetName:null,groupByDomain:!1,groupByEndpoint:!1,collectionList:null},this.explorerRef=o.createRef()}async componentDidMount(){const e=(0,p.resolveStoreInstance)(h.default).id,t=await(0,m.subscribeMeta)(e,{permissions:A});this.setState({collectionList:t.list})}componentWillUnmount(){this.collectionList&&this.collection.unsubscribe&&this.collectionList.unsubscribe()}render(){const e=`Save ${T.size(this.props.requestIdList)} request${T.size(this.props.requestIdList)>0?"s":""}`;return o.createElement(a.Modal,{className:this.getClassNames(),isOpen:this.props.isOpen,customStyles:this.getCustomStyles()},o.createElement(a.ModalHeader,null,e),o.createElement(a.ModalContent,null,this.state.isTargetSelected?o.createElement(f.default,{direction:"column",gap:"spacing-l"},o.createElement(f.default,{direction:"row",gap:"spacing-s"},o.createElement(y.default,{text:"Save to",type:"primary"}),o.createElement(b.default,{type:"body-medium"},this.state.targetName)),o.createElement(f.default,{direction:"column",gap:"spacing-s"},o.createElement(y.default,{text:"Organize requests by",type:"h6"}),o.createElement(x.default,{isChecked:this.state.groupByDomain,label:"Domain name",onChange:()=>{this.toggleGroupingSettings("groupByDomain")}}),o.createElement(x.default,{isChecked:this.state.groupByEndpoint,label:"Endpoints",onChange:()=>{this.toggleGroupingSettings("groupByEndpoint")}}))):o.createElement(f.default,{direction:"column",height:"100%",gap:"spacing-s"},o.createElement(f.default,{direction:"row",gap:"spacing-s"},o.createElement(y.default,{text:"Select a collection to save to",type:"primary"})),o.createElement(f.default,{direction:"column",gap:"spacing-s",height:"90%"},o.createElement(l.default,{createPlaceholder:this.getCreateRowPlaceholder,isLeaf:()=>!1,leafIcon:T.noop,targets:this.getCollections(),onFilter:T.noop,cancelCreate:T.noop,onCreate:this.handleCreateNewCollection,onSelect:this.handleSelect,ref:this.explorerRef,searchPlaceholder:"Search for collection"})))),o.createElement(a.ModalFooter,null,this.state.isTargetSelected?o.createElement(f.default,{direction:"row",gap:"spacing-m"},o.createElement(g.default,{type:"secondary",size:"medium",onClick:this.handleBack,text:"Back"}),o.createElement(g.default,{isDisabled:!1,type:"primary",size:"medium",onClick:this.handleSave,text:"Save"})):o.createElement(f.default,{width:"100%",direction:"row",justifyContent:"space-between"},o.createElement(g.default,{type:"muted-plain",size:"medium",onClick:this.openNewCollectionRow,text:"New collection"}),o.createElement(g.default,{type:"secondary",size:"medium",onClick:this.handleCancel,text:"Cancel"}))))}})||s;t.default=(0,S.default)(P)},"./integrations/proxy/components/CaptureCookieSettings.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s,o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-info-stroke-small.js"),l=n("../../node_modules/react/index.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("./integrations/proxy/helpers/constants.ts"),p=n("./js/stores/StoreManager.js"),h=n("./integrations/proxy/stores/SessionCookieStore.js"),m=n("../../node_modules/mobx-react/dist/mobx-react.module.js");let g=(0,m.observer)(s=class extends l.Component{constructor(e){super(e),this.sessionCookieStore=(0,p.resolveStoreInstance)(h.default)}render(){return l.createElement(o.default,{direction:"column",gap:"spacing-l"},l.createElement(o.default,{direction:"column",gap:"spacing-s"},l.createElement(o.default,{direction:"row",gap:"spacing-zero",wrap:"wrap-reverse"},l.createElement("div",null,l.createElement(a.default,{isChecked:this.props.source===u.PROXY?this.sessionCookieStore.saveCookiesFlag:this.sessionCookieStore.captureInterceptorCookies,label:"Capture cookies",onChange:e=>{this.props.source===u.PROXY&&this.sessionCookieStore.updateSaveCookiesFlag(e),this.props.source===u.INTERCEPTOR&&this.sessionCookieStore.updateCaptureInterceptorCookiesFlag(e)}})),this.props.infoBadgeText?l.createElement(o.default,{alignItems:"center",justifyContent:"center",padding:{paddingLeft:"spacing-xs"}},l.createElement(i.default,{content:this.props.infoBadgeText,placement:"bottom"},l.createElement(r.default,null))):null)))}})||s;g.propTypes={source:d().string.isRequired,infoBadgeText:d().string}},"./integrations/proxy/components/CaptureProxyResponseSettings.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),i=n("../../node_modules/react/index.js"),r=n("./node_modules/prop-types/index.js"),l=n.n(r);function c(e){const[t,n]=(0,i.useState)(e.saveResponses);return i.createElement(s.default,{direction:"column",gap:"spacing-l"},i.createElement(s.default,{direction:"column",gap:"spacing-s"},i.createElement(s.default,{direction:"row",gap:"spacing-zero",wrap:"wrap-reverse"},i.createElement(o.default,{content:"The standardised response size followed in Postman is currently\n  limited to 5MB. Saving media type responses are currently not supported.",placement:"top-start",openDelay:"500"},i.createElement("div",null,i.createElement(a.default,{isChecked:t,label:"Save responses for requests",onChange:()=>{return t="saveResponses",void n((n=>{const s=!n;return e.onCaptureResponseSettingToggle&&e.onCaptureResponseSettingToggle(t,s),s}));var t}}))))))}c.propTypes={saveResponses:l().bool,onCaptureResponseSettingToggle:l().func}},"./integrations/proxy/components/CookiesTable.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/Search.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke.js"),y=n("./js/modules/services/AnalyticsService.js"),b=n("./integrations/proxy/helpers/analyticsEventUtils.js"),x=n("./node_modules/lodash/lodash.js"),S=n.n(x),_=n("./node_modules/moment/moment.js"),v=n.n(_),E=n("./js/stores/StoreManager.js"),w=n("./integrations/proxy/stores/SessionCookieStore.js"),I=n("./integrations/proxy/services/SessionCookieService.js"),C=n("./integrations/proxy/controllers/SessionCookieContoller.js"),T=n("./runtime-repl/cookies/_api/CookieInterface.js"),A=n("./runtime-repl/request-http/_api/RequestInterface.js"),P=n("./appsdk/components/link/Link.js"),k=n("./integrations/proxy/helpers/responseUtil.js"),j=n("./integrations/proxy/helpers/constants.ts");t.default=e=>{const[t,n]=(0,s.useState)(s.useMemo((()=>Y(e.data)))),[x,_]=(0,s.useState)({}),[R,O]=(0,s.useState)(!1),[M,D]=(0,s.useState)(!1),[L,N]=(0,s.useState)("420"),[F,z]=(0,s.useState)([]),B=e.sessionId,V=(0,E.resolveStoreInstance)(w.default),{addToast:H}=(0,o.default)(),[W,U]=(0,s.useState)(!1),[q,G]=(0,s.useState)("");function Y(e,t){const n=S().reduce(e,((e,t,n)=>(e.push({domain:n,cookieList:t}),e)),[]);let s=n;return t&&(s=function(e,t){if(!t)return e;const n=[];return S().forEach(e,(e=>{let s=S().filter(e.cookieList,(n=>{let s=[n.name,n.path,n.value,e.domain];return S().some(s,(e=>S().includes(S().toLower(e),S().toLower(t))))}));S().size(s)>0&&(e.cookieList=s,n.push(e))})),n}(n,t)),S().sortBy(s,"domain")}(0,s.useEffect)((()=>{const t=document.querySelector(".pane-content"),n=new ResizeObserver((t=>{(t=>{e.isActiveSession?N(""+(t[0].contentRect.height-370)):N(""+(t[0].contentRect.height-285))})(t)}));return n.observe(t),()=>{n.unobserve(t)}}),[]),(0,s.useEffect)((()=>{n(Y(e.data,q))}),[e.data]),s.useLayoutEffect((()=>{K.current(q)}),[q]);const $=(0,s.useRef)(S().debounce((()=>{y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"cookies-searched",label:e.isActiveSession?"in-session":"post-session",traceId:e.sessionId})}),1e3)),K=(0,s.useRef)(S().debounce((e=>{U(!0);const t=Y(V.getDomainWiseListOfCookies(B),e);n(t)}),500));return s.createElement(s.Fragment,null,s.createElement(i.default,{shrink:"1",direction:"column",gap:"spacing-m"},s.createElement(i.default,{direction:"row",justifyContent:"space-between"},s.createElement(u.default,{type:"search",width:"240px",placeholder:"Search captured cookies",value:q||"",onClear:()=>{G("");const e=Y(V.getDomainWiseListOfCookies(B));n(e)},onChange:e=>{const t=e.target.value;$.current(),G(t)}}),s.createElement(i.default,null,s.createElement(a.default,{type:"tertiary",icon:s.createElement(g.default,null),text:"Add to Cookie Jar",isDisabled:!(S().size(F)>0),onClick:function(){const t={};if(0===S().size(F))return;S().forEach(F,(e=>{const n=`${e.domain}#${e.path}#${e.name}`,s=v()(e.timestamp,I.default.TIMESTAMP_DATETIME_FORMAT);S().has(t,n)?t[n].timestamp.isBefore(s)&&(t[n].timestamp=s,t[n].cookie=e):t[n]={timestamp:s,cookie:e}}));const n=S().map(t,"cookie");let o,i;n.length>1?(o="Cookies are added to cookie jar",i=`${n.length} cookies have been added to Postman Cookie Jar. `):(o="Cookie added to cookie jar",i="1 cookie has been added to Postman Cookie Jar. "),(0,T.bulkAddCookies)(n),H({title:o,status:"success",description:s.createElement(s.Fragment,null,i,s.createElement(a.default,{onClick:()=>{pm.mediator.trigger("showCookieManagementModal")},type:"monochrome-plain",text:"View now"}))}),y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"cookies-added-to-cookiejar",value:S().size(n),label:e.isActiveSession?"in-session":"post-session",traceId:e.sessionId})}}),s.createElement(a.default,{type:"tertiary",icon:s.createElement(f.default,null),text:"Delete",isDisabled:!(S().size(F)>0),onClick:()=>{S().size(F)>0&&O(!0)}}))),t&&t.length>0?s.createElement("div",{className:"pm-session-cookie-table-wrapper"},s.createElement(d.default,{width:"98%",data:t,columns:[{id:"domainName",accessor:e=>{const{domain:t}=e;return[t,S().size(e.cookieList),e.filteredCookieLength]},Cell:({value:e})=>{const[t,n,o]=e;let a=n;o&&o>0&&(a=o);let c=`${a} ${a>1?" cookies":" cookie"}`;return s.createElement(i.default,{gap:"spacing-xs",align:"center",inline:!0},s.createElement(r.default,{type:"h5",text:t}),s.createElement(r.default,{type:"h6",text:c}),s.createElement(l.default,{type:"body-medium"}," "))}}],bodyMaxHeight:`${L}px`,rowExpanded:{subComponent:o=>{const a=t=>(y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"cookie-expanded",label:e.isActiveSession?"in-session":"post-session",traceId:e.sessionId}),s.createElement(i.default,{padding:{paddingLeft:"spacing-xl"},backgroundColor:"background-color-tertiary",className:"pm-expanded-row-container"},s.createElement("div",{className:"pm-proxy-expanded-view"},s.createElement(i.default,{gap:"spacing-s",inline:!0},s.createElement(l.default,{type:"para",color:"content-color-primary",isTruncated:!0},"Request: ",t.requestMethod," ",s.createElement(P.default,{onClick:n=>((t,n)=>{t.preventDefault();const s=n.requestData;let o,a,i,r;try{r=JSON.parse(S().get(s,"body")),"raw"===s.dataMode&&(r=JSON.stringify(r))}catch(e){r=S().get(s,"body")}const l=S().map(S().keys(s.headers),(e=>({key:e,value:s.headers[e]})));o={data:r,dataMode:S().get(s,"dataMode"),headerData:l,url:S().get(s,"url"),method:S().get(s,"method")&&S().get(s,"method").toUpperCase()},a={headers:S().get(s,"responseHeaders"),body:S().get(s,"responseBody"),statusCode:S().get(s,"responseStatusCode"),statusMessage:S().get(s,"responseStatusMessage")},i=S().get(s,"responseTime"),(0,A.openNewRequestTab)({initialValue:o,response:(0,k.createResponseData)(a,i)}),y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"request-opened-in-new-tab",label:e.isActiveSession?"cookie-in-session":"cookie-post-session",traceId:e.sessionId})})(n,t)},s.createElement(l.default,{type:"link-primary"},t.url))))))),r={data:o.cookieList,bodyMaxHeight:`${S().parseInt(.7*L)}px`,columns:(u=o.domain,[{Header:()=>s.createElement(i.default,{inline:!0,alignItems:"center"},s.createElement(c.default,{isChecked:S().get(x,u,!1),onChange:e=>{x[u]=e;let s={},o=[...t];S().forEach(o,((t,n)=>{t.domain===u&&S().forEach(t.cookieList,((t,a)=>{o[n].cookieList[a].isSelected=e,s[t.uid]={isSelected:e}}))})),z(S().filter(S().flatMap(o,"cookieList"),"isSelected")),V.updateCookiesData(B,s),U(!1),_(x),n(o)}})),cellWidth:"32px",id:"SelectAll",accessor:(e,t)=>{const{isSelected:n,uid:s}=e;return{isSelected:n,cookieId:s,domain:e.domain,rowIndex:t}},Cell:({value:e})=>{const o=e.cookieId,a=e.rowIndex,r=e.domain;return s.createElement(i.default,{padding:{paddingTop:"spacing-xs"}},s.createElement(c.default,{isChecked:e.isSelected,onChange:e=>{let s={},i=[...t];s[o]={isSelected:e},S().forEach(i,((t,n)=>{if(t.domain===r)return i[n].cookieList[a].isSelected=e,!1})),z(S().filter(S().flatMap(i,"cookieList"),"isSelected")),V.updateCookiesData(B,s),U(!1),n(i)}}))}},{Header:()=>s.createElement(i.default,{inline:!0,gap:"spacing-xs"},s.createElement(l.default,{type:"strong"},"Name")),cellWidth:"115px",id:"name",accessor:e=>{const{name:t}=e;return[t,e.domain]},Cell:({value:e})=>{const[t]=e;return s.createElement(l.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"},{Header:()=>s.createElement(i.default,{inline:!0,gap:"spacing-xs"},s.createElement(l.default,{type:"strong"},"Value")),cellWidth:"180px",id:"value",accessor:e=>{const{value:t}=e;return[t]},Cell:({value:e})=>{const[t]=e;return s.createElement(l.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"},{Header:()=>s.createElement(i.default,{inline:!0,gap:"spacing-xs"},s.createElement(l.default,{type:"strong"},"Path")),cellWidth:"80px",id:"path",accessor:"path",align:"left"},{Header:()=>s.createElement(i.default,{inline:!0,gap:"spacing-xs"},s.createElement(l.default,{type:"strong"},"Expires")),cellWidth:"180px",id:"expirationDate",accessor:"expires",align:"left"},{Header:()=>s.createElement(i.default,{inline:!0,gap:"spacing-xs"},s.createElement(l.default,{type:"strong"},"HttpOnly")),cellWidth:"80px",id:"httponly",accessor:e=>{const{httpOnly:t}=e;return s.createElement(l.default,{type:"para",className:"body-text",isTruncated:!0},S().capitalize(S().toString(t)))},align:"left"},{Header:()=>s.createElement(i.default,{inline:!0,gap:"spacing-xs"},s.createElement(l.default,{type:"strong"},"Secure")),cellWidth:"80px",id:"secure",accessor:e=>{const{secure:t}=e;return s.createElement(l.default,{type:"para",className:"body-text",isTruncated:!0},S().capitalize(S().toString(t)))},align:"left"},{Header:()=>s.createElement(i.default,{inline:!0,gap:"spacing-xs"},s.createElement(l.default,{type:"strong"},"Timestamp")),cellWidth:"180px",id:"timestamp",accessor:"timestamp",align:"left"}]),getRowId:e=>e.uid,globalFilter:{filter:q}};var u;return e.source!==j.INTERCEPTOR&&(r.rowExpanded={subComponent:a,autoResetExpanded:!1}),s.createElement(i.default,{padding:{paddingLeft:"spacing-xl"}},s.createElement(d.default,r))},autoResetExpanded:!1},pagination:!e.isActiveSession&&{addJumpToPageControls:!0,addPageSizeControls:!0,autoResetPage:W,pageSizeMenuPlacement:"top",initialPageSize:20}})):s.createElement(p.default,{title:"No results found"},s.createElement(h.default,null))),s.createElement(m.Modal,{isOpen:R,size:"small",onClose:()=>O(!1)},s.createElement(m.ModalHeader,{heading:"Delete Cookies?"}),s.createElement(m.ModalContent,null,s.createElement(l.default,{color:"content-color-secondary"},"This will delete the cookies from the session. Once deleted, you will no longer be able to add them to the cookie jar.")),s.createElement(m.ModalFooter,null,s.createElement(i.default,{grow:1,shrink:1,justifyContent:"flex-end",gap:"spacing-s"},s.createElement(a.default,{type:"secondary",text:"Cancel",onClick:()=>O(!1)}),s.createElement(a.default,{type:"destructive",text:"Delete Cookies",isLoading:M,onClick:function(){D(!0);const t=S().map(F,"uid");if(0===S().size(t))return D(!1),void O(!1);let s;C.default.delete({id:t}),V.deleteCookies(B,t),n(Y(V.getDomainWiseListOfCookies(B),q)),D(!1),O(!1),s=t.length>1?`${t.length} cookies have been deleted from the session.`:"1 cookie has been deleted from the session.",H({status:"success",description:s}),y.default.addEventV2({category:(0,b.default)({source:e.source}),action:"delete-cookie-clicked",label:e.isActiveSession?"in-session":"post-session",traceId:e.sessionId})}})))))}},"./integrations/proxy/components/InterceptorBridgeInstallation.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=(n("./js/models/InterceptorInstaller.js"),n("./js/stores/InterceptorInstallationUIStore.js")),r=n("./js/stores/InterceptorSettingsStore.js"),l=n("./js/stores/StoreManager.js"),c=n("./js/stores/CapturePanelUIStore.js"),d=n("./js/constants/AppUrlConstants.js"),u=n("./js/modules/services/AnalyticsService.js"),p=n("./js/constants/SettingsTypeConstants.js"),h=n("./js/components/banner/BannerContainer.js"),m=n("./js/components/banner/BannerHeader.js"),g=n("./js/components/banner/BannerBody.js"),f=n("./js/components/banner/BannerFooter.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),x=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),S=n("./appsdk/components/link/Link.js"),_=n("./js/components/banner/BannerConsts.js"),v=n("./js/utils/openSettings.js");const E="https://chrome.google.com/webstore/detail/"+window.INTERCEPTOR_ID,w=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.INFO},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Install Interceptor Bridge",onClick:z})))),I=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.INFO},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Downloading Bridge...",isDisabled:!0})))),C=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.INFO},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Installing Bridge...",isDisabled:!0})))),T=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.SUCCESS},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Install the browser extension from ",o.createElement(S.default,{to:E},o.createElement(b.default,{type:"link-default",isExternal:!0},"Chrome Web Store")))))),A=e=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.ERROR},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Node.js download failed",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement("div",null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Something went wrong while downloading the Node.js package. Read our ",o.createElement(S.default,{to:d.INTERCEPTOR_TROUBLESHOOTING_DOC},o.createElement(b.default,{type:"link-default",isExternal:!0}," troubleshooting doc ")),"for more information.")),e.errorCode&&o.createElement("div",null,o.createElement(b.default,{type:"body-medium",color:"content-color-primary",text:`Error code: ${e.errorCode}`,typographyStyle:{lineHeight:"line-height-xxl",fontWeight:"text-weight-bold"}}))),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Retry Download",onClick:z})))),P=e=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.ERROR},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Couldn't install Node.js and other dependencies",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement("div",null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Postman doesn't have the required permission to install Node.js and other dependencies. Read our ",o.createElement(S.default,{to:d.INTERCEPTOR_TROUBLESHOOTING_DOC},o.createElement(b.default,{type:"link-default",isExternal:!0}," troubleshooting doc ")),"for more information.")),e.errorCode&&o.createElement("div",null,o.createElement(b.default,{type:"body-medium",color:"content-color-primary",text:`Error code: ${e.errorCode}`,typographyStyle:{lineHeight:"line-height-xxl",fontWeight:"text-weight-bold"}}))),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Retry Installation",onClick:()=>pm.interceptorInstaller.installInterceptorBridge()})))),k=e=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.ERROR},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Couldn't install Node.js and other dependencies",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement("div",null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Postman doesn't have the required permission to install Node.js and other dependencies. Read our ",o.createElement(S.default,{to:d.INTERCEPTOR_TROUBLESHOOTING_DOC},o.createElement(b.default,{type:"link-default",isExternal:!0}," troubleshooting doc ")),"for more information.")),e.errorCode&&o.createElement("div",null,o.createElement(b.default,{type:"body-medium",color:"content-color-primary",text:`Error code: ${e.errorCode}`,typographyStyle:{lineHeight:"line-height-xxl",fontWeight:"text-weight-bold"}}))),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Retry Installation",onClick:()=>pm.interceptorInstaller.installNode()})))),j=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.INFO},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Install Interceptor Bridge",onClick:()=>pm.interceptorInstaller.installNode()})))),R=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.INFO},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Capture requests with Interceptor",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"The Interceptor Bridge connects the Postman app with the browser extension.")),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Downloading Node.Js...",isDisabled:!0})))),O=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.WARNING},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Install Node.js to finish setting up Bridge",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Complete Node.js installation from the pop-up. The bridge installation will resume automatically once you're done.")))),M=e=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.ERROR},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Node.js download failed",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement("div",null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Something went wrong while downloading the Node.js package. Read our ",o.createElement(S.default,{to:d.INTERCEPTOR_TROUBLESHOOTING_DOC},o.createElement(b.default,{type:"link-default",isExternal:!0}," troubleshooting doc ")),"for more information.")),e.errorCode&&o.createElement("div",null,o.createElement(b.default,{type:"body-medium",color:"content-color-primary",text:`Error code: ${e.errorCode}`,typographyStyle:{lineHeight:"line-height-xxl",fontWeight:"text-weight-bold"}}))),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Retry Download",onClick:()=>pm.interceptorInstaller.installNode()})))),D=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.WARNING},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Install Node.js to finish setting up Bridge",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Complete Node.js installation from the pop-up. The bridge installation will resume automatically once you're done.")),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Retry Node.js Installation",onClick:()=>pm.interceptorInstaller.installInterceptorBridge()})))),L=()=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.WARNING},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"No connection to interceptor",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"Make sure your browser is open and you've installed the ",o.createElement(S.default,{to:d.INTERCEPTOR_DOCS_URL},o.createElement(b.default,{type:"link-default",isExternal:!0},"Interceptor extension.")))))),N=e=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.WARNING},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Postman update required",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"To continue using the Interceptor extension, go to settings and update your Postman desktop app to v",e.minAppVersion," or greater.")),o.createElement(f.default,null,o.createElement(x.default,{type:"outline",size:"medium",text:"Open Settings",onClick:()=>{(0,l.resolveStoreInstance)(c.default).toggleCapturePanel(!1),(0,v.default)(null,p.SETTINGS_UPDATE)}})))),F=e=>o.createElement(o.Fragment,null,o.createElement(h.default,{bannerType:_.default.WARNING},o.createElement(m.default,null,o.createElement(y.default,{type:"h5",styleAs:"h5",text:"Interceptor update required",hasBottomSpacing:!0})),o.createElement(g.default,null,o.createElement(b.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"This version of Interceptor isn't compatible with the current version of the Postman app. Update Interceptor to v",e.minExtensionVersion," or greater. Visit the ",o.createElement(S.default,{to:d.UPDATE_INTERCEPTOR_DOCS_URL},o.createElement(b.default,{type:"link-default",isExternal:!0},"Learning center"))))));function z(){u.default.addEventV2({category:"interceptor",action:"initiate_installation"}),pm.interceptorInstaller.installInterceptorBridge()}function B({state:e,data:t}){return o.createElement("div",null,(n=t,{BRIDGE_NOT_YET_INSTALLED:o.createElement(w,null),DONE:o.createElement(T,null),ERR_DOWNLOAD:o.createElement(A,{errorCode:n}),ERR_INSTALLATION:o.createElement(P,{errorCode:n}),MACOS_NODE_NOT_YET_INSTALLED:o.createElement(j,null),NODE_DOWNLOAD_IN_PROGRESS:o.createElement(R,null),NODE_DOWNLOADED:o.createElement(O,null),NODE_ERROR:o.createElement(M,{errorCode:n}),NODE_INSTALLATION_ERROR:o.createElement(k,{errorCode:n}),NODE_NOT_INSTALLED:o.createElement(D,null),BRIDGE_INSTALLATION_IN_PROGRESS:o.createElement(C,null),BRIDGE_DOWNLOAD_IN_PROGRESS:o.createElement(I,null)})[e]);var n}let V=(0,a.observer)(s=class extends o.Component{constructor(e){super(e),this.interceptorStore=(0,l.resolveStoreInstance)(r.default),this.interceptorUIStore=(0,l.resolveStoreInstance)(i.default),this.state={ERR_CODE:""},this.installInterceptorBridge=this.installInterceptorBridge.bind(this),pm.appWindow.trigger("registerInternalEvent","interceptorBridgeInstallationStatusUpdate",(function(e){"downloadStarted"===e.status?this.interceptorUIStore.updateInstallationStates("BRIDGE_DOWNLOAD_IN_PROGRESS"):"installationStarted"===e.status?this.interceptorUIStore.updateInstallationStates("BRIDGE_INSTALLATION_IN_PROGRESS"):"installationFinished"===e.status?(this.interceptorUIStore.updateInstallationStates("DONE"),u.default.addEventV2({category:"interceptor",action:"complete_installation"}),setTimeout((()=>{this.interceptorStore.updateInterceptorBridgeInstallationStatus(!0)}),8e3)):"error"===e.status&&("installation"===e.type?u.default.addEventV2({category:"interceptor",action:"error_installation",label:"bridge"}):"download"===e.type&&u.default.addEventV2({category:"interceptor",action:"error_download",label:"bridge"}),e.subType?this.setState({ERR_CODE:e.subType}):this.setState({ERR_CODE:""}),this.interceptorUIStore.updateErrorState(e.type,"bridge",e.errorMessage))}),this),pm.appWindow.trigger("registerInternalEvent","nodeInstallationStatusUpdate",(function(e){"downloadStarted"===e.status?(u.default.addEventV2({category:"interceptor",action:"download_started",label:"node"}),this.interceptorUIStore.updateNodeInstallationStatus("NODE_DOWNLOAD_IN_PROGRESS")):"downloadFinished"===e.status?(u.default.addEventV2({category:"interceptor",action:"download_finished",label:"node"}),this.interceptorUIStore.updateNodeInstallationStatus("NODE_DOWNLOADED")):"installationFinished"===e.status?(u.default.addEventV2({category:"interceptor",action:"installation_finished",label:"node"}),this.installInterceptorBridge()):"installationNotFinished"===e.status?this.interceptorUIStore.updateNodeInstallationStatus("NODE_NOT_INSTALLED"):"error"===e.status&&("installation"===e.type?(u.default.addEventV2({category:"interceptor",action:"error_installation",label:"node"}),this.interceptorUIStore.updateErrorState("installation","node",e.errorMessage)):"download"===e.type&&(u.default.addEventV2({category:"interceptor",action:"error_download",label:"node"}),this.interceptorUIStore.updateErrorState("nodeDownload","node",e.errorMessage)),e.subType?this.setState({ERR_CODE:e.subType}):this.setState({ERR_CODE:""}))}),this)}installInterceptorBridge(){u.default.addEventV2({category:"interceptor",action:"initiate_installation"}),pm.interceptorInstaller.installInterceptorBridge()}render(){return this.interceptorStore.minVersionSatisfied?this.interceptorStore.interceptorInstalledStatus?!this.interceptorStore.connectionStatus&&o.createElement(L,null):o.createElement(B,{state:this.interceptorUIStore.installationStatus,data:this.state.ERR_CODE}):this.interceptorStore.minExtensionVersionSatisfied?o.createElement(N,{minAppVersion:this.interceptorStore.minAppVersion}):o.createElement(F,{minExtensionVersion:this.interceptorStore.minExtensionVersion})}})||s},"./integrations/proxy/components/InterceptorSettingsConnection.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s,o=n("../../node_modules/react/index.js"),a=n("./js/components/base/InputSelectV2.js"),i=n("./js/components/base/SearchHighlighter.js"),r=n("./appsdk/services/PageService.js"),l=n("./appsdk/navigation/constants.js"),c=n("./js/stores/InterceptorSettingsStore.js"),d=n("./js/stores/StoreManager.js"),u=n("./js/stores/CurrentUserStore.js"),p=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-collection-stroke.js"),y=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-fork-stroke-small.js"),b=n("./node_modules/lodash/lodash.js");let x=(0,p.observer)(s=class extends o.Component{constructor(e){super(e),this.selectedTarget=this.selectedTarget.bind(this)}getFilteredList(e,t,n={}){return!t||n.firstRender?e:b.filter(e,(e=>e.uid&&b.includes(e.name.toLowerCase(),t.toLowerCase())))}selectedTarget(){var e=this.props.filterItems,t=this.props.interceptorConnection.selectedTarget,n=b.find(e,(e=>e.uid===t.uid));if(n)return n}getOption(e,t,n={}){const s=e.name;e.id;let a=t&&!n.firstRender?o.createElement(i.default,{source:s,query:t}):o.createElement(h.default,{isTruncated:!0}," ",s," ");return o.createElement(m.default,{width:"100%",direction:"row",gap:"spacing-s",alignItems:"center",alignSelf:"auto",className:"target-input-flex"},o.createElement(f.default,null),o.createElement(m.default,{direction:"row",gap:"spacing-s",className:"input-select-item"},a,e.isForked&&o.createElement(m.default,{direction:"row",gap:"spacing-xs",alignItems:"center",className:"target-option-fork-label-area"},o.createElement(y.default,{color:"content-color-tertiary"}),o.createElement(h.default,{color:"content-color-tertiary",isTruncated:!0,tooltip:e.forkLabel},e.forkLabel))))}render(){var{filterItems:e}=this.props,t=r.PageService.activePage===l.SCRATCHPAD&&(0,d.resolveStoreInstance)(u.default).isLoggedIn;return o.createElement(m.default,{direction:"column",gap:"spacing-xs"},!(0,d.resolveStoreInstance)(c.default).captureRequestEnabled&&o.createElement(m.default,{direction:"row",gap:"spacing-xs",wrap:"wrap-reverse"},o.createElement(g.default,{type:"h6",text:"Save requests to a collection "}),o.createElement(h.default,{type:"body-small",color:"content-color-secondary"},"(optional)")),o.createElement(a.InputSelectV2,{disabled:t||b.isEmpty(e),style:{width:"100%"},onSelect:this.props.onInterceptorTargetSelect,getFilteredList:this.getFilteredList.bind(this,e),optionRenderer:this.getOption,selectedItem:this.selectedTarget(),placeholder:b.isEmpty(e)?"No collections found":" ",ref:"inputSelect",resetSearchFilterOnBlur:!0,menuClassName:"proxy-target-selector-menu",getInputValue:e=>e&&e.name||"",handleCancel:()=>{!this.props.clearDisabled&&this.props.onInterceptorTargetSelect({uid:"history",type:"history"})}}))}})||s},"./integrations/proxy/components/OverviewSessionsTable.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-add-stroke-small.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke-small.js"),p=n("./js/modules/services/AnalyticsService.js"),h=n("./integrations/proxy/helpers/analyticsEventUtils.js"),m=n("./integrations/proxy/components/helpers/StatusCodeBadge.js"),g=n("./node_modules/lodash/lodash.js"),f=n.n(g),y=n("./appsdk/components/link/Link.js"),b=n("./js/stores/StoreManager.js"),x=n("./integrations/proxy/stores/ProxySessionStore.js"),S=n("./integrations/proxy/components/TableRowExpandedView.js"),_=n("./integrations/proxy/components/AddSessionRequestToCollection.js"),v=n("./integrations/proxy/helpers/constants.ts"),E=n("./integrations/proxy/helpers/TableUtils.js"),w=n("./integrations/proxy/helpers/responseUtil.js"),I=n("./node_modules/prop-types/index.js"),C=n.n(I),T=n("../../node_modules/mobx-react/dist/mobx-react.module.js");const A=e=>{const t=(0,b.resolveStoreInstance)(x.default),[n,g]=(0,s.useState)(s.useMemo((()=>[]))),[I,C]=(0,s.useState)(e.totalRequestsCount),[T,A]=(0,s.useState)(),[P,k]=(0,s.useState)(!1),[j,R]=(0,s.useState)(""),[O,M]=(0,s.useState)(!1),[D,L]=(0,s.useState)([]),{addToast:N}=(0,o.default)(),[F,z]=(0,s.useState)("All requests on this page are selected."),[B,V]=(0,s.useState)(`Select all ${e.totalRequestsCount} requests in the session`),[H,W]=(0,s.useState)(!1),[U,q]=(0,s.useState)(v.DEFAULT_PAGE_SIZE),[G,Y]=(0,s.useState)(1),$=(0,s.useRef)(0);(0,s.useEffect)((()=>{const n=document.querySelector(".pane-content"),s=new ResizeObserver((n=>{(n=>{$.current=n[0].contentRect.height,f().get(t.find(e.sessionId),"showSelectAllSectionBanner")?A(n[0].contentRect.height-366+"px"):A(n[0].contentRect.height-321+"px")})(n)}));return s.observe(n),()=>{s.unobserve(n)}}),[]),(0,s.useEffect)((()=>{e.fromActiveSession?g(e.data):X()}),[]);const K=n=>{t.update({id:e.sessionId,showSelectAllSectionBanner:n}),A(n?$.current-366+"px":$.current-321+"px")},X=(0,s.useCallback)((async()=>{if(!(f().size(e.data)>0)&&e.sessionId){k(!0);let t=0,n=await e.fetchDataFromBackend(v.FETCH_SIZE,t);g(n.fetchedRecords),k(!1),C(n.totalRecords);const s=Math.ceil(n.totalRecords/v.FETCH_SIZE)-1,o=[];t=v.FETCH_SIZE;for(let n=1;n<=s;n++)o.push(e.fetchDataFromBackend(v.FETCH_SIZE,n*t));const a=await Promise.all(o),i=f().concat(n.fetchedRecords,f().flatten(a));g(i)}})),Q=()=>{W(!1),K(!1)},Z=(0,s.useRef)(f().debounce((()=>{p.default.addEventV2({category:(0,h.default)({source:e.source}),action:"requests-searched",label:"post-session",traceId:e.sessionId})}),1e3)),J=(()=>{const t=[{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Methods")),cellWidth:"101px",id:"method",accessor:e=>[f().get(e,"method")],Cell:({value:e})=>{const[t]=e;return s.createElement(i.default,{type:"para",className:"body-text"},t)},align:"left"},{Header:()=>s.createElement(i.default,{type:"strong"},"URL"),cellWidth:"332px",id:"url",accessor:e=>[f().get(e,"url"),e],Cell:({value:t})=>{const[n,o]=t;return s.createElement(y.default,{onClick:t=>(0,E.openRequest)(t,o,e.source,e.sessionId,v.ANALYTICS.OPEN_REQUEST_LABEL_POST_SESSION),className:"pm-table-url"},s.createElement(i.default,{type:"link-default",isTruncated:!0,isExternal:!0},n))},align:"left"},{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Domain")),cellWidth:"160px",id:"domain",accessor:e=>[f().get(e,["headers","host"])],Cell:({value:e})=>{const[t]=e;return s.createElement(i.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"},{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Type")),cellWidth:"106px",id:"type",accessor:e=>[f().get(e,"dataMode")],Cell:({value:e})=>{let[t]=e;return t&&"-na-"!==t||(t=v.DEFAULT_REQUEST_DATA_TYPE),s.createElement(i.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"}],n=[{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Status")),cellWidth:"86px",id:"status",accessor:e=>[f().get(e,"responseStatusCode"),e],Cell:({value:e})=>{const[t]=e;return t?s.createElement(m.default,{statusCode:t}):s.createElement(i.default,{type:"para"},"-")},align:"left"},{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Response Size")),cellWidth:"99px",id:"size",accessor:e=>[f().get(e,"responseSize")],Cell:({value:e})=>{const[t]=e;return s.createElement(i.default,{type:"para",className:"body-text"},(0,w.getResponseSize)(t,"STRING"))},align:"left"},{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Response Time")),cellWidth:"99px",id:"timeTaken",accessor:e=>[f().get(e,"responseTime")],Cell:({value:e})=>{const[t]=e;return s.createElement(i.default,{type:"para"},`${t} ms`)},align:"left"}];return e.source===v.PROXY?(0,s.useMemo)((()=>f().concat(f().slice(n,0,1),t,f().slice(n,1)))):e.source==v.INTERCEPTOR?(0,s.useMemo)((()=>t)):void 0})();return O?s.createElement(_.default,{isOpen:!0,sessionId:e.sessionId,source:e.source,requestIdList:e.selectedRequestsIds,handleCloseModal:()=>M(!1),clearSelectedRequests:Q}):s.createElement(a.default,{className:"pm-post-sessions-requests-tab",direction:"column",gap:"spacing-m"},s.createElement(a.default,{direction:"row",justifyContent:"space-between"},s.createElement(a.default,{direction:"row",gap:"spacing-s",alignItems:"center"},s.createElement(r.default,{type:"search",width:"240px",placeholder:"Search captured requests",value:j||"",onClear:()=>R(""),onChange:e=>{Z.current(),R(e.target.value)}})),s.createElement(a.default,{direction:"row",gap:"spacing-s"},s.createElement(l.default,{isDisabled:P||!(f().size(D)>0),onClick:()=>{M(!0)},type:"tertiary",text:"Add to collection",icon:s.createElement(d.default,null),tooltip:f().size(D)>0?null:"No requests selected to add."}),s.createElement(l.default,{onClick:async()=>{try{const t=(await e.deleteSelectedRequestsFromBackend(e.sessionId,e.selectedRequestsIds)).body.data.deletedRequestIds;let s=[...n];f().forEach(t,(e=>{f().remove(s,(t=>t.requestDbId?t.requestDbId===e:t.id?t.id===e:void 0))})),g(s),e.setSelectedRequestsIds([]),e.setTotalRequestsCount(f().size(s)),L([])}catch(e){pm.logger.error("PostSessionTable~~ failed to delete requests",e),(0,E.showDeleteToast)(N,D)}p.default.addEventV2({category:(0,h.default)({source:e.source}),action:"delete-request-clicked",label:"post-session",traceId:e.sessionId})},isDisabled:P||!(f().size(D)>0),type:"tertiary",text:"Delete",icon:s.createElement(u.default,null),tooltip:f().size(D)>0?null:"No requests selected to delete."}))),f().get(t.find(e.sessionId),"showSelectAllSectionBanner")&&s.createElement(a.default,{justifyContent:"center",alignItems:"center",className:"pm-proxy-interceptor-select-all-section"},s.createElement(i.default,null,F)," ",s.createElement("div",{className:"pm-proxy-interceptor-select-all-section",onClick:()=>{H?(W(!1),K(!1)):W(!0)},style:{cursor:"pointer",display:"flex",alignItems:"center"}},s.createElement(i.default,{color:"content-color-link"},B))),s.createElement(c.default,{data:n,columns:J,getRowId:e=>{if(e)return e.requestDbId?e.requestDbId:e.id?e.id:`local-${e.requestLocalId}`},rowSelected:{onSelect:t=>{const n=Math.ceil(e.totalRequestsCount/U);let s=f().keys(t);const o=s.length-e.selectedRequestsIds.length;0!==I&&0!==s.length?s.length===e.totalRequestsCount?(z(`All ${e.totalRequestsCount} requests in this session are selected.`),V("Clear selection"),K(!0),W(!0)):G===n&&I%U===o||o===U?(z(`All ${o} requests on this page are selected.`),V(`Select all ${e.totalRequestsCount} requests in the session`),K(!0)):0===s.length?(K(!1),W(!1)):K(!1):K(!1),f().remove(s,(e=>!!f().startsWith(e,"local"))),e.setSelectedRequestsIds(f().uniq(s)),L(f().uniq(s))},selectAllRows:H},bodyMaxHeight:T,rowExpanded:{subComponent:t=>s.createElement(a.default,{padding:{paddingLeft:"spacing-xl"},backgroundColor:"background-color-tertiary",className:"pm-expanded-row-container"},s.createElement(S.default,{rowData:t,isActiveSession:e.isActiveSession,sessionId:e.sessionId,source:e.source})),autoResetExpanded:!1},pagination:{addJumpToPageControls:!0,addPageSizeControls:!0,autoResetPage:!1,initialPageSize:20,pageSizeMenuPlacement:"top-start",onPageSizeChange:e=>{H||K(!1),q(e)},onPageChange:e=>{Y(e),H||K(!1)}},loader:{isLoading:P,skeletonRowCount:20},globalFilter:{filter:j,placeholder:"Search captured requests",autoResetGlobalFilter:!1}}))};t.default=(0,T.observer)(A),A.propTypes={data:C().array.isRequired,source:C().string.isRequired,sessionId:C().string.isRequired,totalRequestsCount:C().number.isRequired,isActiveSession:C().bool.isRequired}},"./integrations/proxy/components/PortSettingsTab.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var s,o=n("../../node_modules/react/index.js"),a=n("./js/modules/services/AnalyticsService.js"),i=n("./integrations/proxy/stores/ProxySessionStore.js"),r=n("./js/stores/StoreManager.js"),l=n("./integrations/proxy/stores/SessionCookieStore.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),f=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),y=(n("./node_modules/lodash/lodash.js"),n("./integrations/proxy/helpers/constants.ts")),b=n("./integrations/proxy/components/helpers/CaptureProxyStartupBanner.js"),x=n("./node_modules/prop-types/index.js"),S=n.n(x);let _=(0,f.observer)(s=class extends o.Component{constructor(e){super(e),this.sessionCookieStore=(0,r.resolveStoreInstance)(l.default),this.proxyStore=(0,r.resolveStoreInstance)(i.default)}render(){const{shouldAutoSyncCookiesToCookieJarViaProxy:e}=this.sessionCookieStore,{proxyConnectionSettings:t}=pm.tcpReader,n=e||t.status===y.STATUS_CONNECTING||t.status===y.STATUS_DISCONNECTING;return o.createElement("div",null,o.createElement("div",{style:{paddingTop:"8px",paddingLeft:"8px"}},o.createElement(c.default,{type:"tertiary",text:y.CAPTURE_REQUESTS_BUTTON_TEXT,icon:"icon-direction-back",onClick:this.props.togglePortSettingsState})),o.createElement(d.default,{direction:"column",gap:"spacing-l",width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},o.createElement(d.default,{className:"pm-proxy-port-settings-tab",direction:"column",gap:"spacing-l"},o.createElement(u.default,{type:"h2",text:"Setup Proxy"}),o.createElement(p.default,{color:"content-color-secondary"},"Capture requests or cookies from any device or browser with Postman's built-in proxy."),this.proxyStore.showProxyBanner&&o.createElement(b.default,null),o.createElement(h.default,{label:o.createElement(m.default,{text:"Enter Port"}),value:t.port,onChange:e=>this.props.onPortChange(e.target.value),isDisabled:t.status!==y.STATUS_DISCONNECTED,placeholder:"Enter Port"}),o.createElement(d.default,{direction:"row",gap:"spacing-s"},o.createElement(c.default,{type:t.status===y.STATUS_CONNECTED?"destructive":"primary",size:"medium",text:t.status===y.STATUS_CONNECTED?y.DISABLE_PROXY_ACTION:y.ENABLE_PROXY_ACTION,onClick:()=>{let e=t.status===y.STATUS_CONNECTED?"disabled":"enabled";this.props.handleConnectOnProxyToggle(),this.props.togglePortSettingsState(),a.default.addEventV2({category:"proxy-session",action:"proxy-toggle-clicked",label:e})},isDisabled:n,tooltip:e?o.createElement(g.default,{content:y.COOKIE_SYNC_ENABLED_PROXY_TOGGLE_TOOLTIP,placement:"bottom"}):null}),o.createElement(c.default,{type:"secondary",size:"medium",text:"Cancel",onClick:this.props.togglePortSettingsState})))))}})||s;_.propTypes={togglePortSettingsState:S().func.isRequired,onPortChange:S().func.isRequired,handleConnectOnProxyToggle:S().func.isRequired}},"./integrations/proxy/components/ProxyConfigureFilters.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyMethodsFilter.js"),i=n("./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyStatusFilter.js"),r=n("./integrations/proxy/components/popovers/FilterURLPopover.js"),l=n("./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyResourcesFilter.js"),c=n("./integrations/proxy/stores/ProxySessionStore.js"),d=n("./js/stores/StoreManager.js"),u=n("./js/stores/InterceptorSettingsStore.js"),p=n("./integrations/proxy/components/filters/ActiveSessionPageFilters/InterceptorMethodsFilters.js");class h extends s.Component{constructor(e){super(e),this.store=(0,d.resolveStoreInstance)(u.default),this.proxyStore=(0,d.resolveStoreInstance)(c.default),this.getConfigureFilters=this.getConfigureFilters.bind(this)}getConfigureFilters(){let e=this.props.filters;return this.store.captureRequestEnabled?s.createElement(o.default,{gap:"spacing-xs"},s.createElement(p.default,null),s.createElement(r.default,{onFilterChange:this.props.onFilterChange,filters:e,source:this.props.source})):s.createElement(o.default,{gap:"spacing-xs"},s.createElement(a.default,{onFilterChange:this.props.onFilterChange,filters:e.methods}),s.createElement(i.default,{onFilterChange:this.props.onFilterChange,filters:e.status_codes}),s.createElement(l.default,{onFilterChange:this.props.onFilterChange,filters:e}),s.createElement(r.default,{onFilterChange:this.props.onFilterChange,filters:e,source:this.props.source}))}render(){return s.createElement(o.default,null,this.getConfigureFilters())}}},"./integrations/proxy/components/ProxyPostSessionPage.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoReport.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tabs.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabList.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tab.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanels.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanel.js"),b=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),x=n("./integrations/proxy/components/helpers/OverviewChart.js"),S=n("./integrations/proxy/components/helpers/OverviewTable.js"),_=n("./integrations/proxy/components/OverviewSessionsTable.js"),v=n("./js/modules/services/AnalyticsService.js"),E=n("./integrations/proxy/helpers/analyticsEventUtils.js"),w=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),I=n("./integrations/proxy/stores/HistorySidebarProxyStore.js"),C=n("./integrations/proxy/stores/SessionCookieStore.js"),T=n("./js/stores/StoreManager.js"),A=n("./integrations/proxy/stores/ProxySessionStore.js"),P=n("./integrations/proxy/services/SessionCookieService.js"),k=n("./integrations/proxy/components/CookiesTable.js"),j=n("./integrations/proxy/components/SessionNameEditor.js"),R=n("./integrations/proxy/services/ProxySessionService.js"),O=n("./node_modules/moment/moment.js"),M=n.n(O),D=n("./js/services/NavigationService.js"),L=n("./integrations/proxy/helpers/constants.ts"),N=n("./integrations/navigation/constants.js"),F=n("./node_modules/lodash/lodash.js"),z=n.n(F),B=n("./node_modules/classnames/index.js"),V=n.n(B),H=n("./integrations/proxy/helpers/index.js"),W=n("../../node_modules/console-browserify/index.js");let U=(0,w.observer)(s=class extends o.Component{constructor(e){super(e);const t=z().size(this.props.controller.reqData),n=!(!this.props.controller.fromActiveSession||0!==t);this.proxyStore=(0,T.resolveStoreInstance)(A.default),this.sessionCookieStore=(0,T.resolveStoreInstance)(C.default),this.state={activeIndex:0,value:L.DEFAULT_OVERVIEW_OPTION,chartData:this.props.controller.overviewData.methods.map((e=>e.noOfRequests)),tableData:[],sessionCookies:{},totalRequestsCount:t,reqData:[],selectedRequestsIds:[],overviewData:{},sessionDuration:L.EMPTY_SESSION_DURATION,sessionSize:L.EMPTY_SESSION_SIZE,isEmptySession:n},this.handleOptionSelection=this.handleOptionSelection.bind(this),this.abstractOverviewData=this.abstractOverviewData.bind(this),this.abstractTableData=this.abstractTableData.bind(this),this.setTotalRequestsCount=this.setTotalRequestsCount.bind(this),this.fetchDataFromBackend=this.fetchDataFromBackend.bind(this),this.setSelectedRequestsIds=this.setSelectedRequestsIds.bind(this),this.deleteSelectedRequestsFromBackend=this.deleteSelectedRequestsFromBackend.bind(this),this.getEmptyCookieStateComponent=this.getEmptyCookieStateComponent.bind(this),this.getEmptyOverviewStateComponent=this.getEmptyOverviewStateComponent.bind(this),this.getEmptyRequestsStateComponent=this.getEmptyRequestsStateComponent.bind(this),this.fetchOverviewData=this.fetchOverviewData.bind(this),this.getProxyConnectionBadge=this.getProxyConnectionBadge.bind(this),this.handleProxyBadgeClick=this.handleProxyBadgeClick.bind(this),this.defaultSessionName=z().get(L.DEFAULT_SESSION_NAME,`${this.props.controller.source.toUpperCase()}`),this.props.controller.source===L.PROXY?this.dropdownOptions=L.OVERVIEW_DROPDOWN_OPTIONS_PROXY:this.dropdownOptions=L.OVERVIEW_DROPDOWN_OPTIONS_INTERCEPTOR,this.proxyStore.find(this.props.controller.proxyId)||this.proxyStore.add({id:this.props.controller.proxyId,reqData:[],name:this.props.controller.name,source:this.props.controller.source,totalRecords:0}),this.fetchOverviewData(this.props.controller.proxyId).then((()=>{this.handleOptionSelection(this.state.value)})),P.default.getCookiesForSessionFromDb(this.props.controller.proxyId).then((e=>{e&&this.setState({sessionCookies:e})}))}handleProxyBadgeClick(){"browser"===window.SDK_PLATFORM||(0,H.isSessionActive)()||(this.proxyStore.updateIsOpenPortSettings(!0),D.default.transitionTo(N.CAPTURE_REQUESTS_SESSIONS_CONFIGURE_PAGE_IDENTIFIER,{proxyId:L.CONFIGURE_PAGE_ID},{},{}))}getTotalResponseSize(e){const t=parseFloat(e/1024).toFixed(2),n=parseFloat(t/1024).toFixed(2),s=parseFloat(n/1024).toFixed(2);return e<=1024?`${e} B`:t<=1024?`${t} KB`:n<=1024?`${n} MB`:s<=1024?`${s} GB`:void 0}async fetchOverviewData(e){pm.logger.info("ProxyPostSessionPage~~ Fetching overview data from backend");try{const t=await R.default.getOverviewData(e);pm.logger.info("ProxyPostSessionPage~~ Successfully fetched overview data from backend");const n=z().get(t,["body","data","analyticsData"]);if(n){this.setState({sessionSize:`${this.getTotalResponseSize(n.totalSessionSize)}`});const e=M()(z().get(t,["body","data","sessionCreatedAt"])),s=M()(z().get(t,["body","data","sessionEndedAt"])),o=M().duration(s.diff(e))._milliseconds/1e3,a=o/60;0===parseInt(a)?this.setState({sessionDuration:`${parseInt(o)} ${parseInt(o)>1?"seconds":"second"}`}):this.setState({sessionDuration:`${parseInt(a)}  ${parseInt(a)>1?"minutes":"minute"}`});let i=z().map(n.method,((e,t)=>({type:t,noOfRequests:e}))),r=z().map(n.statusCode,((e,t)=>({type:t,noOfRequests:e}))),l=z().map(n.domain,((e,t)=>({type:t,noOfRequests:e}))),c=z().map(n.dataMode,((e,t)=>(t&&"-"!==t||(t=L.DEFAULT_REQUEST_DATA_TYPE),{type:t,noOfRequests:e})));this.setState({overviewData:{methods:i,statusCodes:r,domains:l,contentTypes:c}})}return t}catch(e){pm.logger.error("ProxyPostSessionPage~~ cannot fetch overview data",e),W.log("ProxyPostSessionPage~~ cannot fetch overview data",e)}}async fetchDataFromBackend(e,t){let n=await R.default.listRequests(this.props.controller.proxyId,e,t),s=n.body.data;if(this.setState({totalRequestsCount:n&&n.body&&n.body.meta.totalRecords}),n&&n.body&&n.body.meta){const e=n.body.meta.totalRecords;this.setState({isEmptySession:!(e>0)})}return s=z().map(s,(e=>({...e,method:e.method.toUpperCase()}))),{fetchedRecords:s,totalRecords:this.state.totalRequestsCount}}setSelectedRequestsIds(e){this.setState({selectedRequestsIds:[...e]})}setTotalRequestsCount(e){this.setState({totalRequestsCount:e})}getEmptyCookieStateComponent(){return o.createElement("div",{className:"pm-proxy-empty-state-container"},o.createElement(a.default,{title:"No cookies were captured in the session"},o.createElement(i.default,null)))}getEmptyOverviewStateComponent(){return o.createElement("div",{className:"pm-proxy-empty-state-container"},o.createElement(a.default,{title:"No analytics data available for this session"},o.createElement(r.default,null)))}getEmptyRequestsStateComponent(){return o.createElement("div",{className:"pm-proxy-empty-state-container"},o.createElement(a.default,{title:"No requests were captured in the session"},o.createElement(l.default,null)))}async deleteSelectedRequestsFromBackend(e,t){let n=await R.default.deleteMultipleRequests(e,t);return this.fetchOverviewData(this.props.controller.proxyId).then((()=>{this.handleOptionSelection(this.state.value)})),n}abstractOverviewData(e){let t={...this.state.chartData};return this.state.overviewData[e.value]&&(t="methods"===e.value?{...this.state.chartData,data:z().map(this.state.overviewData[e.value],(e=>e.noOfRequests)),labels:z().map(this.state.overviewData[e.value],(e=>e.type.toUpperCase())),option:e}:{...this.state.chartData,data:z().map(this.state.overviewData[e.value],(e=>e.noOfRequests)),labels:z().map(this.state.overviewData[e.value],(e=>e.type)),option:e}),this.setState({chartData:{...t}}),t}abstractTableData(e){let t;t="methods"==e.value?z().map(this.state.overviewData[e.value],((e,t)=>({type:e.type.toUpperCase(),noOfRequests:e.noOfRequests,color:L.COLOR_CODES[t%L.COLOR_CODES.length]}))):z().map(this.state.overviewData[e.value],((e,t)=>({type:e.type,noOfRequests:e.noOfRequests,color:L.COLOR_CODES[t%L.COLOR_CODES.length]}))),this.setState({tableData:[...t]})}handleOptionSelection(e){e?(this.abstractOverviewData(e),this.abstractTableData(e),this.setState({value:e}),v.default.addEventV2({category:(0,E.default)({source:this.props.controller.source}),action:"overview-chart-selected",label:e.value,traceId:this.props.controller.proxyId})):pm.logger.error("ProxyPostSessionPage~~ handleOptionSelection, no selectedOption found")}getProxyConnectionBadge(){return this.proxyStore.isProxyEnabled?o.createElement(c.default,{status:"success",text:"Proxy is on",style:{float:"right"}}):o.createElement(c.default,{status:"neutral",text:"Proxy is off",style:{float:"right"}})}render(){const e=`${z().capitalize(this.props.controller.source)}`,t=`${M()(this.props.controller.createdAt).format("DD MMM YYYY, h:mm A")}`;return o.createElement("div",{className:"pm-post-proxy-session-page"},o.createElement(d.default,{direction:"column",gap:"spacing-s",className:"pm-post-proxy-session-page-header apply-bottom-border"},o.createElement(d.default,{direction:"row",spacing:"spacing-s",alignItems:"center"},o.createElement(j.default,{ref:e=>{this.sessionNameEditor=e},name:(0,T.resolveStoreInstance)(I.default).find(this.props.controller.proxyId)&&(0,T.resolveStoreInstance)(I.default).find(this.props.controller.proxyId).name,placeholder:this.defaultSessionName,isEntityEditable:!0,sessionId:this.props.controller.proxyId,controller:this.props.controller}),this.props.controller.source===L.PROXY?o.createElement("div",{className:V()({"pm-post-session-proxy-badge":!0}),onClick:this.handleProxyBadgeClick},this.getProxyConnectionBadge()):null),o.createElement(d.default,{direction:"row",gap:"spacing-s"},o.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},o.createElement(u.default,{type:"h6",text:"Session start time:"}),o.createElement(p.default,{type:"para"},t)),o.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},o.createElement(u.default,{type:"h6",text:"Session size:"}),o.createElement(p.default,{type:"para"},this.state.sessionSize)),o.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},o.createElement(u.default,{type:"h6",text:"Duration:"}),o.createElement(p.default,{type:"para"},this.state.sessionDuration)),o.createElement(d.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},o.createElement(u.default,{type:"h6",text:"Source:"}),o.createElement(p.default,{type:"para"},e)))),o.createElement("div",{className:"pm-proxy-session-tabs"},o.createElement(h.default,{className:"pm-proxy-overview-page-tabs",activeTabIndex:this.state.activeIndex,onChange:e=>{let t;switch(this.setState({activeIndex:e}),e){case 0:t="overview-tab-clicked";break;case 1:t="request-tab-clicked";break;case 2:t="cookie-tab-clicked";break;default:t=null}t&&v.default.addEventV2({category:(0,E.default)({source:this.props.controller.source}),action:t,label:"post-session",traceId:this.props.controller.proxyId})},type:"primary"},o.createElement(m.default,null,o.createElement(g.default,{label:"Overview"}),o.createElement(g.default,{label:"Requests",counter:{type:"content",value:this.state.totalRequestsCount}}),o.createElement(g.default,{label:"Cookies",counter:{type:"content",value:this.sessionCookieStore.getTotalSessionCookies(this.props.controller.proxyId)}})),o.createElement(f.default,{className:"pm-proxy-overview-page-tab-panels"},o.createElement(y.default,{className:"pm-proxy-overview-page-tab-panels_tab-panel"},this.state.isEmptySession?o.createElement(d.default,{width:"100%",height:"100%"},this.getEmptyRequestsStateComponent()):o.createElement(d.default,{direction:"column",gap:"spacing-s",className:"pm-proxy-overview-page-wrapper"},o.createElement("div",{className:"pm-proxy-overview-tab-container"},o.createElement("div",{style:{width:"50%"}},o.createElement(b.default,{onChange:e=>{this.handleOptionSelection(e)},options:this.dropdownOptions,placeholder:"Classify requests by",label:"Classify requests by",width:"200px",value:this.state.value,isClearable:!1,isSearchable:!1})),o.createElement(x.default,{data:this.state.chartData,xAxisLabel:`${this.state.value.label}s`}),o.createElement("div",{className:"pm-overview-table-wrapper"},o.createElement(S.default,{data:this.state.tableData,selectedOption:this.state.value,options:this.dropdownOptions}))))),o.createElement(y.default,{className:"pm-proxy-overview-page-tab-panels_tab-panel"},this.state.isEmptySession?o.createElement(d.default,{width:"100%",height:"100%"},this.getEmptyRequestsStateComponent()):o.createElement("div",{className:"pm-session-table-wrapper-overview-page"},o.createElement(_.default,{data:this.props.controller.reqData,fromActiveSession:this.props.controller.fromActiveSession,source:this.props.controller.source,isActiveSession:!1,sessionId:this.props.controller.proxyId,totalRequestsCount:this.state.totalRequestsCount,setTotalRequestsCount:this.setTotalRequestsCount,controller:this.props.controller,fetchDataFromBackend:this.fetchDataFromBackend,isAllRequestsSelected:this.state.isAllRequestsSelected,selectedRequestsIds:this.state.selectedRequestsIds,setSelectedRequestsIds:this.setSelectedRequestsIds,deleteSelectedRequestsFromBackend:this.deleteSelectedRequestsFromBackend}))),o.createElement(y.default,{className:"pm-proxy-overview-page-tab-panels_tab-panel"},z().size(this.state.sessionCookies)>0?o.createElement("div",{className:"pm-session-table-wrapper-overview-page"},o.createElement(k.default,{data:this.state.sessionCookies,sessionId:this.props.controller.proxyId,source:this.props.controller.source,isActiveSession:!1})):o.createElement(d.default,{width:"100%",height:"100%"},this.getEmptyCookieStateComponent()))))))}})||s},"./integrations/proxy/components/ProxyPostSessionPageController.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var s=n("./appsdk/workbench/BaseWorkbenchController.js"),o=n("./appsdk/workbench/TabService.js"),a=(n("./node_modules/lodash/lodash.js"),n("./js/stores/StoreManager.js")),i=n("./integrations/proxy/stores/ProxySessionStore.js"),r=n("./integrations/navigation/constants.js"),l=n("./integrations/proxy/helpers/constants.ts"),c=n("./integrations/proxy/helpers/responseUtil.js");class d extends s.default{constructor(){super(),this.overviewData={methods:[],statusCodes:[],contentTypes:[]},this.proxyId=null,this.proxyStore=null,this.reqData=[],this.fromActiveSession=!1,this.name="Postman debug session",this.closeOpenedActiveSessionTab=this.closeOpenedActiveSessionTab.bind(this)}closeOpenedActiveSessionTab(){o.default.closeByRoute(r.CAPTURE_REQUESTS_SESSIONS_CONFIGURE_PAGE_URL,{proxyId:l.CONFIGURE_PAGE_ID})}async didCreate({routeParams:e,queryParams:t,additionalContext:n}){this.setTitle(n.name),this.name=n.name,this.source=n.source,this.createdAt=n.createdAt,this.proxyId=e.proxySessionId,this.proxyStore=(0,a.resolveStoreInstance)(i.default),this.fromActiveSession=n.fromActiveSession,this.fromActiveSession&&(this.reqData=this.proxyStore.getReqData(),(0,c.cleanupSessionData)(),this.proxyStore.updateActiveSessionId(null),this.closeOpenedActiveSessionTab())}beforeDestroy(){}}},"./integrations/proxy/components/ProxySessionTab.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tabs.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/BlankState/BlankState.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoRequestInCollection.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoCookies.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabList.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tab.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanels.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanel.js"),y=n("./js/modules/services/AnalyticsService.js"),b=n("./integrations/proxy/helpers/analyticsEventUtils.js"),x=n("./js/stores/InterceptorSettingsStore.js"),S=n("./integrations/proxy/stores/SessionCookieStore.js"),_=n("./js/stores/StoreManager.js"),v=n("./integrations/proxy/stores/ProxySessionStore.js"),E=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),w=n("./node_modules/lodash/lodash.js"),I=n.n(w),C=n("./integrations/proxy/components/SessionsTable.js"),T=n("./integrations/proxy/components/ProxySessionTabFooter.js"),A=n("./integrations/proxy/components/CaptureProxyResponseSettings.js"),P=n("./integrations/proxy/helpers/constants.ts"),k=n("./integrations/proxy/components/SessionNameEditor.js"),j=n("./node_modules/classnames/index.js"),R=n.n(j),O=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),M=n("./integrations/proxy/components/ProxyConfigureFilters.js"),D=n("./integrations/proxy/components/CaptureCookieSettings.js"),L=n("./integrations/proxy/components/CookiesTable.js"),N=n("./js/external-navigation/ExternalNavigationService.js"),F=n("./integrations/proxy/services/ProxySessionService.js");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},z.apply(this,arguments)}const B=0,V=1,H=(0,O.default)(a.default)`
    height: calc(100% - 200px);
    box-sizing: border-box;
  `,W=(0,O.default)(i.default)`
    width: 100%;
    height: 100%;
    overflow-y: auto;
  `;let U=(0,E.observer)(s=class extends o.Component{constructor(e){super(e),this.filters=["Methods","Status","URL","Resources"],this.proxyStore=(0,_.resolveStoreInstance)(v.default),this.sessionCookieStore=(0,_.resolveStoreInstance)(S.default),this.source=(0,_.resolveStoreInstance)(x.default).captureRequestEnabled?P.INTERCEPTOR:P.PROXY,this.defaultSessionName=I().get(P.DEFAULT_SESSION_NAME,`${this.source.toUpperCase()}`),this.state={connection:{port:P.DEFAULT_PORT,selectedTarget:{uid:"history",name:"History"},filterItems:[],activeIndex:0,status:(0,_.resolveStoreInstance)(x.default).proxyConnectionStatus?P.STATUS_CONNECTED:P.STATUS_DISCONNECTED},activeIndex:0,currentTheme:pm.settings.getSetting("postmanTheme")},this.handleThemeChange=this.handleThemeChange.bind(this),this.handleTabChange=this.handleTabChange.bind(this),this.getCookieTabComponent=this.getCookieTabComponent.bind(this)}UNSAFE_componentWillMount(){this.setState({currentTheme:pm.settings.getSetting("postmanTheme")}),pm.settings.on("setSetting:postmanTheme",this.handleThemeChange)}handleThemeChange(){this.setState({currentTheme:pm.settings.getSetting("postmanTheme")})}handleTabChange(e){let t;switch(this.setState({activeIndex:e}),e){case B:t="request-tab-clicked";break;case V:t="cookie-tab-clicked";break;default:t=null}t&&y.default.addEventV2({category:(0,b.default)({source:this.source}),action:t,label:"in-session",traceId:this.props.controller.proxyId})}async deleteSelectedRequestsFromBackend(e,t){return await F.default.deleteMultipleRequests(e,t)}getRequestTableTabComponent(){const e=this.proxyStore.getReqData(),t=this.proxyStore.activeSessionId;return I().size(e)>0?o.createElement(C.default,{data:e,sessionId:t,source:this.source,isActiveSession:!0,deleteSelectedRequestsFromBackend:this.deleteSelectedRequestsFromBackend}):o.createElement(r.default,{title:"No requests captured yet."},o.createElement(l.default,null))}getCookieTabComponent(){const e=this.proxyStore.activeSessionId,t=this.sessionCookieStore.getDomainWiseListOfCookies(e);if(I().size(t)>0)return o.createElement(L.default,{data:t,sessionId:this.proxyStore.activeSessionId,source:this.source,isActiveSession:!0});{let e="",t="",n=null,s=null;return this.sessionCookieStore.saveCookiesFlag?e="No cookies captured yet.":(e="View cookies for captured requests",t="Enable capture cookies to view cookies for captured requests. Once captured you can use cookies in Postman Workflow by adding them to Postman Cookie Jar.",n=o.createElement(c.default,{type:"primary",text:"Capture Cookies",onClick:()=>{this.source===P.PROXY?this.sessionCookieStore.updateSaveCookiesFlag(!0):this.source===P.INTERCEPTOR&&this.sessionCookieStore.updateCaptureInterceptorCookiesFlag(!0),pm.toasts.success("Cookies will be stored for all the newly captured requests.")}}),s=o.createElement(c.default,{onClick:()=>{(0,N.openExternalLink)("https://learning.postman.com/docs/sending-requests/cookies/")},type:"plain",text:"Learn More"})),o.createElement(i.default,{width:"100%",height:"100%"},o.createElement(r.default,{title:e,description:t,primaryAction:n,secondaryAction:s},o.createElement(d.default,null)))}}getProxyConnectionBadge(){return(0,_.resolveStoreInstance)(x.default).captureRequestEnabled?o.createElement(u.default,{status:"success",text:"Interceptor is enabled",style:{float:"right"}}):pm.tcpReader.proxyConnectionSettings.status===P.STATUS_CONNECTED?o.createElement(u.default,{status:"success",text:"Proxy is enabled",style:{float:"right"}}):o.createElement(u.default,{status:"neutral",text:"Proxy is off",style:{float:"right"}})}render(){return o.createElement("div",{className:"pm-proxy-session-container"},o.createElement(i.default,{direction:"column",gap:"spacing-zero",height:"100%",width:"100%"},o.createElement("div",{className:"proxy-session-header"},o.createElement(i.default,{direction:"column",gap:"spacing-m"},o.createElement(i.default,{direction:"row",spacing:"spacing-s",alignItems:"center"},o.createElement(k.default,{ref:e=>{this.sessionNameEditor=e},name:this.proxyStore.find(this.props.activeSessionId)&&this.proxyStore.find(this.props.activeSessionId).name,placeholder:this.defaultSessionName,isEntityEditable:!0,sessionId:this.props.activeSessionId,controller:this.props.controller}),this.getProxyConnectionBadge()),o.createElement(i.default,{direction:"row",gap:"spacing-m",alignItems:"center"},o.createElement(p.default,{type:"para",typographyStyle:{paddingTop:"spacing-m"}},"Configure incoming requests"),o.createElement(M.default,{onFilterChange:this.props.onFilterChange,filters:this.props.filters,source:this.props.source}),(0,_.resolveStoreInstance)(x.default).captureRequestEnabled?null:o.createElement("div",null,o.createElement(A.default,{onCaptureResponseSettingToggle:this.props.onCaptureSettingsChange,saveResponses:this.props.saveResponses})),o.createElement(D.default,{source:this.source})))),o.createElement(H,{activeTabIndex:this.state.activeIndex,onChange:this.handleTabChange,type:"primary"},o.createElement(h.default,null,o.createElement(m.default,{label:"Requests",counter:{type:"content",value:this.proxyStore.getReqData().length}}),o.createElement(m.default,{label:"Cookies",counter:{type:"content",value:this.sessionCookieStore.getTotalSessionCookies(this.proxyStore.activeSessionId)}})),o.createElement(g.default,{className:"pm-active-session-tab-panels"},o.createElement(f.default,{className:"pm-active-session-tab-panels-tab-panel"},this.getRequestTableTabComponent()),o.createElement(f.default,{className:"pm-active-session-tab-panels-tab-panel"},o.createElement(W,{justifyContent:"center"},this.getCookieTabComponent())))),o.createElement("div",{className:R()({"pm-proxy-session-footer-wrapper":!0,"apply-light-background":"light"===this.state.currentTheme,"apply-dark-background":"dark"===this.state.currentTheme})},o.createElement("div",{className:"pm-proxy-session-footer"},o.createElement(T.default,z({},this.props,{source:(0,_.resolveStoreInstance)(x.default).captureRequestEnabled?P.INTERCEPTOR:P.PROXY,sessionId:this.proxyStore.activeSessionId}))))))}})||s},"./integrations/proxy/components/ProxySessionTabFooter.js":function(e,t,n){n.r(t);var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-play-stroke.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-pause-stroke.js"),u=n("./js/stores/InterceptorSettingsStore.js"),p=n("./js/stores/StoreManager.js"),h=n("./integrations/proxy/stores/ProxySessionStore.js"),m=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),g=n("./js/modules/services/AnalyticsService.js"),f=n("./integrations/proxy/helpers/analyticsEventUtils.js"),y=n("./integrations/proxy/components/ProxySettingsConnection.js"),b=n("./integrations/proxy/components/ResponseDomainEndpointSettings.js"),x=n("./integrations/proxy/components/helpers/Clock.js"),S=(n("./integrations/proxy/helpers/constants.ts"),n("./integrations/proxy/components/InterceptorSettingsConnection.js")),_=n("./node_modules/classnames/index.js"),v=n.n(_),E=n("./integrations/proxy/components/helpers/ProxyUtils.ts");function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},w.apply(this,arguments)}let I=(0,m.observer)(s=class extends o.Component{constructor(e){super(e),this.dropdownOptions=[{value:"api_key",label:"API Key"},{value:"access_token",label:"Access Token"},{value:"webhook_url",label:"Webhook URL"}],this.proxyStore=(0,p.resolveStoreInstance)(h.default),this.handlePauseResumeSessionButtonClick=this.handlePauseResumeSessionButtonClick.bind(this),this.getProxyStartPauseButton=this.getProxyStartPauseButton.bind(this),this.stopActiveDebugSession=this.stopActiveDebugSession.bind(this),this.getTotalResponseSize=this.getTotalResponseSize.bind(this),this.state={countPauseButtonClicked:0},this.proxyStore.updatePauseProxyCaptureFlag(!1),this.proxyStore.updateIsStopSessionButtonLoading(!1)}handlePauseResumeSessionButtonClick(){const{addToast:e}=this.props;let t,n;t="Session is paused",n=(0,p.resolveStoreInstance)(u.default).captureRequestEnabled?"Requests already intercepted via interceptor will continue to show up in the session.":"Requests already tunnelled via proxy will continue to show up in the session.",this.proxyStore.pauseProxyCapture||e({title:"Session is paused",description:n,status:"info"}),this.proxyStore.updatePauseProxyCaptureFlag(!this.proxyStore.pauseProxyCapture)}getTotalResponseSize(){const e=this.proxyStore.totalResponseSizeCaptured,t=parseFloat(e/1024).toFixed(3),n=parseFloat(t/1024).toFixed(3),s=parseFloat(n/1024).toFixed(3);return e<=1024?`${e} B`:t<=1024?`${t} kB`:n<=1024?`${n} mB`:s<=1024?`${s} gB`:void 0}getProxyStartPauseButton(){return this.proxyStore.pauseProxyCapture?o.createElement(a.default,{onClick:this.handlePauseResumeSessionButtonClick,type:"tertiary",text:o.createElement(i.default,null,"Resume"),tooltip:"Resume session",icon:o.createElement(c.default,{color:"content-color-link"})}):o.createElement(a.default,{onClick:()=>{this.handlePauseResumeSessionButtonClick(),this.setState({countPauseButtonClicked:this.state.countPauseButtonClicked+1})},type:"tertiary",text:o.createElement(i.default,null,"Pause"),tooltip:"Pause session",icon:o.createElement(d.default,{color:"content-color-link"})})}async stopActiveDebugSession(){this.proxyStore.updateIsStopSessionButtonLoading(!0),this.proxyStore.updatePauseProxyCaptureFlag(!0);let e=(0,f.default)({isProxySession:!0}),t=pm.tcpReader;if((0,p.resolveStoreInstance)(u.default).captureRequestEnabled){e=(0,f.default)({isInterceptorSession:!0}),this.props.handleInterceptorStartStop(!1);try{await this.props.handleRequestCaptureViaInterceptor(!1)}catch(e){this.proxyStore.updateIsStopSessionButtonLoading(!1),pm.logger.error("Error stopping session",e)}}else await(0,E.stopProxySession)();g.default.addEventV2({category:e,action:"session-active-time",value:this.proxyStore.sessionActiveTimeInSeconds,traceId:this.props.sessionId}),g.default.addEventV2({category:e,action:"num-pause-session-clicked",value:this.state.countPauseButtonClicked,traceId:this.props.sessionId}),!(0,p.resolveStoreInstance)(u.default).captureRequestEnabled&&t.saveResponses&&g.default.addEventV2({category:"proxy-session",action:"save-response",traceId:this.props.sessionId}),t.saveCookie&&g.default.addEventV2({category:e,action:"save-cookie",traceId:this.props.sessionId}),"history"!==t.target_id&&(g.default.addEventV2({category:e,action:"requests-added-to-collection",label:"in-session",value:this.proxyStore.getReqData().length,traceId:this.props.controller.proxyId}),t.groupByDomain&&g.default.addEventV2({category:e,action:"organise-by-domain",label:"in-session",traceId:this.props.controller.proxyId}),t.groupByEndpoint&&g.default.addEventV2({category:e,action:"organise-by-endpoint",label:"in-session",traceId:this.props.controller.proxyId}))}render(){return o.createElement(r.default,{className:"fix-bottom",justifyContent:"space-between",alignItems:"center"},o.createElement(r.default,{direction:"row",gap:"spacing-s",alignItems:"center"},o.createElement("div",{style:{width:"200px"}},"history"!==this.props.captureTarget&&((0,p.resolveStoreInstance)(u.default).captureRequestEnabled?o.createElement(S.default,w({},this.props,{clearDisabled:!0})):o.createElement(y.default,w({},this.props,{isClearable:!1})))),(0,p.resolveStoreInstance)(u.default).captureRequestEnabled?null:o.createElement(b.default,{onCaptureResponseSettingToggle:this.props.onCaptureSettingsChange,groupByDomain:this.props.groupByDomain,groupByEndpoint:this.props.groupByEndpoint,captureTarget:this.props.captureTarget})),o.createElement(r.default,{gap:"spacing-m",className:"session-tab-footer-right-section",alignItems:"center"},o.createElement(r.default,{alignItems:"center"},o.createElement("div",{className:v()({"session-tab-footer-right-section-time":!0,"apply-border-right":!(0,p.resolveStoreInstance)(u.default).captureRequestEnabled})},o.createElement(x.default,{isProxyCapturePaused:this.proxyStore.pauseProxyCapture})),!(0,p.resolveStoreInstance)(u.default).captureRequestEnabled&&o.createElement(i.default,{className:"session-tab-footer-right-section-size"},this.getTotalResponseSize())),o.createElement(r.default,{gap:"spacing-xs"},this.getProxyStartPauseButton()),o.createElement(a.default,{onClick:this.stopActiveDebugSession,type:"destructive",text:"Stop",tooltip:"Stop capturing",isLoading:this.proxyStore.isStopSessionButtonLoading})))}})||s;t.default=(0,l.default)(I)},"./integrations/proxy/components/ProxySettingsConnection.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var s,o=n("../../node_modules/react/index.js"),a=n("./appsdk/services/PageService.js"),i=n("./appsdk/navigation/constants.js"),r=n("./js/stores/CurrentUserStore.js"),l=n("./js/stores/StoreManager.js"),c=n("./integrations/proxy/stores/ProxySessionStore.js"),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),g=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-entity-collection-stroke.js"),f=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-fork-stroke-small.js"),y=n("./node_modules/classnames/index.js"),b=n.n(y),x=n("./node_modules/lodash/lodash.js");let S=(0,d.observer)(s=class extends o.Component{constructor(e){super(e),this.proxyStore=(0,l.resolveStoreInstance)(c.default),this.selectedTarget=this.selectedTarget.bind(this)}selectedTarget(){var e=this.props.filterItems,t=this.props.selectedTarget,n=x.find(e,(e=>e.uid===t.uid));return n||null}getOption(e){const t=e.name;e.uid;return o.createElement(u.default,{maxWidth:"parent",grow:1,shrink:1,minWidth:"0px",alignItems:"center",gap:"spacing-s"},o.createElement(g.default,null),o.createElement(p.default,{isTruncated:!0},e.__isNew__?e.label:t),e.isForked&&o.createElement(u.default,{direction:"row",gap:"spacing-xs",alignItems:"center"},o.createElement(f.default,{color:"content-color-tertiary"}),o.createElement(p.default,{color:"content-color-tertiary",isTruncated:!0,tooltip:e.forkLabel},e.forkLabel)))}render(){var e,{filterItems:t}=this.props,n=a.PageService.activePage===i.SCRATCHPAD&&(0,l.resolveStoreInstance)(r.default).isLoggedIn;return o.createElement("div",{className:b()({"apply-bottom-border":"collection"!==this.props.captureTarget})},o.createElement(u.default,{direction:"column",gap:"spacing-l"},o.createElement(u.default,{direction:"column",gap:"spacing-xs",className:"pm-proxy-settings",width:"100%"},this.proxyStore.isOnStartPage&&o.createElement(u.default,{direction:"row",gap:"spacing-xs",wrap:"wrap-reverse"},o.createElement(h.default,{type:"h6",text:"Save requests to a collection "}),o.createElement(p.default,{type:"body-small",color:"content-color-secondary"},"(optional)")),o.createElement(m.default,{isDisabled:n,onChange:this.props.onTargetSelect,options:t,customOptionComponent:this.getOption,value:this.selectedTarget(),placeholder:" ",isSearchable:!0,isClearable:null===(e=this.props.isClearable)||void 0===e||e,allowCreateNewOption:!0,emptyStateMessage:"No collections found",menuWidth:"parent",className:"proxy-target-selector-menu"}))))}})||s},"./integrations/proxy/components/ProxyTab.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return se}});var s,o,a=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tabs.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabList.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/Tab.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanels.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Tab/TabPanel.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),y=n("./js/stores/ActiveWorkspaceStore.js"),b=n("./integrations/proxy/stores/SessionCookieStore.js"),x=n("./js/stores/InterceptorSettingsStore.js"),S=n("./js/stores/StoreManager.js"),_=n("./integrations/proxy/stores/ProxySessionStore.js"),v=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),E=n("./integrations/proxy/components/helpers/ProxyUtils.ts"),w=n("../../node_modules/mobx/lib/mobx.module.js"),I=n("./node_modules/lodash/lodash.js"),C=n.n(I),T=n("./js/modules/services/AnalyticsService.js"),A=n("./js/utils/uid-helper.js"),P=n("./integrations/proxy/components/ProxySettingsConnection.js"),k=n("./integrations/proxy/components/CaptureProxyResponseSettings.js"),j=n("./runtime-repl/collection/_api/CollectionStoreV2.js"),R=n("./appsdk/navigation/constants.js"),O=n("./appsdk/services/PageService.js"),M=n("./integrations/proxy/components/filters/PreSessionFilters/ProxySettingsFilters.js"),D=n("./integrations/proxy/components/PortSettingsTab.js"),L=n("./js/components/interceptor/InterceptorSnapWarning.js"),N=n("./js/components/interceptor/InterceptorConnectionIndicator.js"),F=n("./integrations/proxy/components/InterceptorSettingsConnection.js"),z=n("./integrations/proxy/components/InterceptorBridgeInstallation.js"),B=n("./js/components/interceptor/InterceptorConnection.js"),V=n("./integrations/proxy/components/filters/PreSessionFilters/InterceptorSettingsFilters.js"),H=n("./js/constants/AppUrlConstants.js"),W=n("./appsdk/components/link/Link.js"),U=n("./js/components/base/keymaps/KeyMaps.js"),q=n("./js/services/NavigationService.js"),G=n("./integrations/proxy/components/ResponseDomainEndpointSettings.js"),Y=n("./integrations/proxy/components/ProxySessionTab.js"),$=n("./integrations/proxy/helpers/constants.ts"),K=n("./integrations/proxy/services/ProxyHistoryService.js"),X=n("./integrations/proxy/components/CaptureCookieSettings.js"),Q=n("./integrations/proxy/components/popovers/EnableProxyPopover.js"),Z=n("./integrations/navigation/constants.js"),J=n("./integrations/proxy/components/CaptureAlert.js"),ee=n("./integrations/proxy/components/interceptor/AutoSyncCookiesInstructionBanner.js"),te=n("../../node_modules/console-browserify/index.js");function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ne.apply(this,arguments)}let se=(0,v.observer)(((o=class extends a.Component{constructor(e){super(e),this.proxyStore=(0,S.resolveStoreInstance)(_.default),this.store=(0,S.resolveStoreInstance)(x.default),this.sessionCookieStore=(0,S.resolveStoreInstance)(b.default),this.source=null,this.collectionList=null,this.cookieSettingInterceptorInfoBadgeText="Captured cookies will be synced to the Interceptor Session. You can manually add cookies to Postman cookie jar to utilise in your Postman workflows. For Interceptor, you have to filter the domains within the cookie tab of the Interceptor browser extension.",this.cookieSettingProxyInfoBadge="Captured cookies will be synced to the Proxy Session. You can manually add cookies to Postman cookie jar to utilise in your Postman workflows.",this.state={activeTab:"Connection",connection:{selectedTarget:{uid:"history",type:"history"},filterItems:[],isInterceptorStarted:!1,isProxyButtonLoading:!1},interceptorConnection:{selectedTarget:{uid:"history",type:"history"},filterItems:[],status:$.STATUS_DISCONNECTED,isInterceptorButtonLoading:!1},isOpenfilterOptions:!1,showFiltersStatus:$.SHOW_FILTERS,showInterceptorFiltersStatus:$.SHOW_FILTERS,isOpenInterceptorFilterOptions:!1,filters:{url:"",url_disabled:"",methods:[],status_codes:[],content_type:"",filter_request_capture:!0,js_enabled:!1,css_enabled:!1,image_enabled:!1},activeItem:$.PROXY,activeFeatureTab:$.SOURCE_TABS.PROXY,activeIndex:0,activeSourceTab:$.SOURCE_TABS.PROXY,showViewRequestsButton:!1,currentTheme:pm.settings.getSetting("postmanTheme")},this.proxyId=this.proxyStore.activeSessionId,this.handlePortChange=this.handlePortChange.bind(this),this.handleTargetSelect=this.handleTargetSelect.bind(this),this.getFilterItems=this.getFilterItems.bind(this),this.onCaptureSettingsChange=this.onCaptureSettingsChange.bind(this),this.delayedSubmit=C().debounce(this.handleFilterSave,500),this.handleFilterSave=this.handleFilterSave.bind(this),this.handleConnect=this.handleConnect.bind(this),this.handleRequestCapture=this.handleRequestCapture.bind(this),this.handleFilterChange=this.handleFilterChange.bind(this),this.togglePortSettingsState=this.togglePortSettingsState.bind(this),this.handleInterceptorTargetSelect=this.handleInterceptorTargetSelect.bind(this),this.getHelperView=this.getHelperView.bind(this),this.onStartCapture=this.onStartCapture.bind(this),this.onInterceptorStartCapture=this.onInterceptorStartCapture.bind(this),this.handleInterceptorStartStop=this.handleInterceptorStartStop.bind(this),this.handleThemeChange=this.handleThemeChange.bind(this),this.sessionCookieStore.updateShowCookiesCaptureHelper(!0)}handleThemeChange(){this.setState({currentTheme:pm.settings.getSetting("postmanTheme")})}UNSAFE_componentWillMount(){this.model=pm.tcpReader,this.interceptorManager=pm.interceptorManager,this.setState({currentTheme:pm.settings.getSetting("postmanTheme")}),pm.settings.on("setSetting:postmanTheme",this.handleThemeChange)}async componentDidMount(){const e=(0,S.resolveStoreInstance)(y.default).id;this.collectionList=await(0,j.subscribeMeta)(e,{permissions:this.constructor.collectionPermissions}),this.setInitialValues(),this.stopProxyInScratchpad=(0,w.reaction)((()=>O.PageService.activePage),(e=>{e===R.SCRATCHPAD&&this.model.proxyConnectionSettings.status===$.STATUS_CONNECTED&&(this.model.disconnect(),this.model.updateProxyConnectionSettings({status:$.STATUS_DISCONNECTING}),this.model.terminateActiveSessionOnWorkspaceSwitch(),this.store.updateShowProxyToast(!1),(0,J.default)())}))}componentWillUnmount(){this.model=null,this.collectionList&&this.collection&&this.collection.unsubscribe&&this.collectionList.unsubscribe(),this.stopProxyInScratchpad&&this.stopProxyInScratchpad()}getFilterItems(e){if(!e)return[];const{list:t}=e;return C().chain(t).filter((e=>e.isEditable)).map((e=>({type:"collection",id:(0,A.decomposeUID)(e.id).modelId,uid:e.uid,name:e.name,value:e.uid,label:e.name,isForked:e.isForked,forkLabel:e.forkLabel}))).value()}async handleTargetSelect(e){e?e&&e.__isNew__&&((e=await(0,E.createNewCollection)(e,"proxy session setup form"))?T.default.addEventV2({category:$.PROXY,action:$.CREATE_COLLECTION_ACTION_NAME,label:$.SELECT_COLLECTION_DROPDOWN_LABEL}):e={uid:"history",type:"history"}):e={uid:"history",type:"history"},this.setState({connection:{...this.state.connection,selectedTarget:{uid:e.uid,type:e.type}}},(()=>{this.model.handleTargetSwitch(e)}))}handlePortChange(e){this.model.updateProxyConnectionSettings({port:e}),pm.settings.setSetting("proxyPort",e)}onCaptureSettingsChange(e,t){this.model[e]=t,this.delayedSubmit()}_sendClientEventsOnSettingsChange(e,t){let n,s;switch(e){case"js_enabled":n="capture-js-resource";break;case"css_enabled":n="capture-css-resource";break;case"image_enabled":n="capture-image-resource";break;case"methods":n="filter-request-by-method";break;case"url":n="filter-request-by-url-contians";break;case"url_disabled":n="filter-request-by-url-not-contians"}s=C().includes(["methods","url","url_disabled"],e)?C().size(t)>0?"applied":"cleared":t?"enabled":"disabled",n&&T.default.addEventV2({category:"proxy-session",action:n,label:s})}handleFilterSave(){let e=this.model;e.filters=this.state.filters,e.save()}getKeyMapHandlers(){return"Filters"===this.state.activeTab?{submit:pm.shortcuts.handle("submit",this.handleFilterSave)}:{submit:pm.shortcuts.handle("submit",this.handleConnect)}}handleConnect(){let e=this.model,t=this.state.connection.selectedTarget;this.store.updateShowProxyToast(!0),null!==t?(C().assign(e,{target_type:"history"===t.uid?"history":"collection",target_uid:"history"===t.uid?"history":t.uid,port:this.model.proxyConnectionSettings.port}),e.save(),this.model.proxyConnectionSettings.status===$.STATUS_CONNECTED?(e.disconnect(),this.model.updateProxyConnectionSettings({status:$.STATUS_DISCONNECTING}),T.default.addEventV2({category:$.PROXY,action:"stop_proxy",label:"toggle"})):this.model.proxyConnectionSettings.status===$.STATUS_DISCONNECTED&&(e.connect(),this.model.updateProxyConnectionSettings({status:$.STATUS_CONNECTING}),T.default.addEventV2({category:$.PROXY,action:"start_proxy",label:"toggle"}))):pm.toasts.error("Select a target to proceed")}async handleRequestCapture(e){if(e)try{this.setState({interceptorConnection:{...this.state.interceptorConnection,isInterceptorButtonLoading:!0}}),this.proxyStore.emptyReqData(),this.proxyId=await K.default.createProxyHistory({name:$.DEFAULT_SESSION_NAME.INTERCEPTOR,source:$.INTERCEPTOR}),this.source=$.INTERCEPTOR,pm.logger.info("Interceptor session id",this.proxyId),T.default.addEventV2({category:$.INTERCEPTOR,action:"enable_request_capture"}),pm.interceptorBridge.requestCapture.enable(),this.proxyStore.updateIsOnStartPage(!1),this.handleInterceptorStartStop(!0),this.proxyStore.updateSource($.INTERCEPTOR),this.proxyStore.updateActiveSessionName($.DEFAULT_SESSION_NAME.INTERCEPTOR),this.proxyStore.add({id:this.proxyId,reqData:[],name:$.DEFAULT_SESSION_NAME.INTERCEPTOR,source:$.INTERCEPTOR,totalRecords:0}),this.proxyStore.updateActiveSessionId(this.proxyId),this.sessionCookieStore.captureInterceptorCookies&&pm.interceptorBridge.cookieSync.enable()}catch(e){pm.toasts.error("Error creating interceptor session"),this.setState({interceptorConnection:{...this.state.interceptorConnection,isInterceptorButtonLoading:!1}}),te.log("Error creating interceptor session",e),pm.logger.error("Error creating interceptor session",e)}else try{this.proxyStore.updateIsStopSessionButtonLoading(!0),await K.default.updateProxyHistory({id:this.proxyId,state:"STOPPED"}),T.default.addEventV2({category:$.INTERCEPTOR,action:"disable_request_capture"}),pm.interceptorBridge.requestCapture.disable(),q.default.transitionTo(Z.CAPTURE_REQUEST_POST_SESSION_PAGE_IDENTIFIER,{proxySessionId:this.proxyId},{},{additionalContext:{name:this.proxyStore.find(this.proxyId).name,source:$.INTERCEPTOR,fromActiveSession:!0}})}catch(e){this.proxyStore.updateIsStopSessionButtonLoading(!1),pm.toasts.error("Can't stop interceptor, error updating state"),pm.logger.error("Error updating state for interceptor session",e),pm.logger.error("Error updating state for interceptor session-> sessionId",this.proxyId)}}setInitialValues(){this.setState((e=>({filters:this.model.filters,connection:{...this.state.connection,selectedTarget:{uid:this.model.target_uid},filterItems:this.getFilterItems(this.collectionList)},interceptorConnection:{...this.state.interceptorConnection,selectedTarget:{uid:"history"===this.store.requestCaptureTarget()?"history":this.store.requestCaptureTarget()}}})))}async onStartCapture(){if(pm.settings.setSetting("isProxyOn",!0),this.model.proxyConnectionSettings.status===$.STATUS_CONNECTED)try{this.setState({connection:{...this.state.connection,isProxyButtonLoading:!0}}),this.proxyStore.emptyReqData(),this.proxyId=await K.default.createProxyHistory({name:$.DEFAULT_SESSION_NAME.PROXY,source:$.PROXY}),this.source=$.PROXY,this.proxyStore.updatePauseProxyCaptureFlag(!1),this.proxyStore.updateIsOnStartPage(!1),this.proxyStore.updateActiveSessionName($.DEFAULT_SESSION_NAME.PROXY),this.proxyStore.updateSource($.PROXY),this.proxyStore.add({id:this.proxyId,reqData:[],name:$.DEFAULT_SESSION_NAME.PROXY,source:$.PROXY,totalRecords:0}),this.proxyStore.updateActiveSessionId(this.proxyId),T.default.addEventV2({category:"proxy-session",action:"session-started"}),this.setState({connection:{...this.state.connection,isProxyButtonLoading:!1}})}catch(e){pm.toasts.error("Error creating proxy session"),pm.logger.error("Error creating proxy session",e),this.setState({connection:{...this.state.connection,isProxyButtonLoading:!1}})}else this.proxyStore.updateShowEnableProxyPopover(!0)}onInterceptorStartCapture(){this.handleRequestCapture(!this.store.captureRequestEnabled),this.store.connectionStatus||pm.toasts.error("Interceptor not connected"),T.default.addEventV2({category:"interceptor-session",action:"session-started"})}getProxyInterceptorCaptureButton(){switch(this.state.activeSourceTab){case $.SOURCE_TABS.PROXY:return a.createElement(i.default,{text:$.CAPTURE_REQUESTS_START,isDisabled:C().includes([$.STATUS_CONNECTING,$.STATUS_DISCONNECTING],this.model.proxyConnectionSettings.status),type:"primary",isLoading:this.state.connection.isProxyButtonLoading,onClick:this.onStartCapture,fullWidth:!1});case $.SOURCE_TABS.INTERCEPTOR:return a.createElement(i.default,{text:this.store.captureRequestEnabled?$.CAPTURE_REQUESTS_STOP:$.CAPTURE_REQUESTS_START,isDisabled:!this.store.connectionStatus,type:"primary",onClick:this.onInterceptorStartCapture,isLoading:this.state.interceptorConnection.isInterceptorButtonLoading,fullWidth:!1})}}handleFilterChange(e,t){this.setState((n=>({filters:{...n.filters,[e]:t}}))),this._sendClientEventsOnSettingsChange(e,t),this.delayedSubmit()}togglePortSettingsState(){this.proxyStore.updateIsOpenPortSettings(!this.proxyStore.isOpenPortSettings)}handleInterceptorTargetSelect(e){this.setState({interceptorConnection:{...this.state.interceptorConnection,selectedTarget:{uid:e.uid}}}),"history"===e.type?T.default.addEventV2({category:$.INTERCEPTOR,action:"update_capture_target",label:"history"}):"collection"===e.type&&T.default.addEventV2({category:$.INTERCEPTOR,action:"update_capture_target",label:"collection"}),pm.interceptorBridge.requestCapture.updateTarget(e)}getHelperView(){let e="",t="",n="";switch(this.state.activeSourceTab){case $.SOURCE_TABS.PROXY:e="Store requests and cookies in a time-bound session using Postman as a proxy.",t=" sessions",n=H.CAPTURE_HTTP_REQUESTS_DOCS_URL;break;case $.SOURCE_TABS.INTERCEPTOR:e="Store requests and cookies in a time-bound session using Postman interceptor.",t=" sessions",n=H.INTERCEPTOR_DOCS_URL}return a.createElement(r.default,{type:"lead"},e," Learn more about ",a.createElement(W.default,{to:n},a.createElement(r.default,{type:"link-default",isExternal:!0},t)))}handleInterceptorStartStop(e){this.setState({...this.state,isInterceptorStarted:e})}render(){if(this.proxyStore.isOpenPortSettings)return a.createElement(D.default,{togglePortSettingsState:this.togglePortSettingsState,onPortChange:this.handlePortChange,handleConnectOnProxyToggle:this.handleConnect});if(!this.proxyStore.isOnStartPage){const e="history"===C().get(this.state,"connection.selectedTarget.uid")?"history":"collection",t="history"===C().get(this.state,"interceptorConnection.selectedTarget.uid")?"history":"collection";return a.createElement(Y.default,ne({},this.state.connection,{activeSessionId:this.proxyId,name:this.proxyStore.find(this.proxyId)?this.proxyStore.find(this.proxyId).name:"Postman debug session",filterItems:this.getFilterItems(this.collectionList),onPortChange:this.handlePortChange,onTargetSelect:this.handleTargetSelect,saveResponses:this.model.saveResponses,onCaptureSettingsChange:this.onCaptureSettingsChange,groupByDomain:this.model.groupByDomain,groupByEndpoint:this.model.groupByEndpoint,captureTarget:this.store.captureRequestEnabled?t:e,handleConnect:this.handleConnect,handleInterceptorStartStop:this.handleInterceptorStartStop,isInterceptorStarted:this.state.isInterceptorStarted,handleRequestCaptureViaInterceptor:this.handleRequestCapture,interceptorConnection:this.state.interceptorConnection,onInterceptorTargetSelect:this.handleInterceptorTargetSelect,controller:this.props.controller,onFilterChange:this.handleFilterChange,filters:this.state.filters,source:this.source}))}return a.createElement(l.default,{className:"pm-proxy-session-config-wrapper",direction:"column"},a.createElement(l.default,{className:"pm-proxy-session-config-header"},a.createElement(c.default,{type:"h4",text:$.CAPTURE_REQUESTS_BUTTON_TEXT})),a.createElement(U.default,{keyMap:pm.shortcuts.getShortcuts(),handlers:this.getKeyMapHandlers()},a.createElement(l.default,{className:"pm-proxy-session-config-body-wrapper",direction:"column",gap:"spacing-zero"},a.createElement(l.default,{className:"pm-proxy-session-config-body"},a.createElement(d.default,{className:"pm-proxy-config-body-tabs",activeTabIndex:this.state.activeSourceTab,onChange:e=>this.setState({activeSourceTab:e}),type:"primary"},a.createElement(u.default,null,a.createElement(p.default,{label:"Via Proxy"}),a.createElement(p.default,{label:"Via Interceptor"})),a.createElement(h.default,{className:"pm-proxy-config-body-tab-panels"},a.createElement(m.default,{className:"pm-proxy-config-body-tab-panels-proxy-panel"},a.createElement(l.default,{direction:"column",gap:"spacing-xl",className:"pm-proxy-panel-wrapper"},a.createElement(l.default,{grow:1,direction:"column",gap:"spacing-xl",height:"70%"},a.createElement(l.default,{direction:"column",gap:"spacing-s"},a.createElement(l.default,{direction:"row",justifyContent:"space-between"},a.createElement(c.default,{type:"h1",text:"Start a proxy session"}),a.createElement(l.default,{direction:"row",justifyContent:"flex-end"},a.createElement(Q.default,{togglePortSettingsState:this.togglePortSettingsState,handleConnectOnProxyToggle:this.handleConnect}))),a.createElement(l.default,{direction:"column",gap:"spacing-xl"},this.getHelperView(),a.createElement(l.default,{direction:"column",gap:"spacing-l",className:"pm-proxy-initial-config"},a.createElement(k.default,{onCaptureResponseSettingToggle:this.onCaptureSettingsChange,saveResponses:this.model.saveResponses}),a.createElement(X.default,{infoBadgeText:this.cookieSettingProxyInfoBadge,source:$.PROXY}),a.createElement(P.default,ne({},this.state.connection,{filterItems:this.getFilterItems(this.collectionList),onPortChange:this.handlePortChange,onTargetSelect:this.handleTargetSelect,captureTarget:"history"===C().get(this.state,"connection.selectedTarget.uid")?"history":"collection"})),a.createElement(G.default,{onCaptureResponseSettingToggle:this.onCaptureSettingsChange,groupByDomain:this.model.groupByDomain,groupByEndpoint:this.model.groupByEndpoint,captureTarget:"history"===C().get(this.state,"connection.selectedTarget.uid")?"history":"collection"}))),a.createElement(l.default,{direction:"column",gap:"spacing-l"},a.createElement(l.default,{direction:"column",gap:"spacing-xs"},a.createElement(c.default,{type:"h4",text:"Additional Configurations"}),a.createElement(r.default,{color:"content-color-secondary"},"Configure the type of requests you want to capture.")),a.createElement(M.default,{filters:this.state.filters,onFilterChange:this.handleFilterChange}),a.createElement(g.default,{text:"Resources"}),a.createElement(l.default,{direction:"row",gap:"spacing-s"},a.createElement(f.default,{isChecked:this.state.filters.js_enabled,label:"JS",onChange:(e,t,n)=>{this.handleFilterChange("js_enabled",e)}}),a.createElement(f.default,{isChecked:this.state.filters.css_enabled,label:"CSS",onChange:e=>{this.handleFilterChange("css_enabled",e)}}),a.createElement(f.default,{isChecked:this.state.filters.image_enabled,label:"Image",onChange:e=>{this.handleFilterChange("image_enabled",e)}}))),a.createElement(l.default,{className:"pm-proxy-capture-button"},this.getProxyInterceptorCaptureButton()))))),a.createElement(m.default,{className:"pm-proxy-config-body-tab-panels-proxy-panel"},a.createElement(l.default,{direction:"column",gap:"spacing-s"},a.createElement("div",{className:"pm-proxy-panel-wrapper"},a.createElement(l.default,{direction:"column",gap:"spacing-s",className:"pm-proxy-panel"},a.createElement(l.default,{direction:"row",justifyContent:"space-between"},a.createElement(c.default,{text:$.INTERCEPTOR_SESSION_HEADING}),a.createElement(l.default,{direction:"row",justifyContent:"flex-end",alignItems:"center"},a.createElement(l.default,{direction:"row",alignItems:"center"},a.createElement(B.default,null),a.createElement(N.default,null)))),a.createElement(l.default,{direction:"column",gap:"spacing-xl"},this.getHelperView(),!this.store.connectionStatus&&(pm.env.SNAP?a.createElement(L.default,null):a.createElement(z.default,null)),a.createElement(X.default,{infoBadgeText:this.cookieSettingInterceptorInfoBadgeText,source:$.INTERCEPTOR}),this.store.showAutoSyncCookiesBannerInterceptor&&a.createElement(ee.default,null),a.createElement(l.default,{gap:"spacing-xl",direction:"column"},a.createElement(F.default,{interceptorConnection:this.state.interceptorConnection,filterItems:this.getFilterItems(this.collectionList),onInterceptorTargetSelect:this.handleInterceptorTargetSelect}),this.store.connectionStatus&&a.createElement(l.default,{direction:"column",gap:"spacing-s",wrap:"nowrap"},a.createElement(l.default,{direction:"column",gap:"spacing-xs"},a.createElement(c.default,{type:"h4",text:"Additional Configurations"}),a.createElement(r.default,{color:"content-color-secondary"},"Configure the type of requests you want to capture.")),a.createElement(l.default,{direction:"column",gap:"spacing-m",grow:1},a.createElement(V.default,null)))),a.createElement("div",{className:"pm-interceptor-capture-button"},this.getProxyInterceptorCaptureButton()))))))))))))}}).collectionPermissions=["edit"],s=o))||s},"./integrations/proxy/components/ProxyTabController.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var s=n("./appsdk/workbench/BaseWorkbenchController.js"),o=n("./js/stores/StoreManager.js"),a=n("./integrations/proxy/stores/ProxySessionStore.js"),i=n("./integrations/proxy/helpers/constants.ts"),r=n("./integrations/proxy/helpers/index.js");class l extends s.default{constructor(){super(),this.proxyStore=(0,o.resolveStoreInstance)(a.default)}didCreate({routeParams:e,queryParams:t,additionalContext:n}){(0,r.isSessionActive)()?n.name&&this.setTitle(n.name):this.setTitle(i.CONFIGURE_TAB_TITLE),this.proxyStore=(0,o.resolveStoreInstance)(a.default),this.proxyStore.updateIsStopSessionButtonLoading(!1)}didActivate(){}didDeactivate(){}beforeDestroy(){this.proxyStore.updateIsOpenPortSettings(!1),this.proxyStore.updatePauseProxyCaptureFlag(!0),this.proxyStore.stopSessionClock()}}},"./integrations/proxy/components/ResponseDomainEndpointSettings.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),i=n("../../node_modules/react/index.js"),r=n("./node_modules/prop-types/index.js"),l=n.n(r),c=n("./node_modules/classnames/index.js"),d=n.n(c),u=n("./js/stores/StoreManager.js"),p=n("./integrations/proxy/stores/ProxySessionStore.js");function h(e){const[t,n]=(0,i.useState)(e.groupByDomain),[r,l]=(0,i.useState)(e.groupByEndpoint),c=(t,n)=>{n((n=>{const s=!n;return e.onCaptureResponseSettingToggle&&e.onCaptureResponseSettingToggle(t,s),s}))},h=(0,u.resolveStoreInstance)(p.default).isOnStartPage;return i.createElement("div",{className:d()({"apply-bottom-border":"collection"===e.captureTarget&&h})},"collection"===e.captureTarget&&i.createElement(s.default,{direction:h?"column":"row",gap:"spacing-s"},h&&i.createElement(o.default,{text:"Organize requests by",type:"h6"}),i.createElement(a.default,{isChecked:t,label:"Domain name",onChange:()=>c("groupByDomain",n)}),i.createElement(a.default,{isChecked:r,label:"Endpoints",onChange:()=>c("groupByEndpoint",l)})))}h.propTypes={groupByDomain:l().bool,groupByEndpoint:l().bool,onCaptureResponseSettingToggle:l().func}},"./integrations/proxy/components/SessionNameEditor.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var s,o=n("../../node_modules/react/index.js"),a=n("./node_modules/classnames/index.js"),i=n.n(a),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/components/base/InlineInput.js"),c=n("./integrations/proxy/services/ProxyHistoryService.js"),d=n("./js/stores/StoreManager.js"),u=n("./integrations/proxy/stores/ProxySessionStore.js"),p=n("./node_modules/lodash/lodash.js"),h=n.n(p);let m=(0,r.observer)(s=class extends o.Component{constructor(e){super(e),this.proxyStore=(0,d.resolveStoreInstance)(u.default),this.state={nameInViewMode:!0},this.handleEditName=this.handleEditName.bind(this),this.handleInlineEditToggle=this.handleInlineEditToggle.bind(this),this.handleRenameSubmit=this.handleRenameSubmit.bind(this),h().invoke(this.props,"controller.setTitle",this.props.name||this.props.placeholder)}getNameContainerClasses(e){return i()({"session-tab-header__name":!0,"is-editing":!this.state.nameInViewMode,editable:e})}handleEditName(){this.setState({nameInViewMode:!1},(()=>{this.inlineInput&&this.inlineInput.startEditing()}))}handleInlineEditToggle(e){if(e&&this.inlineInput)return this.inlineInput.focus(),void this.inlineInput.selectAll();this.setState({nameInViewMode:!0})}async handleRenameSubmit(e){try{await c.default.updateProxyHistory({id:this.props.sessionId,name:e}),h().invoke(this.props,"controller.setTitle",e),this.proxyStore.update({id:this.props.id,name:e}),pm.toasts.success("Session renamed successfully")}catch(e){pm.logger.error("SessionNameEditor~ProxyHistoryService.updateProxyHistory failed",e)}}componentDidUpdate(){try{h().invoke(this.props,"controller.setTitle",this.props.name)}catch(e){pm.logger.error("SessionNameEditor~~ Error in changing the tab title",e)}}renderName(){return o.createElement("div",{className:"session-tab-header__name__wrapper",title:"Proxy Session",onClick:this.handleEditName},o.createElement(l.default,{className:"session-tab-header__name__input",placeholder:this.props.placeholder,ref:e=>{this.inlineInput=e},value:this.props.name||this.props.placeholder,onToggleEdit:this.handleInlineEditToggle,onSubmit:this.handleRenameSubmit}))}render(){const{className:e}=this.props;return o.createElement("div",{className:i()("session-tab-header",{[e]:e})},o.createElement("div",{className:"session-tab-header__name__container"},o.createElement("div",{className:this.getNameContainerClasses(!0)},this.renderName())))}})||s;m.defaultProps={className:null,onSubmit:h().noop,placeholder:"Postman Debug Session"}},"./integrations/proxy/components/SessionsTable.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-delete-stroke-small.js"),u=n("./integrations/proxy/components/helpers/StatusCodeBadge.js"),p=n("./node_modules/lodash/lodash.js"),h=n.n(p),m=n("./js/modules/services/AnalyticsService.js"),g=n("./integrations/proxy/helpers/analyticsEventUtils.js"),f=n("./js/stores/StoreManager.js"),y=n("./integrations/proxy/stores/ProxySessionStore.js"),b=n("./appsdk/components/link/Link.js"),x=n("./integrations/proxy/components/TableRowExpandedView.js"),S=n("./integrations/proxy/helpers/TableUtils.js"),_=n("./integrations/proxy/helpers/constants.ts"),v=n("./integrations/proxy/helpers/responseUtil.js");t.default=e=>{const[t,n]=(0,s.useState)(s.useMemo((()=>e.data))),[p,E]=(0,s.useState)("420px"),[w,I]=(0,s.useState)(""),[C,T]=(0,s.useState)([]),A=(0,f.resolveStoreInstance)(y.default),{addToast:P}=(0,o.default)(),[k,j]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const e=document.querySelector(".pane-content"),t=new ResizeObserver((e=>{(e=>{E(e[0].contentRect.height-370+"px")})(e)}));return t.observe(e),()=>{t.unobserve(e)}}),[]),(0,s.useEffect)((()=>{n(e.data)}),[e.data]);const R=(0,s.useRef)(h().debounce((()=>{m.default.addEventV2({category:(0,g.default)({source:e.source}),action:"requests-searched",label:"in-session",traceId:e.sessionId})}),1e3)),O=(()=>{const t=[{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Methods")),cellWidth:"101px",id:"method",accessor:e=>[h().get(e,"method")],Cell:({value:e})=>{const[t]=e;return s.createElement(i.default,{type:"para",className:"body-text"},t)},align:"left"},{Header:()=>s.createElement(i.default,{type:"strong"},"URL"),cellWidth:"332px",id:"url",accessor:e=>[h().get(e,"url"),e],Cell:({value:t})=>{const[n,o]=t;return s.createElement(b.default,{onClick:t=>(0,S.openRequest)(t,o,e.source,e.sessionId,_.ANALYTICS.OPEN_REQUEST_LABEL_IN_SESSION),className:"pm-table-url"},s.createElement(i.default,{type:"link-default",isTruncated:!0,isExternal:!0},n))},align:"left"},{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Domain")),cellWidth:"160px",id:"domain",accessor:e=>[h().get(e,["headers","host"])],Cell:({value:e})=>{const[t]=e;return s.createElement(i.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"},{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Type")),cellWidth:"106px",id:"type",accessor:e=>[h().get(e,"dataMode")],Cell:({value:e})=>{let[t]=e;return t&&"-na-"!==t||(t=_.DEFAULT_REQUEST_DATA_TYPE),s.createElement(i.default,{type:"para",className:"body-text",isTruncated:!0},t)},align:"left"}],n=[{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Status")),cellWidth:"86px",id:"status",accessor:e=>[h().get(e,"responseStatusCode"),e],Cell:({value:e})=>{const[t]=e;return t?s.createElement(u.default,{statusCode:t}):s.createElement(i.default,{type:"para"},"-")},align:"left"},{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Response Size")),cellWidth:"99px",id:"size",accessor:e=>[h().get(e,"responseSize")],Cell:({value:e})=>{const[t]=e;return s.createElement(i.default,{type:"para",className:"body-text"},(0,v.getResponseSize)(t,"STRING"))},align:"left"},{Header:()=>s.createElement(a.default,{inline:!0,gap:"spacing-xs"},s.createElement(i.default,{type:"strong"},"Response Time")),cellWidth:"99px",id:"timeTaken",accessor:e=>[h().get(e,"responseTime")],Cell:({value:e})=>{const[t]=e;return s.createElement(i.default,{type:"para"},`${t} ms`)},align:"left"}];return e.source===_.PROXY?(0,s.useMemo)((()=>h().concat(h().slice(n,0,1),t,h().slice(n,1)))):e.source==_.INTERCEPTOR?(0,s.useMemo)((()=>t)):void 0})();return s.createElement(a.default,{width:"100%",direction:"column",gap:"spacing-m"},s.createElement(a.default,{direction:"row",justifyContent:"space-between"},s.createElement(r.default,{type:"search",width:"240px",placeholder:"Search captured requests",value:w||"",onClear:()=>I(""),onChange:e=>{R.current(),I(e.target.value)}}),s.createElement(a.default,{direction:"row",gap:"spacing-s"},s.createElement(l.default,{onClick:async()=>{let n,s=0,o=[];h().forEach(C,(e=>{h().forEach(t,(t=>{t.requestDbId&&t.requestDbId===e&&(o.push(t),A.removeFromCapturedRequest(t),s+=(0,v.getResponseSize)(t.responseSize,"INTEGER"))}))})),j(!0),A.updateReqData(A.capturedRequests);try{(await e.deleteSelectedRequestsFromBackend(e.sessionId,A.selectedRequestsIds)).body.data.deletedRequestIds;A.updateTotalResponseSizeCaptured(s,"subtract"),A.updateSelectedRequestsIds([]),T([])}catch(e){pm.logger.error("ActiveSessionTable~~ Failed to delete requests",e),A.updateCapturedRequests(o),A.updateReqData(A.capturedRequests),n=h().size(C)>1?"Failed to delete requests":"Failed to delete request",P({status:"error",description:n})}finally{j(!1)}m.default.addEventV2({category:(0,g.default)({source:e.source}),action:"delete-request-clicked",label:"in-session",traceId:e.sessionId})},type:"tertiary",text:"Delete",icon:s.createElement(d.default,null),isDisabled:!(h().size(C)>0),tooltip:h().size(C)>0?null:"No requests selected to delete."}))),s.createElement(c.default,{data:t,columns:O,getRowId:e=>{if(e)return e.requestDbId?e.requestDbId:`local-${e.requestLocalId}`},rowSelected:{onSelect:e=>{let t=Object.keys(e);h().remove(t,(e=>!!(e&&e.search("local")>=0))),T(t),A.updateSelectedRequestsIds(h().uniq(t))},autoResetSelectedRows:k},bodyMaxHeight:p,rowExpanded:{subComponent:t=>s.createElement(a.default,{padding:{paddingLeft:"spacing-xl"},backgroundColor:"background-color-tertiary",className:"pm-expanded-row-container"},s.createElement(x.default,{rowData:t,isActiveSession:e.isActiveSession,source:e.source})),autoResetExpanded:!1},globalFilter:{filter:w,placeholder:"Search captured requests",autoResetGlobalFilter:!1}}))}},"./integrations/proxy/components/ShowMoreLess.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("./js/components/base/Buttons.js");class i extends s.Component{constructor(e){super(e),this.container=s.createRef(),this.state={hideExpansionLink:!1,expanded:!1}}componentDidMount(){const e=this.container.current,t=0!==e.clientHeight&&(e.scrollHeight===e.clientHeight||e.scrollHeight<=e.clientHeight+this.props.extraPadding),n=e.scrollHeight>e.clientHeight;t?this.setState({hideExpansionLink:!0}):this.setState({expanded:!n})}render(){const{Inner:e,lineHeight:t,numLines:n,extraPadding:i,parentClass:r}=this.props;return s.createElement(o.default,{direction:"column"},s.createElement("div",{ref:this.container,style:{display:"flex",flexDirection:"column",lineHeight:`${t}px`,maxHeight:`${t*n+i}px`,overflow:"hidden"}},e),s.createElement("div",{onClick:()=>{this.state.expanded?this.container.current.style.setProperty("max-height",`${t*n+i}px`):this.container.current.style.removeProperty("max-height"),this.setState({expanded:!this.state.expanded})}},s.createElement(a.Button,{className:`${r}__show-hide-details`,type:"text"},this.state.hideExpansionLink?"":this.state.expanded?"Show Less":"...Show More")))}}},"./integrations/proxy/components/TableRowExpandedView.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),d=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-right.js"),u=n("./js/modules/services/AnalyticsService.js"),p=n("./integrations/proxy/helpers/analyticsEventUtils.js"),h=n("./js/stores/StoreManager.js"),m=n("./js/stores/InterceptorSettingsStore.js"),g=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),f=n("./integrations/proxy/components/ShowMoreLess.js"),y=n("./node_modules/lodash/lodash.js"),b=n.n(y),x=n("./integrations/proxy/helpers/constants.ts"),S=n("../../node_modules/console-browserify/index.js");let _=(0,g.observer)(s=class extends o.Component{constructor(e){super(e),this.store=(0,h.resolveStoreInstance)(m.default),this.state={showRequestHeaders:!1,showRequestBody:!1,showResponseBody:!1,showResponseHeaders:!1},this.getHeadersView=this.getHeadersView.bind(this),this.getParsedBody=this.getParsedBody.bind(this)}getParsedBody(e){let t={};try{t=b().isArray(e)||b().isObject(e)?JSON.stringify(e,null,2):e}catch(n){S.log("Parsing error ",n),t=e}return t}getBodyView(e){return o.createElement(a.default,{backgroundColor:"background-color-tertiary"},o.createElement(f.default,{extraPadding:14,Inner:o.createElement(i.default,{type:"para",className:"body-text"},o.createElement("code",null,this.getParsedBody(e))),lineHeight:24,numLines:8,parentClass:"pm-proxy-expanded-view__details-wrapper"}))}getHeadersView(e){let t=e;return"object"==typeof e&&(t=[],b().forEach(e,((e,n)=>{t.push({key:n,value:e})}))),o.createElement("div",null,o.createElement("table",null,o.createElement("tbody",null,t.map(((e,t)=>o.createElement("tr",{key:t},o.createElement("td",{style:{verticalAlign:"top"}},o.createElement(i.default,{type:"para",className:"body-text"},e.key,"  ")),":  ",o.createElement("td",{style:{verticalAlign:"top"}},o.createElement(i.default,{type:"para",className:"body-text"},e.value))))))))}render(){return u.default.addEventV2({category:(0,p.default)({source:this.props.source}),action:"request-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),o.createElement("div",{className:"pm-proxy-expanded-view"},o.createElement(a.default,{direction:"column",gap:"spacing-s"},o.createElement(i.default,{type:"para",color:"content-color-primary"},"URL : ",this.props.rowData.url),o.createElement(i.default,{color:"content-color-primary",typographyStyle:{paddingLeft:"spacing-s"}},"Method : ",this.props.rowData.method),this.props.source!==x.INTERCEPTOR&&this.props.rowData.responseStatusCode>0&&o.createElement(i.default,{color:"content-color-primary",typographyStyle:{paddingLeft:"spacing-s"}},"Status Code : ",this.props.rowData.responseStatusCode),o.createElement(a.default,{direction:"column",gap:"spacing-zero"},this.props.rowData.headers&&b().size(this.props.rowData.headers)>0&&o.createElement(a.default,{height:"100%",width:"100%",style:{paddingTop:"spacing-s"}},o.createElement(a.default,{direction:"column"},o.createElement(a.default,{justifyContent:"flex-start"},o.createElement(r.default,{onClick:()=>{this.state.showRequestHeaders||u.default.addEventV2({category:(0,p.default)({source:this.props.source}),action:"request-req-header-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),this.setState({showRequestHeaders:!this.state.showRequestHeaders})},type:"tertiary",size:"small",text:o.createElement(l.default,{type:"h6",text:"Request Headers",color:"content-color-primary"}),icon:this.state.showRequestHeaders?o.createElement(c.default,null):o.createElement(d.default,null),fullWidth:!1,className:"pm-proxy-expand-button"})),this.state.showRequestHeaders&&this.getHeadersView(this.props.rowData.headers))),this.props.rowData.body&&b().size(this.getParsedBody(this.props.rowData.body))>0&&o.createElement(a.default,{height:"100%",width:"100%",style:{paddingTop:"spacing-s"}},o.createElement(a.default,{direction:"column"},o.createElement(a.default,{justifyContent:"flex-start"},o.createElement(r.default,{onClick:()=>{this.state.showRequestBody||u.default.addEventV2({category:(0,p.default)({source:this.props.source}),action:"request-req-body-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),this.setState({showRequestBody:!this.state.showRequestBody})},type:"tertiary",size:"small",text:o.createElement(l.default,{type:"h6",text:"Request Body",color:"content-color-primary"}),icon:this.state.showRequestBody?o.createElement(c.default,null):o.createElement(d.default,null),fullWidth:!1,className:"pm-proxy-expand-button"})),this.state.showRequestBody&&this.getBodyView(this.props.rowData.body))),this.props.rowData.responseHeaders&&b().size(this.props.rowData.responseHeaders)>0&&o.createElement(a.default,{height:"100%",width:"100%",style:{paddingTop:"spacing-s"}},o.createElement(a.default,{direction:"column"},o.createElement(a.default,{justifyContent:"flex-start"},o.createElement(r.default,{onClick:()=>{this.state.showResponseHeaders||u.default.addEventV2({category:(0,p.default)({source:this.props.source}),action:"request-res-header-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),this.setState({showResponseHeaders:!this.state.showResponseHeaders})},type:"tertiary",size:"small",text:o.createElement(l.default,{type:"h6",text:"Response Headers",color:"content-color-primary"}),icon:this.state.showResponseHeaders?o.createElement(c.default,null):o.createElement(d.default,null),fullWidth:!1,className:"pm-proxy-expand-button"})),this.state.showResponseHeaders&&this.getHeadersView(this.props.rowData.responseHeaders))),this.props.rowData.responseBody&&b().size(this.getParsedBody(this.props.rowData.responseBody))>0&&o.createElement(a.default,{height:"100%",width:"100%",style:{paddingTop:"spacing-s"}},o.createElement(a.default,{direction:"column"},o.createElement(a.default,{justifyContent:"flex-start"},o.createElement(r.default,{onClick:()=>{this.state.showResponseBody||u.default.addEventV2({category:(0,p.default)({source:this.props.source}),action:"request-res-body-expanded",label:this.props.isActiveSession?"in-session":"post-session",traceId:this.props.sessionId}),this.setState({showResponseBody:!this.state.showResponseBody})},type:"tertiary",size:"small",text:o.createElement(l.default,{type:"h6",text:"Response Body",color:"content-color-primary"}),icon:this.state.showResponseBody?o.createElement(c.default,null):o.createElement(d.default,null),fullWidth:!1,className:"pm-proxy-expand-button"})),this.state.showResponseBody&&this.getBodyView(this.props.rowData.responseBody))))))}})||s},"./integrations/proxy/components/filters/ActiveSessionPageFilters/InterceptorMethodsFilters.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),i=n("./integrations/proxy/stores/ProxySessionStore.js"),r=n("./js/stores/StoreManager.js"),l=n("./js/stores/InterceptorSettingsStore.js"),c=n("./node_modules/lodash/lodash.js"),d=n.n(c),u=n("./js/utils/InterceptorUtil.js"),p=n("./js/modules/services/AnalyticsService.js"),h=n("./integrations/proxy/helpers/analyticsEventUtils.js"),m=n("./integrations/proxy/helpers/constants.ts");class g extends s.Component{constructor(e){super(e),this.store=(0,r.resolveStoreInstance)(l.default),this.proxyStore=(0,r.resolveStoreInstance)(i.default),this.methodOptions=d().map(m.REQUEST_METHODS,(e=>({value:e,label:e}))),this.oldFilters=d().map(this.store.requestCaptureFilters.methods,(e=>({label:e,value:e}))),this.state={methodFilterValue:this.oldFilters,inlineLabel:this.setInitialInlineLabel()},this.handleMultiSelection=this.handleMultiSelection.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.delayedSubmit=d().debounce(this.handleSubmit,500)}setInitialInlineLabel(){let e="Methods";const t=d().size(this.oldFilters);return t>1?e=`${t} Methods`:1===t&&(e=`${t} Method`),e}handleSubmit(){const e=this.store.getRequestCaptureFilters();let t,n;if(pm.interceptorBridge.requestCapture.updateFilters(e),d().get(e,"methods")){t="filter-request-by-method";let s=(0,u.sanitize)(e.methods);n=d().size(s)>0?"applied":"cleared"}p.default.addEventV2({category:(0,h.default)({isInterceptorSession:!0}),action:t,label:n,traceId:(0,r.resolveStoreInstance)(i.default).activeSessionId})}handleMultiSelection(e){e=d().map(e,(e=>({label:e.label.trim().toUpperCase(),value:e.value.trim().toUpperCase()})));let t="Methods";const n=d().size(e);n>1?t=`${n} Methods`:1===n&&(t=`${n} Method`),this.setState({methodFilterValue:e,inlineLabel:t});let s=d().map(e,(e=>e.value.trim().toUpperCase()));s=d().uniq(s),this.store.updateRequestCaptureFilters({url:this.store.requestCaptureFilters.url,methods:s}),this.delayedSubmit()}render(){return s.createElement(o.default,null,s.createElement(a.default,{triggerType:"tertiary",onChange:this.handleMultiSelection,options:this.methodOptions,value:this.state.methodFilterValue,placeholder:"Methods",inlineLabel:this.state.inlineLabel,menuMaxHeight:300}))}}},"./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyMethodsFilter.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),i=n("./node_modules/lodash/lodash.js"),r=n.n(i),l=n("./integrations/proxy/helpers/constants.ts");class c extends s.Component{constructor(e){super(e),this.state={value:this.props.filters,inlineLabel:this.setInitialInlineLabel()},this.methodOptions=r().map(l.REQUEST_METHODS,(e=>({value:e,label:e}))),this.handleMultiSelection=this.handleMultiSelection.bind(this)}setInitialInlineLabel(){let e="Methods";const t=r().size(this.props.filters);return t>1?e=`${t} Methods`:1===t&&(e=`${t} Method`),e}handleMultiSelection(e){e=r().map(e,(e=>({label:e.label.trim().toUpperCase(),value:e.value.trim().toUpperCase()})));let t="Methods";const n=r().size(e);n>1?t=`${n} Methods`:1===n&&(t=`${n} Method`),this.setState({value:e,inlineLabel:t}),this.props.onFilterChange("methods",e)}render(){return s.createElement(o.default,null,s.createElement(a.default,{triggerType:"tertiary",onChange:this.handleMultiSelection,options:this.methodOptions,value:this.state.value,placeholder:"Methods",inlineLabel:this.state.inlineLabel,menuMaxHeight:300}))}}},"./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyResourcesFilter.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),i=n("./node_modules/lodash/lodash.js"),r=n.n(i);class l extends s.Component{constructor(e){if(super(e),this.handleMultiSelection=this.handleMultiSelection.bind(this),this.state={value:[],inlineLabel:this.setInitialInlineLabel()},this.resourcesOptions=[{value:"js_enabled",label:"JS"},{value:"css_enabled",label:"CSS"},{value:"image_enabled",label:"Image"}],this.props.filters.css_enabled){let e=this.state.value;e.push({value:"css_enabled",label:"CSS"}),this.setState({value:r().uniq(e)})}if(this.props.filters.js_enabled){let e=this.state.value;e.push({value:"js_enabled",label:"JS"}),this.setState({value:r().uniq(e)})}if(this.props.filters.image_enabled){let e=this.state.value;e.push({value:"image_enabled",label:"Image"}),this.setState({value:r().uniq(e)})}}setInitialInlineLabel(){let e=0;this.props.filters.css_enabled&&(e+=1),this.props.filters.js_enabled&&(e+=1),this.props.filters.image_enabled&&(e+=1);let t="Resources";return e>1?t=`${e} Resources`:1===e&&(t=`${e} Resource`),t}handleMultiSelection(e){const t=r().difference(this.state.value,e);this.setState({value:e}),r().forEach(e,(e=>{this.props.onFilterChange(e.value,!0)})),r().forEach(t,(e=>{this.props.onFilterChange(e.value,!1)}));let n="Resources";const s=r().size(e);s>1?n=`${s} Resources`:1===s&&(n=`${s} Resource`),this.setState({value:e,inlineLabel:n})}render(){return s.createElement(o.default,null,s.createElement(a.default,{triggerType:"tertiary",onChange:this.handleMultiSelection,options:this.resourcesOptions,value:this.state.value,placeholder:"Resources",inlineLabel:this.state.inlineLabel}))}}},"./integrations/proxy/components/filters/ActiveSessionPageFilters/ProxyStatusFilter.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/FilterSelect/FilterSelectContainer.js"),i=n("./integrations/proxy/helpers/constants.ts"),r=n("./node_modules/lodash/lodash.js");class l extends s.Component{constructor(e){super(e),this.userOptions=r.map(i.STATUS_CODES,(e=>({label:e,value:e}))),this.state={value:this.props.filters,inlineLabel:this.setInitialInlineLabel()},this.handleMultiSelection=this.handleMultiSelection.bind(this)}setInitialInlineLabel(){let e="Status Codes";const t=r.size(this.props.filters);return t>1?e=`${t} Status Codes`:1===t&&(e=`${t} Status Code`),e}handleMultiSelection(e){let t="Status Codes";r.size(e)>1?t=`${r.size(e)} Status Codes`:1===r.size(e)&&(t=`${r.size(e)} Status Code`),this.setState({value:e,inlineLabel:t}),this.props.onFilterChange("status_codes",e)}render(){return s.createElement(o.default,null,s.createElement(a.default,{triggerType:"tertiary",onChange:this.handleMultiSelection,options:this.userOptions,value:this.state.value,placeholder:"Status Codes",inlineLabel:this.state.inlineLabel,menuMaxHeight:300}))}}},"./integrations/proxy/components/filters/PreSessionFilters/InterceptorSettingsFilters.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var s,o=n("../../node_modules/react/index.js"),a=n("./node_modules/lodash/lodash.js"),i=n.n(a),r=n("./js/stores/CurrentUserStore.js"),l=n("./integrations/proxy/stores/ProxySessionStore.js"),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/InterceptorSettingsStore.js"),u=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),p=n("./appsdk/services/PageService.js"),h=n("./appsdk/navigation/constants.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),g=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),f=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),y=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),b=n("./js/utils/InterceptorUtil.js"),x=n("./js/modules/services/AnalyticsService.js"),S=n("./integrations/proxy/helpers/analyticsEventUtils.js"),_=n("./integrations/proxy/helpers/constants.ts");let v=(0,u.observer)(s=class extends o.Component{constructor(e){super(e),this.store=(0,c.resolveStoreInstance)(d.default),this.proxyStore=(0,c.resolveStoreInstance)(l.default),this.methodOptions=i().map(_.REQUEST_METHODS,(e=>({value:e,label:e}))),this.oldFilters=i().map(this.store.requestCaptureFilters.methods,(e=>({label:e,value:e}))),this.state={methodFilterValue:this.oldFilters},this.handleURLChange=this.handleURLChange.bind(this),this.handleMethodChange=this.handleMethodChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.delayedSubmit=i().debounce(this.handleSubmit,500),this.handleMultiSelection=this.handleMultiSelection.bind(this)}handleURLChange(e){this.store.updateRequestCaptureFilters({url:e,methods:this.store.requestCaptureFilters.methods}),this.delayedSubmit({urlFilterUpdated:!0})}handleMethodChange(e){this.store.updateRequestCaptureFilters({url:this.store.requestCaptureFilters.url,methods:e}),this.delayedSubmit({methodFilterUpdated:!0})}handleSubmit(e){const t=this.store.getRequestCaptureFilters();let n,s;if(pm.interceptorBridge.requestCapture.updateFilters(t),i().has(t,"methods")&&i().get(e,"methodFilterUpdated")){n="filter-request-by-method";let e=(0,b.sanitize)(t.methods);s=i().size(e)>0?"applied":"cleared"}i().has(t,"url")&&i().get(e,"urlFilterUpdated")&&(n="filter-request-by-url-contians",s=i().size(t.url)>0?"applied":"cleared",this.props.updateInlineLabel(t.url)),x.default.addEventV2({category:(0,S.default)({isInterceptorSession:!0}),action:n,label:s,traceId:(0,c.resolveStoreInstance)(l.default).activeSessionId})}handleMultiSelection(e){e=i().map(e,(e=>({label:e.label.trim().toUpperCase(),value:e.value.trim().toUpperCase()}))),this.setState({methodFilterValue:e});let t=i().map(e,(e=>e.value.trim().toUpperCase()));t=i().uniq(t),this.store.updateRequestCaptureFilters({url:this.store.requestCaptureFilters.url,methods:t}),this.delayedSubmit({methodFilterUpdated:!0})}render(){let e=p.PageService.activePage===h.SCRATCHPAD&&(0,c.resolveStoreInstance)(r.default).isLoggedIn;return o.createElement(m.default,{direction:"column",gap:"spacing-l",grow:1,width:"100%"},o.createElement(g.default,{isDisabled:e,label:o.createElement(f.default,{text:"URLs must contain",infoText:"Regular expressions are supported"}),onChange:e=>this.handleURLChange(e.target.value),value:this.store.requestCaptureFilters.url}),this.proxyStore.isOnStartPage&&o.createElement(y.default,{label:o.createElement(f.default,{text:"Methods"}),isDisabled:e,value:this.state.methodFilterValue||[],placeholder:" ",onChange:this.handleMultiSelection,options:this.methodOptions,menuMaxHeight:250}))}})||s},"./integrations/proxy/components/filters/PreSessionFilters/ProxySettingsFilters.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var s,o=n("../../node_modules/react/index.js"),a=n("./appsdk/services/PageService.js"),i=n("./appsdk/navigation/constants.js"),r=n("./js/stores/CurrentUserStore.js"),l=n("./js/stores/StoreManager.js"),c=n("./integrations/proxy/stores/ProxySessionStore.js"),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/MultiSelect/MultiSelect.js"),g=n("./js/models/tcp/helpers/utils.js"),f=n("./integrations/proxy/helpers/constants.ts"),y=n("./node_modules/lodash/lodash.js"),b=n.n(y);let x=(0,d.observer)(s=class extends o.Component{constructor(e){super(e),this.proxyStore=(0,l.resolveStoreInstance)(c.default),this.methodOptions=b().map(f.REQUEST_METHODS,(e=>({value:e,label:e}))),this.state={regexErrors:{url:!1,url_disabled:!1},methodFilterValue:[]},this.validateAndSend=this.validateAndSend.bind(this),this.handleMultiSelection=this.handleMultiSelection.bind(this)}validateAndSend(e,t){this.props.onFilterChange(e,t),(0,g.isValidRegex)(t)?this.setState({regexErrors:{...this.state.regexErrors,[e]:!1}}):this.setState({regexErrors:{...this.state.regexErrors,[e]:!0}}),this.props.updateInlineLabel(t,e)}handleMultiSelection(e){e=b().map(e,(e=>({label:e.label.trim().toUpperCase(),value:e.value.trim().toUpperCase()}))),this.setState({methodFilterValue:e}),this.props.onFilterChange("methods",e)}render(){let e=this.props.filters,t=a.PageService.activePage===i.SCRATCHPAD&&(0,l.resolveStoreInstance)(r.default).isLoggedIn;return o.createElement(u.default,{direction:"column",gap:"spacing-l",grow:1,className:"additional-filters-area",width:"100%"},o.createElement(p.default,{isDisabled:t,label:o.createElement(h.default,{text:"URLs must contain",infoText:"Regular expressions are supported"}),onChange:e=>this.validateAndSend("url",e.target.value),value:e.url,validationStatus:this.state.regexErrors.url?"warning":null,validationMessage:this.state.regexErrors.url?"Please enter a valid regex":null}),o.createElement(p.default,{isDisabled:t,label:o.createElement(h.default,{text:"URLs can't contain"}),onChange:e=>this.validateAndSend("url_disabled",e.target.value),value:e.url_disabled,validationStatus:this.state.regexErrors.url_disabled?"warning":null,validationMessage:this.state.regexErrors.url_disabled?"Please enter a valid regex":null}),this.proxyStore.isOnStartPage&&o.createElement(m.default,{label:o.createElement(h.default,{text:"Methods"}),isDisabled:t,value:e.methods,onChange:this.handleMultiSelection,options:this.methodOptions,placeholder:" ",menuMaxHeight:250}))}})||s},"./integrations/proxy/components/helpers/CaptureProxyStartupBanner.js":function(e,t,n){n.r(t);var s=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/react/index.js"),l=n("./appsdk/components/link/Link.js"),c=n("./js/constants/AppUrlConstants.js"),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("./js/stores/StoreManager.js"),p=n("./integrations/proxy/stores/ProxySessionStore.js");t.default=(0,d.observer)((e=>{const t=(0,u.resolveStoreInstance)(p.default);return r.createElement(s.default,{title:r.createElement(o.default,{type:"h5",text:"Capture HTTPS requests via Proxy"}),status:"info",onDismiss:()=>{t.updateShowProxyBanner(!1)}},r.createElement(a.default,{direction:"column",gap:"spacing-s"},r.createElement(i.default,null,"Just install a certificate to start routing HTTPS requests through Postman's proxy server."),r.createElement(l.default,{to:c.PROXY_INSTALL_ROOT_CA_DOCS_URL},r.createElement(i.default,{type:"link-default",isExternal:!0},"Learn how to install a certificate"))))}))},"./integrations/proxy/components/helpers/Clock.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),o=n("./js/stores/StoreManager.js"),a=n("./integrations/proxy/stores/ProxySessionStore.js"),i=n("../../node_modules/mobx-react/dist/mobx-react.module.js");t.default=(0,i.observer)((e=>{const t=(0,o.resolveStoreInstance)(a.default),n=t.activeSessionDurationObject;return(0,s.useEffect)((()=>{e.isProxyCapturePaused?t.stopSessionClock():t.startSessionClock()}),[e.isProxyCapturePaused]),s.createElement("div",null,s.createElement("span",null,n.h>=10?n.h:`0${n.h}`)," : ",s.createElement("span",null,n.m>=10?n.m:`0${n.m}`)," : ",s.createElement("span",null,n.s>=10?n.s:`0${n.s}`))}))},"./integrations/proxy/components/helpers/OverviewChart.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var s=n("../../node_modules/react/index.js"),o=n("./node_modules/chart.js/auto/auto.esm.js"),a=(n("./node_modules/chartjs-adapter-moment/dist/chartjs-adapter-moment.esm.js"),n("../../node_modules/mobx-react/dist/mobx-react.module.js")),i=n("./integrations/proxy/helpers/constants.ts");function r(e){const[t,n]=(0,s.useState)(),a=(0,s.useRef)(null),r={labels:e.data.labels,datasets:[{label:e.xAxisLabel,backgroundColor:i.COLOR_CODES,borderColor:"rgb(255, 199, 132)",data:e.data.data}]},l={responsive:!0,maintainAspectRatio:!1,datasets:{bar:{barPercentage:.5}},plugins:{legend:{display:!1},title:{display:!1,text:"Methods",position:"bottom"}},scales:{x:{title:{display:!0,text:e.xAxisLabel},grid:{display:!1},ticks:{minRotation:0,maxRotation:20}},y:{title:{display:!0,text:"No of requests"},ticks:{callback:function(e,t){if(e%10==0)return e}},grid:{display:!0,drawTicks:!0}}},layout:{paddingTop:"100px"}};return(0,s.useEffect)((()=>{let e=new o.default(a.current.getContext("2d"),{type:"bar",data:r,options:l});return()=>{e.destroy(),n(e)}}),[e.data]),s.createElement("div",{className:"pm-overview-chart"},s.createElement("canvas",{ref:a}))}r.propTypes={type:a.PropTypes.string,data:a.PropTypes.object,options:a.PropTypes.object}},"./integrations/proxy/components/helpers/OverviewTable.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return a}});var s=n("../../node_modules/@postman/aether/esmLib/src/components/Table/Table.js"),o=n("../../node_modules/react/index.js");n("./node_modules/lodash/lodash.js");function a(e){const[t,n]=(0,o.useState)([]),[a,i]=(0,o.useState)("500px");(0,o.useEffect)((()=>{const e=document.querySelector(".pane-content"),t=new ResizeObserver((e=>{(e=>{i(e[0].contentRect.height-650+"px")})(e)}));return t.observe(e),()=>{t.unobserve(e)}}),[]),(0,o.useEffect)((()=>{n(e.data)}),[e.data]);let r=o.useMemo((()=>(()=>{let t=[];return t.push({cellWidth:"32px",id:"SelectAll",accessor:({color:e})=>o.createElement("div",{style:{width:"11.2px",height:"11.2px",backgroundColor:e,marginTop:"4px"}})}),t.push({Header:e.selectedOption.label||"Methods",accessor:"type"}),t.push({Header:"Number of requests",accessor:"noOfRequests"}),t})()));return o.createElement("div",{className:"pm-overview-table"},o.createElement(s.default,{className:"overview-table",data:t,columns:r,bodyMaxHeight:"100%"}))}},"./integrations/proxy/components/helpers/StatusCodeBadge.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js");t.default=({statusCode:e})=>{let t="info";const n=parseInt(e/100),a={2:"success",3:"neutral",4:"critical",5:"critical"};return a[n]&&(t=a[n]),s.createElement(o.default,{style:{padding:"0px"},status:t,text:e.toString()})}},"./integrations/proxy/components/interceptor/AutoSyncCookiesInstructionBanner.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var s=n("../../node_modules/@postman/aether/esmLib/src/components/Banner/Banner.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/react/index.js"),r=n("./appsdk/components/link/Link.js"),l=n("./js/constants/AppUrlConstants.js"),c=n("./js/stores/StoreManager.js"),d=n("./js/stores/InterceptorSettingsStore.js");function u(e){const t=(0,c.resolveStoreInstance)(d.default);return i.createElement(s.default,{title:"Auto sync cookies from Postman cookie jar",status:"info",onDismiss:()=>t.updateShowAutoSyncCookiesBannerInterceptor(!1)},i.createElement(o.default,{gap:"spacing-s",direction:"column"},i.createElement(a.default,null,"You can now sync cookies from any browser or app to Postman desktop app using Postman Proxy or Interceptor."),i.createElement(r.default,{to:l.COOKIE_SYNC_VIA_PROXY_INTERCEPTOR_DOC_URL},i.createElement(a.default,{type:"link-default"},"Learn More"))))}},"./integrations/proxy/components/popovers/EnableProxyPopover.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Tooltip/Tooltip.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-close-stroke.js"),p=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),h=n("./integrations/proxy/stores/SessionCookieStore.js"),m=n("./js/stores/StoreManager.js"),g=n("./integrations/proxy/stores/ProxySessionStore.js"),f=n("./integrations/proxy/helpers/constants.ts");let y=(0,p.observer)(s=class extends o.Component{constructor(e){super(e),this.proxyStore=(0,m.resolveStoreInstance)(g.default),this.sessionCookieStore=(0,m.resolveStoreInstance)(h.default),this.getTriggerForFilter=this.getTriggerForFilter.bind(this),this.closePopover=this.closePopover.bind(this),this.onEnableProxyClicked=this.onEnableProxyClicked.bind(this)}closePopover(){this.proxyStore.updateShowEnableProxyPopover(!1)}onEnableProxyClicked(e){e===f.ENABLE_PROXY_ACTION?this.props.togglePortSettingsState():e===f.DISABLE_PROXY_ACTION&&this.props.handleConnectOnProxyToggle(),this.closePopover()}getTriggerForFilter(){const{shouldAutoSyncCookiesToCookieJarViaProxy:e}=this.sessionCookieStore,{proxyConnectionSettings:t}=pm.tcpReader,n=e||t.status===f.STATUS_CONNECTING||t.status===f.STATUS_DISCONNECTING;return o.createElement(a.default,{onClick:()=>{const e=t.status===f.STATUS_CONNECTED?f.DISABLE_PROXY_ACTION:f.ENABLE_PROXY_ACTION;this.onEnableProxyClicked(e)},type:"plain",isDisabled:n,text:t.status===f.STATUS_CONNECTED?f.DISABLE_PROXY_ACTION:f.ENABLE_PROXY_ACTION,tooltip:e?o.createElement(i.default,{content:f.COOKIE_SYNC_ENABLED_PROXY_TOGGLE_TOOLTIP,placement:"top"}):null})}render(){return o.createElement(r.default,{placement:"bottom",padding:"spacing-l",isOpen:this.proxyStore.showEnableProxyPopover,trigger:this.getTriggerForFilter(),onClickOutside:this.closePopover},o.createElement(l.default,{direction:"column",gap:"spacing-m"},o.createElement(l.default,{justifyContent:"space-between"},o.createElement(c.default,{type:"h6",text:"Enable proxy to start capturing requests",color:"content-color-primary"}),o.createElement("div",{onClick:this.closePopover,style:{paddingTop:"2px",cursor:"pointer"}},o.createElement(u.default,null))),o.createElement(d.default,{type:"para",color:"content-color-primary"},"By enabling Postman as a proxy will let postman app intercept Incoming traffic from any device or browser")))}})||s},"./integrations/proxy/components/popovers/FilterURLPopover.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Popover/Popover.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-down.js"),d=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),u=n("./integrations/proxy/components/filters/PreSessionFilters/ProxySettingsFilters.js"),p=n("./integrations/proxy/stores/ProxySessionStore.js"),h=n("./js/stores/StoreManager.js"),m=n("./js/stores/InterceptorSettingsStore.js"),g=n("./integrations/proxy/components/filters/PreSessionFilters/InterceptorSettingsFilters.js"),f=n("./integrations/proxy/helpers/constants.ts"),y=n("./node_modules/lodash/lodash.js");let b=(0,d.observer)(s=class extends o.Component{constructor(e){super(e),this.interceptorStore=(0,h.resolveStoreInstance)(m.default),this.proxyStore=(0,h.resolveStoreInstance)(p.default),this.state={inlineLabel:this.getInitialInlineLabel()},this.updateInlineLabel=this.updateInlineLabel.bind(this)}updateInlineLabel(e,t){let n="URL";this.props.source===f.INTERCEPTOR?y.size(e)>0&&(n="Custom URL"):this.props.source===f.PROXY&&("url"===t?(y.size(e)>0||y.size(this.props.filters.url_disabled)>0)&&(n="Custom URL"):"url_disabled"===t&&(y.size(e)>0||y.size(this.props.filters.url)>0)&&(n="Custom URL")),this.setState({inlineLabel:n})}getInitialInlineLabel(){let e="URL";return this.props.source===f.INTERCEPTOR?y.size(this.interceptorStore.requestCaptureFilters.url)>0&&(e="Custom URL"):this.props.source===f.PROXY&&(y.size(this.props.filters.url)>0||y.size(this.props.filters.url_disabled)>0)&&(e="Custom URL"),e}getTriggerForFilter(){return o.createElement("div",{onClick:()=>{},className:"pm-proxy-configure-url-popover"},o.createElement(a.default,{direction:"row",gap:"spacing-s"},o.createElement(i.default,{color:"content-color-primary"},this.state.inlineLabel),o.createElement("div",{style:{paddingTop:"2px"}},o.createElement(c.default,null))))}render(){return o.createElement(r.default,{placement:"bottom-start",padding:"spacing-l",trigger:this.getTriggerForFilter()},o.createElement(a.default,{direction:"column",gap:"spacing-s"},o.createElement(l.default,{type:"h6",text:"Configure by URL",color:"content-color-primary"}),o.createElement(i.default,{type:"para"},"Regular expressions are supported"),this.interceptorStore.captureRequestEnabled?o.createElement(g.default,{updateInlineLabel:this.updateInlineLabel}):o.createElement(u.default,{updateInlineLabel:this.updateInlineLabel,filters:this.props.filters,onFilterChange:this.props.onFilterChange})))}})||s},"./integrations/proxy/helpers/TableUtils.js":function(e,t,n){n.r(t),n.d(t,{openRequest:function(){return c},showDeleteToast:function(){return d}});var s=n("./runtime-repl/request-http/_api/RequestInterface.js"),o=n("./js/modules/services/AnalyticsService.js"),a=n("./integrations/proxy/helpers/analyticsEventUtils.js"),i=n("./integrations/proxy/helpers/responseUtil.js"),r=n("./integrations/proxy/helpers/constants.ts"),l=n("./node_modules/lodash/lodash.js");function c(e,t,n,c,d){let u;e.preventDefault();try{u=JSON.parse(l.get(t,"body")),"raw"===t.dataMode&&(u=JSON.stringify(u))}catch(e){u=l.get(t,"body")}const p=l.map(l.keys(t.headers),(e=>({key:e,value:t.headers[e]}))),h=l.assign({},{data:u,dataMode:t.dataMode,headerData:p,method:t.method,url:t.url}),m={headers:t.responseHeaders,body:t.responseBody,statusCode:t.responseStatusCode,statusMessage:t.responseStatusMessage};(0,s.openNewRequestTab)({initialValue:h,response:(0,i.createResponseData)(m,t.responseTime)}),o.default.addEventV2({category:(0,a.default)({source:n}),action:r.ANALYTICS.OPEN_REQUEST_ACTION,label:d,traceId:c})}function d(e,t){let n;n=l.size(t)>1?"Failed to delete requests":"Failed to delete request",e({status:"error",description:n})}},"./integrations/proxy/helpers/analyticsEventUtils.js":function(e,t,n){n.r(t);var s=n("./integrations/proxy/helpers/constants.ts");const o="proxy-session",a="interceptor-session";t.default=function({isProxySession:e,isInterceptorSession:t,source:n}){return n?n===s.PROXY?o:n===s.INTERCEPTOR?a:void 0:e?o:t?a:"capture-session"}},"./integrations/utils/OauthUtilityMethods.js":function(e,t,n){n.r(t);var s=n("./integrations/services/OAuthService.js"),o=n("./node_modules/lodash/lodash.js"),a=n.n(o),i=n("./js/stores/StoreManager.js"),r=n("./js/stores/SyncStatusStore.js"),l=n("./js/services/NavigationService.js");t.default={handleInitiateOAuth:(e,t)=>{let n={};return t&&(n.tokenType=t),new Promise(((t,o)=>{s.default.initiateAuthorization(e,n).then((n=>{let s,i=n.body;if(200===n.status&&!a().isEmpty(i))return s=`${window.postman_integrations_public_url}/oauth/authorize/${e}?sessionId=${i.sessionId}`,l.default.openURL(s,{target:"_blank"}),t(a().get(i,"sessionId"));pm.logger.warn("OauthUtilityMethods~handleInitiateOAuth: Something went wrong while opening authorization",n.body),pm.toasts.error("Something went wrong while initiating authorization"),o(new Error("Something went wrong"))})).catch((e=>{let t=!(0,i.resolveStoreInstance)(r.default).isSocketConnected?"You need to be online to complete the authorization ":"Something went wrong while initiating authorization";pm.logger.warn("OauthUtilityMethods~handleInitiateOAuth: Something went wrong while opening authorization",e),pm.toasts.error(t),o(e)}))}))},pollForToken(e){let t=0;if(!e.sessionId){let e="Something went wrong while fetching authorization information";throw pm.logger.warn("OauthUtilityMethods~pollForToken: sessionId is required."),pm.toasts.error(e),new Error(e)}const n=(o,l)=>{t++,s.default.getSession(e.sessionId).then((s=>{let i=s.body;return 30===t?(pm.toasts.error("Service timed out while performing authorization"),l(new Error("Exceeded max attempts"))):e.cancelOauth?o():i.token&&!a().isEmpty(i.token)?i.error?(pm.logger.warn("OauthUtilityMethods~pollForToken: Error while getting a session for the user",i.error),pm.toasts.error("Something went wrong while fetching authorization information"),l(new Error("Error while getting a session for the user"))):i.token?o(i.token):(pm.toasts.error("Authorization failed. Please try again."),l(new Error("Authorization could not be completed."))):void setTimeout(n,2e3,o,l)})).catch((e=>{if(e.error){let t=!(0,i.resolveStoreInstance)(r.default).isSocketConnected?"You need to be online to complete the authorization ":"Something went wrong while fetching authorization information";pm.logger.warn("OauthUtilityMethods~pollForToken: Error while getting a session for the user",e.error),pm.toasts.error(t)}return l(e)}))};return new Promise(n)}}},"./integrations/views/OauthReauthenticateView.js":function(e,t,n){n.r(t);var s,o=n("../../node_modules/react/index.js"),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Form/Form.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/withToast.js"),p=n("./integrations/services/OAuthService.js"),h=n("./js/services/NavigationService.js"),m=n("./integrations/components/OAuthComponent.js"),g=n("./integrations/constants/integrationsConstants.ts"),f=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),y=n("./node_modules/lodash/lodash.js");const b="started",x="failed",S="error",_=f.default.div`
  padding: var(--spacing-xxl);
  width: calc(var(--size-s) * 20);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
 `;let v=(0,a.observer)(s=class extends o.PureComponent{constructor(e){super(e),this.state={authStatus:b,personalAccessToken:"",personalAccessTokenError:"",isLoading:!1},this.initiateOAuth=this.initiateOAuth.bind(this),this.updatePersonalAccessToken=this.updatePersonalAccessToken.bind(this),this.getPersonalAccessTokenUpdateForm=this.getPersonalAccessTokenUpdateForm.bind(this),this.onAuthorizationComplete=this.onAuthorizationComplete.bind(this)}componentDidMount(){const{addToast:e}=this.props,{serviceConfig:t}=this.props.controller;if(y.isEmpty(t))return e({title:"Error",message:"Invalid service provided. Please check the URL for authorization and try again.",status:"error"}),void this.setState({authStatus:S})}onAuthorizationComplete(){const{reauthorizationCompletedCallback:e,closeTab:t}=this.props.controller,{addToast:n}=this.props;e(),n({title:"Success",description:"Successfully updated authentication details.",status:"success"}),t()}initiateOAuth(){const{serviceConfig:e,tokenId:t}=this.props.controller,n=y.get(e,"service"),s=y.get(e,"tokenType"),{addToast:o}=this.props;this.setState({authStatus:b}),p.default.initiateAuthorization(n,{tokenType:s,tokenId:t}).then((({status:e,body:t})=>{if(200!==e)pm.logger.error("OauthReauthenticateView~initiateOAuth: Failed to create an OAuth session",{status:e,body:t}),o(403===e?{title:"Error",description:"You do not have access to update the authorization information.",status:"error"}:{title:"Error",description:"Something went wrong while initiating authorization flow",status:"error"}),this.setState({authStatus:x});else{let e=`${window.postman_integrations_public_url}/oauth/authorize/${n}?sessionId=${t.sessionId}`;h.default.openURL(e,{target:"_blank"}),p.default.getToken(t.sessionId,(e=>{if(e)return o({title:"Error",description:"Something went wrong while authorizing. Please try again.",status:"error"}),pm.logger.error("OauthReauthenticateView~initiateOAuth: Failed to fetch token information",e),void this.setState({authStatus:x});this.onAuthorizationComplete()}))}}))}updatePersonalAccessToken(e){const{tokenId:t}=this.props.controller,{personalAccessToken:n}=this.state;this.setState({isLoading:!0},(()=>{p.default.updateToken(t,{accessToken:n}).then((({status:e,body:t})=>{e>=200&&e<300?this.onAuthorizationComplete():(pm.logger.error("OauthReauthenticateView~updatePersonalAccessToken: Failed to update token",{status:e,body:t}),this.setState({personalAccessTokenError:g.PERSONAL_ACCESS_TOKEN_UPDATE_ERROR,isLoading:!1}))})).catch((e=>{pm.logger.error("OauthReauthenticateView~updatePersonalAccessToken: Failed to update token",e),this.setState({personalAccessTokenError:g.PERSONAL_ACCESS_TOKEN_UPDATE_ERROR,isLoading:!1})}))}))}getPersonalAccessTokenUpdateForm(){const{serviceConfig:e}=this.props.controller,{isLoading:t,personalAccessToken:n,personalAccessTokenError:s}=this.state,a=y.get(e,"userFriendlyServiceName");return o.createElement(i.default,{heading:`Update authentication details for ${a}`,name:"oauth-token-update-form",primaryAction:o.createElement(r.default,{type:"primary",text:"Update",isLoading:t,onClick:this.updatePersonalAccessToken}),secondaryAction:o.createElement(r.default,{type:"secondary",text:"Reset",onClick:e=>{this.setState({personalAccessToken:""})}})},o.createElement(l.default,{direction:"column",gap:"spacing-l"},o.createElement(c.default,{type:"password",label:o.createElement(d.default,{text:"Personal Access Token"}),value:n,validationStatus:s?"error":null,validationMessage:s,entityName:"Personal access token",onChange:e=>{this.setState({personalAccessToken:e.target.value})}})))}render(){const{authStatus:e}=this.state,{serviceConfig:t,closeTab:n}=this.props.controller,s=y.get(t,"tokenType"),a=y.get(t,"userFriendlyServiceName");return s===g.PERSONAL_ACCESS_TOKEN_TYPE?o.createElement(l.default,{justifyContent:"center",width:"100%"},o.createElement(_,null,this.getPersonalAccessTokenUpdateForm())):e===b?(this.initiateOAuth(),o.createElement(m.AuthorizingView,{iconName:y.get(t,"iconName"),primaryText:`Connecting to ${a}...`,secondaryText:"This may take up to 60 seconds.",onCancel:n})):e===x?o.createElement(m.AuthorizationErrorView,{title:`${a} authorization error`,description:"Please try again.",buttonText:"Try again",onButtonClick:()=>{this.setState({authStatus:b})}}):void n()}})||s;t.default=(0,u.default)(v)},"./js/components/banner/BannerBody.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var s=n("../../node_modules/react/index.js");n("./node_modules/lodash/lodash.js");function o(e){return s.createElement("div",null,e.children)}},"./js/components/banner/BannerConsts.js":function(e,t,n){n.r(t);t.default={NEUTRAL:"neutral",INFO:"info",WARNING:"warning",ERROR:"error",SUCCESS:"success"}},"./js/components/banner/BannerContainer.js":function(e,t,n){n.r(t);var s=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),o=n("../../node_modules/react/index.js"),a=n("./node_modules/lodash/lodash.js"),i=n.n(a),r=n("./node_modules/prop-types/index.js"),l=n.n(r),c=n("./js/components/banner/BannerConsts.js");const d={[c.default.NEUTRAL]:{styleClass:"banner-container__neutral"},[c.default.INFO]:{icon:"icon-state-info-stroke",iconColor:"content-color-info",styleClass:"banner-container__info"},[c.default.WARNING]:{icon:"icon-state-warning-stroke",iconColor:"content-color-warning",styleClass:"banner-container__warning"},[c.default.ERROR]:{icon:"icon-state-error-stroke",iconColor:"content-color-error",styleClass:"banner-container__error"},[c.default.SUCCESS]:{icon:"icon-state-success-stroke",iconColor:"content-color-success",styleClass:"banner-container__success"}},u=function(e){const t=i().get(d,e.bannerType,c.default.INFO);return o.createElement("div",{className:`banner-container ${t.styleClass}`},t.icon&&o.createElement("div",null,o.createElement(s.default,{name:t.icon,color:t.iconColor})),o.createElement("div",{className:"banner-content"},e.children),e.isDismissible&&o.createElement("div",{className:"proxy-startup-banner__close",onClick:()=>{e.onDismiss&&e.onDismiss()}},o.createElement(s.default,{name:"icon-action-close-stroke",color:"content-color-secondary"})))};u.propTypes={bannerType:l().oneOf(i().values(c.default))},u.defaultProps={bannerType:c.default.INFO},t.default=u},"./js/components/banner/BannerFooter.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var s=n("../../node_modules/react/index.js");n("./node_modules/lodash/lodash.js");function o(e){return s.createElement("div",{className:"banner-container-footer"},e.children)}},"./js/components/banner/BannerHeader.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return o}});var s=n("../../node_modules/react/index.js");n("./node_modules/lodash/lodash.js");function o(e){return s.createElement("div",null,e.children)}},"./js/components/base/Icons/LockedIcon.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var s=n("../../node_modules/react/index.js"),o=n("./js/components/base/Icons/Icon.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a.apply(this,arguments)}const i=s.createElement("svg",{width:"12",height:"14",viewBox:"0 0 16 16"},s.createElement("defs",null,s.createElement("path",{id:"locked",d:"M8 1C5.79 1 4 2.79 4 5v2H2v8h12V7h-2V5c0-2.21-1.79-4-4-4zm0 2c1.19 0 2 .81 2 2v2H6V5c0-1.19.81-2 2-2z"})),s.createElement("use",{fill:"#282828",fillRule:"evenodd",xlinkHref:"#locked"}));function r(e){return s.createElement(o.default,a({},e,{icon:i}))}},"./js/components/base/Icons/WarningIcon.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return r}});var s=n("../../node_modules/react/index.js"),o=n("./js/components/base/Icons/Icon.js");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a.apply(this,arguments)}const i=s.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("defs",null,s.createElement("path",{id:"pm-icon-warning",d:"M8.89487 1.78887C8.52635 1.05182 7.47454 1.05182 7.10602 1.78887L0.724051 14.5528C0.3916 15.2177 0.875095 16 1.61848 16H14.3824C15.1258 16 15.6093 15.2177 15.2768 14.5528L8.89487 1.78887ZM9.00044 7.00976C9.00044 7.00976 9.01601 6.00002 8.00044 6.00002C6.98488 6.00002 7.00044 7.00976 7.00044 7.00976V10C7.00044 10 6.98787 11 8.00044 11C9.01302 11 9.00044 10 9.00044 10V7.00976ZM8.00064 13.9996C8.55254 13.9996 9.00044 13.5517 9.00044 12.9998C9.00044 12.4479 8.55254 12 8.00064 12C7.44873 12 7.00083 12.4479 7.00083 12.9998C7.00083 13.5517 7.44873 13.9996 8.00064 13.9996Z"})),s.createElement("use",{fill:"#ED4B48",fillRule:"evenodd",clipRule:"evenodd",xlinkHref:"#pm-icon-warning"}));function r(e){return s.createElement(o.default,a({},e,{icon:i}))}},"./js/components/base/PasswordInput.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var s=n("../../node_modules/react/index.js"),o=n("./node_modules/classnames/index.js"),a=n.n(o),i=n("./js/components/base/Inputs.js"),r=n("./js/components/base/AutoSuggest/AutoSuggestInput.js"),l=n("./js/components/base/Buttons.js"),c=n("./node_modules/prop-types/index.js"),d=n.n(c),u=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},p.apply(this,arguments)}class h extends s.Component{constructor(e){super(e),this.state={masked:!0,error:"",warning:""},this.handleToggle=this.handleToggle.bind(this)}UNSAFE_componentWillReceiveProps(e){this.handleValidationState(e)}handleToggle(){this.setState({masked:!this.state.masked})}handleValidationState(e){const{validation:t,value:n}=e;if(t){let s,o;for(let a=0;a<t.length;a++){const{validator:i,message:r,type:l}=t[a]||{};if("function"==typeof i&&!i(n,e)){s=l,o=r;break}}if(s)return this.state[s]!==o&&this.setState({[s]:o})}this.setState({error:"",warning:""})}getValidationIcon(){return this.state.error?s.createElement(l.Button,{type:"icon",className:"password-input__error-btn",tooltip:this.state.error},s.createElement(u.default,{name:"icon-state-error-stroke",size:"small"})):this.state.warning?s.createElement(l.Button,{type:"icon",className:"password-input__warning-btn",tooltip:this.state.warning},s.createElement(u.default,{name:"icon-state-warning-stroke",size:"small"})):void 0}getPasswordInput(e){return this.props.enableVariableSuggestions?this.state.masked?s.createElement(i.Input,p({},e,{type:"password"})):s.createElement(r.AutoSuggestInput,p({},e,{enableVariableSuggestions:!0,type:"text"})):s.createElement(i.Input,p({},e,{type:this.state.masked?"password":"text"}))}render(){let{className:e,...t}=this.props;return s.createElement("div",{className:a()("password-input",e)},this.getPasswordInput(t),s.createElement("div",{className:"password-input-message"},this.getValidationIcon()),s.createElement("div",{className:"password-input__toggle",onClick:this.handleToggle},this.state.masked?s.createElement(u.default,{name:"icon-action-hide-stroke",title:"Show"}):s.createElement(u.default,{name:"icon-action-view-stroke",title:"Hide"})))}}h.propTypes={className:d().string,inputStyle:d().oneOf(["box","line"]),size:d().oneOf(["huge"]),enableVariableSuggestions:d().bool,validation:d().arrayOf(d().shape({validator:d().func.isRequired,message:d().string,type:d().oneOf(["error","warning"])}))},h.defaultProps={enableVariableSuggestions:!1}},"./js/components/interceptor/InterceptorConnection.js":function(e,t,n){n.r(t);var s,o=n("../../node_modules/react/index.js"),a=n("./js/stores/StoreManager.js"),i=n("./js/stores/InterceptorSettingsStore.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("./js/components/base/Buttons.js"),c=n("./js/components/base/Icons/LockedIcon.js"),d=n("./js/components/base/Icons/WarningIcon.js"),u=n("./js/components/base/Tooltips.js"),p=n("./js/components/base/PasswordInput.js"),h=n("./js/modules/services/AnalyticsService.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-lock-stroke.js");const g="Connection is secure",f="The information sent between the Postman app and the browser extension is encrypted with a custom key.",y="Encryption keys don't match",b="Check the encryption in the browser extension and ensure it matches the one entered here.",x="Almost done...",S="Now, enter the same encryption key into the Interceptor and you'll be all set.",_="Add an additional layer of security",v="We already encrypt communication with the Interceptor. You can make that communication even more secure by adding a custom encryption key.";let E=(0,r.observer)(s=class extends o.Component{constructor(e){super(e),this.store=(0,a.resolveStoreInstance)(i.default),this.state={isTooltipVisible:!1,tooltipPlacement:"bottom",keyValidationFail:!1,key:this.store.customEncryptionKey,waitingState:!1},this.openTooltip=this.openTooltip.bind(this),this.handleTooltipClose=this.handleTooltipClose.bind(this),this.saveKey=this.saveKey.bind(this)}openTooltip(){this.setState({isTooltipVisible:!0,key:this.store.customEncryptionKey,keyValidationFail:!1})}saveKey(){this.state.key.length<10||!/\d/.test(this.state.key)||!/[a-zA-Z]/.test(this.state.key)?this.setState({keyValidationFail:!0}):(pm.interceptorBridge.setKey(this.state.key),this.setState({keyValidationFail:!1,waitingState:!0}),this.store.updateCustomEncryptionKey(this.state.key),this.store.customKeyInitialized?h.default.addEventV2({category:"interceptor",action:"encryption_key_updated",label:"repeated"}):(this.store.updateCustomKeyInitializedFlag(!0),h.default.addEventV2({category:"interceptor",action:"encryption_key_updated",label:"initial"})))}handleChange(e){this.setState({key:e,keyValidationFail:!1})}handleTooltipClose(){this.state.isTooltipVisible&&this.setState({isTooltipVisible:!1,waitingState:!1})}render(){return o.createElement("div",{className:"interceptor-capture-requests-menu--interceptor-connected-label"},o.createElement("div",{ref:"toolTipTarget"},this.store.connectionStatus&&(this.store.minExtensionVersionForCustomEncryptionSatisfied||this.store.customKeyInitialized||this.store.keyMismatch)?this.state.waitingState?o.createElement(l.Button,{type:"icon tertiary",active:this.state.isTooltipVisible,className:"encryption-key-mismatch-btn",onClick:this.openTooltip,tooltip:"Secure connection"},this.store.keyMismatch?o.createElement(c.default,null):o.createElement(c.default,{className:"interceptor-secure-lock-icon"})):this.store.keyMismatch?o.createElement(l.Button,{type:"icon tertiary",active:this.state.isTooltipVisible,className:"encryption-key-mismatch-btn",onClick:this.openTooltip,tooltip:"Secure connection"},o.createElement("span",{className:"interceptor-encryption-key-warning"},o.createElement(d.default,{className:"interceptor-encryption-key-warning"}))):o.createElement(l.Button,{type:"icon tertiary",active:this.state.isTooltipVisible,className:"encryption-key-mismatch-btn",onClick:this.openTooltip,tooltip:"Secure connection"},this.store.customKeyInitialized?o.createElement("div",{className:"interceptor-secure-lock-icon"},o.createElement(m.default,{color:"base-color-success"})):o.createElement(m.default,null)):o.createElement("div",null),o.createElement(u.Tooltip,{show:this.state.isTooltipVisible,placement:this.state.tooltipPlacement,target:this.refs.toolTipTarget,onClose:this.handleTooltipClose,className:"interceptor-encryption-key-tooltip-wrapper",closeOnClickOutside:!0,immediate:!0},o.createElement(u.TooltipBody,null,o.createElement("div",{className:"interceptor-encryption-key-tooltip"},o.createElement("div",{className:"interceptor-secure-connection-label"},this.store.customKeyInitialized?this.state.waitingState?this.store.keyMismatch?x:o.createElement("span",{className:"key-match"},g):this.store.keyMismatch?o.createElement("span",{className:"key-mismatch"},y):o.createElement("span",{className:"key-match"},g):this.store.keyMismatch?o.createElement("span",{className:"key-mismatch"},y):_),o.createElement("div",{className:"interceptor-tooltip__text"},this.store.customKeyInitialized?this.state.waitingState?this.store.keyMismatch?S:f:this.store.keyMismatch?b:f:this.store.keyMismatch?b:v),o.createElement("div",{className:"interceptor-encryption-key-label"},"Encryption Key"),o.createElement(p.default,{className:"interceptor-encryption-key-input",disabled:!1,inputStyle:"box",error:this.state.keyValidationFail,placeholder:"Password",value:this.state.key,onChange:e=>{this.handleChange(e)}}),o.createElement("div",{className:"interceptor-encryption-key-input-help"},this.state.keyValidationFail?o.createElement("span",{className:"interceptor-key-validation-fail"},"The encryption key must be at least 10 characters long, and contain one digit and one letter"):"Alphanumeric, minimum 10 characters"),o.createElement("div",{className:"interceptor-encryption-key-save-btn"},o.createElement(l.Button,{type:"primary",size:"small",fluid:!0,onClick:this.saveKey,disabled:this.state.waitingState||!this.state.key},"Save Key")))))))}})||s;t.default=E},"./js/components/interceptor/InterceptorConnectionIndicator.js":function(e,t,n){n.r(t);var s,o=n("../../node_modules/react/index.js"),a=n("./js/stores/StoreManager.js"),i=n("./js/stores/InterceptorSettingsStore.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Badge/Badge.js");let c=(0,r.observer)(s=class extends o.Component{constructor(e){super(e),this.store=(0,a.resolveStoreInstance)(i.default)}render(){return this.store.connectionStatus?o.createElement(l.default,{text:"CONNECTED",status:"success"}):o.createElement(l.default,{text:"DISCONNECTED",status:"neutral"})}})||s;t.default=c},"./js/components/interceptor/InterceptorSnapWarning.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("./js/constants/AppUrlConstants.js"),l=n("./js/components/banner/BannerContainer.js"),c=n("./js/components/banner/BannerHeader.js"),d=n("./js/components/banner/BannerBody.js"),u=n("./js/components/banner/BannerFooter.js"),p=n("./js/external-navigation/ExternalNavigationService.js");class h extends s.Component{constructor(e){super(e),this.openNativeAppDownloadURL.bind(this)}openNativeAppDownloadURL(){(0,p.openExternalLink)(r.NATIVE_APPS_URL)}render(){return s.createElement(s.Fragment,null,s.createElement(l.default,{bannerType:"warn"},s.createElement(c.default,null,s.createElement(o.default,{type:"h5",styleAs:"h5",text:"Interceptor does not work with Snap",hasBottomSpacing:!0})),s.createElement(d.default,null,s.createElement(a.default,{typographyStyle:{lineHeight:"line-height-m"},type:"body-medium",color:"content-color-primary"},"If you have installed Postman via Snap, you may have problems connecting to the Interceptor extension. In such cases, we recommend that you download Postman directly by clicking the button below.")),s.createElement(u.default,null,s.createElement(i.default,{type:"outline",size:"medium",text:"Download Postman App",onClick:this.openNativeAppDownloadURL}))))}}t.default=h},"./onboarding/src/features/Homepage/pages/IntegrationsPage/components/add/common/base/ExternalLink.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var s=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),a=n("./js/external-navigation/ExternalNavigationService.js");function i(e){const{extUrl:t}=e;return s.createElement("span",{onClick:()=>(0,a.openExternalLink)(t,"_blank")},s.createElement(o.default,{type:"link-default",isExternal:!0},e.children))}},"./node_modules/chart.js/auto/auto.esm.js":function(e,t,n){n.r(t);var s=n("./node_modules/chart.js/dist/chart.esm.js");s.Chart.register(...s.registerables),t.default=s.Chart},"./node_modules/chart.js/dist/chart.esm.js":function(e,t,n){n.r(t),n.d(t,{Animation:function(){return l},Animations:function(){return d},ArcElement:function(){return lt},BarController:function(){return T},BarElement:function(){return At},BasePlatform:function(){return se},BasicPlatform:function(){return oe},BubbleController:function(){return A},CategoryScale:function(){return yn},Chart:function(){return et},DatasetController:function(){return v},Decimation:function(){return Rt},DomPlatform:function(){return ye},DoughnutController:function(){return P},Element:function(){return be},Filler:function(){return Kt},Interaction:function(){return q},Legend:function(){return Zt},LineController:function(){return k},LineElement:function(){return yt},LinearScale:function(){return Sn},LogarithmicScale:function(){return vn},PieController:function(){return R},PointElement:function(){return xt},PolarAreaController:function(){return j},RadarController:function(){return O},RadialLinearScale:function(){return Pn},Scale:function(){return Pe},ScatterController:function(){return M},Ticks:function(){return Se},TimeScale:function(){return Nn},TimeSeriesScale:function(){return zn},Title:function(){return en},Tooltip:function(){return mn},_adapters:function(){return F},animator:function(){return a},controllers:function(){return D},defaults:function(){return s.d},elements:function(){return Pt},layouts:function(){return ne},plugins:function(){return gn},registerables:function(){return Vn},registry:function(){return je},scales:function(){return Bn}});var s=n("./node_modules/chart.js/dist/chunks/helpers.segment.js"),o=n("../../node_modules/console-browserify/index.js");var a=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,s){const o=t.listeners[s],a=t.duration;o.forEach((s=>s({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})))}_refresh(){const e=this;e._request||(e._running=!0,e._request=s.r.call(window,(()=>{e._update(),e._request=null,e._running&&e._refresh()})))}_update(e=Date.now()){const t=this;let n=0;t._charts.forEach(((s,o)=>{if(!s.running||!s.items.length)return;const a=s.items;let i,r=a.length-1,l=!1;for(;r>=0;--r)i=a[r],i._active?(i._total>s.duration&&(s.duration=i._total),i.tick(e),l=!0):(a[r]=a[a.length-1],a.pop());l&&(o.draw(),t._notify(o,s,e,"progress")),a.length||(s.running=!1,t._notify(o,s,e,"complete"),s.initial=!1),n+=a.length})),t._lastDate=e,0===n&&(t._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const i="transparent",r={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const o=(0,s.c)(e||i),a=o.valid&&(0,s.c)(t||i);return a&&a.valid?a.mix(o,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class l{constructor(e,t,n,o){const a=t[n];o=(0,s.a)([e.to,o,a,e.from]);const i=(0,s.a)([e.from,a,o]);this._active=!0,this._fn=e.fn||r[e.type||typeof i],this._easing=s.e[e.easing]||s.e.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=i,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,n){const o=this;if(o._active){o._notify(!1);const a=o._target[o._prop],i=n-o._start,r=o._duration-i;o._start=n,o._duration=Math.floor(Math.max(r,e.duration)),o._total+=i,o._loop=!!e.loop,o._to=(0,s.a)([e.to,t,a,e.from]),o._from=(0,s.a)([e.from,a,t])}}cancel(){const e=this;e._active&&(e.tick(Date.now()),e._active=!1,e._notify(!1))}tick(e){const t=this,n=e-t._start,s=t._duration,o=t._prop,a=t._from,i=t._loop,r=t._to;let l;if(t._active=a!==r&&(i||n<s),!t._active)return t._target[o]=r,void t._notify(!0);n<0?t._target[o]=a:(l=n/s%2,l=i&&l>1?2-l:l,l=t._easing(Math.min(1,Math.max(0,l))),t._target[o]=t._fn(a,r,l))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}s.d.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const c=Object.keys(s.d.animation);s.d.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),s.d.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),s.d.describe("animations",{_fallback:"animation"}),s.d.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class d{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!(0,s.i)(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const o=e[n];if(!(0,s.i)(o))return;const a={};for(const e of c)a[e]=o[e];((0,s.b)(o.properties)&&o.properties||[n]).forEach((e=>{e!==n&&t.has(e)||t.set(e,a)}))}))}_animateOptions(e,t){const n=t.options,s=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!s)return[];const o=this._createAnimations(s,n);return n.$shared&&function(e,t){const n=[],s=Object.keys(t);for(let t=0;t<s.length;t++){const o=e[s[t]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),o}_createAnimations(e,t){const n=this._properties,s=[],o=e.$animations||(e.$animations={}),a=Object.keys(t),i=Date.now();let r;for(r=a.length-1;r>=0;--r){const c=a[r];if("$"===c.charAt(0))continue;if("options"===c){s.push(...this._animateOptions(e,t));continue}const d=t[c];let u=o[c];const p=n.get(c);if(u){if(p&&u.active()){u.update(p,d,i);continue}u.cancel()}p&&p.duration?(o[c]=u=new l(p,e,c,d),s.push(u)):e[c]=d}return s}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(a.add(this._chart,n),!0):void 0}}function u(e,t){const n=e&&e.options||{},s=n.reverse,o=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:s?a:o,end:s?o:a}}function p(e,t){const n=[],s=e._getSortedDatasetMetas(t);let o,a;for(o=0,a=s.length;o<a;++o)n.push(s[o].index);return n}function h(e,t,n,o){const a=e.keys,i="single"===o.mode;let r,l,c,d;if(null!==t){for(r=0,l=a.length;r<l;++r){if(c=+a[r],c===n){if(o.all)continue;break}d=e.values[c],(0,s.g)(d)&&(i||0===t||(0,s.s)(t)===(0,s.s)(d))&&(t+=d)}return t}}function m(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function g(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function f(e,t,n){for(const s of t.getMatchingVisibleMetas("bar").reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function y(e,t){const{chart:n,_cachedMeta:s}=e,o=n._stacks||(n._stacks={}),{iScale:a,vScale:i,index:r}=s,l=a.axis,c=i.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(a,i,s),u=t.length;let p;for(let e=0;e<u;++e){const n=t[e],{[l]:s,[c]:a}=n;p=(n._stacks||(n._stacks={}))[c]=g(o,d,s),p[r]=a,p._top=f(p,i,!0),p._bottom=f(p,i,!1)}}function b(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function x(e,t){t=t||e._parsed;for(const n of t){const t=n._stacks;if(!t||void 0===t[e.vScale.id]||void 0===t[e.vScale.id][e.index])return;delete t[e.vScale.id][e.index]}}const S=e=>"reset"===e||"none"===e,_=(e,t)=>t?e:Object.assign({},e);class v{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this,t=e._cachedMeta;e.configure(),e.linkScales(),t._stacked=m(t.vScale,t),e.addElements()}updateIndex(e){this.index!==e&&x(this._cachedMeta),this.index=e}linkScales(){const e=this,t=e.chart,n=e._cachedMeta,o=e.getDataset(),a=(e,t,n,s)=>"x"===e?t:"r"===e?s:n,i=n.xAxisID=(0,s.v)(o.xAxisID,b(t,"x")),r=n.yAxisID=(0,s.v)(o.yAxisID,b(t,"y")),l=n.rAxisID=(0,s.v)(o.rAxisID,b(t,"r")),c=n.indexAxis,d=n.iAxisID=a(c,i,r,l),u=n.vAxisID=a(c,r,i,l);n.xScale=e.getScaleForId(i),n.yScale=e.getScaleForId(r),n.rScale=e.getScaleForId(l),n.iScale=e.getScaleForId(d),n.vScale=e.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&(0,s.u)(this._data,this),e._stacked&&x(e)}_dataCheck(){const e=this,t=e.getDataset(),n=t.data||(t.data=[]),o=e._data;if((0,s.i)(n))e._data=function(e){const t=Object.keys(e),n=new Array(t.length);let s,o,a;for(s=0,o=t.length;s<o;++s)a=t[s],n[s]={x:a,y:e[a]};return n}(n);else if(o!==n){if(o){(0,s.u)(o,e);const t=e._cachedMeta;x(t),t._parsed=[]}n&&Object.isExtensible(n)&&(0,s.l)(n,e),e._syncList=[],e._data=n}}addElements(){const e=this,t=e._cachedMeta;e._dataCheck(),e.datasetElementType&&(t.dataset=new e.datasetElementType)}buildOrUpdateElements(e){const t=this,n=t._cachedMeta,s=t.getDataset();let o=!1;t._dataCheck();const a=n._stacked;n._stacked=m(n.vScale,n),n.stack!==s.stack&&(o=!0,x(n),n.stack=s.stack),t._resyncElements(e),(o||a!==n._stacked)&&y(t,n._parsed)}configure(){const e=this,t=e.chart.config,n=t.datasetScopeKeys(e._type),s=t.getOptionScopes(e.getDataset(),n,!0);e.options=t.createResolver(s,e.getContext()),e._parsing=e.options.parsing}parse(e,t){const n=this,{_cachedMeta:o,_data:a}=n,{iScale:i,_stacked:r}=o,l=i.axis;let c,d,u,p=0===e&&t===a.length||o._sorted,h=e>0&&o._parsed[e-1];if(!1===n._parsing)o._parsed=a,o._sorted=!0,u=a;else{u=(0,s.b)(a[e])?n.parseArrayData(o,a,e,t):(0,s.i)(a[e])?n.parseObjectData(o,a,e,t):n.parsePrimitiveData(o,a,e,t);const i=()=>null===d[l]||h&&d[l]<h[l];for(c=0;c<t;++c)o._parsed[c+e]=d=u[c],p&&(i()&&(p=!1),h=d);o._sorted=p}r&&y(n,u)}parsePrimitiveData(e,t,n,s){const{iScale:o,vScale:a}=e,i=o.axis,r=a.axis,l=o.getLabels(),c=o===a,d=new Array(s);let u,p,h;for(u=0,p=s;u<p;++u)h=u+n,d[u]={[i]:c||o.parse(l[h],h),[r]:a.parse(t[h],h)};return d}parseArrayData(e,t,n,s){const{xScale:o,yScale:a}=e,i=new Array(s);let r,l,c,d;for(r=0,l=s;r<l;++r)c=r+n,d=t[c],i[r]={x:o.parse(d[0],c),y:a.parse(d[1],c)};return i}parseObjectData(e,t,n,o){const{xScale:a,yScale:i}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=new Array(o);let d,u,p,h;for(d=0,u=o;d<u;++d)p=d+n,h=t[p],c[d]={x:a.parse((0,s.f)(h,r),p),y:i.parse((0,s.f)(h,l),p)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const s=this.chart,o=this._cachedMeta,a=t[e.axis];return h({keys:p(s,!0),values:t._stacks[e.axis]},a,o.index,{mode:n})}updateRangeFromParsed(e,t,n,s){const o=n[t.axis];let a=null===o?NaN:o;const i=s&&n._stacks[t.axis];s&&i&&(s.values=i,e.min=Math.min(e.min,a),e.max=Math.max(e.max,a),a=h(s,o,this._cachedMeta.index,{all:!0})),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this,o=n._cachedMeta,a=o._parsed,i=o._sorted&&e===o.iScale,r=a.length,l=n._getOtherScale(e),c=t&&o._stacked&&{keys:p(n.chart,!0),values:null},d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=function(e){const{min:t,max:n,minDefined:s,maxDefined:o}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}(l);let m,g,f,y;function b(){return f=a[m],g=f[e.axis],y=f[l.axis],!(0,s.g)(g)||u>y||h<y}for(m=0;m<r&&(b()||(n.updateRangeFromParsed(d,e,f,c),!i));++m);if(i)for(m=r-1;m>=0;--m)if(!b()){n.updateRangeFromParsed(d,e,f,c);break}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let o,a,i;for(o=0,a=t.length;o<a;++o)i=t[o][e.axis],(0,s.g)(i)&&n.push(i);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,s=t.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const t=this,n=t._cachedMeta;t.configure(),t._cachedDataOpts={},t.update(e||"default"),n._clip=function(e){let t,n,o,a;return(0,s.i)(e)?(t=e.top,n=e.right,o=e.bottom,a=e.left):t=n=o=a=e,{top:t,right:n,bottom:o,left:a}}((0,s.v)(t.options.clip,function(e,t,n){if(!1===n)return!1;const s=u(e,n),o=u(t,n);return{top:o.end,right:s.end,bottom:o.start,left:s.start}}(n.xScale,n.yScale,t.getMaxOverflow())))}update(e){}draw(){const e=this,t=e._ctx,n=e.chart,s=e._cachedMeta,o=s.data||[],a=n.chartArea,i=[],r=e._drawStart||0,l=e._drawCount||o.length-r;let c;for(s.dataset&&s.dataset.draw(t,a,r,l),c=r;c<r+l;++c){const e=o[c];e.active?i.push(e):e.draw(t,a)}for(c=0;c<i.length;++c)i[c].draw(t,a)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const s=this,o=s.getDataset();let a;if(e>=0&&e<s._cachedMeta.data.length){const t=s._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,n){return Object.assign(Object.create(e),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(s.getContext(),e,t)),a.parsed=s.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=s.$context||(s.$context=function(e,t){return Object.assign(Object.create(e),{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(s.chart.getContext(),s.index)),a.dataset=o,a.index=a.datasetIndex=s.index;return a.active=!!t,a.mode=n,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const o=this,a="active"===t,i=o._cachedDataOpts,r=e+"-"+t,l=i[r],c=o.enableOptionSharing&&(0,s.h)(n);if(l)return _(l,c);const d=o.chart.config,u=d.datasetElementScopeKeys(o._type,e),p=a?[`${e}Hover`,"hover",e,""]:[e,""],h=d.getOptionScopes(o.getDataset(),u),m=Object.keys(s.d.elements[e]),g=d.resolveNamedOptions(h,m,(()=>o.getContext(n,a)),p);return g.$shared&&(g.$shared=c,i[r]=Object.freeze(_(g,c))),g}_resolveAnimations(e,t,n){const s=this,o=s.chart,a=s._cachedDataOpts,i=`animation-${t}`,r=a[i];if(r)return r;let l;if(!1!==o.options.animation){const o=s.chart.config,a=o.datasetAnimationScopeKeys(s._type,t),i=o.getOptionScopes(s.getDataset(),a);l=o.createResolver(i,s.getContext(e,n,t))}const c=new d(o,l&&l.animations);return l&&l._cacheable&&(a[i]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||S(e)||this.chart._animationsDisabled}updateElement(e,t,n,s){S(s)?Object.assign(e,n):this._resolveAnimations(t,s).update(e,n)}updateSharedOptions(e,t,n){e&&!S(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,s){e.active=s;const o=this.getStyle(t,s);this._resolveAnimations(t,n,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this,n=t._data,s=t._cachedMeta.data;for(const[e,n,s]of t._syncList)t[e](n,s);t._syncList=[];const o=s.length,a=n.length,i=Math.min(a,o);a>o?t._insertElements(o,a-o,e):a<o&&t._removeElements(a,o-a),i&&t.parse(0,i)}_insertElements(e,t,n=!0){const s=this,o=s._cachedMeta,a=o.data,i=e+t;let r;const l=e=>{for(e.length+=t,r=e.length-1;r>=i;r--)e[r]=e[r-t]};for(l(a),r=e;r<i;++r)a[r]=new s.dataElementType;s._parsing&&l(o._parsed),s.parse(e,t),n&&s.updateElements(a,e,t,"reset")}updateElements(e,t,n,s){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,t);n._stacked&&x(n,s)}n.data.splice(e,t)}_onDataPush(){const e=arguments.length;this._syncList.push(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._syncList.push(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._syncList.push(["_removeElements",0,1])}_onDataSplice(e,t){this._syncList.push(["_removeElements",e,t]),this._syncList.push(["_insertElements",e,arguments.length-2])}_onDataUnshift(){this._syncList.push(["_insertElements",0,arguments.length])}}function E(e){const t=function(e){if(!e._cache.$bar){const t=e.getMatchingVisibleMetas("bar");let n=[];for(let s=0,o=t.length;s<o;s++)n=n.concat(t[s].controller.getAllParsedValues(e));e._cache.$bar=(0,s._)(n.sort(((e,t)=>e-t)))}return e._cache.$bar}(e);let n,o,a,i,r=e._length;const l=()=>{32767!==a&&-32768!==a&&((0,s.h)(i)&&(r=Math.min(r,Math.abs(a-i)||r)),i=a)};for(n=0,o=t.length;n<o;++n)a=e.getPixelForValue(t[n]),l();for(i=void 0,n=0,o=e.ticks.length;n<o;++n)a=e.getPixelForTick(n),l();return r}function w(e,t,n,o){return(0,s.b)(e)?function(e,t,n,s){const o=n.parse(e[0],s),a=n.parse(e[1],s),i=Math.min(o,a),r=Math.max(o,a);let l=i,c=r;Math.abs(i)>Math.abs(r)&&(l=r,c=i),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:o,end:a,min:i,max:r}}(e,t,n,o):t[n.axis]=n.parse(e,o),t}function I(e,t,n,s){const o=e.iScale,a=e.vScale,i=o.getLabels(),r=o===a,l=[];let c,d,u,p;for(c=n,d=n+s;c<d;++c)p=t[c],u={},u[o.axis]=r||o.parse(i[c],c),l.push(w(p,u,a,c));return l}function C(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}v.defaults={},v.prototype.datasetElementType=null,v.prototype.dataElementType=null;class T extends v{parsePrimitiveData(e,t,n,s){return I(e,t,n,s)}parseArrayData(e,t,n,s){return I(e,t,n,s)}parseObjectData(e,t,n,o){const{iScale:a,vScale:i}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c="x"===a.axis?r:l,d="x"===i.axis?r:l,u=[];let p,h,m,g;for(p=n,h=n+o;p<h;++p)g=t[p],m={},m[a.axis]=a.parse((0,s.f)(g,c),p),u.push(w((0,s.f)(g,d),m,i,p));return u}updateRangeFromParsed(e,t,n,s){super.updateRangeFromParsed(e,t,n,s);const o=n._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:s}=t,o=this.getParsed(e),a=o._custom,i=C(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:i}}initialize(){const e=this;e.enableOptionSharing=!0,super.initialize();e._cachedMeta.stack=e.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,o){const a=this,i="reset"===o,r=a._cachedMeta.vScale,l=r.getBasePixel(),c=r.isHorizontal(),d=a._getRuler(),u=a.resolveDataElementOptions(t,o),p=a.getSharedOptions(u),h=a.includeOptions(o,p);a.updateSharedOptions(p,o,u);for(let u=t;u<t+n;u++){const t=a.getParsed(u),n=i||(0,s.j)(t[r.axis])?{base:l,head:l}:a._calculateBarValuePixels(u),m=a._calculateBarIndexPixels(u,d),g=(t._stacks||{})[r.axis],f={horizontal:c,base:n.base,enableBorderRadius:!g||C(t._custom)||a.index===g._top||a.index===g._bottom,x:c?n.head:m.center,y:c?m.center:n.head,height:c?m.size:void 0,width:c?void 0:m.size};h&&(f.options=p||a.resolveDataElementOptions(u,o)),a.updateElement(e[u],u,f,o)}}_getStacks(e,t){const n=this._cachedMeta.iScale,o=n.getMatchingVisibleMetas(this._type),a=n.options.stacked,i=o.length,r=[];let l,c;for(l=0;l<i;++l){if(c=o[l],void 0!==t){const e=c.controller.getParsed(t)[c.controller._cachedMeta.vScale.axis];if((0,s.j)(e)||isNaN(e))continue}if((!1===a||-1===r.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&r.push(c.stack),c.index===e)break}return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const s=this._getStacks(e,n),o=void 0!==t?s.indexOf(t):-1;return-1===o?s.length-1:o}_getRuler(){const e=this,t=e.options,n=e._cachedMeta,s=n.iScale,o=[];let a,i;for(a=0,i=n.data.length;a<i;++a)o.push(s.getPixelForValue(e.getParsed(a)[s.axis],a));const r=t.barThickness;return{min:r||E(s),pixels:o,start:s._startPixel,end:s._endPixel,stackCount:e._getStackCount(),scale:s,grouped:t.grouped,ratio:r?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(e){const t=this,{vScale:n,_stacked:o}=t._cachedMeta,{base:a,minBarLength:i}=t.options,r=t.getParsed(e),l=r._custom,c=C(l);let d,u,p=r[n.axis],h=0,m=o?t.applyStack(n,r,o):p;m!==p&&(h=m-p,m=p),c&&(p=l.barStart,m=l.barEnd-l.barStart,0!==p&&(0,s.s)(p)!==(0,s.s)(l.barEnd)&&(h=0),h+=p);const g=(0,s.j)(a)||c?h:a;let f=n.getPixelForValue(g);d=this.chart.getDataVisibility(e)?n.getPixelForValue(h+m):f,u=d-f,void 0!==i&&Math.abs(u)<i&&(u=u<0?-i:i,0===p&&(f-=u/2),d=f+u);const y=a||0;if(f===n.getPixelForValue(y)){const e=n.getLineWidthForValue(y)/2;u>0?(f+=e,u-=e):u<0&&(f-=e,u+=e)}return{size:u,base:f,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=this,o=t.scale,a=n.options,i=a.skipNull,r=(0,s.v)(a.maxBarThickness,1/0);let l,c;if(t.grouped){const o=i?n._getStackCount(e):t.stackCount,d="flex"===a.barThickness?function(e,t,n,s){const o=t.pixels,a=o[e];let i=e>0?o[e-1]:null,r=e<o.length-1?o[e+1]:null;const l=n.categoryPercentage;null===i&&(i=a-(null===r?t.end-t.start:r-a)),null===r&&(r=a+a-i);const c=a-(a-Math.min(i,r))/2*l;return{chunk:Math.abs(r-i)/2*l/s,ratio:n.barPercentage,start:c}}(e,t,a,o):function(e,t,n,o){const a=n.barThickness;let i,r;return(0,s.j)(a)?(i=t.min*n.categoryPercentage,r=n.barPercentage):(i=a*o,r=1),{chunk:i/o,ratio:r,start:t.pixels[e]-i/2}}(e,t,a,o),u=n._getStackIndex(n.index,n._cachedMeta.stack,i?e:void 0);l=d.start+d.chunk*u+d.chunk/2,c=Math.min(r,d.chunk*d.ratio)}else l=o.getPixelForValue(n.getParsed(e)[o.axis],e),c=Math.min(r,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this,t=e.chart,n=e._cachedMeta,o=n.vScale,a=n.data,i=a.length;let r=0;for((0,s.k)(t.ctx,t.chartArea);r<i;++r)null!==e.getParsed(r)[o.axis]&&a[r].draw(e._ctx);(0,s.m)(t.ctx)}}T.id="bar",T.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},T.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class A extends v{initialize(){this.enableOptionSharing=!0,super.initialize()}parseObjectData(e,t,n,o){const{xScale:a,yScale:i}=e,{xAxisKey:r="x",yAxisKey:l="y"}=this._parsing,c=[];let d,u,p;for(d=n,u=n+o;d<u;++d)p=t[d],c.push({x:a.parse((0,s.f)(p,r),d),y:i.parse((0,s.f)(p,l),d),_custom:p&&p.r&&+p.r});return c}getMaxOverflow(){const{data:e,_parsed:t}=this._cachedMeta;let n=0;for(let s=e.length-1;s>=0;--s)n=Math.max(n,e[s].size()/2,t[s]._custom);return n>0&&n}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:s}=t,o=this.getParsed(e),a=n.getLabelForValue(o.x),i=s.getLabelForValue(o.y),r=o._custom;return{label:t.label,value:"("+a+", "+i+(r?", "+r:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,s){const o=this,a="reset"===s,{iScale:i,vScale:r}=o._cachedMeta,l=o.resolveDataElementOptions(t,s),c=o.getSharedOptions(l),d=o.includeOptions(s,c),u=i.axis,p=r.axis;for(let l=t;l<t+n;l++){const t=e[l],n=!a&&o.getParsed(l),c={},h=c[u]=a?i.getPixelForDecimal(.5):i.getPixelForValue(n[u]),m=c[p]=a?r.getBasePixel():r.getPixelForValue(n[p]);c.skip=isNaN(h)||isNaN(m),d&&(c.options=o.resolveDataElementOptions(l,s),a&&(c.options.radius=0)),o.updateElement(t,l,c,s)}o.updateSharedOptions(c,s,l)}resolveDataElementOptions(e,t){const n=this.getParsed(e);let o=super.resolveDataElementOptions(e,t);o.$shared&&(o=Object.assign({},o,{$shared:!1}));const a=o.radius;return"active"!==t&&(o.radius=0),o.radius+=(0,s.v)(n&&n._custom,a),o}}A.id="bubble",A.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},A.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class P extends v{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,s=this._cachedMeta;let o,a;for(o=e,a=e+t;o<a;++o)s._parsed[o]=+n[o]}_getRotation(){return(0,s.t)(this.options.rotation-90)}_getCircumference(){return(0,s.t)(this.options.circumference)}_getRotationExtents(){let e=s.T,t=-s.T;const n=this;for(let s=0;s<n.chart.data.datasets.length;++s)if(n.chart.isDatasetVisible(s)){const o=n.chart.getDatasetMeta(s).controller,a=o._getRotation(),i=o._getCircumference();e=Math.min(e,a),t=Math.max(t,a+i)}return{rotation:e,circumference:t-e}}update(e){const t=this,n=t.chart,{chartArea:o}=n,a=t._cachedMeta,i=a.data,r=t.getMaxBorderWidth()+t.getMaxOffset(i),l=Math.max((Math.min(o.width,o.height)-r)/2,0),c=Math.min((0,s.n)(t.options.cutout,l),1),d=t._getRingWeight(t.index),{circumference:u,rotation:p}=t._getRotationExtents(),{ratioX:h,ratioY:m,offsetX:g,offsetY:f}=function(e,t,n){let o=1,a=1,i=0,r=0;if(t<s.T){const l=e,c=l+t,d=Math.cos(l),u=Math.sin(l),p=Math.cos(c),h=Math.sin(c),m=(e,t,o)=>(0,s.q)(e,l,c,!0)?1:Math.max(t,t*n,o,o*n),g=(e,t,o)=>(0,s.q)(e,l,c,!0)?-1:Math.min(t,t*n,o,o*n),f=m(0,d,p),y=m(s.H,u,h),b=g(s.P,d,p),x=g(s.P+s.H,u,h);o=(f-b)/2,a=(y-x)/2,i=-(f+b)/2,r=-(y+x)/2}return{ratioX:o,ratioY:a,offsetX:i,offsetY:r}}(p,u,c),y=(o.width-r)/h,b=(o.height-r)/m,x=Math.max(Math.min(y,b)/2,0),S=(0,s.o)(t.options.radius,x),_=(S-Math.max(S*c,0))/t._getVisibleDatasetWeightTotal();t.offsetX=g*S,t.offsetY=f*S,a.total=t.calculateTotal(),t.outerRadius=S-_*t._getRingWeightOffset(t.index),t.innerRadius=Math.max(t.outerRadius-_*d,0),t.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this,o=n.options,a=n._cachedMeta,i=n._getCircumference();return t&&o.animation.animateRotate||!this.chart.getDataVisibility(e)||null===a._parsed[e]?0:n.calculateCircumference(a._parsed[e]*i/s.T)}updateElements(e,t,n,s){const o=this,a="reset"===s,i=o.chart,r=i.chartArea,l=i.options.animation,c=(r.left+r.right)/2,d=(r.top+r.bottom)/2,u=a&&l.animateScale,p=u?0:o.innerRadius,h=u?0:o.outerRadius,m=o.resolveDataElementOptions(t,s),g=o.getSharedOptions(m),f=o.includeOptions(s,g);let y,b=o._getRotation();for(y=0;y<t;++y)b+=o._circumference(y,a);for(y=t;y<t+n;++y){const t=o._circumference(y,a),n=e[y],i={x:c+o.offsetX,y:d+o.offsetY,startAngle:b,endAngle:b+t,circumference:t,outerRadius:h,innerRadius:p};f&&(i.options=g||o.resolveDataElementOptions(y,s)),b+=t,o.updateElement(n,y,i,s)}o.updateSharedOptions(g,s,m)}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,s=0;for(n=0;n<t.length;n++){const t=e._parsed[n];null!==t&&!isNaN(t)&&this.chart.getDataVisibility(n)&&(s+=Math.abs(t))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?s.T*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,o=n.data.labels||[],a=(0,s.p)(t._parsed[e],n.options.locale);return{label:o[e]||"",value:a}}getMaxBorderWidth(e){const t=this;let n=0;const s=t.chart;let o,a,i,r,l;if(!e)for(o=0,a=s.data.datasets.length;o<a;++o)if(s.isDatasetVisible(o)){i=s.getDatasetMeta(o),e=i.data,r=i.controller,r!==t&&r.configure();break}if(!e)return 0;for(o=0,a=e.length;o<a;++o)l=r.resolveDataElementOptions(o),"inner"!==l.borderAlign&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let t=0;for(let n=0,s=e.length;n<s;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max((0,s.v)(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}P.id="doughnut",P.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",indexAxis:"r"},P.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(((t,n)=>{const s=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,hidden:!e.getDataVisibility(n),index:n}})):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const n=": "+e.formattedValue;return(0,s.b)(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class k extends v{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const t=this,n=t._cachedMeta,{dataset:o,data:a=[],_dataset:i}=n,r=t.chart._animationsDisabled;let{start:l,count:c}=function(e,t,n){const o=t.length;let a=0,i=o;if(e._sorted){const{iScale:r,_parsed:l}=e,c=r.axis,{min:d,max:u,minDefined:p,maxDefined:h}=r.getUserBounds();p&&(a=(0,s.x)(Math.min((0,s.y)(l,r.axis,d).lo,n?o:(0,s.y)(t,c,r.getPixelForValue(d)).lo),0,o-1)),i=h?(0,s.x)(Math.max((0,s.y)(l,r.axis,u).hi+1,n?0:(0,s.y)(t,c,r.getPixelForValue(u)).hi+1),a,o)-a:o-a}return{start:a,count:i}}(n,a,r);t._drawStart=l,t._drawCount=c,function(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,o={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=o,!0;const a=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,o),a}(n)&&(l=0,c=a.length),o._decimated=!!i._decimated,o.points=a;const d=t.resolveDatasetElementOptions(e);t.options.showLine||(d.borderWidth=0),d.segment=t.options.segment,t.updateElement(o,void 0,{animated:!r,options:d},e),t.updateElements(a,l,c,e)}updateElements(e,t,n,o){const a=this,i="reset"===o,{iScale:r,vScale:l,_stacked:c}=a._cachedMeta,d=a.resolveDataElementOptions(t,o),u=a.getSharedOptions(d),p=a.includeOptions(o,u),h=r.axis,m=l.axis,g=a.options.spanGaps,f=(0,s.w)(g)?g:Number.POSITIVE_INFINITY,y=a.chart._animationsDisabled||i||"none"===o;let b=t>0&&a.getParsed(t-1);for(let d=t;d<t+n;++d){const t=e[d],n=a.getParsed(d),g=y?t:{},x=(0,s.j)(n[m]),S=g[h]=r.getPixelForValue(n[h],d),_=g[m]=i||x?l.getBasePixel():l.getPixelForValue(c?a.applyStack(l,n,c):n[m],d);g.skip=isNaN(S)||isNaN(_)||x,g.stop=d>0&&n[h]-b[h]>f,g.parsed=n,p&&(g.options=u||a.resolveDataElementOptions(d,o)),y||a.updateElement(t,d,g,o),b=n}a.updateSharedOptions(u,o,d)}getMaxOverflow(){const e=this,t=e._cachedMeta,n=t.dataset,s=n.options&&n.options.borderWidth||0,o=t.data||[];if(!o.length)return s;const a=o[0].size(e.resolveDataElementOptions(0)),i=o[o.length-1].size(e.resolveDataElementOptions(o.length-1));return Math.max(s,a,i)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}k.id="line",k.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},k.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class j extends v{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,o=n.data.labels||[],a=(0,s.p)(t._parsed[e].r,n.options.locale);return{label:o[e]||"",value:a}}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}_updateRadius(){const e=this,t=e.chart,n=t.chartArea,s=t.options,o=Math.min(n.right-n.left,n.bottom-n.top),a=Math.max(o/2,0),i=(a-Math.max(s.cutoutPercentage?a/100*s.cutoutPercentage:1,0))/t.getVisibleDatasetCount();e.outerRadius=a-i*e.index,e.innerRadius=e.outerRadius-i}updateElements(e,t,n,o){const a=this,i="reset"===o,r=a.chart,l=a.getDataset(),c=r.options.animation,d=a._cachedMeta.rScale,u=d.xCenter,p=d.yCenter,h=d.getIndexAngle(0)-.5*s.P;let m,g=h;const f=360/a.countVisibleElements();for(m=0;m<t;++m)g+=a._computeAngle(m,o,f);for(m=t;m<t+n;m++){const t=e[m];let n=g,s=g+a._computeAngle(m,o,f),y=r.getDataVisibility(m)?d.getDistanceFromCenterForValue(l.data[m]):0;g=s,i&&(c.animateScale&&(y=0),c.animateRotate&&(n=s=h));const b={x:u,y:p,innerRadius:0,outerRadius:y,startAngle:n,endAngle:s,options:a.resolveDataElementOptions(m,o)};a.updateElement(t,m,b,o)}}countVisibleElements(){const e=this.getDataset(),t=this._cachedMeta;let n=0;return t.data.forEach(((t,s)=>{!isNaN(e.data[s])&&this.chart.getDataVisibility(s)&&n++})),n}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?(0,s.t)(this.resolveDataElementOptions(e,t).angle||n):0}}j.id="polarArea",j.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},j.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(((t,n)=>{const s=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,lineWidth:s.borderWidth,hidden:!e.getDataVisibility(n),index:n}})):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class R extends P{}R.id="pie",R.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class O extends v{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}update(e){const t=this,n=t._cachedMeta,s=n.dataset,o=n.data||[],a=n.iScale.getLabels();if(s.points=o,"resize"!==e){const n=t.resolveDatasetElementOptions(e);t.options.showLine||(n.borderWidth=0);const i={_loop:!0,_fullLoop:a.length===o.length,options:n};t.updateElement(s,void 0,i,e)}t.updateElements(o,0,o.length,e)}updateElements(e,t,n,s){const o=this,a=o.getDataset(),i=o._cachedMeta.rScale,r="reset"===s;for(let l=t;l<t+n;l++){const t=e[l],n=o.resolveDataElementOptions(l,s),c=i.getPointPositionForValue(l,a.data[l]),d=r?i.xCenter:c.x,u=r?i.yCenter:c.y,p={x:d,y:u,angle:c.angle,skip:isNaN(d)||isNaN(u),options:n};o.updateElement(t,l,p,s)}}}O.id="radar",O.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},O.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class M extends k{}M.id="scatter",M.defaults={showLine:!1,fill:!1},M.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var D=Object.freeze({__proto__:null,BarController:T,BubbleController:A,DoughnutController:P,LineController:k,PolarAreaController:j,PieController:R,RadarController:O,ScatterController:M});function L(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class N{constructor(e){this.options=e||{}}formats(){return L()}parse(e,t){return L()}format(e,t){return L()}add(e,t,n){return L()}diff(e,t,n){return L()}startOf(e,t,n){return L()}endOf(e,t){return L()}}N.override=function(e){Object.assign(N.prototype,e)};var F={_date:N};function z(e,t){return"native"in e?{x:e.x,y:e.y}:(0,s.z)(e,t)}function B(e,t,n,o){const{controller:a,data:i,_sorted:r}=e,l=a._cachedMeta.iScale;if(l&&t===l.axis&&r&&i.length){const e=l._reversePixels?s.B:s.y;if(!o)return e(i,t,n);if(a._sharedOptions){const s=i[0],o="function"==typeof s.getRange&&s.getRange(t);if(o){const s=e(i,t,n-o),a=e(i,t,n+o);return{lo:s.lo,hi:a.hi}}}}return{lo:0,hi:i.length-1}}function V(e,t,n,s,o){const a=e.getSortedVisibleDatasetMetas(),i=n[t];for(let e=0,n=a.length;e<n;++e){const{index:n,data:r}=a[e],{lo:l,hi:c}=B(a[e],t,i,o);for(let e=l;e<=c;++e){const t=r[e];t.skip||s(t,n,e)}}}function H(e,t,n,o){const a=[];if(!(0,s.A)(t,e.chartArea,e._minPadding))return a;return V(e,n,t,(function(e,n,s){e.inRange(t.x,t.y,o)&&a.push({element:e,datasetIndex:n,index:s})}),!0),a}function W(e,t,n,o,a){const i=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,s){const o=t?Math.abs(e.x-s.x):0,a=n?Math.abs(e.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(a,2))}}(n);let r=Number.POSITIVE_INFINITY,l=[];if(!(0,s.A)(t,e.chartArea,e._minPadding))return l;return V(e,n,t,(function(e,n,s){if(o&&!e.inRange(t.x,t.y,a))return;const c=e.getCenterPoint(a),d=i(t,c);d<r?(l=[{element:e,datasetIndex:n,index:s}],r=d):d===r&&l.push({element:e,datasetIndex:n,index:s})})),l}function U(e,t,n,s){const o=z(t,e),a=[],i=n.axis,r="x"===i?"inXRange":"inYRange";let l=!1;return function(e,t){const n=e.getSortedVisibleDatasetMetas();let s,o,a;for(let e=0,i=n.length;e<i;++e){({index:s,data:o}=n[e]);for(let e=0,n=o.length;e<n;++e)a=o[e],a.skip||t(a,s,e)}}(e,((e,t,n)=>{e[r](o[i],s)&&a.push({element:e,datasetIndex:t,index:n}),e.inRange(o.x,o.y,s)&&(l=!0)})),n.intersect&&!l?[]:a}var q={modes:{index(e,t,n,s){const o=z(t,e),a=n.axis||"x",i=n.intersect?H(e,o,a,s):W(e,o,a,!1,s),r=[];return i.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=i[0].index,n=e.data[t];n&&!n.skip&&r.push({element:n,datasetIndex:e.index,index:t})})),r):[]},dataset(e,t,n,s){const o=z(t,e),a=n.axis||"xy";let i=n.intersect?H(e,o,a,s):W(e,o,a,!1,s);if(i.length>0){const t=i[0].datasetIndex,n=e.getDatasetMeta(t).data;i=[];for(let e=0;e<n.length;++e)i.push({element:n[e],datasetIndex:t,index:e})}return i},point:(e,t,n,s)=>H(e,z(t,e),n.axis||"xy",s),nearest:(e,t,n,s)=>W(e,z(t,e),n.axis||"xy",n.intersect,s),x:(e,t,n,s)=>(n.axis="x",U(e,t,n,s)),y:(e,t,n,s)=>(n.axis="y",U(e,t,n,s))}};const G=["left","top","right","bottom"];function Y(e,t){return e.filter((e=>e.pos===t))}function $(e,t){return e.filter((e=>-1===G.indexOf(e.pos)&&e.box.axis===t))}function K(e,t){return e.sort(((e,n)=>{const s=t?n:e,o=t?e:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight}))}function X(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function Q(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Z(e,t,n){const o=n.box,a=e.maxPadding;(0,s.i)(n.pos)||(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?o.height:o.width,e[n.pos]+=n.size),o.getPadding&&Q(a,o.getPadding());const i=Math.max(0,t.outerWidth-X(a,e,"left","right")),r=Math.max(0,t.outerHeight-X(a,e,"top","bottom")),l=i!==e.w,c=r!==e.h;return e.w=i,e.h=r,n.horizontal?{same:l,other:c}:{same:c,other:l}}function J(e,t){const n=t.maxPadding;function s(e){const s={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{s[e]=Math.max(t[e],n[e])})),s}return s(e?["left","right"]:["top","bottom"])}function ee(e,t,n){const s=[];let o,a,i,r,l,c;for(o=0,a=e.length,l=0;o<a;++o){i=e[o],r=i.box,r.update(i.width||t.w,i.height||t.h,J(i.horizontal,t));const{same:a,other:d}=Z(t,n,i);l|=a&&s.length,c=c||d,r.fullSize||s.push(i)}return l&&ee(s,t,n)||c}function te(e,t,n){const s=n.padding;let o,a,i,r,l=t.x,c=t.y;for(o=0,a=e.length;o<a;++o)i=e[o],r=i.box,i.horizontal?(r.left=r.fullSize?s.left:t.left,r.right=r.fullSize?n.outerWidth-s.right:t.left+t.w,r.top=c,r.bottom=c+r.height,r.width=r.right-r.left,c=r.bottom):(r.left=l,r.right=l+r.width,r.top=r.fullSize?s.top:t.top,r.bottom=r.fullSize?n.outerHeight-s.right:t.top+t.h,r.height=r.bottom-r.top,l=r.right);t.x=l,t.y=c}s.d.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var ne={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,o){if(!e)return;const a=(0,s.C)(e.options.layout.padding),i=Math.max(t-a.width,0),r=Math.max(n-a.height,0),l=function(e){const t=function(e){const t=[];let n,s,o;for(n=0,s=(e||[]).length;n<s;++n)o=e[n],t.push({index:n,box:o,pos:o.position,horizontal:o.isHorizontal(),weight:o.weight});return t}(e),n=K(t.filter((e=>e.box.fullSize)),!0),s=K(Y(t,"left"),!0),o=K(Y(t,"right")),a=K(Y(t,"top"),!0),i=K(Y(t,"bottom")),r=$(t,"x"),l=$(t,"y");return{fullSize:n,leftAndTop:s.concat(a),rightAndBottom:o.concat(l).concat(i).concat(r),chartArea:Y(t,"chartArea"),vertical:s.concat(o).concat(l),horizontal:a.concat(i).concat(r)}}(e.boxes),c=l.vertical,d=l.horizontal;(0,s.D)(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const u=c.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,p=Object.freeze({outerWidth:t,outerHeight:n,padding:a,availableWidth:i,availableHeight:r,vBoxMaxWidth:i/2/u,hBoxMaxHeight:r/2}),h=Object.assign({},a);Q(h,(0,s.C)(o));const m=Object.assign({maxPadding:h,w:i,h:r,x:a.left,y:a.top},a);!function(e,t){let n,s,o;for(n=0,s=e.length;n<s;++n)o=e[n],o.horizontal?(o.width=o.box.fullSize&&t.availableWidth,o.height=t.hBoxMaxHeight):(o.width=t.vBoxMaxWidth,o.height=o.box.fullSize&&t.availableHeight)}(c.concat(d),p),ee(l.fullSize,m,p),ee(c,m,p),ee(d,m,p)&&ee(c,m,p),function(e){const t=e.maxPadding;function n(n){const s=Math.max(t[n]-e[n],0);return e[n]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(m),te(l.leftAndTop,m,p),m.x+=m.w,m.y+=m.h,te(l.rightAndBottom,m,p),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},(0,s.D)(l.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(m.w,m.h)}))}};class se{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,s){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):n)}}isAttached(e){return!0}}class oe extends se{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}}const ae={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ie=e=>null===e||""===e;const re=!!s.J&&{passive:!0};function le(e,t,n){e.canvas.removeEventListener(t,n,re)}function ce(e,t,n){const o=e.canvas,a=o&&(0,s.F)(o)||o,i=new MutationObserver((e=>{const t=(0,s.F)(a);e.forEach((e=>{for(let s=0;s<e.addedNodes.length;s++){const o=e.addedNodes[s];o!==a&&o!==t||n(e.target)}}))}));return i.observe(document,{childList:!0,subtree:!0}),i}function de(e,t,n){const o=e.canvas,a=o&&(0,s.F)(o);if(!a)return;const i=new MutationObserver((e=>{e.forEach((e=>{for(let t=0;t<e.removedNodes.length;t++)if(e.removedNodes[t]===o){n();break}}))}));return i.observe(a,{childList:!0}),i}const ue=new Map;let pe=0;function he(){const e=window.devicePixelRatio;e!==pe&&(pe=e,ue.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function me(e,t,n){const o=e.canvas,a=o&&(0,s.F)(o);if(!a)return;const i=(0,s.I)(((e,t)=>{const s=a.clientWidth;n(e,t),s<a.clientWidth&&n()}),window),r=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,s=t.contentRect.height;0===n&&0===s||i(n,s)}));return r.observe(a),function(e,t){ue.size||window.addEventListener("resize",he),ue.set(e,t)}(e,i),r}function ge(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){ue.delete(e),ue.size||window.removeEventListener("resize",he)}(e)}function fe(e,t,n){const o=e.canvas,a=(0,s.I)((t=>{null!==e.ctx&&n(function(e,t){const n=ae[e.type]||e.type,{x:o,y:a}=(0,s.z)(e,t);return{type:n,chart:t,native:e,x:void 0!==o?o:null,y:void 0!==a?a:null}}(t,e))}),e,(e=>{const t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,n){e.addEventListener(t,n,re)}(o,t,a),a}class ye extends se{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,o=e.getAttribute("height"),a=e.getAttribute("width");if(e.$chartjs={initial:{height:o,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",ie(a)){const t=(0,s.G)(e,"width");void 0!==t&&(e.width=t)}if(ie(o))if(""===e.style.height)e.height=e.width/(t||2);else{const t=(0,s.G)(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t.$chartjs)return!1;const n=t.$chartjs.initial;["height","width"].forEach((e=>{const o=n[e];(0,s.j)(o)?t.removeAttribute(e):t.setAttribute(e,o)}));const o=n.style||{};return Object.keys(o).forEach((e=>{t.style[e]=o[e]})),t.width=t.width,delete t.$chartjs,!0}addEventListener(e,t,n){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:ce,detach:de,resize:me}[t]||fe;s[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),s=n[t];if(!s)return;({attach:ge,detach:ge,resize:ge}[t]||le)(e,t,s),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,o){return(0,s.E)(e,t,n,o)}isAttached(e){const t=(0,s.F)(e);return!(!t||!(0,s.F)(t))}}class be{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return(0,s.w)(this.x)&&(0,s.w)(this.y)}getProps(e,t){const n=this,s=this.$animations;if(!t||!s)return n;const o={};return e.forEach((e=>{o[e]=s[e]&&s[e].active()?s[e]._to:n[e]})),o}}be.defaults={},be.defaultRoutes=void 0;const xe={values:e=>(0,s.b)(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const o=this.chart.options.locale;let a,i=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),i=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const r=(0,s.K)(Math.abs(i)),l=Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),(0,s.p)(e,o,c)},logarithmic(e,t,n){if(0===e)return"0";const o=e/Math.pow(10,Math.floor((0,s.K)(e)));return 1===o||2===o||5===o?xe.numeric.call(this,e,t,n):""}};var Se={formatters:xe};function _e(e,t){const n=e.options.ticks,o=n.maxTicksLimit||function(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),o=e._maxLength/n;return Math.floor(Math.min(s,o))}(e),a=n.major.enabled?function(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}(t):[],i=a.length,r=a[0],l=a[i-1],c=[];if(i>o)return function(e,t,n,s){let o,a=0,i=n[0];for(s=Math.ceil(s),o=0;o<e.length;o++)o===i&&(t.push(e[o]),a++,i=n[a*s])}(t,c,a,i/o),c;const d=function(e,t,n){const o=function(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}(e),a=t.length/n;if(!o)return Math.max(a,1);const i=(0,s.L)(o);for(let e=0,t=i.length-1;e<t;e++){const t=i[e];if(t>a)return t}return Math.max(a,1)}(a,t,o);if(i>0){let e,n;const o=i>1?Math.round((l-r)/(i-1)):null;for(ve(t,c,d,(0,s.j)(o)?0:r-o,r),e=0,n=i-1;e<n;e++)ve(t,c,d,a[e],a[e+1]);return ve(t,c,d,l,(0,s.j)(o)?t.length:l+o),c}return ve(t,c,d),c}function ve(e,t,n,o,a){const i=(0,s.v)(o,0),r=Math.min((0,s.v)(a,e.length),e.length);let l,c,d,u=0;for(n=Math.ceil(n),a&&(l=a-o,n=l/Math.floor(l/n)),d=i;d<0;)u++,d=Math.round(i+u*n);for(c=Math.max(i,0);c<r;c++)c===d&&(t.push(e[c]),u++,d=Math.round(i+u*n))}s.d.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Se.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.d.route("scale.ticks","color","","color"),s.d.route("scale.grid","color","","borderColor"),s.d.route("scale.grid","borderColor","","borderColor"),s.d.route("scale.title","color","","color"),s.d.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),s.d.describe("scales",{_fallback:"scale"});const Ee=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function we(e,t){const n=[],s=e.length/t,o=e.length;let a=0;for(;a<o;a+=s)n.push(e[Math.floor(a)]);return n}function Ie(e,t,n){const s=e.ticks.length,o=Math.min(t,s-1),a=e._startPixel,i=e._endPixel,r=1e-6;let l,c=e.getPixelForTick(o);if(!(n&&(l=1===s?Math.max(c-a,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(o-1))/2,c+=o<t?l:-l,c<a-r||c>i+r)))return c}function Ce(e){return e.drawTicks?e.tickLength:0}function Te(e,t){if(!e.display)return 0;const n=(0,s.W)(e.font,t),o=(0,s.C)(e.padding);return((0,s.b)(e.text)?e.text.length:1)*n.lineHeight+o.height}function Ae(e,t,n){let o=(0,s.X)(e);return(n&&"right"!==t||!n&&"right"===t)&&(o=(e=>"left"===e?"right":"right"===e?"left":e)(o)),o}class Pe extends be{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){const t=this;t.options=e.setContext(t.getContext()),t.axis=e.axis,t._userMin=t.parse(e.min),t._userMax=t.parse(e.max),t._suggestedMin=t.parse(e.suggestedMin),t._suggestedMax=t.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:o}=this;return e=(0,s.M)(e,Number.POSITIVE_INFINITY),t=(0,s.M)(t,Number.NEGATIVE_INFINITY),n=(0,s.M)(n,Number.POSITIVE_INFINITY),o=(0,s.M)(o,Number.NEGATIVE_INFINITY),{min:(0,s.M)(e,n),max:(0,s.M)(t,o),minDefined:(0,s.g)(e),maxDefined:(0,s.g)(t)}}getMinMax(e){const t=this;let n,{min:o,max:a,minDefined:i,maxDefined:r}=t.getUserBounds();if(i&&r)return{min:o,max:a};const l=t.getMatchingVisibleMetas();for(let s=0,c=l.length;s<c;++s)n=l[s].controller.getMinMax(t,e),i||(o=Math.min(o,n.min)),r||(a=Math.max(a,n.max));return{min:(0,s.M)(o,(0,s.M)(a,o)),max:(0,s.M)(a,(0,s.M)(o,a))}}getPadding(){const e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){(0,s.N)(this.options.beforeUpdate,[this])}update(e,t,n){const o=this,a=o.options.ticks,i=a.sampleSize;o.beforeUpdate(),o.maxWidth=e,o.maxHeight=t,o._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),o.ticks=null,o._labelSizes=null,o._gridLineItems=null,o._labelItems=null,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o._maxLength=o.isHorizontal()?o.width+n.left+n.right:o.height+n.top+n.bottom,o._dataLimitsCached||(o.beforeDataLimits(),o.determineDataLimits(),o.afterDataLimits(),o._range=(0,s.O)(o,o.options.grace),o._dataLimitsCached=!0),o.beforeBuildTicks(),o.ticks=o.buildTicks()||[],o.afterBuildTicks();const r=i<o.ticks.length;o._convertTicksToLabels(r?we(o.ticks,i):o.ticks),o.configure(),o.beforeCalculateLabelRotation(),o.calculateLabelRotation(),o.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(o.ticks=_e(o,o.ticks),o._labelSizes=null),r&&o._convertTicksToLabels(o.ticks),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate()}configure(){const e=this;let t,n,s=e.options.reverse;e.isHorizontal()?(t=e.left,n=e.right):(t=e.top,n=e.bottom,s=!s),e._startPixel=t,e._endPixel=n,e._reversePixels=s,e._length=n-t,e._alignToPixels=e.options.alignToPixels}afterUpdate(){(0,s.N)(this.options.afterUpdate,[this])}beforeSetDimensions(){(0,s.N)(this.options.beforeSetDimensions,[this])}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0}afterSetDimensions(){(0,s.N)(this.options.afterSetDimensions,[this])}_callHooks(e){const t=this;t.chart.notifyPlugins(e,t.getContext()),(0,s.N)(t.options[e],[t])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){(0,s.N)(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this,n=t.options.ticks;let o,a,i;for(o=0,a=e.length;o<a;o++)i=e[o],i.label=(0,s.N)(n.callback,[i.value,o,e],t);for(o=0;o<a;o++)(0,s.j)(e[o].label)&&(e.splice(o,1),a--,o--)}afterTickToLabelConversion(){(0,s.N)(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){(0,s.N)(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this,t=e.options,n=t.ticks,o=e.ticks.length,a=n.minRotation||0,i=n.maxRotation;let r,l,c,d=a;if(!e._isVisible()||!n.display||a>=i||o<=1||!e.isHorizontal())return void(e.labelRotation=a);const u=e._getLabelSizes(),p=u.widest.width,h=u.highest.height,m=(0,s.x)(e.chart.width-p,0,e.maxWidth);r=t.offset?e.maxWidth/o:m/(o-1),p+6>r&&(r=m/(o-(t.offset?.5:1)),l=e.maxHeight-Ce(t.grid)-n.padding-Te(t.title,e.chart.options.font),c=Math.sqrt(p*p+h*h),d=(0,s.Q)(Math.min(Math.asin(Math.min((u.highest.height+6)/r,1)),Math.asin(Math.min(l/c,1))-Math.asin(h/c))),d=Math.max(a,Math.min(i,d))),e.labelRotation=d}afterCalculateLabelRotation(){(0,s.N)(this.options.afterCalculateLabelRotation,[this])}beforeFit(){(0,s.N)(this.options.beforeFit,[this])}fit(){const e=this,t={width:0,height:0},{chart:n,options:{ticks:o,title:a,grid:i}}=e,r=e._isVisible(),l=e.isHorizontal();if(r){const r=Te(a,n.options.font);if(l?(t.width=e.maxWidth,t.height=Ce(i)+r):(t.height=e.maxHeight,t.width=Ce(i)+r),o.display&&e.ticks.length){const{first:n,last:a,widest:i,highest:r}=e._getLabelSizes(),c=2*o.padding,d=(0,s.t)(e.labelRotation),u=Math.cos(d),p=Math.sin(d);if(l){const n=o.mirror?0:p*i.width+u*r.height;t.height=Math.min(e.maxHeight,t.height+n+c)}else{const n=o.mirror?0:u*i.width+p*r.height;t.width=Math.min(e.maxWidth,t.width+n+c)}e._calculatePadding(n,a,p,u)}}e._handleMargins(),l?(e.width=e._length=n.width-e._margins.left-e._margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e._margins.top-e._margins.bottom)}_calculatePadding(e,t,n,s){const o=this,{ticks:{align:a,padding:i},position:r}=o.options,l=0!==o.labelRotation,c="top"!==r&&"x"===o.axis;if(o.isHorizontal()){const r=o.getPixelForTick(0)-o.left,d=o.right-o.getPixelForTick(o.ticks.length-1);let u=0,p=0;l?c?(u=s*e.width,p=n*t.height):(u=n*e.height,p=s*t.width):"start"===a?p=t.width:"end"===a?u=e.width:(u=e.width/2,p=t.width/2),o.paddingLeft=Math.max((u-r+i)*o.width/(o.width-r),0),o.paddingRight=Math.max((p-d+i)*o.width/(o.width-d),0)}else{let n=t.height/2,s=e.height/2;"start"===a?(n=0,s=e.height):"end"===a&&(n=t.height,s=0),o.paddingTop=n+i,o.paddingBottom=s+i}}_handleMargins(){const e=this;e._margins&&(e._margins.left=Math.max(e.paddingLeft,e._margins.left),e._margins.top=Math.max(e.paddingTop,e._margins.top),e._margins.right=Math.max(e.paddingRight,e._margins.right),e._margins.bottom=Math.max(e.paddingBottom,e._margins.bottom))}afterFit(){(0,s.N)(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){const t=this;t.beforeTickToLabelConversion(),t.generateTickLabels(e),t.afterTickToLabelConversion()}_getLabelSizes(){const e=this;let t=e._labelSizes;if(!t){const n=e.options.ticks.sampleSize;let s=e.ticks;n<s.length&&(s=we(s,n)),e._labelSizes=t=e._computeLabelSizes(s,s.length)}return t}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:o}=this,a=[],i=[];let r,l,c,d,u,p,h,m,g,f,y,b=0,x=0;for(r=0;r<t;++r){if(d=e[r].label,u=this._resolveTickFontOptions(r),n.font=p=u.string,h=o[p]=o[p]||{data:{},gc:[]},m=u.lineHeight,g=f=0,(0,s.j)(d)||(0,s.b)(d)){if((0,s.b)(d))for(l=0,c=d.length;l<c;++l)y=d[l],(0,s.j)(y)||(0,s.b)(y)||(g=(0,s.R)(n,h.data,h.gc,g,y),f+=m)}else g=(0,s.R)(n,h.data,h.gc,g,d),f=m;a.push(g),i.push(f),b=Math.max(g,b),x=Math.max(f,x)}!function(e,t){(0,s.D)(e,(e=>{const n=e.gc,s=n.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[n[o]];n.splice(0,s)}}))}(o,t);const S=a.indexOf(b),_=i.indexOf(x),v=e=>({width:a[e]||0,height:i[e]||0});return{first:v(0),last:v(t-1),widest:v(S),highest:v(_),widths:a,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){const t=this;t._reversePixels&&(e=1-e);const n=t._startPixel+e*t._length;return(0,s.S)(t._alignToPixels?(0,s.U)(t.chart,n,0):n)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this,n=t.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=function(e,t,n){return Object.assign(Object.create(e),{tick:n,index:t,type:"tick"})}(t.getContext(),e,s))}return t.$context||(t.$context=(s=t.chart.getContext(),o=t,Object.assign(Object.create(s),{scale:o,type:"scale"})));var s,o}_tickSize(){const e=this,t=e.options.ticks,n=(0,s.t)(e.labelRotation),o=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),i=e._getLabelSizes(),r=t.autoSkipPadding||0,l=i?i.widest.width+r:0,c=i?i.highest.height+r:0;return e.isHorizontal()?c*o>l*a?l/o:c/a:c*a<l*o?c/o:l/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this,n=t.axis,o=t.chart,a=t.options,{grid:i,position:r}=a,l=i.offset,c=t.isHorizontal(),d=t.ticks.length+(l?1:0),u=Ce(i),p=[],h=i.setContext(t.getContext()),m=h.drawBorder?h.borderWidth:0,g=m/2,f=function(e){return(0,s.U)(o,e,m)};let y,b,x,S,_,v,E,w,I,C,T,A;if("top"===r)y=f(t.bottom),v=t.bottom-u,w=y-g,C=f(e.top)+g,A=e.bottom;else if("bottom"===r)y=f(t.top),C=e.top,A=f(e.bottom)-g,v=y+g,w=t.top+u;else if("left"===r)y=f(t.right),_=t.right-u,E=y-g,I=f(e.left)+g,T=e.right;else if("right"===r)y=f(t.left),I=e.left,T=f(e.right)-g,_=y+g,E=t.left+u;else if("x"===n){if("center"===r)y=f((e.top+e.bottom)/2+.5);else if((0,s.i)(r)){const e=Object.keys(r)[0],n=r[e];y=f(t.chart.scales[e].getPixelForValue(n))}C=e.top,A=e.bottom,v=y+g,w=v+u}else if("y"===n){if("center"===r)y=f((e.left+e.right)/2);else if((0,s.i)(r)){const e=Object.keys(r)[0],n=r[e];y=f(t.chart.scales[e].getPixelForValue(n))}_=y-g,E=_-u,I=e.left,T=e.right}for(b=0;b<d;++b){const e=i.setContext(t.getContext(b)),n=e.lineWidth,a=e.color,r=i.borderDash||[],d=e.borderDashOffset,u=e.tickWidth,h=e.tickColor,m=e.tickBorderDash||[],g=e.tickBorderDashOffset;x=Ie(t,b,l),void 0!==x&&(S=(0,s.U)(o,x,n),c?_=E=I=T=S:v=w=C=A=S,p.push({tx1:_,ty1:v,tx2:E,ty2:w,x1:I,y1:C,x2:T,y2:A,width:n,color:a,borderDash:r,borderDashOffset:d,tickWidth:u,tickColor:h,tickBorderDash:m,tickBorderDashOffset:g}))}return t._ticksLength=d,t._borderValue=y,p}_computeLabelItems(e){const t=this,n=t.axis,o=t.options,{position:a,ticks:i}=o,r=t.isHorizontal(),l=t.ticks,{align:c,crossAlign:d,padding:u,mirror:p}=i,h=Ce(o.grid),m=h+u,g=p?-u:m,f=-(0,s.t)(t.labelRotation),y=[];let b,x,S,_,v,E,w,I,C,T,A,P,k="middle";if("top"===a)E=t.bottom-g,w=t._getXAxisLabelAlignment();else if("bottom"===a)E=t.top+g,w=t._getXAxisLabelAlignment();else if("left"===a){const e=t._getYAxisLabelAlignment(h);w=e.textAlign,v=e.x}else if("right"===a){const e=t._getYAxisLabelAlignment(h);w=e.textAlign,v=e.x}else if("x"===n){if("center"===a)E=(e.top+e.bottom)/2+m;else if((0,s.i)(a)){const e=Object.keys(a)[0],n=a[e];E=t.chart.scales[e].getPixelForValue(n)+m}w=t._getXAxisLabelAlignment()}else if("y"===n){if("center"===a)v=(e.left+e.right)/2-m;else if((0,s.i)(a)){const e=Object.keys(a)[0],n=a[e];v=t.chart.scales[e].getPixelForValue(n)}w=t._getYAxisLabelAlignment(h).textAlign}"y"===n&&("start"===c?k="top":"end"===c&&(k="bottom"));const j=t._getLabelSizes();for(b=0,x=l.length;b<x;++b){S=l[b],_=S.label;const e=i.setContext(t.getContext(b));I=t.getPixelForTick(b)+i.labelOffset,C=t._resolveTickFontOptions(b),T=C.lineHeight,A=(0,s.b)(_)?_.length:1;const n=A/2,o=e.color,c=e.textStrokeColor,u=e.textStrokeWidth;let h;if(r?(v=I,P="top"===a?"near"===d||0!==f?-A*T+T/2:"center"===d?-j.highest.height/2-n*T+T:-j.highest.height+T/2:"near"===d||0!==f?T/2:"center"===d?j.highest.height/2-n*T:j.highest.height-A*T,p&&(P*=-1)):(E=I,P=(1-A)*T/2),e.showLabelBackdrop){const t=(0,s.C)(e.backdropPadding),n=j.heights[b],o=j.widths[b];let a=E+P-t.top,i=v-t.left;switch(k){case"middle":a-=n/2;break;case"bottom":a-=n}switch(w){case"center":i-=o/2;break;case"right":i-=o}h={left:i,top:a,width:o+t.width,height:n+t.height,color:e.backdropColor}}y.push({rotation:f,label:_,font:C,color:o,strokeColor:c,strokeWidth:u,textOffset:P,textAlign:w,textBaseline:k,translation:[v,E],backdrop:h})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-(0,s.t)(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align&&(n="right"),n}_getYAxisLabelAlignment(e){const t=this,{position:n,ticks:{crossAlign:s,mirror:o,padding:a}}=t.options,i=e+a,r=t._getLabelSizes().widest.width;let l,c;return"left"===n?o?(l="left",c=t.right+a):(c=t.right-i,"near"===s?l="right":"center"===s?(l="center",c-=r/2):(l="left",c=t.left)):"right"===n?o?(l="right",c=t.left+a):(c=t.left+i,"near"===s?l="left":"center"===s?(l="center",c+=r/2):(l="right",c=t.right)):l="right",{textAlign:l,x:c}}_computeLabelArea(){const e=this;if(e.options.ticks.mirror)return;const t=e.chart,n=e.options.position;return"left"===n||"right"===n?{top:0,left:e.left,bottom:t.height,right:e.right}:"top"===n||"bottom"===n?{top:e.top,left:0,bottom:e.bottom,right:t.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:s,width:o,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,s,o,a),e.restore())}getLineWidthForValue(e){const t=this,n=t.options.grid;if(!t._isVisible()||!n.display)return 0;const s=t.ticks.findIndex((t=>t.value===e));if(s>=0){return n.setContext(t.getContext(s)).lineWidth}return 0}drawGrid(e){const t=this,n=t.options.grid,s=t.ctx,o=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));let a,i;const r=(e,t,n)=>{n.width&&n.color&&(s.save(),s.lineWidth=n.width,s.strokeStyle=n.color,s.setLineDash(n.borderDash||[]),s.lineDashOffset=n.borderDashOffset,s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(t.x,t.y),s.stroke(),s.restore())};if(n.display)for(a=0,i=o.length;a<i;++a){const e=o[a];n.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),n.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const e=this,{chart:t,ctx:n,options:{grid:o}}=e,a=o.setContext(e.getContext()),i=o.drawBorder?a.borderWidth:0;if(!i)return;const r=o.setContext(e.getContext(0)).lineWidth,l=e._borderValue;let c,d,u,p;e.isHorizontal()?(c=(0,s.U)(t,e.left,i)-i/2,d=(0,s.U)(t,e.right,r)+r/2,u=p=l):(u=(0,s.U)(t,e.top,i)-i/2,p=(0,s.U)(t,e.bottom,r)+r/2,c=d=l),n.save(),n.lineWidth=a.borderWidth,n.strokeStyle=a.borderColor,n.beginPath(),n.moveTo(c,u),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){const t=this;if(!t.options.ticks.display)return;const n=t.ctx,o=t._computeLabelArea();o&&(0,s.k)(n,o);const a=t._labelItems||(t._labelItems=t._computeLabelItems(e));let i,r;for(i=0,r=a.length;i<r;++i){const e=a[i],t=e.font,o=e.label;e.backdrop&&(n.fillStyle=e.backdrop.color,n.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height));let r=e.textOffset;(0,s.V)(n,o,0,r,t,e)}o&&(0,s.m)(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:o}}=this;if(!n.display)return;const a=(0,s.W)(n.font),i=(0,s.C)(n.padding),r=n.align;let l=a.lineHeight/2;"bottom"===t?(l+=i.bottom,(0,s.b)(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=i.top;const{titleX:c,titleY:d,maxWidth:u,rotation:p}=function(e,t,n,o){const{top:a,left:i,bottom:r,right:l}=e;let c,d,u,p=0;return e.isHorizontal()?(d=(0,s.Y)(o,i,l),u=Ee(e,n,t),c=l-i):(d=Ee(e,n,t),u=(0,s.Y)(o,r,a),p="left"===n?-s.H:s.H),{titleX:d,titleY:u,maxWidth:c,rotation:p}}(this,l,t,r);(0,s.V)(e,n.text,0,0,a,{color:n.color,maxWidth:u,rotation:p,textAlign:Ae(r,t,o),textBaseline:"middle",translation:[c,d]})}draw(e){const t=this;t._isVisible()&&(t.drawBackground(),t.drawGrid(e),t.drawBorder(),t.drawTitle(),t.drawLabels(e))}_layers(){const e=this,t=e.options,n=t.ticks&&t.ticks.z||0,s=t.grid&&t.grid.z||0;return e._isVisible()&&e.draw===Pe.prototype.draw?[{z:s,draw(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:s+1,draw(){e.drawBorder()}},{z:n,draw(t){e.drawLabels(t)}}]:[{z:n,draw(t){e.draw(t)}}]}getMatchingVisibleMetas(e){const t=this,n=t.chart.getSortedVisibleDatasetMetas(),s=t.axis+"AxisID",o=[];let a,i;for(a=0,i=n.length;a<i;++a){const i=n[a];i[s]!==t.id||e&&i.type!==e||o.push(i)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return(0,s.W)(t.font)}_maxDigits(){const e=this,t=e._resolveTickFontOptions(0).lineHeight;return(e.isHorizontal()?e.width:e.height)/t}}class ke{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=this,n=Object.getPrototypeOf(e);let o;(function(e){return"id"in e&&"defaults"in e})(n)&&(o=t.register(n));const a=t.items,i=e.id,r=t.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,function(e,t,n){const o=(0,s.$)(Object.create(null),[n?s.d.get(n):{},s.d.get(t),e.defaults]);s.d.set(t,o),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const o=n.split("."),a=o.pop(),i=[e].concat(o).join("."),r=t[n].split("."),l=r.pop(),c=r.join(".");s.d.route(i,a,c,l)}))}(t,e.defaultRoutes);e.descriptors&&s.d.describe(t,e.descriptors)}(e,r,o),t.override&&s.d.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,o=this.scope;n in t&&delete t[n],o&&n in s.d[o]&&(delete s.d[o][n],this.override&&delete s.Z[n])}}var je=new class{constructor(){this.controllers=new ke(v,"datasets",!0),this.elements=new ke(be,"elements"),this.plugins=new ke(Object,"plugins"),this.scales=new ke(Pe,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){const o=this;[...t].forEach((t=>{const a=n||o._getRegistryForType(t);n||a.isForType(t)||a===o.plugins&&t.id?o._exec(e,a,t):(0,s.D)(t,(t=>{const s=n||o._getRegistryForType(t);o._exec(e,s,t)}))}))}_exec(e,t,n){const o=(0,s.a0)(e);(0,s.N)(n["before"+o],[],n),t[e](n),(0,s.N)(n["after"+o],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const s=t.get(e);if(void 0===s)throw new Error('"'+e+'" is not a registered '+n+".");return s}};class Re{constructor(){this._init=[]}notify(e,t,n,s){const o=this;"beforeInit"===t&&(o._init=o._createDescriptors(e,!0),o._notify(o._init,e,"install"));const a=s?o._descriptors(e).filter(s):o._descriptors(e),i=o._notify(a,e,t,n);return"destroy"===t&&(o._notify(a,e,"stop"),o._notify(o._init,e,"uninstall")),i}_notify(e,t,n,o){o=o||{};for(const a of e){const e=a.plugin,i=e[n],r=[t,o,a.options];if(!1===(0,s.N)(i,r,e)&&o.cancelable)return!1}return!0}invalidate(){(0,s.j)(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,o=(0,s.v)(n.options&&n.options.plugins,{}),a=function(e){const t=[],n=Object.keys(je.plugins.items);for(let e=0;e<n.length;e++)t.push(je.getPlugin(n[e]));const s=e.plugins||[];for(let e=0;e<s.length;e++){const n=s[e];-1===t.indexOf(n)&&t.push(n)}return t}(n);return!1!==o||t?function(e,t,n,s){const o=[],a=e.getContext();for(let i=0;i<t.length;i++){const r=t[i],l=Oe(n[r.id],s);null!==l&&o.push({plugin:r,options:Me(e.config,r,l,a)})}return o}(e,a,o,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,s=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(s(t,n),e,"stop"),this._notify(s(n,t),e,"start")}}function Oe(e,t){return t||!1!==e?!0===e?{}:e:null}function Me(e,t,n,s){const o=e.pluginScopeKeys(t),a=e.getOptionScopes(n,o);return e.createResolver(a,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function De(e,t){const n=s.d.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Le(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function Ne(e){const t=e.options||(e.options={});t.plugins=(0,s.v)(t.plugins,{}),t.scales=function(e,t){const n=s.Z[e.type]||{scales:{}},o=t.scales||{},a=De(e.type,t),i=Object.create(null),r=Object.create(null);return Object.keys(o).forEach((e=>{const t=o[e],l=Le(e,t),c=function(e,t){return e===t?"_index_":"_value_"}(l,a),d=n.scales||{};i[l]=i[l]||e,r[e]=(0,s.a6)(Object.create(null),[{axis:l},t,d[l],d[c]])})),e.data.datasets.forEach((n=>{const a=n.type||e.type,l=n.indexAxis||De(a,t),c=(s.Z[a]||{}).scales||{};Object.keys(c).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,l),a=n[t+"AxisID"]||i[t]||t;r[a]=r[a]||Object.create(null),(0,s.a6)(r[a],[{axis:t},o[a],c[e]])}))})),Object.keys(r).forEach((e=>{const t=r[e];(0,s.a6)(t,[s.d.scales[t.type],s.d.scale])})),r}(e,t)}function Fe(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const ze=new Map,Be=new Set;function Ve(e,t){let n=ze.get(e);return n||(n=t(),ze.set(e,n),Be.add(n)),n}const He=(e,t,n)=>{const o=(0,s.f)(t,n);void 0!==o&&e.add(o)};class We{constructor(e){this._config=function(e){return(e=e||{}).data=Fe(e.data),Ne(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Fe(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ne(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Ve(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return Ve(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return Ve(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return Ve(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let s=n.get(e);return s&&!t||(s=new Map,n.set(e,s)),s}getOptionScopes(e,t,n){const{options:o,type:a}=this,i=this._cachedScopes(e,n),r=i.get(t);if(r)return r;const l=new Set;t.forEach((t=>{e&&(l.add(e),t.forEach((t=>He(l,e,t)))),t.forEach((e=>He(l,o,e))),t.forEach((e=>He(l,s.Z[a]||{},e))),t.forEach((e=>He(l,s.d,e))),t.forEach((e=>He(l,s.a1,e)))}));const c=[...l];return Be.has(t)&&i.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,s.Z[t]||{},s.d.datasets[t]||{},{type:t},s.d,s.a1]}resolveNamedOptions(e,t,n,o=[""]){const a={$shared:!0},{resolver:i,subPrefixes:r}=Ue(this._resolverCache,e,o);let l=i;if(function(e,t){const{isScriptable:n,isIndexable:o}=(0,s.a5)(e);for(const a of t)if(n(a)&&(0,s.a2)(e[a])||o(a)&&(0,s.b)(e[a]))return!0;return!1}(i,t)){a.$shared=!1,n=(0,s.a2)(n)?n():n;const t=this.createResolver(e,n,r);l=(0,s.a3)(i,n,t)}for(const e of t)a[e]=l[e];return a}createResolver(e,t,n=[""],o){const{resolver:a}=Ue(this._resolverCache,e,n);return(0,s.i)(t)?(0,s.a3)(a,t,void 0,o):a}}function Ue(e,t,n){let o=e.get(t);o||(o=new Map,e.set(t,o));const a=n.join();let i=o.get(a);if(!i){i={resolver:(0,s.a4)(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},o.set(a,i)}return i}const qe=["top","bottom","left","right","chartArea"];function Ge(e,t){return"top"===e||"bottom"===e||-1===qe.indexOf(e)&&"x"===t}function Ye(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function $e(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),(0,s.N)(n&&n.onComplete,[e],t)}function Ke(e){const t=e.chart,n=t.options.animation;(0,s.N)(n&&n.onProgress,[e],t)}function Xe(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Qe(e){return Xe()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Ze={},Je=e=>{const t=Qe(e);return Object.values(Ze).filter((e=>e.canvas===t)).pop()};class et{constructor(e,t){const n=this;this.config=t=new We(t);const i=Qe(e),r=Je(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");const l=t.createResolver(t.chartOptionScopes(),n.getContext());this.platform=n._initializePlatform(i,t);const c=n.platform.acquireContext(i,l.aspectRatio),d=c&&c.canvas,u=d&&d.height,p=d&&d.width;this.id=(0,s.a7)(),this.ctx=c,this.canvas=d,this.width=p,this.height=u,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new Re,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=(0,s.a8)((()=>this.update("resize")),l.resizeDelay||0),Ze[n.id]=n,c&&d?(a.listen(n,"complete",$e),a.listen(n,"progress",Ke),n._initialize(),n.attached&&n.update()):o.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:o,_aspectRatio:a}=this;return(0,s.j)(e)?t&&a?a:o?n/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){const e=this;return e.notifyPlugins("beforeInit"),e.options.responsive?e.resize():(0,s.a9)(e,e.options.devicePixelRatio),e.bindEvents(),e.notifyPlugins("afterInit"),e}_initializePlatform(e,t){return t.platform?new t.platform:!Xe()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?new oe:new ye}clear(){return(0,s.aa)(this.canvas,this.ctx),this}stop(){return a.stop(this),this}resize(e,t){a.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this,o=n.options,a=n.canvas,i=o.maintainAspectRatio&&n.aspectRatio,r=n.platform.getMaximumSize(a,e,t,i),l=o.devicePixelRatio||n.platform.getDevicePixelRatio();n.width=r.width,n.height=r.height,n._aspectRatio=n.aspectRatio,(0,s.a9)(n,l,!0)&&(n.notifyPlugins("resize",{size:r}),(0,s.N)(o.onResize,[n,r],n),n.attached&&n._doResize()&&n.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};(0,s.D)(e,((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this,t=e.options,n=t.scales,o=e.scales,a=Object.keys(o).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];n&&(i=i.concat(Object.keys(n).map((e=>{const t=n[e],s=Le(e,t),o="r"===s,a="x"===s;return{options:t,dposition:o?"chartArea":a?"bottom":"left",dtype:o?"radialLinear":a?"category":"linear"}})))),(0,s.D)(i,(n=>{const i=n.options,r=i.id,l=Le(r,i),c=(0,s.v)(i.type,n.dtype);void 0!==i.position&&Ge(i.position,l)===Ge(n.dposition)||(i.position=n.dposition),a[r]=!0;let d=null;if(r in o&&o[r].type===c)d=o[r];else{d=new(je.getScale(c))({id:r,type:c,ctx:e.ctx,chart:e}),o[d.id]=d}d.init(i,t)})),(0,s.D)(a,((e,t)=>{e||delete o[t]})),(0,s.D)(o,(t=>{ne.configure(e,t,t.options),ne.addBox(e,t)}))}_updateMetasetIndex(e,t){const n=this._metasets,s=e.index;s!==t&&(n[s]=n[t],n[t]=e,e.index=t)}_updateMetasets(){const e=this,t=e._metasets,n=e.data.datasets.length,s=t.length;if(s>n){for(let t=n;t<s;++t)e._destroyDatasetMeta(t);t.splice(n,s-n)}e._sortedMetasets=t.slice(0).sort(Ye("order","index"))}_removeUnreferencedMetasets(){const e=this,{_metasets:t,data:{datasets:n}}=e;t.length>n.length&&delete e._stacks,t.forEach(((t,s)=>{0===n.filter((e=>e===t._dataset)).length&&e._destroyDatasetMeta(s)}))}buildOrUpdateControllers(){const e=this,t=[],n=e.data.datasets;let o,a;for(e._removeUnreferencedMetasets(),o=0,a=n.length;o<a;o++){const a=n[o];let i=e.getDatasetMeta(o);const r=a.type||e.config.type;if(i.type&&i.type!==r&&(e._destroyDatasetMeta(o),i=e.getDatasetMeta(o)),i.type=r,i.indexAxis=a.indexAxis||De(r,e.options),i.order=a.order||0,e._updateMetasetIndex(i,o),i.label=""+a.label,i.visible=e.isDatasetVisible(o),i.controller)i.controller.updateIndex(o),i.controller.linkScales();else{const n=je.getController(r),{datasetElementType:a,dataElementType:l}=s.d.datasets[r];Object.assign(n.prototype,{dataElementType:je.getElement(l),datasetElementType:a&&je.getElement(a)}),i.controller=new n(e,o),t.push(i.controller)}}return e._updateMetasets(),t}_resetElements(){const e=this;(0,s.D)(e.data.datasets,((t,n)=>{e.getDatasetMeta(n).controller.reset()}),e)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this,n=t.config;n.update(),t._options=n.createResolver(n.chartOptionScopes(),t.getContext()),(0,s.D)(t.scales,(e=>{ne.removeBox(t,e)}));const o=t._animationsDisabled=!t.options.animation;t.ensureScalesHaveIDs(),t.buildOrUpdateScales();const a=new Set(Object.keys(t._listeners)),i=new Set(t.options.events);if((0,s.ab)(a,i)&&!!this._responsiveListeners===t.options.responsive||(t.unbindEvents(),t.bindEvents()),t._plugins.invalidate(),!1===t.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=t.buildOrUpdateControllers();t.notifyPlugins("beforeElementsUpdate");let l=0;for(let e=0,n=t.data.datasets.length;e<n;e++){const{controller:n}=t.getDatasetMeta(e),s=!o&&-1===r.indexOf(n);n.buildOrUpdateElements(s),l=Math.max(+n.getMaxOverflow(),l)}t._minPadding=l,t._updateLayout(l),o||(0,s.D)(r,(e=>{e.reset()})),t._updateDatasets(e),t.notifyPlugins("afterUpdate",{mode:e}),t._layers.sort(Ye("z","_idx")),t._lastEvent&&t._eventHandler(t._lastEvent,!0),t.render()}_updateLayout(e){const t=this;if(!1===t.notifyPlugins("beforeLayout",{cancelable:!0}))return;ne.update(t,t.width,t.height,e);const n=t.chartArea,o=n.width<=0||n.height<=0;t._layers=[],(0,s.D)(t.boxes,(e=>{o&&"chartArea"===e.position||(e.configure&&e.configure(),t._layers.push(...e._layers()))}),t),t._layers.forEach(((e,t)=>{e._idx=t})),t.notifyPlugins("afterLayout")}_updateDatasets(e){const t=this,n="function"==typeof e;if(!1!==t.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let s=0,o=t.data.datasets.length;s<o;++s)t._updateDataset(s,n?e({datasetIndex:s}):e);t.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this,s=n.getDatasetMeta(e),o={meta:s,index:e,mode:t,cancelable:!0};!1!==n.notifyPlugins("beforeDatasetUpdate",o)&&(s.controller._update(t),o.cancelable=!1,n.notifyPlugins("afterDatasetUpdate",o))}render(){const e=this;!1!==e.notifyPlugins("beforeRender",{cancelable:!0})&&(a.has(e)?e.attached&&!a.running(e)&&a.start(e):(e.draw(),$e({chart:e})))}draw(){const e=this;let t;if(e._resizeBeforeDraw){const{width:t,height:n}=e._resizeBeforeDraw;e._resize(t,n),e._resizeBeforeDraw=null}if(e.clear(),e.width<=0||e.height<=0)return;if(!1===e.notifyPlugins("beforeDraw",{cancelable:!0}))return;const n=e._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(e.chartArea);for(e._drawDatasets();t<n.length;++t)n[t].draw(e.chartArea);e.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let s,o;for(s=0,o=t.length;s<o;++s){const o=t[s];e&&!o.visible||n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){const e=this;if(!1===e.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=e.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)e._drawDataset(t[n]);e.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this,n=t.ctx,o=e._clip,a=t.chartArea,i={meta:e,index:e.index,cancelable:!0};!1!==t.notifyPlugins("beforeDatasetDraw",i)&&((0,s.k)(n,{left:!1===o.left?0:a.left-o.left,right:!1===o.right?t.width:a.right+o.right,top:!1===o.top?0:a.top-o.top,bottom:!1===o.bottom?t.height:a.bottom+o.bottom}),e.controller.draw(),(0,s.m)(n),i.cancelable=!1,t.notifyPlugins("afterDatasetDraw",i))}getElementsAtEventForMode(e,t,n,s){const o=q.modes[t];return"function"==typeof o?o(this,e,n,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let s=n.filter((e=>e&&e._dataset===t)).pop();return s||(s=n[e]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1}),s}getContext(){return this.$context||(this.$context={chart:this,type:"chart"})}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateDatasetVisibility(e,t){const n=this,s=t?"show":"hide",o=n.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,s);n.setDatasetVisibility(e,t),a.update(o,{visible:t}),n.update((t=>t.datasetIndex===e?s:void 0))}hide(e){this._updateDatasetVisibility(e,!1)}show(e){this._updateDatasetVisibility(e,!0)}_destroyDatasetMeta(e){const t=this,n=t._metasets&&t._metasets[e];n&&n.controller&&(n.controller._destroy(),delete t._metasets[e])}destroy(){const e=this,{canvas:t,ctx:n}=e;let o,i;for(e.stop(),a.remove(e),o=0,i=e.data.datasets.length;o<i;++o)e._destroyDatasetMeta(o);e.config.clearCache(),t&&(e.unbindEvents(),(0,s.aa)(t,n),e.platform.releaseContext(n),e.canvas=null,e.ctx=null),e.notifyPlugins("destroy"),delete Ze[e.id]}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this,t=e._listeners,n=e.platform,o=function(t,n,s){t.offsetX=n,t.offsetY=s,e._eventHandler(t)};(0,s.D)(e.options.events,(s=>((s,o)=>{n.addEventListener(e,s,o),t[s]=o})(s,o)))}bindResponsiveEvents(){const e=this;e._responsiveListeners||(e._responsiveListeners={});const t=e._responsiveListeners,n=e.platform,s=(s,o)=>{n.addEventListener(e,s,o),t[s]=o},o=(s,o)=>{t[s]&&(n.removeEventListener(e,s,o),delete t[s])},a=(t,n)=>{e.canvas&&e.resize(t,n)};let i;const r=()=>{o("attach",r),e.attached=!0,e.resize(),s("resize",a),s("detach",i)};i=()=>{e.attached=!1,o("resize",a),s("attach",r)},n.isAttached(e.canvas)?r():i()}unbindEvents(){const e=this;(0,s.D)(e._listeners,((t,n)=>{e.platform.removeEventListener(e,n,t)})),e._listeners={},(0,s.D)(e._responsiveListeners,((t,n)=>{e.platform.removeEventListener(e,n,t)})),e._responsiveListeners=void 0}updateHoverStyle(e,t,n){const s=n?"set":"remove";let o,a,i,r;for("dataset"===t&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),i=0,r=e.length;i<r;++i){a=e[i];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this,n=t._active||[],o=e.map((({datasetIndex:e,index:n})=>{const s=t.getDatasetMeta(e);if(!s)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:s.data[n],index:n}}));!(0,s.ac)(o,n)&&(t._active=o,t._updateHoverStyles(o,n))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const s=this,o=s.options.hover,a=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),i=a(t,e),r=n?e:a(e,t);i.length&&s.updateHoverStyle(i,o.mode,!1),r.length&&o.mode&&s.updateHoverStyle(r,o.mode,!0)}_eventHandler(e,t){const n=this,s={event:e,replay:t,cancelable:!0},o=t=>(t.options.events||this.options.events).includes(e.type);if(!1===n.notifyPlugins("beforeEvent",s,o))return;const a=n._handleEvent(e,t);return s.cancelable=!1,n.notifyPlugins("afterEvent",s,o),(a||s.changed)&&n.render(),n}_handleEvent(e,t){const n=this,{_active:o=[],options:a}=n,i=a.hover,r=t;let l=[],c=!1,d=null;return"mouseout"!==e.type&&(l=n.getElementsAtEventForMode(e,i.mode,i,r),d="click"===e.type?n._lastEvent:e),n._lastEvent=null,(0,s.A)(e,n.chartArea,n._minPadding)&&((0,s.N)(a.onHover,[e,l,n],n),"mouseup"!==e.type&&"click"!==e.type&&"contextmenu"!==e.type||(0,s.N)(a.onClick,[e,l,n],n)),c=!(0,s.ac)(l,o),(c||t)&&(n._active=l,n._updateHoverStyles(l,o,t)),n._lastEvent=d,c}}const tt=()=>(0,s.D)(et.instances,(e=>e._plugins.invalidate())),nt=!0;function st(e,t){const{startAngle:n,endAngle:o,pixelMargin:a,x:i,y:r,outerRadius:l,innerRadius:c}=t;let d=a/l;e.beginPath(),e.arc(i,r,l,n-d,o+d),c>a?(d=a/c,e.arc(i,r,c,o+d,n-d,!0)):e.arc(i,r,a,o+s.H,n-s.H),e.closePath(),e.clip()}function ot(e,t,n,o){const a=(i=e.options.borderRadius,(0,s.ae)(i,["outerStart","outerEnd","innerStart","innerEnd"]));var i;const r=(n-t)/2,l=Math.min(r,o*t/2),c=e=>{const t=(n-Math.min(r,e))*o/2;return(0,s.x)(e,0,Math.min(r,t))};return{outerStart:c(a.outerStart),outerEnd:c(a.outerEnd),innerStart:(0,s.x)(a.innerStart,0,l),innerEnd:(0,s.x)(a.innerEnd,0,l)}}function at(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function it(e,t,n){const{x:o,y:a,startAngle:i,endAngle:r,pixelMargin:l,innerRadius:c}=t,d=Math.max(t.outerRadius+n-l,0),u=c>0?c+n+l:0,p=r-i,h=(p-Math.max(.001,p*d-n/s.P)/d)/2,m=i+h,g=r-h,{outerStart:f,outerEnd:y,innerStart:b,innerEnd:x}=ot(t,u,d,g-m),S=d-f,_=d-y,v=m+f/S,E=g-y/_,w=u+b,I=u+x,C=m+b/w,T=g-x/I;if(e.beginPath(),e.arc(o,a,d,v,E),y>0){const t=at(_,E,o,a);e.arc(t.x,t.y,y,E,g+s.H)}const A=at(I,g,o,a);if(e.lineTo(A.x,A.y),x>0){const t=at(I,T,o,a);e.arc(t.x,t.y,x,g+s.H,T+Math.PI)}if(e.arc(o,a,u,g-x/u,m+b/u,!0),b>0){const t=at(w,C,o,a);e.arc(t.x,t.y,b,C+Math.PI,m-s.H)}const P=at(S,m,o,a);if(e.lineTo(P.x,P.y),f>0){const t=at(S,v,o,a);e.arc(t.x,t.y,f,m-s.H,v)}e.closePath()}function rt(e,t,n){const{options:o}=t,a="inner"===o.borderAlign;o.borderWidth&&(a?(e.lineWidth=2*o.borderWidth,e.lineJoin="round"):(e.lineWidth=o.borderWidth,e.lineJoin="bevel"),t.fullCircles&&function(e,t,n){const{x:o,y:a,startAngle:i,endAngle:r,pixelMargin:l}=t,c=Math.max(t.outerRadius-l,0),d=t.innerRadius+l;let u;for(n&&(t.endAngle=t.startAngle+s.T,st(e,t),t.endAngle=r,t.endAngle===t.startAngle&&(t.endAngle+=s.T,t.fullCircles--)),e.beginPath(),e.arc(o,a,d,i+s.T,i,!0),u=0;u<t.fullCircles;++u)e.stroke();for(e.beginPath(),e.arc(o,a,c,i,i+s.T),u=0;u<t.fullCircles;++u)e.stroke()}(e,t,a),a&&st(e,t),it(e,t,n),e.stroke())}Object.defineProperties(et,{defaults:{enumerable:nt,value:s.d},instances:{enumerable:nt,value:Ze},overrides:{enumerable:nt,value:s.Z},registry:{enumerable:nt,value:je},version:{enumerable:nt,value:"3.3.0"},getChart:{enumerable:nt,value:Je},register:{enumerable:nt,value:(...e)=>{je.add(...e),tt()}},unregister:{enumerable:nt,value:(...e)=>{je.remove(...e),tt()}}});class lt extends be{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const o=this.getProps(["x","y"],n),{angle:a,distance:i}=(0,s.ad)(o,{x:e,y:t}),{startAngle:r,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n);return(u>=s.T||(0,s.q)(a,r,l))&&(i>=c&&i<=d)}getCenterPoint(e){const{x:t,y:n,startAngle:s,endAngle:o,innerRadius:a,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),r=(s+o)/2,l=(a+i)/2;return{x:t+Math.cos(r)*l,y:n+Math.sin(r)*l}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const t=this,n=t.options,o=(n.offset||0)/2;if(t.pixelMargin="inner"===n.borderAlign?.33:0,t.fullCircles=Math.floor(t.circumference/s.T),0===t.circumference||t.innerRadius<0||t.outerRadius<0)return;e.save();let a=0;if(o){a=o/2;const n=(t.startAngle+t.endAngle)/2;e.translate(Math.cos(n)*a,Math.sin(n)*a),t.circumference>=s.P&&(a=o)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,function(e,t,n){if(t.fullCircles){t.endAngle=t.startAngle+s.T,it(e,t,n);for(let n=0;n<t.fullCircles;++n)e.fill()}isNaN(t.circumference)||(t.endAngle=t.startAngle+t.circumference%s.T),it(e,t,n),e.fill()}(e,t,a),rt(e,t,a),e.restore()}}function ct(e,t,n=t){e.lineCap=(0,s.v)(n.borderCapStyle,t.borderCapStyle),e.setLineDash((0,s.v)(n.borderDash,t.borderDash)),e.lineDashOffset=(0,s.v)(n.borderDashOffset,t.borderDashOffset),e.lineJoin=(0,s.v)(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=(0,s.v)(n.borderWidth,t.borderWidth),e.strokeStyle=(0,s.v)(n.borderColor,t.borderColor)}function dt(e,t,n){e.lineTo(n.x,n.y)}function ut(e,t,n={}){const s=e.length,{start:o=0,end:a=s-1}=n,{start:i,end:r}=t,l=Math.max(o,i),c=Math.min(a,r),d=o<i&&a<i||o>r&&a>r;return{count:s,start:l,loop:t.loop,ilen:c<l&&!d?s+c-l:c-l}}function pt(e,t,n,o){const{points:a,options:i}=t,{count:r,start:l,loop:c,ilen:d}=ut(a,n,o),u=function(e){return e.stepped?s.al:e.tension||"monotone"===e.cubicInterpolationMode?s.am:dt}(i);let p,h,m,{move:g=!0,reverse:f}=o||{};for(p=0;p<=d;++p)h=a[(l+(f?d-p:p))%r],h.skip||(g?(e.moveTo(h.x,h.y),g=!1):u(e,m,h,f,i.stepped),m=h);return c&&(h=a[(l+(f?d:0))%r],u(e,m,h,f,i.stepped)),!!c}function ht(e,t,n,s){const o=t.points,{count:a,start:i,ilen:r}=ut(o,n,s),{move:l=!0,reverse:c}=s||{};let d,u,p,h,m,g,f=0,y=0;const b=e=>(i+(c?r-e:e))%a,x=()=>{h!==m&&(e.lineTo(f,m),e.lineTo(f,h),e.lineTo(f,g))};for(l&&(u=o[b(0)],e.moveTo(u.x,u.y)),d=0;d<=r;++d){if(u=o[b(d)],u.skip)continue;const t=u.x,n=u.y,s=0|t;s===p?(n<h?h=n:n>m&&(m=n),f=(y*f+t)/++y):(x(),e.lineTo(t,n),p=s,y=0,h=m=n),g=n}x()}function mt(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n)?ht:pt}lt.id="arc",lt.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,angle:void 0},lt.defaultRoutes={backgroundColor:"backgroundColor"};const gt="function"==typeof Path2D;function ft(e,t,n,s){gt&&1===t.segments.length?function(e,t,n,s){let o=t._path;o||(o=t._path=new Path2D,t.path(o,n,s)&&o.closePath()),ct(e,t.options),e.stroke(o)}(e,t,n,s):function(e,t,n,s){const{segments:o,options:a}=t,i=mt(t);for(const r of o)ct(e,a,r.style),e.beginPath(),i(e,t,r,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}(e,t,n,s)}class yt extends be{constructor(e){super(),this.animated=!0,this.options=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this,o=n.options;if((o.tension||"monotone"===o.cubicInterpolationMode)&&!o.stepped&&!n._pointsUpdated){const a=o.spanGaps?n._loop:n._fullLoop;(0,s.af)(n._points,o,e,a,t),n._pointsUpdated=!0}}set points(e){const t=this;t._points=e,delete t._segments,delete t._path,t._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=(0,s.ag)(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this,o=n.options,a=e[t],i=n.points,r=(0,s.ah)(n,{property:t,start:a,end:a});if(!r.length)return;const l=[],c=function(e){return e.stepped?s.ai:e.tension||"monotone"===e.cubicInterpolationMode?s.aj:s.ak}(o);let d,u;for(d=0,u=r.length;d<u;++d){const{start:n,end:s}=r[d],u=i[n],p=i[s];if(u===p){l.push(u);continue}const h=c(u,p,Math.abs((a-u[t])/(p[t]-u[t])),o.stepped);h[t]=e[t],l.push(h)}return 1===l.length?l[0]:l}pathSegment(e,t,n){return mt(this)(e,this,t,n)}path(e,t,n){const s=this,o=s.segments,a=mt(s);let i=s._loop;t=t||0,n=n||s.points.length-t;for(const r of o)i&=a(e,s,r,{start:t,end:t+n-1});return!!i}draw(e,t,n,s){const o=this,a=o.options||{};(o.points||[]).length&&a.borderWidth&&(e.save(),ft(e,o,n,s),e.restore(),o.animated&&(o._pointsUpdated=!1,o._path=void 0))}}function bt(e,t,n,s){const o=e.options,{[n]:a}=e.getProps([n],s);return Math.abs(t-a)<o.radius+o.hitRadius}yt.id="line",yt.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},yt.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},yt.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class xt extends be{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],n);return Math.pow(e-o,2)+Math.pow(t-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return bt(this,e,"x",t)}inYRange(e,t){return bt(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e){const t=this,n=t.options;t.skip||n.radius<.1||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,(0,s.an)(e,n,t.x,t.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function St(e,t){const{x:n,y:s,base:o,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let r,l,c,d,u;return e.horizontal?(u=i/2,r=Math.min(n,o),l=Math.max(n,o),c=s-u,d=s+u):(u=a/2,r=n-u,l=n+u,c=Math.min(s,o),d=Math.max(s,o)),{left:r,top:c,right:l,bottom:d}}function _t(e){let t=e.options.borderSkipped;const n={};return t?(t=e.horizontal?vt(t,"left","right",e.base>e.x):vt(t,"bottom","top",e.base<e.y),n[t]=!0,n):n}function vt(e,t,n,s){var o,a,i;return s?(i=n,e=Et(e=(o=e)===(a=t)?i:o===i?a:o,n,t)):e=Et(e,t,n),e}function Et(e,t,n){return"start"===e?t:"end"===e?n:e}function wt(e,t,n,s){return e?0:Math.max(Math.min(t,s),n)}function It(e){const t=St(e),n=t.right-t.left,o=t.bottom-t.top,a=function(e,t,n){const o=e.options.borderWidth,a=_t(e),i=(0,s.ap)(o);return{t:wt(a.top,i.top,0,n),r:wt(a.right,i.right,0,t),b:wt(a.bottom,i.bottom,0,n),l:wt(a.left,i.left,0,t)}}(e,n/2,o/2),i=function(e,t,n){const{enableBorderRadius:o}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,i=(0,s.aq)(a),r=Math.min(t,n),l=_t(e),c=o||(0,s.i)(a);return{topLeft:wt(!c||l.top||l.left,i.topLeft,0,r),topRight:wt(!c||l.top||l.right,i.topRight,0,r),bottomLeft:wt(!c||l.bottom||l.left,i.bottomLeft,0,r),bottomRight:wt(!c||l.bottom||l.right,i.bottomRight,0,r)}}(e,n/2,o/2);return{outer:{x:t.left,y:t.top,w:n,h:o,radius:i},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:o-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function Ct(e,t,n,s){const o=null===t,a=null===n,i=e&&!(o&&a)&&St(e,s);return i&&(o||t>=i.left&&t<=i.right)&&(a||n>=i.top&&n<=i.bottom)}function Tt(e,t){e.rect(t.x,t.y,t.w,t.h)}xt.id="point",xt.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},xt.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class At extends be{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,e&&Object.assign(this,e)}draw(e){const t=this.options,{inner:n,outer:o}=It(this),a=(i=o.radius).topLeft||i.topRight||i.bottomLeft||i.bottomRight?s.ao:Tt;var i;e.save(),o.w===n.w&&o.h===n.h||(e.beginPath(),a(e,o),e.clip(),a(e,n),e.fillStyle=t.borderColor,e.fill("evenodd")),e.beginPath(),a(e,n),e.fillStyle=t.backgroundColor,e.fill(),e.restore()}inRange(e,t,n){return Ct(this,e,t,n)}inXRange(e,t){return Ct(this,e,null,t)}inYRange(e,t){return Ct(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(t+s)/2:t,y:o?n:(n+s)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}At.id="bar",At.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},At.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Pt=Object.freeze({__proto__:null,ArcElement:lt,LineElement:yt,PointElement:xt,BarElement:At});function kt(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function jt(e){e.data.datasets.forEach((e=>{kt(e)}))}var Rt={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void jt(e);const o=e.width;e.data.datasets.forEach(((t,a)=>{const{_data:i,indexAxis:r}=t,l=e.getDatasetMeta(a),c=i||t.data;if("y"===(0,s.a)([r,e.options.indexAxis]))return;if("line"!==l.type)return;const d=e.scales[l.xAxisID];if("linear"!==d.type&&"time"!==d.type)return;if(e.options.parsing)return;let u,{start:p,count:h}=function(e,t){const n=t.length;let o,a=0;const{iScale:i}=e,{min:r,max:l,minDefined:c,maxDefined:d}=i.getUserBounds();return c&&(a=(0,s.x)((0,s.y)(t,i.axis,r).lo,0,n-1)),o=d?(0,s.x)((0,s.y)(t,i.axis,l).hi+1,a,n)-a:n-a,{start:a,count:o}}(l,c);if(h<=4*o)kt(t);else{switch((0,s.j)(i)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":u=function(e,t,n,s,o){const a=o.samples||s;if(a>=n)return e.slice(t,t+n);const i=[],r=(n-2)/(a-2);let l=0;const c=t+n-1;let d,u,p,h,m,g=t;for(i[l++]=e[g],d=0;d<a-2;d++){let s,o=0,a=0;const c=Math.floor((d+1)*r)+1+t,f=Math.min(Math.floor((d+2)*r)+1,n)+t,y=f-c;for(s=c;s<f;s++)o+=e[s].x,a+=e[s].y;o/=y,a/=y;const b=Math.floor(d*r)+1+t,x=Math.floor((d+1)*r)+1+t,{x:S,y:_}=e[g];for(p=h=-1,s=b;s<x;s++)h=.5*Math.abs((S-o)*(e[s].y-_)-(S-e[s].x)*(a-_)),h>p&&(p=h,u=e[s],m=s);i[l++]=u,g=m}return i[l++]=e[c],i}(c,p,h,o,n);break;case"min-max":u=function(e,t,n,o){let a,i,r,l,c,d,u,p,h,m,g=0,f=0;const y=[],b=t+n-1,x=e[t].x,S=e[b].x-x;for(a=t;a<t+n;++a){i=e[a],r=(i.x-x)/S*o,l=i.y;const t=0|r;if(t===c)l<h?(h=l,d=a):l>m&&(m=l,u=a),g=(f*g+i.x)/++f;else{const n=a-1;if(!(0,s.j)(d)&&!(0,s.j)(u)){const t=Math.min(d,u),s=Math.max(d,u);t!==p&&t!==n&&y.push({...e[t],x:g}),s!==p&&s!==n&&y.push({...e[s],x:g})}a>0&&n!==p&&y.push(e[n]),y.push(i),c=t,f=0,h=m=l,d=u=p=a}}return y}(c,p,h,o);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}t._decimated=u}}))},destroy(e){jt(e)}};function Ot(e,t,n){const o=function(e){const t=e.options,n=t.fill;let o=(0,s.v)(n&&n.target,n);return void 0===o&&(o=!!t.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(e);if((0,s.i)(o))return!isNaN(o.value)&&o;let a=parseFloat(o);return(0,s.g)(a)&&Math.floor(a)===a?("-"!==o[0]&&"+"!==o[0]||(a=t+a),!(a===t||a<0||a>=n)&&a):["origin","start","end","stack"].indexOf(o)>=0&&o}class Mt{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:o,y:a,radius:i}=this;return t=t||{start:0,end:s.T},e.arc(o,a,i,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:s}=this,o=e.angle;return{x:t+Math.cos(o)*s,y:n+Math.sin(o)*s,angle:o}}}function Dt(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:n}=e,o=t.options,a=t.getLabels().length,i=[],r=o.reverse?t.max:t.min,l=o.reverse?t.min:t.max;let c,d,u;if(u="start"===n?r:"end"===n?l:(0,s.i)(n)?n.value:t.getBaseValue(),o.grid.circular)return d=t.getPointPositionForValue(0,r),new Mt({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(u)});for(c=0;c<a;++c)i.push(t.getPointPositionForValue(c,u));return i}(e):function(e){const{scale:t={},fill:n}=e;let o,a=null;return"start"===n?a=t.bottom:"end"===n?a=t.top:(0,s.i)(n)?a=t.getPixelForValue(n.value):t.getBasePixel&&(a=t.getBasePixel()),(0,s.g)(a)?(o=t.isHorizontal(),{x:o?a:null,y:o?null:a}):null}(e)}function Lt(e){const{chart:t,scale:n,index:s,line:o}=e,a=[],i=o.segments,r=o.points,l=function(e,t){const n=[],s=e.getSortedVisibleDatasetMetas();for(let e=0;e<s.length;e++){const o=s[e];if(o.index===t)break;Nt(o)&&n.unshift(o.dataset)}return n}(t,s);l.push(Bt({x:null,y:n.bottom},o));for(let e=0;e<i.length;e++){const t=i[e];for(let e=t.start;e<=t.end;e++)Ft(a,r[e],l)}return new yt({points:a,options:{}})}const Nt=e=>"line"===e.type&&!e.hidden;function Ft(e,t,n){const s=[];for(let o=0;o<n.length;o++){const a=n[o],{first:i,last:r,point:l}=zt(a,t,"x");if(!(!l||i&&r))if(i)s.unshift(l);else if(e.push(l),!r)break}e.push(...s)}function zt(e,t,n){const s=e.interpolate(t,n);if(!s)return{};const o=s[n],a=e.segments,i=e.points;let r=!1,l=!1;for(let e=0;e<a.length;e++){const t=a[e],s=i[t.start][n],c=i[t.end][n];if(o>=s&&o<=c){r=o===s,l=o===c;break}}return{first:r,last:l,point:s}}function Bt(e,t){let n=[],o=!1;return(0,s.b)(e)?(o=!0,n=e):n=function(e,t){const{x:n=null,y:s=null}=e||{},o=t.points,a=[];return t.segments.forEach((e=>{const t=o[e.start],i=o[e.end];null!==s?(a.push({x:t.x,y:s}),a.push({x:i.x,y:s})):null!==n&&(a.push({x:n,y:t.y}),a.push({x:n,y:i.y}))})),a}(e,t),n.length?new yt({points:n,options:{tension:0},_loop:o,_fullLoop:o}):null}function Vt(e,t,n){let o=e[t].fill;const a=[t];let i;if(!n)return o;for(;!1!==o&&-1===a.indexOf(o);){if(!(0,s.g)(o))return o;if(i=e[o],!i)return!1;if(i.visible)return o;a.push(o),o=i.fill}return!1}function Ht(e,t,n){e.beginPath(),t.path(e),e.lineTo(t.last().x,n),e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Wt(e,t,n,o){if(o)return;let a=t[e],i=n[e];return"angle"===e&&(a=(0,s.as)(a),i=(0,s.as)(i)),{property:e,start:a,end:i}}function Ut(e,t,n,s){return e&&t?s(e[n],t[n]):e?e[n]:t?t[n]:0}function qt(e,t,n){const{top:s,bottom:o}=t.chart.chartArea,{property:a,start:i,end:r}=n||{};"x"===a&&(e.beginPath(),e.rect(i,s,r-i,o-s),e.clip())}function Gt(e,t,n,s){const o=t.interpolate(n,s);o&&e.lineTo(o.x,o.y)}function Yt(e,t){const{line:n,target:o,property:a,color:i,scale:r}=t,l=function(e,t,n){const o=e.segments,a=e.points,i=t.points,r=[];for(const e of o){const o=Wt(n,a[e.start],a[e.end],e.loop);if(!t.segments){r.push({source:e,target:o,start:a[e.start],end:a[e.end]});continue}const l=(0,s.ah)(t,o);for(const t of l){const l=Wt(n,i[t.start],i[t.end],t.loop),c=(0,s.ar)(e,a,l);for(const e of c)r.push({source:e,target:t,start:{[n]:Ut(o,l,"start",Math.max)},end:{[n]:Ut(o,l,"end",Math.min)}})}}return r}(n,o,a);for(const{source:t,target:s,start:c,end:d}of l){const{style:{backgroundColor:l=i}={}}=t;e.save(),e.fillStyle=l,qt(e,r,Wt(a,c,d)),e.beginPath();const u=!!n.pathSegment(e,t);u?e.closePath():Gt(e,o,d,a);const p=!!o.pathSegment(e,s,{move:u,reverse:!0}),h=u&&p;h||Gt(e,o,c,a),e.closePath(),e.fill(h?"evenodd":"nonzero"),e.restore()}}function $t(e,t,n){const o=function(e){const{chart:t,fill:n,line:o}=e;if((0,s.g)(n))return function(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return Lt(e);const a=Dt(e);return a instanceof Mt?a:Bt(a,o)}(t),{line:a,scale:i,axis:r}=t,l=a.options,c=l.fill,d=l.backgroundColor,{above:u=d,below:p=d}=c||{};o&&a.points.length&&((0,s.k)(e,n),function(e,t){const{line:n,target:s,above:o,below:a,area:i,scale:r}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&a!==o&&(Ht(e,s,i.top),Yt(e,{line:n,target:s,color:o,scale:r,property:l}),e.restore(),e.save(),Ht(e,s,i.bottom)),Yt(e,{line:n,target:s,color:a,scale:r,property:l}),e.restore()}(e,{line:a,target:o,above:u,below:p,area:n,scale:i,axis:r}),(0,s.m)(e))}var Kt={id:"filler",afterDatasetsUpdate(e,t,n){const s=(e.data.datasets||[]).length,o=[];let a,i,r,l;for(i=0;i<s;++i)a=e.getDatasetMeta(i),r=a.dataset,l=null,r&&r.options&&r instanceof yt&&(l={visible:e.isDatasetVisible(i),index:i,fill:Ot(r,i,s),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:r}),a.$filler=l,o.push(l);for(i=0;i<s;++i)l=o[i],l&&!1!==l.fill&&(l.fill=Vt(o,i,n.propagate))},beforeDraw(e,t,n){const s="beforeDraw"===n.drawTime,o=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let t=o.length-1;t>=0;--t){const n=o[t].$filler;n&&(n.line.updateControlPoints(a,n.axis),s&&$t(e.ctx,n,a))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const s=e.getSortedVisibleDatasetMetas();for(let t=s.length-1;t>=0;--t){const n=s[t].$filler;n&&$t(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const s=t.meta.$filler;s&&!1!==s.fill&&"beforeDatasetDraw"===n.drawTime&&$t(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Xt=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}};class Qt extends be{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){const s=this;s.maxWidth=e,s.maxHeight=t,s._margins=n,s.setDimensions(),s.buildLabels(),s.fit()}setDimensions(){const e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height)}buildLabels(){const e=this,t=e.options.labels||{};let n=(0,s.N)(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((n=>t.filter(n,e.chart.data)))),t.sort&&(n=n.sort(((n,s)=>t.sort(n,s,e.chart.data)))),e.options.reverse&&n.reverse(),e.legendItems=n}fit(){const e=this,{options:t,ctx:n}=e;if(!t.display)return void(e.width=e.height=0);const o=t.labels,a=(0,s.W)(o.font),i=a.size,r=e._computeTitleHeight(),{boxWidth:l,itemHeight:c}=Xt(o,i);let d,u;n.font=a.string,e.isHorizontal()?(d=e.maxWidth,u=e._fitRows(r,i,l,c)+10):(u=e.maxHeight,d=e._fitCols(r,i,l,c)+10),e.width=Math.min(d,t.maxWidth||e.maxWidth),e.height=Math.min(u,t.maxHeight||e.maxHeight)}_fitRows(e,t,n,s){const o=this,{ctx:a,maxWidth:i,options:{labels:{padding:r}}}=o,l=o.legendHitBoxes=[],c=o.lineWidths=[0],d=s+r;let u=e;a.textAlign="left",a.textBaseline="middle";let p=-1,h=-d;return o.legendItems.forEach(((e,o)=>{const m=n+t/2+a.measureText(e.text).width;(0===o||c[c.length-1]+m+2*r>i)&&(u+=d,c[c.length-(o>0?0:1)]=0,h+=d,p++),l[o]={left:0,top:h,row:p,width:m,height:s},c[c.length-1]+=m+r})),u}_fitCols(e,t,n,s){const o=this,{ctx:a,maxHeight:i,options:{labels:{padding:r}}}=o,l=o.legendHitBoxes=[],c=o.columnSizes=[],d=i-e;let u=r,p=0,h=0,m=0,g=0,f=0;return o.legendItems.forEach(((e,o)=>{const i=n+t/2+a.measureText(e.text).width;o>0&&h+t+2*r>d&&(u+=p+r,c.push({width:p,height:h}),m+=p+r,f++,g=0,p=h=0),p=Math.max(p,i),h+=t+r,l[o]={left:m,top:g,col:f,width:i,height:s},g+=s+r})),u+=p,c.push({width:p,height:h}),u}adjustHitBoxes(){const e=this;if(!e.options.display)return;const t=e._computeTitleHeight(),{legendHitBoxes:n,options:{align:o,labels:{padding:a}}}=e;if(this.isHorizontal()){let i=0,r=(0,s.Y)(o,e.left+a,e.right-e.lineWidths[i]);for(const l of n)i!==l.row&&(i=l.row,r=(0,s.Y)(o,e.left+a,e.right-e.lineWidths[i])),l.top+=e.top+t+a,l.left=r,r+=l.width+a}else{let i=0,r=(0,s.Y)(o,e.top+t+a,e.bottom-e.columnSizes[i].height);for(const l of n)l.col!==i&&(i=l.col,r=(0,s.Y)(o,e.top+t+a,e.bottom-e.columnSizes[i].height)),l.top=r,l.left+=e.left+a,r+=l.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){const e=this;if(e.options.display){const t=e.ctx;(0,s.k)(t,e),e._draw(),(0,s.m)(t)}}_draw(){const e=this,{options:t,columnSizes:n,lineWidths:o,ctx:a}=e,{align:i,labels:r}=t,l=s.d.color,c=(0,s.at)(t.rtl,e.left,e.width),d=(0,s.W)(r.font),{color:u,padding:p}=r,h=d.size,m=h/2;let g;e.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:f,boxHeight:y,itemHeight:b}=Xt(r,h),x=e.isHorizontal(),S=this._computeTitleHeight();g=x?{x:(0,s.Y)(i,e.left+p,e.right-o[0]),y:e.top+p+S,line:0}:{x:e.left+p,y:(0,s.Y)(i,e.top+S+p,e.bottom-n[0].height),line:0},(0,s.au)(e.ctx,t.textDirection);const _=b+p;e.legendItems.forEach(((t,v)=>{a.strokeStyle=t.fontColor||u,a.fillStyle=t.fontColor||u;const E=a.measureText(t.text).width,w=c.textAlign(t.textAlign||(t.textAlign=r.textAlign)),I=f+h/2+E;let C=g.x,T=g.y;c.setWidth(e.width),x?v>0&&C+I+p>e.right&&(T=g.y+=_,g.line++,C=g.x=(0,s.Y)(i,e.left+p,e.right-o[g.line])):v>0&&T+_>e.bottom&&(C=g.x=C+n[g.line].width+p,g.line++,T=g.y=(0,s.Y)(i,e.top+S+p,e.bottom-n[g.line].height));!function(e,t,n){if(isNaN(f)||f<=0||isNaN(y)||y<0)return;a.save();const o=(0,s.v)(n.lineWidth,1);if(a.fillStyle=(0,s.v)(n.fillStyle,l),a.lineCap=(0,s.v)(n.lineCap,"butt"),a.lineDashOffset=(0,s.v)(n.lineDashOffset,0),a.lineJoin=(0,s.v)(n.lineJoin,"miter"),a.lineWidth=o,a.strokeStyle=(0,s.v)(n.strokeStyle,l),a.setLineDash((0,s.v)(n.lineDash,[])),r.usePointStyle){const i={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:o},r=c.xPlus(e,f/2),l=t+m;(0,s.an)(a,i,r,l)}else{const i=t+Math.max((h-y)/2,0),r=c.leftForLtr(e,f),l=(0,s.aq)(n.borderRadius);a.beginPath(),Object.values(l).some((e=>0!==e))?(0,s.ao)(a,{x:r,y:i,w:f,h:y,radius:l}):a.rect(r,i,f,y),a.fill(),0!==o&&a.stroke()}a.restore()}(c.x(C),T,t),C=(0,s.av)(w,C+f+m,e.right),function(e,t,n){(0,s.V)(a,n.text,e,t+b/2,d,{strikethrough:n.hidden,textAlign:n.textAlign})}(c.x(C),T,t),x?g.x+=I+p:g.y+=_})),(0,s.aw)(e.ctx,t.textDirection)}drawTitle(){const e=this,t=e.options,n=t.title,o=(0,s.W)(n.font),a=(0,s.C)(n.padding);if(!n.display)return;const i=(0,s.at)(t.rtl,e.left,e.width),r=e.ctx,l=n.position,c=o.size/2,d=a.top+c;let u,p=e.left,h=e.width;if(this.isHorizontal())h=Math.max(...e.lineWidths),u=e.top+d,p=(0,s.Y)(t.align,p,e.right-h);else{const n=e.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);u=d+(0,s.Y)(t.align,e.top,e.bottom-n-t.labels.padding-e._computeTitleHeight())}const m=(0,s.Y)(l,p,p+h);r.textAlign=i.textAlign((0,s.X)(l)),r.textBaseline="middle",r.strokeStyle=n.color,r.fillStyle=n.color,r.font=o.string,(0,s.V)(r,n.text,m,u,o)}_computeTitleHeight(){const e=this.options.title,t=(0,s.W)(e.font),n=(0,s.C)(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){const n=this;let s,o,a;if(e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom)for(a=n.legendHitBoxes,s=0;s<a.length;++s)if(o=a[s],e>=o.left&&e<=o.left+o.width&&t>=o.top&&t<=o.top+o.height)return n.legendItems[s];return null}handleEvent(e){const t=this,n=t.options;if(!function(e,t){if("mousemove"===e&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,n))return;const o=t._getLegendItemAt(e.x,e.y);if("mousemove"===e.type){const r=t._hoveredItem,l=(i=o,null!==(a=r)&&null!==i&&a.datasetIndex===i.datasetIndex&&a.index===i.index);r&&!l&&(0,s.N)(n.onLeave,[e,r,t],t),t._hoveredItem=o,o&&!l&&(0,s.N)(n.onHover,[e,o,t],t)}else o&&(0,s.N)(n.onClick,[e,o,t],t);var a,i}}var Zt={id:"legend",_element:Qt,start(e,t,n){const s=e.legend=new Qt({ctx:e.ctx,options:n,chart:e});ne.configure(e,s,n),ne.addBox(e,s)},stop(e){ne.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;ne.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,o=n.chart;o.isDatasetVisible(s)?(o.hide(s),t.hidden=!0):(o.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:o,textAlign:a,color:i}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const r=e.controller.getStyle(n?0:void 0),l=(0,s.C)(r.borderWidth);return{text:t[e.index].label,fillStyle:r.backgroundColor,fontColor:i,hidden:!e.visible,lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:r.borderColor,pointStyle:o||r.pointStyle,rotation:r.rotation,textAlign:a||r.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Jt extends be{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this,o=n.options;if(n.left=0,n.top=0,!o.display)return void(n.width=n.height=n.right=n.bottom=0);n.width=n.right=e,n.height=n.bottom=t;const a=(0,s.b)(o.text)?o.text.length:1;n._padding=(0,s.C)(o.padding);const i=a*(0,s.W)(o.font).lineHeight+n._padding.height;n.isHorizontal()?n.height=i:n.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:o,right:a,options:i}=this,r=i.align;let l,c,d,u=0;return this.isHorizontal()?(c=(0,s.Y)(r,n,a),d=t+e,l=a-n):("left"===i.position?(c=n+e,d=(0,s.Y)(r,o,t),u=-.5*s.P):(c=a-e,d=(0,s.Y)(r,t,o),u=.5*s.P),l=o-t),{titleX:c,titleY:d,maxWidth:l,rotation:u}}draw(){const e=this,t=e.ctx,n=e.options;if(!n.display)return;const o=(0,s.W)(n.font),a=o.lineHeight/2+e._padding.top,{titleX:i,titleY:r,maxWidth:l,rotation:c}=e._drawArgs(a);(0,s.V)(t,n.text,0,0,o,{color:n.color,maxWidth:l,rotation:c,textAlign:(0,s.X)(n.align),textBaseline:"middle",translation:[i,r]})}}var en={id:"title",_element:Jt,start(e,t,n){!function(e,t){const n=new Jt({ctx:e.ctx,options:t,chart:e});ne.configure(e,n,t),ne.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;ne.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;ne.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tn={average(e){if(!e.length)return!1;let t,n,s=0,o=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();s+=e.x,o+=e.y,++a}}return{x:s/a,y:o/a}},nearest(e,t){if(!e.length)return!1;let n,o,a,i=t.x,r=t.y,l=Number.POSITIVE_INFINITY;for(n=0,o=e.length;n<o;++n){const o=e[n].element;if(o&&o.hasValue()){const e=o.getCenterPoint(),n=(0,s.ay)(t,e);n<l&&(l=n,a=o)}}if(a){const e=a.tooltipPosition();i=e.x,r=e.y}return{x:i,y:r}}};function nn(e,t){return t&&((0,s.b)(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function sn(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function on(e,t){const{element:n,datasetIndex:s,index:o}=t,a=e.getDatasetMeta(s).controller,{label:i,value:r}=a.getLabelAndValue(o);return{chart:e,label:i,parsed:a.getParsed(o),raw:e.data.datasets[s].data[o],formattedValue:r,dataset:a.getDataset(),dataIndex:o,datasetIndex:s,element:n}}function an(e,t){const n=e._chart.ctx,{body:o,footer:a,title:i}=e,{boxWidth:r,boxHeight:l}=t,c=(0,s.W)(t.bodyFont),d=(0,s.W)(t.titleFont),u=(0,s.W)(t.footerFont),p=i.length,h=a.length,m=o.length,g=(0,s.C)(t.padding);let f=g.height,y=0,b=o.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(b+=e.beforeBody.length+e.afterBody.length,p&&(f+=p*d.lineHeight+(p-1)*t.titleSpacing+t.titleMarginBottom),b){f+=m*(t.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(b-m)*c.lineHeight+(b-1)*t.bodySpacing}h&&(f+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let x=0;const S=function(e){y=Math.max(y,n.measureText(e).width+x)};return n.save(),n.font=d.string,(0,s.D)(e.title,S),n.font=c.string,(0,s.D)(e.beforeBody.concat(e.afterBody),S),x=t.displayColors?r+2:0,(0,s.D)(o,(e=>{(0,s.D)(e.before,S),(0,s.D)(e.lines,S),(0,s.D)(e.after,S)})),x=0,n.font=u.string,(0,s.D)(e.footer,S),n.restore(),y+=g.width,{width:y,height:f}}function rn(e,t,n,s){const{x:o,width:a}=n,{width:i,chartArea:{left:r,right:l}}=e;let c="center";return"center"===s?c=o<=(r+l)/2?"left":"right":o<=a/2?c="left":o>=i-a/2&&(c="right"),function(e,t,n,s){const{x:o,width:a}=s,i=n.caretSize+n.caretPadding;return"left"===e&&o+a+i>t.width||"right"===e&&o-a-i<0||void 0}(c,e,t,n)&&(c="center"),c}function ln(e,t,n){const s=t.yAlign||function(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}(e,n);return{xAlign:t.xAlign||rn(e,t,n,s),yAlign:s}}function cn(e,t,n,o){const{caretSize:a,caretPadding:i,cornerRadius:r}=e,{xAlign:l,yAlign:c}=n,d=a+i,u=r+i;let p=function(e,t){let{x:n,width:s}=e;return"right"===t?n-=s:"center"===t&&(n-=s/2),n}(t,l);const h=function(e,t,n){let{y:s,height:o}=e;return"top"===t?s+=n:s-="bottom"===t?o+n:o/2,s}(t,c,d);return"center"===c?"left"===l?p+=d:"right"===l&&(p-=d):"left"===l?p-=u:"right"===l&&(p+=u),{x:(0,s.x)(p,0,o.width-t.width),y:(0,s.x)(h,0,o.height-t.height)}}function dn(e,t,n){const o=(0,s.C)(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-o.right:e.x+o.left}function un(e){return nn([],sn(e))}function pn(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class hn extends be{constructor(e){super(),this.opacity=0,this._active=[],this._chart=e._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this,t=e._cachedAnimations;if(t)return t;const n=e._chart,s=e.options.setContext(e.getContext()),o=s.enabled&&n.options.animation&&s.animations,a=new d(e._chart,o);return o._cacheable&&(e._cachedAnimations=Object.freeze(a)),a}getContext(){const e=this;return e.$context||(e.$context=(t=e._chart.getContext(),n=e,s=e._tooltipItems,Object.assign(Object.create(t),{tooltip:n,tooltipItems:s,type:"tooltip"})));var t,n,s}getTitle(e,t){const n=this,{callbacks:s}=t,o=s.beforeTitle.apply(n,[e]),a=s.title.apply(n,[e]),i=s.afterTitle.apply(n,[e]);let r=[];return r=nn(r,sn(o)),r=nn(r,sn(a)),r=nn(r,sn(i)),r}getBeforeBody(e,t){return un(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const n=this,{callbacks:o}=t,a=[];return(0,s.D)(e,(e=>{const t={before:[],lines:[],after:[]},s=pn(o,e);nn(t.before,sn(s.beforeLabel.call(n,e))),nn(t.lines,s.label.call(n,e)),nn(t.after,sn(s.afterLabel.call(n,e))),a.push(t)})),a}getAfterBody(e,t){return un(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const n=this,{callbacks:s}=t,o=s.beforeFooter.apply(n,[e]),a=s.footer.apply(n,[e]),i=s.afterFooter.apply(n,[e]);let r=[];return r=nn(r,sn(o)),r=nn(r,sn(a)),r=nn(r,sn(i)),r}_createItems(e){const t=this,n=t._active,o=t._chart.data,a=[],i=[],r=[];let l,c,d=[];for(l=0,c=n.length;l<c;++l)d.push(on(t._chart,n[l]));return e.filter&&(d=d.filter(((t,n,s)=>e.filter(t,n,s,o)))),e.itemSort&&(d=d.sort(((t,n)=>e.itemSort(t,n,o)))),(0,s.D)(d,(n=>{const s=pn(e.callbacks,n);a.push(s.labelColor.call(t,n)),i.push(s.labelPointStyle.call(t,n)),r.push(s.labelTextColor.call(t,n))})),t.labelColors=a,t.labelPointStyles=i,t.labelTextColors=r,t.dataPoints=d,d}update(e,t){const n=this,s=n.options.setContext(n.getContext()),o=n._active;let a,i=[];if(o.length){const e=tn[s.position].call(n,o,n._eventPosition);i=n._createItems(s),n.title=n.getTitle(i,s),n.beforeBody=n.getBeforeBody(i,s),n.body=n.getBody(i,s),n.afterBody=n.getAfterBody(i,s),n.footer=n.getFooter(i,s);const t=n._size=an(n,s),r=Object.assign({},e,t),l=ln(n._chart,s,r),c=cn(s,r,l,n._chart);n.xAlign=l.xAlign,n.yAlign=l.yAlign,a={opacity:1,x:c.x,y:c.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==n.opacity&&(a={opacity:0});n._tooltipItems=i,n.$context=void 0,a&&n._resolveAnimations().update(n,a),e&&s.external&&s.external.call(n,{chart:n._chart,tooltip:n,replay:t})}drawCaret(e,t,n,s){const o=this.getCaretPosition(e,n,s);t.lineTo(o.x1,o.y1),t.lineTo(o.x2,o.y2),t.lineTo(o.x3,o.y3)}getCaretPosition(e,t,n){const{xAlign:s,yAlign:o}=this,{cornerRadius:a,caretSize:i}=n,{x:r,y:l}=e,{width:c,height:d}=t;let u,p,h,m,g,f;return"center"===o?(g=l+d/2,"left"===s?(u=r,p=u-i,m=g+i,f=g-i):(u=r+c,p=u+i,m=g-i,f=g+i),h=u):(p="left"===s?r+a+i:"right"===s?r+c-a-i:this.caretX,"top"===o?(m=l,g=m-i,u=p-i,h=p+i):(m=l+d,g=m+i,u=p+i,h=p-i),f=m),{x1:u,x2:p,x3:h,y1:m,y2:g,y3:f}}drawTitle(e,t,n){const o=this,a=o.title,i=a.length;let r,l,c;if(i){const d=(0,s.at)(n.rtl,o.x,o.width);for(e.x=dn(o,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",r=(0,s.W)(n.titleFont),l=n.titleSpacing,t.fillStyle=n.titleColor,t.font=r.string,c=0;c<i;++c)t.fillText(a[c],d.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+l,c+1===i&&(e.y+=n.titleMarginBottom-l)}}_drawColorBox(e,t,n,o,a){const i=this,r=i.labelColors[n],l=i.labelPointStyles[n],{boxHeight:c,boxWidth:d}=a,u=(0,s.W)(a.bodyFont),p=dn(i,"left",a),h=o.x(p),m=c<u.lineHeight?(u.lineHeight-c)/2:0,g=t.y+m;if(a.usePointStyle){const t={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},n=o.leftForLtr(h,d)+d/2,i=g+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,(0,s.an)(e,t,n,i),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,(0,s.an)(e,t,n,i)}else{e.lineWidth=r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const t=o.leftForLtr(h,d),n=o.leftForLtr(o.xPlus(h,1),d-2),i=(0,s.aq)(r.borderRadius);Object.values(i).some((e=>0!==e))?(e.beginPath(),e.fillStyle=a.multiKeyBackground,(0,s.ao)(e,{x:t,y:g,w:d,h:c,radius:i}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),(0,s.ao)(e,{x:n,y:g+1,w:d-2,h:c-2,radius:i}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,g,d,c),e.strokeRect(t,g,d,c),e.fillStyle=r.backgroundColor,e.fillRect(n,g+1,d-2,c-2))}e.fillStyle=i.labelTextColors[n]}drawBody(e,t,n){const o=this,{body:a}=o,{bodySpacing:i,bodyAlign:r,displayColors:l,boxHeight:c,boxWidth:d}=n,u=(0,s.W)(n.bodyFont);let p=u.lineHeight,h=0;const m=(0,s.at)(n.rtl,o.x,o.width),g=function(n){t.fillText(n,m.x(e.x+h),e.y+p/2),e.y+=p+i},f=m.textAlign(r);let y,b,x,S,_,v,E;for(t.textAlign=r,t.textBaseline="middle",t.font=u.string,e.x=dn(o,f,n),t.fillStyle=n.bodyColor,(0,s.D)(o.beforeBody,g),h=l&&"right"!==f?"center"===r?d/2+1:d+2:0,S=0,v=a.length;S<v;++S){for(y=a[S],b=o.labelTextColors[S],t.fillStyle=b,(0,s.D)(y.before,g),x=y.lines,l&&x.length&&(o._drawColorBox(t,e,S,m,n),p=Math.max(u.lineHeight,c)),_=0,E=x.length;_<E;++_)g(x[_]),p=u.lineHeight;(0,s.D)(y.after,g)}h=0,p=u.lineHeight,(0,s.D)(o.afterBody,g),e.y-=i}drawFooter(e,t,n){const o=this,a=o.footer,i=a.length;let r,l;if(i){const c=(0,s.at)(n.rtl,o.x,o.width);for(e.x=dn(o,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=c.textAlign(n.footerAlign),t.textBaseline="middle",r=(0,s.W)(n.footerFont),t.fillStyle=n.footerColor,t.font=r.string,l=0;l<i;++l)t.fillText(a[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}drawBackground(e,t,n,s){const{xAlign:o,yAlign:a}=this,{x:i,y:r}=e,{width:l,height:c}=n,d=s.cornerRadius;t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(i+d,r),"top"===a&&this.drawCaret(e,t,n,s),t.lineTo(i+l-d,r),t.quadraticCurveTo(i+l,r,i+l,r+d),"center"===a&&"right"===o&&this.drawCaret(e,t,n,s),t.lineTo(i+l,r+c-d),t.quadraticCurveTo(i+l,r+c,i+l-d,r+c),"bottom"===a&&this.drawCaret(e,t,n,s),t.lineTo(i+d,r+c),t.quadraticCurveTo(i,r+c,i,r+c-d),"center"===a&&"left"===o&&this.drawCaret(e,t,n,s),t.lineTo(i,r+d),t.quadraticCurveTo(i,r,i+d,r),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this,n=t._chart,s=t.$animations,o=s&&s.x,a=s&&s.y;if(o||a){const s=tn[e.position].call(t,t._active,t._eventPosition);if(!s)return;const i=t._size=an(t,e),r=Object.assign({},s,t._size),l=ln(n,e,r),c=cn(e,r,l,n);o._to===c.x&&a._to===c.y||(t.xAlign=l.xAlign,t.yAlign=l.yAlign,t.width=i.width,t.height=i.height,t.caretX=s.x,t.caretY=s.y,t._resolveAnimations().update(t,c))}}draw(e){const t=this,n=t.options.setContext(t.getContext());let o=t.opacity;if(!o)return;t._updateAnimationTarget(n);const a={width:t.width,height:t.height},i={x:t.x,y:t.y};o=Math.abs(o)<.001?0:o;const r=(0,s.C)(n.padding),l=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=o,t.drawBackground(i,e,a,n),(0,s.au)(e,n.textDirection),i.y+=r.top,t.drawTitle(i,e,n),t.drawBody(i,e,n),t.drawFooter(i,e,n),(0,s.aw)(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this,o=n._active,a=e.map((({datasetIndex:e,index:t})=>{const s=n._chart.getDatasetMeta(e);if(!s)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:s.data[t],index:t}})),i=!(0,s.ac)(o,a),r=n._positionChanged(a,t);(i||r)&&(n._active=a,n._eventPosition=t,n.update(!0))}handleEvent(e,t){const n=this,o=n.options,a=n._active||[];let i=!1,r=[];"mouseout"!==e.type&&(r=n._chart.getElementsAtEventForMode(e,o.mode,o,t),o.reverse&&r.reverse());const l=n._positionChanged(r,e);return i=t||!(0,s.ac)(r,a)||l,i&&(n._active=r,(o.enabled||o.external)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0,t))),i}_positionChanged(e,t){const{caretX:n,caretY:s,options:o}=this,a=tn[o.position].call(this,e,t);return!1!==a&&(n!==a.x||s!==a.y)}}hn.positioners=tn;var mn={id:"tooltip",_element:hn,positioners:tn,afterInit(e,t,n){n&&(e.tooltip=new hn({_chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip,n={tooltip:t};!1!==e.notifyPlugins("beforeTooltipDraw",n)&&(t&&t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n))},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:s.ax,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:s.ax,beforeBody:s.ax,beforeLabel:s.ax,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return(0,s.j)(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:s.ax,afterBody:s.ax,beforeFooter:s.ax,footer:s.ax,afterFooter:s.ax}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},gn=Object.freeze({__proto__:null,Decimation:Rt,Filler:Kt,Legend:Zt,Title:en,Tooltip:mn});function fn(e,t,n){const s=e.indexOf(t);if(-1===s)return((e,t,n)=>"string"==typeof t?e.push(t)-1:isNaN(t)?null:n)(e,t,n);return s!==e.lastIndexOf(t)?n:s}class yn extends Pe{constructor(e){super(e),this._startValue=void 0,this._valueRange=0}parse(e,t){if((0,s.j)(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:(0,s.x)(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:fn(n,e,(0,s.v)(t,e)),n.length-1)}determineDataLimits(){const e=this,{minDefined:t,maxDefined:n}=e.getUserBounds();let{min:s,max:o}=e.getMinMax(!0);"ticks"===e.options.bounds&&(t||(s=0),n||(o=e.getLabels().length-1)),e.min=s,e.max=o}buildTicks(){const e=this,t=e.min,n=e.max,s=e.options.offset,o=[];let a=e.getLabels();a=0===t&&n===a.length-1?a:a.slice(t,n+1),e._valueRange=Math.max(a.length-(s?0:1),1),e._startValue=e.min-(s?.5:0);for(let e=t;e<=n;e++)o.push({value:e});return o}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){const e=this;super.configure(),e.isHorizontal()||(e._reversePixels=!e._reversePixels)}getPixelForValue(e){const t=this;return"number"!=typeof e&&(e=t.parse(e)),null===e?NaN:t.getPixelForDecimal((e-t._startValue)/t._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){const t=this;return Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange)}getBasePixel(){return this.bottom}}function bn(e,t,{horizontal:n,minRotation:o}){const a=(0,s.t)(o),i=(n?Math.sin(a):Math.cos(a))||.001,r=.75*t*(""+e).length;return Math.min(t/i,r)}yn.id="category",yn.defaults={ticks:{callback:yn.prototype.getLabelForValue}};class xn extends Pe{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return(0,s.j)(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const e=this,{beginAtZero:t}=e.options,{minDefined:n,maxDefined:o}=e.getUserBounds();let{min:a,max:i}=e;const r=e=>a=n?a:e,l=e=>i=o?i:e;if(t){const e=(0,s.s)(a),t=(0,s.s)(i);e<0&&t<0?l(0):e>0&&t>0&&r(0)}a===i&&(l(i+1),t||r(a-1)),e.min=a,e.max=i}getTickLimit(){const e=this,t=e.options.ticks;let n,{maxTicksLimit:s,stepSize:o}=t;return o?n=Math.ceil(e.max/o)-Math.floor(e.min/o)+1:(n=e.computeTickLimit(),s=s||11),s&&(n=Math.min(s,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this,t=e.options,n=t.ticks;let o=e.getTickLimit();o=Math.max(2,o);const a=function(e,t){const n=[],{step:o,min:a,max:i,precision:r,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,p=o||1,h=c-1,{min:m,max:g}=t,f=!(0,s.j)(a),y=!(0,s.j)(i),b=!(0,s.j)(l),x=(g-m)/(d+1);let S,_,v,E,w=(0,s.aA)((g-m)/h/p)*p;if(w<1e-14&&!f&&!y)return[{value:m},{value:g}];E=Math.ceil(g/w)-Math.floor(m/w),E>h&&(w=(0,s.aA)(E*w/h/p)*p),(0,s.j)(r)||(S=Math.pow(10,r),w=Math.ceil(w*S)/S),_=Math.floor(m/w)*w,v=Math.ceil(g/w)*w,f&&y&&o&&(0,s.aB)((i-a)/o,w/1e3)?(E=Math.min((i-a)/w,c),w=(i-a)/E,_=a,v=i):b?(_=f?a:_,v=y?i:v,E=l-1,w=(v-_)/E):(E=(v-_)/w,E=(0,s.aC)(E,Math.round(E),w/1e3)?Math.round(E):Math.ceil(E));const I=Math.max((0,s.aD)(w),(0,s.aD)(_));S=Math.pow(10,(0,s.j)(r)?I:r),_=Math.round(_*S)/S,v=Math.round(v*S)/S;let C=0;for(f&&(u&&_!==a?(n.push({value:a}),_<a&&C++,(0,s.aC)(Math.round((_+C*w)*S)/S,a,bn(a,x,e))&&C++):_<a&&C++);C<E;++C)n.push({value:Math.round((_+C*w)*S)/S});return y&&u&&v!==i?(0,s.aC)(n[n.length-1].value,i,bn(i,x,e))?n[n.length-1].value=i:n.push({value:i}):y&&v!==i||n.push({value:v}),n}({maxTicks:o,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:e._maxDigits(),horizontal:e.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},e._range||e);return"ticks"===t.bounds&&(0,s.az)(a,e,"value"),t.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),a}configure(){const e=this,t=e.ticks;let n=e.min,s=e.max;if(super.configure(),e.options.offset&&t.length){const e=(s-n)/Math.max(t.length-1,1)/2;n-=e,s+=e}e._startValue=n,e._endValue=s,e._valueRange=s-n}getLabelForValue(e){return(0,s.p)(e,this.chart.options.locale)}}class Sn extends xn{determineDataLimits(){const e=this,{min:t,max:n}=e.getMinMax(!0);e.min=(0,s.g)(t)?t:0,e.max=(0,s.g)(n)?n:1,e.handleTickRangeOptions()}computeTickLimit(){const e=this,t=e.isHorizontal(),n=t?e.width:e.height,o=(0,s.t)(e.options.ticks.minRotation),a=(t?Math.sin(o):Math.cos(o))||.001,i=e._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function _n(e){return 1===e/Math.pow(10,Math.floor((0,s.K)(e)))}Sn.id="linear",Sn.defaults={ticks:{callback:Se.formatters.numeric}};class vn extends Pe{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=xn.prototype.parse.apply(this,[e,t]);if(0!==n)return(0,s.g)(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const e=this,{min:t,max:n}=e.getMinMax(!0);e.min=(0,s.g)(t)?Math.max(0,t):null,e.max=(0,s.g)(n)?Math.max(0,n):null,e.options.beginAtZero&&(e._zero=!0),e.handleTickRangeOptions()}handleTickRangeOptions(){const e=this,{minDefined:t,maxDefined:n}=e.getUserBounds();let o=e.min,a=e.max;const i=e=>o=t?o:e,r=e=>a=n?a:e,l=(e,t)=>Math.pow(10,Math.floor((0,s.K)(e))+t);o===a&&(o<=0?(i(1),r(10)):(i(l(o,-1)),r(l(a,1)))),o<=0&&i(l(a,-1)),a<=0&&r(l(o,1)),e._zero&&e.min!==e._suggestedMin&&o===l(e.min,0)&&i(l(o,-1)),e.min=o,e.max=a}buildTicks(){const e=this,t=e.options,n=function(e,t){const n=Math.floor((0,s.K)(t.max)),o=Math.ceil(t.max/Math.pow(10,n)),a=[];let i=(0,s.M)(e.min,Math.pow(10,Math.floor((0,s.K)(t.min)))),r=Math.floor((0,s.K)(i)),l=Math.floor(i/Math.pow(10,r)),c=r<0?Math.pow(10,Math.abs(r)):1;do{a.push({value:i,major:_n(i)}),++l,10===l&&(l=1,++r,c=r>=0?1:c),i=Math.round(l*Math.pow(10,r)*c)/c}while(r<n||r===n&&l<o);const d=(0,s.M)(e.max,i);return a.push({value:d,major:_n(i)}),a}({min:e._userMin,max:e._userMax},e);return"ticks"===t.bounds&&(0,s.az)(n,e,"value"),t.reverse?(n.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n}getLabelForValue(e){return void 0===e?"0":(0,s.p)(e,this.chart.options.locale)}configure(){const e=this,t=e.min;super.configure(),e._startValue=(0,s.K)(t),e._valueRange=(0,s.K)(e.max)-(0,s.K)(t)}getPixelForValue(e){const t=this;return void 0!==e&&0!==e||(e=t.min),null===e||isNaN(e)?NaN:t.getPixelForDecimal(e===t.min?0:((0,s.K)(e)-t._startValue)/t._valueRange)}getValueForPixel(e){const t=this,n=t.getDecimalForPixel(e);return Math.pow(10,t._startValue+n*t._valueRange)}}function En(e){const t=e.ticks;if(t.display&&e.display){const e=(0,s.C)(t.backdropPadding);return(0,s.v)(t.font&&t.font.size,s.d.font.size)+e.height}return 0}function wn(e,t,n,s,o){return e===s||e===o?{start:t-n/2,end:t+n/2}:e<s||e>o?{start:t-n,end:t}:{start:t,end:t+n}}function In(e){return 0===e||180===e?"center":e<180?"left":"right"}function Cn(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function Tn(e,t,n,o){const{ctx:a}=e;if(n)a.arc(e.xCenter,e.yCenter,t,0,s.T);else{let n=e.getPointPosition(0,t);a.moveTo(n.x,n.y);for(let s=1;s<o;s++)n=e.getPointPosition(s,t),a.lineTo(n.x,n.y)}}function An(e){return(0,s.w)(e)?e:0}vn.id="logarithmic",vn.defaults={ticks:{callback:Se.formatters.logarithmic,major:{enabled:!0}}};class Pn extends xn{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=En(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2}determineDataLimits(){const e=this,{min:t,max:n}=e.getMinMax(!1);e.min=(0,s.g)(t)&&!isNaN(t)?t:0,e.max=(0,s.g)(n)&&!isNaN(n)?n:0,e.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/En(this.options))}generateTickLabels(e){const t=this;xn.prototype.generateTickLabels.call(t,e),t._pointLabels=t.getLabels().map(((e,n)=>{const o=(0,s.N)(t.options.pointLabels.callback,[e,n],t);return o||0===o?o:""}))}fit(){const e=this,t=e.options;t.display&&t.pointLabels.display?function(e){const t={l:0,r:e.width,t:0,b:e.height-e.paddingTop},n={};let o,a,i;const r=[],l=[],c=e.getLabels().length;for(o=0;o<c;o++){const c=e.options.pointLabels.setContext(e.getContext(o));l[o]=c.padding,i=e.getPointPosition(o,e.drawingArea+l[o]);const h=(0,s.W)(c.font);e.ctx.font=h.string,d=e.ctx,u=h.lineHeight,p=e._pointLabels[o],a=(0,s.b)(p)?{w:(0,s.aE)(d,d.font,p),h:p.length*u}:{w:d.measureText(p).width,h:u},r[o]=a;const m=e.getIndexAngle(o),g=(0,s.Q)(m),f=wn(g,i.x,a.w,0,180),y=wn(g,i.y,a.h,90,270);f.start<t.l&&(t.l=f.start,n.l=m),f.end>t.r&&(t.r=f.end,n.r=m),y.start<t.t&&(t.t=y.start,n.t=m),y.end>t.b&&(t.b=y.end,n.b=m)}var d,u,p;e._setReductions(e.drawingArea,t,n),e._pointLabelItems=[];const h=e.options,m=En(h),g=e.getDistanceFromCenterForValue(h.ticks.reverse?e.min:e.max);for(o=0;o<c;o++){const t=0===o?m/2:0,n=e.getPointPosition(o,g+t+l[o]),a=(0,s.Q)(e.getIndexAngle(o)),i=r[o];Cn(a,i,n);const c=In(a);let d;d="left"===c?n.x:"center"===c?n.x-i.w/2:n.x-i.w;const u=d+i.w;e._pointLabelItems[o]={x:n.x,y:n.y,textAlign:c,left:d,top:n.y,right:u,bottom:n.y+i.h}}}(e):e.setCenterPoint(0,0,0,0)}_setReductions(e,t,n){const s=this;let o=t.l/Math.sin(n.l),a=Math.max(t.r-s.width,0)/Math.sin(n.r),i=-t.t/Math.cos(n.t),r=-Math.max(t.b-(s.height-s.paddingTop),0)/Math.cos(n.b);o=An(o),a=An(a),i=An(i),r=An(r),s.drawingArea=Math.max(e/2,Math.min(Math.floor(e-(o+a)/2),Math.floor(e-(i+r)/2))),s.setCenterPoint(o,a,i,r)}setCenterPoint(e,t,n,s){const o=this,a=o.width-t-o.drawingArea,i=e+o.drawingArea,r=n+o.drawingArea,l=o.height-o.paddingTop-s-o.drawingArea;o.xCenter=Math.floor((i+a)/2+o.left),o.yCenter=Math.floor((r+l)/2+o.top+o.paddingTop)}getIndexAngle(e){const t=s.T/this.getLabels().length,n=this.options.startAngle||0;return(0,s.as)(e*t+(0,s.t)(n))}getDistanceFromCenterForValue(e){const t=this;if((0,s.j)(e))return NaN;const n=t.drawingArea/(t.max-t.min);return t.options.reverse?(t.max-e)*n:(e-t.min)*n}getValueForDistanceFromCenter(e){if((0,s.j)(e))return NaN;const t=this,n=e/(t.drawingArea/(t.max-t.min));return t.options.reverse?t.max-n:t.min+n}getPointPosition(e,t){const n=this,o=n.getIndexAngle(e)-s.H;return{x:Math.cos(o)*t+n.xCenter,y:Math.sin(o)*t+n.yCenter,angle:o}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:s,bottom:o}=this._pointLabelItems[e];return{left:t,top:n,right:s,bottom:o}}drawBackground(){const e=this,{backgroundColor:t,grid:{circular:n}}=e.options;if(t){const s=e.ctx;s.save(),s.beginPath(),Tn(e,e.getDistanceFromCenterForValue(e._endValue),n,e.getLabels().length),s.closePath(),s.fillStyle=t,s.fill(),s.restore()}}drawGrid(){const e=this,t=e.ctx,n=e.options,{angleLines:o,grid:a}=n,i=e.getLabels().length;let r,l,c;if(n.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:o}}=e;for(let a=t-1;a>=0;a--){const t=o.setContext(e.getContext(a)),i=(0,s.W)(t.font),{x:r,y:l,textAlign:c,left:d,top:u,right:p,bottom:h}=e._pointLabelItems[a],{backdropColor:m}=t;if(!(0,s.j)(m)){const e=(0,s.C)(t.backdropPadding);n.fillStyle=m,n.fillRect(d-e.left,u-e.top,p-d+e.width,h-u+e.height)}(0,s.V)(n,e._pointLabels[a],r,l+i.lineHeight/2,i,{color:t.color,textAlign:c,textBaseline:"middle"})}}(e,i),a.display&&e.ticks.forEach(((t,n)=>{if(0!==n){l=e.getDistanceFromCenterForValue(t.value);const s=a.setContext(e.getContext(n-1));!function(e,t,n,s){const o=e.ctx,a=t.circular,{color:i,lineWidth:r}=t;!a&&!s||!i||!r||n<0||(o.save(),o.strokeStyle=i,o.lineWidth=r,o.setLineDash(t.borderDash),o.lineDashOffset=t.borderDashOffset,o.beginPath(),Tn(e,n,a,s),o.closePath(),o.stroke(),o.restore())}(e,s,l,i)}})),o.display){for(t.save(),r=e.getLabels().length-1;r>=0;r--){const s=o.setContext(e.getContext(r)),{color:a,lineWidth:i}=s;i&&a&&(t.lineWidth=i,t.strokeStyle=a,t.setLineDash(s.borderDash),t.lineDashOffset=s.borderDashOffset,l=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),c=e.getPointPosition(r,l),t.beginPath(),t.moveTo(e.xCenter,e.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const e=this,t=e.ctx,n=e.options,o=n.ticks;if(!o.display)return;const a=e.getIndexAngle(0);let i,r;t.save(),t.translate(e.xCenter,e.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",e.ticks.forEach(((a,l)=>{if(0===l&&!n.reverse)return;const c=o.setContext(e.getContext(l)),d=(0,s.W)(c.font);if(i=e.getDistanceFromCenterForValue(e.ticks[l].value),c.showLabelBackdrop){r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const e=(0,s.C)(c.backdropPadding);t.fillRect(-r/2-e.left,-i-d.size/2-e.top,r+e.width,d.size+e.height)}(0,s.V)(t,a.label,0,-i,d,{color:c.color})})),t.restore()}drawTitle(){}}Pn.id="radialLinear",Pn.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Se.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5}},Pn.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Pn.descriptors={angleLines:{_fallback:"grid"}};const kn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jn=Object.keys(kn);function Rn(e,t){return e-t}function On(e,t){if((0,s.j)(t))return null;const n=e._adapter,{parser:o,round:a,isoWeekday:i}=e._parseOpts;let r=t;return"function"==typeof o&&(r=o(r)),(0,s.g)(r)||(r="string"==typeof o?n.parse(r,o):n.parse(r)),null===r?null:(a&&(r="week"!==a||!(0,s.w)(i)&&!0!==i?n.startOf(r,a):n.startOf(r,"isoWeek",i)),+r)}function Mn(e,t,n,s){const o=jn.length;for(let a=jn.indexOf(e);a<o-1;++a){const e=kn[jn[a]],o=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(o*e.size))<=s)return jn[a]}return jn[o-1]}function Dn(e,t,n){if(n){if(n.length){const{lo:o,hi:a}=(0,s.aG)(n,t);e[n[o]>=t?n[o]:n[a]]=!0}}else e[t]=!0}function Ln(e,t,n){const s=[],o={},a=t.length;let i,r;for(i=0;i<a;++i)r=t[i],o[r]=i,s.push({value:r,major:!1});return 0!==a&&n?function(e,t,n,s){const o=e._adapter,a=+o.startOf(t[0].value,s),i=t[t.length-1].value;let r,l;for(r=a;r<=i;r=+o.add(r,1,s))l=n[r],l>=0&&(t[l].major=!0);return t}(e,s,o,n):s}class Nn extends Pe{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),o=this._adapter=new F._date(e.adapters.date);(0,s.a6)(n.displayFormats,o.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:On(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this,t=e.options,n=e._adapter,o=t.time.unit||"day";let{min:a,max:i,minDefined:r,maxDefined:l}=e.getUserBounds();function c(e){r||isNaN(e.min)||(a=Math.min(a,e.min)),l||isNaN(e.max)||(i=Math.max(i,e.max))}r&&l||(c(e._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||c(e.getMinMax(!1))),a=(0,s.g)(a)&&!isNaN(a)?a:+n.startOf(Date.now(),o),i=(0,s.g)(i)&&!isNaN(i)?i:+n.endOf(Date.now(),o)+1,e.min=Math.min(a,i-1),e.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this,t=e.options,n=t.time,o=t.ticks,a="labels"===o.source?e.getLabelTimestamps():e._generate();"ticks"===t.bounds&&a.length&&(e.min=e._userMin||a[0],e.max=e._userMax||a[a.length-1]);const i=e.min,r=e.max,l=(0,s.aF)(a,i,r);return e._unit=n.unit||(o.autoSkip?Mn(n.minUnit,e.min,e.max,e._getLabelCapacity(i)):function(e,t,n,s,o){for(let a=jn.length-1;a>=jn.indexOf(n);a--){const n=jn[a];if(kn[n].common&&e._adapter.diff(o,s,n)>=t-1)return n}return jn[n?jn.indexOf(n):0]}(e,l.length,n.minUnit,e.min,e.max)),e._majorUnit=o.major.enabled&&"year"!==e._unit?function(e){for(let t=jn.indexOf(e)+1,n=jn.length;t<n;++t)if(kn[jn[t]].common)return jn[t]}(e._unit):void 0,e.initOffsets(a),t.reverse&&l.reverse(),Ln(e,l,e._majorUnit)}initOffsets(e){const t=this;let n,o,a=0,i=0;t.options.offset&&e.length&&(n=t.getDecimalForValue(e[0]),a=1===e.length?1-n:(t.getDecimalForValue(e[1])-n)/2,o=t.getDecimalForValue(e[e.length-1]),i=1===e.length?o:(o-t.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;a=(0,s.x)(a,0,r),i=(0,s.x)(i,0,r),t._offsets={start:a,end:i,factor:1/(a+1+i)}}_generate(){const e=this,t=e._adapter,n=e.min,o=e.max,a=e.options,i=a.time,r=i.unit||Mn(i.minUnit,n,o,e._getLabelCapacity(n)),l=(0,s.v)(i.stepSize,1),c="week"===r&&i.isoWeekday,d=(0,s.w)(c)||!0===c,u={};let p,h,m=n;if(d&&(m=+t.startOf(m,"isoWeek",c)),m=+t.startOf(m,d?"day":r),t.diff(o,n,r)>1e5*l)throw new Error(n+" and "+o+" are too far apart with stepSize of "+l+" "+r);const g="data"===a.ticks.source&&e.getDataTimestamps();for(p=m,h=0;p<o;p=+t.add(p,l,r),h++)Dn(u,p,g);return p!==o&&"ticks"!==a.bounds&&1!==h||Dn(u,p,g),Object.keys(u).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,o){const a=this,i=a.options,r=i.time.displayFormats,l=a._unit,c=a._majorUnit,d=l&&r[l],u=c&&r[c],p=n[t],h=c&&u&&p&&p.major,m=a._adapter.format(e,o||(h?u:d)),g=i.ticks.callback;return g?(0,s.N)(g,[m,t,n],a):m}generateTickLabels(e){let t,n,s;for(t=0,n=e.length;t<n;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){const t=this;return null===e?NaN:(e-t.min)/(t.max-t.min)}getPixelForValue(e){const t=this,n=t._offsets,s=t.getDecimalForValue(e);return t.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const t=this,n=t._offsets,s=t.getDecimalForPixel(e)/n.factor-n.end;return t.min+s*(t.max-t.min)}_getLabelSize(e){const t=this,n=t.options.ticks,o=t.ctx.measureText(e).width,a=(0,s.t)(t.isHorizontal()?n.maxRotation:n.minRotation),i=Math.cos(a),r=Math.sin(a),l=t._resolveTickFontOptions(0).size;return{w:o*i+l*r,h:o*r+l*i}}_getLabelCapacity(e){const t=this,n=t.options.time,s=n.displayFormats,o=s[n.unit]||s.millisecond,a=t._tickFormatFunction(e,0,Ln(t,[e],t._majorUnit),o),i=t._getLabelSize(a),r=Math.floor(t.isHorizontal()?t.width/i.w:t.height/i.h)-1;return r>0?r:1}getDataTimestamps(){const e=this;let t,n,s=e._cache.data||[];if(s.length)return s;const o=e.getMatchingVisibleMetas();if(e._normalized&&o.length)return e._cache.data=o[0].controller.getAllParsedValues(e);for(t=0,n=o.length;t<n;++t)s=s.concat(o[t].controller.getAllParsedValues(e));return e._cache.data=e.normalize(s)}getLabelTimestamps(){const e=this,t=e._cache.labels||[];let n,s;if(t.length)return t;const o=e.getLabels();for(n=0,s=o.length;n<s;++n)t.push(On(e,o[n]));return e._cache.labels=e._normalized?t:e.normalize(t)}normalize(e){return(0,s._)(e.sort(Rn))}}function Fn(e,t,n){let o,a,i,r;if(n)o=Math.floor(t),a=Math.ceil(t),i=e[o],r=e[a];else{const n=(0,s.aG)(e,t);i=n.lo,r=n.hi,o=e[i],a=e[r]}const l=a-o;return l?i+(r-i)*(t-o)/l:i}Nn.id="time",Nn.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class zn extends Nn{constructor(e){super(e),this._table=[],this._maxIndex=void 0}initOffsets(){const e=this,t=e._getTimestampsForTable();e._table=e.buildLookupTable(t),e._maxIndex=e._table.length-1,super.initOffsets(t)}buildLookupTable(e){const{min:t,max:n}=this;if(!e.length)return[{time:t,pos:0},{time:n,pos:1}];const s=[t];let o,a,i;for(o=0,a=e.length;o<a;++o)i=e[o],i>t&&i<n&&s.push(i);return s.push(n),s}_getTimestampsForTable(){const e=this;let t=e._cache.all||[];if(t.length)return t;const n=e.getDataTimestamps(),s=e.getLabelTimestamps();return t=n.length&&s.length?e.normalize(n.concat(s)):n.length?n:s,t=e._cache.all=t,t}getPixelForValue(e,t){const n=this,o=n._offsets,a=n._normalized&&n._maxIndex>0&&!(0,s.j)(t)?t/n._maxIndex:n.getDecimalForValue(e);return n.getPixelForDecimal((o.start+a)*o.factor)}getDecimalForValue(e){return Fn(this._table,e)/this._maxIndex}getValueForPixel(e){const t=this,n=t._offsets,s=t.getDecimalForPixel(e)/n.factor-n.end;return Fn(t._table,s*this._maxIndex,!0)}}zn.id="timeseries",zn.defaults=Nn.defaults;var Bn=Object.freeze({__proto__:null,CategoryScale:yn,LinearScale:Sn,LogarithmicScale:vn,RadialLinearScale:Pn,TimeScale:Nn,TimeSeriesScale:zn});const Vn=[D,Pt,gn,Bn]},"./node_modules/chart.js/dist/chunks/helpers.segment.js":function(e,t,n){n.r(t),n.d(t,{$:function(){return T},A:function(){return at},B:function(){return wt},C:function(){return bt},D:function(){return v},E:function(){return on},F:function(){return Xt},G:function(){return ln},H:function(){return H},I:function(){return i},J:function(){return rn},K:function(){return q},L:function(){return $},M:function(){return y},N:function(){return _},O:function(){return _t},P:function(){return N},Q:function(){return ee},R:function(){return et},S:function(){return le},T:function(){return F},U:function(){return nt},V:function(){return dt},W:function(){return xt},X:function(){return l},Y:function(){return c},Z:function(){return $e},_:function(){return Pt},a:function(){return St},a0:function(){return O},a1:function(){return Ke},a2:function(){return D},a3:function(){return jt},a4:function(){return kt},a5:function(){return Rt},a6:function(){return A},a7:function(){return p},a8:function(){return r},a9:function(){return an},aA:function(){return Y},aB:function(){return Q},aC:function(){return X},aD:function(){return te},aE:function(){return tt},aF:function(){return It},aG:function(){return vt},aH:function(){return Ye},aI:function(){return w},aJ:function(){return C},aK:function(){return P},aL:function(){return k},aM:function(){return Je},aN:function(){return Gt},aO:function(){return Yt},aP:function(){return Jt},aQ:function(){return o},aR:function(){return mt},aS:function(){return z},aT:function(){return B},aU:function(){return V},aV:function(){return W},aW:function(){return U},aX:function(){return oe},aa:function(){return st},ab:function(){return L},ac:function(){return E},ad:function(){return ne},ae:function(){return gt},af:function(){return Kt},ag:function(){return _n},ah:function(){return Sn},ai:function(){return dn},aj:function(){return un},ak:function(){return cn},al:function(){return lt},am:function(){return ct},an:function(){return ot},ao:function(){return ut},ap:function(){return ft},aq:function(){return yt},ar:function(){return xn},as:function(){return ae},at:function(){return mn},au:function(){return gn},av:function(){return d},aw:function(){return fn},ax:function(){return u},ay:function(){return se},az:function(){return Z},b:function(){return m},c:function(){return Ge},d:function(){return Ze},e:function(){return pe},f:function(){return R},g:function(){return f},h:function(){return M},i:function(){return g},j:function(){return h},k:function(){return it},l:function(){return Tt},m:function(){return rt},n:function(){return x},o:function(){return S},p:function(){return hn},q:function(){return ie},r:function(){return a},s:function(){return G},t:function(){return J},u:function(){return At},v:function(){return b},w:function(){return K},x:function(){return re},y:function(){return Et},z:function(){return nn}});var s=n("../../node_modules/console-browserify/index.js");function o(e,t,n){return t+" "+e+"px "+n}const a="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function i(e,t,n){const s=n||(e=>Array.prototype.slice.call(e));let o=!1,i=[];return function(...n){i=s(n),o||(o=!0,a.call(window,(()=>{o=!1,e.apply(t,i)})))}}function r(e,t){let n;return function(){return t?(clearTimeout(n),n=setTimeout(e,t)):e(),t}}const l=e=>"start"===e?"left":"end"===e?"right":"center",c=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2,d=(e,t,n)=>"right"===e?n:"center"===e?(t+n)/2:t;function u(){}const p=function(){let e=0;return function(){return e++}}();function h(e){return null==e}function m(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function g(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const f=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function y(e,t){return f(e)?e:t}function b(e,t){return void 0===e?t:e}const x=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t,S=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function _(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function v(e,t,n,s){let o,a,i;if(m(e))if(a=e.length,s)for(o=a-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<a;o++)t.call(n,e[o],o);else if(g(e))for(i=Object.keys(e),a=i.length,o=0;o<a;o++)t.call(n,e[i[o]],i[o])}function E(e,t){let n,s,o,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(o=e[n],a=t[n],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function w(e){if(m(e))return e.map(w);if(g(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let o=0;for(;o<s;++o)t[n[o]]=w(e[n[o]]);return t}return e}function I(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function C(e,t,n,s){if(!I(e))return;const o=t[e],a=n[e];g(o)&&g(a)?T(o,a,s):t[e]=w(a)}function T(e,t,n){const s=m(t)?t:[t],o=s.length;if(!g(e))return e;const a=(n=n||{}).merger||C;for(let i=0;i<o;++i){if(!g(t=s[i]))continue;const o=Object.keys(t);for(let s=0,i=o.length;s<i;++s)a(o[s],e,t,n)}return e}function A(e,t){return T(e,t,{merger:P})}function P(e,t,n){if(!I(e))return;const s=t[e],o=n[e];g(s)&&g(o)?A(s,o):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=w(o))}function k(e,t,n,o){void 0!==t&&s.warn(e+': "'+n+'" is deprecated. Please use "'+o+'" instead')}function j(e,t){const n=e.indexOf(".",t);return-1===n?e.length:n}function R(e,t){if(""===t)return e;let n=0,s=j(t,n);for(;e&&s>n;)e=e[t.substr(n,s-n)],n=s+1,s=j(t,n);return e}function O(e){return e.charAt(0).toUpperCase()+e.slice(1)}const M=e=>void 0!==e,D=e=>"function"==typeof e,L=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},N=Math.PI,F=2*N,z=F+N,B=Number.POSITIVE_INFINITY,V=N/180,H=N/2,W=N/4,U=2*N/3,q=Math.log10,G=Math.sign;function Y(e){const t=Math.pow(10,Math.floor(q(e))),n=e/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function $(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s==0&&(t.push(s),t.push(e/s));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}function K(e){return!isNaN(parseFloat(e))&&isFinite(e)}function X(e,t,n){return Math.abs(e-t)<n}function Q(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function Z(e,t,n){let s,o,a;for(s=0,o=e.length;s<o;s++)a=e[s][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function J(e){return e*(N/180)}function ee(e){return e*(180/N)}function te(e){if(!f(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function ne(e,t){const n=t.x-e.x,s=t.y-e.y,o=Math.sqrt(n*n+s*s);let a=Math.atan2(s,n);return a<-.5*N&&(a+=F),{angle:a,distance:o}}function se(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function oe(e,t){return(e-t+z)%F-N}function ae(e){return(e%F+F)%F}function ie(e,t,n,s){const o=ae(e),a=ae(t),i=ae(n),r=ae(a-o),l=ae(i-o),c=ae(o-a),d=ae(o-i);return o===a||o===i||s&&a===i||r>l&&c<d}function re(e,t,n){return Math.max(t,Math.min(n,e))}function le(e){return re(e,-32768,32767)}const ce=e=>0===e||1===e,de=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*F/n),ue=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*F/n)+1,pe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*H),easeOutSine:e=>Math.sin(e*H),easeInOutSine:e=>-.5*(Math.cos(N*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ce(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ce(e)?e:de(e,.075,.3),easeOutElastic:e=>ce(e)?e:ue(e,.075,.3),easeInOutElastic(e){const t=.1125;return ce(e)?e:e<.5?.5*de(2*e,t,.45):.5+.5*ue(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-pe.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*pe.easeInBounce(2*e):.5*pe.easeOutBounce(2*e-1)+.5},he={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},me="0123456789ABCDEF",ge=e=>me[15&e],fe=e=>me[(240&e)>>4]+me[15&e],ye=e=>(240&e)>>4==(15&e);function be(e){var t=function(e){return ye(e.r)&&ye(e.g)&&ye(e.b)&&ye(e.a)}(e)?ge:fe;return e?"#"+t(e.r)+t(e.g)+t(e.b)+(e.a<255?t(e.a):""):e}function xe(e){return e+.5|0}const Se=(e,t,n)=>Math.max(Math.min(e,n),t);function _e(e){return Se(xe(2.55*e),0,255)}function ve(e){return Se(xe(255*e),0,255)}function Ee(e){return Se(xe(e/2.55)/100,0,1)}function we(e){return Se(xe(100*e),0,100)}const Ie=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Ce=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Te(e,t,n){const s=t*Math.min(n,1-n),o=(t,o=(t+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[o(0),o(8),o(4)]}function Ae(e,t,n){const s=(s,o=(s+e/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[s(5),s(3),s(1)]}function Pe(e,t,n){const s=Te(e,1,.5);let o;for(t+n>1&&(o=1/(t+n),t*=o,n*=o),o=0;o<3;o++)s[o]*=1-t-n,s[o]+=t;return s}function ke(e){const t=e.r/255,n=e.g/255,s=e.b/255,o=Math.max(t,n,s),a=Math.min(t,n,s),i=(o+a)/2;let r,l,c;return o!==a&&(c=o-a,l=i>.5?c/(2-o-a):c/(o+a),r=o===t?(n-s)/c+(n<s?6:0):o===n?(s-t)/c+2:(t-n)/c+4,r=60*r+.5),[0|r,l||0,i]}function je(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(ve)}function Re(e,t,n){return je(Te,e,t,n)}function Oe(e){return(e%360+360)%360}function Me(e){const t=Ce.exec(e);let n,s=255;if(!t)return;t[5]!==n&&(s=t[6]?_e(+t[5]):ve(+t[5]));const o=Oe(+t[2]),a=+t[3]/100,i=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return je(Pe,e,t,n)}(o,a,i):"hsv"===t[1]?function(e,t,n){return je(Ae,e,t,n)}(o,a,i):Re(o,a,i),{r:n[0],g:n[1],b:n[2],a:s}}const De={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Le={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ne;function Fe(e){Ne||(Ne=function(){const e={},t=Object.keys(Le),n=Object.keys(De);let s,o,a,i,r;for(s=0;s<t.length;s++){for(i=r=t[s],o=0;o<n.length;o++)a=n[o],r=r.replace(a,De[a]);a=parseInt(Le[i],16),e[r]=[a>>16&255,a>>8&255,255&a]}return e}(),Ne.transparent=[0,0,0,0]);const t=Ne[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}function ze(e,t,n){if(e){let s=ke(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,0===t?360:1)),s=Re(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Be(e,t){return e?Object.assign(t||{},e):e}function Ve(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ve(e[3]))):(t=Be(e,{r:0,g:0,b:0,a:1})).a=ve(t.a),t}function He(e){return"r"===e.charAt(0)?function(e){const t=Ie.exec(e);let n,s,o,a=255;if(t){if(t[7]!==n){const e=+t[7];a=255&(t[8]?_e(e):255*e)}return n=+t[1],s=+t[3],o=+t[5],n=255&(t[2]?_e(n):n),s=255&(t[4]?_e(s):s),o=255&(t[6]?_e(o):o),{r:n,g:s,b:o,a:a}}}(e):Me(e)}class We{constructor(e){if(e instanceof We)return e;const t=typeof e;let n;var s,o,a;"object"===t?n=Ve(e):"string"===t&&(a=(s=e).length,"#"===s[0]&&(4===a||5===a?o={r:255&17*he[s[1]],g:255&17*he[s[2]],b:255&17*he[s[3]],a:5===a?17*he[s[4]]:255}:7!==a&&9!==a||(o={r:he[s[1]]<<4|he[s[2]],g:he[s[3]]<<4|he[s[4]],b:he[s[5]]<<4|he[s[6]],a:9===a?he[s[7]]<<4|he[s[8]]:255})),n=o||Fe(e)||He(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Be(this._rgb);return e&&(e.a=Ee(e.a)),e}set rgb(e){this._rgb=Ve(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ee(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):this._rgb;var e}hexString(){return this._valid?be(this._rgb):this._rgb}hslString(){return this._valid?function(e){if(!e)return;const t=ke(e),n=t[0],s=we(t[1]),o=we(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${o}%, ${Ee(e.a)})`:`hsl(${n}, ${s}%, ${o}%)`}(this._rgb):this._rgb}mix(e,t){const n=this;if(e){const s=n.rgb,o=e.rgb;let a;const i=t===a?.5:t,r=2*i-1,l=s.a-o.a,c=((r*l==-1?r:(r+l)/(1+r*l))+1)/2;a=1-c,s.r=255&c*s.r+a*o.r+.5,s.g=255&c*s.g+a*o.g+.5,s.b=255&c*s.b+a*o.b+.5,s.a=i*s.a+(1-i)*o.a,n.rgb=s}return n}clone(){return new We(this.rgb)}alpha(e){return this._rgb.a=ve(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=xe(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ze(this._rgb,2,e),this}darken(e){return ze(this._rgb,2,-e),this}saturate(e){return ze(this._rgb,1,e),this}desaturate(e){return ze(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=ke(e);n[0]=Oe(n[0]+t),n=Re(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Ue(e){return new We(e)}const qe=e=>e instanceof CanvasGradient||e instanceof CanvasPattern;function Ge(e){return qe(e)?e:Ue(e)}function Ye(e){return qe(e)?e:Ue(e).saturate(.5).darken(.1).hexString()}const $e=Object.create(null),Ke=Object.create(null);function Xe(e,t){if(!t)return e;const n=t.split(".");for(let t=0,s=n.length;t<s;++t){const s=n[t];e=e[s]||(e[s]=Object.create(null))}return e}function Qe(e,t,n){return"string"==typeof t?T(Xe(e,t),n):T(Xe(e,""),t)}var Ze=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Ye(t.backgroundColor),this.hoverBorderColor=(e,t)=>Ye(t.borderColor),this.hoverColor=(e,t)=>Ye(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}set(e,t){return Qe(this,e,t)}get(e){return Xe(this,e)}describe(e,t){return Qe(Ke,e,t)}override(e,t){return Qe($e,e,t)}route(e,t,n,s){const o=Xe(this,e),a=Xe(this,n),i="_"+t;Object.defineProperties(o,{[i]:{value:o[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=a[s];return g(e)?Object.assign({},t,e):b(e,t)},set(e){this[i]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Je(e){return!e||h(e.size)||h(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function et(e,t,n,s,o){let a=t[o];return a||(a=t[o]=e.measureText(o).width,n.push(o)),a>s&&(s=a),s}function tt(e,t,n,s){let o=(s=s||{}).data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(o=s.data={},a=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let i=0;const r=n.length;let l,c,d,u,p;for(l=0;l<r;l++)if(u=n[l],null!=u&&!0!==m(u))i=et(e,o,a,i,u);else if(m(u))for(c=0,d=u.length;c<d;c++)p=u[c],null==p||m(p)||(i=et(e,o,a,i,p));e.restore();const h=a.length/2;if(h>n.length){for(l=0;l<h;l++)delete o[a[l]];a.splice(0,h)}return i}function nt(e,t,n){const s=e.currentDevicePixelRatio,o=0!==n?Math.max(n/2,.5):0;return Math.round((t-o)*s)/s+o}function st(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function ot(e,t,n,s){let o,a,i,r,l;const c=t.pointStyle,d=t.rotation,u=t.radius;let p=(d||0)*V;if(c&&"object"==typeof c&&(o=c.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,s),e.rotate(p),e.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void e.restore();if(!(isNaN(u)||u<=0)){switch(e.beginPath(),c){default:e.arc(n,s,u,0,F),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(p)*u,s-Math.cos(p)*u),p+=U,e.lineTo(n+Math.sin(p)*u,s-Math.cos(p)*u),p+=U,e.lineTo(n+Math.sin(p)*u,s-Math.cos(p)*u),e.closePath();break;case"rectRounded":l=.516*u,r=u-l,a=Math.cos(p+W)*r,i=Math.sin(p+W)*r,e.arc(n-a,s-i,l,p-N,p-H),e.arc(n+i,s-a,l,p-H,p),e.arc(n+a,s+i,l,p,p+H),e.arc(n-i,s+a,l,p+H,p+N),e.closePath();break;case"rect":if(!d){r=Math.SQRT1_2*u,e.rect(n-r,s-r,2*r,2*r);break}p+=W;case"rectRot":a=Math.cos(p)*u,i=Math.sin(p)*u,e.moveTo(n-a,s-i),e.lineTo(n+i,s-a),e.lineTo(n+a,s+i),e.lineTo(n-i,s+a),e.closePath();break;case"crossRot":p+=W;case"cross":a=Math.cos(p)*u,i=Math.sin(p)*u,e.moveTo(n-a,s-i),e.lineTo(n+a,s+i),e.moveTo(n+i,s-a),e.lineTo(n-i,s+a);break;case"star":a=Math.cos(p)*u,i=Math.sin(p)*u,e.moveTo(n-a,s-i),e.lineTo(n+a,s+i),e.moveTo(n+i,s-a),e.lineTo(n-i,s+a),p+=W,a=Math.cos(p)*u,i=Math.sin(p)*u,e.moveTo(n-a,s-i),e.lineTo(n+a,s+i),e.moveTo(n+i,s-a),e.lineTo(n-i,s+a);break;case"line":a=Math.cos(p)*u,i=Math.sin(p)*u,e.moveTo(n-a,s-i),e.lineTo(n+a,s+i);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(p)*u,s+Math.sin(p)*u)}e.fill(),t.borderWidth>0&&e.stroke()}}function at(e,t,n){return n=n||.5,e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function it(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function rt(e){e.restore()}function lt(e,t,n,s,o){if(!t)return e.lineTo(n.x,n.y);if("middle"===o){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else"after"===o!=!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function ct(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function dt(e,t,n,s,o,a={}){const i=m(t)?t:[t],r=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),a.translation&&e.translate(a.translation[0],a.translation[1]),h(a.rotation)||e.rotate(a.rotation),e.font=o.string,a.color&&(e.fillStyle=a.color),a.textAlign&&(e.textAlign=a.textAlign),a.textBaseline&&(e.textBaseline=a.textBaseline),l=0;l<i.length;++l){if(c=i[l],r&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),h(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,s,a.maxWidth)),e.fillText(c,n,s,a.maxWidth),a.strikethrough||a.underline){const t=e.measureText(c),o=n-t.actualBoundingBoxLeft,i=n+t.actualBoundingBoxRight,r=s-t.actualBoundingBoxAscent,l=s+t.actualBoundingBoxDescent,d=a.strikethrough?(r+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(o,d),e.lineTo(i,d),e.stroke()}s+=o.lineHeight}e.restore()}function ut(e,t){const{x:n,y:s,w:o,h:a,radius:i}=t;e.arc(n+i.topLeft,s+i.topLeft,i.topLeft,-H,N,!0),e.lineTo(n,s+a-i.bottomLeft),e.arc(n+i.bottomLeft,s+a-i.bottomLeft,i.bottomLeft,N,H,!0),e.lineTo(n+o-i.bottomRight,s+a),e.arc(n+o-i.bottomRight,s+a-i.bottomRight,i.bottomRight,H,0,!0),e.lineTo(n+o,s+i.topRight),e.arc(n+o-i.topRight,s+i.topRight,i.topRight,0,-H,!0),e.lineTo(n+i.topLeft,s)}const pt=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ht=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function mt(e,t){const n=(""+e).match(pt);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function gt(e,t){const n={},s=g(t),o=s?Object.keys(t):t,a=g(e)?s?n=>b(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of o)n[e]=+a(e)||0;return n}function ft(e){return gt(e,{top:"y",right:"x",bottom:"y",left:"x"})}function yt(e){return gt(e,["topLeft","topRight","bottomLeft","bottomRight"])}function bt(e){const t=ft(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xt(e,t){e=e||{},t=t||Ze.font;let n=b(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let o=b(e.style,t.style);o&&!(""+o).match(ht)&&(s.warn('Invalid font style specified: "'+o+'"'),o="");const a={family:b(e.family,t.family),lineHeight:mt(b(e.lineHeight,t.lineHeight),n),size:n,style:o,weight:b(e.weight,t.weight),string:""};return a.string=Je(a),a}function St(e,t,n,s){let o,a,i,r=!0;for(o=0,a=e.length;o<a;++o)if(i=e[o],void 0!==i&&(void 0!==t&&"function"==typeof i&&(i=i(t),r=!1),void 0!==n&&m(i)&&(i=i[n%i.length],r=!1),void 0!==i))return s&&!r&&(s.cacheable=!1),i}function _t(e,t){const{min:n,max:s}=e;return{min:n-Math.abs(S(t,n)),max:s+S(t,s)}}function vt(e,t,n){n=n||(n=>e[n]<t);let s,o=e.length-1,a=0;for(;o-a>1;)s=a+o>>1,n(s)?a=s:o=s;return{lo:a,hi:o}}const Et=(e,t,n)=>vt(e,n,(s=>e[s][t]<n)),wt=(e,t,n)=>vt(e,n,(s=>e[s][t]>=n));function It(e,t,n){let s=0,o=e.length;for(;s<o&&e[s]<t;)s++;for(;o>s&&e[o-1]>n;)o--;return s>0||o<e.length?e.slice(s,o):e}const Ct=["push","pop","shift","splice","unshift"];function Tt(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ct.forEach((t=>{const n="_onData"+O(t),s=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const o=s.apply(this,t);return e._chartjs.listeners.forEach((e=>{"function"==typeof e[n]&&e[n](...t)})),o}})})))}function At(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,o=s.indexOf(t);-1!==o&&s.splice(o,1),s.length>0||(Ct.forEach((t=>{delete e[t]})),delete e._chartjs)}function Pt(e){const t=new Set;let n,s;for(n=0,s=e.length;n<s;++n)t.add(e[n]);if(t.size===s)return e;const o=[];return t.forEach((e=>{o.push(e)})),o}function kt(e,t=[""],n=e,s,o=(()=>e[0])){M(s)||(s=Vt("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:s,_getTarget:o,override:o=>kt([o,...e],t,n,s)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,s)=>Dt(n,s,(()=>function(e,t,n,s){let o;for(const a of t)if(o=Vt(Ot(a,e),n),M(o))return Mt(e,o)?zt(n,s,e,o):o}(s,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Ht(e).includes(t),ownKeys:e=>Ht(e),set:(e,t,n)=>((e._storage||(e._storage=o()))[t]=n,delete e[t],delete e._keys,!0)})}function jt(e,t,n,s){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Rt(e,s),setContext:t=>jt(e,t,n,s),override:o=>jt(e.override(o),t,n,s)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Dt(e,t,(()=>function(e,t,n){const{_proxy:s,_context:o,_subProxy:a,_descriptors:i}=e;let r=s[t];D(r)&&i.isScriptable(t)&&(r=function(e,t,n,s){const{_proxy:o,_context:a,_subProxy:i,_stack:r}=n;if(r.has(e))throw new Error("Recursion detected: "+[...r].join("->")+"->"+e);r.add(e),t=t(a,i||s),r.delete(e),g(t)&&(t=zt(o._scopes,o,e,t));return t}(t,r,e,n));m(r)&&r.length&&(r=function(e,t,n,s){const{_proxy:o,_context:a,_subProxy:i,_descriptors:r}=n;if(M(a.index)&&s(e))t=t[a.index%t.length];else if(g(t[0])){const n=t,s=o._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=zt(s,o,e,l);t.push(jt(n,a,i&&i[e],r))}}return t}(t,r,e,i.isIndexable));Mt(t,r)&&(r=jt(r,o,a&&a[t],i));return r}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,s)=>(e[n]=s,delete t[n],!0)})}function Rt(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:o=t.allKeys}=e;return{allKeys:o,scriptable:n,indexable:s,isScriptable:D(n)?n:()=>n,isIndexable:D(s)?s:()=>s}}const Ot=(e,t)=>e?e+O(t):t,Mt=(e,t)=>g(t)&&"adapters"!==e;function Dt(e,t,n){let s=e[t];return M(s)||(s=n(),M(s)&&(e[t]=s)),s}function Lt(e,t,n){return D(e)?e(t,n):e}const Nt=(e,t)=>!0===e?t:"string"==typeof e?R(t,e):void 0;function Ft(e,t,n,s){for(const o of t){const t=Nt(n,o);if(t){e.add(t);const o=Lt(t._fallback,n,t);if(M(o)&&o!==n&&o!==s)return o}else if(!1===t&&M(s)&&n!==s)return null}return!1}function zt(e,t,n,s){const o=t._rootScopes,a=Lt(t._fallback,n,s),i=[...e,...o],r=new Set;r.add(s);let l=Bt(r,i,n,a||n);return null!==l&&((!M(a)||a===n||(l=Bt(r,i,a,l),null!==l))&&kt([...r],[""],o,a,(()=>function(e,t,n){const s=e._getTarget();t in s||(s[t]={});const o=s[t];if(m(o)&&g(n))return n;return o}(t,n,s))))}function Bt(e,t,n,s){for(;n;)n=Ft(e,t,n,s);return n}function Vt(e,t){for(const n of t){if(!n)continue;const t=n[e];if(M(t))return t}}function Ht(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return[...t]}(e._scopes)),t}const Wt=Number.EPSILON||1e-14,Ut=(e,t)=>t<e.length&&!e[t].skip&&e[t],qt=e=>"x"===e?"y":"x";function Gt(e,t,n,s){const o=e.skip?t:e,a=t,i=n.skip?t:n,r=se(a,o),l=se(i,a);let c=r/(r+l),d=l/(r+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=s*c,p=s*d;return{previous:{x:a.x-u*(i.x-o.x),y:a.y-u*(i.y-o.y)},next:{x:a.x+p*(i.x-o.x),y:a.y+p*(i.y-o.y)}}}function Yt(e,t="x"){const n=qt(t),s=e.length,o=Array(s).fill(0),a=Array(s);let i,r,l,c=Ut(e,0);for(i=0;i<s;++i)if(r=l,l=c,c=Ut(e,i+1),l){if(c){const e=c[t]-l[t];o[i]=0!==e?(c[n]-l[n])/e:0}a[i]=r?c?G(o[i-1])!==G(o[i])?0:(o[i-1]+o[i])/2:o[i-1]:o[i]}!function(e,t,n){const s=e.length;let o,a,i,r,l,c=Ut(e,0);for(let d=0;d<s-1;++d)l=c,c=Ut(e,d+1),l&&c&&(X(t[d],0,Wt)?n[d]=n[d+1]=0:(o=n[d]/t[d],a=n[d+1]/t[d],r=Math.pow(o,2)+Math.pow(a,2),r<=9||(i=3/Math.sqrt(r),n[d]=o*i*t[d],n[d+1]=a*i*t[d])))}(e,o,a),function(e,t,n="x"){const s=qt(n),o=e.length;let a,i,r,l=Ut(e,0);for(let c=0;c<o;++c){if(i=r,r=l,l=Ut(e,c+1),!r)continue;const o=r[n],d=r[s];i&&(a=(o-i[n])/3,r[`cp1${n}`]=o-a,r[`cp1${s}`]=d-a*t[c]),l&&(a=(l[n]-o)/3,r[`cp2${n}`]=o+a,r[`cp2${s}`]=d+a*t[c])}}(e,a,t)}function $t(e,t,n){return Math.max(Math.min(e,n),t)}function Kt(e,t,n,s,o){let a,i,r,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Yt(e,o);else{let n=s?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)r=e[a],l=Gt(n,r,e[Math.min(a+1,i-(s?0:1))%i],t.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,n=r}t.capBezierPoints&&function(e,t){let n,s,o,a,i,r=at(e[0],t);for(n=0,s=e.length;n<s;++n)i=a,a=r,r=n<s-1&&at(e[n+1],t),a&&(o=e[n],i&&(o.cp1x=$t(o.cp1x,t.left,t.right),o.cp1y=$t(o.cp1y,t.top,t.bottom)),r&&(o.cp2x=$t(o.cp2x,t.left,t.right),o.cp2y=$t(o.cp2y,t.top,t.bottom)))}(e,n)}function Xt(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Qt(e,t,n){let s;return"string"==typeof e?(s=parseInt(e,10),-1!==e.indexOf("%")&&(s=s/100*t.parentNode[n])):s=e,s}const Zt=e=>window.getComputedStyle(e,null);function Jt(e,t){return Zt(e).getPropertyValue(t)}const en=["top","right","bottom","left"];function tn(e,t,n){const s={};n=n?"-"+n:"";for(let o=0;o<4;o++){const a=en[o];s[a]=parseFloat(e[t+"-"+a+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function nn(e,t){const{canvas:n,currentDevicePixelRatio:s}=t,o=Zt(n),a="border-box"===o.boxSizing,i=tn(o,"padding"),r=tn(o,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.native||e,s=n.touches,o=s&&s.length?s[0]:n,{offsetX:a,offsetY:i}=o;let r,l,c=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(a,i,n.target))r=a,l=i;else{const e=t.getBoundingClientRect();r=o.clientX-e.left,l=o.clientY-e.top,c=!0}return{x:r,y:l,box:c}}(e,n),u=i.left+(d&&r.left),p=i.top+(d&&r.top);let{width:h,height:m}=t;return a&&(h-=i.width+r.width,m-=i.height+r.height),{x:Math.round((l-u)/h*n.width/s),y:Math.round((c-p)/m*n.height/s)}}const sn=e=>Math.round(10*e)/10;function on(e,t,n,s){const o=Zt(e),a=tn(o,"margin"),i=Qt(o.maxWidth,e,"clientWidth")||B,r=Qt(o.maxHeight,e,"clientHeight")||B,l=function(e,t,n){let s,o;if(void 0===t||void 0===n){const a=Xt(e);if(a){const e=a.getBoundingClientRect(),i=Zt(a),r=tn(i,"border","width"),l=tn(i,"padding");t=e.width-l.width-r.width,n=e.height-l.height-r.height,s=Qt(i.maxWidth,a,"clientWidth"),o=Qt(i.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:s||B,maxHeight:o||B}}(e,t,n);let{width:c,height:d}=l;if("content-box"===o.boxSizing){const e=tn(o,"border","width"),t=tn(o,"padding");c-=t.width+e.width,d-=t.height+e.height}return c=Math.max(0,c-a.width),d=Math.max(0,s?Math.floor(c/s):d-a.height),c=sn(Math.min(c,i,l.maxWidth)),d=sn(Math.min(d,r,l.maxHeight)),c&&!d&&(d=sn(c/2)),{width:c,height:d}}function an(e,t,n){const s=t||1,o=Math.floor(e.height*s),a=Math.floor(e.width*s);e.height=o/s,e.width=a/s;const i=e.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height=`${e.height}px`,i.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==s||i.height!==o||i.width!==a)&&(e.currentDevicePixelRatio=s,i.height=o,i.width=a,e.ctx.setTransform(s,0,0,s,0,0),!0)}const rn=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function ln(e,t){const n=Jt(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function cn(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function dn(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:"middle"===s?n<.5?e.y:t.y:"after"===s?n<1?e.y:t.y:n>0?t.y:e.y}}function un(e,t,n,s){const o={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=cn(e,o,n),r=cn(o,a,n),l=cn(a,t,n),c=cn(i,r,n),d=cn(r,l,n);return cn(c,d,n)}const pn=new Map;function hn(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let s=pn.get(n);return s||(s=new Intl.NumberFormat(e,t),pn.set(n,s)),s}(t,n).format(e)}function mn(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function gn(e,t){let n,s;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function fn(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function yn(e){return"angle"===e?{between:ie,compare:oe,normalize:ae}:{between:(e,t,n)=>e>=Math.min(t,n)&&e<=Math.max(n,t),compare:(e,t)=>e-t,normalize:e=>e}}function bn({start:e,end:t,count:n,loop:s,style:o}){return{start:e%n,end:t%n,loop:s&&(t-e+1)%n==0,style:o}}function xn(e,t,n){if(!n)return[e];const{property:s,start:o,end:a}=n,i=t.length,{compare:r,between:l,normalize:c}=yn(s),{start:d,end:u,loop:p,style:h}=function(e,t,n){const{property:s,start:o,end:a}=n,{between:i,normalize:r}=yn(s),l=t.length;let c,d,{start:u,end:p,loop:h}=e;if(h){for(u+=l,p+=l,c=0,d=l;c<d&&i(r(t[u%l][s]),o,a);++c)u--,p--;u%=l,p%=l}return p<u&&(p+=l),{start:u,end:p,loop:h,style:e.style}}(e,t,n),m=[];let g,f,y,b=!1,x=null;const S=()=>b||l(o,y,g)&&0!==r(o,y),_=()=>!b||0===r(a,g)||l(a,y,g);for(let e=d,n=d;e<=u;++e)f=t[e%i],f.skip||(g=c(f[s]),g!==y&&(b=l(g,o,a),null===x&&S()&&(x=0===r(g,o)?e:n),null!==x&&_()&&(m.push(bn({start:x,end:e,loop:p,count:i,style:h})),x=null),n=e,y=g));return null!==x&&m.push(bn({start:x,end:u,loop:p,count:i,style:h})),m}function Sn(e,t){const n=[],s=e.segments;for(let o=0;o<s.length;o++){const a=xn(s[o],e.points,t);a.length&&n.push(...a)}return n}function _n(e,t){const n=e.points,s=e.options.spanGaps,o=n.length;if(!o)return[];const a=!!e._loop,{start:i,end:r}=function(e,t,n,s){let o=0,a=t-1;if(n&&!s)for(;o<t&&!e[o].skip;)o++;for(;o<t&&e[o].skip;)o++;for(o%=t,n&&(a+=o);a>o&&e[a%t].skip;)a--;return a%=t,{start:o,end:a}}(n,o,a,s);if(!0===s)return vn([{start:i,end:r,loop:a}],n,t);return vn(function(e,t,n,s){const o=e.length,a=[];let i,r=t,l=e[t];for(i=t+1;i<=n;++i){const n=e[i%o];n.skip||n.stop?l.skip||(s=!1,a.push({start:t%o,end:(i-1)%o,loop:s}),t=r=n.stop?i:null):(r=i,l.skip&&(t=i)),l=n}return null!==r&&a.push({start:t%o,end:r%o,loop:s}),a}(n,i,r<i?r+o:r,!!e._fullLoop&&0===i&&r===o-1),n,t)}function vn(e,t,n){return n&&n.setContext&&t?function(e,t,n){const s=t.length,o=[];let a=e[0].start,i=a;for(const r of e){let e,l,c=t[a%s];for(i=a+1;i<=r.end;i++){const d=t[i%s];l=En(n.setContext({type:"segment",p0:c,p1:d})),wn(l,e)&&(o.push({start:a,end:i-1,loop:r.loop,style:e}),e=l,a=i-1),c=d,e=l}a<i-1&&(o.push({start:a,end:i-1,loop:r.loop,style:l}),a=i-1)}return o}(e,t,n):e}function En(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function wn(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}},"./node_modules/chartjs-adapter-moment/dist/chartjs-adapter-moment.esm.js":function(e,t,n){n.r(t);var s=n("./node_modules/moment/moment.js"),o=n.n(s),a=n("./node_modules/chart.js/dist/chart.esm.js");const i={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};a._adapters._date.override("function"==typeof o()?{_id:"moment",formats:function(){return i},parse:function(e,t){return"string"==typeof e&&"string"==typeof t?e=o()(e,t):e instanceof o()||(e=o()(e)),e.isValid()?e.valueOf():null},format:function(e,t){return o()(e).format(t)},add:function(e,t,n){return o()(e).add(t,n).valueOf()},diff:function(e,t,n){return o()(e).diff(o()(t),n)},startOf:function(e,t,n){return e=o()(e),"isoWeek"===t?(n=Math.trunc(Math.min(Math.max(0,n),6)),e.isoWeekday(n).startOf("day").valueOf()):e.startOf(t).valueOf()},endOf:function(e,t){return o()(e).endOf(t).valueOf()}}:{})}}]);