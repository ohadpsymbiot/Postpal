(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[50],{"../../node_modules/@postman/aether/esmLib/src/components/Card/Card.js":function(e,t,n){"use strict";n.r(t);var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/prop-types/index.js"),o=n.n(i),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=s.default.div.withConfig({displayName:"Card__StyledCard",componentId:"qu0gct-0"})(["background-color:",";border:",";border-radius:",";box-sizing:border-box;height:",";width:",";min-width:",";max-width:",";padding:",";&:hover{background-color:",";}cursor:",";"],(function(e){return"fill"===e.type?e.theme["background-color-secondary"]:e.theme["background-color-primary"]}),(function(e){return"outline"===e.type?"".concat(e.theme["border-width-default"]," ").concat(e.theme["border-style-solid"]," ").concat(e.theme["border-color-strong"]):"none"}),(function(e){return e.theme["border-radius-default"]}),(function(e){return e.height}),(function(e){return e.width}),(function(e){return e.minWidth}),(function(e){return e.maxWidth}),(function(e){return e.theme["spacing-xs"]}),(function(e){return e.isClickable?"fill"===e.type?e.theme["background-color-tertiary"]:e.theme["background-color-secondary"]:""}),(function(e){return e.isClickable?"pointer":"default"})),c=(0,s.default)(r.default).withConfig({displayName:"Card__StyledCardContentArea",componentId:"qu0gct-1"})(["padding:20px;"]),u=a.forwardRef((function(e,t){var n=e.type,i=e.onClick,o=e.id,s=e.cover,u=e.title,p=e.figure,m=e.tag,h=e.height,g=e.width,v=e.minWidth,f=e.maxWidth,b=e.dataTestId,w=e.children,E=s.src,y=s.position,C=void 0===y?"left":y,x=!!m&&!p;return a.createElement(d,{type:n,ref:t,height:h,width:g,minWidth:v,maxWidth:f,"data-aether-id":"aether-card","data-testid":b,isClickable:!!i,onClick:function(){i&&i(o)}},a.createElement(r.default,{direction:"top"===C?"column":"row"},E&&("left"===C||"top"===C)&&a.createElement(r.default,{justifyContent:"center",alignItems:"center",backgroundColor:"background-color-primary",padding:"spacing-l",borderRadius:"border-radius-default"},E),a.createElement(c,{coverPosition:C,gap:"spacing-s",direction:"column",shrink:1,grow:1},p&&a.createElement(r.default,{justifyContent:"space-between",wrap:"wrap"},a.createElement(r.default,{padding:{paddingBottom:"spacing-s"}},p),m),a.createElement(r.default,{direction:"column",gap:"spacing-s"},x?a.createElement(r.default,{justifyContent:"space-between",gap:"spacing-m"},u&&a.createElement(l.default,{type:"h4",text:u}),m):u&&a.createElement(l.default,{type:"h4",text:u}),w)),E&&"right"===C&&a.createElement(r.default,{justifyContent:"center",alignItems:"center",padding:"spacing-l",borderRadius:"border-radius-default",backgroundColor:"background-color-primary"},E)))}));u.defaultProps={type:"outline",onClick:null,id:"",cover:{},title:"",figure:null,tag:null,height:"max-content",width:"inherit",minWidth:"228px",maxWidth:"",dataTestId:""},u.propTypes={children:o().oneOfType([o().arrayOf(o().node),o().node]).isRequired,type:o().oneOf(["outline","fill"]),onClick:o().func,id:o().string,cover:o().shape({src:o().node,position:o().oneOf(["top","right","left"])}),title:o().string,figure:o().node,tag:o().node,height:o().string,width:o().string,minWidth:o().string,maxWidth:o().string,dataTestId:o().string},t.default=u},"./growth/activation/experiment/growth-262/PersonalizedOnboardingHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,{personalizedOnboardingHelper:function(){return p}});var a,i,o,s,r,l=n("../../node_modules/mobx/lib/mobx.module.js"),d=n("./growth/activation/experiment/growth-262/WorkspaceOverviewBannerInteractionHelper.js");function c(e,t,n,a){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}function u(e,t,n,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,a){return a(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const p=new(a=l.action.bound,o=u((i=class{constructor(){c(this,"shouldShowVideoTutorialNudge",o,this),c(this,"shouldShowLearningCenterBanner",s,this),c(this,"isHydrated",r,this)}update(e,t){this[e]=t}setIsHydrated(e){this.isHydrated=e}async hydrate(){try{await(0,d.readInteractionData)()}catch(e){pm.logger.error("Error in fetching workspace overview nudge data",e)}finally{this.setIsHydrated(!0)}}}).prototype,"shouldShowVideoTutorialNudge",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=u(i.prototype,"shouldShowLearningCenterBanner",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=u(i.prototype,"isHydrated",[l.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u(i.prototype,"update",[a],Object.getOwnPropertyDescriptor(i.prototype,"update"),i.prototype),u(i.prototype,"setIsHydrated",[l.action],Object.getOwnPropertyDescriptor(i.prototype,"setIsHydrated"),i.prototype),u(i.prototype,"hydrate",[l.action],Object.getOwnPropertyDescriptor(i.prototype,"hydrate"),i.prototype),i)},"./growth/activation/experiment/growth-262/TrendingCollectionsHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,{trendingCollectionsHelper:function(){return d}});var a,i,o=n("../../node_modules/mobx/lib/mobx.module.js"),s=n("../../packages/universe/public-network/index.js"),r=n("./node_modules/lodash/lodash.js");function l(e,t,n,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,a){return a(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const d=new(i=l((a=class{constructor(){var e,t,n,a;e=this,t="curatedLists",a=this,(n=i)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}setCuratedList(e,t){this.curatedLists[e]=t}fetchCuratedListPageEntities(e){const{slug:t}=e;return r.has(this.curatedLists,`${t}`)?this.curatedLists[t]:(0,s.fetchCuratedListPageEntities)(e).then((0,o.action)((e=>(this.setCuratedList(t,e),e)))).catch((e=>{pm.logger.error(e)}))}}).prototype,"curatedLists",[o.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l(a.prototype,"setCuratedList",[o.action],Object.getOwnPropertyDescriptor(a.prototype,"setCuratedList"),a.prototype),l(a.prototype,"fetchCuratedListPageEntities",[o.action],Object.getOwnPropertyDescriptor(a.prototype,"fetchCuratedListPageEntities"),a.prototype),a)},"./growth/activation/experiment/growth-262/WorkspaceOverviewBannerInteractionHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,{INTERACTION_EVENT_DEFAULTS:function(){return r},readInteractionData:function(){return d},writeInteractionData:function(){return c}});var a=n("./growth/foundation/public/InteractionStoreService.js"),i=n("./growth/activation/experiment/growth-262/PersonalizedOnboardingHelper.js"),o=n("./growth/activation/constants/InteractionEventConstants.ts"),s=n("./node_modules/lodash/lodash.js");const r={entityType:o.USER,resourceId:o.WORKSPACE_OVERVIEW_BANNER,resourceType:o.EXPERIMENT,multiTeam:!0};function l(e,t){i.personalizedOnboardingHelper.update(t,s.get(e,t,!1))}async function d(){const e=await(0,a.readInteractionEvent)({...r});l(e,"shouldShowVideoTutorialNudge"),l(e,"shouldShowLearningCenterBanner")}function c(){const{shouldShowVideoTutorialNudge:e,shouldShowLearningCenterBanner:t}=i.personalizedOnboardingHelper,n={shouldShowVideoTutorialNudge:e,shouldShowLearningCenterBanner:t},o={...r,data:n};return(0,a.writeInteractionEvent)(o)}},"./growth/activation/experiment/growth-354/DownloadDesktopModal.js":function(e,t,n){"use strict";n.r(t);var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("./growth/foundation/public/amplitude/AmplitudeService.js"),c=n("./js/external-navigation/ExternalNavigationService.js"),u=n("./growth/activation/experiment/growth-354/DownloadPostmanAppConstants.js");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}const m={type:"primary",text:"Download Agent"},h={type:"primary",text:"Download App"},g={type:"secondary",text:"Cancel"};t.default=({downloadOption:e,handleClose:t,switchToWorkspace:n})=>{const[v,f]=(0,a.useState)("");return a.createElement(i.Modal,{isOpen:!0,size:"small",onClose:t},a.createElement(i.ModalHeader,{heading:`Download Desktop ${e} for Mac`,hideCloseButton:!0}),a.createElement(i.ModalContent,null,a.createElement(o.default,{value:v,onChange:f,direction:"row"},a.createElement(s.default,{value:"intel",label:"Mac Intel Chip"}),a.createElement(s.default,{value:"apple",label:"Mac Apple Chip"}))),a.createElement(i.ModalFooter,null,a.createElement(r.default,{justifyContent:"flex-end",grow:1,shrink:1,gap:"spacing-m"},a.createElement(l.default,p({},g,{onClick:()=>{d.Ampli.onboardingDownloadPostmanModalCancelClicked({...(0,d.getAmpliCTAProperties)(g),download_app_type:e}),t()}})),a.createElement(l.default,p({},"Agent"===e?m:h,{onClick:()=>{d.Ampli.onboardingDownloadPostmanModalDownloadClicked({...(0,d.getAmpliCTAProperties)("Agent"===e?m:h),download_app_type:e,mac_chip:v}),(0,c.openExternalLink)("Agent"===e?v===u.INTEL?`${window.postman_agent_download_url}/osx_64`:`${window.postman_agent_download_url}/osx_arm64`:v===u.INTEL?u.DOWNLOAD_MAC_INTEL_APP:u.DOWNLOAD_MAC_APPLE_APP),t(),n()},isDisabled:!v})))))}},"./growth/activation/experiment/growth-354/DownloadPostmanApp.js":function(e,t,n){"use strict";n.r(t);var a=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/react/index.js"),l=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),d=n("./growth/foundation/public/amplitude/AmplitudeService.js"),c=n("./js/external-navigation/ExternalNavigationService.js"),u=n("./js/constants/AppUrlConstants.js"),p=n("./growth/activation/experiment/growth-354/DownloadPostmanService.js"),m=n("./growth/activation/experiment/growth-354/DownloadDesktopModal.js"),h=n("./growth/activation/experiment/growth-354/DownloadPostmanAppConstants.js"),g=n("./node_modules/lodash/lodash.js");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}const f=(0,l.default)(a.default)`
  margin-top: var(--spacing-s);
`,b=(0,l.default)(i.default)`
  margin-top: var(--spacing-xxl);
`,w=(0,l.default)(o.default)`
  margin-left: var(--spacing-xs);
`,E=(0,l.default)(a.default)`
  margin-left: var(--spacing-xs);
`,y={type:"outline",text:"Download Desktop App"},C={type:"outline",text:"Download Desktop Agent"},x={text:"Learn More",type:"monochrome-plain"};t.default=({switchToWorkspace:e})=>{const[t,n]=(0,r.useState)("");(0,r.useEffect)((()=>{d.Ampli.onboardingDownloadPostmanPageViewed((0,d.getAmpliPageViewedProperties)())}),[]);const a=e=>{n(e)},l=()=>{var e;const t=null===(e=navigator.platform)||void 0===e?void 0:e.toLowerCase();return g.includes(t,"mac")};return r.createElement("div",null,r.createElement(s.default,{direction:"column"},r.createElement(i.default,{type:"h1",text:"Choose how you want to use Postman"}),r.createElement(f,{color:"content-color-secondary"},"Pick one or both. It’s nice to have options."),r.createElement(b,{type:"h3",text:"On browser"}),r.createElement(s.default,{width:"405px",padding:{paddingTop:"spacing-s"}},r.createElement("div",null,r.createElement(f,{color:"content-color-secondary"},"We recommend downloading the Desktop Agent to seamlessly test APIs on the browser using Postman."),r.createElement(w,v({},x,{onClick:()=>{d.Ampli.onboardingDownloadPostmanLearnMoreClicked((0,d.getAmpliCTAProperties)(x)),(0,c.openExternalLink)(u.POSTMAN_DESKTOP_AGENT_DOCS,"_blank")}})),r.createElement(E,null,"about the agent."))),r.createElement(s.default,{padding:{paddingTop:"spacing-l"}},r.createElement(o.default,v({},C,{onClick:()=>{var t;d.Ampli.onboardingDownloadPostmanAgentClicked({...(0,d.getAmpliCTAProperties)(C),user_platform:null===(t=navigator.platform)||void 0===t?void 0:t.toLowerCase()}),l()?a(h.AGENT):((0,p.initiateDownloadForPostmanAgent)(),e())}}))),r.createElement(b,{type:"h3",text:"On desktop app"}),r.createElement(f,{color:"content-color-secondary"},"The app gives you quick access to all your API resources, at all times."),r.createElement(s.default,{padding:{paddingTop:"spacing-l"}},r.createElement(o.default,v({},y,{onClick:()=>{var t;d.Ampli.onboardingDownloadPostmanAppClicked({...(0,d.getAmpliCTAProperties)(y),user_platform:null===(t=navigator.platform)||void 0===t?void 0:t.toLowerCase()}),l()?a(h.APP):((0,p.initiateDownloadForPostmanApp)(),e())}})))),t&&r.createElement(m.default,{downloadOption:t===h.AGENT?"Agent":"App",handleClose:()=>{n("")},switchToWorkspace:e}))}},"./growth/activation/experiment/growth-354/DownloadPostmanAppConstants.js":function(e,t,n){"use strict";n.r(t),n.d(t,{AGENT:function(){return o},APP:function(){return s},DOWNLOAD_DESKTOP_AGENT:function(){return a},DOWNLOAD_DESKTOP_AGENT_PAGE_LINK:function(){return l},DOWNLOAD_DESKTOP_APP:function(){return i},DOWNLOAD_DESKTOP_APP_PAGE_LINK:function(){return d},DOWNLOAD_MAC_APPLE_APP:function(){return u},DOWNLOAD_MAC_INTEL_APP:function(){return c},INTEL:function(){return r}});const a="download_desktop_agent",i="download_desktop_app",o="agent",s="app",r="intel",l="https://www.postman.com/downloads/postman-agent/",d="https://www.postman.com/downloads/",c="https://dl.pstmn.io/download/latest/osx_64",u="https://dl.pstmn.io/download/latest/osx_arm64"},"./growth/activation/experiment/growth-354/DownloadPostmanService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{initiateDownloadForPostmanAgent:function(){return r},initiateDownloadForPostmanApp:function(){return l}});var a=n("./js/external-navigation/ExternalNavigationService.js"),i=n("./growth/activation/experiment/growth-354/DownloadPostmanAppConstants.js"),o=n("./node_modules/lodash/lodash.js");const s=e=>{let t=(e=>{var t;const n=null===(t=navigator.platform)||void 0===t?void 0:t.toLowerCase();return o.includes(n,"win")?"WIN64":o.includes(n,"linux")?e===i.AGENT?"LINUX":"LINUX64":void 0})(e);return t?(t=t.toLowerCase(),e===i.AGENT?(0,a.openExternalLink)(`${window.postman_agent_download_url}/${t}`):(0,a.openExternalLink)(`https://dl.pstmn.io/download/latest/${t}`)):e===i.AGENT?(0,a.openExternalLink)(i.DOWNLOAD_DESKTOP_AGENT_PAGE_LINK,"_blank"):(0,a.openExternalLink)(i.DOWNLOAD_DESKTOP_APP_PAGE_LINK,"_blank")},r=()=>{s(i.AGENT)},l=()=>{s(i.APP)}},"./growth/foundation/public/features/Checklist/constants/AllowedChecklists.js":function(e,t,n){"use strict";n.r(t),t.default={FREE_USER_SIGNUP_CHECKLIST:"freeUserSignupChecklist",TEAM_USER_SIGNUP_CHECKLIST:"teamUserSignupChecklist",TEAM_CREATOR_CHECKLIST:"teamCreatorChecklist",FREE_TRIAL_START_CHECKLIST:"freeTrialStartChecklist",ENTERPRISE_TRIAL_GIT_INTEGRATION_CHECKLIST:"enterpriseTrialGitIntegrationChecklist",ENTERPRISE_TRIAL_API_SECURITY:"enterpriseTrialApiSecurity",COLLECTION_IMPORT_CHECKLIST:"importChecklist",DISCOVER_APIS_CHECKLIST:"discoverApisChecklist",SEND_API_REQUESTS_CHECKLIST:"sendApiRequestsChecklist",START_FROM_SCRATCH_CHECKLIST:"startFromScratchChecklist"}},"./growth/foundation/public/features/Checklist/services/APIService.js":function(e,t,n){"use strict";n.r(t),n.d(t,{fetchActiveChecklists:function(){return u},markViewedOnce:function(){return p},startChecklist:function(){return m},updateActiveState:function(){return c},updateMilestoneState:function(){return d}});var a=n("./growth/foundation/public/HTTPGatewayService.js"),i=n("./growth/foundation/public/amplitude/AmplitudeService.js"),o=n("./js/services/CurrentUserDetailsService.js"),s=n("./node_modules/lodash/lodash.js");const r=pm.logger.getContext("Checklist/APIService","growth"),l=(e,t)=>a.HTTPGatewayService.request({data:{service:"skill",method:"patch",path:"/v1/checklist/update",authenticated:!0,body:{key:e,...t}}}),d=(e,t,n)=>(!o.default.isLoggedIn||s.isEmpty(e)||s.isEmpty(t)||l(e,{milestones:{[t]:n}}).catch((e=>{pm.logger.info("APIService~updateActiveState",e,{context:r})})),Promise.resolve()),c=(e,t)=>(!o.default.isLoggedIn||s.isEmpty(e)||s.isEmpty(t)||l(e,{state:t}).catch((e=>{pm.logger.info("APIService~updateActiveState",e,{context:r})})),Promise.resolve()),u=e=>{if(!o.default.isLoggedIn||s.isEmpty(e))return Promise.resolve([]);const t=s.join(s.map(e,(e=>`type=${e}`)),"&"),n="browser"===window.SDK_PLATFORM?window.APP_VERSION:window.PRODUCT_VERSION;return a.HTTPGatewayService.request({data:{service:"skill",method:"get",path:`/v1/checklist?appVersion=${n}&${t}`,authenticated:!0}}).then((({body:e={}})=>s.get(e,"data",[]))).catch((e=>(pm.logger.info("APIService~fetchActiveChecklists",e,{context:r}),Promise.resolve([]))))},p=e=>(!o.default.isLoggedIn||s.isEmpty(e)||l(e,{isViewedOnce:!0}).catch((e=>{pm.logger.info("APIService~markViewedOnce",e,{context:r})})),Promise.resolve()),m=e=>!o.default.isLoggedIn||s.isEmpty(e)?Promise.resolve({}):a.HTTPGatewayService.request({data:{service:"skill",method:"post",path:"/v1/checklist/start",authenticated:!0,body:{key:e}}}).then((({body:t={}})=>(i.Ampli.onboardingChecklistStarted({checklist_key:e}),s.get(t,"data",{})))).catch((e=>(pm.logger.info("APIService~fetchActiveChecklists",e,{context:r}),Promise.resolve({}))))},"./js/components/base/ToggleSwitch.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var a=n("../../node_modules/react/index.js"),i=n("./node_modules/classnames/index.js"),o=n.n(i),s=n("./node_modules/prop-types/index.js"),r=n.n(s);class l extends a.Component{constructor(e){super(e),this.handleClick=this.handleClick.bind(this)}handleClick(){!this.props.disabled&&this.props.onClick&&this.props.onClick(!this.props.isActive)}getClasses(){return o()({"toggle-switch":!0,"is-active":this.props.isActive})}getWrapperClasses(){return o()({"toggle-switch-container":!0,"is-disabled":this.props.disabled},this.props.className)}render(){return a.createElement("div",{className:this.getWrapperClasses(),onClick:this.handleClick},a.createElement("div",{className:this.getClasses()}),!this.props.hideLabel&&a.createElement("div",{className:"toggle-switch-text"},this.props.isActive?a.createElement("span",{className:"toggle-switch-text-on"},this.props.activeLabel):a.createElement("span",{className:"toggle-switch-text-off"},this.props.inactiveLabel)))}}l.defaultProps={activeLabel:"ON",inactiveLabel:"OFF",isActive:!1,disabled:!1},l.propTypes={isActive:r().bool,disabled:r().bool,hideLabel:r().bool,activeLabel:r().node,inactiveLabel:r().node,onClick:r().func}},"./onboarding/src/common/validation.js":function(e,t,n){"use strict";n.r(t),n.d(t,{validateEmail:function(){return i},validateTeamDomain:function(){return s},validateTeamName:function(){return o}});var a=n("./node_modules/lodash/lodash.js");function i(e){return/^[^@]+@[^.]+\..+$/.test(e)}function o(e){return a.isEmpty(e)?{isValid:!1,error:"The team name cannot be empty"}:e.length>50?{isValid:!1,error:"The team name cannot be more than 50 characters long"}:{isValid:!0}}function s(e){return a.isEmpty(e)?{isValid:!1,error:"The URL cannot be empty"}:e.length<6||e.length>64||!/^[a-z][a-z0-9-]+$/i.test(e)?{isValid:!1,error:"URL must have 6 - 64 characters, begin with a letter, and use only letters, numbers, and hyphens."}:{isValid:!0}}},"./onboarding/src/features/FeatureOverview/Constants.js":function(e){e.exports={TEAM_FEATURE_OVERVIEW_KEY:"feature_overview",TEAM_FEATURE_OVERVIEW_VALUE:"show"}},"./onboarding/src/features/FeatureOverview/TeamFeatureOverviewHelper.js":function(e,t,n){"use strict";n.r(t),n.d(t,{teamFeatureOverviewHelper:function(){return d}});var a,i,o,s=n("../../node_modules/mobx/lib/mobx.module.js"),r=n("./js/services/CurrentUserDetailsService.js");function l(e,t,n,a,i){var o={};return Object.keys(a).forEach((function(e){o[e]=a[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,a){return a(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}const d=new(a=s.action.bound,o=l((i=class{constructor(){var e,t,n,a;e=this,t="isTeamFeatureOverviewModalOpen",a=this,(n=o)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}update(e,t){this[e]=t}get isTeamCreated(){const e=r.default.teamId;return e&&"0"!==e}}).prototype,"isTeamFeatureOverviewModalOpen",[s.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l(i.prototype,"update",[a],Object.getOwnPropertyDescriptor(i.prototype,"update"),i.prototype),l(i.prototype,"isTeamCreated",[s.computed],Object.getOwnPropertyDescriptor(i.prototype,"isTeamCreated"),i.prototype),i)},"./onboarding/src/features/NewOnboardingFlow/DiscoverApis.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/ButtonGroup/ButtonGroup.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/illustrations/NoEnvironment.js"),m=n("../../node_modules/@postman/aether/esmLib/src/components/Card/Card.js"),h=n("../../node_modules/@postman/aether/esmLib/src/components/Avatar/Avatar.js"),g=n("./js/services/NavigationService.js"),v=n("./collaboration/workspace/controller/WorkspaceControllerWithGateway.ts"),f=n("./collaboration/workspace/types/WorkspaceTypes.ts"),b=n("./growth/activation/navigation/constants.ts"),w=n("./apinetwork/navigation/constants.js"),E=n("./growth/activation/services/APIService.ts"),y=n("./js/services/CurrentUserDetailsService.js"),C=n("./growth/foundation/public/features/Checklist/constants/AllowedChecklists.js"),x=n("./growth/foundation/public/features/Checklist/services/APIService.js"),_=n("./growth/foundation/public/amplitude/AmplitudeService.js"),T=n("./growth/activation/experiment/growth-262/TrendingCollectionsHelper.js"),S=n("./js/external-navigation/ExternalNavigationService.js"),k=n("./onboarding/navigation/constants.js"),I=n("./node_modules/lodash/lodash.js");function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j.apply(this,arguments)}const O=(0,i.default)(o.default)`
  margin-bottom: var(--spacing-l);
`,A=(0,i.default)(s.default)`
  margin-right: var(--spacing-xl);
  margin-bottom: var(--spacing-xl);
`,L=i.default.div`
  display: grid;
  gap: 20px 18px;
  grid-template-columns: auto auto auto;
  padding-bottom: 20px;
`,P=(0,i.default)(r.default)`
  flex-direction: column;
  justify-content: center;
  height: 315px;
  background-color: var(--background-color-secondary);
  margin-bottom: var(--spacing-xxl);
`,D=(0,i.default)(l.default)`
  position: relative;
  overflow: hidden;
`,N=(0,i.default)(d.default)`
  margin-top: var(--spacing-l);
`,R=(0,i.default)(c.default)`
  position: absolute;
  top: 23px;
  right: 23px;
`,M=(0,i.default)(l.default)`
  height: 315px;
  background-color: var(--background-color-secondary);
  justify-content: center;
  align-items: center;
`,F=(0,i.default)(u.default)`
  margin-top: var(--spacing-l);
`,U={name:"Personal Workspace",summary:"This is your personal, private workspace to play around in.",visibilityStatus:f.VISIBILITY_STATUS.personal,roles:{}},W={type:"secondary",text:"Explore More APIs"},V={type:"primary",text:"Fork and Continue"};function H(e){const[t,i]=(0,a.useState)(!1),[o,s]=(0,a.useState)([]),[r,c]=(0,a.useState)(!1),[u,f]=(0,a.useState)(!1),H=async()=>{c(!0);try{const e={slug:"trending-apis",limit:50},{curatedPageList:t}=await T.trendingCollectionsHelper.fetchCuratedListPageEntities(e),n=I.filter(t,{title:"Collections"}),a=I.get(n,"0.items");a&&a.sort(((e,t)=>I.get(e,"performanceMetrics[0].metricValue")<I.get(t,"performanceMetrics[0].metricValue")?1:-1));const i=I.slice(a,0,6);I.map(i,(e=>{e.isChecked=!1})),c(!1),f(!1),s(i)}catch(e){c(!1),f(!0),pm.logger.error("Error in fetching trending collection list",e)}};return(0,a.useEffect)((()=>{try{H()}catch(e){pm.logger.error("Error in trending collection fetch",e)}}),[]),a.createElement("div",null,a.createElement(O,{type:"h4",text:"Unsure where to begin? Or want to start from another successful API? You can fork a Public API to learn and test them within your own workspace.",color:"content-color-secondary"}),r&&a.createElement(P,{description:"Loading"}),u&&a.createElement(M,{direction:"column"},a.createElement(p.default,null),a.createElement(F,null,"Oh snap! Couldn’t get public APIs. Click retry to fetch again."),a.createElement(N,{text:"Retry",type:"primary",onClick:H})),!r&&!u&&a.createElement("div",null,a.createElement(L,null,I.map(o,((e,t)=>a.createElement(D,{key:I.get(e,"id"),width:"325px"},a.createElement(m.default,{key:I.get(e,"id"),title:I.get(e,"name"),width:"325px",height:"128px",figure:a.createElement(h.default,{isOrg:!0,size:"l",src:I.get(e,"publisher.profileURL")}),onClick:()=>{let e=[...o],n=e[t];n.isChecked=!n.isChecked,s(e);let a=I.filter(o,{isChecked:!0}),r=I.size(a)>0;i(r)}},a.createElement(l.default,null,a.createElement(R,{key:I.get(e,"id"),isChecked:I.get(e,"isChecked"),onChange:()=>{}}))))))),a.createElement(A,null,a.createElement(d.default,j({},V,{isDisabled:!t,onClick:async()=>{await e.switchToWorkspace(!1,!0);const t=I.filter(o,{isChecked:!0}),a=I.map(t,"id"),i=I.size(a),s=a.pop();let r=[];I.map(t,(e=>{r.push(e.name)})),_.Ampli.getStartedStartWithPublicApiForkAndContinueClicked({...(0,_.getAmpliCTAProperties)(V),fork_public_api_collections:r,fork_public_api_number_of_collections:i}),(0,x.startChecklist)(C.default.DISCOVER_APIS_CHECKLIST);let l=await(async()=>{let e=I.get(await v.default.findAllWithGateway({visibilityStatus:"personal",limit:1}),"data.0.id");e||(e=(await v.default.createWithGateway(U)).data.id);return e})();l?(await g.default.transitionTo(b.WORKSPACE_OVERVIEW_IDENTIFIER,{wid:l},null,{replace:!0}),((e,t,a)=>{I.map(e,(async e=>{await(0,E.createFork)({forkLabel:"Essential Collection",collection:e,workspace:t,environment:null})})),(0,E.createFork)({forkLabel:"Essential Collection",collection:a,workspace:t,environment:null}).then((async e=>{let{userId:a}=y.default,i=`${a}-${I.get(e,"body.data.collectionId")}`;i&&await g.default.transitionTo("build.collection",{cid:i,wid:t});const{runTaggedLesson:o}=await n.e(48).then(n.bind(n,"./onboarding/public/Skills.js"));o("public-api-flow",{signInModalOptions:{type:"public-api-flow",origin:"public-api-flow"}})}))})(a,l,s)):g.default.transitionTo(k.HOME_IDENTIFIER)}})),a.createElement(d.default,j({},W,{onClick:async()=>{_.Ampli.getStartedStartWithPublicApiExploreMoreApiClicked((0,_.getAmpliCTAProperties)(W)),await e.switchToWorkspace(!1,!0),"browser"===window.SDK_PLATFORM?(0,S.openExternalLink)(window.postman_explore_redirect_url):g.default.transitionToURL(w.OPEN_EXPLORE_HOME_URL)}})))))}},"./onboarding/src/features/NewOnboardingFlow/GetStartedWithApis.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Card/Card.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),c=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-direction-forward-small.js"),u=n("./onboarding/src/features/NewOnboardingFlow/StartWithApis.js"),p=n("./onboarding/src/features/NewOnboardingFlow/DiscoverApis.js"),m=n("./onboarding/src/features/NewOnboardingFlow/LearnAboutApis.js"),h=n("./onboarding/src/features/NewOnboardingFlow/UserFeedbackForm.js"),g=n("./growth/foundation/public/features/Checklist/constants/AllowedChecklists.js"),v=n("./growth/foundation/public/features/Checklist/services/APIService.js"),f=n("./growth/foundation/public/amplitude/AmplitudeService.js");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}const w="startWithApis",E="discoverApis",y="learnAboutApis",C="userFeedbackForm",x=(0,i.default)(c.default)`
  margin-left: var(--spacing-xs);
`,_=i.default.div`
  border: ${e=>e.currentState===w?"var(--border-width-l) var(--border-style-solid) var(--content-color-link)":""};
  border-radius: var(--border-radius-default);
`,T=i.default.div`
  border: ${e=>e.currentState===E?"var(--border-width-l) var(--border-style-solid) var(--content-color-link)":""};
  border-radius: var(--border-radius-default);
`,S=i.default.div`
  border: ${e=>e.currentState===y?"var(--border-width-l) var(--border-style-solid) var(--content-color-link)":""};
  border-radius: var(--border-radius-default);
`,k={type:"plain",text:"Skip, I know how to use Postman"},I={type:"plain",text:"Let Us Know"};class j extends a.Component{constructor(e){super(e),this.state={activeSection:""},this.setActiveSection=this.setActiveSection.bind(this)}componentDidMount(){f.Ampli.getStartedPageViewed((0,f.getAmpliPageViewedProperties)())}setActiveSection(e){this.setState({activeSection:e})}getActiveFlow(e){switch(e){case w:return a.createElement(u.default,{switchToWorkspace:this.props.switchToWorkspace});case E:return a.createElement(p.default,{switchToWorkspace:this.props.switchToWorkspace});case y:return a.createElement(m.default,{switchToWorkspace:this.props.switchToWorkspace});case C:return a.createElement(h.default,{setActiveSection:this.setActiveSection,switchToWorkspace:this.props.switchToWorkspace});default:return null}}render(){const e=!(this.state.activeSection===C);return a.createElement("div",null,a.createElement(o.default,{justifyContent:"space-between",alignItems:"center"},a.createElement(s.default,{type:"h1",text:"How would you like to get started?",color:"content-color-primary"}),a.createElement(o.default,{alignItems:"center"},a.createElement(r.default,b({},k,{onClick:async()=>{f.Ampli.getStartedSkipClicked((0,f.getAmpliCTAProperties)(k)),(0,v.startChecklist)(g.default.START_FROM_SCRATCH_CHECKLIST),await this.props.switchToWorkspace()}})),a.createElement(x,{color:"content-color-link"}))),a.createElement(o.default,{gap:"spacing-xl",padding:"spacing-l spacing-zero spacing-xxl spacing-zero"},a.createElement(_,{currentState:this.state.activeSection},a.createElement(l.default,{width:"326px",onClick:()=>{f.Ampli.getStartedStarterKitActionCardClicked({get_started_action_key:w}),this.setState({activeSection:w})}},a.createElement(o.default,{gap:"spacing-l",width:"278px",alignItems:"center"},a.createElement("img",{height:"42px",src:"https://voyager.postman.com/icon/design-magic-wand-icon-postman.svg",alt:"Community icon. Illustration."}),a.createElement(s.default,{type:"h4",text:"Start with my own API",color:"content-color-primary"})))),a.createElement(T,{currentState:this.state.activeSection},a.createElement(l.default,{width:"326px",onClick:()=>{f.Ampli.getStartedStarterKitActionCardClicked({get_started_action_key:E}),this.setState({activeSection:E})}},a.createElement(o.default,{gap:"spacing-l",width:"278px",alignItems:"center"},a.createElement("img",{height:"42px",src:"https://voyager.postman.com/icon/spaceship-rocket-launch-icon-postman.svg",alt:"Community icon. Illustration."}),a.createElement(s.default,{type:"h4",text:"Start with a public API",color:"content-color-primary"})))),a.createElement(S,{currentState:this.state.activeSection},a.createElement(l.default,{width:"326px",onClick:()=>{f.Ampli.getStartedStarterKitActionCardClicked({get_started_action_key:y}),this.setState({activeSection:y})}},a.createElement(o.default,{gap:"spacing-l",width:"278px",alignItems:"center"},a.createElement("img",{height:"42px",src:"https://voyager.postman.com/icon/learning-documentation-icon-postman.svg",alt:"Community icon. Illustration."}),a.createElement(s.default,{type:"h4",text:"Show me how to use Postman",color:"content-color-primary"}))))),this.getActiveFlow(this.state.activeSection),e&&a.createElement(o.default,{gap:"spacing-xs"},a.createElement(d.default,{color:"content-color-secondary"},"Looking for something else?"),a.createElement(r.default,b({},I,{onClick:()=>{f.Ampli.getStartedLetUsKnowClicked((0,f.getAmpliCTAProperties)(I)),this.setState({activeSection:C})}}))))}}},"./onboarding/src/features/NewOnboardingFlow/InviteTeammates.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var a,i=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/RadioGroup/RadioGroup.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Radio/Radio.js"),m=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),h=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-action-link-stroke.js"),g=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),v=n("../../node_modules/react/index.js"),f=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),b=n("./onboarding/src/features/NewOnboardingFlow/TagsInput.js"),w=n("./onboarding/src/common/validation.js"),E=n("./onboarding/src/common/apis/UserOnboardingAPI.js"),y=n("./growth/foundation/public/amplitude/AmplitudeService.js"),C=n("./node_modules/lodash/lodash.js");function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},x.apply(this,arguments)}const _="regular",T=f.default.div`

  .action-button-container {
    margin-top: var(--spacing-xxl);
  }
  .invite-via-container {
    padding-bottom: var(--spacing-l);
  }
`,S=f.default.div`
  .tag-icon-svg {
    height: calc(var(--size-xs) - 4px);
  }
`,k=f.default.div`
  & > div:last-child {
    padding-top: var(--spacing-xl);
  }
`,I="email",j="inviteLink",O={type:"plain",text:"Continue without team"},A={type:"plain",text:"Remind me later"},L={text:"Get Invite Link\t",type:"primary"},P={type:"primary",text:"Send Invites and Finish"};let D=(0,g.observer)(a=class extends v.Component{constructor(e){super(e),this.state={tags:[],inviteLink:"",isInviteLinkLoading:!1,isEmailInviteLoading:!1,isRedirectingToWorkspace:!1,invalidEmailsError:"",inviteAction:I,teamId:null},this.handleTagsChange=this.handleTagsChange.bind(this),this.handleRadioButtonChange=this.handleRadioButtonChange.bind(this),this.handleRedirection=this.handleRedirection.bind(this)}componentDidMount(){y.Ampli.onboardingInviteToTeamPageViewed((0,y.getAmpliPageViewedProperties)())}getEmailsList(){let{tags:e=[]}=this.state;return e.reduce(((e,t)=>(t.value&&t.type===_&&e.push(t.value),e)),[])}checkInvalidEmails(e){for(let t=0;t<e.length;++t)if("error"===e[t].type||"editing"===e[t].type)return!0;return!1}renderTagContent(e){return v.createElement(S,null,e.type===_&&v.createElement("i",{className:"pm-icon pm-icon-sm pm-icon-tertiary tag-icon soft-half--left"},v.createElement(m.default,{name:"icon-descriptive-mail-stroke",color:"content-color-primary"})),v.createElement("div",{className:"tag-text soft-half--sides hard--ends"},e.value))}handleTagsChange(e){this.setState((t=>({tags:e,invalidEmailsError:this.checkInvalidEmails(e)?"Double check the emails to make sure they're valid":""})))}getInviteActionComponent(){return this.state.inviteAction===I||this.props.onEnterpriseTrial?v.createElement(b.default,{error:Boolean(this.state.invalidEmailsError),renderTagContent:this.renderTagContent,tags:this.state.tags,tagValidator:w.validateEmail,onTagsChange:this.handleTagsChange}):this.getInviteViaLinkComponent()}getInviteViaLinkComponent(){const e=()=>{y.Ampli.onboardingInviteToTeamInviteLinkClicked((0,y.getAmpliCTAProperties)(L)),this.setState({isInviteLinkLoading:!0}),(0,E.createTeam)().then((e=>{let{inviteLink:t,teamId:n}=e;this.setState({inviteLink:t,teamId:n,isInviteLinkLoading:!1})})).catch((e=>{(0,i.toast)({title:"Something went wrong",description:"Couldn't generate your invite link",status:"error"}),this.setState({isInviteLinkLoading:!1,teamId:null,inviteLink:null,inviteAction:I,tags:[]})}))};return v.createElement(k,null,v.createElement(o.default,{color:"content-color-secondary"},"Get a unique link to share with people. They will be able to join your team by clicking on this link."),(()=>{const{isInviteLinkLoading:t,inviteLink:n}=this.state;return t?v.createElement("div",null,v.createElement(s.default,{size:"small",description:"generating a unique invite link for you..."})):n?v.createElement("div",null,v.createElement(r.default,{value:this.state.inviteLink,enableCopy:!0,helperCopyText:"Copy invite link"})):v.createElement("div",null,v.createElement(l.default,x({},L,{onClick:e,rightIcon:v.createElement(h.default,null)})))})())}handleRadioButtonChange(e){this.setState({inviteAction:e}),e===I&&this.setState({tags:[]})}async handleRedirection(){try{let e=!1,t=Boolean(this.state.teamId||this.props.teamId);if(this.setState({isRedirectingToWorkspace:!0}),this.state.inviteAction===I){y.Ampli.onboardingInviteToTeamInviteSent((0,y.getAmpliCTAProperties)(P)),this.setState({isEmailInviteLoading:!0});let t={emails:this.getEmailsList()},n=this.state.teamId||this.props.teamId;n?(t.teamId=n,await(0,E.sendEmailInvitations)(t)):await(0,E.createTeam)(t),e=!0}let n=e||t;this.props.switchToWorkspace&&this.props.switchToWorkspace(n,!1)}catch{this.setState({isEmailInviteLoading:!1,isRedirectingToWorkspace:!1})}}shouldDisableFinishButton(){let e=this.checkInvalidEmails(this.state.tags),t=this.getEmailsList();return this.state.inviteAction!==j&&(!!e||!!C.isEmpty(this.state.inviteLink)&&C.isEmpty(t))}render(){const{switchToWorkspace:e,discoverableTeams:t,onEnterpriseTrial:n}=this.props,a=t?"Whom do you want to collaborate with in your team?":"Bring people you want to collaborate with on Postman.",i=n?A:O;return v.createElement(T,null,v.createElement(d.default,{type:"h1",color:"content-color-primary",text:a,hasBottomSpacing:!0}),v.createElement("div",{className:"invite-via-container"},v.createElement(c.default,{grow:1,shrink:1,alignItems:"flex-end",justifyContent:"flex-start",direction:"row",gap:"spacing-l"},v.createElement(d.default,{type:"h6",color:"content-color-secondary",text:"Invite people via"}),v.createElement(u.default,{value:this.state.inviteAction,onChange:e=>{this.handleRadioButtonChange(e)}},v.createElement(p.default,{value:I,label:"Email"}),v.createElement(p.default,{isDisabled:this.props.onEnterpriseTrial,value:j,label:"Invite Link"})))),this.getInviteActionComponent(),v.createElement(c.default,{grow:1,shrink:1,alignItems:"flex-start",justifyContent:"flex-start",direction:"column",gap:"spacing-xl",className:"action-button-container"},!(this.state.inviteAction===j&&C.isEmpty(this.state.inviteLink))&&v.createElement(l.default,{type:"primary",size:"medium",isDisabled:this.shouldDisableFinishButton(),isLoading:this.state.isEmailInviteLoading||this.state.isRedirectingToWorkspace,text:this.state.inviteAction!==I||C.isEmpty(this.getEmailsList())?"Finish":"Send Invites and Finish",fullWidth:!0,onClick:()=>{this.handleRedirection()}}),this.state.inviteAction===I&&!this.state.teamId&&v.createElement(l.default,x({size:"medium",fullWidth:!0,onClick:()=>{y.Ampli.onboardingInviteToTeamContinueWithoutTeamClicked((0,y.getAmpliCTAProperties)(i)),e()}},i))))}})||a},"./onboarding/src/features/NewOnboardingFlow/InviteTeammatesIllustration.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const o="https://skills-assets.pstmn.io/onboarding/UserOnboarding/CreateTeam-light.svg",s="https://skills-assets.pstmn.io/onboarding/UserOnboarding/CreateTeam-black.svg",r=i.default.div`
  padding-top: calc(8.5 * var(--spacing-s));
`;function l(){const e=(0,i.useTheme)();return a.createElement(r,null,a.createElement("img",{src:"dark"===e.name?s:o,width:"579",height:"351"}))}},"./onboarding/src/features/NewOnboardingFlow/JoinTeam.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a,i=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),d=n("../../node_modules/react/index.js"),c=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),u=n("./onboarding/src/features/NewOnboardingFlow/RequestToJoinTeamModal.js"),p=n("./growth/foundation/public/amplitude/AmplitudeService.js"),m=n("./js/utils/PluralizeHelper.js"),h=(n("./growth/expansion/stores/GrowthExpansionExperimentStore.js"),n("./growth/activation/stores/GrowthActivationExperimentStore.ts")),g=n("./node_modules/lodash/lodash.js");function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(this,arguments)}const f=c.default.div`
  width: ${e=>e.isPersonalizedExperimentEnabled?"468px":"420px"};
  .invite-description {
    padding-top: 6px;
    padding-bottom: 8px;
  }
`,b=c.default.div`
  max-height: ${e=>e.isPersonalizedExperimentEnabled?"378px":"365px"};
  margin-top: 18px;
  margin-bottom: 32px;
  overflow: auto;
  overflow-x: hidden;
`,w=c.default.div`
  width: ${e=>e.isPersonalizedExperimentEnabled?"441px":"400px"};
  box-sizing: border-box;
  border: 1px solid #EDEDED;
  padding: 12px;
  margin-bottom: 12px;

  &:last-child {
    margin-bottom: var(--spacing-zero);
  }

  .team-info-container {
    &-team-name {
      max-width: 200px;
    }
    &-team-icon {
      object-fit: contain;
    }
  }
`,E={text:"Collaborate with people in new team",type:"secondary","data-testid":"onboarding-collaborate-in-new-team-button"},y={type:"secondary",text:"Request Access","data-testid":"onboarding-request-access-button"},C={type:"plain",text:"Skip","data-testid":"onboarding-skip-discovery-button"};let x=(0,l.observer)(a=class extends d.Component{constructor(e){super(e),this.state={selectedTeam:null},this.handleRequestJoinModalClose=this.handleRequestJoinModalClose.bind(this)}componentDidMount(){p.Ampli.onboardingDiscoveredTeamsPageViewed({discoverable_teams:this.getDiscoverableTeamsDataForAmplitude(),total_teams:g.size(this.props.discoverableTeams),...(0,p.getAmpliPageViewedProperties)()})}getDiscoverableTeamsDataForAmplitude(){const{discoverableTeams:e}=this.props;return g.map(e,g.partialRight(g.pick,["id","domain","members_count"]))}handleRequestJoinModalClose(){this.setState({selectedTeam:null})}getMembersCountCTA(e){return m.default.pluralize({count:parseInt(e),singular:"member",plural:"members"})}render(){let{discoverableTeams:e,switchToWorkspace:t}=this.props;return g.has(e[0],"members_count")&&(e=g.sortBy(e,[function(e){return-parseInt(e.members_count)}])),d.createElement(f,{isPersonalizedExperimentEnabled:h.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled},d.createElement(i.default,{type:"h1",className:"",color:"content-color-primary",text:h.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled?"Hi, we found teams from your organization.":"Join a team from your organization",hasBottomSpacing:!0,"data-testid":"onboarding-join-team-header"}),d.createElement(o.default,{type:"body-medium",color:"content-color-primary"},"Join your team and gain access to their APIs, collaborate with each other and invite new people to join."),d.createElement(b,{isPersonalizedExperimentEnabled:h.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled},e.map((e=>d.createElement(w,{key:e.name,isPersonalizedExperimentEnabled:h.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled},d.createElement(s.default,{grow:1,shrink:1,alignItems:"center",justifyContent:"space-between",direction:"row"},d.createElement(s.default,{grow:1,shrink:1,alignItems:"center",justifyContent:"flex-start",direction:"row",gap:"spacing-l"},d.createElement("img",{src:e.logo_url,width:"34px",height:"34px",className:"team-info-container-team-icon"}),d.createElement(s.default,{grow:1,shrink:1,alignItems:"flex-start",justifyContent:"flex-start",direction:"column",gap:"spacing-zero"},d.createElement(o.default,{type:"body-large",color:"content-color-primary",className:"team-info-container-team-name",maxLines:2},e.name),g.get(e,"members_count",null)&&d.createElement(o.default,{type:"body-small",color:"content-color-secondary"},e.members_count," ",this.getMembersCountCTA(e.members_count)))),d.createElement(r.default,v({size:"medium",onClick:()=>{this.setState({selectedTeam:e}),p.Ampli.onboardingDiscoveredTeamsTeamSelectionRequestAccessClicked({...(0,p.getAmpliCTAProperties)(y),team_id:g.get(e,"id"),members_count:g.get(e,"members_count")})}},y))))))),d.createElement(s.default,{grow:1,shrink:1,alignItems:"center",justifyContent:"flex-start",direction:"column",gap:"spacing-l",width:"400px"},!h.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled&&d.createElement(r.default,v({size:"medium",onClick:()=>{p.Ampli.onboardingDiscoveredTeamsCreateTeamClicked((0,p.getAmpliCTAProperties)(E)),this.props.continue()}},E,{fullWidth:!0})),d.createElement(r.default,v({size:"medium",onClick:()=>{p.Ampli.onboardingDiscoveredTeamsSkipClicked((0,p.getAmpliCTAProperties)(C)),this.props.handleSkip()}},C))),this.state.selectedTeam&&d.createElement(u.default,{onRequestSent:()=>{this.setState({selectedTeam:!1}),t()},selectedDiscoverableTeam:this.state.selectedTeam,handleClose:this.handleRequestJoinModalClose,isUserEmailVerified:this.props.emailVerified}))}})||a},"./onboarding/src/features/NewOnboardingFlow/JoinTeamIllustration.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./growth/activation/stores/GrowthActivationExperimentStore.ts");const s="https://skills-assets.pstmn.io/onboarding/UserOnboarding/JoinTeam-light.svg",r="https://skills-assets.pstmn.io/onboarding/UserOnboarding/JoinTeam-black.svg",l=i.default.div`
  padding-top: ${e=>e.newOnboardingPage?"":"calc(9 * var(--spacing-s))"};
`;function d(){const e=(0,i.useTheme)();return a.createElement(l,{newOnboardingPage:o.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled},a.createElement("img",{src:"dark"===e.name?r:s,width:"450",height:"470"}))}},"./onboarding/src/features/NewOnboardingFlow/LearnAboutApis.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("./growth/activation/experiment/growth-262/PersonalizedOnboardingHelper.js"),l=n("./growth/activation/experiment/growth-262/WorkspaceOverviewBannerInteractionHelper.js"),d=n("./growth/foundation/public/features/Checklist/constants/AllowedChecklists.js"),c=n("./growth/foundation/public/features/Checklist/services/APIService.js"),u=n("./growth/foundation/public/amplitude/AmplitudeService.js");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}const m=(0,i.default)(o.default)`
  margin-bottom: 40px;
`,h=(0,i.default)(s.default)`
  margin-bottom: 36px;
`,g={type:"primary",text:"Lets go!"};function v(e){return a.createElement("div",null,a.createElement(m,{type:"h4",text:"Learn as you go with in-app guides and tutorials. This will teach you how to use and be successful within Postman.",color:"content-color-secondary"}),a.createElement(h,p({},g,{minWidth:"160px",onClick:async()=>{u.Ampli.getStartedShowMePostmanLetsGoClicked((0,u.getAmpliCTAProperties)(g)),(0,c.startChecklist)(d.default.START_FROM_SCRATCH_CHECKLIST),await e.switchToWorkspace(),r.personalizedOnboardingHelper.update("shouldShowVideoTutorialNudge",!0),(0,l.writeInteractionData)()}})))}},"./onboarding/src/features/NewOnboardingFlow/OnboardingPageHeader.js":function(e,t,n){"use strict";n.r(t);var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),s=n("./growth/foundation/public/amplitude/AmplitudeService.js");function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(this,arguments)}const l={type:"secondary",text:"Skip for Now"};t.default=({shouldRenderAppDownloadHeader:e,switchToBuildMode:t,isLoading:n})=>n?null:a.createElement(i.default,{justifyContent:"space-between",alignItems:"center",padding:{paddingBottom:"spacing-xxl",paddingTop:"spacing-m",paddingLeft:"spacing-xxxl"}},a.createElement("img",{src:"https://skills-assets.pstmn.io/onboarding/PostmanLogo.svg"}),e&&a.createElement(i.default,{padding:{paddingBottom:"spacing-xl",paddingRight:"spacing-xxxl"}},a.createElement(o.default,r({},l,{onClick:()=>{s.Ampli.onboardingDownloadPostmanSkipForNowClicked((0,s.getAmpliCTAProperties)(l)),t()}}))))},"./onboarding/src/features/NewOnboardingFlow/RequestToJoinTeamModal.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a,i=n("../../node_modules/react/index.js"),o=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/TextArea/TextArea.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("./onboarding/src/common/apis/UserOnboardingAPI.js"),h=n("./node_modules/@postman/sanitise-user-content/index.js"),g=n.n(h),v=n("./growth/foundation/public/amplitude/AmplitudeService.js"),f=n("./growth/expansion/experiments/growth-232/constants.js"),b=n("./node_modules/lodash/lodash.js");function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},w.apply(this,arguments)}const E={type:"secondary",text:"Cancel","data-testid":"cancel-request-to-join-button"},y={type:"primary",text:"Request to Join","data-testid":"submit-request-to-join-button"},C=b.once((()=>{v.Ampli.onboardingRequestJoinModalTextboxInteracted()}));let x=(0,o.observer)(a=class extends i.Component{constructor(e){super(e),this.handleChange=(e,{charLimit:t})=>{this.setState({purpose:e.target.value}),null!==t?this.setState({validationState:"error",validationMessage:t>0?`You are over permitted characters limit by ${t} characters`:"You have reached character limit"}):this.setState({validationState:"",validationMessage:""}),C()},this.state={purpose:"",validationState:"",validationMessage:"",isLoading:!1,unloadFunc:this.props.growth232Enabled?this.handleUnload.bind(this):null},this.handleRequestSending=this.handleRequestSending.bind(this)}componentDidMount(){v.Ampli.onboardingRequestJoinModalViewed((0,v.getAmpliModalViewedProperties)()),this.props.growth232Enabled&&!this.props.selectedDiscoverableTeam.join_guidelines&&window.addEventListener("beforeunload",this.state.unloadFunc)}componentWillUnmount(){this.props.growth232Enabled&&!this.props.selectedDiscoverableTeam.join_guidelines&&window.removeEventListener("beforeunload",this.state.unloadFunc)}handleUnload(){this.handleRequestSending()}handleClose(){v.Ampli.onboardingRequestJoinModalCancelClicked((0,v.getAmpliCTAProperties)(E)),this.props.growth232Enabled&&!this.props.selectedDiscoverableTeam.join_guidelines&&this.handleRequestSending(),this.props.handleClose&&this.props.handleClose()}async handleRequestSending(){try{let e={purpose:g()(this.state.purpose),teamId:this.props.selectedDiscoverableTeam.id};return await(0,m.sendRequestToJoin)(e),v.Ampli.onboardingRequestJoinModalRequestSent({...(0,v.getAmpliJoinModalProperties)(this.props.selectedDiscoverableTeam),join_purpose_length:this.state.purpose?this.state.purpose.length:0}),!0}catch{return(0,s.toast)({title:"Something went wrong",description:"Couldn't send your request to admin",status:"error"}),!1}}async handleClickSendRequest(){const e=this.props.selectedDiscoverableTeam;v.Ampli.onboardingDiscoveredTeamsRequestAccessClicked({...(0,v.getAmpliCTAProperties)(y),team_id:b.get(e,"id"),members_count:b.get(e,"members_count")}),this.setState({isLoading:!0});if(!await this.handleRequestSending())return this.setState({isLoading:!1}),void(this.props.handleClose&&this.props.handleClose());this.setState({isLoading:!1});const t=!this.props.growth232Enabled;this.props.onRequestSent&&this.props.onRequestSent(t)}getContent(e,t){return t?i.createElement(r.default,{grow:1,shrink:1,justifyContent:"flex-start","align-items":"flex-start",gap:"spacing-m",direction:"column"},this.props.growth232Enabled?i.createElement(l.default,{type:"body-medium",color:"content-color-primary",text:e?f.HAS_GUIDELINES_RTJ_MODAL_CONSTANTS.modalBody:f.NO_GUIDELINES_RTJ_MODAL_CONSTANTS.modalBody}):i.createElement(i.Fragment,null,i.createElement(l.default,{type:"body-medium",color:"content-color-primary",text:"Once the team admin approves your request, you’ll be added to the team automatically."}),i.createElement(l.default,{type:"body-medium",color:"content-color-primary",text:e?"Before we can send your request, please answer this question from the team admin":"Add a note to help the team's Admin review your request (optional)"}))):i.createElement(r.default,{grow:1,shrink:1,justifyContent:"flex-start","align-items":"flex-start",gap:"spacing-m",direction:"column"},i.createElement(l.default,{type:"body-medium",color:"content-color-primary",text:"Just two quick things to do before we can send your request"}),i.createElement(l.default,{type:"body-medium",color:"content-color-primary",text:"1. Verify your account. There should be a verification email waiting for you in your inbox."}),i.createElement(l.default,{type:"body-medium",color:"content-color-primary",text:e?"2. Answer this question from the team Admin.":"2. Add a note to help the team's Admin review your request (optional)"}))}render(){let e=this.props.selectedDiscoverableTeam,t=Boolean(e.join_guidelines),n=this.props.isUserEmailVerified,a=`Request to join ${e.name}`,o=t?"Add Response":"Add a note",s=t?e.join_guidelines:"",l=t&&!this.state.purpose.length;return this.props.growth232Enabled&&(a=t?f.HAS_GUIDELINES_RTJ_MODAL_CONSTANTS.modalHeader:f.NO_GUIDELINES_RTJ_MODAL_CONSTANTS.modalHeader,o=t?f.HAS_GUIDELINES_RTJ_MODAL_CONSTANTS.placeholderText:f.NO_GUIDELINES_RTJ_MODAL_CONSTANTS.placeholderText,E.text=t?f.HAS_GUIDELINES_RTJ_MODAL_CONSTANTS.cancelCTA:f.NO_GUIDELINES_RTJ_MODAL_CONSTANTS.cancelCTA,y.text=f.HAS_GUIDELINES_RTJ_MODAL_CONSTANTS.submitCTA),i.createElement(d.Modal,{isOpen:Boolean(e),onClose:()=>this.handleClose(),size:"small"},i.createElement(d.ModalHeader,{heading:a}),i.createElement(d.ModalContent,null,i.createElement(r.default,{grow:1,shrink:1,justifyContent:"flex-start","align-items":"flex-start",gap:"spacing-xl",direction:"column"},this.getContent(t,n),i.createElement(c.default,{placeholder:o,onChange:this.handleChange,onFocus:C,value:this.state.purpose,isResizable:!1,validationStatus:this.state.validationState,validationMessage:this.state.validationMessage,maxLength:1e3,label:i.createElement(u.default,{text:s})}))),i.createElement(d.ModalFooter,null,i.createElement(r.default,{grow:1,shrink:1,justifyContent:"flex-end","align-items":"center",gap:"spacing-l"},i.createElement(p.default,w({size:"medium",onClick:()=>{this.handleClose()}},E)),i.createElement(p.default,w({size:"medium",isLoading:this.state.isLoading,onClick:()=>{this.handleClickSendRequest()},isDisabled:l},y)))))}})||a},"./onboarding/src/features/NewOnboardingFlow/StartWithApis.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Card/Card.js"),c=n("./integrations/navigation/constants.js"),u=n("./js/services/NavigationService.js"),p=n("./collaboration/workspace/controller/WorkspaceControllerWithGateway.ts"),m=n("./collaboration/workspace/types/WorkspaceTypes.ts"),h=n("./growth/activation/navigation/constants.ts"),g=n("./growth/foundation/public/features/Checklist/constants/AllowedChecklists.js"),v=n("./growth/foundation/public/features/Checklist/services/APIService.js"),f=n("./growth/foundation/public/amplitude/AmplitudeService.js"),b=n("./onboarding/navigation/constants.js"),w=n("./node_modules/lodash/lodash.js");function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(this,arguments)}const y="sendApiRequest",C="importApi",x=(0,i.default)(o.default)`
  margin-bottom: var(--spacing-xs);
`,_=(0,i.default)(s.default)`
  margin-bottom: 36px;
  width: 160px;
`,T=i.default.div`
  border: ${e=>e.currentState===y?"var(--border-width-l) var(--border-style-solid) var(--content-color-link)":""};
  border-radius: var(--border-radius-default);
`,S=i.default.div`
  border: ${e=>e.currentState===C?"var(--border-width-l) var(--border-style-solid) var(--content-color-link)":""};
  border-radius: var(--border-radius-default);
`,k={name:"Personal Workspace",summary:"This is your personal, private workspace to play around in.",visibilityStatus:m.VISIBILITY_STATUS.personal,roles:{}},I={type:"primary",text:"Continue"};function j(e){const[t,i]=(0,a.useState)("");return a.createElement("div",null,a.createElement(r.default,{type:"h4",text:"Great choice! How would you like to get started today?",color:"content-color-secondary"}),a.createElement(l.default,{gap:"spacing-xl",padding:"spacing-l spacing-zero spacing-xl spacing-zero"},a.createElement(T,{currentState:t},a.createElement(d.default,{width:"326px",title:"Create your first API in Postman",onClick:()=>{i(y)}},a.createElement(x,null,"Follow a guide to setup your APIs in Postman"))),a.createElement(S,{currentState:t},a.createElement(d.default,{width:"326px",title:"Import your API",onClick:()=>{i(C)}},a.createElement(x,null,"Get started by importing your own API")))),a.createElement(_,E({},I,{isDisabled:!t,onClick:async()=>{f.Ampli.getStartedStartWithOwnApiContinueClicked({...(0,f.getAmpliCTAProperties)(I),start_with_api_action_key:t});let a=await(async()=>{let e=w.get(await p.default.findAllWithGateway({visibilityStatus:"personal",limit:1}),"data.0.id");e||(e=(await p.default.createWithGateway(k)).data.id);return e})();a?t===C?(async t=>{await e.switchToWorkspace(!1,!0),(0,v.startChecklist)(g.default.COLLECTION_IMPORT_CHECKLIST),await u.default.transitionTo(h.WORKSPACE_OVERVIEW_IDENTIFIER,{wid:t},null,{replace:!0}),u.default.transitionTo(c.OPEN_IMPORT_IDENTIFIER)})(a):(async t=>{await e.switchToWorkspace(!1,!0),(0,v.startChecklist)(g.default.SEND_API_REQUESTS_CHECKLIST),u.default.transitionTo(h.WORKSPACE_OVERVIEW_IDENTIFIER,{wid:t},null,{replace:!0});const{runTaggedLesson:a}=await n.e(48).then(n.bind(n,"./onboarding/public/Skills.js"));a("personalized-onboarding-experiment",{signInModalOptions:{type:"personalized-onboarding-experiment",origin:"personalized-onboarding-experiment"}})})(a):u.default.transitionTo(b.HOME_IDENTIFIER)}})))}},"./onboarding/src/features/NewOnboardingFlow/Tag.js":function(e,t,n){"use strict";n.r(t);var a=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),o=n.n(i),s=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js");const r=e=>a.createElement("div",{className:`tag tag-${e.type}`,name:e.name,onClick:e.onClick},e.renderTagContent({value:e.value,type:e.type}),a.createElement("div",{className:"tag-remove-btn",onClick:e.onClose},a.createElement(s.default,{name:"icon-action-close-stroke",color:"content-color-primary",size:"small"})));r.propTypes={name:o().string,onClick:o().func,onClose:o().func,renderContent:o().func,type:o().oneOf(["regular","error"]),value:o().string},r.defaultProps={renderTagContent:function(e){return a.createElement("div",null,a.createElement("div",{className:"tag-text"},e.value))},onClose:()=>{},onClick:()=>{},type:"regular",name:"tag",value:""},t.default=r},"./onboarding/src/features/NewOnboardingFlow/TagsInput.js":function(e,t,n){"use strict";n.r(t);var a=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),o=n.n(i),s=n("./node_modules/@postman/sanitise-user-content/index.js"),r=n.n(s),l=n("../../node_modules/react-dom/index.js"),d=n("./node_modules/classnames/index.js"),c=n.n(d),u=n("./node_modules/@postman/react-click-outside/dist/index.js"),p=n.n(u),m=n("./node_modules/react-contenteditable/lib/react-contenteditable.js"),h=n.n(m),g=n("./onboarding/src/features/NewOnboardingFlow/Tag.js"),v=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),f=n("./node_modules/lodash/lodash.js");const b="editing",w=[" ",";",","],E=[9,13,32,186,188],y=27,C=8,x=46,_=v.default.div`
  .tag {
    display: inline-table;
    vertical-align: middle;
    border-radius: var(--border-radius-default);
    margin: var(--spacing-xs);
    padding: var(--spacing-s) var(--spacing-m);
    color: var(--content-color-primary);

    &-icon,
    &-text,
    &-remove-btn {
      position: relative;
      display: table-cell;
      vertical-align: middle;
    }

    &-text {
      padding: 0 var(--spacing-s);
    }

    &-remove-btn, &-icon {
      line-height: 10px;
    }

    .text:hover {
      cursor: text;
    }

    .tag-remove-btn:hover {
      cursor: pointer;
    }

    &-regular {
      background-color: var(--background-color-secondary);
      border: solid 1px var(--border-color-strong);
    }

    &-error {
      border: 1px dashed var(--base-color-error);
      background: var(--background-color-error);
    }
  }

  .tags-input-container {
    background-color: var(--background-color-primary);
    border: var(--border-width-default) solid var(--flow-input-border-color);
    border-radius: var(--border-radius-default);
    min-height: 100px;
    max-height: 112px;
    overflow: auto;
    word-break: break-all;
    font-size: var(--text-size-m);
    padding: var(--spacing-s);
    position: relative;
    box-sizing: border-box;

    .tags-input-placeholder {
      position: absolute;
      top: var(--spacing-s);
      left: var(--spacing-s);
      padding: var(--spacing-s);
      color: var(--content-color-secondary);
      line-height: var(--line-height-m);
    }

    .active-input {
      display: inline-block;
      vertical-align: middle;
      line-height: var(--line-height-m);
      min-width: $active-input-min-width;
      height: $active-input-height;
      margin: var(--spacing-xs);
      padding: var(--spacing-xs);
      border: none;
      outline: none;
    }
  }

  .tags-input-component-focused {
    border-color: var(--blue-30);
  }

  .tags-input-component-error {
    border-color: var(--base-color-error);
  }
`;class T extends a.Component{constructor(e){super(e),this.state={activeInput:{value:"",index:0,isLastNode:!0},previousValue:"",containerFocused:!1,blockInput:!1},this.activeInputRef=a.createRef(),this.handleActiveInputChange=this.handleActiveInputChange.bind(this),this.handleActiveInputClick=this.handleActiveInputClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleContainerClick=this.handleContainerClick.bind(this),this.focusActiveInput=this.focusActiveInput.bind(this),this.handlePaste=this.handlePaste.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidUpdate(e,t){!this.state.containerFocused||t.activeInput.index===this.state.activeInput.index&&e.tags.length===this.props.tags.length||this.focusActiveInput(),this.state.blockInput!==t.blockInput&&f.isFunction(this.props.onInputBlocked)&&this.props.onInputBlocked(this.state.blockInput)}focusActiveInput(){let e=(0,l.findDOMNode)(this.refs.contentEditable);e&&e.focus()}getTagFromString(e){return{value:e,type:this.props.tagValidator(e)?"regular":"error"}}shouldRenderPlaceHolder(){return 1===this.props.tags.length&&0===this.state.activeInput.index&&!this.state.activeInput.value||!this.state.activeInput.value&&!this.props.tags.length}checkEmailExists(e=this.props.tags,t){for(let n=0;n<e.length;++n)if(e[n].value===t&&e[n].type!==b)return!0;return!1}splitInput(e){let t=[],n={},a=!1;for(let t=0;t<w.length;++t)if(e.includes(w[t])){e=e.split(w[t]),a=!0;break}return t=a?e:[e],t.filter((e=>!n[e]&&(n[e]=!0)))}handlePaste(e){e.preventDefault();let t=e.clipboardData.getData("Text"),{activeInput:n,previousValue:a}=this.state,{tags:i}=this.props,o=i.reduce(((e,t)=>(e[t.value]=!0,e)),{}),s=this.splitInput(t).filter((e=>!(!e||o[e]||e===n.value||e===a))).map((e=>this.getTagFromString(r()(e)))),l=[...i,...s];n.isLastNode&&(n={...n,index:l.length}),this.setState({activeInput:n}),this.props.onTagsChange(l)}handleClickOutside(){this.setState({containerFocused:!1}),this.handleContainerClick()}handleContainerClick(e){e&&(this.state.containerFocused||this.setState({containerFocused:!0}),this.focusActiveInput());let{activeInput:t,previousValue:n}=this.state,{tags:a}=this.props,i={tags:a,activeInput:t,previousValue:n};i=this.saveActiveBadge(i),this.setState({activeInput:i.activeInput,previousValue:i.previousValue}),this.props.onTagsChange(i.tags)}handleRemove(e,t){t.stopPropagation();let n={tags:this.props.tags,activeInput:this.state.activeInput};n=this.removeEmail(n,e),this.setState({activeInput:n.activeInput}),this.props.onTagsChange(n.tags)}handleBackspaceAndDelete(e){if(!this.state.activeInput.value&&this.state.activeInput.index&&!this.state.activeInput.value){let t={tags:this.props.tags,activeInput:this.state.activeInput};t=this.removeEmail(t,e-1),this.setState({activeInput:t.activeInput}),this.props.onTagsChange(t.tags)}}handleEscapeKey(e){if(!this.state.previousValue)return;let{previousValue:t}=this.state,{tags:n}=this.props,a=[...n.slice(0,e),this.getTagFromString(t),...n.slice(e+1)],i={value:"",index:a.length,isLastNode:!0};this.setState({activeInput:i,previousValue:""}),this.props.onTagsChange(a)}saveActiveBadge(e){let{tags:t,activeInput:n,previousValue:a}=e;if(!n.value||this.checkEmailExists(t,n.value)){if(!n.isLastNode){let e=[...t.slice(0,n.index),...t.slice(n.index+1)];return a="",{tags:e,activeInput:{value:"",isLastNode:!0,index:e.length},previousValue:a}}return{...e,activeInput:{...n,value:""},previousValue:""}}let i=[...t.slice(0,n.index),this.getTagFromString(n.value),...t.slice(n.index+1)];return{tags:i,activeInput:{...n,value:"",index:i.length,isLastNode:!0},previousValue:""}}editEmail(e,t){let{tags:n,activeInput:a}=e,i=n[t].value,o={...a,value:i,index:t,isLastNode:n.length-1===a.index};return n[t].type=b,this.setState({blockInput:!1}),{tags:n,activeInput:o,previousValue:i}}removeEmail(e,t){let{activeInput:n,tags:a}=e,i=[...a.slice(0,t),...a.slice(t+1)],o={...n,index:t<n.index?n.index-1:n.index};return this.setState({blockInput:!1}),{tags:i,activeInput:o}}handleTagClick(e,t){t.stopPropagation(),2!==t.detail||this.handleTagDoubleClick(e)}handleTagDoubleClick(e){let t={tags:this.props.tags,activeInput:this.state.activeInput,previousValue:this.state.previousValue},n=t.tags.length;t=this.saveActiveBadge(t),t.tags.length<n&&this.state.activeInput.index<e&&e--,t=this.editEmail(t,e),this.setState({activeInput:t.activeInput,previousValue:t.previousValue}),this.props.onTagsChange(t.tags)}handleKeyDown(e){let t=e.keyCode;if(t!==y)if(t!==C&&t!==x){if(E.includes(t)&&(e.preventDefault(),!this.state.activeInput.isLastNode||this.state.activeInput.value)){let{activeInput:e,previousValue:t}=this.state,{tags:n}=this.props,a={tags:n,activeInput:e,previousValue:t};a=this.saveActiveBadge(a),this.setState({activeInput:a.activeInput,previousValue:a.previousValue}),this.props.onTagsChange(a.tags)}}else this.handleBackspaceAndDelete(this.state.activeInput.index);else this.handleEscapeKey(this.state.activeInput.index)}handleActiveInputChange(e){if(f.isFunction(this.props.shouldBlockInput)&&this.props.shouldBlockInput())return void this.setState({blockInput:!0});let t={...this.state.activeInput,value:r()(e.target.value)};this.setState({activeInput:t})}handleActiveInputClick(e){e.stopPropagation()}renderContentEditable(e){return a.createElement(h(),{contentEditable:!0,className:"active-input",html:e,ref:"contentEditable",key:"active-input",onChange:this.handleActiveInputChange,onClick:this.handleActiveInputClick,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste})}render(){return a.createElement(_,null,a.createElement("div",{className:c()(this.props.className,{"tags-input-component-focused":this.state.containerFocused},{"tags-input-component-error":this.props.error},"tags-input-container"),onClick:this.handleContainerClick},this.shouldRenderPlaceHolder()&&a.createElement("div",{className:"tags-input-placeholder soft-half"},"Enter an email address"),this.props.tags.map(((e,t)=>e.type===b?this.renderContentEditable(this.state.activeInput.value):a.createElement(g.default,{key:t,name:"tag",renderTagContent:this.props.renderTagContent,type:e.type,value:e.value,onClick:this.handleTagClick.bind(this,t),onClose:this.handleRemove.bind(this,t)}))),this.state.activeInput.isLastNode&&!this.state.blockInput&&this.renderContentEditable(this.state.activeInput.value)))}}T.propTypes={onTagsChange:o().func.isRequired,renderTagContent:o().func,tagValidator:o().func,tags:o().array},T.defaultProps={tags:[],tagValidator:()=>!0},t.default=p()(T)},"./onboarding/src/features/NewOnboardingFlow/UserFeedbackCompleted.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),l=n("../../node_modules/@postman/aether-icons/esmLib/src/design-system-icons/icon-state-success-stroke.js"),d=n("./growth/activation/experiment/growth-262/WorkspaceOverviewBannerInteractionHelper.js"),c=n("./growth/activation/experiment/growth-262/PersonalizedOnboardingHelper.js"),u=n("./growth/foundation/public/features/Checklist/constants/AllowedChecklists.js"),p=n("./growth/foundation/public/features/Checklist/services/APIService.js"),m=n("./growth/foundation/public/amplitude/AmplitudeService.js");function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}const g=(0,i.default)(o.default)`
  font-size: 14px;
`,v=(0,i.default)(s.default)`
  margin-top: 36px;
`,f={type:"primary",text:"Continue to Postman"};function b(e){return a.createElement("div",null,a.createElement(r.default,{gap:"spacing-s",alignItems:"center"},a.createElement(l.default,{color:"content-color-success"}),a.createElement(g,{color:"content-color-primary"},"Thank you for sharing your feedback")),a.createElement(v,h({},f,{onClick:async()=>{m.Ampli.getStartedContinueToPostmanClicked((0,m.getAmpliCTAProperties)(f)),await e.switchToWorkspace(),(0,p.startChecklist)(u.default.START_FROM_SCRATCH_CHECKLIST),c.personalizedOnboardingHelper.update("shouldShowLearningCenterBanner",!0),(0,d.writeInteractionData)()}})))}},"./onboarding/src/features/NewOnboardingFlow/UserFeedbackForm.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/CheckBox/Checkbox.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("./growth/activation/services/APIService.ts"),c=n("./onboarding/src/features/NewOnboardingFlow/UserFeedbackCompleted.js"),u=n("./growth/foundation/public/amplitude/AmplitudeService.js"),p=n("./node_modules/lodash/lodash.js");function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}const h=(0,i.default)(o.default)`
  margin-top: var(--spacing-m);
`,g=(0,i.default)(s.default)`
  margin-top: var(--spacing-l);
`,v=(0,i.default)(r.default)`
  margin-top: var(--spacing-xl);
  width: 164px;
`,f={type:"primary",text:"Submit"},b=[{key:"collaborate",label:"Collaborate with your coworkers and others"},{key:"understand-postman",label:"Understand what Postman has to offer"},{key:"work-with-apis",label:"Integrate Postman APIs into your current workflow"},{key:"pricing-plans",label:"Learn about Postman’s pricing plans"},{key:"other",label:"Other"}];function w(e){const[t,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)([!1,!1,!1,!1,!1]),[s,r]=(0,a.useState)(""),[w,E]=(0,a.useState)(!1),[y,C]=(0,a.useState)(!1),[x,_]=(0,a.useState)(!1),[T,S]=(0,a.useState)(!1);return x?a.createElement(c.default,{switchToWorkspace:e.switchToWorkspace}):a.createElement("div",null,a.createElement(l.default,{type:"h6",text:"Tell us, what are you looking to do today?",color:"content-color-secondary"}),p.map(b,((e,t)=>a.createElement(h,{label:e.label,key:e.key,isChecked:i[t],onChange:()=>{let n=[...i];n[t]=!n[t],o(n);let a=p.includes(n,!0);E(a),"other"===e.key&&(S(!0),C(n[t]))}}))),T&&a.createElement(g,{placeholder:"What else can we help you with?",width:"324px",value:s,isDisabled:!y,onChange:e=>{r(e.target.value)}}),a.createElement(v,m({},f,{onClick:()=>{n(!0);let e=[],t=[];p.map(i,((n,a)=>{n&&(t.push(b[a].key),e.push({key:b[a].key,message:"other"===b[a].key?s:b[a].label}))})),u.Ampli.getStartedLetUsKnowSubmitClicked({...(0,u.getAmpliCTAProperties)(f),user_feedback:t}),(0,d.sendUserFeedback)("growth-262-user-feedback",e),n(!1),_(!0)},isLoading:t,isDisabled:!w})))}},"./onboarding/src/features/NewOnboardingFlow/WelcomeToPostman.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a,i=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),o=n("../../node_modules/react/index.js"),s=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/TextInput/TextInput.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Label/Label.js"),u=n("../../node_modules/@postman/aether/esmLib/src/components/Dropdown/SingleSelect/SingleSelect.js"),p=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),m=n("./onboarding/src/common/apis/UserOnboardingAPI.js"),h=n("./growth/foundation/public/amplitude/AmplitudeService.js"),g=n("./growth/activation/stores/GrowthActivationExperimentStore.ts"),v=n("./node_modules/lodash/lodash.js");function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}const b=s.default.div`
  .revamp-onboarding {
    &-container {
      display: flex;
      flex-direction: column;

      &-heading {
        margin-bottom: var(--spacing-xl);
      }

      &-role-dropdown {
        margin-top: var(--spacing-xl);
        margin-bottom: var(--spacing-xxl);

        &-other-input {
          margin-top: var(--spacing-xs);
        }
      }

      &-button {
        width: calc(6 *var(--size-xs));
      }
    }
  }
`,w="Please tell us your name",E={type:"primary",text:"Continue"},y={type:"primary",text:"Get Started"};let C=(0,i.observer)(a=class extends o.Component{constructor(e){super(e),this.state={name:"",selectedRole:{},nameError:null,isSubmitting:!1},this.onRoleChange=this.onRoleChange.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleNameChange=this.handleNameChange.bind(this)}handleNameChange(e){e.target.value.trim()?this.setState({name:e.target.value,nameError:null}):this.setState({nameError:w,name:""})}handleSubmit(){if(!this.state.name)return void this.setState({nameError:w});let e=v.get(this.state,"selectedRole.value","other");h.Ampli.onboardingWelcomeContinueClicked({job_role:e,...(0,h.getAmpliCTAProperties)(E)}),this.setState({isSubmitting:!0});let t={name:this.state.name,role:this.state.selectedRole||{}};(0,m.setSettings)(t).then((()=>{this.props.continue&&this.props.continue()})).catch((()=>{(0,r.toast)({title:"Something went wrong",description:"Failed to set name and role . Please try it again.",status:"error"}),this.setState({isSubmitting:!1})}))}onRoleChange(e){const t=v.clone(e);t&&"other"===t.value&&(t.label=""),this.setState({selectedRole:t})}render(){const{name:e,selectedRole:t}=this.state;return o.createElement(b,null,o.createElement("div",{className:"revamp-onboarding-container"},o.createElement(l.default,{type:"h1",className:"revamp-onboarding-container-heading",text:"Welcome to Postman! Tell us a bit about yourself.","data-testid":"onboarding-welcome-header"}),o.createElement(d.default,{autoFocus:!0,placeholder:"eg: John Doe",value:this.state.name,className:"revamp-onboarding-container-name-input",validationStatus:this.state.nameError&&"error",validationMessage:this.state.nameError,label:o.createElement(c.default,{text:"Your name"}),onChange:this.handleNameChange}),o.createElement("div",{className:"revamp-onboarding-container-role-dropdown"},o.createElement(u.default,{onChange:this.onRoleChange,options:this.props.roleOptions,placeholder:"Select your role",label:"What is your role?",helperText:"Knowing your role will help us offer you a better experience",emptyStateMessage:"Oh! Your role is new to us. Please select 'other' to mention.",menuMaxHeight:200}),"other"===v.get(t,"id")&&o.createElement(d.default,{autoFocus:!0,placeholder:"Enter your role",className:"revamp-onboarding-container-role-dropdown-other-input",value:v.get(t,"label",""),onChange:e=>{this.setState({selectedRole:{...t,label:e.target.value}})}})),o.createElement(p.default,f({size:"medium",isLoading:this.state.isSubmitting,isDisabled:v.isEmpty(e)||v.isEmpty(v.get(t,"label","")),className:"revamp-onboarding-container-button",onClick:()=>{this.handleSubmit()}},g.activationExperimentStore.switchDirectlyToWS.isEnabled?y:E))))}})||a},"./onboarding/src/features/NewOnboardingFlow/WelcomeToPostmanIllustration.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return r}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const o="https://skills-assets.pstmn.io/onboarding/Welcome.svg",s="https://skills-assets.pstmn.io/onboarding/UserOnboarding/Welcome-dark.svg";function r(){const e=(0,i.useTheme)();return a.createElement("img",{src:"dark"===e.name?s:o,width:"432",height:"320"})}},"./onboarding/src/features/NewOnboardingFlow/index.js":function(e,t,n){"use strict";n.r(t);var a,i=n("../../node_modules/react/index.js"),o=n("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),r=n("./onboarding/src/common/LaunchDarkly.js"),l=n("../../node_modules/@postman/aether/esmLib/src/components/Illustration/Illustration.js"),d=n("../../node_modules/@postman/aether/esmLib/src/components/Spinner/Spinner.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),u=n("./onboarding/src/common/apis/UserOnboardingAPI.js"),p=n("./onboarding/src/features/NewOnboardingFlow/JoinTeam.js"),m=n("./onboarding/src/features/NewOnboardingFlow/WelcomeToPostman.js"),h=n("./onboarding/src/features/NewOnboardingFlow/WelcomeToPostmanIllustration.js"),g=n("./onboarding/src/features/NewOnboardingFlow/InviteTeammatesIllustration.js"),v=n("./onboarding/src/features/NewOnboardingFlow/JoinTeamIllustration.js"),f=n("./onboarding/src/features/NewOnboardingFlow/InviteTeammates.js"),b=n("./onboarding/src/features/NewOnboardingFlow/GetStartedWithApis.js"),w=n("./purchase/components/TrialActivationModal.js"),E=n("./collaboration/workspace/controller/WorkspaceControllerWithGateway.ts"),y=n("./js/services/NavigationService.js"),C=n("./collaboration/workspace/types/WorkspaceTypes.ts"),x=n("./onboarding/navigation/constants.js"),_=n("./growth/foundation/public/amplitude/AmplitudeService.js"),T=n("./js/external-navigation/ExternalNavigationService.js"),S=n("./growth/activation/services/APIService.ts"),k=n("./growth/activation/stores/GrowthActivationExperimentStore.ts"),I=n("./onboarding/src/features/FeatureOverview/Constants.js"),j=n("./growth/activation/constants/NavigationConstants.ts"),O=n("./growth/foundation/public/features/Checklist/constants/AllowedChecklists.js"),A=n("./growth/foundation/public/features/Checklist/services/APIService.js"),L=n("./growth/activation/experiment/growth-354/DownloadPostmanApp.js"),P=n("./onboarding/src/features/NewOnboardingFlow/OnboardingPageHeader.js"),D=n("./growth/activation/common/GrowthActivationHelper.js"),N=n("./growth/activation/features/TeamJoiner/TeamJoinerPopoverHelper.js"),R=n("./js/modules/services/AnalyticsService.js"),M=n("./billing/stores/TrialStore.js"),F=n("./runtime-repl/request-http/_api/RequestInterface.js"),U=n("./node_modules/lodash/lodash.js");const W={LOGIN:"login",SIGN_UP:"signup"},V="join-team",H=o.default.div`
  height: 100vh;
  overflow: auto;

  .onboarding-container {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: flex-start;
    grow: 1;
    shrink: 1;
    gap: 196px;
    margin-bottom: var(--size-s);
  }
  .form-container {
    width: calc(26* var(--size-xs));
    margin-top: 32px;
  }
  .illustration-container {
    max-height: 450px;
    width: 582px;
  }
  .loading-indicator {
    position: fixed;
    top: 40%;
    left: 50%;
  }
`,B=o.default.div`
    width: 58.17px;
    height: 5px;
    background: ${e=>e.step<=e.activePageIndex?"#FF8E64":"#FFF1EB"};
    border-radius: 8px;
    margin-bottom: 36px;
  `,z="welcomeToPostman",K="joinTeam",G="inviteTeammates",q="getStartedWithApis",$="downloadPostmanApp",Y={name:"Personal Workspace",summary:"This is your personal, private workspace to play around in.",visibilityStatus:C.VISIBILITY_STATUS.personal,roles:{}},J=(C.VISIBILITY_STATUS.team,"build.overview"),X="non_team_user_signup",Q="team_user_signup",Z="existing_user_team_join",ee=[0,1],te="source=",ne=pm.logger.getContext("NewOnboardingFlow","growth");let ae=(0,s.observer)(a=class extends i.Component{constructor(e){super(e),this.state={flow:[],activePageIndex:0,roleOptions:[],isLoading:!0,continueUrl:null,discoverableTeams:[],emailVerified:!1,teamId:null,showStartEnterpriseModal:!1,isPartner:!1,authAction:W.SIGNUP,intent:null,onEnterpriseTrial:!1,hasRedirectedFromPublicWorkspace:!1,hasRedirectedFromEnterpriseTrial:!1,isUserEligibleForDownloadPageExperiment:!1},this.handleContinue=this.handleContinue.bind(this),this.handleSkip=this.handleSkip.bind(this),this.switchToBuildMode=this.switchToBuildMode.bind(this),this.redirectNewUserToPersonalWorkspace=this.redirectNewUserToPersonalWorkspace.bind(this)}async componentDidMount(){await Promise.race([r.launchDarkly.onInitialization(),new Promise((e=>setTimeout((()=>{r.launchDarkly.ldClient||pm.logger.info("NewOnboardingFlow~index",new Error("Ld initialization took more than 10sec"),{ldContext:ne}),e()}),1e4)))]),this._init()}getOnboardingType(e,t){return e!==V?X:t===W.SIGN_UP?Q:Z}async _init(){try{let{teamId:e,onboarded:t,continueUrl:n,authAction:a,intent:i,isPartner:o}=await(0,u.getStatus)();this.setState({continueUrl:n});const{hasRedirectedFromPublicWorkspace:s,hasRedirectedFromEnterpriseTrial:r}=this.hasUserRedirectedFromPublicWorkspace({intent:i,continueUrl:n}),{isUserEligibleForDownloadPageExperiment:l}=this.decideOnUserEligibilityForDownloadPage({intent:i,hasRedirectedFromEnterpriseTrial:r,hasRedirectedFromPublicWorkspace:s});if("browser"===window.SDK_PLATFORM&&window.pm&&"function"==typeof window.pm.scalp){const{baseObject:e}=window.pm.bulkAnalytics||{},{userId:t}=e;window.pm.scalp("pm-analytics","onboarding",t||"initialized")}const{experimentId:d,variationId:c}=k.activationExperimentStore.personalizedOnboardingExperimentV2;if((0,_.ampliIdentifyExperimentV2)({experimentId:d,variationId:c}),(0,_.ampliIdentifyExperimentV2)({experimentId:k.activationExperimentStore.switchDirectlyToWS.experimentId,variationId:k.activationExperimentStore.switchDirectlyToWS.variationId}),l&&(0,_.ampliIdentifyExperimentV2)({experimentId:k.activationExperimentStore.downloadPostmanApp.experimentId,variationId:k.activationExperimentStore.downloadPostmanApp.variationId}),_.Ampli.onboardingStarted({onboarding_type:this.getOnboardingType(i,a)}),t||a!==W.SIGN_UP&&i===V)return this.setState({teamId:e,continueUrl:n,isLoading:!0,authAction:a,intent:i,isPartner:o}),this.switchToBuildMode();let{email_verified:p,email:m}=await(0,u.getUserDetails)(),{teams:h}=await(0,u.getDiscoverableTeams)(),g=Boolean(parseInt(p)),v=m&&m.split("@")[1];if(!k.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled||this.state.hasRedirectedFromEnterpriseTrial){let{roleOptions:t}=await(0,u.getSettings)();this.setState({roleOptions:t}),_.Ampli.onboardingWelcomePageViewed(U.assign({},{email_domain:v,team_id:e?e.toString():"",organization_domain:""},(0,_.getAmpliPageViewedProperties)()))}this.setState({teamId:e,discoverableTeams:h,flow:this.getActiveFlow({teams:h,intent:i,isUserEligibleForDownloadPageExperiment:l}),emailVerified:g,isPartner:o,authAction:a,intent:i}),this.setState({isLoading:!1}),R.default.addEventV2({category:"onboarding",action:"mounted",label:e?"team-user":"non-team-user"})}catch{this.setState({roleOptions:[],isLoading:!1,flow:[],discoverableTeams:[],emailVerified:!1,teamId:null})}}getActiveFlowForPersonalizedExperiment(e){return U.isEmpty(e)?this.state.hasRedirectedFromPublicWorkspace?this.switchToBuildMode():[q]:this.state.hasRedirectedFromPublicWorkspace?[K]:[K,q]}getActiveFlowForDownloadPostmanFlow(){return[z,$]}getActiveFlow({teams:e,intent:t,isUserEligibleForDownloadPageExperiment:n}){return t!==V?k.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled&&!this.state.hasRedirectedFromEnterpriseTrial?this.getActiveFlowForPersonalizedExperiment(e):n&&k.activationExperimentStore.downloadPostmanApp.isEnabled?this.getActiveFlowForDownloadPostmanFlow():U.isEmpty(e)?[z,G]:[z,K,G]:(ee.pop(),[z])}sendTeamJoinerEventToIterable(){this.state.isPartner||this.state.intent===V&&(0,S.sendEventToIterable)({eventName:"teamJoinEmail"})}async getPersonalWorkspaceId(){let e=U.get(await E.default.findAllWithGateway({visibilityStatus:"personal",limit:1}),"data.0.id");if(!e){e=(await E.default.createWithGateway(Y)).data.id}return e}navigateToPersonalWorkspace(e){return k.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled||k.activationExperimentStore.switchDirectlyToWS.isEnabled&&this.state.flow[0]===z?y.default.transitionTo(J,{wid:e},null):y.default.transitionTo(J,{wid:e},{[j.WELCOME_TO_WORKSPACE_MODAL]:j.WELCOME_TO_WORKSPACE_MODAL_VALUE})}async redirectNewUserToPersonalWorkspace(){let e=await this.getPersonalWorkspaceId();if(e)return this.navigateToPersonalWorkspace(e);y.default.transitionTo(x.HOME_IDENTIFIER)}async redirectToWorkspacesPage(){"browser"!==window.SDK_PLATFORM?y.default.transitionTo(x.OPEN_WORKSPACES_HOME_IDENTIFIER):(0,T.openExternalLink)(`${pm.dashboardUrl}/${x.OPEN_WORKSPACES_HOME_IDENTIFIER}`)}async redirectNewUserToTeamWorkspace(){let e=U.get(await E.default.findAllWithGateway({visibilityStatus:"team",limit:1}),"data.0.id");if(e)return"browser"===window.SDK_PLATFORM?(0,T.openExternalLink)(`${pm.artemisUrl}/workspace/${e}/overview?${I.TEAM_FEATURE_OVERVIEW_KEY}=${I.TEAM_FEATURE_OVERVIEW_VALUE}`):y.default.transitionTo(J,{wid:e},{[I.TEAM_FEATURE_OVERVIEW_KEY]:I.TEAM_FEATURE_OVERVIEW_VALUE});this.redirectToWorkspacesPage()}async enableChecklistForUser(e=!1){if(!this.state.isPartner){if(this.state.intent===V)return(0,A.startChecklist)(O.default.TEAM_USER_SIGNUP_CHECKLIST);if(e)return(0,A.startChecklist)(O.default.TEAM_CREATOR_CHECKLIST);if(!k.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled||this.state.hasRedirectedFromEnterpriseTrial)return(0,A.startChecklist)(O.default.FREE_USER_SIGNUP_CHECKLIST)}}setWorkspaceSwitcherData(){this.state.isPartner||(0,N.getWorkspaceSwitcherData)().then((e=>{e&&e.badgeDismissed&&e.popoverDismissed||(D.activationHelper.update("workspaceSwitcher",{badgeDismissed:!1,popoverDismissed:!1}),(0,N.writeInteractionData)())})).catch((e=>{pm.logger.error("An error occurred while fetching workspace switcher data from IES",e)}))}async handleTeamJoinerNavigation(){if(this.state.continueUrl){const e=new URL(this.state.continueUrl);if(e.pathname.includes("/workspace/")){let t;return this.setState({isLoading:!0}),this.setWorkspaceSwitcherData(),t=e.pathname.endsWith("/")?new URL(`${e.origin}${e.pathname}overview${e.search}`):new URL(`${e.origin}${e.pathname}/overview${e.search}`),this.state.isPartner?t.searchParams.append(j.PARTNER_ONBOARDING_QUERY_KEY,j.PARTNER_ONBOARDING_QUERY_VALUE):t.searchParams.append(j.WELCOME_TO_WORKSPACE_MODAL,j.WELCOME_TO_WORKSPACE_MODAL_VALUE),"browser"===window.SDK_PLATFORM?(0,T.openExternalLink)(t):void y.default.openURL(t)}}this.setState({isLoading:!0}),this.setWorkspaceSwitcherData();const e=await E.default.findAllWithGateway({visibilityStatus:"team",limit:50,include:[C.WORKSPACE_FIND_ALL_INCLUDE.contributors]});let t=[];U.map(e.data,(e=>{const n=U.get(e,"id",null),a=U.get(e,"contributors",[]),i=U.get(a,"user.length",0);t.push({workspaceId:n,contributorsSize:i})})),t=U.orderBy(t,"contributorsSize","desc");let n=U.get(t,"0.workspaceId",null);if(n)return"browser"===window.SDK_PLATFORM?n&&(0,T.openExternalLink)(`${pm.artemisUrl}/workspace/${n}/overview?${j.WELCOME_TO_WORKSPACE_MODAL}=${j.WELCOME_TO_WORKSPACE_MODAL_VALUE}`):void(n&&y.default.transitionTo(J,{wid:n},{WELCOME_TO_WORKSPACE_MODAL:j.WELCOME_TO_WORKSPACE_MODAL,WELCOME_TO_WORKSPACE_MODAL_VALUE:j.WELCOME_TO_WORKSPACE_MODAL_VALUE}));this.redirectToWorkspacesPage()}async switchToBuildMode(e=!1,t=!1){this.setState({isLoading:!0});try{if(_.Ampli.userOnboardingSuccessful(),this.sendTeamJoinerEventToIterable(),await this.enableChecklistForUser(e),(0,u.updateOnboardingState)({team:!!this.state.teamId,onboarded:!0}),"browser"!==window.SDK_PLATFORM&&await new Promise((e=>{pm.mediator.trigger("scratchpad-setup",(()=>e()))})),this.state.intent===V)return this.handleTeamJoinerNavigation();if(this.state.continueUrl&&(this.state.hasRedirectedFromPublicWorkspace||this.state.hasRedirectedFromEnterpriseTrial)){const e=new URL(this.state.continueUrl);return k.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled&&e.searchParams.append(j.WELCOME_TO_WORKSPACE_MODAL,j.WELCOME_TO_WORKSPACE_MODAL_VALUE),this.state.onEnterpriseTrial&&e.searchParams.append("enterprise_modal_viewed","true"),void("browser"===window.SDK_PLATFORM?(0,T.openExternalLink)(e.toString()):y.default.openURL(e.toString()))}if(e)return void await this.redirectNewUserToTeamWorkspace();if(k.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled&&t)return;if(await this.redirectNewUserToPersonalWorkspace(),k.activationExperimentStore.switchDirectlyToWS.isEnabled){const e={url:"https://www.postman-echo.com/get"};(0,F.openNewRequestTab)({initialValue:e})}}catch{}}handleSkip(){let{activePageIndex:e,flow:t}=this.state;k.activationExperimentStore.personalizedOnboardingExperimentV2.isEnabled?this.state.hasRedirectedFromPublicWorkspace||this.state.hasRedirectedFromEnterpriseTrial?this.switchToBuildMode():t[e]===K&&this.setState({activePageIndex:e+1}):this.switchToBuildMode()}hasUserRedirectedFromPublicWorkspace({intent:e,continueUrl:t}){if(e!==V&&t){const e=U.includes(t,te),n=U.includes(t,"/workspace/");if(e)return this.setState({hasRedirectedFromEnterpriseTrial:!0}),{hasRedirectedFromEnterpriseTrial:!0,hasRedirectedFromPublicWorkspace:!1};if(n)return this.setState({hasRedirectedFromPublicWorkspace:!0}),{hasRedirectedFromPublicWorkspace:!0,hasRedirectedFromEnterpriseTrial:!1}}return{hasRedirectedFromEnterpriseTrial:!1,hasRedirectedFromPublicWorkspace:!1}}decideOnUserEligibilityForDownloadPage({intent:e,hasRedirectedFromEnterpriseTrial:t,hasRedirectedFromPublicWorkspace:n}){return e===V||n||t?{isUserEligibleForDownloadPageExperiment:!1}:(this.setState({isUserEligibleForDownloadPageExperiment:!0}),{isUserEligibleForDownloadPageExperiment:!0})}handleContinue(){let{activePageIndex:e,flow:t}=this.state;if(1===t.length&&t[0]===z&&this.switchToBuildMode(),0===e&&(k.activationExperimentStore.switchDirectlyToWS.isEnabled&&t[e]===z&&this.switchToBuildMode(!1,!1),this.state.continueUrl&&this.state.continueUrl.includes(te))){const t=U.get(M.default.trialConfig,"trials",{}),n=new URL(this.state.continueUrl),a=`client_${n.searchParams.get("source")}`,i=U.get(t,a,"");U.isEmpty(i)?(this.setState({activePageIndex:e+1}),pm.logger.info("NewOnboardingFlow~index",new Error("Trial config could not be found."),{ldContext:ne})):(n.searchParams.append("enterprise_modal_viewed","true"),this.setState({showStartEnterpriseModal:!0,continueUrl:n,selectedTrialConfig:i,trialClientId:a}))}else this.setState({activePageIndex:e+1})}getActivePage(e){switch(e){case z:return i.createElement(m.default,{continue:this.handleContinue,roleOptions:this.state.roleOptions});case K:return i.createElement(p.default,{continue:this.handleContinue,discoverableTeams:this.state.discoverableTeams,switchToWorkspace:this.switchToBuildMode,emailVerified:this.state.emailVerified,handleSkip:this.handleSkip});case G:return i.createElement(f.default,{switchToWorkspace:this.switchToBuildMode,discoverableTeams:!U.isEmpty(this.state.discoverableTeams),onEnterpriseTrial:this.state.onEnterpriseTrial,teamId:this.state.teamId});case q:return i.createElement(b.default,{switchToWorkspace:this.switchToBuildMode});case $:return i.createElement(L.default,{switchToWorkspace:this.switchToBuildMode});default:return null}}getActivePageIllustration(e){switch(e){case z:return i.createElement(h.default,null);case K:return i.createElement(v.default,null);case G:return i.createElement(g.default,null);case $:return i.createElement(l.default,{name:"page-illustration-download-postman"});default:return null}}render(){const{hasRedirectedFromEnterpriseTrial:e,flow:t,activePageIndex:n,isLoading:a}=this.state,{isEnabled:o}=k.activationExperimentStore.personalizedOnboardingExperimentV2,s=!o||e,r=this.state.isUserEligibleForDownloadPageExperiment?k.activationExperimentStore.downloadPostmanApp:"",l=t[n]===$,u=U.get(r,"isEnabled")&&l&&!a;return i.createElement(H,null,i.createElement(P.default,{shouldRenderAppDownloadHeader:u,switchToBuildMode:this.switchToBuildMode,isLoading:this.state.isLoading}),this.state.isLoading?i.createElement("div",{className:"loading-indicator"},i.createElement(d.default,{size:"small"})):i.createElement(c.default,{direction:"row",justifyContent:"center",padding:{paddingLeft:"spacing-xxxl",paddingRight:"spacing-xxxl",paddingBottom:"spacing-xxxl"},gap:"spacing-xxxl",grow:1},i.createElement(c.default,{shrink:1,direction:"column",width:this.state.flow[this.state.activePageIndex]===q?"":"420px"},s&&i.createElement(c.default,{shrink:1,alignItems:"flex-start",justifyContent:"flex-start",direction:"row",gap:"spacing-xs"},!k.activationExperimentStore.switchDirectlyToWS.isEnabled&&ee.map((e=>i.createElement(B,{step:e,key:e,activePageIndex:this.state.activePageIndex})))),this.getActivePage(this.state.flow[this.state.activePageIndex],this.state.activePageIndex)),this.state.flow[this.state.activePageIndex]!==q&&i.createElement(c.default,{direction:"column",alignItems:"center",justifyContent:"center",hiddenFor:["mobile","tablet"],height:"450px",width:"582px",overflow:"unset",padding:{paddingLeft:"spacing-xxxl",paddingTop:s?"spacing-zero":"spacing-xxl"}},this.getActivePageIllustration(this.state.flow[this.state.activePageIndex]))),i.createElement(w.default,{trialClientId:this.state.trialClientId,selectedTrialConfig:this.state.selectedTrialConfig,showModal:this.state.showStartEnterpriseModal,setShowModal:e=>this.setState({showStartEnterpriseModal:e}),continue:(e,t)=>{const n=e?[z,G]:this.state.flow;this.setState({activePageIndex:1,flow:n,onEnterpriseTrial:e,teamId:t})},onboardingFlow:!0}))}})||a;t.default=ae},"./onboarding/src/features/TeamOnboarding/components/CompoundInput/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n("../../node_modules/react/index.js"),i=n("./node_modules/classnames/index.js"),o=n.n(i),s=n("./js/components/base/Inputs.js"),r=n("./node_modules/lodash/lodash.js");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function d(e){const{label:t,readOnly:n,errorMessage:i,className:d,status:c,onChange:u,...p}=e;return a.createElement("div",{className:o()(d,"")},!r.isEmpty(t)&&a.createElement("div",{className:"compound-input__label"},t),a.createElement("div",{className:"compound-input__field"},a.createElement(s.Input,l({readOnly:n,inputStyle:"box",type:"text",onChange:u},p)),!r.isEmpty(i)&&a.createElement("div",{className:o()({"compound-input__message":"message"===c,"compound-input__error":"message"!==c})},i)))}},"./onboarding/src/features/TeamOnboarding/components/Header/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var a=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),o=n.n(i);function s(e){return a.createElement("div",{className:"header-container"},a.createElement("div",{className:"header"},a.createElement("div",{className:"header--title-container"},a.createElement("div",{className:"header--title"},e.title),a.createElement("div",{className:"header--subtitle"},e.subtitle))))}s.propTypes={subtitle:o().string,title:o().string}},"./onboarding/src/features/TeamOnboarding/components/ImageInput/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{FileInput:function(){return v},default:function(){return f}});var a=n("../../node_modules/react/index.js"),i=n("./node_modules/react-image-crop/dist/ReactCrop.min.js"),o=n.n(i),s=n("./node_modules/classnames/index.js"),r=n.n(s),l=n("./node_modules/prop-types/index.js"),d=n.n(l),c=n("./js/components/base/Buttons.js");const u="pm-image-input",p="Image is too large. Please use an image under 2 MB.",m="We couldn't read that. Please upload an image file, like a jpg or png.",h=".jpg, .jpeg, .png",g={maxHeight:"60vh",objectFit:"contain"};function v(e){const{handleChange:t,id:n}=e;return a.createElement("div",{className:`${u}__input`},a.createElement("div",{className:`${u}__input-prompt-drag`},"Drag and drop an image"),a.createElement("div",{className:`${u}__input-prompt`},"or"),a.createElement("input",{accept:h,id:n,type:"file",onChange:t}),a.createElement("div",{className:`${u}__input-prompt`},a.createElement(c.Button,{className:`${u}__input-button`,type:"secondary"},a.createElement("input",{accept:h,id:n,type:"file",onChange:t}),a.createElement("label",{htmlFor:n},"Select a file"))))}v.propTypes={handleChange:d().func,id:d().string.isRequired};class f extends a.Component{constructor(e){super(e),this.state={file:null,crop:this.props.crop,imageScalingFactor:{}},this.handleChange=this.handleChange.bind(this),this.handleCropChange=this.handleCropChange.bind(this),this.handleCropComplete=this.handleCropComplete.bind(this),this.onImageLoaded=this.onImageLoaded.bind(this),this.handleResetState=this.handleResetState.bind(this)}handleCropComplete(e){this.props.onChange(e||this.state.crop,this.state.file,this.state.imageScalingFactor)}handleChange(e){try{let t=new FileReader,n=e.target.files[0];if(e.target.files[0].size>2097152)throw new Error(p);t.onloadend=()=>{var e;(e=t.result,["data:image/jpg","data:image/jpeg","data:image/png"].some((t=>e.startsWith(t))))?this.setState({file:t.result}):this.props.onError(m)},t.readAsDataURL(n)}catch(e){return void this.props.onError(e.message===p?p:m)}}handleResetState(){this.setState({file:null,crop:this.props.crop,imageScalingFactor:{}})}onImageLoaded(e){this.setState({imageScalingFactor:{scaleX:e.naturalWidth/e.width,scaleY:e.naturalHeight/e.height}},(()=>{this.handleCropComplete()}))}handleCropChange(e){this.setState({crop:e})}render(){const{className:e,isImageUploading:t}=this.props,{crop:n,file:i}=this.state;return a.createElement("div",{className:r()(u,e)},i?a.createElement(o(),{keepSelection:!0,crop:{...n,aspect:this.props.aspect},disabled:t,src:i,onChange:this.handleCropChange,onComplete:this.handleCropComplete,onImageLoaded:this.onImageLoaded,imageStyle:g}):a.createElement(v,{handleChange:this.handleChange,id:"upload-user-image"}))}}f.defaultProps={crop:{width:80,unit:"%",aspect:1}},f.propTypes={className:d().string,imageURI:d().string,isImageUploading:d().bool}},"./onboarding/src/features/TeamOnboarding/components/ImageUploadModal/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{ImageUploadModal:function(){return f}});var a=n("../../node_modules/react/index.js"),i=n("./js/components/base/Modals.js"),o=n("./js/components/base/Buttons.js"),s=n("./onboarding/src/features/TeamOnboarding/components/ImageInput/index.js"),r=n("./node_modules/prop-types/index.js"),l=n.n(r),d=n("./js/components/base/Icons/CloseIcon.js"),c=n("./onboarding/src/common/apis/OnboardingService.js"),u=n("./js/components/base/LoadingIndicator.js"),p=n("./js/modules/services/AnalyticsService.js"),m=n("./node_modules/lodash/lodash.js");const h={crop:{},imageURI:"",imageScalingFactor:{},isImageUploading:!1},g={marginBottom:"var(--spacing-xl)",marginTop:"5vh"},v={overflow:"auto"};class f extends a.Component{constructor(e){super(e),this.state=h,this.onConfirm=this.onConfirm.bind(this),this.handleClose=this.handleClose.bind(this),this.onChange=this.onChange.bind(this),this.onError=this.onError.bind(this)}onConfirm(){let e={crop:this.scaleCropDimensions(),imageData:this.state.imageURI,isDefaultIcon:!1};this.setState({isImageUploading:!0,error:null}),this.props.team&&(e.folder="team",e.upload_preset="team_logo",e.public_id=this.props.logoKey),this.props.folder&&(e.folder=this.props.folder),this.props.upload_preset&&(e.upload_preset=this.props.upload_preset),this.props.logoKey&&(e.public_id=this.props.logoKey),(0,c.uploadProfilePicture)(e,((e,t)=>{if(this.setState({isImageUploading:!1}),e)return void this.onError("There was a problem uploading your image. Please try again.","error");const n=m.get(t,"secure_url");n&&this.props.handleImageUploaded(n,!1),p.default.addEventV2({category:"new_user_onboarding",action:"successful_upload",label:this.props.team?"team_profile_pic":"user_profile_pic"}),this.props.onClose()}))}scaleCropDimensions(){const{scaleX:e,scaleY:t}=this.state.imageScalingFactor;return{x:Math.trunc(this.state.crop.x*e),y:Math.trunc(this.state.crop.y*t),width:Math.trunc(this.state.crop.width*e),height:Math.trunc(this.state.crop.height*t)}}onChange(e,t,n){this.setState({crop:e,imageURI:t,imageScalingFactor:n})}onError(e){pm.toasts.error(e)}handleClose(){if(this.state.imageURI)return this.setState(h),void(this.refs.imageInput&&this.refs.imageInput.handleResetState());this.props.onClose()}render(){const{isImageUploading:e,imageURI:t}=this.state;return a.createElement(i.Modal,{isOpen:this.props.isOpen,onHide:this.handleClose,customOverlayStyles:v,customStyles:g},a.createElement(i.ModalHeader,null,this.props.title,a.createElement(d.default,{className:"image-upload-modal-close",onClick:this.props.onClose})),a.createElement(i.ModalContent,null,a.createElement("p",null,this.props.body),a.createElement(s.default,{isImageUploading:e,ref:"imageInput",onChange:this.onChange,onError:this.onError,aspect:this.props.aspect||1})),a.createElement(i.ModalFooter,null,a.createElement(o.Button,{type:"primary",className:"image-upload-modal-upload",onClick:this.onConfirm,disabled:!t||e},e?a.createElement(u.default,null):"Upload"),a.createElement(o.Button,{type:"secondary",className:"image-upload-modal-back",onClick:this.handleClose,disabled:e},this.state.imageURI?"Back":"Cancel")))}}f.propTypes={handleImageUploaded:l().func,isOpen:l().bool,onClose:l().func},t.default=f},"./onboarding/src/features/TeamOnboarding/components/TagsInput/Tag.js":function(e,t,n){"use strict";n.r(t);var a=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),o=n.n(i),s=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js");const r=e=>a.createElement("div",{className:`tag tag-${e.type}`,name:e.name,onClick:e.onClick},e.renderTagContent({value:e.value,type:e.type}),a.createElement("div",{className:"tag-remove-btn",onClick:e.onClose},a.createElement(s.default,{name:"icon-action-close-stroke",color:"content-color-primary",size:"small"})));r.propTypes={name:o().string,onClick:o().func,onClose:o().func,renderContent:o().func,type:o().oneOf(["regular","error"]),value:o().string},r.defaultProps={renderTagContent:function(e){return a.createElement("div",null,a.createElement("div",{className:"tag-text"},e.value))},onClose:()=>{},onClick:()=>{},type:"regular",name:"tag",value:""},t.default=r},"./onboarding/src/features/TeamOnboarding/components/TagsInput/index.js":function(e,t,n){"use strict";n.r(t);var a=n("../../node_modules/react/index.js"),i=n("./node_modules/prop-types/index.js"),o=n.n(i),s=n("./node_modules/@postman/sanitise-user-content/index.js"),r=n.n(s),l=n("../../node_modules/react-dom/index.js"),d=n("./node_modules/classnames/index.js"),c=n.n(d),u=n("./node_modules/@postman/react-click-outside/dist/index.js"),p=n.n(u),m=n("./node_modules/react-contenteditable/lib/react-contenteditable.js"),h=n.n(m),g=n("./onboarding/src/features/TeamOnboarding/components/TagsInput/Tag.js"),v=n("./node_modules/lodash/lodash.js");const f="editing",b=[" ",";",","],w=[9,13,32,186,188],E=27,y=8,C=46;class x extends a.Component{constructor(e){super(e),this.state={activeInput:{value:"",index:0,isLastNode:!0},previousValue:"",containerFocused:!1,blockInput:!1},this.activeInputRef=a.createRef(),this.handleActiveInputChange=this.handleActiveInputChange.bind(this),this.handleActiveInputClick=this.handleActiveInputClick.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleContainerClick=this.handleContainerClick.bind(this),this.focusActiveInput=this.focusActiveInput.bind(this),this.handlePaste=this.handlePaste.bind(this),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidUpdate(e,t){!this.state.containerFocused||t.activeInput.index===this.state.activeInput.index&&e.tags.length===this.props.tags.length||this.focusActiveInput(),this.state.blockInput!==t.blockInput&&v.isFunction(this.props.onInputBlocked)&&this.props.onInputBlocked(this.state.blockInput)}focusActiveInput(){let e=(0,l.findDOMNode)(this.refs.contentEditable);e&&e.focus()}getTagFromString(e){return{value:e,type:this.props.tagValidator(e)?"regular":"error"}}shouldRenderPlaceHolder(){return 1===this.props.tags.length&&0===this.state.activeInput.index&&!this.state.activeInput.value||!this.state.activeInput.value&&!this.props.tags.length}checkEmailExists(e=this.props.tags,t){for(let n=0;n<e.length;++n)if(e[n].value===t&&e[n].type!==f)return!0;return!1}splitInput(e){let t=[],n={},a=!1;for(let t=0;t<b.length;++t)if(e.includes(b[t])){e=e.split(b[t]),a=!0;break}return t=a?e:[e],t.filter((e=>!n[e]&&(n[e]=!0)))}handlePaste(e){e.preventDefault();let t=e.clipboardData.getData("Text"),{activeInput:n,previousValue:a}=this.state,{tags:i}=this.props,o=i.reduce(((e,t)=>(e[t.value]=!0,e)),{}),s=this.splitInput(t).filter((e=>!(!e||o[e]||e===n.value||e===a))).map((e=>this.getTagFromString(r()(e)))),l=[...i,...s];n.isLastNode&&(n={...n,index:l.length}),this.setState({activeInput:n}),this.props.onTagsChange(l)}handleClickOutside(){this.setState({containerFocused:!1}),this.handleContainerClick()}handleContainerClick(e){e&&(this.state.containerFocused||this.setState({containerFocused:!0}),this.focusActiveInput());let{activeInput:t,previousValue:n}=this.state,{tags:a}=this.props,i={tags:a,activeInput:t,previousValue:n};i=this.saveActiveBadge(i),this.setState({activeInput:i.activeInput,previousValue:i.previousValue}),this.props.onTagsChange(i.tags)}handleRemove(e,t){t.stopPropagation();let n={tags:this.props.tags,activeInput:this.state.activeInput};n=this.removeEmail(n,e),this.setState({activeInput:n.activeInput}),this.props.onTagsChange(n.tags)}handleBackspaceAndDelete(e){if(!this.state.activeInput.value&&this.state.activeInput.index&&!this.state.activeInput.value){let t={tags:this.props.tags,activeInput:this.state.activeInput};t=this.removeEmail(t,e-1),this.setState({activeInput:t.activeInput}),this.props.onTagsChange(t.tags)}}handleEscapeKey(e){if(!this.state.previousValue)return;let{previousValue:t}=this.state,{tags:n}=this.props,a=[...n.slice(0,e),this.getTagFromString(t),...n.slice(e+1)],i={value:"",index:a.length,isLastNode:!0};this.setState({activeInput:i,previousValue:""}),this.props.onTagsChange(a)}saveActiveBadge(e){let{tags:t,activeInput:n,previousValue:a}=e;if(!n.value||this.checkEmailExists(t,n.value)){if(!n.isLastNode){let e=[...t.slice(0,n.index),...t.slice(n.index+1)];return a="",{tags:e,activeInput:{value:"",isLastNode:!0,index:e.length},previousValue:a}}return{...e,activeInput:{...n,value:""},previousValue:""}}let i=[...t.slice(0,n.index),this.getTagFromString(n.value),...t.slice(n.index+1)];return{tags:i,activeInput:{...n,value:"",index:i.length,isLastNode:!0},previousValue:""}}editEmail(e,t){let{tags:n,activeInput:a}=e,i=n[t].value,o={...a,value:i,index:t,isLastNode:n.length-1===a.index};return n[t].type=f,this.setState({blockInput:!1}),{tags:n,activeInput:o,previousValue:i}}removeEmail(e,t){let{activeInput:n,tags:a}=e,i=[...a.slice(0,t),...a.slice(t+1)],o={...n,index:t<n.index?n.index-1:n.index};return this.setState({blockInput:!1}),{tags:i,activeInput:o}}handleTagClick(e,t){t.stopPropagation(),2!==t.detail||this.handleTagDoubleClick(e)}handleTagDoubleClick(e){let t={tags:this.props.tags,activeInput:this.state.activeInput,previousValue:this.state.previousValue},n=t.tags.length;t=this.saveActiveBadge(t),t.tags.length<n&&this.state.activeInput.index<e&&e--,t=this.editEmail(t,e),this.setState({activeInput:t.activeInput,previousValue:t.previousValue}),this.props.onTagsChange(t.tags)}handleKeyDown(e){let t=e.keyCode;if(t!==E)if(t!==y&&t!==C){if(w.includes(t)&&(e.preventDefault(),!this.state.activeInput.isLastNode||this.state.activeInput.value)){let{activeInput:e,previousValue:t}=this.state,{tags:n}=this.props,a={tags:n,activeInput:e,previousValue:t};a=this.saveActiveBadge(a),this.setState({activeInput:a.activeInput,previousValue:a.previousValue}),this.props.onTagsChange(a.tags)}}else this.handleBackspaceAndDelete(this.state.activeInput.index);else this.handleEscapeKey(this.state.activeInput.index)}handleActiveInputChange(e){if(v.isFunction(this.props.shouldBlockInput)&&this.props.shouldBlockInput())return void this.setState({blockInput:!0});let t={...this.state.activeInput,value:r()(e.target.value)};this.setState({activeInput:t})}handleActiveInputClick(e){e.stopPropagation()}renderContentEditable(e){return a.createElement(h(),{contentEditable:!0,className:"active-input",html:e,ref:"contentEditable",key:"active-input",onChange:this.handleActiveInputChange,onClick:this.handleActiveInputClick,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste})}render(){return a.createElement("div",{className:c()(this.props.className,{"tags-input-component-focused":this.state.containerFocused},{"tags-input-component-error":this.props.error},"tags-input-container"),onClick:this.handleContainerClick},this.shouldRenderPlaceHolder()&&a.createElement("div",{className:"tags-input-placeholder soft-half"},"Enter an email address"),this.props.tags.map(((e,t)=>e.type===f?this.renderContentEditable(this.state.activeInput.value):a.createElement(g.default,{key:t,name:"tag",renderTagContent:this.props.renderTagContent,type:e.type,value:e.value,onClick:this.handleTagClick.bind(this,t),onClose:this.handleRemove.bind(this,t)}))),this.state.activeInput.isLastNode&&!this.state.blockInput&&this.renderContentEditable(this.state.activeInput.value))}}x.propTypes={onTagsChange:o().func.isRequired,renderTagContent:o().func,tagValidator:o().func,tags:o().array},x.defaultProps={tags:[],tagValidator:()=>!0},t.default=p()(x)},"./onboarding/src/features/TeamOnboarding/controllers/TeamOnboardingController.js":function(e,t,n){"use strict";n.r(t);var a=n("./appsdk/pages/BasePageController.js"),i=n("./node_modules/lodash/lodash.js");class o extends a.default{didActivate({queryParams:e}){let t=e.continueUrl,n=e.invited;!i.isEmpty(t)&&t.startsWith("/")&&(t=t.substr(1)),this.hasInvitedUser=!i.isEmpty(n),i.isEmpty(t)?this.redirectPath="home":this.redirectPath=t,e.wid&&(this.wid=e.wid,this.isNewTeam=e.isNewTeam)}}t.default=o},"./onboarding/src/features/TeamOnboarding/pages/InviteMembers/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var a,i=n("../../node_modules/react/index.js"),o=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),s=n("./node_modules/classnames/index.js"),r=n.n(s),l=n("./js/components/base/LoadingIndicator.js"),d=n("./js/components/base/Buttons.js"),c=(n("./js/components/base/Markdown.js"),n("./js/utils/ClipboardHelper.js")),u=n("./onboarding/src/features/TeamOnboarding/components/Header/index.js"),p=n("./onboarding/src/features/TeamOnboarding/components/TagsInput/index.js"),m=n("./onboarding/src/features/TeamOnboarding/components/CompoundInput/index.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/TeamStore.js"),v=n("./js/modules/services/AnalyticsService.js"),f=n("./onboarding/src/common/validation.js"),b=n("./onboarding/src/common/apis/OnboardingService.js"),w=(n("./onboarding/src/common/ExternalLinkService.js"),n("../../node_modules/mobx-react/dist/mobx-react.module.js")),E=n("./growth/foundation/public/amplitude/AmplitudeService.js");const y="regular";let C=(0,w.observer)(a=class extends i.Component{constructor(e){super(e),this.state={tags:[],inviteLink:"",invitesLeft:e.invitesLeft,isLoading:!0,invalidEmailsError:"",showTeamLimitError:!1,status:{isInviteLinkCopied:!1,isSubmitDisabled:!0,isFetchingLink:!1,isSubmitting:!1}},this.handleTagsChange=this.handleTagsChange.bind(this),this.handleCopyInviteLink=this.handleCopyInviteLink.bind(this),this.setInviteLinkStatus=this.setInviteLinkStatus.bind(this),this.handleGetInviteLink=this.handleGetInviteLink.bind(this),this.handleContinue=this.handleContinue.bind(this),this.inviteSlotError=this.inviteSlotError.bind(this)}componentDidMount(){!this.props.isFreeTeam&&this.props.invitesLeft<=0?this.props.redirectUser():(E.Ampli.teamOnboardingInvitePageViewed((0,E.getAmpliPageViewedProperties)()),(0,b.generateInviteLink)().then((e=>{this.setState((t=>({inviteLink:e&&e.inviteLink,status:{...t.status,isFetchingLink:!1,isSubmitDisabled:!1},isLoading:!1})))})).catch((()=>{this.setState((e=>({status:{...e.status,isFetchingLink:!1},isLoading:!1})))})))}handleGetInviteLink(){this.setState((e=>({status:{...e.status,isFetchingLink:!0}}))),(0,b.generateInviteLink)().then((e=>{this.setState((t=>({inviteLink:e&&e.inviteLink,status:{...t.status,isFetchingLink:!1,isSubmitDisabled:!1}})))})).catch((()=>{pm.toasts.error("We couldn't generate a link. Please try again."),this.setState((e=>({status:{...e.status,isFetchingLink:!1}})))}))}handleContinue(){if(this.checkInvalidEmails(this.state.tags))return;this.setState((e=>({status:{...e.status,isSubmitting:!0,isSubmitDisabled:!0}})));let e=this.getEmailsList();if(e&&e.length){let t={emails:e};(0,b.inviteMembers)(t).finally((()=>{v.default.addEventV2({category:"new_user_onboarding",action:"invited_users"}),this.props.continue()}))}else v.default.addEventV2({category:"new_user_onboarding",action:"skip_invitation"}),this.props.continue()}inviteSlotError(){return this.state.invitesLeft>=this.getEmailsList().length?this.state.invalidEmailsError?i.createElement("div",{className:"invite-member--slot-error"},this.state.invalidEmailsError):null:((0,h.resolveStoreInstance)(g.default).isElasticPlan,null)}getEmailsList(){let{tags:e=[]}=this.state;return e.reduce(((e,t)=>(t.value&&t.type===y&&e.push(t.value),e)),[])}renderTagContent(e){return i.createElement(i.Fragment,null,e.type===y&&i.createElement(o.default,{className:"tag-icon",name:"icon-descriptive-mail-stroke-small",color:"content-color-primary",size:"small"}),i.createElement("div",{className:"tag-text"},e.value))}checkInvalidEmails(e){for(let t=0;t<e.length;++t)if("error"===e[t].type||"editing"===e[t].type)return!0;return!1}handleTagsChange(e){this.setState((t=>({tags:e,invalidEmailsError:this.checkInvalidEmails(e)?"One or more of those emails doesn't look right. Double check the format.":"",status:{...t.status,isSubmitDisabled:!1}})))}handleCopyInviteLink(){this.state.inviteLink&&(c.default.copy(this.state.inviteLink),clearTimeout(this.inviteLinkTimeout),this.setInviteLinkStatus(!0,(()=>{this.inviteLinkTimeout=setTimeout((()=>{this.setInviteLinkStatus(!1)}),1500)})))}setInviteLinkStatus(e,t){this.setState((t=>({status:{...t.status,isInviteLinkCopied:e}})),t)}isSubmitDisabled(e){let t=this.state.invitesLeft;return!!this.state.status.isSubmitting||(!e&&this.props.isFreeTeam?!(!this.state.status.isFetchingLink&&!this.state.status.isSubmitDisabled):!(0,h.resolveStoreInstance)(g.default).isElasticPlan&&t<this.getEmailsList().length||!this.state.inviteLink&&!(!this.state.status.isFetchingLink&&!this.state.status.isSubmitDisabled))}render(){return this.state.isLoading?i.createElement(l.default,{className:"team-onboarding__page-loader"}):i.createElement("div",{className:"invite-member-onboarding"},i.createElement(u.default,{subtitle:"Get the most out of Postman by inviting people to collaborate with you.",title:"Invite people to your team"}),i.createElement("div",{className:"invite-member"},i.createElement("div",{className:"invite-member-invite-slot-container"},i.createElement("div",{className:"invite-member--invite-left-container"},i.createElement("div",{className:"invite-member--invite-title"},"Via email")),i.createElement("div",{className:"invite-member--tags-container"},i.createElement(p.default,{error:Boolean(this.state.invalidEmailsError),renderTagContent:this.renderTagContent,tags:this.state.tags,tagValidator:f.validateEmail,onTagsChange:this.handleTagsChange}),this.inviteSlotError())),i.createElement("div",{className:"invite-member--invite-link"},i.createElement("div",{className:"invite-member--invite-link-title"},"Or, share an invite link"),i.createElement("div",{className:"invite-member--invite-link-subtitle"},"Get a link which you can share with your colleagues to join the team"),!this.state.inviteLink&&i.createElement(d.Button,{className:"invite-member--invite-link-generate-btn",disabled:this.state.status.isFetchingLink,type:"secondary",onClick:this.handleGetInviteLink},this.state.status.isFetchingLink?i.createElement(l.default,null):"Generate Link"),this.state.inviteLink&&i.createElement("div",{className:"invite-member--invite-link-container"},i.createElement(m.default,{readOnly:!0,className:r()("invite-member--invite-link--input",{"invite-link-copied":this.state.status.isInviteLinkCopied}),value:this.state.inviteLink}),i.createElement(d.Button,{className:r()("invite-member--invite-link--copy-btn",{"link-copied":this.state.status.isInviteLinkCopied}),type:"secondary",onClick:this.handleCopyInviteLink},this.state.status.isInviteLinkCopied?i.createElement(i.Fragment,null,i.createElement(o.default,{name:"icon-state-success-stroke",color:"content-color-constant",className:"tick-icon-alternate"}),i.createElement("span",{className:"link-copied-text"},"Copied")):"Copy Link"))),i.createElement("div",{className:"invite-member--actions"},i.createElement(d.Button,{className:"invite-member--actions-primary",disabled:this.isSubmitDisabled(),type:"primary",onClick:this.handleContinue},this.state.status.isSubmitting?i.createElement(l.default,null):"Continue"),i.createElement(d.Button,{className:"invite-member--actions-secondary",disabled:this.state.status.isSubmitting,onClick:()=>{v.default.addEventV2({category:"new_user_onboarding",action:"skip_invitation"}),this.props.maybeLater()}},"Maybe Later"))))}})||a},"./onboarding/src/features/TeamOnboarding/pages/TeamOnboarding/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a,i=n("../../node_modules/react/index.js"),o=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),s=n("./js/components/base/LoadingIndicator.js"),r=n("./onboarding/src/features/TeamOnboarding/pages/TeamProfile/index.js"),l=n("./onboarding/src/features/TeamOnboarding/pages/InviteMembers/index.js"),d=n("./onboarding/src/features/TeamOnboarding/utils/redirect.js"),c=n("./onboarding/src/common/utils.js"),u=n("./onboarding/navigation/constants.js"),p=n("./js/stores/TeamStore.js"),m=n("./js/stores/StoreManager.js"),h=n("./js/stores/CurrentUserStore.js"),g=n("./js/services/NavigationService.js"),v=(n("./onboarding/src/common/LaunchDarkly.js"),n("./js/utils/UserHelper.js")),f=(n("./growth/foundation/public/amplitude/AmplitudeService.js"),n("./node_modules/lodash/lodash.js"));const b="teamProfile",w="inviteMember",E="loading";let y=(0,o.observer)(a=class extends i.Component{constructor(e){super(e),this.state={flow:[E],activePageIndex:0,invitesLeft:0,isFreeTeam:!0,domainChanged:!1},this.updateFlow=this.updateFlow.bind(this),this.handleContinue=this.handleContinue.bind(this),this.handleMaybeLater=this.handleMaybeLater.bind(this),this.redirectUser=this.redirectUser.bind(this),this.handleDomainChanged=this.handleDomainChanged.bind(this)}componentDidMount(){(0,c.onUserDataHydration)().then((()=>{const e=(0,m.resolveStoreInstance)(h.default),t={id:e.id,organizations:e.organizations,teamSyncEnabled:e.teamSyncEnabled},n=(0,v.isUserAdmin)(t),a=f.get(this.props,"controller.hasInvitedUser",!1);if(e.team)return n?void this.setState({flow:a?[b]:[b,w],invitesLeft:(0,m.resolveStoreInstance)(p.default).invitesLeft}):this.redirectUser();g.default.transitionTo(u.HOME_IDENTIFIER)})).catch(this.redirectUser)}updateFlow({isFreeTeam:e,invitesLeft:t}){if(0===t)return e?void this.setState({flow:[b,w],isFreeTeam:e}):void this.setState({invitesLeft:t,flow:[b],isFreeTeam:e});this.setState({invitesLeft:t,isFreeTeam:e})}handleContinue(){let{activePageIndex:e,flow:t}=this.state;e!==t.length-1?this.setState({activePageIndex:e+1}):this.redirectUser()}handleMaybeLater(){let{activePageIndex:e,flow:t}=this.state;e!==t.length-1?this.setState({activePageIndex:e+1}):this.redirectUser()}handleDomainChanged(){this.setState({domainChanged:!0})}async redirectUser(){(0,d.redirectUser)(f.get(this.props,"controller.redirectPath"),this.state.domainChanged,f.get(this.props,"controller.wid"),f.get(this.props,"controller.isNewTeam"))}getActivePage(e){switch(e){case E:return i.createElement("div",{className:"fetching-team"},i.createElement(s.default,null));case b:return i.createElement(r.default,{continue:this.handleContinue,handleDomainChanged:this.handleDomainChanged,maybeLater:this.handleMaybeLater,redirectUser:this.redirectUser,totalSteps:this.state.flow.length,updateFlow:this.updateFlow,hasInvitedUser:f.get(this.props,"controller.hasInvitedUser",!1)});case w:return i.createElement(l.default,{continue:this.handleContinue,invitesLeft:(0,m.resolveStoreInstance)(p.default).invitesLeft,isFreeTeam:this.state.isFreeTeam,maybeLater:this.handleMaybeLater,redirectUser:this.redirectUser,totalSteps:this.state.flow.length});default:return null}}render(){return i.createElement("div",{className:"team-onboarding"},this.getActivePage(this.state.flow[this.state.activePageIndex]))}})||a},"./onboarding/src/features/TeamOnboarding/pages/TeamProfile/DiscoveryErrorModals.js":function(e,t,n){"use strict";n.r(t),n.d(t,{DISCOVERY_ERROR_MODAL:function(){return m},EMAIL_VERIFICATION_ERROR_MODAL:function(){return p},EmailVerificationModal:function(){return g},INVALID_DOMAIN_ERROR_MODAL:function(){return u},InvalidDomainModal:function(){return h}});var a=n("../../node_modules/react/index.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Modal/Modal.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),s=n("../../node_modules/@postman/aether/esmLib/src/components/Flex/Flex.js"),r=n("../../node_modules/@postman/aether/esmLib/src/components/Button/Button.js"),l=(n("./js/components/base/LoadingIndicator.js"),n("./onboarding/src/common/apis/OnboardingService.js")),d=n("./js/services/UIEventService.js"),c=n("./node_modules/lodash/lodash.js");const u="invalid_domain_error",p="email_verification_error",m="discovery_errors_modal";t.default=()=>{const[e,t]=(0,a.useState)(null),[n,i]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=d.default.subscribe(m,o);return()=>{e&&e()}}),[]);const o=({modalType:e})=>{i(!0),t(e)},s=()=>{i(!1),t(null)};return!n||c.isEmpty(e)?null:e===u?a.createElement(h,{handleModalClose:s}):e===p?a.createElement(g,{handleModalClose:s}):void 0};const h=e=>a.createElement(i.Modal,{isOpen:!0,onClose:e.handleModalClose},a.createElement(i.ModalHeader,{heading:"You don't have a valid work domain",hideCloseButton:!0}),a.createElement(i.ModalContent,null,a.createElement(o.default,{type:"body-medium"},"We can't enable this setting for domains such as gmail.com. Please change your email id to a valid work domain and try again.")),a.createElement(i.ModalFooter,null,a.createElement(s.default,{grow:1,shrink:1,justifyContent:"flex-end",gap:"spacing-s"},a.createElement(r.default,{onClick:e.handleModalClose,text:"Got it"})))),g=e=>{const[t,n]=(0,a.useState)(!1);return a.createElement(i.Modal,{isOpen:!0,onClose:e.handleModalClose},a.createElement(i.ModalHeader,{heading:"Verify your account",hideCloseButton:!0}),a.createElement(i.ModalContent,null,a.createElement(o.default,{type:"body-medium"},"To enable team discovery, please verify your account and try again.")),a.createElement(i.ModalFooter,null,a.createElement(s.default,{grow:1,shrink:1,justifyContent:"flex-end",gap:"spacing-s"},a.createElement(r.default,{type:"secondary",onClick:e.handleModalClose,isDisabled:e.sendingEmailVerification,text:"Cancel"}),a.createElement(r.default,{type:"primary",onClick:()=>{n(!0),(0,l.sendVerificationEmail)().then((()=>{e.handleModalClose();pm.toasts.success("Please check your inbox.",{noIcon:!0,title:"We've sent the verification email"})})).catch((e=>{n(!1),pm.toasts.error("An error occurred while sending the verification email. Try again after some time.",{title:"Something went wrong",noIcon:!0})}))},isDisabled:t,isLoading:t,text:"Send verification email"}))))}},"./onboarding/src/features/TeamOnboarding/pages/TeamProfile/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n("../../node_modules/react/index.js"),i=n("./js/components/base/LoadingIndicator.js"),o=n("./js/components/base/Buttons.js"),s=n("./onboarding/src/features/TeamOnboarding/components/Header/index.js"),r=n("./js/components/base/ToggleSwitch.js"),l=n("./onboarding/src/features/TeamOnboarding/components/CompoundInput/index.js"),d=n("./onboarding/src/features/TeamOnboarding/components/ImageUploadModal/index.js"),c=n("./onboarding/src/features/TeamOnboarding/pages/TeamProfile/DiscoveryErrorModals.js"),u=n("./onboarding/src/common/validation.js"),p=n("./onboarding/src/common/apis/OnboardingService.js"),m=n("./js/modules/services/AnalyticsService.js"),h=n("./js/stores/StoreManager.js"),g=n("./js/stores/CurrentUserStore.js"),v=n("./growth/foundation/public/amplitude/AmplitudeService.js"),f=n("./node_modules/lodash/lodash.js");class b extends a.Component{constructor(e){super(e),this.state={oldTeamName:"",teamName:"",oldDomain:"",domain:"",domainError:"",teamLogoUrl:"https://res.cloudinary.com/ddn1d7iih/image/upload/t_team_logo/v1/team/d931c6bc8485fa4d19f199e3befdd48fb067addf83c809d22c0da58647cdcdb5",teamDiscoveryDomains:[],userDomain:"",logoKey:"",isEnablingTeamDiscovery:!1,isAccountVerified:!0,isUserDomainValid:!0,isLoading:!0,isSubmitting:!1,submitted:!0,isUploadModalOpen:!1},this.handleTeamNameChange=this.handleTeamNameChange.bind(this),this.openImageUploadModal=this.openImageUploadModal.bind(this),this.closeImageUploadModal=this.closeImageUploadModal.bind(this),this.handleImageUploaded=this.handleImageUploaded.bind(this),this.handleTeamDiscoverySwitch=this.handleTeamDiscoverySwitch.bind(this),this.handleModalClose=this.handleModalClose.bind(this),this.handleContinue=this.handleContinue.bind(this),this.getTeamDiscoveryError=this.getTeamDiscoveryError.bind(this),this.handleTeamDiscoveryError=this.handleTeamDiscoveryError.bind(this)}handleTeamNameChange(e){this.setState({teamName:e})}openImageUploadModal(){m.default.addEventV2({category:"new_user_onboarding",action:"initiate_upload",label:"team_profile_pic"}),this.setState({isUploadModalOpen:!0})}closeImageUploadModal(){this.setState({isUploadModalOpen:!1})}handleImageUploaded(e){this.setState({teamLogoUrl:e})}handleTeamDiscoverySwitch(){this.setState({isEnablingTeamDiscovery:!0});let e={discovery:{domains:[]}};!!this.state.teamDiscoveryDomains.length?this.state.teamDiscoveryDomains.forEach((t=>{e.discovery.domains.push({domain:t,status:"disabled"})})):e.discovery.domains.push({domain:this.state.userDomain,status:"enabled"}),(0,p.updateTeamDiscovery)(e).then((e=>{let t=f.get(e,"organizations[0]",null);if(!t)throw"Please provide team details";let n=f.reduce(f.get(t,"discovery.domains",[]),((e,t)=>("enabled"===t.status&&e.push(t.domain),e)),[]),a=n.length,i=(0,h.resolveStoreInstance)(g.default),o=i.email&&i.email.split("@")[1];this.setState({isEnablingTeamDiscovery:!1,teamDiscoveryDomains:n,userDomain:o});const s=`You ${a?"enabled":"disabled"} team discovery for your team`,r="Team discovery is "+(a?"ON":"OFF");pm.toasts.success(s,{noIcon:!0,title:r})})).catch(this.handleTeamDiscoveryError)}handleTeamDiscoveryError(e){e&&"domain_discovery_restricted"===e.type?this.setState({isUserDomainValid:!1,isEnablingTeamDiscovery:!1}):e&&"email_verification_required"===e.type?this.setState({isAccountVerified:!1,isEnablingTeamDiscovery:!1}):(pm.toasts.error(e.message),this.setState({isEnablingTeamDiscovery:!1}))}handleContinue(){if(this.setState({isSubmitting:!0}),this.state.oldTeamName===this.state.teamName&&this.state.oldDomain===this.state.domain)return void this.props.continue();let e={team_name:this.state.teamName};this.state.domain!==this.state.oldDomain&&(e.domain=this.state.domain),(0,p.updateTeamProfile)(e).then((()=>{this.state.domain!==this.state.oldDomain&&this.props.handleDomainChanged(),this.props.continue()})).catch((e=>{this.setState({isSubmitting:!1,domainError:e&&e.message})}))}handleModalClose(){this.setState({isAccountVerified:!0,isUserDomainValid:!0})}getTeamDiscoveryError(){return this.state.isUserDomainValid?this.state.isAccountVerified?null:a.createElement(c.EmailVerificationModal,{handleModalClose:this.handleModalClose}):a.createElement(c.InvalidDomainModal,{handleModalClose:this.handleModalClose})}componentDidMount(){v.Ampli.teamOnboardingSetupPageViewed((0,v.getAmpliPageViewedProperties)()),(0,p.getTeamInfo)().then((({org:e={}})=>{let t=f.reduce(f.get(e,"discovery.domains",[]),((e,t)=>("enabled"===t.status&&e.push(t.domain),e)),[]),n=(0,h.resolveStoreInstance)(g.default);this.setState((a=>({...a,oldTeamName:e.name,teamName:e.name,oldDomain:e.domain,domain:e.domain,teamLogoUrl:e.logo_url,teamDiscoveryDomains:t,userDomain:n.email.split("@")[1],logoKey:e.logo_image_key,isLoading:!1})))})).catch((()=>{this.props.redirectUser()}))}render(){if(this.state.isLoading)return a.createElement(i.default,{className:"team-onboarding__page-loader"});const e=(0,u.validateTeamDomain)(this.state.domain),t=(0,u.validateTeamName)(this.state.teamName),n=!e.isValid,c=e.error,p=!t.isValid,m=t.error,h=this.state.isEnablingTeamDiscovery||this.state.isSubmitting||n||p,g=!!this.state.teamDiscoveryDomains.length;return a.createElement("div",{className:"team-profile"},a.createElement(s.default,{subtitle:"Name your team and choose a URL.",title:"Set up your team"}),a.createElement("div",{className:"team-profile__setup-team"},a.createElement("div",{className:"team-profile__main"},a.createElement(l.default,{className:"team-profile__team-name",label:"Team name",errorMessage:m,error:p,value:this.state.teamName,onChange:this.handleTeamNameChange}),a.createElement("div",{className:"team-profile-picture-container"},a.createElement("div",{className:"team-profile-picture-icon",onClick:this.openImageUploadModal},a.createElement("div",{className:"pm-user-icon pm-user-icon--custom",style:{backgroundImage:`url(${this.state.teamLogoUrl})`}})),a.createElement("div",{className:"team-profile-picture-upload",onClick:this.openImageUploadModal},"Change logo")),a.createElement("div",{className:"team-profile__url-title"},"URL"),a.createElement("div",{className:"team-profile__url-subtitle"},"You'll use this URL to access Postman"),a.createElement("div",{className:"team-profile__domain"},a.createElement(l.default,{className:"team-profile__domain-field",error:n||!f.isEmpty(this.state.domainError),errorMessage:c||this.state.domainError,value:this.state.domain,onChange:e=>{this.setState({domain:e,domainError:""})}}),a.createElement("div",{className:"team-profile__domain-suffix"},".postman.co")),a.createElement("div",{className:"team-profile__team-discovery"},"Team discovery"),a.createElement("div",{className:"team-profile__team-discovery-content"},"Team discovery lets people from your organization see your team and request to join."),a.createElement("div",{className:"team-discovery__toggle"},a.createElement("div",{className:"team-discovery__switch"},this.state.isEnablingTeamDiscovery?a.createElement(i.default,{className:"team-discovery__loader"}):a.createElement(r.default,{isActive:g,onClick:this.handleTeamDiscoverySwitch})),a.createElement("span",{className:"team-discovery__turn-on-message",onClick:()=>this.setState({isEnablingTeamDiscovery:!this.state.isEnablingTeamDiscovery})},"Turn on team discovery"),this.getTeamDiscoveryError())),a.createElement("div",{className:"team-profile--actions"},a.createElement(o.Button,{className:"team-profile--actions-primary",disabled:h,type:"primary",onClick:this.handleContinue},this.state.isSubmitting?a.createElement(i.default,null):"Continue")),this.state.isUploadModalOpen&&a.createElement(d.default,{isOpen:!0,team:!0,body:"Help your team feel at home by uploading a custom logo. Max size: 2 MB",handleImageUploaded:this.handleImageUploaded,logoKey:this.state.logoKey,title:"Upload a team logo",onClose:this.closeImageUploadModal})))}}},"./onboarding/src/features/TeamOnboarding/utils/redirect.js":function(e,t,n){"use strict";n.r(t),n.d(t,{redirectUser:function(){return u}});var a=n("./js/services/NavigationService.js"),i=n("./js/electron/ElectronService.js"),o=n("./js/external-navigation/ExternalNavigationService.js"),s=(n("./onboarding/src/common/LaunchDarkly.js"),n("./onboarding/navigation/constants.js")),r=n("./onboarding/src/features/FeatureOverview/TeamFeatureOverviewHelper.js"),l=n("./js/modules/model-event.js"),d=n("./js/modules/pipelines/user-action.js"),c=(n("./growth/foundation/public/amplitude/AmplitudeService.js"),n("./node_modules/lodash/lodash.js"));const u=(e=s.HOME_IDENTIFIER,t,n=null,u="0")=>{let p=(0,l.createEvent)("refreshOrganizations","user");if(!c.isEmpty(n)){if("browser"===window.SDK_PLATFORM){let e=`${pm.artemisUrl}/workspace/${n}/overview`,t=[];return r.teamFeatureOverviewHelper.isTeamCreated&&t.push("feature_overview=show"),"1"===u&&t.push("isNewTeam=1"),e+=`?${t.join("&")}`,void(0,o.openExternalLink)(e)}return a.default.transitionTo("build.overview",{wid:n},c.assign({},{isNewTeam:u},r.teamFeatureOverviewHelper.isTeamCreated&&{feature_overview:"show"})),void(0,d.default)(p)}let m=a.default.getRoutesForURL(e);if("browser"===window.SDK_PLATFORM&&t){let t=`${pm.artemisUrl}/${e}`;return r.teamFeatureOverviewHelper.isTeamCreated&&(t+="?feature_overview=show"),void(0,i.openURL)(t)}if(!c.isEmpty(m)&&c.get(m,"0.name"))return a.default.transitionTo(m[0].name,null,c.assign({},r.teamFeatureOverviewHelper.isTeamCreated&&{feature_overview:"show"})),void(0,d.default)(p);(0,o.openExternalLink)(`${pm.artemisUrl}/${e}`)}},"./node_modules/react-contenteditable/lib/react-contenteditable.js":function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)},s=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&(n[a[i]]=e[a[i]])}return n},r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=r(n("../../node_modules/react/index.js")),c=l(n("./node_modules/react-contenteditable/node_modules/fast-deep-equal/index.js")),u=r(n("./node_modules/prop-types/index.js"));function p(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function m(e){if(e.nodeType===Node.TEXT_NODE)return e;for(var t=e.childNodes,n=t.length-1;n>=0;n--){var a=m(t[n]);if(null!==a)return a}return null}function h(e){var t=m(e);if(null!==t&&null!==t.nodeValue){var n=document.createRange(),a=window.getSelection();n.setStart(t,t.nodeValue.length),n.collapse(!0),a.removeAllRanges(),a.addRange(n),e instanceof HTMLElement&&e.focus()}}var g=function(e){function t(t){var n=e.call(this,t)||this;return n.htmlEl=null,n.emitChange=n.emitChange.bind(n),n.lastHtml=t.html,n}return i(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.tagName,a=t.html,i=s(t,["tagName","html"]);return d.createElement(n||"div",o({},i,{ref:function(t){return e.htmlEl=t},onInput:this.emitChange,onBlur:this.props.onBlur||this.emitChange,contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:a}}),this.props.children)},t.prototype.shouldComponentUpdate=function(e){var t=this.props,n=this.htmlEl;return!n||(p(e.html)!==p(n.innerHTML)||(t.disabled!==e.disabled||t.tagName!==e.tagName||t.className!==e.className||!c.default(t.style,e.style)))},t.prototype.componentDidUpdate=function(){null!==this.htmlEl&&(this.props.html!==this.htmlEl.innerHTML&&(this.htmlEl.innerHTML=this.lastHtml=this.props.html),h(this.htmlEl))},t.prototype.emitChange=function(e){if(this.htmlEl){var t=this.htmlEl.innerHTML;if(this.props.onChange&&t!==this.lastHtml){var n=Object.assign({},e,{target:{value:t}});this.props.onChange(n)}this.lastHtml=t}},t.propTypes={html:u.string.isRequired,onChange:u.func,onBlur:u.func,disabled:u.bool,tagName:u.string,className:u.string,style:u.object},t}(d.Component);t.default=g},"./node_modules/react-contenteditable/node_modules/fast-deep-equal/index.js":function(e){"use strict";var t=Array.isArray,n=Object.keys,a=Object.prototype.hasOwnProperty;e.exports=function e(i,o){if(i===o)return!0;if(i&&o&&"object"==typeof i&&"object"==typeof o){var s,r,l,d=t(i),c=t(o);if(d&&c){if((r=i.length)!=o.length)return!1;for(s=r;0!=s--;)if(!e(i[s],o[s]))return!1;return!0}if(d!=c)return!1;var u=i instanceof Date,p=o instanceof Date;if(u!=p)return!1;if(u&&p)return i.getTime()==o.getTime();var m=i instanceof RegExp,h=o instanceof RegExp;if(m!=h)return!1;if(m&&h)return i.toString()==o.toString();var g=n(i);if((r=g.length)!==n(o).length)return!1;for(s=r;0!=s--;)if(!a.call(o,g[s]))return!1;for(s=r;0!=s--;)if(!e(i[l=g[s]],o[l]))return!1;return!0}return i!=i&&o!=o}},"./node_modules/react-image-crop/dist/ReactCrop.min.js":function(e,t,n){var a,i=n("../../node_modules/console-browserify/index.js");e.exports=(a=n("../../node_modules/react/index.js"),function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(2)()},function(e,t){e.exports=a},function(e,t,n){"use strict";var a=n(3);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==a){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A})),n.d(t,"Component",(function(){return A})),n.d(t,"makeAspectCrop",(function(){return k})),n.d(t,"containCrop",(function(){return O}));var a=n(1),o=n.n(a),s=n(0),r=n.n(s);function l(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=l(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,i=!1,o=void 0;try{for(var s,r=e[Symbol.iterator]();!(a=(s=r.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var C=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return C=!0,!0}}))}catch(e){}function x(e){var t,n;if(e.touches){var a=E(e.touches,1)[0];t=a.pageX,n=a.pageY}else t=e.pageX,n=e.pageY;return{x:t,y:n}}function _(e,t,n){return Math.min(Math.max(e,t),n)}function T(e){return e&&!isNaN(e.width)&&!isNaN(e.height)}function S(e){return"n"===e?"s":"ne"===e?"sw":"e"===e?"w":"se"===e?"nw":"s"===e?"n":"sw"===e?"ne":"w"===e?"e":"nw"===e?"se":e}function k(e,t,n){if(isNaN(e.aspect))return i.warn("`crop.aspect` should be a number in order to make an aspect crop",e),e;var a=b({unit:"px",x:0,y:0},e);return e.width&&(a.height=a.width/e.aspect),e.height&&(a.width=a.height*e.aspect),a.y+a.height>n&&(a.height=n-a.y,a.width=a.height*e.aspect),a.x+a.width>t&&(a.width=t-a.x,a.height=a.width/e.aspect),a}function I(e,t,n){return"%"===e.unit?e:{unit:"%",aspect:e.aspect,x:e.x/t*100,y:e.y/n*100,width:e.width/t*100,height:e.height/n*100}}function j(e,t,n){return e.unit?"px"===e.unit?e:{unit:"px",aspect:e.aspect,x:e.x*t/100,y:e.y*n/100,width:e.width*t/100,height:e.height*n/100}:b(b({},e),{},{unit:"px"})}function O(e,t,n,a){var i=j(t,n,a),o=j(e,n,a),s=b({},i);if(!i.aspect)return i.x<0?(s.x=0,s.width+=i.x):i.x+i.width>n&&(s.width=n-i.x),i.y+i.height>a&&(s.height=a-i.y),s;var r=!1;i.x<0?(s.x=0,s.width+=i.x,s.height=s.width/i.aspect,r=!0):i.x+i.width>n&&(s.width=n-i.x,s.height=s.width/i.aspect,r=!0),r&&o.y>s.y&&(s.y=i.y+(i.height-s.height));var l=!1;return s.y+s.height>a&&(s.height=a-i.y,s.width=s.height*i.aspect,l=!0),l&&o.x>s.x&&(s.x=i.x+(i.width-s.width)),s}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,a,i=m(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return w(g(e=i.call.apply(i,[this].concat(n))),"window","undefined"!=typeof window?window:{}),w(g(e),"document","undefined"!=typeof document?document:{}),w(g(e),"state",{}),w(g(e),"keysDown",new Set),w(g(e),"onCropMouseTouchDown",(function(t){var n=e.props,a=n.crop,i=n.disabled,o=e.mediaDimensions,s=j(a,o.width,o.height);if(!i){t.preventDefault();var r=x(t);e.componentRef.setActive?e.componentRef.setActive({preventScroll:!0}):e.componentRef.focus({preventScroll:!0});var l,d=t.target.dataset.ord,c="nw"===d||"w"===d||"sw"===d,u="nw"===d||"n"===d||"ne"===d;s.aspect&&(l=e.getElementOffset(e.cropSelectRef)),e.evData={clientStartX:r.x,clientStartY:r.y,cropStartWidth:s.width,cropStartHeight:s.height,cropStartX:c?s.x+s.width:s.x,cropStartY:u?s.y+s.height:s.y,xInversed:c,yInversed:u,xCrossOver:c,yCrossOver:u,startXCrossOver:c,startYCrossOver:u,isResize:t.target.dataset.ord,ord:d,cropOffset:l},e.mouseDownOnCrop=!0,e.setState({cropIsActive:!0})}})),w(g(e),"onComponentMouseTouchDown",(function(t){var n=e.props,a=n.crop,i=n.disabled,o=n.locked,s=n.keepSelection,r=n.onChange,l=e.mediaWrapperRef.firstChild;if(t.target===l&&l.contains(t.target)&&!(i||o||s&&T(a))){t.preventDefault();var d=x(t);e.componentRef.setActive?e.componentRef.setActive({preventScroll:!0}):e.componentRef.focus({preventScroll:!0});var c=e.getElementOffset(e.mediaWrapperRef),u=d.x-c.left,p=d.y-c.top,m={unit:"px",aspect:a?a.aspect:void 0,x:u,y:p,width:0,height:0};e.evData={clientStartX:d.x,clientStartY:d.y,cropStartWidth:m.width,cropStartHeight:m.height,cropStartX:m.x,cropStartY:m.y,xInversed:!1,yInversed:!1,xCrossOver:!1,yCrossOver:!1,startXCrossOver:!1,startYCrossOver:!1,isResize:!0,ord:"nw"},e.mouseDownOnCrop=!0;var h=e.mediaDimensions,g=h.width,v=h.height;r(j(m,g,v),I(m,g,v)),e.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}})),w(g(e),"onDocMouseTouchMove",(function(t){var n=e.props,a=n.crop,i=n.disabled,o=n.onChange,s=n.onDragStart;if(!i&&e.mouseDownOnCrop){t.preventDefault(),e.dragStarted||(e.dragStarted=!0,s(t));var r,l=g(e).evData,d=x(t);if(l.isResize&&a.aspect&&l.cropOffset&&(d.y=e.straightenYPath(d.x)),l.xDiff=d.x-l.clientStartX,l.yDiff=d.y-l.clientStartY,(r=l.isResize?e.resizeCrop():e.dragCrop())!==a){var c=e.mediaDimensions,u=c.width,p=c.height;o(j(r,u,p),I(r,u,p))}}})),w(g(e),"onComponentKeyDown",(function(t){var n=e.props,a=n.crop,i=n.disabled,o=n.onChange,r=n.onComplete;if(!i){e.keysDown.add(t.key);var l=!1;if(T(a)){var d=e.makeNewCrop(),c=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?s.nudgeStepLarge:t.shiftKey?s.nudgeStepMedium:s.nudgeStep;if(e.keysDown.has("ArrowLeft")&&(d.x-=c,l=!0),e.keysDown.has("ArrowRight")&&(d.x+=c,l=!0),e.keysDown.has("ArrowUp")&&(d.y-=c,l=!0),e.keysDown.has("ArrowDown")&&(d.y+=c,l=!0),l){t.preventDefault();var u=e.mediaDimensions,p=u.width,m=u.height;d.x=_(d.x,0,p-d.width),d.y=_(d.y,0,m-d.height);var h=j(d,p,m),g=I(d,p,m);o(h,g),r(h,g)}}}})),w(g(e),"onComponentKeyUp",(function(t){e.keysDown.delete(t.key)})),w(g(e),"onDocMouseTouchEnd",(function(t){var n=e.props,a=n.crop,i=n.disabled,o=n.onComplete,s=n.onDragEnd;if(!i&&e.mouseDownOnCrop){e.mouseDownOnCrop=!1,e.dragStarted=!1;var r=e.mediaDimensions,l=r.width,d=r.height;s(t),o(j(a,l,d),I(a,l,d)),e.setState({cropIsActive:!1,newCropIsBeingDrawn:!1})}})),w(g(e),"onMediaLoaded",(function(){var t=e.props,n=t.onComplete,a=t.onChange,i=e.createNewCrop(),o=i.pixelCrop,s=i.percentCrop;a(o,s),n(o,s)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){if(this.document.addEventListener){var e=!!C&&{passive:!1};this.document.addEventListener("mousemove",this.onDocMouseTouchMove,e),this.document.addEventListener("touchmove",this.onDocMouseTouchMove,e),this.document.addEventListener("mouseup",this.onDocMouseTouchEnd,e),this.document.addEventListener("touchend",this.onDocMouseTouchEnd,e),this.document.addEventListener("touchcancel",this.onDocMouseTouchEnd,e),this.componentRef.addEventListener("medialoaded",this.onMediaLoaded)}}},{key:"componentWillUnmount",value:function(){this.document.removeEventListener&&(this.document.removeEventListener("mousemove",this.onDocMouseTouchMove),this.document.removeEventListener("touchmove",this.onDocMouseTouchMove),this.document.removeEventListener("mouseup",this.onDocMouseTouchEnd),this.document.removeEventListener("touchend",this.onDocMouseTouchEnd),this.document.removeEventListener("touchcancel",this.onDocMouseTouchEnd),this.componentRef.removeEventListener("medialoaded",this.onMediaLoaded))}},{key:"componentDidUpdate",value:function(e){var t=this.props.crop;if(this.imageRef&&e.crop!==t&&t.aspect&&(t.width&&!t.height||!t.width&&t.height)){var n=this.imageRef,a=n.width,i=n.height,o=k(this.makeNewCrop(),a,i),s=j(o,a,i),r=I(o,a,i);this.props.onChange(s,r),this.props.onComplete(s,r)}}},{key:"createNewCrop",value:function(){var e=this.mediaDimensions,t=e.width,n=e.height,a=function(e,t,n){return!e.aspect||e.width&&e.height?e:k(e,t,n)}(this.makeNewCrop(),t,n);return{pixelCrop:j(a,t,n),percentCrop:I(a,t,n)}}},{key:"onImageLoad",value:function(e){var t=this.props,n=t.onComplete,a=t.onChange;if(!1!==(0,t.onImageLoaded)(e)){var i=this.createNewCrop(),o=i.pixelCrop,s=i.percentCrop;a(o,s),n(o,s)}}},{key:"getDocumentOffset",value:function(){var e=this.document.documentElement||{},t=e.clientTop,n=void 0===t?0:t,a=e.clientLeft;return{clientTop:n,clientLeft:void 0===a?0:a}}},{key:"getWindowOffset",value:function(){var e=this.window,t=e.pageYOffset,n=void 0===t?0:t,a=e.pageXOffset;return{pageYOffset:n,pageXOffset:void 0===a?0:a}}},{key:"getElementOffset",value:function(e){var t=e.getBoundingClientRect(),n=this.getDocumentOffset(),a=this.getWindowOffset();return{top:t.top+a.pageYOffset-n.clientTop,left:t.left+a.pageXOffset-n.clientLeft}}},{key:"getCropStyle",value:function(){var e=this.makeNewCrop(this.props.crop?this.props.crop.unit:"px");return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}},{key:"getNewSize",value:function(){var e,t=this.props,n=t.crop,a=t.minWidth,i=t.maxWidth,o=t.minHeight,s=t.maxHeight,r=this.evData,l=this.mediaDimensions,d=l.width,c=l.height,u=r.cropStartWidth+r.xDiff;return r.xCrossOver&&(u=Math.abs(u)),u=_(u,a,i||d),e=n.aspect?u/n.aspect:r.cropStartHeight+r.yDiff,r.yCrossOver&&(e=Math.min(Math.abs(e),r.cropStartY)),e=_(e,o,s||c),n.aspect&&(u=_(e*n.aspect,0,d)),{width:u,height:e}}},{key:"dragCrop",value:function(){var e=this.makeNewCrop(),t=this.evData,n=this.mediaDimensions,a=n.width,i=n.height;return e.x=_(t.cropStartX+t.xDiff,0,a-e.width),e.y=_(t.cropStartY+t.yDiff,0,i-e.height),e}},{key:"resizeCrop",value:function(){var e=this.evData,t=this.makeNewCrop(),n=e.ord;e.xInversed&&(e.xDiff-=2*e.cropStartWidth,e.xDiffPc-=2*e.cropStartWidth),e.yInversed&&(e.yDiff-=2*e.cropStartHeight,e.yDiffPc-=2*e.cropStartHeight);var a=this.getNewSize(),i=e.cropStartX,o=e.cropStartY;e.xCrossOver&&(i=t.x+(t.width-a.width)),e.yCrossOver&&(o=!1===e.lastYCrossover?t.y-a.height:t.y+(t.height-a.height));var r=this.mediaDimensions,l=r.width,d=r.height,c=O(this.props.crop,{unit:t.unit,x:i,y:o,width:a.width,height:a.height,aspect:t.aspect},l,d);return t.aspect||s.xyOrds.indexOf(n)>-1?(t.x=c.x,t.y=c.y,t.width=c.width,t.height=c.height):s.xOrds.indexOf(n)>-1?(t.x=c.x,t.width=c.width):s.yOrds.indexOf(n)>-1&&(t.y=c.y,t.height=c.height),e.lastYCrossover=e.yCrossOver,this.crossOverCheck(),t}},{key:"straightenYPath",value:function(e){var t,n,a=this.evData,i=a.ord,o=a.cropOffset,s=a.cropStartWidth,r=a.cropStartHeight;return"nw"===i||"se"===i?(t=r/s,n=o.top-o.left*t):(t=-r/s,n=o.top+(r-o.left*t)),t*e+n}},{key:"createCropSelection",value:function(){var e=this,t=this.props,n=t.disabled,a=t.locked,i=t.renderSelectionAddon,s=t.ruleOfThirds,r=t.crop,l=this.getCropStyle();return o.a.createElement("div",{ref:function(t){return e.cropSelectRef=t},style:l,className:"ReactCrop__crop-selection",onMouseDown:this.onCropMouseTouchDown,onTouchStart:this.onCropMouseTouchDown},!n&&!a&&o.a.createElement("div",{className:"ReactCrop__drag-elements"},o.a.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),o.a.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),o.a.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),o.a.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),o.a.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw"}),o.a.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n"}),o.a.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne"}),o.a.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e"}),o.a.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se"}),o.a.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s"}),o.a.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw"}),o.a.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w"})),i&&T(r)&&o.a.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:function(e){return e.stopPropagation()}},i(this.state)),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),o.a.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}},{key:"makeNewCrop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"px",t=b(b({},s.defaultCrop),this.props.crop),n=this.mediaDimensions,a=n.width,i=n.height;return"px"===e?j(t,a,i):I(t,a,i)}},{key:"crossOverCheck",value:function(){var e=this.evData,t=this.props,n=t.minWidth,a=t.minHeight;!n&&(!e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiff>=0||e.xCrossOver&&-Math.abs(e.cropStartWidth)-e.xDiff<=0)&&(e.xCrossOver=!e.xCrossOver),!a&&(!e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiff>=0||e.yCrossOver&&-Math.abs(e.cropStartHeight)-e.yDiff<=0)&&(e.yCrossOver=!e.yCrossOver);var i=e.xCrossOver!==e.startXCrossOver,o=e.yCrossOver!==e.startYCrossOver;e.inversedXOrd=!!i&&S(e.ord),e.inversedYOrd=!!o&&S(e.ord)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.circularCrop,i=t.className,s=t.crossorigin,r=t.crop,d=t.disabled,c=t.locked,u=t.imageAlt,p=t.onImageError,m=t.renderComponent,h=t.src,g=t.style,v=t.imageStyle,f=t.ruleOfThirds,b=this.state,w=b.cropIsActive,E=b.newCropIsBeingDrawn,y=T(r)&&this.componentRef?this.createCropSelection():null,C=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=l(e))&&(a&&(a+=" "),a+=t);return a}("ReactCrop",i,{"ReactCrop--active":w,"ReactCrop--disabled":d,"ReactCrop--locked":c,"ReactCrop--new-crop":E,"ReactCrop--fixed-aspect":r&&r.aspect,"ReactCrop--circular-crop":r&&a,"ReactCrop--rule-of-thirds":r&&f,"ReactCrop--invisible-crop":!this.dragStarted&&r&&!r.width&&!r.height});return o.a.createElement("div",{ref:function(t){e.componentRef=t},className:C,style:g,onTouchStart:this.onComponentMouseTouchDown,onMouseDown:this.onComponentMouseTouchDown,tabIndex:"0",onKeyDown:this.onComponentKeyDown,onKeyUp:this.onComponentKeyUp},o.a.createElement("div",{ref:function(t){e.mediaWrapperRef=t}},m||o.a.createElement("img",{ref:function(t){return e.imageRef=t},crossOrigin:s,className:"ReactCrop__image",style:v,src:h,onLoad:function(t){return e.onImageLoad(t.target)},onError:p,alt:u})),n,y)}},{key:"mediaDimensions",get:function(){var e=this.mediaWrapperRef;return{width:e.clientWidth,height:e.clientHeight}}}])&&u(t.prototype,n),a&&u(t,a),s}(a.PureComponent);A.xOrds=["e","w"],A.yOrds=["n","s"],A.xyOrds=["nw","ne","se","sw"],A.nudgeStep=1,A.nudgeStepMedium=10,A.nudgeStepLarge=100,A.defaultCrop={x:0,y:0,width:0,height:0,unit:"px"},A.propTypes={className:r.a.string,children:r.a.oneOfType([r.a.arrayOf(r.a.node),r.a.node]),circularCrop:r.a.bool,crop:r.a.shape({aspect:r.a.number,x:r.a.number,y:r.a.number,width:r.a.number,height:r.a.number,unit:r.a.oneOf(["px","%"])}),crossorigin:r.a.string,disabled:r.a.bool,locked:r.a.bool,imageAlt:r.a.string,imageStyle:r.a.shape({}),keepSelection:r.a.bool,minWidth:r.a.number,minHeight:r.a.number,maxWidth:r.a.number,maxHeight:r.a.number,onChange:r.a.func.isRequired,onImageError:r.a.func,onComplete:r.a.func,onImageLoaded:r.a.func,onDragStart:r.a.func,onDragEnd:r.a.func,src:r.a.string.isRequired,style:r.a.shape({}),renderComponent:r.a.node,renderSelectionAddon:r.a.func,ruleOfThirds:r.a.bool},A.defaultProps={circularCrop:!1,className:void 0,crop:void 0,crossorigin:void 0,disabled:!1,locked:!1,imageAlt:"",maxWidth:void 0,maxHeight:void 0,minWidth:0,minHeight:0,keepSelection:!1,onComplete:function(){},onImageError:function(){},onImageLoaded:function(){},onDragStart:function(){},onDragEnd:function(){},children:void 0,style:void 0,renderComponent:void 0,imageStyle:void 0,renderSelectionAddon:void 0,ruleOfThirds:!1}}]))},"./growth/activation/constants/NavigationConstants.ts":function(e,t,n){"use strict";n.r(t),n.d(t,{PARTNER_ONBOARDING_QUERY_KEY:function(){return o},PARTNER_ONBOARDING_QUERY_VALUE:function(){return s},WELCOME_TO_WORKSPACE_MODAL:function(){return a},WELCOME_TO_WORKSPACE_MODAL_VALUE:function(){return i}});const a="workspaceOnboarding",i="show",o="partner_onboarding",s="show"}}]);