"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[149],{"./js/apps/requester/RequesterUI.js":function(e,t,s){s.r(t),s.d(t,{renderRequesterUI:function(){return m}});var o=s("../../node_modules/react/index.js"),n=s("../../node_modules/react-dom/index.js"),r=s("../../node_modules/@postman/aether/esmLib/src/components/Toast/ToastManager.js"),a=s("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i=(s("./styles/requester.scss"),s("./js/utils/TelemetryHelpers.js")),l=s("./js/modules/services/AnalyticsService.js"),c=s("./js/components/empty-states/CrashHandler.js"),d=s("./js/apps/shared/ThemeContext.js"),u=s("./js/containers/apps/requester/Requester.js"),p=s("./js/constants/PrerenderConstants.js");const j=document.getElementById("app-root");function m(e){!function(){let e=document.getElementById("requester-styles");"preload"===e.getAttribute("rel")&&(e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"))}(),function(){let e=document.getElementsByClassName("pm-loader")[0];e&&e.classList.add("is-hidden")}(),e?(0,n.render)(o.createElement(c.default,{showError:!0}),j):(0,n.render)(o.createElement(c.default,{origin:"index"},o.createElement(a.StyleSheetManager,{disableCSSOMInjection:navigator.userAgent.toLowerCase().includes(p.PRERENDER_USER_AGENT_IDENTIFIER)},o.createElement(d.Theme,null,o.createElement(r.ToastProvider,null,o.createElement(u.default,null))))),j,(()=>{let e=(0,i.getWindowLoadTime)();l.default.addEvent("app_performance_metric","requester_window_loaded",null,null,{load_time:e})}))}},"./js/apps/requester/index.js":function(e,t,s){s.r(t),s.d(t,{default:function(){return d}});var o=s("./js/modules/persistent-storage/BroadcastChannelPolyfill.js"),n=s("./js/apps/requester/init.js"),r=s("./js/apps/shared/init.js"),a=s("./js/apps/requester/RequesterUI.js"),i=s("./js/constants/ResourceAnalyticsConstant.js"),l=s("./js/utils/client-load-analytics.js");window.BroadcastChannel=window.BroadcastChannel||o.default;try{performance.mark(i.REQUESTER_SCRIPT_EXEC_START),performance.measure(i.REQUESTER_SCRIPT_TOTAL_TIME,{start:(0,l.getScriptStartTime)(),end:i.REQUESTER_SCRIPT_EXEC_START});const e=(0,l.getResourceDownloadCompleteTime)("requester","link");performance.measure(i.PERF_MEASURE_NAMES.REQUESTER_CHUNK_PARSE_TIME,{start:(null==e?void 0:e.responseEnd)||0})}catch(e){}window.onpageshow=function(e){e.persisted&&window.location.reload()};let c=!1;function d(e){c||r.default.init((()=>{n.default.init((()=>{c=!0,window.dispatchEvent(new CustomEvent("[monolith] requesterInitialized",{detail:!0})),window.WEB_PLATFORM_ENABLED||(0,a.renderRequesterUI)(),e&&e()}))}))}window.requestIdleCallback=window.requestIdleCallback||function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},"./js/apps/requester/init.js":function(e,t,s){s.r(t);var o=s("./node_modules/async/series.js"),n=s.n(o),r=s("./runtime-repl/extensible-collection/datastores/service/bootExtensibleCollections.ts"),a=s("./runtime-repl/_boot/RuntimeInterface.js"),i=s("./flow-runner/api/bootFlows.ts"),l=s("./js/apps/boot/bootDBWatcher.js"),c=s("./js/apps/boot/bootIndependentServices.js"),d=s("./js/apps/boot/bootWindowConfig.js"),u=s("./js/apps/boot/bootRequester.js"),p=s("./js/apps/boot/booted.js"),j=s("./js/apps/boot/bootThemeManager.js"),m=s("./js/apps/boot/bootWorkbenchService.js"),E=s("./js/utils/DisableProcessThrottling.js"),f=s("./node_modules/postman-collection/index.js"),_=s.n(f),b=s("./js/modules/model-event.js"),R=s("./js/apps/boot/initializeNavigationForDomains.js"),S=s("./js/utils/UserOfflineNotifier.js"),T=s("./js/apps/boot/bootContextBarRegistry.js"),g=s("./js/apps/boot/bootShared.js"),w=s("./runtime-repl/_boot/CookiesBootHelper.js"),A=s("./js/apps/boot/bootSharedRuntimeListeners.js"),C=s("./js/modules/wac-migration/triggerWorkspaceMigration.js"),h=s("./js/utils/client-load-analytics.js"),k=s("./js/constants/ResourceAnalyticsConstant.js"),I=s("./js/services/BrowserActiveTrackService.js"),v=s("./node_modules/lodash/lodash.js"),P=s("../../node_modules/console-browserify/index.js");const y={process:"requester",ui:!0};function M(){(0,h.sendClientConnectionAnalytics)(),(0,h.sendResourceAnalytics)("requester"),(0,h.sendMeasureAnalytics)(k.REQUESTER_SCRIPT_TOTAL_TIME),(0,h.sendMeasureAnalytics)({name:k.PERF_MEASURE_NAMES.PAGE_NAVIGATION_TIME,startTime:0,duration:(0,h.getScriptStartTime)()});const e=(0,h.getResourceDownloadCompleteTime)("requester","link");(0,h.sendMeasureAnalytics)(e,"",{name:k.PERF_MEASURE_NAMES.REQUESTER_CHUNK_DOWNLOAD_TIME}),(0,h.sendMeasureAnalytics)(k.PERF_MEASURE_NAMES.REQUESTER_CHUNK_PARSE_TIME),(0,h.sendMeasureAnalytics)(k.PERF_MEASURE_NAMES.REQUESTER_CHUNK_INIT_TIME)}window.pm=window.pm||{},window.process={},t.default={init:e=>{v.assign(window.pm,{windowConfig:y});const t=[C.default,g.default,R.initializeNavigationForDomains,d.bootWindowConfig,c.default,a.default,r.default,i.default,w.cleanupCookies,w.initializeCommunicationForCookies,l.default,j.default,m.default,T.default,u.default,A.default];n()(t,(t=>{(0,p.default)(t);let s=_().Url.parse(location.href).query;if(v.find(s,{key:"access_token"})){P.log("Found access token in URL, logging user in...",s);let e=v.mapValues(v.keyBy(s,"key"),"value"),t={email:e.email,id:e.user_id,name:e.name,username:e.username,auth:{access_token:e.access_token}};pm.eventBus.channel("auth-handler-events").publish((0,b.createEvent)("authenticated","authentication",{userData:t,hasAccounts:!1}))}t&&pm.logger.error("Error in requester boot sequence",t),(0,E.default)(),(0,S.setupSocketStatusReaction)(),performance.measure(k.PERF_MEASURE_NAMES.REQUESTER_CHUNK_INIT_TIME,k.REQUESTER_SCRIPT_EXEC_START),I.default.initTrackStorage(),self.requestIdleCallback(M),e&&e(t)}))}}},"./js/apps/shared/init.js":function(e,t,s){s.r(t);var o=s("./node_modules/async/series.js"),n=s.n(o),r=(s("./js/apps/boot/bootLogger.js"),s("./js/apps/boot/bootConfig.js")),a=(s("./js/apps/boot/bootMessaging.js"),s("./js/apps/boot/bootWLModels.js")),i=s("./js/apps/boot/bootAppModels.js"),l=s("./js/apps/boot/bootSettings.js"),c=s("./js/apps/boot/bootCrashReporter.js"),d=(s("./js/apps/boot/bootTelemetry.js"),s("./js/apps/boot/booted.js")),u=(s("./js/apps/boot/verifyApplicationDowngrade.js"),s("./js/modules/initialize-db/initialize.js"),s("./js/apps/boot/bootConfigurations.js")),p=(s("./js/apps/boot/initializeConfigurationsValues.js"),s("./js/apps/boot/clearConsole.js")),j=s("./runtime-repl/runner/_api/RunnerInterface.js"),m=s("./js/apps/boot/clearAPISchema.js"),E=s("./js/modules/services/AnalyticsService.js"),f=s("./js/utils/DisableProcessThrottling.js"),_=s("./js/utils/MeasurePerformance.js"),b=s("./js/apps/boot/clearEditorDataCache.js"),R=(s("./runtime-repl/_boot/CookiesBootHelper.js"),s("./js/apps/boot/bootIndependentServicesShared.js")),S=s("./js/apps/shared/removeServiceWorkers.js");const T={process:"shared",ui:!1};window.pm=window.pm||{},pm.init=e=>{_.default.markPoint("app_exec:start");const t="browser"===window.SDK_PLATFORM?[r.Config.init(T),S.default,l.default,c.default,u.initializeConfigurations,a.default,i.default,p.clearConsole,j.cleanupRunner,m.default,b.default,R.default]:[];n()(t,(t=>{(0,d.default)(t),t&&(pm.bulkAnalytics&&E.default.addEventV2AndPublish({category:"app_boot_failure",action:t.name,label:t.message},{noActiveWorkspace:!0}),pm.logger.error("Error in the app boot sequence",t)),(0,f.default)(),e&&e(t)}))},t.default=pm},"./js/apps/shared/removeServiceWorkers.js":function(e,t,s){s.r(t),t.default=function(e){"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(e){for(let t of e)t.unregister()})),e&&"function"==typeof e&&e()}},"./js/constants/PrerenderConstants.js":function(e,t,s){s.r(t),s.d(t,{PRERENDER_USER_AGENT_IDENTIFIER:function(){return o}});const o="prerender"},"./js/constants/TrackSupportConstants.js":function(e,t,s){s.r(t),s.d(t,{TRACK_SUPPORTED_CHANNELS:function(){return o}});const o=new Set(["dev","beta","stage"])},"./js/services/BrowserActiveTrackService.js":function(e,t,s){s.r(t);var o=s("./js/utils/ShellHelper.js"),n=s("./js/common/constants/index.js"),r=s("./js/common/utils/url.js"),a=s("./js/constants/TrackSupportConstants.js");const i=s("../../node_modules/parse-domain/lib/parseDomain.js"),l="postman-beta.track",c="default",d=[c],u="tracksList";let p={getCurrentTrack(){let e=document.cookie.split("; ").find((e=>e.startsWith(l)));return e&&e.split("=")[1]||c},setCurrentTrackAndRefresh(e){if(!e)return;let t=`${l}=${e}; path=/; samesite=lax`,s=i(location.host);if(!s)return;t+=`; domain=${`.${s.domain}.${s.tld}`}`,document.cookie=t,location.reload()},getCurrentDesktopTrack(){const e=new URL(window.location.href).searchParams.get("webVersion");return e||c},setDesktopTrackAndRefresh(e){if(!e)return;if("dev"===window.RELEASE_CHANNEL||"prod"===window.RELEASE_CHANNEL)return;let t;if(e===c)return t=(0,r.removeParamsFromUrl)(window.location.href,["webVersion"]),void o.default.sendToMain(n.IPC_EVENT_NAMES.UPDATE_WEBVIEW_URL,t);t=(0,r.addParamsToUrl)(window.location.href,{webVersion:e}),o.default.sendToMain(n.IPC_EVENT_NAMES.UPDATE_WEBVIEW_URL,t)},getActiveTracks:()=>d,initTrackStorage(){if(a.TRACK_SUPPORTED_CHANNELS.has(window.RELEASE_CHANNEL)&&"browser"===window.SDK_PLATFORM)try{const e=this.getCurrentTrack(),t=JSON.parse(localStorage.getItem(u))||[];let s=t;Array.isArray(t)&&(t.includes(e)||t.push(e),t.forEach((e=>{!d.includes(e)&&d.push(e)})),t.length>10&&(s=t.slice(-10)),localStorage.setItem(u,JSON.stringify(s)))}catch(e){pm.logger.error("BrowserActiveTrackService.initTrackStorage",e)}}};t.default=p},"./js/utils/UserOfflineNotifier.js":function(e,t,s){s.r(t),s.d(t,{setupSocketStatusReaction:function(){return d}});var o=s("../../node_modules/mobx/lib/mobx.module.js"),n=s("./js/stores/StoreManager.js"),r=s("./js/stores/SyncStatusStore.js"),a=s("./js/controllers/InfobarBridge.js"),i=s("./js/constants/InAppMessageConstants.js"),l=s("./node_modules/lodash/lodash.js");const c="userOffline";function d(){(0,o.reaction)((()=>(0,n.resolveStoreInstance)(r.default).isSocketConnected),l.debounce((function(e){e?a.default.dismiss(c):a.default.trigger({id:c,message:"You seem to be offline. Data in this workspace might not be up to date.",meta:{targets:[i.WORKSPACE_PRIVATE,i.WORKSPACE_PERSONAL,i.WORKSPACE_TEAM,i.WORKSPACE_PUBLIC]}})}),1e3,{leading:!1,trailing:!0}))}}}]);