"use strict";(self.webpackChunk_postman_app_renderer=self.webpackChunk_postman_app_renderer||[]).push([[82],{"./documentation/components/DocumentationIntersectionObserver/index.js":function(e,t,n){n.r(t),n.d(t,{IntersectionObserverContext:function(){return s.IntersectionObserverContext},useIntersectionObserver:function(){return s.useIntersectionObserver}});var s=n("./documentation/components/DocumentationIntersectionObserver/DocumentationIntersectionObserver.js");t.default=s.default},"./runtime-repl/request-websocket/base/context-bar/WebSocketRequestDocumentation/WebSocketRequestDocumentationView.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var s,r=n("../../node_modules/react/index.js"),o=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),i=n.n(a),c=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),u=n("./appsdk/contextbar/ContextBarViewHeader.js"),l=n("./documentation/components/DocumentationIntersectionObserver/index.js"),d=n("../../packages/documentation/documentation-core/index.js"),m=n("./node_modules/@postman/documentation-core-components/dist/esm/index.js"),p=n("./runtime-repl/extensible-collection/index.ts"),g=n("./documentation/constants.js"),E=n("./runtime-repl/extensible-collection/api/ExtensibleCollectionItemAPI.ts"),f=n("./runtime-repl/_common/DisabledTooltipConstants.js"),h=n("./runtime-repl/request-websocket/socketio/constants/SocketIOConstants.js"),S=n("./runtime-repl/request-websocket/socketio/context-bar/SocketIOMessagesDocumentation/SocketIOMessagesDocumentation.js"),y=n("./runtime-repl/request-websocket/base/constants/WebSocketRequestConstants.js"),b=n("./runtime-repl/request-websocket/raw/context-bar/RawWebSocketMessagesDocumentation/RawWebSocketMessagesDocumentation.js"),_=n("./runtime-repl/request-websocket/raw/configurations/RawWebSocketRequest.ts"),T=n("./runtime-repl/request-websocket/socketio/configurations/SocketIORequest.ts"),O=n("./node_modules/lodash/lodash.js");function C(e){const[t,n]=(0,r.useState)(!1),s=y.SDK_MAP[e.requestType],o=s.isOnline(),a=s.hasPermission(e.requestId,p.ItemAction.SAVE),c=t=>{n(t),e.onDescriptionEditToggle(t)};return r.createElement("div",{className:i()({"websocket-request-description":!0,"websocket-request-description--edit":t})},t&&o?r.createElement(d.DescriptionEditor,{entityType:"request",description:e.description,onCancel:()=>c(!1),onSave:t=>{s.get(e.requestId).then((({extensions:n})=>s.update({id:e.requestId,extensions:O.merge(n,{documentation:{content:t}})}))).then((()=>c(!1))).catch((e=>{pm.logger.error("WebSocketRequestDocumentationView~onSaveDescription",e),pm.toasts.error("Something went wrong while saving the request description.")}))},placeholder:"Make things easier for your teammates with a complete request description.",showWysiwygOption:!0,modelDetails:{model:g.FILE_UPLOAD_MODELS.EXTENSIBLE_COLLECTION_ITEM,modelId:e.requestId}}):r.createElement("div",null,r.createElement(d.DescriptionPreview,{entityType:"request",description:e.description,onEditButtonClick:()=>c(!0),editable:o,canEdit:a,showEmptyPlaceholder:!0,tooltip:o?a?null:f.DISABLED_TOOLTIP_NO_PERMISSION:f.DISABLED_TOOLTIP_IS_OFFLINE})))}let v=(0,o.observer)(s=class extends r.Component{constructor(e){super(e),this.state={descriptionEditMode:!1,theme:pm.settings.getSetting("postmanTheme")},this.onDescriptionEditToggle=this.onDescriptionEditToggle.bind(this)}componentDidMount(){pm.settings.on("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}componentWillUnmount(){pm.settings.off("setSetting:postmanTheme",(()=>{this.setState({theme:pm.settings.getSetting("postmanTheme")})}))}onDescriptionEditToggle(e){this.setState({descriptionEditMode:e})}getSettings(e){let t,n=[];switch(e.type){case _.default.type:t=y.WS_CONNECTION_CONFIG;break;case T.default.type:t=h.SOCKETIO_CONNECTION_CONFIG,n=["version","path"]}return t?O.reduce(t,((t,s)=>{const r=s.id;let o=O.get(e,["payload","settings",r]);if(O.isNil(o)){if(O.isNil(s.defaultValue)||!O.includes(n,r))return t;o=s.defaultValue}return"dropdown"===s.inputFieldType&&s.menuLabels&&(o=s.menuLabels[O.findIndex(s.menuOptions,(e=>e===o))]||o),t.push({key:s.title,value:String(o),description:s.summary}),t}),[]):[]}mapKVDTableItems({key:e,value:t,description:n}){return{key:e,value:null==t?void 0:t.toString(),description:n}}renderMessages(e){switch(e.type){case _.default.type:return r.createElement(b.default,{requestId:e.id});case T.default.type:return r.createElement(S.default,{requestId:e.id});default:return null}}render(){const e=E.default.cacheAPI.get(this.props.contextData.requestId),t=O.get(e,"payload.url");return e?r.createElement(r.Fragment,null,r.createElement(u.ContextBarViewHeader,{title:"Documentation",onClose:this.props.onClose}),r.createElement(m.DocumentationProvider,{theme:this.state.theme},r.createElement(l.default,null,(({rootRef:n})=>r.createElement("div",{ref:n,className:"websocket-request-documentation"},r.createElement("div",{className:"websocket-request-documentation__body"},r.createElement(C,{requestId:e.id,requestType:e.type,description:O.get(e,"extensions.documentation.content"),onDescriptionEditToggle:this.onDescriptionEditToggle}),!this.state.descriptionEditMode&&r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"websocket-request-documentation__body__url"},r.createElement(c.default,{type:"h3",text:"URL"}),r.createElement("div",{className:"request-documentation--url"},r.createElement(m.RequestURI,{request:{uri:t}}))),r.createElement(m.KeyValueDescriptionTableHeading,null,r.createElement("span",null,"Query Params")),0!==O.get(e,"payload.queryParams",[]).length&&r.createElement(m.KeyValueDescriptionTable,{items:O.get(e,"payload.queryParams",[]).map(this.mapKVDTableItems)}),r.createElement(m.KeyValueDescriptionTableHeading,null,r.createElement("span",null,"Headers")),0!==O.get(e,"payload.headers",[]).length&&r.createElement(m.KeyValueDescriptionTable,{items:O.get(e,"payload.headers",[]).map(this.mapKVDTableItems)}),r.createElement(m.KeyValueDescriptionTableHeading,null,r.createElement("span",null,"Settings")),0!==(this.getSettings(e)||[]).length&&r.createElement(m.KeyValueDescriptionTable,{items:(this.getSettings(e)||[]).map(this.mapKVDTableItems)}),this.renderMessages(e)))))))):null}})||s},"./runtime-repl/request-websocket/base/helpers/WebSocketRequestHelper.js":function(e,t,n){n.r(t),n.d(t,{binaryToBase64:function(){return w},createMessage:function(){return L},deserializeHistoryMeta:function(){return F},deserializeMessages:function(){return G},getConnectionCloseInfo:function(){return j},getHeadersKeySuggestions:function(){return P},getHistoryMeatFromRequest:function(){return K},getMessagePreview:function(){return q},isConnectDisabled:function(){return B},isNormalConnectionClose:function(){return W},parseBinaryMessage:function(){return v},prepareHandshakeConfiguration:function(){return M},prepareHandshakeDetails:function(){return x},prepareHeaders:function(){return N},prepareProtocols:function(){return D},resolveVariables:function(){return C},serializeHistoryMeta:function(){return U},serializeMessages:function(){return V},stringToUint8Array:function(){return k},transformMessage:function(){return R},uint8ArrayToString:function(){return I}});var s=n("./node_modules/hexy/hexy.js"),r=n("./node_modules/uuid/v4.js"),o=n.n(r),a=n("./node_modules/semver/semver.js"),i=n.n(a),c=n("./node_modules/postman-collection/index.js"),u=n("./js/stores/StoreManager.js"),l=n("./collaboration/workspace/model/ActiveWorkspacePermissionStore.ts"),d=n("./js/services/ActiveSessionService.js"),m=n("./runtime-repl/_common/WorkspaceHelpers.js"),p=n("./runtime-repl/agent/AgentConstants.js"),g=n("./collaboration/workspace/types/PermissionTypes.ts"),E=n("./runtime-repl/_common/VariableSessionService.js"),f=n("./runtime-repl/request-websocket/base/constants/WebSocketRequestConstants.js"),h=n("./runtime-repl/request-websocket/socketio/constants/SocketIOConstants.js"),S=n("./runtime-repl/request-websocket/base/types/WebSocketMessageTypes.ts"),y=n("./node_modules/lodash/lodash.js"),b=n("../../node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js").Buffer;const _={caps:"upper",format:"twos"};function T(e,t=!0){return new c.HeaderList({},e).toObject(!0,t)}function O(e){if(!/^([a-zA-Z\d+/]{4})*([a-zA-Z\d+/]{3}=|[a-zA-Z\d+/]{2}==)?$/.test(e))throw new SyntaxError("Invalid Base64");return e}async function C(e,t=null){if(y.isEmpty(e))return e;const n=[],{collectionVariables:s,environment:r,globals:o}=await d.default.getActiveSessions({collection:t});return r&&n.push(new c.VariableList(null,r.values)),s&&n.push(new c.VariableList(null,s.values)),o&&n.push(new c.VariableList(null,o.values)),new c.VariableScope(null,n).replaceIn(y.cloneDeep(e))}function v(e,t){let n;if(t===S.WebSocketMessageBodySubType.BASE64){const t=e.split(/\r?\n/).map((e=>e.replace(/\s+/g,""))).filter(Boolean).map(O).map((e=>b.from(e,"base64")));n=b.concat(t)}else{if(t!==S.WebSocketMessageBodySubType.HEX)throw new TypeError(`Unrecognized binary format: ${t}`);n=b.from(function(e){if(!/^([a-fA-F\d]{2})*$/.test(e))throw new SyntaxError("Invalid Hexadecimal");return e}(e.replace(/\s+/g,"")),"hex")}return new Uint8Array(n.buffer,n.byteOffset,n.length)}function w(e){return b.from(e.buffer,e.byteOffset,e.byteLength).toString("base64")}function k(e){const t=new Uint8Array(e.length);for(let n=0,s=e.length;n<s;n++)t[n]=e.charCodeAt(n);return t}function I(e){let t="";for(let n=0,s=e.length;n<s;n++)t+=String.fromCharCode(e[n]);return t}function A(e){const t=y.reduce(f.WS_CONNECTION_CONFIG,((e,t)=>(e[t.id]=t.defaultValue,e)),{}),n=y.assign({},t,e);return n.maxPayload*=1048576,n}function N(e){return T(y.map(e,(e=>({key:e.key,value:e.value,disabled:!1===e.enabled}))))}function D(e){const t=y.keys(e);for(let n=t.length-1;n>=0;n--)if("sec-websocket-protocol"===y.toLower(t[n]))return e[t[n]]}async function M(e,{collection:t}={}){const n=N(e.headers);return C({url:e.url,headers:n,protocols:D(n),options:A(e.settings)},t)}function x(e,t){const n={};return e&&!y.isNil(e.href)&&(n["Request URL"]=e.href),e&&!y.isNil(e.method)&&(n["Request Method"]=e.method),t&&!y.isNil(t.statusCode)&&(n["Status Code"]=`${t.statusCode} ${t.statusMessage}`),e&&!y.isNil(e.headers)&&(n["Request Headers"]=T(e.headers)),t&&!y.isNil(t.headers)&&(n["Response Headers"]=T(t.headers)),y.isEmpty(n)?null:n}function R(e,t,n){let r,o;return f.WEBSOCKET_MESSAGE_VIEWER_MAP[f.IFRAME].has(y.toLower(y.split(t,"/")[0]))?(o=f.IFRAME,r=e):f.WEBSOCKET_MESSAGE_VIEWER_MAP[f.EDITOR].has(t)?(o=f.EDITOR,r=n?(0,s.hexy)(e,_):e):(o=f.EDITOR,e instanceof ArrayBuffer&&(e=new Uint8Array(e)),r=n?(0,s.hexy)(Array.from(e),_):String.fromCharCode.apply(null,e)),{message:r,viewer:o}}function q(e,{message:t,mimeType:n,url:s}={}){switch(e){case f.WEBSOCKET_CONNECTED_MESSAGE:return`Connected to ${s}`;case f.WEBSOCKET_DISCONNECTED_MESSAGE:return`Disconnected from ${s}`;case f.WEBSOCKET_RECONNECTING_MESSAGE:return`Reconnecting to ${s}`;case f.WEBSOCKET_ABORT_MESSAGE:return"Connection aborted";case f.WEBSOCKET_ERROR_MESSAGE:return`Could not connect to ${s}`;case f.WEBSOCKET_INCOMING_MESSAGE:case f.WEBSOCKET_OUTGOING_MESSAGE:{if(y.isNil(t)&&y.isNil(n))return{text:"(empty message)",placeholder:!0};const e=y.toLower(y.split(n,"/")[0]);return f.WEBSOCKET_MESSAGE_SUPPORTED_MEDIA_TYPES.has(e)?{text:y.startCase(e),placeholder:!0,truncated:!1}:y.isString(t)&&f.WEBSOCKET_MESSAGE_READABLE.has(n)?{text:t.substring(0,f.MESSAGE_PREVIEW_TRUNCATE_THRESHOLD),placeholder:!1,truncated:t.length>f.MESSAGE_PREVIEW_TRUNCATE_THRESHOLD}:{text:"Binary",placeholder:!0,truncated:!1}}case h.SOCKETIO_NO_LISTENER_MESSAGE:return"Add event listeners to receive messages";case h.SOCKETIO_SUBSCRIBED_MESSAGE:return"Listening to";case h.SOCKETIO_UNSUBSCRIBED_MESSAGE:return"Stopped listening to";default:return""}}function j(e,t){if(!e)return null;const n=f.WEBSOCKET_CONNECTION_CLOSE_CODES[e];return n?{code:e,name:n.name,description:t||n.description}:f.WEBSOCKET_CONNECTION_CLOSE_CODES.unknown(e,t)}function L(e,t,n){if(!e)throw new Error("WebSocketRequestHelper~createMessage: Cannot create message without type");const s={id:o()(),type:e};return n&&(s.meta=n),t&&(s.payload=t),s}function W(e){return 1e3===e}function B(e,t){if(!(0,m.isLoggedIn)())return{isDisabled:!1};let n;const s=function(e){switch(e){case f.WEBSOCKET_REQUEST_TYPE.SOCKETIO:return h.SOCKETIO_WS_REQUEST_ENABLED_DESKTOP_AGENT_VERSION;case f.WEBSOCKET_REQUEST_TYPE.RAW:return f.RAW_WS_REQUEST_ENABLED_DESKTOP_AGENT_VERSION;default:return"0.0.0"}}(e),r=i().valid(i().coerce(pm.runtime.version)),o=(0,u.resolveStoreInstance)(l.default),a=o&&o.permissions,c=y.get(a,g.WORKSPACE_PERMISSIONS.ADD_HISTORY_TO_WORKSPACE,!0),d=(0,m.canJoinWorkspace)(),E=Boolean(!c||y.isEmpty(t)&&(n=f.DISABLED_TOOLTIP_TEXT.emptyURL)||"browser"===window.SDK_PLATFORM&&(y.get(pm.runtime.agent,"stat.type")!==p.TYPES.WS&&(n=f.DISABLED_TOOLTIP_TEXT.nonWsAgent)||!pm.runtime.agent.isReady&&(n=f.DISABLED_TOOLTIP_TEXT.agentNotConnected)||r&&s&&i().lt(r,s)&&(n=f.DISABLED_TOOLTIP_TEXT.oldAgent(e))));return n||(!c&&d?n=f.DISABLED_TOOLTIP_TEXT.notMember:c||d||(n=f.DISABLED_TOOLTIP_TEXT.noPermission)),{isDisabled:E,reason:n}}function P(){return[{value:"Connection"},{value:"Cookie"},{value:"Host"},{value:"Origin"},{value:"Sec-WebSocket-Extensions"},{value:"Sec-WebSocket-Key"},{value:"Sec-WebSocket-Origin"},{value:"Sec-WebSocket-Protocol"},{value:"Sec-WebSocket-Version"},{value:"Upgrade"},{value:"User-Agent"}]}function K(e){return{url:(e=y.cloneDeep(e)).url,headers:e.headers||[],queryParams:e.queryParams||[],settings:e.settings||{},createdAt:(new Date).toISOString()}}function H(e,t,n){let s=e&&e.constructor.name;if(!s)return{preview:n};const r={type:s};switch(s){case"Uint8Array":e=I(e);break;case"Object":e=JSON.stringify(e);break;default:e=String(e),s="String"}return r.payload=e,y.includes(f.WEBSOCKET_META_MESSAGES,t)&&(r.preview=n),r}function V(e){const t=[];return e.forEach((e=>{e.removeFromHistory||t.push({id:e.id,type:e.type,data:H(e.payload,e.type,y.get(e.meta,"preview")),meta:y.omit(e.meta,["preview"])})})),t}function G(e,t){const n=new Map;return y.isEmpty(t)||t.forEach((t=>{let s="";try{s=function({payload:e,type:t}={}){if(t)switch(t){case"Uint8Array":return k(e);case"Object":return JSON.parse(e);default:return String(e)}}(t.data)}catch(e){pm.logger.error("WebSocketRequestHelper~deserializeMessages",e)}const r=t.id;n.set(r,{id:r,type:t.type,meta:y.assign(t.meta,{preview:t.data.preview||q(t.type,{message:s,mimeType:t.meta.mimeType,url:e})}),payload:s})})),n}function U(e){return y.assign({},y.cloneDeep(e),{headers:(0,E.mapEnableToDisable)(e.headers),queryParams:(0,E.mapEnableToDisable)(e.queryParams)})}function F(e){return y.assign({},e,{headers:(0,E.mapDisableToEnable)(e.headers),queryParams:(0,E.mapDisableToEnable)(e.queryParams)})}},"./runtime-repl/request-websocket/raw/context-bar/RawWebSocketMessagesDocumentation/RawWebSocketMessagesDocumentation.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),r=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),o=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),a=n("../../packages/documentation/documentation-core/index.js"),i=n("./runtime-repl/extensible-collection/api/ExtensibleCollectionItemAPI.ts"),c=n("./runtime-repl/request-websocket/base/constants/WebSocketRequestConstants.js"),u=n("./runtime-repl/request-websocket/base/types/WebSocketMessageTypes.ts"),l=n("./runtime-repl/request-websocket/raw/configurations/RawWebSocketMessage.ts"),d=n("./node_modules/lodash/lodash.js");const m=(0,r.observer)((e=>{const t=d.filter(d.get(i.default.cacheAPI.get(e.requestId),"childrenItems"),(e=>e.type===l.default.type));return d.isEmpty(t)?null:s.createElement("div",{className:"raw-websocket-messages-documentation"},s.createElement(o.default,{type:"h3",text:"Messages",color:"content-color-primary"}),d.map(t,(e=>{if(!e||!e.payload)return null;const{type:t,subtype:n,content:r}=e.payload,i=t===u.WebSocketMessageBodyType.BINARY?n:t;return s.createElement("div",{className:"raw-websocket-messages-documentation__item",key:e.id},s.createElement(o.default,{type:"h6",text:e.title,hasBottomSpacing:!0,color:"content-color-primary",isTruncated:!0}),s.createElement(a.EnhancedCode,{name:e.title,body:r,language:i,selectedLanguage:c.USER_FRIENDLY_LANGUAGE_NAME[i],highlightSyntaxByDefault:!0,className:"highlighted-code--documentation",enableClickToExpand:!0}))})))}));t.default=m},"./runtime-repl/request-websocket/socketio/constants/SocketIOConstants.js":function(e,t,n){n.r(t),n.d(t,{CONNECTION_EVENT_TO_HANDLER_MAP:function(){return c},EVENT_COLOR_CODE_SET:function(){return i},SOCKETIO_CONNECTION_CLOSE_CODES:function(){return u},SOCKETIO_CONNECTION_CONFIG:function(){return l},SOCKETIO_NO_LISTENER_MESSAGE:function(){return o},SOCKETIO_SUBSCRIBED_MESSAGE:function(){return s},SOCKETIO_UNSUBSCRIBED_MESSAGE:function(){return r},SOCKETIO_WS_REQUEST_ENABLED_DESKTOP_AGENT_VERSION:function(){return a}});const s="meta_subscribed",r="meta_unsubscribed",o="meta_no_listener",a="0.3.9",i=["#FF8E64","#74AEF6","#38CC74","#EB2013","#FFCF3F","#FDA4D4","#C0A8E1","#3FD6E6"],c={connect:"onConnect",message:"onMessage",error:"onError",reconnect:"onReconnect",end:"onEnd"},u={"io server disconnect":{name:"IO server disconnect",description:"The server has forcefully disconnected the socket."},"io client disconnect":{name:"IO client disconnect",description:"The socket was manually disconnected."},"ping timeout":{name:"Ping timeout",description:"The server did not respond in the pingTimeout range."},"transport close":{name:"Transport close",description:"The connection was closed."},"transport error":{name:"Transport error",description:"The connection has encountered an error."},unknown:e=>({name:"Error",description:e||"Connection was closed due to an unknown error."})},l=[{id:"version",title:"Client version",inputFieldType:"dropdown",inputType:"string",menuOptions:["2","3","4"],menuLabels:["v2","v3","v4"],defaultValue:"3",description:"Choose client version that should be used for connecting with the server.",summary:"Client version that will be used for connecting with the server."},{id:"path",title:"Handshake path",inputFieldType:"input",inputType:"string",defaultValue:"/socket.io",description:"Set the server path that should be used during the handshake request.",summary:"Server path that will be used during the handshake request."},{id:"handshakeTimeout",title:"Handshake request timeout",inputFieldType:"input",inputType:"number",defaultValue:0,description:"Set how long the handshake request should wait before timing out in milliseconds. To never time out, set to 0.",summary:"How long the handshake request will  wait before timing out in milliseconds."},{id:"retryCount",title:"Reconnection attempts",inputFieldType:"input",inputType:"number",defaultValue:0,description:"Maximum reconnection attempts when the connection closes abruptly.",summary:"Maximum reconnection attempts when the connection closes abruptly."},{id:"retryDelay",title:"Reconnection intervals",inputFieldType:"input",inputType:"number",defaultValue:5e3,description:"Interval between each reconnection attempt in milliseconds.",summary:"Interval between each reconnection attempt in milliseconds."}]},"./runtime-repl/request-websocket/socketio/context-bar/SocketIOMessagesDocumentation/SocketIOMessagesDocumentation.js":function(e,t,n){n.r(t);var s=n("../../node_modules/react/index.js"),r=n("./node_modules/classnames/index.js"),o=n.n(r),a=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),i=n("../../node_modules/@postman/aether/esmLib/src/components/Heading/Heading.js"),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../packages/documentation/documentation-core/index.js"),l=n("./runtime-repl/extensible-collection/api/ExtensibleCollectionItemAPI.ts"),d=n("./runtime-repl/request-websocket/base/constants/WebSocketRequestConstants.js"),m=n("./runtime-repl/request-websocket/socketio/workbench/components/MultiArgMessageEditor/MultiArgMessageEditor.js"),p=n("./runtime-repl/request-websocket/base/types/WebSocketMessageTypes.ts"),g=n("./runtime-repl/request-websocket/socketio/configurations/SocketIOMessage.ts"),E=n("./node_modules/lodash/lodash.js");function f(e){var t;const[n,r]=(0,s.useState)(0),{message:a}=e;return null!=a&&null!==(t=a.payload)&&void 0!==t&&t.args?s.createElement("div",{className:"socketio-messages-documentation__event__snippet",key:a.id},s.createElement(i.default,{type:"h6",text:a.title,hasBottomSpacing:!0,color:"content-color-secondary",isTruncated:!0}),s.createElement(m.default,{args:a.payload.args,activeArg:n,onActiveArgChange:e=>r(e),className:"socketio-messages-documentation__event__snippet__multi-arg",readOnly:!0,renderMessageContent:e=>{const{type:t,subtype:n,content:r}=a.payload.args[e],i=t===p.WebSocketMessageBodyType.BINARY?n:t;return s.createElement(u.EnhancedCode,{name:a.title,body:r,language:i,selectedLanguage:d.USER_FRIENDLY_LANGUAGE_NAME[i],highlightSyntaxByDefault:!0,className:o()({"socketio-messages-documentation__event__snippet__code":!0,"highlighted-code--documentation":!0})})}})):null}const h=(0,a.observer)((e=>{const t=l.default.cacheAPI.get(e.requestId),n=E.get(t,"payload.events"),r=E.filter(t.childrenItems,(e=>e.type===g.default.type));if(E.isEmpty(r)&&E.isEmpty(n))return null;let o=E.reduce(n,((e,t)=>(t&&t.name&&(e[t.name]={description:t.description,messages:[]}),e)),{});const a=[];return o=E.reduce(r,((e,t)=>{if(!t||!t.payload)return e;const{eventName:n="message"}=t.payload;return"message"!==n||e[n]?(!e[n]&&(e[n]={messages:[]}),e[n].messages.push(t),e):(a.push(t),e)}),o),a.length&&(o.message={messages:a}),s.createElement("div",{className:"socketio-messages-documentation"},s.createElement(i.default,{type:"h3",text:"Events",color:"content-color-primary"}),E.map(o,(({description:e,messages:t},n)=>s.createElement("div",{className:"socketio-messages-documentation__event",key:n},s.createElement(i.default,{type:"h4",text:n,color:"content-color-primary",isTruncated:!0}),e&&s.createElement(c.default,{type:"body-medium",color:"content-color-primary"},e),!E.isEmpty(t)&&E.map(t,(e=>s.createElement(f,{key:e.id,message:e})))))))}));t.default=h},"./runtime-repl/request-websocket/socketio/helpers/SocketIORequestHelper.js":function(e,t,n){n.r(t),n.d(t,{deserializeMessages:function(){return E},getArgName:function(){return f},getConnectionCloseInfo:function(){return u},getRgbAndHSlVariableString:function(){return c},isNormalConnectionClose:function(){return l},prepareHandshakeConfiguration:function(){return m},sanitizeEvents:function(){return d},serializeMessages:function(){return g}});var s=n("./runtime-repl/request-websocket/base/constants/WebSocketRequestConstants.js"),r=n("./runtime-repl/request-websocket/base/helpers/WebSocketRequestHelper.js"),o=n("./runtime-repl/request-websocket/socketio/constants/SocketIOConstants.js"),a=n("./node_modules/lodash/lodash.js");function i(e){const t=a.reduce(o.SOCKETIO_CONNECTION_CONFIG,((e,t)=>(e[t.id]=t.defaultValue,e)),{});return a.assign({},t,e)}function c(e){if(!e)return;const{r:t,g:n,b:s}=function(e){const t=parseInt(e.slice(1),16);return{r:t>>16&255,g:t>>8&255,b:255&t}}(e),{h:r,s:o,l:a}=function(e,t,n){let s,r,o,a;e/=255,t/=255,n/=255;const i=Math.max(e,t,n),c=Math.min(e,t,n);if(r=0,a=0,o=(i+c)/2,i===c)r=0,a=0;else{switch(s=i-c,a=o>.5?s/(2-i-c):s/(i+c),i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return r=Math.round(360*r),a=Math.round(100*a),o=Math.round(100*o),{h:r,s:a,l:o}}(t,n,s);return`--r:${t};--g:${n};--b:${s};--h:${r};--s:${o};--l:${a};`}function u(e){const t=o.SOCKETIO_CONNECTION_CLOSE_CODES[e];return t?{name:t.name,description:t.description}:o.SOCKETIO_CONNECTION_CLOSE_CODES.unknown(e)}function l(e){return"IO client disconnect"===e}function d(e){return a.chain(e).filter((e=>e.subscribeOnConnect&&e.name)).map((e=>e.name)).uniq().value()}async function m(e,{collection:t}={}){const n=(0,r.prepareHeaders)(e.headers),s=d(e.listeners);return(0,r.resolveVariables)({url:e.url,headers:n,listeners:s,options:i(e.settings)},t)}function p(e,t,n){let o=e&&e.constructor.name;if(!o)return{preview:n};const i={type:o};switch(o){case"Array":e=JSON.stringify(a.map(e,(({id:e,name:t,value:n,meta:s})=>(ArrayBuffer.isView(n)&&(n=(0,r.uint8ArrayToString)(n)),{id:e,name:t,value:n,meta:s}))));break;case"Object":e=JSON.stringify(e);break;default:e=String(e),o="String"}return i.payload=e,a.includes(s.WEBSOCKET_META_MESSAGES,t)&&(i.preview=n),i}function g(e){const t=[];return e.forEach((e=>{e.removeFromHistory||t.push({id:e.id,type:e.type,data:p(e.payload,e.type,a.get(e.meta,"preview")),meta:a.omit(e.meta,["preview"])})})),t}function E(e,t){const n=new Map;return a.isEmpty(t)||a.forEach(t,(t=>{let o="";try{o=function({payload:e,type:t}={}){if(t)switch(t){case"Array":return a.map(JSON.parse(e),(e=>(a.get(e,"meta.mimeType")===s.APPLICATION_OCTET_STREAM&&(e.value=(0,r.stringToUint8Array)(e.value)),e)));case"Object":return JSON.parse(e);default:return String(e)}}(t.data)}catch(e){pm.logger.error("SocketIORequestHelper~deserializeMessages",e)}const i=t.id;let c={};c=a.isArray(o)?{value:a.get(o,[0,"value"]),mimeType:a.get(o,[0,"meta","mimeType"])}:{value:o,mimeType:t.meta.mimeType},n.set(i,{id:i,type:t.type,meta:a.assign(t.meta,{preview:t.data.preview||(0,r.getMessagePreview)(t.type,{message:c.value,mimeType:c.mimeType,url:e})}),payload:o})})),n}function f(e){return`Arg ${e+1}`}},"./runtime-repl/request-websocket/socketio/workbench/components/MultiArgMessageEditor/MultiArgMessageEditor.js":function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var s,r=n("../../node_modules/react/index.js"),o=n("../../node_modules/mobx-react/dist/mobx-react.module.js"),a=n("./node_modules/classnames/index.js"),i=n.n(a),c=n("../../node_modules/@postman/aether/esmLib/src/components/Text/Text.js"),u=n("../../node_modules/@postman/aether-icons/esmLib/src/Icon/Icon.js"),l=n("./runtime-repl/request-websocket/socketio/helpers/SocketIORequestHelper.js"),d=n("./node_modules/lodash/lodash.js");const m=e=>{const t=(0,r.useRef)(null),n=(0,r.useRef)(null),[s,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{e.readOnly||n&&n.current&&n.current.scrollIntoView()}),[]),r.createElement("div",{className:i()("args-nav-bar-item",{"is-active":e.isActive}),onClick:()=>e.onSelect(e.index),onMouseOver:()=>{t.current&&clearTimeout(t.current),t.current=setTimeout((()=>{o(!0)}),200)},onMouseOut:()=>{t.current&&clearTimeout(t.current),t.current=setTimeout((()=>{o(!1)}),200)},ref:n},r.createElement(c.default,{type:"body-small",color:e.isActive?"content-color-primary":"content-color-secondary",isTruncated:!0},e.isActive?r.createElement(c.default,{type:"strong"},e.name):e.name),!e.readOnly&&!e.isLast&&s&&r.createElement("div",{className:"args-nav-bar-item__close",onClick:t=>{t&&t.stopPropagation(),e.onClose(e.index)}},r.createElement(u.default,{name:"icon-state-fail",color:"content-color-primary"})))},p=e=>r.createElement("div",{className:"args-nav-bar"},d.map(e.args,((t,n)=>r.createElement(m,{key:n,index:n,name:(0,l.getArgName)(n),isActive:e.activeArg===n,onSelect:e.onSelect,onClose:e.onClose,isLast:1===e.args.length,readOnly:e.readOnly}))));let g=(0,o.observer)(s=class extends r.Component{constructor(e){super(e),this.onArgClose=this.onArgClose.bind(this)}componentDidMount(){this.props.onActiveArgChange&&this.props.onActiveArgChange(this.props.activeArg)}onArgClose(e){if(this.props.readOnly)return;const{args:t}=this.props;if(!(t&&t.length<=1)){if(e===this.props.activeArg){const t=e<=0?0:e-1;this.props.onActiveArgChange&&this.props.onActiveArgChange(t)}this.props.onArgClose(e)}}render(){return r.createElement("div",{className:i()("multi-arg-message-editor",this.props.className)},this.props.args.length>=2&&r.createElement(p,{activeArg:this.props.activeArg,args:this.props.args,onSelect:this.props.onActiveArgChange,onClose:this.onArgClose,readOnly:this.props.readOnly}),this.props.renderMessageContent(this.props.activeArg))}})||s},"./node_modules/hexy/hexy.js":function(e,t,n){var s,r,o=n("../../node_modules/node-polyfill-webpack-plugin/node_modules/buffer/index.js").Buffer;(r=function(e,t){var n=this;switch(void 0!==o&&(e=o.isBuffer(e)&&e||"string"==typeof e&&o.from(e)||e&&e.constructor===Array&&o.from(e)||o.alloc(0)),e=e||[],t=t||{},n.buffer=e,n.width=parseInt(t.width)||16,n.numbering="none"==t.numbering?"none":"hex_bytes",t.format){case"none":case"twos":case"eights":n.format=t.format;break;default:n.format="fours"}n.caps="upper"==t.caps?"upper":"lower",n.annotate="none"==t.annotate?"none":"ascii",n.prefix=t.prefix||"",n.indent=t.indent||0,n.html=t.html||!1,n.offset=t.offset||0,n.length=t.length||-1,n.display_offset=t.display_offset||0,n.offset&&n.offset<n.buffer.length&&(n.buffer=n.buffer.slice(n.offset)),-1!==n.length&&n.length<=n.buffer.length&&(n.buffer=n.buffer.slice(0,n.length));for(var s=0;s!=n.indent;++s)n.prefix=" "+n.prefix;this.toString=function(){var e="";n.html&&(e+="<div class='hexy'>\n");for(var t=r(),s=0;s!=t.length;++s){var o=t[s],a=o[0],i=o[1],d=a.length;"eights"===n.format?d=8:"fours"===n.format?d=4:"twos"===n.format&&(d=2);for(var m="",p=0;p<a.length;p+=d)m+=a.substr(p,d)+" ";var g=s*n.width+n.offset+n.display_offset;if(n.html){var E=s%2==0?" even":"  odd";e+="<div class='"+c(g,8)+E+"'>"}e+=n.prefix,"hex_bytes"===n.numbering&&(e+=c(g,8),e+=": ");var f=0;switch(n.format){case"eights":f=2*n.width+Math.floor(n.width/4);break;case"fours":f=2*n.width+Math.floor(n.width/2);break;case"twos":f=3*n.width+2;break;default:f=2*n.width+1}if(e+=u(m,f),"ascii"===n.annotate){e+=" ";var h=i.replace(/[\000-\040\177-\377]/g,".");n.html?e+=l(h):e+=h}n.html?e+="</div>\n":e+="\n"}return n.html&&(e+="</div>\n"),e};var r=function(){for(var e=[],t=0;t<n.buffer.length;t+=n.width){var s=t,r=t+n.width>=n.buffer.length?n.buffer.length:t+n.width,o=n.buffer.slice(s,r),c="upper"===n.caps?i(o):a(o),u=o.toString("ascii");n.buffer.constructor==Array&&(u=String.fromCharCode.apply(n,o)),e.push([c,u])}return e},a=function(e){for(var t="",n=0;n!=e.length;++n)e.constructor==String?t+=c(e.charCodeAt(n),2):t+=c(e[n],2);return t},i=function(e){return a(e).toUpperCase()},c=function(e,t){for(var n=e.toString(16);n.length<t;)n="0"+n;return n},u=function(e,t){for(var s=t-e.length;s>0;--s)n.html?e+="&nbsp;":e+=" ";return e},l=function(e){return e=(e=(e=e.split("&").join("&amp;")).split("<").join("&lt;")).split(">").join("&gt;")}}).VERSION="0.3.1",(s=t).hexy=function(e,t){return new r(e,t).toString()},s.Hexy=r}}]);